!function(e){function t(e,t,o){return 4===arguments.length?n.apply(this,arguments):void r(e,{declarative:!0,deps:t,declare:o})}function n(e,t,n,o){r(e,{declarative:!1,deps:t,executingRequire:n,execute:o})}function r(e,t){t.name=e,e in m||(m[e]=t),t.normalizedDeps=t.deps}function o(e,t){if(t[e.groupIndex]=t[e.groupIndex]||[],-1==v.call(t[e.groupIndex],e)){t[e.groupIndex].push(e);for(var n=0,r=e.normalizedDeps.length;r>n;n++){var i=e.normalizedDeps[n],a=m[i];if(a&&!a.evaluated){var u=e.groupIndex+(a.declarative!=e.declarative);if(void 0===a.groupIndex||a.groupIndex<u){if(void 0!==a.groupIndex&&(t[a.groupIndex].splice(v.call(t[a.groupIndex],a),1),0==t[a.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");a.groupIndex=u}o(a,t)}}}}function i(e){var t=m[e];t.groupIndex=0;var n=[];o(t,n);for(var r=!!t.declarative==n.length%2,i=n.length-1;i>=0;i--){for(var a=n[i],s=0;s<a.length;s++){var l=a[s];r?u(l):c(l)}r=!r}}function a(e){return x[e]||(x[e]={name:e,dependencies:[],exports:{},importers:[]})}function u(t){if(!t.module){var n=t.module=a(t.name),r=t.module.exports,o=t.declare.call(e,function(e,t){if(n.locked=!0,"object"==typeof e)for(var o in e)r[o]=e[o];else r[e]=t;for(var i=0,a=n.importers.length;a>i;i++){var u=n.importers[i];if(!u.locked)for(var s=0;s<u.dependencies.length;++s)u.dependencies[s]===n&&u.setters[s](r)}return n.locked=!1,t},t.name);n.setters=o.setters,n.execute=o.execute;for(var i=0,s=t.normalizedDeps.length;s>i;i++){var c,l=t.normalizedDeps[i],p=m[l],d=x[l];d?c=d.exports:p&&!p.declarative?c=p.esModule:p?(u(p),d=p.module,c=d.exports):c=h(l),d&&d.importers?(d.importers.push(n),n.dependencies.push(d)):n.dependencies.push(null),n.setters[i]&&n.setters[i](c)}}}function s(e){var t,n=m[e];if(n)n.declarative?f(e,[]):n.evaluated||c(n),t=n.module.exports;else if(t=h(e),!t)throw new Error("Unable to load dependency "+e+".");return(!n||n.declarative)&&t&&t.__useDefault?t["default"]:t}function c(t){if(!t.module){var n={},r=t.module={exports:n,id:t.name};if(!t.executingRequire)for(var o=0,i=t.normalizedDeps.length;i>o;o++){var a=t.normalizedDeps[o],u=m[a];u&&c(u)}t.evaluated=!0;var p=t.execute.call(e,function(e){for(var n=0,r=t.deps.length;r>n;n++)if(t.deps[n]==e)return s(t.normalizedDeps[n]);throw new TypeError("Module "+e+" not declared as a dependency.")},n,r);p&&(r.exports=p),n=r.exports,n&&n.__esModule?t.esModule=n:t.esModule=l(n)}}function l(e){var t={};if("object"==typeof e||"function"==typeof e){var n=e&&e.hasOwnProperty;if(g)for(var r in e)d(t,e,r)||p(t,e,r,n);else for(var r in e)p(t,e,r,n)}return t["default"]=e,b(t,"__useDefault",{value:!0}),t}function p(e,t,n,r){(!r||t.hasOwnProperty(n))&&(e[n]=t[n])}function d(e,t,n){try{var r;return(r=Object.getOwnPropertyDescriptor(t,n))&&b(e,n,r),!0}catch(o){return!1}}function f(t,n){var r=m[t];if(r&&!r.evaluated&&r.declarative){n.push(t);for(var o=0,i=r.normalizedDeps.length;i>o;o++){var a=r.normalizedDeps[o];-1==v.call(n,a)&&(m[a]?f(a,n):h(a))}r.evaluated||(r.evaluated=!0,r.module.execute.call(e))}}function h(e){if(_[e])return _[e];if("@node/"==e.substr(0,6))return E(e.substr(6));var t=m[e];if(!t)throw"Module "+e+" not present.";return i(e),f(e,[]),m[e]=void 0,t.declarative&&b(t.module.exports,"__esModule",{value:!0}),_[e]=t.declarative?t.module.exports:t.esModule}var m={},v=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},g=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(y){g=!1}var b;!function(){try{Object.defineProperty({},"a",{})&&(b=Object.defineProperty)}catch(e){b=function(e,t,n){try{e[t]=n.value||n.get.call(e)}catch(r){}}}}();var x={},E="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,_={"@empty":{}};return function(e,r,o){return function(i){i(function(i){for(var a={_nodeRequire:E,register:t,registerDynamic:n,get:h,set:function(e,t){_[e]=t},newModule:function(e){return e}},u=0;u<r.length;u++)(function(e,t){t&&t.__esModule?_[e]=t:_[e]=l(t)})(r[u],arguments[u]);o(a);var s=h(e[0]);if(e.length>1)for(var u=1;u<e.length;u++)h(e[u]);return s.__useDefault?s["default"]:s})}}}("undefined"!=typeof self?self:global)(["1","2"],[],function(e){this.require,this.exports,this.module;e.registerDynamic("3",["6","4","5"],!0,function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e("6"),i=e("4"),a=e("5");return o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;r>e&&n[e]===o[e];e++);var a=r-e;for(t=1;a>=t&&n[r-t]===o[i-t];t++);var u=t>1?1-t:void 0;return this._fallbackText=o.slice(e,u),this._fallbackText}}),i.addPoolingTo(r),n.exports=r,n.exports}),e.registerDynamic("7",["8"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("8"),i={data:null};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("9",["8"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("8"),i={data:null};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("a",["b","c","d","3","7","9","e"],!0,function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case N.topCompositionStart:return S.compositionStart;case N.topCompositionEnd:return S.compositionEnd;case N.topCompositionUpdate:return S.compositionUpdate}}function a(e,t){return e===N.topKeyDown&&t.keyCode===E}function u(e,t){switch(e){case N.topKeyUp:return-1!==x.indexOf(t.keyCode);case N.topKeyDown:return t.keyCode!==E;case N.topKeyPress:case N.topMouseDown:case N.topBlur:return!0;default:return!1}}function s(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function c(e,t,n,r){var o,c;if(_?o=i(e):k?u(e,n)&&(o=S.compositionEnd):a(e,n)&&(o=S.compositionStart),!o)return null;P&&(k||o!==S.compositionStart?o===S.compositionEnd&&k&&(c=k.getData()):k=v.getPooled(r));var l=g.getPooled(o,t,n,r);if(c)l.data=c;else{var p=s(n);null!==p&&(l.data=p)}return h.accumulateTwoPhaseDispatches(l),l}function l(e,t){switch(e){case N.topCompositionEnd:return s(t);case N.topKeyPress:var n=t.which;return n!==w?null:(M=!0,T);case N.topTextInput:var r=t.data;return r===T&&M?null:r;default:return null}}function p(e,t){if(k){if(e===N.topCompositionEnd||u(e,t)){var n=k.getData();return v.release(k),k=null,n}return null}switch(e){case N.topPaste:return null;case N.topKeyPress:return t.which&&!o(t)?String.fromCharCode(t.which):null;case N.topCompositionEnd:return P?null:t.data;default:return null}}function d(e,t,n,r){var o;if(o=D?l(e,n):p(e,n),!o)return null;var i=y.getPooled(S.beforeInput,t,n,r);return i.data=o,h.accumulateTwoPhaseDispatches(i),i}var f=e("b"),h=e("c"),m=e("d"),v=e("3"),g=e("7"),y=e("9"),b=e("e"),x=[9,13,27,32],E=229,_=m.canUseDOM&&"CompositionEvent"in window,C=null;m.canUseDOM&&"documentMode"in document&&(C=document.documentMode);var D=m.canUseDOM&&"TextEvent"in window&&!C&&!r(),P=m.canUseDOM&&(!_||C&&C>8&&11>=C),w=32,T=String.fromCharCode(w),N=f.topLevelTypes,S={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[N.topCompositionEnd,N.topKeyPress,N.topTextInput,N.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[N.topBlur,N.topCompositionEnd,N.topKeyDown,N.topKeyPress,N.topKeyUp,N.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[N.topBlur,N.topCompositionStart,N.topKeyDown,N.topKeyPress,N.topKeyUp,N.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[N.topBlur,N.topCompositionUpdate,N.topKeyDown,N.topKeyPress,N.topKeyUp,N.topMouseDown]}},M=!1,k=null,O={eventTypes:S,extractEvents:function(e,t,n,r){return[c(e,t,n,r),d(e,t,n,r)]}};return n.exports=O,n.exports}),e.registerDynamic("f",["b","10","c","d","11","12","8","13","14","15","e","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=D.getPooled(M.change,O,e,P(e));x.accumulateTwoPhaseDispatches(t),C.batchedUpdates(i,t)}function i(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){k=e,O=t,k.attachEvent("onchange",o)}function u(){k&&(k.detachEvent("onchange",o),k=null,O=null)}function s(e,t){return e===S.topChange?t:void 0}function c(e,t,n){e===S.topFocus?(u(),a(t,n)):e===S.topBlur&&u()}function l(e,t){k=e,O=t,I=e.value,R=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(k,"value",L),k.attachEvent?k.attachEvent("onpropertychange",d):k.addEventListener("propertychange",d,!1)}function p(){k&&(delete k.value,k.detachEvent?k.detachEvent("onpropertychange",d):k.removeEventListener("propertychange",d,!1),k=null,O=null,I=null,R=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==I&&(I=t,o(e))}}function f(e,t){return e===S.topInput?t:void 0}function h(e,t,n){e===S.topFocus?(p(),l(t,n)):e===S.topBlur&&p()}function m(e,t){return e!==S.topSelectionChange&&e!==S.topKeyUp&&e!==S.topKeyDown||!k||k.value===I?void 0:(I=k.value,O)}function v(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t){return e===S.topClick?t:void 0}var y=e("b"),b=e("10"),x=e("c"),E=e("d"),_=e("11"),C=e("12"),D=e("8"),P=e("13"),w=e("14"),T=e("15"),N=e("e"),S=y.topLevelTypes,M={change:{phasedRegistrationNames:{bubbled:N({onChange:null}),captured:N({onChangeCapture:null})},dependencies:[S.topBlur,S.topChange,S.topClick,S.topFocus,S.topInput,S.topKeyDown,S.topKeyUp,S.topSelectionChange]}},k=null,O=null,I=null,R=null,A=!1;E.canUseDOM&&(A=w("change")&&(!("documentMode"in document)||document.documentMode>8));var F=!1;E.canUseDOM&&(F=w("input")&&(!("documentMode"in document)||document.documentMode>11));var L={get:function(){return R.get.call(this)},set:function(e){I=""+e,R.set.call(this,e)}},U={eventTypes:M,extractEvents:function(e,t,n,o){var i,a,u=t?_.getNodeFromInstance(t):window;if(r(u)?A?i=s:a=c:T(u)?F?i=f:(i=m,a=h):v(u)&&(i=g),i){var l=i(e,t);if(l){var p=D.getPooled(M.change,l,n,o);return p.type="change",x.accumulateTwoPhaseDispatches(p),p}}a&&a(e,u,t)}};n.exports=U}(e("16")),n.exports}),e.registerDynamic("17",["e"],!0,function(e,t,n){"use strict";var r=e("e"),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];return n.exports=o,n.exports}),e.registerDynamic("18",["b","c","11","19","e"],!0,function(e,t,n){"use strict";var r=e("b"),o=e("c"),i=e("11"),a=e("19"),u=e("e"),s=r.topLevelTypes,c={mouseEnter:{registrationName:u({onMouseEnter:null}),dependencies:[s.topMouseOut,s.topMouseOver]},mouseLeave:{registrationName:u({onMouseLeave:null}),dependencies:[s.topMouseOut,s.topMouseOver]}},l={eventTypes:c,extractEvents:function(e,t,n,r){if(e===s.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==s.topMouseOut&&e!==s.topMouseOver)return null;var u;if(r.window===r)u=r;else{var l=r.ownerDocument;u=l?l.defaultView||l.parentWindow:window}var p,d;if(e===s.topMouseOut){p=t;var f=n.relatedTarget||n.toElement;d=f?i.getClosestInstanceFromNode(f):null}else p=null,d=t;if(p===d)return null;var h=null==p?u:i.getNodeFromInstance(p),m=null==d?u:i.getNodeFromInstance(d),v=a.getPooled(c.mouseLeave,p,n,r);v.type="mouseleave",v.target=h,v.relatedTarget=m;var g=a.getPooled(c.mouseEnter,d,n,r);return g.type="mouseenter",g.target=m,g.relatedTarget=h,o.accumulateEnterLeaveDispatches(v,g,p,d),[v,g]}};return n.exports=l,n.exports}),e.registerDynamic("1a",["1b"],!0,function(e,t,n){"use strict";var r=e("1b"),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_SIDE_EFFECTS,u=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,c=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,"default":i,defer:i,dir:0,disabled:i,download:c,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:u,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:u,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:o|a,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};return n.exports=l,n.exports}),e.registerDynamic("1c",["11","1d"],!0,function(e,t,n){"use strict";var r=e("11"),o=e("1d"),i={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};return n.exports=i,n.exports}),e.registerDynamic("1e",[],!0,function(e,t,n){"use strict";function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;return n.exports=r,n.exports}),e.registerDynamic("1f",["1e"],!0,function(e,t,n){"use strict";function r(e){return o(e.replace(i,"ms-"))}var o=e("1e"),i=/^-ms-/;return n.exports=r,n.exports}),e.registerDynamic("20",[],!0,function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){i.forEach(function(t){o[r(t,e)]=o[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},u={isUnitlessNumber:o,shorthandPropertyExpansions:a};return n.exports=u,n.exports}),e.registerDynamic("21",["20","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){var r=null==t||"boolean"==typeof t||""===t;if(r)return"";var o=isNaN(t);if(o||0===t||i.hasOwnProperty(e)&&i[e])return""+t;if("string"==typeof t){t=t.trim()}return t+"px"}var o=e("20"),i=(e("22"),o.isUnitlessNumber);n.exports=r}(e("16")),n.exports}),e.registerDynamic("23",[],!0,function(e,t,n){"use strict";function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;return n.exports=r,n.exports}),e.registerDynamic("24",["23"],!0,function(e,t,n){"use strict";function r(e){return o(e).replace(i,"-ms-")}var o=e("23"),i=/^ms-/;return n.exports=r,n.exports}),e.registerDynamic("25",[],!0,function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}return n.exports=r,n.exports}),e.registerDynamic("26",["20","d","27","1f","21","24","25","22","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("20"),o=e("d"),i=(e("27"),e("1f"),e("21")),a=e("24"),u=e("25"),s=(e("22"),u(function(e){return a(e)})),c=!1,l="cssFloat";if(o.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(d){c=!0}void 0===document.documentElement.style.cssFloat&&(l="styleFloat")}var f={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];null!=o&&(n+=s(r)+":",n+=i(r,o,t)+";")}return n||null},setValueForStyles:function(e,t,n){var o=e.style;for(var a in t)if(t.hasOwnProperty(a)){var u=i(a,t[a],n);if("float"!==a&&"cssFloat"!==a||(a=l),u)o[a]=u;else{var s=c&&r.shorthandPropertyExpansions[a];if(s)for(var p in s)o[p]="";else o[a]=""}}}};n.exports=f}(e("16")),n.exports}),e.registerDynamic("28",["29","11","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("29"),o=e("11"),i={dangerouslyProcessChildrenUpdates:function(e,t){var n=o.getNodeFromInstance(e);r.processUpdates(n,t)}};n.exports=i}(e("16")),n.exports}),e.registerDynamic("2a",["29","28","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("29"),o=e("28"),i={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,unmountIDFromEnvironment:function(e){}};n.exports=i}(e("16")),n.exports}),e.registerDynamic("2b",["2c"],!0,function(e,t,n){"use strict";var r=e("2c"),o={getNativeProps:r.getNativeProps};return n.exports=o,n.exports}),e.registerDynamic("2d",["6","2c","2e","2f","11","12","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);l.asap(r,this);var o=t.name;if("radio"===t.type&&null!=o){for(var i=c.getNodeFromInstance(this),a=i;a.parentNode;)a=a.parentNode;for(var u=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),d=0;d<u.length;d++){var f=u[d];if(f!==i&&f.form===i.form){var h=c.getInstanceFromNode(f);h?void 0:p(!1),l.asap(r,h)}}}return n}var i=e("6"),a=e("2c"),u=e("2e"),s=e("2f"),c=e("11"),l=e("12"),p=e("30"),d=(e("22"),{getNativeProps:function(e,t){var n=s.getValue(t),r=s.getChecked(t),o=i({type:void 0},a.getNativeProps(e,t),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&u.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=s.getValue(t);null!=r&&u.setValueForProperty(c.getNodeFromInstance(e),"value",""+r)}});n.exports=d}(e("16")),n.exports}),e.registerDynamic("31",["6","32","11","33","22","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("6"),o=e("32"),i=e("11"),a=e("33"),u=(e("22"),{mountWrapper:function(e,t,n){var r=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._nativeParent),null!=o&&"select"===o._tag&&(r=a.getSelectValueContext(o))}var i=null;if(null!=r)if(i=!1,Array.isArray(r)){for(var u=0;u<r.length;u++)if(""+r[u]==""+t.value){i=!0;break}}else i=""+r==""+t.value;e._wrapperState={selected:i}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=i.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getNativeProps:function(e,t){var n=r({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var i="";return o.forEach(t.children,function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(i+=e))}),i&&(n.children=i),n}});n.exports=u}(e("16")),n.exports}),e.registerDynamic("33",["6","2c","2f","11","12","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function o(e,t,n){var r,o,i=c.getNodeFromInstance(e).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function i(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),l.asap(r,this),n}var a=e("6"),u=e("2c"),s=e("2f"),c=e("11"),l=e("12"),p=(e("22"),!1),d={getNativeProps:function(e,t){return a({},u.getNativeProps(e,t),{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:i.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||p||(p=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=s.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};n.exports=d}(e("16")),n.exports}),e.registerDynamic("2c",[],!0,function(e,t,n){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},o={getNativeProps:function(e,t){if(!t.disabled)return t;var n={};for(var o in t)!r[o]&&t.hasOwnProperty(o)&&(n[o]=t[o]);return n}};return n.exports=o,n.exports}),e.registerDynamic("34",["1b","35","22","16"],!0,function(e,t,n){return function(t){"use strict";var r,o=(e("1b"),e("35"),e("22"),{onCreateMarkupForProperty:function(e,t){r(e)},onSetValueForProperty:function(e,t,n){r(t)},onDeleteValueForProperty:function(e,t){r(t)}});n.exports=o}(e("16")),n.exports}),e.registerDynamic("36",["34","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n,r,o,i){}var o=e("34"),i=(e("22"),[]),a={addDevtool:function(e){i.push(e)},removeDevtool:function(e){for(var t=0;t<i.length;t++)i[t]===e&&(i.splice(t,1),t--)},onCreateMarkupForProperty:function(e,t){r("onCreateMarkupForProperty",e,t)},onSetValueForProperty:function(e,t,n){r("onSetValueForProperty",e,t,n)},onDeleteValueForProperty:function(e,t){r("onDeleteValueForProperty",e,t)}};a.addDevtool(o),n.exports=a}(e("16")),n.exports}),e.registerDynamic("37",["36"],!0,function(e,t,n){"use strict";var r=e("36");return n.exports={debugTool:r},n.exports}),e.registerDynamic("38",["39"],!0,function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=e("39");return n.exports=r,n.exports}),e.registerDynamic("2e",["1b","11","37","27","38","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return c.hasOwnProperty(e)?!0:s.hasOwnProperty(e)?!1:u.test(e)?(c[e]=!0,!0):(s[e]=!0,!1)}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var i=e("1b"),a=(e("11"),e("37"),e("27"),e("38")),u=(e("22"),new RegExp("^["+i.ATTRIBUTE_NAME_START_CHAR+"]["+i.ATTRIBUTE_NAME_CHAR+"]*$")),s={},c={},l={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return i.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(i.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+a(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(o(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty){var u=r.propertyName;r.hasSideEffects&&""+e[u]==""+n||(e[u]=n)}else{var s=r.attributeName,c=r.attributeNamespace;c?e.setAttributeNS(c,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(i.isCustomAttribute(t))return void l.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){if(r(t)){null==n?e.removeAttribute(t):e.setAttribute(t,""+n)}},deleteValueForProperty:function(e,t){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:n.hasSideEffects&&""+e[o]==""||(e[o]="")}else e.removeAttribute(n.attributeName)}else i.isCustomAttribute(t)&&e.removeAttribute(t)}};n.exports=l}(e("16")),n.exports}),e.registerDynamic("2f",["3a","3b","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?c(!1):void 0}function o(e){r(e),null!=e.value||null!=e.onChange?c(!1):void 0}function i(e){r(e),null!=e.checked||null!=e.onChange?c(!1):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var u=e("3a"),s=e("3b"),c=e("30"),l=(e("22"),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(e,t,n){return!e[t]||l[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},d={},f={checkPropTypes:function(e,t,n){for(var r in p){if(p.hasOwnProperty(r))var o=p[r](t,r,e,s.prop);if(o instanceof Error&&!(o.message in d)){d[o.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};n.exports=f}(e("16")),n.exports}),e.registerDynamic("3c",["6","2c","2e","2f","11","12","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return l.asap(r,this),n}var i=e("6"),a=e("2c"),u=e("2e"),s=e("2f"),c=e("11"),l=e("12"),p=e("30"),d=(e("22"),{getNativeProps:function(e,t){null!=t.dangerouslySetInnerHTML?p(!1):void 0;var n=i({},a.getNativeProps(e,t),{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=t.defaultValue,r=t.children;null!=r&&(null!=n?p(!1):void 0,Array.isArray(r)&&(r.length<=1?void 0:p(!1),r=r[0]),n=""+r),null==n&&(n="");var i=s.getValue(t);e._wrapperState={initialValue:""+(null!=i?i:n),listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=s.getValue(t);null!=n&&u.setValueForProperty(c.getNodeFromInstance(e),"value",""+n)}});n.exports=d}(e("16")),n.exports}),e.registerDynamic("3d",["3e","3f","40","41","42","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){var r=void 0===e[n];null!=t&&r&&(e[n]=i(t))}var o=e("3e"),i=e("3f"),a=(e("40"),e("41")),u=e("42"),s=(e("22"),{instantiateChildren:function(e,t,n){if(null==e)return null;var o={};return u(e,r,o),o},updateChildren:function(e,t,n,r,u){if(t||e){var s,c;for(s in t)if(t.hasOwnProperty(s)){c=e&&e[s];var l=c&&c._currentElement,p=t[s];if(null!=c&&a(l,p))o.receiveComponent(c,p,r,u),t[s]=c;else{c&&(n[s]=o.getNativeNode(c),o.unmountComponent(c,!1));var d=i(p);t[s]=d}}for(s in e)!e.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||(c=e[s],n[s]=o.getNativeNode(c),o.unmountComponent(c,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];o.unmountComponent(r,t)}}});n.exports=s}(e("16")),n.exports}),e.registerDynamic("43",["40","42","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){var r=e,o=void 0===r[n];o&&null!=t&&(r[n]=t)}function o(e){if(null==e)return e;var t={};return i(e,r,t),t}var i=(e("40"),e("42"));e("22");n.exports=o}(e("16")),n.exports}),e.registerDynamic("44",["45","27","46","47","3e","3d","48","43","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){return{type:p.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function o(e,t,n){return{type:p.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:d.getNativeNode(e),toIndex:n,afterNode:t}}function i(e,t){return{type:p.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:p.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e){return{type:p.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e,t){return t&&(e=e||[],e.push(t)),e}function c(e,t){l.processChildrenUpdates(e,t)}var l=e("45"),p=(e("27"),e("46")),d=(e("47"),e("3e")),f=e("3d"),h=(e("48"),e("43")),m=e("30"),v={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return f.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,o){var i;return i=h(t),f.updateChildren(e,i,n,r,o),i},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a],s=d.mountComponent(u,t,this,this._nativeContainerInfo,n);u._mountIndex=i++,o.push(s)}return o},updateTextContent:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&m(!1);var r=[u(e)];c(this,r)},updateMarkup:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&m(!1);var r=[a(e)];c(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n);
},_updateChildren:function(e,t,n){var r=this._renderedChildren,o={},i=this._reconcilerUpdateChildren(r,e,o,t,n);if(i||r){var a,u=null,l=0,p=0,f=null;for(a in i)if(i.hasOwnProperty(a)){var h=r&&r[a],m=i[a];h===m?(u=s(u,this.moveChild(h,f,p,l)),l=Math.max(h._mountIndex,l),h._mountIndex=p):(h&&(l=Math.max(h._mountIndex,l)),u=s(u,this._mountChildAtIndex(m,f,p,t,n))),p++,f=d.getNativeNode(m)}for(a in o)o.hasOwnProperty(a)&&(u=s(u,this._unmountChild(r[a],o[a])));u&&c(this,u),this._renderedChildren=i}},unmountChildren:function(e){var t=this._renderedChildren;f.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){return e._mountIndex<r?o(e,t,n):void 0},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return i(e,t)},_mountChildAtIndex:function(e,t,n,r,o){var i=d.mountComponent(e,r,this,this._nativeContainerInfo,o);return e._mountIndex=n,this.createChild(e,t,i)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}};n.exports=v}(e("16")),n.exports}),e.registerDynamic("49",["6","4","4a"],!0,function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1}var o=e("6"),i=e("4"),a=e("4a"),u=[],s={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return s},destructor:function(){},checkpoint:function(){},rollback:function(){}};return o(r.prototype,a.Mixin,c),i.addPoolingTo(r),n.exports=r,n.exports}),e.registerDynamic("4b",["6","1c","26","4c","4d","1b","2e","b","10","35","4e","2a","2b","4f","11","2d","31","33","3c","27","44","49","48","39","30","14","e","51","50","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){t&&(X[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?R(!1):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?R(!1):void 0,"object"==typeof t.dangerouslySetInnerHTML&&W in t.dangerouslySetInnerHTML?void 0:R(!1)),null!=t.style&&"object"!=typeof t.style?R(!1):void 0)}function o(e,t,n,r){if(!(r instanceof O)){var o=e._nativeContainerInfo,a=o._node&&o._node.nodeType===K,u=a?o._node:o._ownerDocument;j(t,u),r.getReactMountReady().enqueue(i,{inst:e,registrationName:t,listener:n})}}function i(){var e=this;x.putListener(e.inst,e.registrationName,e.listener)}function a(){var e=this;N.postMountWrapper(e)}function u(){var e=this;e._rootNodeID?void 0:R(!1);var t=U(e);switch(t?void 0:R(!1),e._tag){case"iframe":case"object":e._wrapperState.listeners=[_.trapBubbledEvent(b.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in Y)Y.hasOwnProperty(n)&&e._wrapperState.listeners.push(_.trapBubbledEvent(b.topLevelTypes[n],Y[n],t));break;case"img":e._wrapperState.listeners=[_.trapBubbledEvent(b.topLevelTypes.topError,"error",t),_.trapBubbledEvent(b.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[_.trapBubbledEvent(b.topLevelTypes.topReset,"reset",t),_.trapBubbledEvent(b.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[_.trapBubbledEvent(b.topLevelTypes.topInvalid,"invalid",t)]}}function s(){S.postUpdateWrapper(this)}function c(e){J.call(Q,e)||($.test(e)?void 0:R(!1),Q[e]=!0)}function l(e,t){return e.indexOf("-")>=0||null!=t.is}function p(e){var t=e.type;c(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._nativeNode=null,this._nativeParent=null,this._rootNodeID=null,this._domID=null,this._nativeContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var d=e("6"),f=e("1c"),h=e("26"),m=e("4c"),v=e("4d"),g=e("1b"),y=e("2e"),b=e("b"),x=e("10"),E=e("35"),_=e("4e"),C=e("2a"),D=e("2b"),P=e("4f"),w=e("11"),T=e("2d"),N=e("31"),S=e("33"),M=e("3c"),k=(e("27"),e("44")),O=e("49"),I=(e("48"),e("39")),R=e("30"),A=(e("14"),e("e")),F=(e("51"),e("50"),e("22"),P),L=x.deleteListener,U=w.getNodeFromInstance,j=_.listenTo,B=E.registrationNameModules,V={string:!0,number:!0},q=A({style:null}),W=A({__html:null}),H={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},K=11,Y={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},z={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},G={listing:!0,pre:!0,textarea:!0},X=d({menuitem:!0},z),$=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Q={},J={}.hasOwnProperty,Z=1;p.displayName="ReactDOMComponent",p.Mixin={mountComponent:function(e,t,n,o){this._rootNodeID=Z++,this._domID=n._idCounter++,this._nativeParent=t,this._nativeContainerInfo=n;var i=this._currentElement.props;switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(u,this);break;case"button":i=D.getNativeProps(this,i,t);break;case"input":T.mountWrapper(this,i,t),i=T.getNativeProps(this,i),e.getReactMountReady().enqueue(u,this);break;case"option":N.mountWrapper(this,i,t),i=N.getNativeProps(this,i);break;case"select":S.mountWrapper(this,i,t),i=S.getNativeProps(this,i),e.getReactMountReady().enqueue(u,this);break;case"textarea":M.mountWrapper(this,i,t),i=M.getNativeProps(this,i),e.getReactMountReady().enqueue(u,this)}r(this,i);var s,c;null!=t?(s=t._namespaceURI,c=t._tag):n._tag&&(s=n._namespaceURI,c=n._tag),(null==s||s===v.svg&&"foreignobject"===c)&&(s=v.html),s===v.html&&("svg"===this._tag?s=v.svg:"math"===this._tag&&(s=v.mathml)),this._namespaceURI=s;var l;if(e.useCreateElement){var p,d=n._ownerDocument;if(s===v.html)if("script"===this._tag){var h=d.createElement("div"),g=this._currentElement.type;h.innerHTML="<"+g+"></"+g+">",p=h.removeChild(h.firstChild)}else p=d.createElement(this._currentElement.type,i.is||null);else p=d.createElementNS(s,this._currentElement.type);w.precacheNode(this,p),this._flags|=F.hasCachedChildNodes,this._nativeParent||y.setAttributeForRoot(p),this._updateDOMProperties(null,i,e);var b=m(p);this._createInitialChildren(e,i,o,b),l=b}else{var x=this._createOpenTagMarkupAndPutListeners(e,i),E=this._createContentMarkup(e,i,o);l=!E&&z[this._tag]?x+"/>":x+">"+E+"</"+this._currentElement.type+">"}switch(this._tag){case"button":case"input":case"select":case"textarea":i.autoFocus&&e.getReactMountReady().enqueue(f.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(a,this)}return l},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(B.hasOwnProperty(r))i&&o(this,r,i,e);else{r===q&&(i&&(i=this._previousStyleCopy=d({},t.style)),i=h.createMarkupForStyles(i,this));var a=null;null!=this._tag&&l(this._tag,t)?H.hasOwnProperty(r)||(a=y.createMarkupForCustomAttribute(r,i)):a=y.createMarkupForProperty(r,i),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._nativeParent||(n+=" "+y.createMarkupForRoot()),n+=" "+y.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=V[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=I(i);else if(null!=a){var u=this.mountChildren(a,e,n);r=u.join("")}}return G[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&m.queueHTML(r,o.__html);else{var i=V[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)m.queueText(r,i);else if(null!=a)for(var u=this.mountChildren(a,e,n),s=0;s<u.length;s++)m.queueChild(r,u[s])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,o){var i=t.props,a=this._currentElement.props;switch(this._tag){case"button":i=D.getNativeProps(this,i),a=D.getNativeProps(this,a);break;case"input":T.updateWrapper(this),i=T.getNativeProps(this,i),a=T.getNativeProps(this,a);break;case"option":i=N.getNativeProps(this,i),a=N.getNativeProps(this,a);break;case"select":i=S.getNativeProps(this,i),a=S.getNativeProps(this,a);break;case"textarea":M.updateWrapper(this),i=M.getNativeProps(this,i),a=M.getNativeProps(this,a)}r(this,a),this._updateDOMProperties(i,a,e),this._updateDOMChildren(i,a,e,o),"select"===this._tag&&e.getReactMountReady().enqueue(s,this)},_updateDOMProperties:function(e,t,n){var r,i,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===q){var u=this._previousStyleCopy;for(i in u)u.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else B.hasOwnProperty(r)?e[r]&&L(this,r):(g.properties[r]||g.isCustomAttribute(r))&&y.deleteValueForProperty(U(this),r);for(r in t){var s=t[r],c=r===q?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&s!==c&&(null!=s||null!=c))if(r===q)if(s?s=this._previousStyleCopy=d({},s):this._previousStyleCopy=null,c){for(i in c)!c.hasOwnProperty(i)||s&&s.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in s)s.hasOwnProperty(i)&&c[i]!==s[i]&&(a=a||{},a[i]=s[i])}else a=s;else if(B.hasOwnProperty(r))s?o(this,r,s,n):c&&L(this,r);else if(l(this._tag,t))H.hasOwnProperty(r)||y.setValueForAttribute(U(this),r,s);else if(g.properties[r]||g.isCustomAttribute(r)){var p=U(this);null!=s?y.setValueForProperty(p,r,s):y.deleteValueForProperty(p,r)}}a&&h.setValueForStyles(U(this),a,this)},_updateDOMChildren:function(e,t,n,r){var o=V[typeof e.children]?e.children:null,i=V[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,u=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=null!=o?null:e.children,c=null!=i?null:t.children,l=null!=o||null!=a,p=null!=i||null!=u;null!=s&&null==c?this.updateChildren(null,n,r):l&&!p&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=u?a!==u&&this.updateMarkup(""+u):null!=c&&this.updateChildren(c,n,r)},getNativeNode:function(){return U(this)},unmountComponent:function(e){switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":R(!1)}this.unmountChildren(e),w.uncacheNode(this),x.deleteAllListeners(this),C.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._domID=null,this._wrapperState=null},getPublicInstance:function(){return U(this)}},d(p.prototype,p.Mixin,k.Mixin),n.exports=p}(e("16")),n.exports}),e.registerDynamic("52",["6","4c","11"],!0,function(e,t,n){"use strict";var r=e("6"),o=e("4c"),i=e("11"),a=function(e){this._currentElement=null,this._nativeNode=null,this._nativeParent=null,this._nativeContainerInfo=null,this._domID=null};return r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._nativeParent=t,this._nativeContainerInfo=n;var u=" react-empty: "+this._domID+" ";if(e.useCreateElement){var s=n._ownerDocument,c=s.createComment(u);return i.precacheNode(this,c),o(c)}return e.renderToStaticMarkup?"":"<!--"+u+"-->"},receiveComponent:function(){},getNativeNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),n.exports=a,n.exports}),e.registerDynamic("53",["30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){"_nativeNode"in e?void 0:s(!1),"_nativeNode"in t?void 0:s(!1);for(var n=0,r=e;r;r=r._nativeParent)n++;for(var o=0,i=t;i;i=i._nativeParent)o++;for(;n-o>0;)e=e._nativeParent,n--;for(;o-n>0;)t=t._nativeParent,o--;for(var a=n;a--;){if(e===t)return e;e=e._nativeParent,t=t._nativeParent}return null}function o(e,t){"_nativeNode"in e?void 0:s(!1),"_nativeNode"in t?void 0:s(!1);for(;t;){if(t===e)return!0;t=t._nativeParent}return!1}function i(e){return"_nativeNode"in e?void 0:s(!1),e._nativeParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._nativeParent;var o;for(o=r.length;o-- >0;)t(r[o],!1,n);for(o=0;o<r.length;o++)t(r[o],!0,n)}function u(e,t,n,o,i){for(var a=e&&t?r(e,t):null,u=[];e&&e!==a;)u.push(e),e=e._nativeParent;for(var s=[];t&&t!==a;)s.push(t),t=t._nativeParent;var c;for(c=0;c<u.length;c++)n(u[c],!0,o);for(c=s.length;c-- >0;)n(s[c],!1,i)}var s=e("30");n.exports={isAncestor:o,getLowestCommonAncestor:r,getParentInstance:i,traverseTwoPhase:a,traverseEnterLeave:u}}(e("16")),n.exports}),e.registerDynamic("54",["30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),o=0;t>o;o++)r[o]=e[o];return r}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=e("30");n.exports=i}(e("16")),n.exports}),e.registerDynamic("55",["d","54","56","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){var t=e.match(l);return t&&t[1].toLowerCase()}function o(e,t){var n=c;c?void 0:s(!1);var o=r(e),i=o&&u(o);if(i){n.innerHTML=i[1]+e+i[2];for(var l=i[0];l--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t?void 0:s(!1),a(p).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var i=e("d"),a=e("54"),u=e("56"),s=e("30"),c=i.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;n.exports=o}(e("16")),n.exports}),e.registerDynamic("56",["d","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return a?void 0:i(!1),d.hasOwnProperty(e)||(e="*"),u.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",u[e]=!a.firstChild),u[e]?d[e]:null}var o=e("d"),i=e("30"),a=o.canUseDOM?document.createElement("div"):null,u={},s=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:l,th:l},f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(e){d[e]=p,u[e]=!0}),n.exports=r}(e("16")),n.exports}),e.registerDynamic("57",["4c","d","55","48","56","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var o=e("4c"),i=e("d"),a=e("55"),u=e("48"),s=e("56"),c=e("30"),l=/^(<[^ \/>]+)/,p="data-danger-index",d={dangerouslyRenderMarkup:function(e){i.canUseDOM?void 0:c(!1);for(var t,n={},o=0;o<e.length;o++)e[o]?void 0:c(!1),t=r(e[o]),t=s(t)?t:"*",n[t]=n[t]||[],n[t][o]=e[o];var d=[],f=0;for(t in n)if(n.hasOwnProperty(t)){var h,m=n[t];for(h in m)if(m.hasOwnProperty(h)){var v=m[h];m[h]=v.replace(l,"$1 "+p+'="'+h+'" ')}for(var g=a(m.join(""),u),y=0;y<g.length;++y){var b=g[y];b.hasAttribute&&b.hasAttribute(p)&&(h=+b.getAttribute(p),b.removeAttribute(p),d.hasOwnProperty(h)?c(!1):void 0,d[h]=b,f+=1)}}return f!==d.length?c(!1):void 0,d.length!==e.length?c(!1):void 0,d},dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM?void 0:c(!1),t?void 0:c(!1),"HTML"===e.nodeName?c(!1):void 0,"string"==typeof t){var n=a(t,u)[0];e.parentNode.replaceChild(n,e)}else o.replaceChildWithTree(e,t)}};n.exports=d}(e("16")),n.exports}),e.registerDynamic("46",["58"],!0,function(e,t,n){"use strict";var r=e("58"),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});return n.exports=o,n.exports}),e.registerDynamic("29",["4c","57","46","11","27","59","5a","5b","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function o(e,t,n){l.insertTreeBefore(e,t,n)}function i(e,t,n){Array.isArray(t)?u(e,t[0],t[1],n):v(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],s(e,t,n),e.removeChild(n)}e.removeChild(t)}function u(e,t,n,r){for(var o=t;;){var i=o.nextSibling;if(v(e,o,r),o===n)break;o=i}}function s(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function c(e,t,n){var r=e.parentNode,o=e.nextSibling;o===t?n&&v(r,document.createTextNode(n),o):n?(m(o,n),s(r,o,t)):s(r,e,t)}var l=e("4c"),p=e("57"),d=e("46"),f=(e("11"),e("27"),e("59")),h=e("5a"),m=e("5b"),v=f(function(e,t,n){e.insertBefore(t,n)}),g=p.dangerouslyReplaceNodeWithMarkup,y={dangerouslyReplaceNodeWithMarkup:g,replaceDelimitedText:c,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var u=t[n];switch(u.type){case d.INSERT_MARKUP:o(e,u.content,r(e,u.afterNode));break;case d.MOVE_EXISTING:i(e,u.fromNode,r(e,u.afterNode));break;case d.SET_MARKUP:h(e,u.content);break;case d.TEXT_CONTENT:m(e,u.content);break;case d.REMOVE_NODE:a(e,u.fromNode)}}}};n.exports=y}(e("16")),n.exports}),e.registerDynamic("5c",["6","29","4c","11","27","39","30","50","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("6"),o=e("29"),i=e("4c"),a=e("11"),u=(e("27"),e("39")),s=e("30"),c=(e("50"),function(e){this._currentElement=e,this._stringText=""+e,this._nativeNode=null,this._nativeParent=null,this._domID=null,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});r(c.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++,s=" react-text: "+o+" ",c=" /react-text ";if(this._domID=o,this._nativeParent=t,e.useCreateElement){var l=n._ownerDocument,p=l.createComment(s),d=l.createComment(c),f=i(l.createDocumentFragment());return i.queueChild(f,i(p)),this._stringText&&i.queueChild(f,i(l.createTextNode(this._stringText))),i.queueChild(f,i(d)),a.precacheNode(this,p),this._closingComment=d,f}var h=u(this._stringText);return e.renderToStaticMarkup?h:"<!--"+s+"-->"+h+"<!--"+c+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getNativeNode();o.replaceDelimitedText(r[0],r[1],n)}}},getNativeNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=a.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?s(!1):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._nativeNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,a.uncacheNode(this)}}),n.exports=c}(e("16")),n.exports}),e.registerDynamic("5d",["6","12","4a","48"],!0,function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=e("6"),i=e("12"),a=e("4a"),u=e("48"),s={initialize:u,close:function(){d.isBatchingUpdates=!1}},c={initialize:u,close:i.flushBatchedUpdates.bind(i)},l=[c,s];o(r.prototype,a.Mixin,{getTransactionWrappers:function(){return l}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=d.isBatchingUpdates;d.isBatchingUpdates=!0,a?e(t,n,r,o,i):p.perform(e,null,t,n,r,o,i)}};return n.exports=d,n.exports}),e.registerDynamic("5e",[],!0,function(e,t,n){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}return n.exports=r,n.exports}),e.registerDynamic("5f",["6","60","d","4","11","12","13","5e","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){for(;e._nativeParent;)e=e._nativeParent;var t=p.getNodeFromInstance(e),n=t.parentNode;return p.getClosestInstanceFromNode(n)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){var t=f(e.nativeEvent),n=p.getClosestInstanceFromNode(t),o=n;do e.ancestors.push(o),o=o&&r(o);while(o);for(var i=0;i<e.ancestors.length;i++)n=e.ancestors[i],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,f(e.nativeEvent))}function a(e){var t=h(window);e(t)}var u=e("6"),s=e("60"),c=e("d"),l=e("4"),p=e("11"),d=e("12"),f=e("13"),h=e("5e");u(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(o,l.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?s.listen(r,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?s.capture(r,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);s.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=o.getPooled(e,t);try{d.batchedUpdates(i,n)}finally{o.release(n)}}}};n.exports=m}(e("16")),n.exports}),e.registerDynamic("61",["1b","10","62","45","63","64","4e","65","12"],!0,function(e,t,n){"use strict";var r=e("1b"),o=e("10"),i=e("62"),a=e("45"),u=e("63"),s=e("64"),c=e("4e"),l=e("65"),p=e("12"),d={Component:a.injection,Class:u.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:c.injection,NativeComponent:l.injection,Updates:p.injection};return n.exports=d,n.exports}),e.registerDynamic("66",["6","67","4","4e","68","4a"],!0,function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=e}var o=e("6"),i=e("67"),a=e("4"),u=e("4e"),s=e("68"),c=e("4a"),l={initialize:s.getSelectionInformation,close:s.restoreSelection},p={initialize:function(){var e=u.isEnabled();return u.setEnabled(!1),e},close:function(e){u.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[l,p,d],h={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};return o(r.prototype,c.Mixin,h),a.addPoolingTo(r),n.exports=r,n.exports}),e.registerDynamic("69",[],!0,function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering","in":0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};return Object.keys(o).forEach(function(e){i.Properties[e]=0,o[e]&&(i.DOMAttributeNames[e]=o[e])}),n.exports=i,n.exports}),e.registerDynamic("6a",[],!0,function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var n=r(e),i=0,a=0;n;){if(3===n.nodeType){if(a=i+n.textContent.length,t>=i&&a>=t)return{node:n,offset:t-i};i=a}n=r(o(n))}}return n.exports=i,n.exports}),e.registerDynamic("5",["d"],!0,function(e,t,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=e("d"),i=null;return n.exports=r,n.exports}),e.registerDynamic("6b",["d","6a","5"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length,a=i+r;return{start:i,end:a}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,u=t.getRangeAt(0);try{u.startContainer.nodeType,u.endContainer.nodeType}catch(s){return null}var c=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),l=c?0:u.toString().length,p=u.cloneRange();p.selectNodeContents(e),p.setEnd(u.startContainer,u.startOffset);var d=r(p.startContainer,p.startOffset,p.endContainer,p.endOffset),f=d?0:p.toString().length,h=f+l,m=document.createRange();m.setStart(n,o),m.setEnd(i,a);var v=m.collapsed;return{start:v?h:f,end:v?f:h}}function a(e,t){var n,r,o=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function u(e,t){if(window.getSelection){var n=window.getSelection(),r=e[l()].length,o=Math.min(t.start,r),i=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var u=c(e,o),s=c(e,i);if(u&&s){var p=document.createRange();p.setStart(u.node,u.offset),n.removeAllRanges(),o>i?(n.addRange(p),n.extend(s.node,s.offset)):(p.setEnd(s.node,s.offset),n.addRange(p))}}}var s=e("d"),c=e("6a"),l=e("5"),p=s.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:i,setOffsets:p?a:u};return n.exports=d,n.exports}),e.registerDynamic("6c",[],!0,function(e,t,n){"use strict";function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}return n.exports=r,n.exports}),e.registerDynamic("6d",["6c"],!0,function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=e("6c");return n.exports=r,n.exports}),e.registerDynamic("6e",["6d"],!0,function(e,t,n){"use strict";function r(e,t){return e&&t?e===t?!0:o(e)?!1:o(t)?r(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}var o=e("6d");return n.exports=r,n.exports}),e.registerDynamic("1d",[],!0,function(e,t,n){"use strict";function r(e){try{e.focus()}catch(t){}}return n.exports=r,n.exports}),e.registerDynamic("68",["6b","6e","1d","6f"],!0,function(e,t,n){"use strict";function r(e){return i(document.documentElement,e)}var o=e("6b"),i=e("6e"),a=e("1d"),u=e("6f"),s={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable);
},getSelectionInformation:function(){var e=u();return{focusedElem:e,selectionRange:s.hasSelectionCapabilities(e)?s.getSelection(e):null}},restoreSelection:function(e){var t=u(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(s.hasSelectionCapabilities(n)&&s.setSelection(n,o),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};return n.exports=s,n.exports}),e.registerDynamic("6f",[],!0,function(e,t,n){"use strict";function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}return n.exports=r,n.exports}),e.registerDynamic("15",[],!0,function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&o[e.type]||"textarea"===t)}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};return n.exports=r,n.exports}),e.registerDynamic("51",[],!0,function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;return n.exports=o,n.exports}),e.registerDynamic("70",["b","c","d","11","68","8","6f","15","e","51"],!0,function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&c.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(E||null==y||y!==p())return null;var n=r(y);if(!x||!h(x,n)){x=n;var o=l.getPooled(g.select,b,e,t);return o.type="select",o.target=y,a.accumulateTwoPhaseDispatches(o),o}return null}var i=e("b"),a=e("c"),u=e("d"),s=e("11"),c=e("68"),l=e("8"),p=e("6f"),d=e("15"),f=e("e"),h=e("51"),m=i.topLevelTypes,v=u.canUseDOM&&"documentMode"in document&&document.documentMode<=11,g={select:{phasedRegistrationNames:{bubbled:f({onSelect:null}),captured:f({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},y=null,b=null,x=null,E=!1,_=!1,C=f({onSelect:null}),D={eventTypes:g,extractEvents:function(e,t,n,r){if(!_)return null;var i=t?s.getNodeFromInstance(t):window;switch(e){case m.topFocus:(d(i)||"true"===i.contentEditable)&&(y=i,b=t,x=null);break;case m.topBlur:y=null,b=null,x=null;break;case m.topMouseDown:E=!0;break;case m.topContextMenu:case m.topMouseUp:return E=!1,o(n,r);case m.topSelectionChange:if(v)break;case m.topKeyDown:case m.topKeyUp:return o(n,r)}return null},didPutListener:function(e,t,n){t===C&&(_=!0)}};return n.exports=D,n.exports}),e.registerDynamic("60",["48","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("48"),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};n.exports=o}(e("16")),n.exports}),e.registerDynamic("c",["b","10","62","71","72","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return b(e,r)}function o(e,t,n){var o=t?y.bubbled:y.captured,i=r(e,n,o);i&&(n._dispatchListeners=v(n._dispatchListeners,i),n._dispatchInstances=v(n._dispatchInstances,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(e._targetInst,o,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?m.getParentInstance(t):null;m.traverseTwoPhase(n,o,e)}}function u(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=b(e,r);o&&(n._dispatchListeners=v(n._dispatchListeners,o),n._dispatchInstances=v(n._dispatchInstances,e))}}function s(e){e&&e.dispatchConfig.registrationName&&u(e._targetInst,null,e)}function c(e){g(e,i)}function l(e){g(e,a)}function p(e,t,n,r){m.traverseEnterLeave(n,r,u,e,t)}function d(e){g(e,s)}var f=e("b"),h=e("10"),m=e("62"),v=e("71"),g=e("72"),y=(e("22"),f.PropagationPhases),b=h.getListener,x={accumulateTwoPhaseDispatches:c,accumulateTwoPhaseDispatchesSkipTarget:l,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};n.exports=x}(e("16")),n.exports}),e.registerDynamic("73",["8"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("8"),i={animationName:null,elapsedTime:null,pseudoElement:null};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("74",["8"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("8"),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("75",["76"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("76"),i={relatedTarget:null};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("77",["78"],!0,function(e,t,n){"use strict";function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var o=e("78"),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};return n.exports=r,n.exports}),e.registerDynamic("79",["76","78","77","7a"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("76"),i=e("78"),a=e("77"),u=e("7a"),s={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:u,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};return o.augmentClass(r,s),n.exports=r,n.exports}),e.registerDynamic("7b",["19"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("19"),i={dataTransfer:null};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("7c",["76","7a"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("76"),i=e("7a"),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};return o.augmentClass(r,a),n.exports=r,n.exports}),e.registerDynamic("7d",["8"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("8"),i={propertyName:null,elapsedTime:null,pseudoElement:null};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("8",["6","4","48","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var u=o[i];u?this[i]=u(n):"target"===i?this.target=r:this[i]=n[i]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return s?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var o=e("6"),i=e("4"),a=e("48"),u=(e("22"),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),s={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<u.length;n++)this[u[n]]=null}}),r.Interface=s,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;o(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),n.exports=r}(e("16")),n.exports}),e.registerDynamic("13",[],!0,function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}return n.exports=r,n.exports}),e.registerDynamic("76",["8","13"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("8"),i=e("13"),a={view:function(e){if(e.view)return e.view;var t=i(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};return o.augmentClass(r,a),n.exports=r,n.exports}),e.registerDynamic("7a",[],!0,function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return r?!!n[r]:!1}function o(e){return r}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};return n.exports=o,n.exports}),e.registerDynamic("19",["76","7e","7a"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("76"),i=e("7e"),a=e("7a"),u={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};return o.augmentClass(r,u),n.exports=r,n.exports}),e.registerDynamic("7f",["19"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("19"),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("78",[],!0,function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}return n.exports=r,n.exports}),e.registerDynamic("80",["b","60","c","11","73","74","8","75","79","19","7b","7c","7d","76","7f","48","78","30","e","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("b"),o=e("60"),i=e("c"),a=e("11"),u=e("73"),s=e("74"),c=e("8"),l=e("75"),p=e("79"),d=e("19"),f=e("7b"),h=e("7c"),m=e("7d"),v=e("76"),g=e("7f"),y=e("48"),b=e("78"),x=e("30"),E=e("e"),_=r.topLevelTypes,C={abort:{phasedRegistrationNames:{bubbled:E({onAbort:!0}),captured:E({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:E({onAnimationEnd:!0}),captured:E({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:E({onAnimationIteration:!0}),captured:E({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:E({onAnimationStart:!0}),captured:E({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:E({onBlur:!0}),captured:E({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:E({onCanPlay:!0}),captured:E({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:E({onCanPlayThrough:!0}),captured:E({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:E({onClick:!0}),captured:E({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:E({onContextMenu:!0}),captured:E({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:E({onCopy:!0}),captured:E({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:E({onCut:!0}),captured:E({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:E({onDoubleClick:!0}),captured:E({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:E({onDrag:!0}),captured:E({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:E({onDragEnd:!0}),captured:E({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:E({onDragEnter:!0}),captured:E({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:E({onDragExit:!0}),captured:E({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:E({onDragLeave:!0}),captured:E({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:E({onDragOver:!0}),captured:E({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:E({onDragStart:!0}),captured:E({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:E({onDrop:!0}),captured:E({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:E({onDurationChange:!0}),captured:E({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:E({onEmptied:!0}),captured:E({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:E({onEncrypted:!0}),captured:E({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:E({onEnded:!0}),captured:E({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:E({onError:!0}),captured:E({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:E({onFocus:!0}),captured:E({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:E({onInput:!0}),captured:E({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:E({onInvalid:!0}),captured:E({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:E({onKeyDown:!0}),captured:E({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:E({onKeyPress:!0}),captured:E({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:E({onKeyUp:!0}),captured:E({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:E({onLoad:!0}),captured:E({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:E({onLoadedData:!0}),captured:E({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:E({onLoadedMetadata:!0}),captured:E({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:E({onLoadStart:!0}),captured:E({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:E({onMouseDown:!0}),captured:E({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:E({onMouseMove:!0}),captured:E({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:E({onMouseOut:!0}),captured:E({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:E({onMouseOver:!0}),captured:E({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:E({onMouseUp:!0}),captured:E({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:E({onPaste:!0}),captured:E({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:E({onPause:!0}),captured:E({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:E({onPlay:!0}),captured:E({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:E({onPlaying:!0}),captured:E({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:E({onProgress:!0}),captured:E({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:E({onRateChange:!0}),captured:E({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:E({onReset:!0}),captured:E({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:E({onScroll:!0}),captured:E({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:E({onSeeked:!0}),captured:E({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:E({onSeeking:!0}),captured:E({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:E({onStalled:!0}),captured:E({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:E({onSubmit:!0}),captured:E({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:E({onSuspend:!0}),captured:E({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:E({onTimeUpdate:!0}),captured:E({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:E({onTouchCancel:!0}),captured:E({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:E({onTouchEnd:!0}),captured:E({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:E({onTouchMove:!0}),captured:E({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:E({onTouchStart:!0}),captured:E({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:E({onTransitionEnd:!0}),captured:E({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:E({onVolumeChange:!0}),captured:E({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:E({onWaiting:!0}),captured:E({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:E({onWheel:!0}),captured:E({onWheelCapture:!0})}}},D={topAbort:C.abort,topAnimationEnd:C.animationEnd,topAnimationIteration:C.animationIteration,topAnimationStart:C.animationStart,topBlur:C.blur,topCanPlay:C.canPlay,topCanPlayThrough:C.canPlayThrough,topClick:C.click,topContextMenu:C.contextMenu,topCopy:C.copy,topCut:C.cut,topDoubleClick:C.doubleClick,topDrag:C.drag,topDragEnd:C.dragEnd,topDragEnter:C.dragEnter,topDragExit:C.dragExit,topDragLeave:C.dragLeave,topDragOver:C.dragOver,topDragStart:C.dragStart,topDrop:C.drop,topDurationChange:C.durationChange,topEmptied:C.emptied,topEncrypted:C.encrypted,topEnded:C.ended,topError:C.error,topFocus:C.focus,topInput:C.input,topInvalid:C.invalid,topKeyDown:C.keyDown,topKeyPress:C.keyPress,topKeyUp:C.keyUp,topLoad:C.load,topLoadedData:C.loadedData,topLoadedMetadata:C.loadedMetadata,topLoadStart:C.loadStart,topMouseDown:C.mouseDown,topMouseMove:C.mouseMove,topMouseOut:C.mouseOut,topMouseOver:C.mouseOver,topMouseUp:C.mouseUp,topPaste:C.paste,topPause:C.pause,topPlay:C.play,topPlaying:C.playing,topProgress:C.progress,topRateChange:C.rateChange,topReset:C.reset,topScroll:C.scroll,topSeeked:C.seeked,topSeeking:C.seeking,topStalled:C.stalled,topSubmit:C.submit,topSuspend:C.suspend,topTimeUpdate:C.timeUpdate,topTouchCancel:C.touchCancel,topTouchEnd:C.touchEnd,topTouchMove:C.touchMove,topTouchStart:C.touchStart,topTransitionEnd:C.transitionEnd,topVolumeChange:C.volumeChange,topWaiting:C.waiting,topWheel:C.wheel};for(var P in D)D[P].dependencies=[P];var w=E({onClick:null}),T={},N={eventTypes:C,extractEvents:function(e,t,n,r){var o=D[e];if(!o)return null;var a;switch(e){case _.topAbort:case _.topCanPlay:case _.topCanPlayThrough:case _.topDurationChange:case _.topEmptied:case _.topEncrypted:case _.topEnded:case _.topError:case _.topInput:case _.topInvalid:case _.topLoad:case _.topLoadedData:case _.topLoadedMetadata:case _.topLoadStart:case _.topPause:case _.topPlay:case _.topPlaying:case _.topProgress:case _.topRateChange:case _.topReset:case _.topSeeked:case _.topSeeking:case _.topStalled:case _.topSubmit:case _.topSuspend:case _.topTimeUpdate:case _.topVolumeChange:case _.topWaiting:a=c;break;case _.topKeyPress:if(0===b(n))return null;case _.topKeyDown:case _.topKeyUp:a=p;break;case _.topBlur:case _.topFocus:a=l;break;case _.topClick:if(2===n.button)return null;case _.topContextMenu:case _.topDoubleClick:case _.topMouseDown:case _.topMouseMove:case _.topMouseOut:case _.topMouseOver:case _.topMouseUp:a=d;break;case _.topDrag:case _.topDragEnd:case _.topDragEnter:case _.topDragExit:case _.topDragLeave:case _.topDragOver:case _.topDragStart:case _.topDrop:a=f;break;case _.topTouchCancel:case _.topTouchEnd:case _.topTouchMove:case _.topTouchStart:a=h;break;case _.topAnimationEnd:case _.topAnimationIteration:case _.topAnimationStart:a=u;break;case _.topTransitionEnd:a=m;break;case _.topScroll:a=v;break;case _.topWheel:a=g;break;case _.topCopy:case _.topCut:case _.topPaste:a=s}a?void 0:x(!1);var y=a.getPooled(o,t,n,r);return i.accumulateTwoPhaseDispatches(y),y},didPutListener:function(e,t,n){if(t===w){var r=e._rootNodeID,i=a.getNodeFromInstance(e);T[r]||(T[r]=o.listen(i,"click",y))}},willDeleteListener:function(e,t){if(t===w){var n=e._rootNodeID;T[n].remove(),delete T[n]}}};n.exports=N}(e("16")),n.exports}),e.registerDynamic("81",["a","f","17","18","1a","2a","4b","11","52","53","5c","5d","5f","61","66","69","70","80"],!0,function(e,t,n){"use strict";function r(){_||(_=!0,g.EventEmitter.injectReactEventListener(v),g.EventPluginHub.injectEventPluginOrder(a),g.EventPluginUtils.injectComponentTree(p),g.EventPluginUtils.injectTreeTraversal(f),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:E,EnterLeaveEventPlugin:u,ChangeEventPlugin:i,SelectEventPlugin:x,BeforeInputEventPlugin:o}),g.NativeComponent.injectGenericComponentClass(l),g.NativeComponent.injectTextComponentClass(h),g.DOMProperty.injectDOMPropertyConfig(s),g.DOMProperty.injectDOMPropertyConfig(b),g.EmptyComponent.injectEmptyComponentFactory(function(e){return new d(e)}),g.Updates.injectReconcileTransaction(y),g.Updates.injectBatchingStrategy(m),g.Component.injectEnvironment(c))}var o=e("a"),i=e("f"),a=e("17"),u=e("18"),s=e("1a"),c=e("2a"),l=e("4b"),p=e("11"),d=e("52"),f=e("53"),h=e("5c"),m=e("5d"),v=e("5f"),g=e("61"),y=e("66"),b=e("69"),x=e("70"),E=e("80"),_=!1;return n.exports={inject:r},n.exports}),e.registerDynamic("82",["47","11","83","84","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=i.get(e);return t?(t=a(t),t?o.getNodeFromInstance(t):null):void u(("function"==typeof e.render,!1))}var o=(e("47"),e("11")),i=e("83"),a=e("84"),u=e("30");e("22");n.exports=r}(e("16")),n.exports}),e.registerDynamic("84",["85"],!0,function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===o.COMPOSITE;)e=e._renderedComponent;return t===o.NATIVE?e._renderedComponent:t===o.EMPTY?null:void 0}var o=e("85");return n.exports=r,n.exports}),e.registerDynamic("4d",[],!0,function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};return n.exports=r,n.exports}),e.registerDynamic("39",[],!0,function(e,t,n){"use strict";function r(e){return i[e]}function o(e){return(""+e).replace(a,r)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},a=/[&><"']/g;return n.exports=o,n.exports}),e.registerDynamic("5b",["d","39","5a"],!0,function(e,t,n){"use strict";var r=e("d"),o=e("39"),i=e("5a"),a=function(e,t){e.textContent=t};return r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){i(e,o(t))})),n.exports=a,n.exports}),e.registerDynamic("4c",["4d","59","5b"],!0,function(e,t,n){"use strict";function r(e){if(m){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)v(t,n[r],null);else null!=e.html?t.innerHTML=e.html:null!=e.text&&d(t,e.text)}}function o(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function i(e,t){m?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){m?e.html=t:e.node.innerHTML=t}function u(e,t){m?e.text=t:d(e.node,t)}function s(){return this.node.nodeName}function c(e){return{node:e,children:[],html:null,text:null,toString:s}}var l=e("4d"),p=e("59"),d=e("5b"),f=1,h=11,m="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),v=p(function(e,t,n){t.node.nodeType===h||t.node.nodeType===f&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===l.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});return c.insertTreeBefore=v,c.replaceChildWithTree=o,c.queueChild=i,c.queueHTML=a,c.queueText=u,n.exports=c,n.exports}),e.registerDynamic("35",["30","16"],!0,function(e,t,n){return function(t){"use strict";function r(){if(u)for(var e in s){var t=s[e],n=u.indexOf(e);if(n>-1?void 0:a(!1),!c.plugins[n]){t.extractEvents?void 0:a(!1),c.plugins[n]=t;var r=t.eventTypes;for(var i in r)o(r[i],t,i)?void 0:a(!1)}}}function o(e,t,n){c.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1):void 0,c.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var u=r[o];i(u,t,n)}return!0}return e.registrationName?(i(e.registrationName,t,n),!0):!1}function i(e,t,n){c.registrationNameModules[e]?a(!1):void 0,c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=e("30"),u=null,s={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){u?a(!1):void 0,u=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];s.hasOwnProperty(n)&&s[n]===o||(s[n]?a(!1):void 0,s[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=c.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){u=null;for(var e in s)s.hasOwnProperty(e)&&delete s[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=c.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};n.exports=c}(e("16")),n.exports}),e.registerDynamic("b",["58"],!0,function(e,t,n){"use strict";var r=e("58"),o=r({bubbled:null,captured:null}),i=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:o};return n.exports=a,n.exports}),e.registerDynamic("62",["b","86","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return e===y.topMouseUp||e===y.topTouchEnd||e===y.topTouchCancel}function o(e){return e===y.topMouseMove||e===y.topTouchMove}function i(e){return e===y.topMouseDown||e===y.topTouchStart}function a(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=b.getNodeFromInstance(r),t?m.invokeGuardedCallbackWithCatch(o,n,e):m.invokeGuardedCallback(o,n,e),e.currentTarget=null}function u(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)a(e,t,n[o],r[o]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function s(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function c(e){var t=s(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function l(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?v(!1):void 0,e.currentTarget=t?b.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var d,f,h=e("b"),m=e("86"),v=e("30"),g=(e("22"),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){f=e}}),y=h.topLevelTypes,b={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:l,executeDispatchesInOrder:u,executeDispatchesInOrderStopAtTrue:c,hasDispatches:p,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return f.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return f.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return f.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return f.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,o){return f.traverseEnterLeave(e,t,n,r,o)},injection:g};n.exports=b}(e("16")),n.exports}),e.registerDynamic("71",["30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){if(null==t?o(!1):void 0,null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var o=e("30");n.exports=r}(e("16")),n.exports}),e.registerDynamic("72",[],!0,function(e,t,n){"use strict";var r=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};return n.exports=r,n.exports}),e.registerDynamic("10",["35","62","86","71","72","30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("35"),o=e("62"),i=e("86"),a=e("71"),u=e("72"),s=e("30"),c={},l=null,p=function(e,t){e&&(o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},d=function(e){return p(e,!0)},f=function(e){return p(e,!1)},h={injection:{injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?s(!1):void 0;
var o=c[t]||(c[t]={});o[e._rootNodeID]=n;var i=r.registrationNameModules[t];i&&i.didPutListener&&i.didPutListener(e,t,n)},getListener:function(e,t){var n=c[t];return n&&n[e._rootNodeID]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var o=c[t];o&&delete o[e._rootNodeID]},deleteAllListeners:function(e){for(var t in c)if(c[t][e._rootNodeID]){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete c[t][e._rootNodeID]}},extractEvents:function(e,t,n,o){for(var i,u=r.plugins,s=0;s<u.length;s++){var c=u[s];if(c){var l=c.extractEvents(e,t,n,o);l&&(i=a(i,l))}}return i},enqueueEvents:function(e){e&&(l=a(l,e))},processEventQueue:function(e){var t=l;l=null,e?u(t,d):u(t,f),l?s(!1):void 0,i.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};n.exports=h}(e("16")),n.exports}),e.registerDynamic("87",["10"],!0,function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e("10"),i={handleTopLevel:function(e,t,n,i){var a=o.extractEvents(e,t,n,i);r(a)}};return n.exports=i,n.exports}),e.registerDynamic("7e",[],!0,function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};return n.exports=r,n.exports}),e.registerDynamic("88",["d"],!0,function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(u[e])return u[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in s)return u[e]=t[n];return""}var i=e("d"),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},u={},s={};return i.canUseDOM&&(s=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),n.exports=o,n.exports}),e.registerDynamic("14",["d"],!0,function(e,t,n){"use strict";function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=e("d");return i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),n.exports=r,n.exports}),e.registerDynamic("4e",["6","b","35","87","7e","88","14","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,v)||(e[v]=h++,d[e[v]]={}),d[e[v]]}var o,i=e("6"),a=e("b"),u=e("35"),s=e("87"),c=e("7e"),l=e("88"),p=e("14"),d={},f=!1,h=0,m={topAbort:"abort",topAnimationEnd:l("animationend")||"animationend",topAnimationIteration:l("animationiteration")||"animationiteration",topAnimationStart:l("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:l("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},v="_reactListenersID"+String(Math.random()).slice(2),g=i({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),i=u.registrationNameDependencies[e],s=a.topLevelTypes,c=0;c<i.length;c++){var l=i[c];o.hasOwnProperty(l)&&o[l]||(l===s.topWheel?p("wheel")?g.ReactEventListener.trapBubbledEvent(s.topWheel,"wheel",n):p("mousewheel")?g.ReactEventListener.trapBubbledEvent(s.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(s.topWheel,"DOMMouseScroll",n):l===s.topScroll?p("scroll",!0)?g.ReactEventListener.trapCapturedEvent(s.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(s.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):l===s.topFocus||l===s.topBlur?(p("focus",!0)?(g.ReactEventListener.trapCapturedEvent(s.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(s.topBlur,"blur",n)):p("focusin")&&(g.ReactEventListener.trapBubbledEvent(s.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(s.topBlur,"focusout",n)),o[s.topBlur]=!0,o[s.topFocus]=!0):m.hasOwnProperty(l)&&g.ReactEventListener.trapBubbledEvent(l,m[l],n),o[l]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(void 0===o&&(o=document.createEvent&&"pageX"in document.createEvent("MouseEvent")),!o&&!f){var e=c.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),f=!0}}});n.exports=g}(e("16")),n.exports}),e.registerDynamic("1b",["30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){return(e&t)===t}var o=e("30"),i={MUST_USE_PROPERTY:1,HAS_SIDE_EFFECTS:2,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},s=e.DOMAttributeNames||{},c=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};e.isCustomAttribute&&u._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){u.properties.hasOwnProperty(p)?o(!1):void 0;var d=p.toLowerCase(),f=n[p],h={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:r(f,t.MUST_USE_PROPERTY),hasSideEffects:r(f,t.HAS_SIDE_EFFECTS),hasBooleanValue:r(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(!h.mustUseProperty&&h.hasSideEffects?o(!1):void 0,h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:o(!1),s.hasOwnProperty(p)){var m=s[p];h.attributeName=m}a.hasOwnProperty(p)&&(h.attributeNamespace=a[p]),c.hasOwnProperty(p)&&(h.propertyName=c[p]),l.hasOwnProperty(p)&&(h.mutationMethod=l[p]),u.properties[p]=h}}},a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",u={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\uB7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<u._isCustomAttributeFunctions.length;t++){var n=u._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:i};n.exports=u}(e("16")),n.exports}),e.registerDynamic("4f",[],!0,function(e,t,n){"use strict";var r={hasCachedChildNodes:1};return n.exports=r,n.exports}),e.registerDynamic("11",["1b","4f","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){for(var t;t=e._renderedComponent;)e=t;return e}function o(e,t){var n=r(e);n._nativeNode=t,t[m]=n}function i(e){var t=e._nativeNode;t&&(delete t[m],e._nativeNode=null)}function a(e,t){if(!(e._flags&h.hasCachedChildNodes)){var n=e._renderedChildren,i=t.firstChild;e:for(var a in n)if(n.hasOwnProperty(a)){var u=n[a],s=r(u)._domID;if(null!=s){for(;null!==i;i=i.nextSibling)if(1===i.nodeType&&i.getAttribute(f)===String(s)||8===i.nodeType&&i.nodeValue===" react-text: "+s+" "||8===i.nodeType&&i.nodeValue===" react-empty: "+s+" "){o(u,i);continue e}d(!1)}}e._flags|=h.hasCachedChildNodes}}function u(e){if(e[m])return e[m];for(var t=[];!e[m];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[m]);e=t.pop())n=r,t.length&&a(r,e);return n}function s(e){var t=u(e);return null!=t&&t._nativeNode===e?t:null}function c(e){if(void 0===e._nativeNode?d(!1):void 0,e._nativeNode)return e._nativeNode;for(var t=[];!e._nativeNode;)t.push(e),e._nativeParent?void 0:d(!1),e=e._nativeParent;for(;t.length;e=t.pop())a(e,e._nativeNode);return e._nativeNode}var l=e("1b"),p=e("4f"),d=e("30"),f=l.ID_ATTRIBUTE_NAME,h=p,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),v={getClosestInstanceFromNode:u,getInstanceFromNode:s,getNodeFromInstance:c,precacheChildNodes:a,precacheNode:o,uncacheNode:i};n.exports=v}(e("16")),n.exports}),e.registerDynamic("50",["6","48","22","16"],!0,function(e,t,n){return function(t){"use strict";var r=(e("6"),e("48")),o=(e("22"),r);n.exports=o}(e("16")),n.exports}),e.registerDynamic("89",["50","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===o?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var o=(e("50"),9);n.exports=r}(e("16")),n.exports}),e.registerDynamic("8a",[],!0,function(e,t,n){"use strict";var r={useCreateElement:!0};return n.exports=r,n.exports}),e.registerDynamic("8b",[],!0,function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,i=e.length,a=-4&i;a>r;){for(var u=Math.min(r+4096,a);u>r;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=o,n%=o}for(;i>r;r++)n+=t+=e.charCodeAt(r);return t%=o,n%=o,t|n<<16}var o=65521;return n.exports=r,n.exports}),e.registerDynamic("8c",["8b"],!0,function(e,t,n){"use strict";var r=e("8b"),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return i.test(e)?e:e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};return n.exports=a,n.exports}),e.registerDynamic("45",["30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("30"),o=!1,i={unmountIDFromEnvironment:null,replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o?r(!1):void 0,i.unmountIDFromEnvironment=e.unmountIDFromEnvironment,i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};n.exports=i}(e("16")),n.exports}),e.registerDynamic("86",["16"],!0,function(e,t,n){return function(e){"use strict";function t(e,t,n,o){try{return t(n,o)}catch(i){return void(null===r&&(r=i))}}var r=null,o={invokeGuardedCallback:t,invokeGuardedCallbackWithCatch:t,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};n.exports=o}(e("16")),n.exports}),e.registerDynamic("85",["8d","30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("8d"),o=e("30"),i={NATIVE:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?i.EMPTY:r.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.NATIVE:void o(!1)}};n.exports=i}(e("16")),n.exports}),e.registerDynamic("83",[],!0,function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};return n.exports=r,n.exports}),e.registerDynamic("67",["6","4","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=e("6"),i=e("4"),a=e("30");o(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?a(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){this._callbacks&&(this._callbacks.length=e,this._contexts.length=e)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(r),n.exports=r}(e("16")),n.exports}),e.registerDynamic("8e",[],!0,function(e,t,n){"use strict";var r={logTopLevelRenders:!1};return n.exports=r,n.exports}),e.registerDynamic("8f",["30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("30"),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){o.isValidOwner(n)?void 0:r(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o.isValidOwner(n)?void 0:r(!1);var i=n.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&n.detachRef(t)}};n.exports=o}(e("16")),n.exports}),e.registerDynamic("90",["8f","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=e("8f"),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&o(n,e,t._owner)}},n.exports=a}(e("16")),n.exports}),e.registerDynamic("3e",["90","27","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e("90"),i=(e("27"),e("30")),a={mountComponent:function(e,t,n,o,i){var a=e.mountComponent(t,n,o,i);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),a},getNativeNode:function(e){return e.getNativeNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,i){var a=e._currentElement;if(t!==a||i!==e._context){var u=o.shouldUpdateRefs(a,t);u&&o.detachRefs(e,a),e.receiveComponent(t,n,i),u&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){return e._updateBatchNumber!==n?void(null!=e._updateBatchNumber&&e._updateBatchNumber!==n+1?i(!1):void 0):void e.performUpdateIfNecessary(t)}};n.exports=a}(e("16")),n.exports}),e.registerDynamic("4a",["30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("30"),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,a,u,s){this.isInTransaction()?r(!1):void 0;var c,l;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),l=e.call(t,n,o,i,a,u,s),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(e){this.isInTransaction()?void 0:r(!1);for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,a=t[n],u=this.wrapperInitData[n];try{o=!0,u!==i.OBSERVED_ERROR&&a.close&&a.close.call(this,u),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(s){}}}this.wrapperInitData.length=0}},i={Mixin:o,OBSERVED_ERROR:{}};n.exports=i}(e("16")),n.exports}),e.registerDynamic("12",["6","67","4","8e","27","3e","4a","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(){T.ReactReconcileTransaction&&E?void 0:v(!1)}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=p.getPooled(),this.reconcileTransaction=T.ReactReconcileTransaction.getPooled(!0)}function i(e,t,n,o,i,a){r(),E.batchedUpdates(e,t,n,o,i,a)}function a(e,t){return e._mountOrder-t._mountOrder}function u(e){var t=e.dirtyComponentsLength;t!==g.length?v(!1):void 0,g.sort(a),y++;for(var n=0;t>n;n++){var r=g[n],o=r._pendingCallbacks;r._pendingCallbacks=null;var i;if(f.logTopLevelRenders){var u=r;r._currentElement.props===r._renderedComponent._currentElement&&(u=r._renderedComponent),i="React update: "+u.getName(),console.time(i)}if(h.performUpdateIfNecessary(r,e.reconcileTransaction,y),i&&console.timeEnd(i),o)for(var s=0;s<o.length;s++)e.callbackQueue.enqueue(o[s],r.getPublicInstance())}}function s(e){return r(),E.isBatchingUpdates?(g.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=y+1))):void E.batchedUpdates(s,e)}function c(e,t){E.isBatchingUpdates?void 0:v(!1),b.enqueue(e,t),x=!0}var l=e("6"),p=e("67"),d=e("4"),f=e("8e"),h=(e("27"),e("3e")),m=e("4a"),v=e("30"),g=[],y=0,b=p.getPooled(),x=!1,E=null,_={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),P()):g.length=0}},C={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},D=[_,C];l(o.prototype,m.Mixin,{getTransactionWrappers:function(){return D},destructor:function(){this.dirtyComponentsLength=null,p.release(this.callbackQueue),this.callbackQueue=null,T.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return m.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),d.addPoolingTo(o);var P=function(){for(;g.length||x;){if(g.length){var e=o.getPooled();e.perform(u,null,e),o.release(e)}if(x){x=!1;var t=b;b=p.getPooled(),t.notifyAll(),p.release(t)}}},w={injectReconcileTransaction:function(e){e?void 0:v(!1),T.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:v(!1),"function"!=typeof e.batchedUpdates?v(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?v(!1):void 0,E=e}},T={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:s,flushBatchedUpdates:P,injection:w,asap:c};n.exports=T}(e("16")),n.exports}),e.registerDynamic("91",["47","83","12","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){a.enqueueUpdate(e)}function o(e,t){var n=i.get(e);return n?n:null}var i=(e("47"),e("83")),a=e("12"),u=e("30"),s=(e("22"),{isMounted:function(e){var t=i.get(e);return t?!!t._renderedComponent:!1},enqueueCallback:function(e,t,n){s.validateCallback(t,n);var i=o(e);return i?(i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],void r(i)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=o(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(t),r(n)}},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e?u(!1):void 0}});n.exports=s}(e("16")),n.exports}),e.registerDynamic("92",["6","45","47","8d","86","83","27","85","3b","93","3e","91","94","30","41","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function o(e){}function i(e,t){}function a(e){return e.prototype&&e.prototype.isReactComponent}var u=e("6"),s=e("45"),c=e("47"),l=e("8d"),p=e("86"),d=e("83"),f=(e("27"),e("85")),h=e("3b"),m=(e("93"),e("3e")),v=e("91"),g=e("94"),y=e("30"),b=e("41");e("22");o.prototype.render=function(){var e=d.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return i(e,t),t};var x=1,E={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._nativeParent=null,this._nativeContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,r){this._context=r,this._mountOrder=x++,this._nativeParent=t,this._nativeContainerInfo=n;var u,s=this._processProps(this._currentElement.props),c=this._processContext(r),p=this._currentElement.type,f=this._constructComponent(s,c);a(p)||null!=f&&null!=f.render||(u=f,i(p,u),null===f||f===!1||l.isValidElement(f)?void 0:y(!1),f=new o(p));f.props=s,f.context=c,f.refs=g,f.updater=v,this._instance=f,d.set(f,this);var h=f.state;void 0===h&&(f.state=h=null),"object"!=typeof h||Array.isArray(h)?y(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var m;return m=f.unstable_handleError?this.performInitialMountWithErrorHandling(u,t,n,e,r):this.performInitialMount(u,t,n,e,r),f.componentDidMount&&e.getReactMountReady().enqueue(f.componentDidMount,f),m},_constructComponent:function(e,t){return this._constructComponentWithoutOwner(e,t)},_constructComponentWithoutOwner:function(e,t){var n,r=this._currentElement.type;return n=a(r)?new r(e,t,v):r(e,t,v)},performInitialMountWithErrorHandling:function(e,t,n,r,o){var i,a=r.checkpoint();try{i=this.performInitialMount(e,t,n,r,o)}catch(u){r.rollback(a),this._instance.unstable_handleError(u),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),i=this.performInitialMount(e,t,n,r,o)}return i},performInitialMount:function(e,t,n,r,o){var i=this._instance;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===e&&(e=this._renderValidatedComponent()),this._renderedNodeType=f.getType(e),this._renderedComponent=this._instantiateReactComponent(e);var a=m.mountComponent(this._renderedComponent,r,t,n,this._processChildContext(o));return a},getNativeNode:function(){return m.getNativeNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";p.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,d.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return g;var r={};for(var o in n)r[o]=e[o];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof t.childContextTypes?y(!1):void 0;for(var o in r)o in t.childContextTypes?void 0:y(!1);return u({},e,r)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var o=this.getName();for(var i in e)if(e.hasOwnProperty(i)){var a;try{"function"!=typeof e[i]?y(!1):void 0,a=e[i](t,i,o,n)}catch(u){a=u}if(a instanceof Error){r(this);n===h.prop}}},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,o){var i,a,u=this._instance,s=!1;this._context===o?i=u.context:(i=this._processContext(o),s=!0),t===n?a=n.props:(a=this._processProps(n.props),s=!0),s&&u.componentWillReceiveProps&&u.componentWillReceiveProps(a,i);var c=this._processPendingState(a,i),l=!0;!this._pendingForceUpdate&&u.shouldComponentUpdate&&(l=u.shouldComponentUpdate(a,c,i)),this._updateBatchNumber=null,l?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,a,c,i,e,o)):(this._currentElement=n,this._context=o,u.props=a,u.state=c,u.context=i)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=u({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var s=r[a];u(i,"function"==typeof s?s.call(n,i,e,t):s)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,u,s,c=this._instance,l=Boolean(c.componentDidUpdate);l&&(a=c.props,u=c.state,s=c.context),c.componentWillUpdate&&c.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,c.props=t,c.state=n,c.context=r,this._updateRenderedComponent(o,i),l&&o.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,a,u,s),c)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(b(r,o))m.receiveComponent(n,o,e,this._processChildContext(t));else{var i=m.getNativeNode(n);m.unmountComponent(n,!1),this._renderedNodeType=f.getType(o),this._renderedComponent=this._instantiateReactComponent(o);var a=m.mountComponent(this._renderedComponent,e,this._nativeParent,this._nativeContainerInfo,this._processChildContext(t));this._replaceNodeWithMarkup(i,a,n)}},_replaceNodeWithMarkup:function(e,t,n){s.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;c.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}return null===e||e===!1||l.isValidElement(e)?void 0:y(!1),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?y(!1):void 0;var r=t.getPublicInstance(),o=n.refs===g?n.refs={}:n.refs;o[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof o?null:e},_instantiateReactComponent:null},_={Mixin:E};n.exports=_}(e("16")),n.exports}),e.registerDynamic("64",[],!0,function(e,t,n){"use strict";var r,o={injectEmptyComponentFactory:function(e){r=e}},i={create:function(e){return r(e)}};return i.injection=o,n.exports=i,n.exports}),e.registerDynamic("65",["6","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=p[t];return null==n&&(p[t]=n=c(t)),n}function o(e){return l?void 0:s(!1),new l(e)}function i(e){return new d(e)}function a(e){return e instanceof d}var u=e("6"),s=e("30"),c=null,l=null,p={},d=null,f={injectGenericComponentClass:function(e){l=e},injectTextComponentClass:function(e){d=e},injectComponentClasses:function(e){u(p,e)}},h={getComponentClassForElement:r,createInternalComponent:o,createInstanceForText:i,isTextComponent:a,injection:f};n.exports=h}(e("16")),n.exports}),e.registerDynamic("3f",["6","92","64","65","27","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e){var t,n=null===e||e===!1;if(n)t=u.create(o);else if("object"==typeof e){var i=e;!i||"function"!=typeof i.type&&"string"!=typeof i.type?c(!1):void 0,t="string"==typeof i.type?s.createInternalComponent(i):r(i.type)?new i.type(i):new l(i)}else"string"==typeof e||"number"==typeof e?t=s.createInstanceForText(e):c(!1);t._mountIndex=0,t._mountImage=null;return t}var i=e("6"),a=e("92"),u=e("64"),s=e("65"),c=(e("27"),e("30")),l=(e("22"),function(e){this.construct(e)});i(l.prototype,a.Mixin,{_instantiateReactComponent:o});n.exports=o}(e("16")),n.exports}),e.registerDynamic("59",[],!0,function(e,t,n){"use strict";var r=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e};return n.exports=r,n.exports}),e.registerDynamic("5a",["d","59","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("d"),o=/^[ \r\n\t\f]/,i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=e("59"),u=a(function(e,t){e.innerHTML=t});if(r.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(u=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&i.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),s=null}n.exports=u}(e("16")),n.exports}),e.registerDynamic("41",[],!0,function(e,t,n){"use strict";function r(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}return n.exports=r,n.exports}),e.registerDynamic("95",["4c","1b","4e","47","11","89","8a","8d","8e","27","8c","3e","91","12","94","3f","30","5a","41","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===O?e.documentElement:e.firstChild:null}function i(e){return e.getAttribute&&e.getAttribute(S)||""}function a(e,t,n,r,o){var i;if(b.logTopLevelRenders){var a=e._currentElement.props,u=a.type;i="React mount: "+("string"==typeof u?u:u.displayName||u.name),console.time(i)}var s=E.mountComponent(e,n,null,v(e,t),o);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,L._mountImageIntoNode(s,t,e,r,n)}function u(e,t,n,r){var o=C.ReactReconcileTransaction.getPooled(!n&&g.useCreateElement);
o.perform(a,null,e,t,o,n,r),C.ReactReconcileTransaction.release(o)}function s(e,t,n){for(E.unmountComponent(e,n),t.nodeType===O&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function c(e){var t=o(e);if(t){var n=m.getInstanceFromNode(t);return!(!n||!n._nativeParent)}}function l(e){var t=o(e),n=t&&m.getInstanceFromNode(t);return n&&!n._nativeParent?n:null}function p(e){var t=l(e);return t?t._nativeContainerInfo._topLevelWrapper:null}var d=e("4c"),f=e("1b"),h=e("4e"),m=(e("47"),e("11")),v=e("89"),g=e("8a"),y=e("8d"),b=e("8e"),x=(e("27"),e("8c")),E=e("3e"),_=e("91"),C=e("12"),D=e("94"),P=e("3f"),w=e("30"),T=e("5a"),N=e("41"),S=(e("22"),f.ID_ATTRIBUTE_NAME),M=f.ROOT_ATTRIBUTE_NAME,k=1,O=9,I=11,R={},A=1,F=function(){this.rootID=A++};F.prototype.isReactComponent={},F.prototype.render=function(){return this.props};var L={TopLevelWrapper:F,_instancesByReactRootID:R,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return L.scrollMonitor(n,function(){_.enqueueElementInternal(e,t),r&&_.enqueueCallbackInternal(e,r)}),e},_renderNewRootComponent:function(e,t,n,r){!t||t.nodeType!==k&&t.nodeType!==O&&t.nodeType!==I?w(!1):void 0,h.ensureScrollValueMonitoring();var o=P(e);C.batchedUpdates(u,o,t,n,r);var i=o._instance.rootID;return R[i]=o,o},renderSubtreeIntoContainer:function(e,t,n,r){return null==e||null==e._reactInternalInstance?w(!1):void 0,L._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){_.validateCallback(r,"ReactDOM.render"),y.isValidElement(t)?void 0:w(!1);var a=y(F,null,null,null,null,null,t),u=p(n);if(u){var s=u._currentElement,l=s.props;if(N(l,t)){var d=u._renderedComponent.getPublicInstance(),f=r&&function(){r.call(d)};return L._updateRootComponent(u,a,n,f),d}L.unmountComponentAtNode(n)}var h=o(n),m=h&&!!i(h),v=c(n),g=m&&!u&&!v,b=L._renderNewRootComponent(a,n,g,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):D)._renderedComponent.getPublicInstance();return r&&r.call(b),b},render:function(e,t,n){return L._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){!e||e.nodeType!==k&&e.nodeType!==O&&e.nodeType!==I?w(!1):void 0;var t=p(e);if(!t){c(e),1===e.nodeType&&e.hasAttribute(M);return!1}return delete R[t._instance.rootID],C.batchedUpdates(s,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,i,a){if(!t||t.nodeType!==k&&t.nodeType!==O&&t.nodeType!==I?w(!1):void 0,i){var u=o(t);if(x.canReuseMarkup(e,u))return void m.precacheNode(n,u);var s=u.getAttribute(x.CHECKSUM_ATTR_NAME);u.removeAttribute(x.CHECKSUM_ATTR_NAME);var c=u.outerHTML;u.setAttribute(x.CHECKSUM_ATTR_NAME,s);var l=e,p=r(l,c);" (client) "+l.substring(p-20,p+20)+"\n (server) "+c.substring(p-20,p+20);t.nodeType===O?w(!1):void 0}if(t.nodeType===O?w(!1):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);d.insertTreeBefore(t,e,null)}else T(t,e),m.precacheNode(n,t.firstChild)}};n.exports=L}(e("16")),n.exports}),e.registerDynamic("96",["95"],!0,function(e,t,n){"use strict";var r=e("95");return n.exports=r.renderSubtreeIntoContainer,n.exports}),e.registerDynamic("97",["11","81","95","3e","12","98","82","84","96","22","d","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("11"),o=e("81"),i=e("95"),a=e("3e"),u=e("12"),s=e("98"),c=e("82"),l=e("84"),p=e("96");e("22");o.inject();var d={findDOMNode:c,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:s,unstable_batchedUpdates:u.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=l(e)),e?r.getNodeFromInstance(e):null}},Mount:i,Reconciler:a});n.exports=d}(e("16")),n.exports}),e.registerDynamic("99",["97"],!0,function(e,t,n){"use strict";return n.exports=e("97"),n.exports}),e.registerDynamic("9a",["99"],!0,function(e,t,n){return n.exports=e("99"),n.exports}),e.register("9b",["9c"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]}],execute:function(){n=function(){return t.createElement("header",{className:"header",role:"banner"},t.createElement("a",{className:"logo",href:"./",role:"logo"},t.createElement("img",{src:"svg/logo.svg"})),t.createElement("a",{className:"btn-link",href:"https://github.com/frontendbr/eventos",title:"Anuncie seu evento"},"Anunciar Evento"))},e("default",n)}}}),e.register("9d",["9c","9e"],function(e){"use strict";var t,n,r,o;return{setters:[function(e){t=e["default"],n=e.PropTypes},function(e){r=e["default"]}],execute:function(){o=function(e){var n=e.link,o=e.title,i=e.date,a=e.image;return t.createElement("a",{className:"banner-box",href:n,title:o+" "+i},!!a&&t.createElement(r,{src:a,alt:o}),t.createElement("h2",{className:"title"},o+" ",t.createElement("span",{className:"date"},i)))},o.defaultProps={link:"#"},o.propTypes={title:n.string.isRequired,date:n.string.isRequired,link:n.string,image:n.string},e("default",o)}}}),e.register("9f",["9c","9d"],function(e){"use strict";var t,n,r,o,i;return{setters:[function(e){t=e["default"],n=e.PropTypes},function(e){r=e["default"]}],execute:function(){o=function(e){return e.day+" - "+e.month},i=function(e){var n=e.events;return t.createElement("section",{className:"banner"},t.createElement("div",{className:"banner-main"},t.createElement(r,{link:n[0].link,title:n[0].title,date:o(n[0].date),image:n[0].image})),t.createElement("div",{key:0,className:"banner-aside"},n.slice(1,3).map(function(e,n){return t.createElement(r,{key:n,link:e.link,title:e.title,date:o(e.date)})})),t.createElement("div",{key:1,className:"banner-aside"},n.slice(3).map(function(e,n){return t.createElement(r,{key:n,link:e.link,title:e.title,date:o(e.date)})})))},i.propTypes={events:n.array.isRequired},e("default",i)}}}),e.register("a0",["9c","a1"],function(e){"use strict";var t,n,r,o;return{setters:[function(e){t=e["default"],n=e.PropTypes},function(e){r=e["default"]}],execute:function(){o=function(e){var n=e.label,o=e.selected,i=e.options,a=e.icon,u=e.handleChange;return i.length?t.createElement("div",{className:"form-select"},!!a&&t.createElement(r,{id:a.id,label:a.label}),t.createElement("label",{className:"sr-only"},n),t.createElement("select",{value:o,onChange:u},i.map(function(e){return t.createElement("option",{key:e.text,value:e.value},e.text)}))):null},o.defaultProps={label:"",options:[]},o.propTypes={label:n.string.isRequired,selected:n.string.isRequired,options:n.array.isRequired,icon:n.shape({image:n.string,label:n.string})},e("default",o)}}}),e.register("a2",["9c","a1"],function(e){"use strict";var t,n,r,o;return{setters:[function(e){t=e["default"],n=e.PropTypes},function(e){r=e["default"]}],execute:function(){o=function(e){var n=e.searchField,o=e.handleChangeText;return t.createElement("div",{className:"search"},t.createElement("input",{className:"form-control",type:"search",placeholder:"Busque por palavras chaves",value:n,onChange:o}),t.createElement("button",{className:"search-btn",type:"submit",role:"button"},t.createElement(r,{id:"search",label:"Search"})))},o.propTypes={searchField:n.string.isRequired,handleChangeText:n.func.isRequired},e("default",o)}}}),e.register("a3",["a4","9c","a0","a2"],function(e){var t,n,r,o,i,a;return{setters:[function(e){t=e["default"]},function(e){n=e["default"],r=e.PropTypes},function(e){o=e["default"]},function(e){i=e["default"]}],execute:function(){"use strict";a=function(e){var r=e.monthFilter,a=e.stateFilter,u=e.searchField,s=e.handleChangeMonth,c=e.handleChangeState,l=e.handleChangeText;return n.createElement("nav",{className:"filter"},n.createElement(o,t({key:"months"},r,{handleChange:s})),n.createElement(o,t({key:"states"},a,{handleChange:c})),n.createElement(i,{searchField:u,handleChangeText:l}))},a.propTypes={monthFilter:r.object.isRequired,stateFilter:r.object.isRequired,searchField:r.string.isRequired,handleChangeMonth:r.func.isRequired,handleChangeState:r.func.isRequired,handleChangeText:r.func.isRequired},e("default",a)}}}),e.register("a5",["a8","a9","aa","ab","9c","a7","9f","a3","a6"],function(e){var t,n,r,o,i,a,u,s,c,l,p,d,f,h,m;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){i=e["default"],a=e.PropTypes,u=e.Component},function(e){s=e.connect},function(e){c=e["default"]},function(e){l=e["default"]},function(e){p=e.fetchEvents,d=e.chooseFilterSelect,f=e.filterByText}],execute:function(){"use strict";h=function(e){function a(){o(this,a),t(Object.getPrototypeOf(a.prototype),"constructor",this).apply(this,arguments)}return n(a,e),r(a,[{key:"componentDidMount",value:function(){this.props.dispatch(p())}},{key:"handleChange",value:function(e,t){var n=t.currentTarget.value;this.props.dispatch(d({field:e,value:n}))}},{key:"handleChangeText",value:function(e){this.props.dispatch(f(e.currentTarget.value))}},{key:"render",value:function(){var e=this,t=this.props,n=t.events,r=t.monthFilter,o=t.stateFilter,a=t.searchField;return i.createElement("header",{className:"wellness"},i.createElement("h1",{className:"title"},"Encontre eventos de Front-End em todo o Brasil"),i.createElement(c,{events:n}),i.createElement(l,{monthFilter:r,stateFilter:o,searchField:a,handleChangeMonth:function(t){return e.handleChange("months",t)},handleChangeState:function(t){return e.handleChange("state",t)},handleChangeText:function(t){return e.handleChangeText(t)}}))}}]),a}(u),h.defaultProps={searchField:""},h.propTypes={events:a.array.isRequired,monthFilter:a.object.isRequired,stateFilter:a.object.isRequired,searchField:a.string.isRequired},m=function(e){return{events:e.events.events.filter(function(e,t){return 5>t}),monthFilter:e.filter.months,stateFilter:e.filter.state,searchField:e.filter.searchField}},e("default",s(m)(h))}}}),e.registerDynamic("ac",["af","ad","ae","16"],!0,function(e,t,n){return function(n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t["default"]=void 0;var u=e("af"),s=e("ad"),c=r(s),l=e("ae"),p=(r(l),function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return a.store=n.store,a}return a(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return u.Children.only(e)},t}(u.Component));t["default"]=p,p.propTypes={store:c["default"].isRequired,children:u.PropTypes.element.isRequired},p.childContextTypes={store:c["default"].isRequired}}(e("16")),n.exports}),e.registerDynamic("b0",["30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("30"),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},u=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},s=function(e,t,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r,o),a}return new i(e,t,n,r,o)},c=function(e){var t=this;e instanceof t?void 0:r(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,p=o,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=l),n.release=c,n},f={addPoolingTo:d,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:u,fiveArgumentPooler:s};n.exports=f}(e("16")),n.exports}),e.registerDynamic("b1",[],!0,function(e,t,n){"use strict";function r(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var i={escape:r,unescape:o};return n.exports=i,n.exports}),e.registerDynamic("b2",["b3","b4","b5","30","b1","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function o(e,t,n,i){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||a.isValidElement(e))return n(i,e,""===t?l+r(e,0):t),1;var f,h,m=0,v=""===t?l:t+p;if(Array.isArray(e))for(var g=0;g<e.length;g++)f=e[g],h=v+r(f,g),m+=o(f,h,n,i);else{var y=u(e);if(y){var b,x=y.call(e);if(y!==e.entries)for(var E=0;!(b=x.next()).done;)f=b.value,h=v+r(f,E++),m+=o(f,h,n,i);else for(;!(b=x.next()).done;){var _=b.value;_&&(f=_[1],h=v+c.escape(_[0])+p+r(f,0),m+=o(f,h,n,i))}}else if("object"===d){String(e);s(!1)}}return m}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=(e("b3"),e("b4")),u=e("b5"),s=e("30"),c=e("b1"),l=(e("22"),"."),p=":";n.exports=i}(e("16")),n.exports}),e.registerDynamic("b6",["b0","b4","48","b2"],!0,function(e,t,n){"use strict";function r(e){return(""+e).replace(x,"$&/")}function o(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);g(e,i,r),o.release(r)}function u(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function s(e,t,n){var o=e.result,i=e.keyPrefix,a=e.func,u=e.context,s=a.call(u,t,e.count++);Array.isArray(s)?c(s,o,n,v.thatReturnsArgument):null!=s&&(m.isValidElement(s)&&(s=m.cloneAndReplaceKey(s,i+(!s.key||t&&t.key===s.key?"":r(s.key)+"/")+n)),o.push(s))}function c(e,t,n,o,i){var a="";null!=n&&(a=r(n)+"/");var c=u.getPooled(t,a,o,i);g(e,s,c),u.release(c)}function l(e,t,n){if(null==e)return e;var r=[];return c(e,r,null,t,n),r}function p(e,t,n){return null}function d(e,t){return g(e,p,null)}function f(e){var t=[];return c(e,t,null,v.thatReturnsArgument),t}var h=e("b0"),m=e("b4"),v=e("48"),g=e("b2"),y=h.twoArgumentPooler,b=h.fourArgumentPooler,x=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,y),u.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(u,b);var E={forEach:a,map:l,mapIntoWithKeyPrefixInternal:c,count:d,toArray:f};return n.exports=E,n.exports}),e.registerDynamic("b7",["22","16"],!0,function(e,t,n){return function(t){"use strict";var r,o,i=(e("22"),{onBeginProcessingChildContext:function(){r=!0},onEndProcessingChildContext:function(){r=!1},onSetState:function(){o()}});n.exports=i}(e("16")),n.exports}),e.registerDynamic("b8",["b7","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n,r,o,i){}var o=e("b7"),i=(e("22"),[]),a={addDevtool:function(e){i.push(e)},removeDevtool:function(e){for(var t=0;t<i.length;t++)i[t]===e&&(i.splice(t,1),t--)},onBeginProcessingChildContext:function(){r("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){r("onEndProcessingChildContext")},onSetState:function(){r("onSetState")},onMountRootComponent:function(e){r("onMountRootComponent",e)},onMountComponent:function(e){r("onMountComponent",e)},onUpdateComponent:function(e){r("onUpdateComponent",e)},onUnmountComponent:function(e){r("onUnmountComponent",e)}};a.addDevtool(o),n.exports=a}(e("16")),n.exports}),e.registerDynamic("b9",["b8"],!0,function(e,t,n){"use strict";var r=e("b8");return n.exports={debugTool:r},n.exports}),e.registerDynamic("ba",["bb","b9","bc","94","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||o}var o=e("bb"),i=(e("b9"),e("bc"),e("94")),a=e("30");e("22");r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};n.exports=r}(e("16")),n.exports}),e.registerDynamic("bb",["22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){}var o=(e("22"),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}});n.exports=o}(e("16")),n.exports}),e.registerDynamic("bd",["6","ba","b4","be","bf","bb","94","30","58","e","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){var n=_.hasOwnProperty(t)?_[t]:null;D.hasOwnProperty(t)&&(n!==x.OVERRIDE_BASE?v(!1):void 0),e&&(n!==x.DEFINE_MANY&&n!==x.DEFINE_MANY_MERGED?v(!1):void 0)}function o(e,t){if(t){"function"==typeof t?v(!1):void 0,f.isValidElement(t)?v(!1):void 0;var n=e.prototype,o=n.__reactAutoBindPairs;t.hasOwnProperty(b)&&C.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==b){var a=t[i],c=n.hasOwnProperty(i);if(r(c,i),C.hasOwnProperty(i))C[i](e,a);else{var l=_.hasOwnProperty(i),p="function"==typeof a,d=p&&!l&&!c&&t.autobind!==!1;if(d)o.push(i,a),n[i]=a;else if(c){var h=_[i];!l||h!==x.DEFINE_MANY_MERGED&&h!==x.DEFINE_MANY?v(!1):void 0,h===x.DEFINE_MANY_MERGED?n[i]=u(n[i],a):h===x.DEFINE_MANY&&(n[i]=s(n[i],a))}else n[i]=a}}}}function i(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in C;o?v(!1):void 0;var i=n in e;i?v(!1):void 0,e[n]=r}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:v(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?v(!1):void 0,e[n]=t[n]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return a(o,n),a(o,r),o}}function s(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var n=t.bind(e);return n}function l(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=c(e,o)}}var p=e("6"),d=e("ba"),f=e("b4"),h=(e("be"),e("bf"),e("bb")),m=e("94"),v=e("30"),g=e("58"),y=e("e"),b=(e("22"),y({mixins:null})),x=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),E=[],_={mixins:x.DEFINE_MANY,statics:x.DEFINE_MANY,propTypes:x.DEFINE_MANY,contextTypes:x.DEFINE_MANY,childContextTypes:x.DEFINE_MANY,getDefaultProps:x.DEFINE_MANY_MERGED,getInitialState:x.DEFINE_MANY_MERGED,getChildContext:x.DEFINE_MANY_MERGED,render:x.DEFINE_ONCE,componentWillMount:x.DEFINE_MANY,componentDidMount:x.DEFINE_MANY,componentWillReceiveProps:x.DEFINE_MANY,shouldComponentUpdate:x.DEFINE_ONCE,componentWillUpdate:x.DEFINE_MANY,componentDidUpdate:x.DEFINE_MANY,componentWillUnmount:x.DEFINE_MANY,updateComponent:x.OVERRIDE_BASE},C={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=p({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=p({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=p({},e.propTypes,t)},statics:function(e,t){i(e,t)},autobind:function(){}},D={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},P=function(){};p(P.prototype,d.prototype,D);var w={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindPairs.length&&l(this),this.props=e,this.context=t,this.refs=m,this.updater=n||h,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?v(!1):void 0,this.state=r};t.prototype=new P,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],E.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:v(!1);for(var n in _)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){E.push(e)}}};n.exports=w}(e("16")),n.exports}),e.registerDynamic("c0",["b4","c1","c2","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return o.createFactory(e)}var o=e("b4"),i=(e("c1"),e("c2")),a=i({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);n.exports=a}(e("16")),n.exports}),e.registerDynamic("be",["58"],!0,function(e,t,n){"use strict";var r=e("58"),o=r({prop:null,context:null,childContext:null});return n.exports=o,n.exports}),e.registerDynamic("c1",["b4","be","bf","b3","bc","b5","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(){if(p.current){var e=p.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;i("uniqueKey",e,t)}}function i(e,t,n){var o=r();if(!o){var i="string"==typeof n?n:n.displayName||n.name;i&&(o=" Check the top-level render call using <"+i+">.")}var a=h[e]||(h[e]={});if(a[o])return null;a[o]=!0;var u={parentOrOwner:o,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==p.current&&(u.childOwner=" It was passed a child from "+t._owner.getName()+"."),u}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];c.isValidElement(r)&&o(r,t)}else if(c.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var i=d(e);if(i&&i!==e.entries)for(var a,u=i.call(e);!(a=u.next()).done;)c.isValidElement(a.value)&&o(a.value,t)}}function u(e,t,n,o){for(var i in t)if(t.hasOwnProperty(i)){var a;try{"function"!=typeof t[i]?f(!1):void 0,a=t[i](n,i,e,o)}catch(u){a=u}if(a instanceof Error&&!(a.message in m)){m[a.message]=!0;r()}}}function s(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&u(n,t.propTypes,e.props,l.prop),"function"==typeof t.getDefaultProps}}var c=e("b4"),l=e("be"),p=(e("bf"),e("b3")),d=(e("bc"),e("b5")),f=e("30"),h=(e("22"),{}),m={},v={createElement:function(e,t,n){var r="string"==typeof e||"function"==typeof e,o=c.createElement.apply(this,arguments);if(null==o)return o;if(r)for(var i=2;i<arguments.length;i++)a(arguments[i],e);return s(o),o},createFactory:function(e){var t=v.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=c.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)a(arguments[o],r.type);return s(r),r}};n.exports=v}(e("16")),n.exports}),e.registerDynamic("bf",["16"],!0,function(e,t,n){return function(e){"use strict";var t={};n.exports=t}(e("16")),n.exports}),e.registerDynamic("b5",[],!0,function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);return"function"==typeof t?t:void 0}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";return n.exports=r,n.exports}),e.registerDynamic("c3",["b4","bf","48","b5"],!0,function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e){function t(t,n,r,o,i,a){if(o=o||C,a=a||r,null==n[r]){var u=x[i];return t?new Error("Required "+u+" `"+a+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,i,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(e){function t(t,n,r,o,i){var a=t[n],u=v(a);if(u!==e){var s=x[o],c=g(a);return new Error("Invalid "+s+" `"+i+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return o(t)}function a(){return o(E.thatReturns(null))}function u(e){function t(t,n,r,o,i){if("function"!=typeof e)return new Error("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var u=x[o],s=v(a);return new Error("Invalid "+u+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<a.length;c++){var l=e(a,c,r,o,i+"["+c+"]");if(l instanceof Error)return l}return null}return o(t)}function s(){function e(e,t,n,r,o){if(!b.isValidElement(e[t])){var i=x[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return o(e)}function c(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=x[o],u=e.name||C,s=y(t[n]);return new Error("Invalid "+a+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return o(t)}function l(e){function t(t,n,o,i,a){for(var u=t[n],s=0;s<e.length;s++)if(r(u,e[s]))return null;var c=x[i],l=JSON.stringify(e);return new Error("Invalid "+c+" `"+a+"` of value `"+u+"` "+("supplied to `"+o+"`, expected one of "+l+"."))}return o(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function p(e){function t(t,n,r,o,i){if("function"!=typeof e)return new Error("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],u=v(a);if("object"!==u){var s=x[o];return new Error("Invalid "+s+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,r,o,i+"."+c);if(l instanceof Error)return l}return null}return o(t)}function d(e){function t(t,n,r,o,i){for(var a=0;a<e.length;a++){var u=e[a];if(null==u(t,n,r,o,i))return null}var s=x[o];return new Error("Invalid "+s+" `"+i+"` supplied to "+("`"+r+"`."))}return o(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function f(){function e(e,t,n,r,o){if(!m(e[t])){var i=x[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return o(e)}function h(e){function t(t,n,r,o,i){var a=t[n],u=v(a);if("object"!==u){var s=x[o];return new Error("Invalid "+s+" `"+i+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in e){var l=e[c];if(l){var p=l(a,c,r,o,i+"."+c);if(p)return p}}return null}return o(t)}function m(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(m);if(null===e||b.isValidElement(e))return!0;var t=_(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!m(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!m(o[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){return e.constructor&&e.constructor.name?e.constructor.name:C}var b=e("b4"),x=e("bf"),E=e("48"),_=e("b5"),C="<<anonymous>>",D={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:a(),arrayOf:u,element:s(),instanceOf:c,node:f(),objectOf:p,oneOf:l,oneOfType:d,shape:h};return n.exports=D,n.exports}),e.registerDynamic("c4",[],!0,function(e,t,n){"use strict";return n.exports="15.0.2",n.exports}),e.registerDynamic("b3",[],!0,function(e,t,n){"use strict";var r={current:null};return n.exports=r,n.exports}),e.registerDynamic("bc",["16"],!0,function(e,t,n){return function(e){"use strict";var t=!1;n.exports=t}(e("16")),n.exports}),e.registerDynamic("b4",["6","b3","22","bc","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("6"),o=e("b3"),i=(e("22"),e("bc"),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},u=function(e,t,n,r,o,a,u){var s={$$typeof:i,type:e,key:t,ref:n,props:u,_owner:a};return s};u.createElement=function(e,t,n){var r,i={},s=null,c=null,l=null,p=null;if(null!=t){c=void 0===t.ref?null:t.ref,s=void 0===t.key?null:""+t.key,l=void 0===t.__self?null:t.__self,p=void 0===t.__source?null:t.__source;for(r in t)t.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(i[r]=t[r])}var d=arguments.length-2;if(1===d)i.children=n;else if(d>1){for(var f=Array(d),h=0;d>h;h++)f[h]=arguments[h+2];i.children=f}if(e&&e.defaultProps){var m=e.defaultProps;for(r in m)void 0===i[r]&&(i[r]=m[r])}return u(e,s,c,l,p,o.current,i)},u.createFactory=function(e){var t=u.createElement.bind(null,e);return t.type=e,t},u.cloneAndReplaceKey=function(e,t){var n=u(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},u.cloneElement=function(e,t,n){var i,s=r({},e.props),c=e.key,l=e.ref,p=e._self,d=e._source,f=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,f=o.current),void 0!==t.key&&(c=""+t.key);var h;e.type&&e.type.defaultProps&&(h=e.type.defaultProps);for(i in t)t.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(void 0===t[i]&&void 0!==h?s[i]=h[i]:s[i]=t[i])}var m=arguments.length-2;if(1===m)s.children=n;else if(m>1){for(var v=Array(m),g=0;m>g;g++)v[g]=arguments[g+2];s.children=v}return u(e.type,c,l,p,d,f,s)},u.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},n.exports=u}(e("16")),n.exports}),e.registerDynamic("c5",["b4","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return o.isValidElement(e)?void 0:i(!1),e}var o=e("b4"),i=e("30");n.exports=r}(e("16")),n.exports}),e.registerDynamic("c6",["6","b6","ba","bd","c0","b4","c1","c3","c4","c5","22","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("6"),o=e("b6"),i=e("ba"),a=e("bd"),u=e("c0"),s=e("b4"),c=(e("c1"),e("c3")),l=e("c4"),p=e("c5"),d=(e("22"),s.createElement),f=s.createFactory,h=s.cloneElement,m=r,v={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:p},Component:i,createElement:d,cloneElement:h,isValidElement:s.isValidElement,PropTypes:c,createClass:a.createClass,
createFactory:f,createMixin:function(e){return e},DOM:u,version:l,__spread:m};n.exports=v}(e("16")),n.exports}),e.registerDynamic("c7",["c6"],!0,function(e,t,n){"use strict";return n.exports=e("c6"),n.exports}),e.registerDynamic("af",["c7"],!0,function(e,t,n){return n.exports=e("c7"),n.exports}),e.registerDynamic("ad",["af"],!0,function(e,t,n){"use strict";t.__esModule=!0;var r=e("af");return t["default"]=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired}),n.exports}),e.registerDynamic("c8",[],!0,function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}return t.__esModule=!0,t["default"]=r,n.exports}),e.registerDynamic("c9",["ca"],!0,function(e,t,n){"use strict";function r(e){return function(t){return(0,o.bindActionCreators)(e,t)}}t.__esModule=!0,t["default"]=r;var o=e("ca");return n.exports}),e.registerDynamic("ae",[],!0,function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}return t.__esModule=!0,t["default"]=r,n.exports}),e.registerDynamic("cb",[],!0,function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};return n.exports=function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;++i)if(!r[n[i]]&&!o[n[i]])try{e[n[i]]=t[n[i]]}catch(a){}return e},n.exports}),e.registerDynamic("cc",["cb"],!0,function(e,t,n){return n.exports=e("cb"),n.exports}),e.registerDynamic("cd",["16"],!0,function(e,t,n){return function(e){"use strict";var t=function(e,t,n,r,o,i,a,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,u],l=0;s=new Error(t.replace(/%s/g,function(){return c[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};n.exports=t}(e("16")),n.exports}),e.registerDynamic("ce",["cd"],!0,function(e,t,n){return n.exports=e("cd"),n.exports}),e.registerDynamic("cf",["af","ad","c8","c9","ae","d0","cc","ce","16"],!0,function(e,t,n){return function(n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.displayName||e.name||"Component"}function s(e,t){try{return e.apply(t)}catch(n){return T.value=n,T}}function c(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],c=Boolean(e),d=e||D,h=void 0;h="function"==typeof t?t:t?(0,g["default"])(t):P;var v=n||w,y=r.pure,b=void 0===y?!0:y,x=r.withRef,_=void 0===x?!1:x,S=b&&v!==w,M=N++;return function(e){function t(e,t,n){var r=v(e,t,n);return r}var n="Connect("+u(e)+")",r=function(r){function u(e,t){o(this,u);var a=i(this,r.call(this,e,t));a.version=M,a.store=e.store||t.store,(0,C["default"])(a.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var s=a.store.getState();return a.state={storeState:s},a.clearCache(),a}return a(u,r),u.prototype.shouldComponentUpdate=function(){return!b||this.haveOwnPropsChanged||this.hasStoreStateChanged},u.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},u.prototype.configureFinalMapState=function(e,t){var n=d(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:d,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},u.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},u.prototype.configureFinalMapDispatch=function(e,t){var n=h(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:h,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},u.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return this.stateProps&&(0,m["default"])(e,this.stateProps)?!1:(this.stateProps=e,!0)},u.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return this.dispatchProps&&(0,m["default"])(e,this.dispatchProps)?!1:(this.dispatchProps=e,!0)},u.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return this.mergedProps&&S&&(0,m["default"])(e,this.mergedProps)?!1:(this.mergedProps=e,!0)},u.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},u.prototype.trySubscribe=function(){c&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},u.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},u.prototype.componentDidMount=function(){this.trySubscribe()},u.prototype.componentWillReceiveProps=function(e){b&&(0,m["default"])(e,this.props)||(this.haveOwnPropsChanged=!0)},u.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},u.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},u.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!b||t!==e){if(b&&!this.doStatePropsDependOnOwnProps){var n=s(this.updateStatePropsIfNeeded,this);if(!n)return;n===T&&(this.statePropsPrecalculationError=T.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},u.prototype.getWrappedInstance=function(){return(0,C["default"])(_,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},u.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,i=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var a=!0,u=!0;b&&i&&(a=n||t&&this.doStatePropsDependOnOwnProps,u=t&&this.doDispatchPropsDependOnOwnProps);var s=!1,c=!1;r?s=!0:a&&(s=this.updateStatePropsIfNeeded()),u&&(c=this.updateDispatchPropsIfNeeded());var d=!0;return d=s||c||t?this.updateMergedPropsIfNeeded():!1,!d&&i?i:(_?this.renderedElement=(0,p.createElement)(e,l({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,p.createElement)(e,this.mergedProps),this.renderedElement)},u}(p.Component);return r.displayName=n,r.WrappedComponent=e,r.contextTypes={store:f["default"]},r.propTypes={store:f["default"]},(0,E["default"])(r,e)}}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.__esModule=!0,t["default"]=c;var p=e("af"),d=e("ad"),f=r(d),h=e("c8"),m=r(h),v=e("c9"),g=r(v),y=e("ae"),b=(r(y),e("d0")),x=(r(b),e("cc")),E=r(x),_=e("ce"),C=r(_),D=function(e){return{}},P=function(e){return{dispatch:e}},w=function(e,t,n){return l({},n,e,t)},T={value:null},N=0}(e("16")),n.exports}),e.registerDynamic("d1",["ac","cf"],!0,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.Provider=void 0;var o=e("ac"),i=r(o),a=e("cf"),u=r(a);return t.Provider=i["default"],t.connect=u["default"],n.exports}),e.registerDynamic("a7",["d1"],!0,function(e,t,n){return n.exports=e("d1"),n.exports}),e.registerDynamic("d2",["d3","d4","d5"],!0,function(e,t,n){var r=e("d3"),o=e("d4"),i=e("d5");return n.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)},n.exports}),e.registerDynamic("d6",["d7","d2"],!0,function(e,t,n){var r=e("d7");return e("d2")("getOwnPropertyDescriptor",function(e){return function(t,n){return e(r(t),n)}}),n.exports}),e.registerDynamic("d8",["d9","d6"],!0,function(e,t,n){var r=e("d9");return e("d6"),n.exports=function(e,t){return r.getDesc(e,t)},n.exports}),e.registerDynamic("da",["d8"],!0,function(e,t,n){return n.exports={"default":e("d8"),__esModule:!0},n.exports}),e.registerDynamic("a8",["da"],!0,function(e,t,n){"use strict";var r=e("da")["default"];return t["default"]=function(e,t,n){for(var o=!0;o;){var i=e,a=t,u=n;o=!1,null===i&&(i=Function.prototype);var s=r(i,a);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(u)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=u,o=!0,s=l=void 0}},t.__esModule=!0,n.exports}),e.registerDynamic("db",["d9"],!0,function(e,t,n){var r=e("d9");return n.exports=function(e,t){return r.create(e,t)},n.exports}),e.registerDynamic("dc",["db"],!0,function(e,t,n){return n.exports={"default":e("db"),__esModule:!0},n.exports}),e.registerDynamic("dd",["d3","de"],!0,function(e,t,n){var r=e("d3");return r(r.S,"Object",{setPrototypeOf:e("de").set}),n.exports}),e.registerDynamic("df",["dd","d4"],!0,function(e,t,n){return e("dd"),n.exports=e("d4").Object.setPrototypeOf,n.exports}),e.registerDynamic("e0",["df"],!0,function(e,t,n){return n.exports={"default":e("df"),__esModule:!0},n.exports}),e.registerDynamic("a9",["dc","e0"],!0,function(e,t,n){"use strict";var r=e("dc")["default"],o=e("e0")["default"];return t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=r(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o?o(e,t):e.__proto__=t)},t.__esModule=!0,n.exports}),e.registerDynamic("aa",["e1"],!0,function(e,t,n){"use strict";var r=e("e1")["default"];return t["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t.__esModule=!0,n.exports}),e.registerDynamic("ab",[],!0,function(e,t,n){"use strict";return t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0,n.exports}),e.register("9e",["a8","a9","aa","ab","9c"],function(e){var t,n,r,o,i,a,u,s;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){i=e["default"],a=e.PropTypes,u=e.Component}],execute:function(){"use strict";s=function(e){function a(){o(this,a),t(Object.getPrototypeOf(a.prototype),"constructor",this).apply(this,arguments)}return n(a,e),r(a,[{key:"componentWillMount",value:function(){this.setState({isLoaded:!1})}},{key:"handleLoad",value:function(){this.setState({isLoaded:!0})}},{key:"render",value:function(){var e=this;return i.createElement("img",{className:(this.state.isLoaded?"lazyloaded":"lazyload")+" lazyblur",src:this.props.src,onLoad:function(){return e.handleLoad()},alt:this.props.alt})}}]),a}(u),s.defaultProps={alt:""},s.propTypes={src:a.string.isRequired,alt:a.string},e("default",s)}}}),e.register("a1",["9c"],function(e){"use strict";var t,n,r;return{setters:[function(e){t=e["default"],n=e.PropTypes}],execute:function(){r=function(e){var n=e.id,r=e.label;return t.createElement("svg",{className:"icon","aria-hidden":"true","aria-label":r},t.createElement("use",{xlinkHref:"svg/icons.svg#"+n}))},r.defaultProps={label:""},r.propTypes={id:n.string.isRequired,label:n.string},e("default",r)}}}),e.register("e2",["9c","9e","a1"],function(e){"use strict";var t,n,r,o,i,a,u;return{setters:[function(e){t=e["default"],n=e.PropTypes},function(e){r=e["default"]},function(e){o=e["default"]}],execute:function(){i=function(e){var t=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],n=t.indexOf(e)+1;return(10>n?"0":"")+n},a=function(e){var t=e.day,n=e.month,r=e.year;return t+"/"+i(n)+"/"+r},u=function(e){var n=e.title,i=e.image,u=e.link,s=e.date,c=e.price,l=e.location,p=e.shortDescription;return t.createElement("article",{className:"event"},t.createElement("a",{className:"event-media",href:u,title:"Ver evento"},t.createElement(r,{src:i||"svg/logo.svg",alt:n})),t.createElement("div",{className:"event-main"},t.createElement("a",{className:"content",href:u,title:"Ver evento"},t.createElement("h2",null,n),t.createElement("p",null,p)),!!u&&t.createElement("a",{className:"btn-link",href:u,target:"_blank",title:"Visitar site oficial"},t.createElement(o,{id:"link",label:"Link"}),u),t.createElement("ul",{className:"event-list"},t.createElement("li",{className:"event-list--item"},t.createElement(o,{id:"date",label:"Data"}),a(s)),t.createElement("li",{className:"event-list--item"},t.createElement(o,{id:"price",label:"Preço"}),c),!!l.locationUrl&&t.createElement("li",{className:"event-list--item"},t.createElement(o,{id:"location",label:"Local"}),t.createElement("a",{href:l.locationUrl,target:"_blank"},l.address+" - "+l.city+"/"+l.state)))))},u.defaultProps={date:{day:"00",month:"xx",year:"0000"},price:"Grátis",location:{locationUrl:""},shortDescription:""},u.propTypes={title:n.string.isRequired,image:n.string,link:n.string,date:n.shape({day:n.number.isRequired,month:n.string.isRequired,year:n.number.isRequired}).isRequired,price:n.string,location:n.shape({city:n.string,state:n.string,address:n.string,locationUrl:n.string}),shortDescription:n.string.isRequired},e("default",u)}}}),e.register("e3",["a4","9c","a7","e2"],function(e){var t,n,r,o,i,a,u;return{setters:[function(e){t=e["default"]},function(e){n=e["default"],r=e.PropTypes},function(e){o=e.connect},function(e){i=e["default"]}],execute:function(){"use strict";a=function(e){var r=e.events;return n.createElement("section",{className:"page"},n.createElement("header",{className:"page-header"},n.createElement("h3",{className:"title"},"Próximos Eventos")),!r.length&&n.createElement("div",{className:"page-wrap"},"Nenhum evento encontrado"),!!r.length&&n.createElement("div",{className:"page-wrap"},r.map(function(e,r){return n.createElement(i,t({key:r},e))})))},a.propTypes={events:r.array.isRequired},u=function(e){var t=e.filter,n=t.months,r=t.state;return{events:e.events.events.filter(function(e){return n.selected&&r.selected?e.shouldShowByMonth!==!1&&e.shouldShowByState!==!1:n.selected&&!r.selected?e.shouldShowByMonth!==!1:!n.selected&&r.selected?e.shouldShowByState!==!1:e}).filter(function(e){return e.shouldShowByText!==!1})}},e("default",o(u)(a))}}}),e.register("e4",["9c"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]}],execute:function(){n=function(){return t.createElement("aside",{className:"disclaimer"},t.createElement("div",{className:"disclaimer-inner"},t.createElement("h2",{className:"title"},"Conhece algum evento de Front-End que não está listado?"),t.createElement("a",{href:"https://github.com/frontendbr/eventos/issues",className:"btn","aria-label":"Anunciar Evento",title:"Anuncie seu evento"},"Anunciar Evento")))},e("default",n)}}}),e.register("e5",["9c","a5","e3","e4"],function(e){"use strict";var t,n,r,o,i;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]}],execute:function(){i=function(){return t.createElement("main",{className:"main",role:"main"},t.createElement(n,null),t.createElement(r,null),t.createElement(o,null))},e("default",i)}}}),e.registerDynamic("4",["30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("30"),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},u=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},s=function(e,t,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r,o),a}return new i(e,t,n,r,o)},c=function(e){var t=this;e instanceof t?void 0:r(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,p=o,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=l),n.release=c,n},f={addPoolingTo:d,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:u,fiveArgumentPooler:s};n.exports=f}(e("16")),n.exports}),e.registerDynamic("40",[],!0,function(e,t,n){"use strict";function r(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var i={escape:r,unescape:o};return n.exports=i,n.exports}),e.registerDynamic("42",["47","8d","e6","30","40","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function o(e,t,n,i){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||a.isValidElement(e))return n(i,e,""===t?l+r(e,0):t),1;var f,h,m=0,v=""===t?l:t+p;if(Array.isArray(e))for(var g=0;g<e.length;g++)f=e[g],h=v+r(f,g),m+=o(f,h,n,i);else{var y=u(e);if(y){var b,x=y.call(e);if(y!==e.entries)for(var E=0;!(b=x.next()).done;)f=b.value,h=v+r(f,E++),m+=o(f,h,n,i);else for(;!(b=x.next()).done;){var _=b.value;_&&(f=_[1],h=v+c.escape(_[0])+p+r(f,0),m+=o(f,h,n,i))}}else if("object"===d){String(e);s(!1)}}return m}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=(e("47"),e("8d")),u=e("e6"),s=e("30"),c=e("40"),l=(e("22"),"."),p=":";n.exports=i}(e("16")),n.exports}),e.registerDynamic("32",["4","8d","48","42"],!0,function(e,t,n){"use strict";function r(e){return(""+e).replace(x,"$&/")}function o(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);g(e,i,r),o.release(r)}function u(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function s(e,t,n){var o=e.result,i=e.keyPrefix,a=e.func,u=e.context,s=a.call(u,t,e.count++);Array.isArray(s)?c(s,o,n,v.thatReturnsArgument):null!=s&&(m.isValidElement(s)&&(s=m.cloneAndReplaceKey(s,i+(!s.key||t&&t.key===s.key?"":r(s.key)+"/")+n)),o.push(s))}function c(e,t,n,o,i){var a="";null!=n&&(a=r(n)+"/");var c=u.getPooled(t,a,o,i);g(e,s,c),u.release(c)}function l(e,t,n){if(null==e)return e;var r=[];return c(e,r,null,t,n),r}function p(e,t,n){return null}function d(e,t){return g(e,p,null)}function f(e){var t=[];return c(e,t,null,v.thatReturnsArgument),t}var h=e("4"),m=e("8d"),v=e("48"),g=e("42"),y=h.twoArgumentPooler,b=h.fourArgumentPooler,x=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,y),u.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(u,b);var E={forEach:a,map:l,mapIntoWithKeyPrefixInternal:c,count:d,toArray:f};return n.exports=E,n.exports}),e.registerDynamic("d",[],!0,function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};return n.exports=o,n.exports}),e.registerDynamic("e7",["d"],!0,function(e,t,n){"use strict";var r,o=e("d");return o.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),n.exports=r||{},n.exports}),e.registerDynamic("e8",["e7"],!0,function(e,t,n){"use strict";var r,o=e("e7");return r=o.now?function(){return o.now()}:function(){return Date.now()},n.exports=r,n.exports}),e.registerDynamic("e9",["22","16"],!0,function(e,t,n){return function(t){"use strict";var r,o,i=(e("22"),{onBeginProcessingChildContext:function(){r=!0},onEndProcessingChildContext:function(){r=!1},onSetState:function(){o()}});n.exports=i}(e("16")),n.exports}),e.registerDynamic("ea",[],!0,function(e,t,n){"use strict";var r=[],o={onNativeOperation:function(e,t,n){r.push({instanceID:e,type:t,payload:n})},clearHistory:function(){o._preventClearing||(r=[])},getHistory:function(){return r}};return n.exports=o,n.exports}),e.registerDynamic("eb",["30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){a[e]||(a[e]={parentID:null,ownerID:null,text:null,childIDs:[],displayName:"Unknown",isMounted:!1,updateCount:0}),t(a[e])}function o(e){var t=a[e];if(t){var n=t.childIDs;delete a[e],n.forEach(o)}}var i=e("30"),a={},u=[],s={onSetDisplayName:function(e,t){r(e,function(e){return e.displayName=t})},onSetChildren:function(e,t){r(e,function(n){var r=n.childIDs;n.childIDs=t,t.forEach(function(t){var n=a[t];n?void 0:i(!1),null==n.displayName?i(!1):void 0,null==n.childIDs&&null==n.text?i(!1):void 0,n.isMounted?void 0:i(!1),-1===r.indexOf(t)&&(n.parentID=e)})})},onSetOwner:function(e,t){r(e,function(e){return e.ownerID=t})},onSetText:function(e,t){r(e,function(e){return e.text=t})},onMountComponent:function(e){r(e,function(e){return e.isMounted=!0})},onMountRootComponent:function(e){u.push(e)},onUpdateComponent:function(e){r(e,function(e){return e.updateCount++})},onUnmountComponent:function(e){r(e,function(e){return e.isMounted=!1}),u=u.filter(function(t){return t!==e})},purgeUnmountedComponents:function(){s._preventPurging||Object.keys(a).filter(function(e){return!a[e].isMounted}).forEach(o)},isMounted:function(e){var t=a[e];return t?t.isMounted:!1},getChildIDs:function(e){var t=a[e];return t?t.childIDs:[]},getDisplayName:function(e){var t=a[e];return t?t.displayName:"Unknown"},getOwnerID:function(e){var t=a[e];return t?t.ownerID:null},getParentID:function(e){var t=a[e];return t?t.parentID:null},getText:function(e){var t=a[e];return t?t.text:null},getUpdateCount:function(e){var t=a[e];return t?t.updateCount:0},getRootIDs:function(){return u},getRegisteredIDs:function(){return Object.keys(a)}};n.exports=s}(e("16")),n.exports}),e.registerDynamic("ec",["d","e8","22","e9","ea","eb","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n,r,o,i){}function o(e){}var i=(e("d"),e("e8"),e("22"),[]),a={addDevtool:function(e){i.push(e)},removeDevtool:function(e){for(var t=0;t<i.length;t++)i[t]===e&&(i.splice(t,1),t--)},beginProfiling:function(){},endProfiling:function(){},getFlushHistory:function(){},onBeginFlush:function(){r("onBeginFlush")},onEndFlush:function(){r("onEndFlush")},onBeginLifeCycleTimer:function(e,t){o(e),r("onBeginLifeCycleTimer",e,t)},onEndLifeCycleTimer:function(e,t){o(e),r("onEndLifeCycleTimer",e,t)},onBeginReconcilerTimer:function(e,t){o(e),r("onBeginReconcilerTimer",e,t)},onEndReconcilerTimer:function(e,t){o(e),r("onEndReconcilerTimer",e,t)},onBeginProcessingChildContext:function(){r("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){r("onEndProcessingChildContext")},onNativeOperation:function(e,t,n){o(e),r("onNativeOperation",e,t,n)},onSetState:function(){r("onSetState")},onSetDisplayName:function(e,t){o(e),r("onSetDisplayName",e,t)},onSetChildren:function(e,t){o(e),r("onSetChildren",e,t)},onSetOwner:function(e,t){o(e),r("onSetOwner",e,t)},onSetText:function(e,t){o(e),r("onSetText",e,t)},onMountRootComponent:function(e){o(e),r("onMountRootComponent",e)},onMountComponent:function(e){o(e),r("onMountComponent",e)},onUpdateComponent:function(e){o(e),r("onUpdateComponent",e)},onUnmountComponent:function(e){o(e),r("onUnmountComponent",e)}};n.exports=a}(e("16")),n.exports}),e.registerDynamic("27",["ec"],!0,function(e,t,n){"use strict";var r=e("ec");return n.exports={debugTool:r},n.exports}),e.registerDynamic("ed",["ee","27","ef","94","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||o}var o=e("ee"),i=(e("27"),e("ef"),e("94")),a=e("30");e("22");r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};n.exports=r}(e("16")),n.exports}),e.registerDynamic("ee",["22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){}var o=(e("22"),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}});n.exports=o}(e("16")),n.exports}),e.registerDynamic("94",["16"],!0,function(e,t,n){return function(e){"use strict";var t={};n.exports=t}(e("16")),n.exports}),e.registerDynamic("e",[],!0,function(e,t,n){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};return n.exports=r,n.exports}),e.registerDynamic("63",["6","ed","8d","3b","93","ee","94","30","58","e","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){var n=_.hasOwnProperty(t)?_[t]:null;D.hasOwnProperty(t)&&(n!==x.OVERRIDE_BASE?v(!1):void 0),e&&(n!==x.DEFINE_MANY&&n!==x.DEFINE_MANY_MERGED?v(!1):void 0)}function o(e,t){if(t){"function"==typeof t?v(!1):void 0,f.isValidElement(t)?v(!1):void 0;var n=e.prototype,o=n.__reactAutoBindPairs;t.hasOwnProperty(b)&&C.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==b){var a=t[i],c=n.hasOwnProperty(i);if(r(c,i),C.hasOwnProperty(i))C[i](e,a);else{var l=_.hasOwnProperty(i),p="function"==typeof a,d=p&&!l&&!c&&t.autobind!==!1;if(d)o.push(i,a),n[i]=a;else if(c){var h=_[i];!l||h!==x.DEFINE_MANY_MERGED&&h!==x.DEFINE_MANY?v(!1):void 0,h===x.DEFINE_MANY_MERGED?n[i]=u(n[i],a):h===x.DEFINE_MANY&&(n[i]=s(n[i],a))}else n[i]=a}}}}function i(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in C;o?v(!1):void 0;var i=n in e;i?v(!1):void 0,e[n]=r}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:v(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?v(!1):void 0,e[n]=t[n]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return a(o,n),a(o,r),o}}function s(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var n=t.bind(e);return n}function l(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=c(e,o)}}var p=e("6"),d=e("ed"),f=e("8d"),h=(e("3b"),e("93"),e("ee")),m=e("94"),v=e("30"),g=e("58"),y=e("e"),b=(e("22"),y({mixins:null})),x=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),E=[],_={mixins:x.DEFINE_MANY,statics:x.DEFINE_MANY,propTypes:x.DEFINE_MANY,contextTypes:x.DEFINE_MANY,childContextTypes:x.DEFINE_MANY,getDefaultProps:x.DEFINE_MANY_MERGED,getInitialState:x.DEFINE_MANY_MERGED,getChildContext:x.DEFINE_MANY_MERGED,render:x.DEFINE_ONCE,componentWillMount:x.DEFINE_MANY,componentDidMount:x.DEFINE_MANY,componentWillReceiveProps:x.DEFINE_MANY,shouldComponentUpdate:x.DEFINE_ONCE,componentWillUpdate:x.DEFINE_MANY,componentDidUpdate:x.DEFINE_MANY,componentWillUnmount:x.DEFINE_MANY,updateComponent:x.OVERRIDE_BASE},C={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=p({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=p({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=p({},e.propTypes,t)},statics:function(e,t){i(e,t)},autobind:function(){}},D={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},P=function(){};p(P.prototype,d.prototype,D);var w={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindPairs.length&&l(this),this.props=e,this.context=t,this.refs=m,this.updater=n||h,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?v(!1):void 0,this.state=r};t.prototype=new P,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],E.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:v(!1);for(var n in _)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){E.push(e)}}};n.exports=w}(e("16")),n.exports}),e.registerDynamic("c2",[],!0,function(e,t,n){"use strict";function r(e,t,n){if(!e)return null;var r={};for(var i in e)o.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}var o=Object.prototype.hasOwnProperty;return n.exports=r,n.exports}),e.registerDynamic("f0",["8d","f1","c2","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return o.createFactory(e)}var o=e("8d"),i=(e("f1"),e("c2")),a=i({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",
u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);n.exports=a}(e("16")),n.exports}),e.registerDynamic("58",["30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("30"),o=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};n.exports=o}(e("16")),n.exports}),e.registerDynamic("3b",["58"],!0,function(e,t,n){"use strict";var r=e("58"),o=r({prop:null,context:null,childContext:null});return n.exports=o,n.exports}),e.registerDynamic("f1",["8d","3b","93","47","ef","e6","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(){if(p.current){var e=p.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;i("uniqueKey",e,t)}}function i(e,t,n){var o=r();if(!o){var i="string"==typeof n?n:n.displayName||n.name;i&&(o=" Check the top-level render call using <"+i+">.")}var a=h[e]||(h[e]={});if(a[o])return null;a[o]=!0;var u={parentOrOwner:o,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==p.current&&(u.childOwner=" It was passed a child from "+t._owner.getName()+"."),u}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];c.isValidElement(r)&&o(r,t)}else if(c.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var i=d(e);if(i&&i!==e.entries)for(var a,u=i.call(e);!(a=u.next()).done;)c.isValidElement(a.value)&&o(a.value,t)}}function u(e,t,n,o){for(var i in t)if(t.hasOwnProperty(i)){var a;try{"function"!=typeof t[i]?f(!1):void 0,a=t[i](n,i,e,o)}catch(u){a=u}if(a instanceof Error&&!(a.message in m)){m[a.message]=!0;r()}}}function s(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&u(n,t.propTypes,e.props,l.prop),"function"==typeof t.getDefaultProps}}var c=e("8d"),l=e("3b"),p=(e("93"),e("47")),d=(e("ef"),e("e6")),f=e("30"),h=(e("22"),{}),m={},v={createElement:function(e,t,n){var r="string"==typeof e||"function"==typeof e,o=c.createElement.apply(this,arguments);if(null==o)return o;if(r)for(var i=2;i<arguments.length;i++)a(arguments[i],e);return s(o),o},createFactory:function(e){var t=v.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=c.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)a(arguments[o],r.type);return s(r),r}};n.exports=v}(e("16")),n.exports}),e.registerDynamic("93",["16"],!0,function(e,t,n){return function(e){"use strict";var t={};n.exports=t}(e("16")),n.exports}),e.registerDynamic("e6",[],!0,function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);return"function"==typeof t?t:void 0}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";return n.exports=r,n.exports}),e.registerDynamic("3a",["8d","93","48","e6"],!0,function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e){function t(t,n,r,o,i,a){if(o=o||C,a=a||r,null==n[r]){var u=x[i];return t?new Error("Required "+u+" `"+a+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,i,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(e){function t(t,n,r,o,i){var a=t[n],u=v(a);if(u!==e){var s=x[o],c=g(a);return new Error("Invalid "+s+" `"+i+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return o(t)}function a(){return o(E.thatReturns(null))}function u(e){function t(t,n,r,o,i){if("function"!=typeof e)return new Error("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var u=x[o],s=v(a);return new Error("Invalid "+u+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<a.length;c++){var l=e(a,c,r,o,i+"["+c+"]");if(l instanceof Error)return l}return null}return o(t)}function s(){function e(e,t,n,r,o){if(!b.isValidElement(e[t])){var i=x[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return o(e)}function c(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=x[o],u=e.name||C,s=y(t[n]);return new Error("Invalid "+a+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return o(t)}function l(e){function t(t,n,o,i,a){for(var u=t[n],s=0;s<e.length;s++)if(r(u,e[s]))return null;var c=x[i],l=JSON.stringify(e);return new Error("Invalid "+c+" `"+a+"` of value `"+u+"` "+("supplied to `"+o+"`, expected one of "+l+"."))}return o(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function p(e){function t(t,n,r,o,i){if("function"!=typeof e)return new Error("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],u=v(a);if("object"!==u){var s=x[o];return new Error("Invalid "+s+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,r,o,i+"."+c);if(l instanceof Error)return l}return null}return o(t)}function d(e){function t(t,n,r,o,i){for(var a=0;a<e.length;a++){var u=e[a];if(null==u(t,n,r,o,i))return null}var s=x[o];return new Error("Invalid "+s+" `"+i+"` supplied to "+("`"+r+"`."))}return o(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function f(){function e(e,t,n,r,o){if(!m(e[t])){var i=x[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return o(e)}function h(e){function t(t,n,r,o,i){var a=t[n],u=v(a);if("object"!==u){var s=x[o];return new Error("Invalid "+s+" `"+i+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in e){var l=e[c];if(l){var p=l(a,c,r,o,i+"."+c);if(p)return p}}return null}return o(t)}function m(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(m);if(null===e||b.isValidElement(e))return!0;var t=_(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!m(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!m(o[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){return e.constructor&&e.constructor.name?e.constructor.name:C}var b=e("8d"),x=e("93"),E=e("48"),_=e("e6"),C="<<anonymous>>",D={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:a(),arrayOf:u,element:s(),instanceOf:c,node:f(),objectOf:p,oneOf:l,oneOfType:d,shape:h};return n.exports=D,n.exports}),e.registerDynamic("98",[],!0,function(e,t,n){"use strict";return n.exports="15.1.0",n.exports}),e.registerDynamic("f2",[],!0,function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(i){return!1}}var i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;return n.exports=o()?Object.assign:function(e,t){for(var n,o,u=r(e),s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var c in n)i.call(n,c)&&(u[c]=n[c]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(n);for(var l=0;l<o.length;l++)a.call(n,o[l])&&(u[o[l]]=n[o[l]])}}return u},n.exports}),e.registerDynamic("6",["f2"],!0,function(e,t,n){return n.exports=e("f2"),n.exports}),e.registerDynamic("47",[],!0,function(e,t,n){"use strict";var r={current:null};return n.exports=r,n.exports}),e.registerDynamic("ef",["16"],!0,function(e,t,n){return function(e){"use strict";var t=!1;n.exports=t}(e("16")),n.exports}),e.registerDynamic("8d",["6","47","22","ef","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("6"),o=e("47"),i=(e("22"),e("ef"),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},u=function(e,t,n,r,o,a,u){var s={$$typeof:i,type:e,key:t,ref:n,props:u,_owner:a};return s};u.createElement=function(e,t,n){var r,i={},s=null,c=null,l=null,p=null;if(null!=t){c=void 0===t.ref?null:t.ref,s=void 0===t.key?null:""+t.key,l=void 0===t.__self?null:t.__self,p=void 0===t.__source?null:t.__source;for(r in t)t.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(i[r]=t[r])}var d=arguments.length-2;if(1===d)i.children=n;else if(d>1){for(var f=Array(d),h=0;d>h;h++)f[h]=arguments[h+2];i.children=f}if(e&&e.defaultProps){var m=e.defaultProps;for(r in m)void 0===i[r]&&(i[r]=m[r])}return u(e,s,c,l,p,o.current,i)},u.createFactory=function(e){var t=u.createElement.bind(null,e);return t.type=e,t},u.cloneAndReplaceKey=function(e,t){var n=u(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},u.cloneElement=function(e,t,n){var i,s=r({},e.props),c=e.key,l=e.ref,p=e._self,d=e._source,f=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,f=o.current),void 0!==t.key&&(c=""+t.key);var h;e.type&&e.type.defaultProps&&(h=e.type.defaultProps);for(i in t)t.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(void 0===t[i]&&void 0!==h?s[i]=h[i]:s[i]=t[i])}var m=arguments.length-2;if(1===m)s.children=n;else if(m>1){for(var v=Array(m),g=0;m>g;g++)v[g]=arguments[g+2];s.children=v}return u(e.type,c,l,p,d,f,s)},u.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},n.exports=u}(e("16")),n.exports}),e.registerDynamic("30",["16"],!0,function(e,t,n){return function(e){"use strict";function t(e,t,n,r,o,i,a,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,u],l=0;s=new Error(t.replace(/%s/g,function(){return c[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}n.exports=t}(e("16")),n.exports}),e.registerDynamic("f3",["8d","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return o.isValidElement(e)?void 0:i(!1),e}var o=e("8d"),i=e("30");n.exports=r}(e("16")),n.exports}),e.registerDynamic("48",[],!0,function(e,t,n){"use strict";function r(e){return function(){return e}}function o(){}return o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},n.exports=o,n.exports}),e.registerDynamic("22",["48","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("48"),o=r;n.exports=o}(e("16")),n.exports}),e.registerDynamic("f4",["6","32","ed","63","f0","8d","f1","3a","98","f3","22","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("6"),o=e("32"),i=e("ed"),a=e("63"),u=e("f0"),s=e("8d"),c=(e("f1"),e("3a")),l=e("98"),p=e("f3"),d=(e("22"),s.createElement),f=s.createFactory,h=s.cloneElement,m=r,v={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:p},Component:i,createElement:d,cloneElement:h,isValidElement:s.isValidElement,PropTypes:c,createClass:a.createClass,createFactory:f,createMixin:function(e){return e},DOM:u,version:l,__spread:m};n.exports=v}(e("16")),n.exports}),e.registerDynamic("f5",["f4"],!0,function(e,t,n){"use strict";return n.exports=e("f4"),n.exports}),e.registerDynamic("9c",["f5"],!0,function(e,t,n){return n.exports=e("f5"),n.exports}),e.register("f6",["9c"],function(e){"use strict";var t,n,r;return{setters:[function(e){t=e["default"]}],execute:function(){n=[{href:"https://github.com/frontendbr/forum",title:"Acesso nosso fórum",content:"Fórum"},{href:"https://github.com/frontendbr/vagas",title:"Publique ou encontre uma vaga",content:"Vagas"}],r=function(){return t.createElement("footer",{className:"footer",role:"contentinfo"},t.createElement("div",{className:"footer-inner"},t.createElement("div",{className:"container-flex"},t.createElement("div",{className:"footer-inner--main"},t.createElement("p",null,"Esse projeto é uma iniciativa da organização "," ",t.createElement("a",{href:"https://github.com/frontendbr"},"Front-End Brasil do GitHub."))),t.createElement("ul",{className:"footer-inner--nav"},n.map(function(e,n){var r=e.href,o=e.title,i=e.content;return t.createElement("li",{key:n},t.createElement("a",{className:"btn-link",href:r,title:o},i))})))),t.createElement("div",{className:"footer-hold"},t.createElement("div",{className:"container"},t.createElement("p",null,"© 2016 "," ",t.createElement("a",{href:"https://github.com/frontendbr/"},"Front-End Brasil")))))},e("default",r)}}}),e.register("f7",["a8","a9","aa","ab","9c","9b","e5","f6"],function(e){var t,n,r,o,i,a,u,s,c,l;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){i=e["default"],a=e.Component},function(e){u=e["default"]},function(e){s=e["default"]},function(e){c=e["default"]}],execute:function(){"use strict";l=function(e){function a(){o(this,a),t(Object.getPrototypeOf(a.prototype),"constructor",this).apply(this,arguments)}return n(a,e),r(a,[{key:"render",value:function(){return i.createElement("div",null,i.createElement(u,null),i.createElement(s,null),i.createElement(c,null))}}]),a}(a),e("default",l)}}}),e.registerDynamic("f8",[],!0,function(e,t,n){"use strict";return n.exports=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t},n.exports}),e.registerDynamic("f9",["f8"],!0,function(e,t,n){"use strict";var r=this;return n.exports=e("f8")(r||window||this),n.exports}),e.registerDynamic("fa",["f9"],!0,function(e,t,n){return n.exports=e("f9"),n.exports}),e.registerDynamic("fb",["d0","fa"],!0,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){function r(){g===v&&(g=v.slice())}function i(){return m}function u(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),g.push(e),function(){if(t){t=!1,r();var n=g.indexOf(e);g.splice(n,1)}}}function l(e){if(!(0,a["default"])(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,m=h(m,e)}finally{y=!1}for(var t=v=g,n=0;n<t.length;n++)t[n]();return e}function p(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,l({type:c.INIT})}function d(){var e,t=u;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[s["default"]]=function(){return this},e}var f;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,m=t,v=[],g=v,y=!1;return l({type:c.INIT}),f={dispatch:l,subscribe:u,getState:i,replaceReducer:p},f[s["default"]]=d,f}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=o;var i=e("d0"),a=r(i),u=e("fa"),s=r(u),c=t.ActionTypes={INIT:"@@redux/INIT"};return n.exports}),e.registerDynamic("fc",[],!0,function(e,t,n){function r(e){return o(Object(e))}var o=Object.getPrototypeOf;return n.exports=r,n.exports}),e.registerDynamic("fd",[],!0,function(e,t,n){function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}return n.exports=r,n.exports}),e.registerDynamic("fe",[],!0,function(e,t,n){function r(e){return!!e&&"object"==typeof e}return n.exports=r,n.exports}),e.registerDynamic("d0",["fc","fd","fe"],!0,function(e,t,n){function r(e){if(!a(e)||d.call(e)!=u||i(e))return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==p}var o=e("fc"),i=e("fd"),a=e("fe"),u="[object Object]",s=Object.prototype,c=Function.prototype.toString,l=s.hasOwnProperty,p=c.call(Object),d=s.toString;return n.exports=r,n.exports}),e.registerDynamic("ff",["fb","d0","100","16"],!0,function(e,t,n){return function(n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:u.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var u,s=Object.keys(n);try{i(n)}catch(c){u=c}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(u)throw u;for(var r=!1,i={},a=0;a<s.length;a++){var c=s[a],l=n[c],p=e[c],d=l(p,t);if("undefined"==typeof d){var f=o(c,t);throw new Error(f)}i[c]=d,r=r||d!==p}return r?i:e}}t.__esModule=!0,t["default"]=a;var u=e("fb"),s=e("d0"),c=(r(s),e("100"));r(c)}(e("16")),n.exports}),e.registerDynamic("101",[],!0,function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},i=0;i<n.length;i++){var a=n[i],u=e[a];"function"==typeof u&&(o[a]=r(u,t))}return o}return t.__esModule=!0,t["default"]=o,n.exports}),e.registerDynamic("102",["103"],!0,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a=e(n,r,o),s=a.dispatch,c=[],l={getState:a.getState,dispatch:function(e){return s(e)}};return c=t.map(function(e){return e(l)}),s=u["default"].apply(void 0,c)(a.dispatch),i({},a,{dispatch:s})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=o;var a=e("103"),u=r(a);return n.exports}),e.registerDynamic("103",[],!0,function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};var r=function(){var e=t[t.length-1],n=t.slice(0,-1);return{v:function(){return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}return t.__esModule=!0,t["default"]=r,n.exports}),e.registerDynamic("100",[],!0,function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}return t.__esModule=!0,t["default"]=r,n.exports}),e.registerDynamic("104",["fb","ff","101","102","103","100","16"],!0,function(e,t,n){return function(n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=e("fb"),i=r(o),a=e("ff"),u=r(a),s=e("101"),c=r(s),l=e("102"),p=r(l),d=e("103"),f=r(d),h=e("100");r(h);t.createStore=i["default"],t.combineReducers=u["default"],t.bindActionCreators=c["default"],t.applyMiddleware=p["default"],t.compose=f["default"]}(e("16")),n.exports}),e.registerDynamic("ca",["104"],!0,function(e,t,n){return n.exports=e("104"),n.exports}),e.registerDynamic("105",[],!0,function(e,t,n){"use strict";function r(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){return"function"==typeof r?r(t,n):e(r)}}}return t.__esModule=!0,t["default"]=r,n.exports}),e.registerDynamic("106",["105"],!0,function(e,t,n){return n.exports=e("105"),n.exports}),e.register("107",["106","108","a4","ca"],function(e){var t,n,r,o,i,a,u;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){o=e.createStore,i=e.compose,a=e.applyMiddleware,u=e.combineReducers}],execute:function(){"use strict";e("default",function(e){var s=e.initialState,c=void 0===s?{}:s,l=e.reducers,p=e.middlewares,d=void 0===p?[]:p,f=u(r({},l));return i(a.apply(void 0,[t].concat(n(d))))(o)(f,c)})}}}),e.register("109",["a4","a6"],function(e){var t,n,r,o,i,a,u,s;return{setters:[function(e){t=e["default"]},function(e){n=e.FETCH_EVENTS,r=e.EVENTS_SUCCESS,o=e.EVENTS_FAILED,i=e.CHOOSE_FILTER_SELECT,a=e.FILTER_BY_TEXT}],execute:function(){"use strict";u={events:Array.apply(null,{length:5}).map(function(){return{title:"...",date:{day:0,month:"",year:0},image:""}}),isFetching:!1},s=function(e,s){switch(void 0===e&&(e=u),s.type){case n:return t({},e,{isFetching:!0});case r:return t({},e,{events:s.payload.events,isFetching:!1});case o:return t({},e,{isFetching:!1});case i:var c=s.payload,l=c.field,p=c.value;return t({},e,{events:e.events.map(function(e){var n=void 0===e.shouldShowByMonth?!0:e.shouldShowByMonth,r=void 0===e.shouldShowByState?!0:e.shouldShowByState;return"months"===l&&(n=p?e.date.month===p:!0),"state"===l&&(r=p?e.location.state===p:!0),t({},e,{shouldShowByMonth:n,shouldShowByState:r})})});case a:return t({},e,{events:e.events.map(function(e){return t({},e,{shouldShowByText:!!e.title.match(new RegExp(""+s.payload.value,"i"))})})})}return e},e("default",s)}}}),e.registerDynamic("10a",["d9","10b","10c","d5"],!0,function(e,t,n){var r=e("d9"),o=e("10b"),i=e("10c");return n.exports=e("d5")(function(){var e=Object.assign,t={},n={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(e){n[e]=e}),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=o})?function(e,t){for(var n=o(e),a=arguments,u=a.length,s=1,c=r.getKeys,l=r.getSymbols,p=r.isEnum;u>s;)for(var d,f=i(a[s++]),h=l?c(f).concat(l(f)):c(f),m=h.length,v=0;m>v;)p.call(f,d=h[v++])&&(n[d]=f[d]);return n}:Object.assign,n.exports}),e.registerDynamic("10d",["d3","10a"],!0,function(e,t,n){var r=e("d3");return r(r.S+r.F,"Object",{assign:e("10a")}),n.exports}),e.registerDynamic("10e",["10d","d4"],!0,function(e,t,n){return e("10d"),n.exports=e("d4").Object.assign,n.exports}),e.registerDynamic("10f",["10e"],!0,function(e,t,n){return n.exports={"default":e("10e"),__esModule:!0},n.exports}),e.registerDynamic("a4",["10f"],!0,function(e,t,n){"use strict";var r=e("10f")["default"];return t["default"]=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.__esModule=!0,n.exports}),e.registerDynamic("110",["d9"],!0,function(e,t,n){var r=e("d9");return n.exports=function(e,t,n){return r.setDesc(e,t,n)},n.exports}),e.registerDynamic("e1",["110"],!0,function(e,t,n){return n.exports={"default":e("110"),__esModule:!0},n.exports}),e.registerDynamic("111",["e1"],!0,function(e,t,n){"use strict";var r=e("e1")["default"];return t["default"]=function(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},t.__esModule=!0,n.exports}),e.registerDynamic("10b",["112"],!0,function(e,t,n){var r=e("112");return n.exports=function(e){return Object(r(e))},n.exports}),e.registerDynamic("113",["114","d3","10b","115","116","117","118","119"],!0,function(e,t,n){"use strict";var r=e("114"),o=e("d3"),i=e("10b"),a=e("115"),u=e("116"),s=e("117"),c=e("118");return o(o.S+o.F*!e("119")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,l,p=i(e),d="function"==typeof this?this:Array,f=arguments,h=f.length,m=h>1?f[1]:void 0,v=void 0!==m,g=0,y=c(p);if(v&&(m=r(m,h>2?f[2]:void 0,2)),void 0==y||d==Array&&u(y))for(t=s(p.length),n=new d(t);t>g;g++)n[g]=v?m(p[g],g):p[g];else for(l=y.call(p),n=new d;!(o=l.next()).done;g++)n[g]=v?a(l,m,[o.value,g],!0):o.value;return n.length=g,n}}),n.exports}),e.registerDynamic("11a",["11b","113","d4"],!0,function(e,t,n){return e("11b"),e("113"),n.exports=e("d4").Array.from,n.exports}),e.registerDynamic("11c",["11a"],!0,function(e,t,n){return n.exports={"default":e("11a"),__esModule:!0},n.exports}),e.registerDynamic("108",["11c"],!0,function(e,t,n){"use strict";var r=e("11c")["default"];return t["default"]=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return r(e)},t.__esModule=!0,n.exports}),e.registerDynamic("11d",[],!0,function(e,t,n){return n.exports}),e.registerDynamic("11e",["11f","112"],!0,function(e,t,n){var r=e("11f"),o=e("112");return n.exports=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return 0>s||s>=c?e?"":void 0:(i=u.charCodeAt(s),55296>i||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):(i-55296<<10)+(a-56320)+65536)}},n.exports}),e.registerDynamic("11b",["11e","120"],!0,function(e,t,n){"use strict";var r=e("11e")(!0);return e("120")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}),n.exports}),e.registerDynamic("121",[],!0,function(e,t,n){return n.exports=function(){},n.exports}),e.registerDynamic("122",[],!0,function(e,t,n){return n.exports=function(e,t){return{value:t,done:!!e}},n.exports}),e.registerDynamic("10c",["123"],!0,function(e,t,n){var r=e("123");return n.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)},n.exports}),e.registerDynamic("112",[],!0,function(e,t,n){return n.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},n.exports}),e.registerDynamic("d7",["10c","112"],!0,function(e,t,n){var r=e("10c"),o=e("112");return n.exports=function(e){return r(o(e))},n.exports}),e.registerDynamic("124",["d9","125","126","127","128"],!0,function(e,t,n){"use strict";var r=e("d9"),o=e("125"),i=e("126"),a={};return e("127")(a,e("128")("iterator"),function(){return this}),n.exports=function(e,t,n){e.prototype=r.create(a,{next:o(1,n)}),i(e,t+" Iterator")},n.exports}),e.registerDynamic("120",["129","d3","12a","127","12b","12c","124","126","d9","128"],!0,function(e,t,n){"use strict";var r=e("129"),o=e("d3"),i=e("12a"),a=e("127"),u=e("12b"),s=e("12c"),c=e("124"),l=e("126"),p=e("d9").getProto,d=e("128")("iterator"),f=!([].keys&&"next"in[].keys()),h="@@iterator",m="keys",v="values",g=function(){return this};return n.exports=function(e,t,n,y,b,x,E){c(n,t,y);var _,C,D=function(e){if(!f&&e in N)return N[e];switch(e){case m:return function(){return new n(this,e)};case v:return function(){return new n(this,e)}}return function(){return new n(this,e)}},P=t+" Iterator",w=b==v,T=!1,N=e.prototype,S=N[d]||N[h]||b&&N[b],M=S||D(b);if(S){var k=p(M.call(new e));l(k,P,!0),!r&&u(N,h)&&a(k,d,g),w&&S.name!==v&&(T=!0,M=function(){return S.call(this)})}if(r&&!E||!f&&!T&&N[d]||a(N,d,M),s[t]=M,s[P]=g,b)if(_={values:w?M:D(v),keys:x?M:D(m),entries:w?D("entries"):M},E)for(C in _)C in N||i(N,C,_[C]);else o(o.P+o.F*(f||T),t,_);return _},n.exports}),e.registerDynamic("12d",["121","122","12c","d7","120"],!0,function(e,t,n){"use strict";var r=e("121"),o=e("122"),i=e("12c"),a=e("d7");return n.exports=e("120")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries"),n.exports}),e.registerDynamic("12e",["12d","12c"],!0,function(e,t,n){e("12d");var r=e("12c");return r.NodeList=r.HTMLCollection=r.Array,n.exports}),e.registerDynamic("129",[],!0,function(e,t,n){return n.exports=!0,n.exports}),e.registerDynamic("d3",["12f","d4","114"],!0,function(e,t,n){var r=this,r=e("12f"),o=e("d4"),i=e("114"),a="prototype",u=function(e,t,n){var s,c,l,p=e&u.F,d=e&u.G,f=e&u.S,h=e&u.P,m=e&u.B,v=e&u.W,g=d?o:o[t]||(o[t]={}),y=d?r:f?r[t]:(r[t]||{})[a];d&&(n=t);for(s in n)c=!p&&y&&s in y,c&&s in g||(l=c?y[s]:n[s],g[s]=d&&"function"!=typeof y[s]?n[s]:m&&c?i(l,r):v&&y[s]==l?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(l):h&&"function"==typeof l?i(Function.call,l):l,h&&((g[a]||(g[a]={}))[s]=l))};return u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,n.exports=u,n.exports}),e.registerDynamic("130",[],!0,function(e,t,n){return n.exports=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e},n.exports}),e.registerDynamic("115",["131"],!0,function(e,t,n){var r=e("131");return n.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(i){var a=e["return"];throw void 0!==a&&r(a.call(e)),i}},n.exports}),e.registerDynamic("116",["12c","128"],!0,function(e,t,n){var r=e("12c"),o=e("128")("iterator"),i=Array.prototype;return n.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)},n.exports}),e.registerDynamic("11f",[],!0,function(e,t,n){var r=Math.ceil,o=Math.floor;return n.exports=function(e){return isNaN(e=+e)?0:(e>0?o:r)(e)},n.exports}),e.registerDynamic("117",["11f"],!0,function(e,t,n){var r=e("11f"),o=Math.min;return n.exports=function(e){return e>0?o(r(e),9007199254740991):0},n.exports}),e.registerDynamic("132",["123","128"],!0,function(e,t,n){var r=e("123"),o=e("128")("toStringTag"),i="Arguments"==r(function(){return arguments}());return n.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[o])?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a},n.exports}),e.registerDynamic("12c",[],!0,function(e,t,n){return n.exports={},n.exports}),e.registerDynamic("118",["132","128","12c","d4"],!0,function(e,t,n){var r=e("132"),o=e("128")("iterator"),i=e("12c");return n.exports=e("d4").getIteratorMethod=function(e){return void 0!=e?e[o]||e["@@iterator"]||i[r(e)]:void 0},n.exports}),e.registerDynamic("133",["114","115","116","131","117","118"],!0,function(e,t,n){var r=e("114"),o=e("115"),i=e("116"),a=e("131"),u=e("117"),s=e("118");return n.exports=function(e,t,n,c){var l,p,d,f=s(e),h=r(n,c,t?2:1),m=0;if("function"!=typeof f)throw TypeError(e+" is not iterable!");if(i(f))for(l=u(e.length);l>m;m++)t?h(a(p=e[m])[0],p[1]):h(e[m]);else for(d=f.call(e);!(p=d.next()).done;)o(d,h,p.value,t);
},n.exports}),e.registerDynamic("de",["d9","134","131","114"],!0,function(e,t,n){var r=e("d9").getDesc,o=e("134"),i=e("131"),a=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};return n.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,o){try{o=e("114")(Function.call,r(Object.prototype,"__proto__").set,2),o(t,[]),n=!(t instanceof Array)}catch(i){n=!0}return function(e,t){return a(e,t),n?e.__proto__=t:o(e,t),e}}({},!1):void 0),check:a},n.exports}),e.registerDynamic("135",[],!0,function(e,t,n){return n.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t},n.exports}),e.registerDynamic("131",["134"],!0,function(e,t,n){var r=e("134");return n.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e},n.exports}),e.registerDynamic("136",["131","137","128"],!0,function(e,t,n){var r=e("131"),o=e("137"),i=e("128")("species");return n.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)},n.exports}),e.registerDynamic("137",[],!0,function(e,t,n){return n.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},n.exports}),e.registerDynamic("114",["137"],!0,function(e,t,n){var r=e("137");return n.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},n.exports}),e.registerDynamic("138",[],!0,function(e,t,n){return n.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)},n.exports}),e.registerDynamic("139",["12f"],!0,function(e,t,n){return n.exports=e("12f").document&&document.documentElement,n.exports}),e.registerDynamic("134",[],!0,function(e,t,n){return n.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e},n.exports}),e.registerDynamic("13a",["134","12f"],!0,function(e,t,n){var r=e("134"),o=e("12f").document,i=r(o)&&r(o.createElement);return n.exports=function(e){return i?o.createElement(e):{}},n.exports}),e.registerDynamic("13b",["114","138","139","13a","12f","123","16"],!0,function(e,t,n){return function(t){var r,o,i,a=e("114"),u=e("138"),s=e("139"),c=e("13a"),l=e("12f"),t=l.process,p=l.setImmediate,d=l.clearImmediate,f=l.MessageChannel,h=0,m={},v="onreadystatechange",g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},y=function(e){g.call(e.data)};p&&d||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++h]=function(){u("function"==typeof e?e:Function(e),t)},r(h),h},d=function(e){delete m[e]},"process"==e("123")(t)?r=function(e){t.nextTick(a(g,e,1))}:f?(o=new f,i=o.port2,o.port1.onmessage=y,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",y,!1)):r=v in c("script")?function(e){s.appendChild(c("script"))[v]=function(){s.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),n.exports={set:p,clear:d}}(e("16")),n.exports}),e.registerDynamic("123",[],!0,function(e,t,n){var r={}.toString;return n.exports=function(e){return r.call(e).slice(8,-1)},n.exports}),e.registerDynamic("13c",["12f","13b","123","16"],!0,function(e,t,n){return function(t){var r,o,i,a=e("12f"),u=e("13b").set,s=a.MutationObserver||a.WebKitMutationObserver,t=a.process,c=a.Promise,l="process"==e("123")(t),p=function(){var e,n,i;for(l&&(e=t.domain)&&(t.domain=null,e.exit());r;)n=r.domain,i=r.fn,n&&n.enter(),i(),n&&n.exit(),r=r.next;o=void 0,e&&e.enter()};if(l)i=function(){t.nextTick(p)};else if(s){var d=1,f=document.createTextNode("");new s(p).observe(f,{characterData:!0}),i=function(){f.data=d=-d}}else i=c&&c.resolve?function(){c.resolve().then(p)}:function(){u.call(a,p)};n.exports=function(e){var n={fn:e,next:void 0,domain:l&&t.domain};o&&(o.next=n),r||(r=n,i()),o=n}}(e("16")),n.exports}),e.registerDynamic("125",[],!0,function(e,t,n){return n.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},n.exports}),e.registerDynamic("127",["d9","125","13d"],!0,function(e,t,n){var r=e("d9"),o=e("125");return n.exports=e("13d")?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e},n.exports}),e.registerDynamic("12a",["127"],!0,function(e,t,n){return n.exports=e("127"),n.exports}),e.registerDynamic("13e",["12a"],!0,function(e,t,n){var r=e("12a");return n.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e},n.exports}),e.registerDynamic("12b",[],!0,function(e,t,n){var r={}.hasOwnProperty;return n.exports=function(e,t){return r.call(e,t)},n.exports}),e.registerDynamic("126",["d9","12b","128"],!0,function(e,t,n){var r=e("d9").setDesc,o=e("12b"),i=e("128")("toStringTag");return n.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})},n.exports}),e.registerDynamic("d9",[],!0,function(e,t,n){var r=Object;return n.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach},n.exports}),e.registerDynamic("d5",[],!0,function(e,t,n){return n.exports=function(e){try{return!!e()}catch(t){return!0}},n.exports}),e.registerDynamic("13d",["d5"],!0,function(e,t,n){return n.exports=!e("d5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),n.exports}),e.registerDynamic("13f",["d4","d9","13d","128"],!0,function(e,t,n){"use strict";var r=e("d4"),o=e("d9"),i=e("13d"),a=e("128")("species");return n.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.setDesc(t,a,{configurable:!0,get:function(){return this}})},n.exports}),e.registerDynamic("140",["12f"],!0,function(e,t,n){var r=this,r=e("12f"),o="__core-js_shared__",i=r[o]||(r[o]={});return n.exports=function(e){return i[e]||(i[e]={})},n.exports}),e.registerDynamic("141",[],!0,function(e,t,n){var r=0,o=Math.random();return n.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+o).toString(36))},n.exports}),e.registerDynamic("12f",[],!0,function(e,t,n){var r=this,r=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();return"number"==typeof __g&&(__g=r),n.exports}),e.registerDynamic("128",["140","141","12f"],!0,function(e,t,n){var r=e("140")("wks"),o=e("141"),i=e("12f").Symbol;return n.exports=function(e){return r[e]||(r[e]=i&&i[e]||(i||o)("Symbol."+e))},n.exports}),e.registerDynamic("119",["128"],!0,function(e,t,n){var r=e("128")("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}return n.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){n=!0},i[r]=function(){return a},e(i)}catch(u){}return n},n.exports}),e.registerDynamic("142",[],!0,function(e,t,n){function r(){l&&u&&(l=!1,u.length?c=u.concat(c):p=-1,c.length&&o())}function o(){if(!l){var e=setTimeout(r);l=!0;for(var t=c.length;t;){for(u=c,c=[];++p<t;)u&&u[p].run();p=-1,t=c.length}u=null,l=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function a(){}var u,s=n.exports={},c=[],l=!1,p=-1;return s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new i(e,t)),1!==c.length||l||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=a,s.addListener=a,s.once=a,s.off=a,s.removeListener=a,s.removeAllListeners=a,s.emit=a,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0},n.exports}),e.registerDynamic("143",["142"],!0,function(e,t,n){return n.exports=e("142"),n.exports}),e.registerDynamic("144",["143"],!0,function(t,n,r){return r.exports=e._nodeRequire?process:t("143"),r.exports}),e.registerDynamic("16",["144"],!0,function(e,t,n){return n.exports=e("144"),n.exports}),e.registerDynamic("145",["d9","129","12f","114","132","d3","134","131","137","130","133","de","135","128","136","13c","13d","13e","126","13f","d4","119","16"],!0,function(e,t,n){return function(t){"use strict";var n,r=e("d9"),o=e("129"),i=e("12f"),a=e("114"),u=e("132"),s=e("d3"),c=e("134"),l=e("131"),p=e("137"),d=e("130"),f=e("133"),h=e("de").set,m=e("135"),v=e("128")("species"),g=e("136"),y=e("13c"),b="Promise",t=i.process,x="process"==u(t),E=i[b],_=function(e){var t=new E(function(){});return e&&(t.constructor=Object),E.resolve(t)===t},C=function(){function t(e){var n=new E(e);return h(n,t.prototype),n}var n=!1;try{if(n=E&&E.resolve&&_(),h(t,E),t.prototype=r.create(E.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(n=!1),n&&e("13d")){var o=!1;E.resolve(r.setDesc({},"then",{get:function(){o=!0}})),n=o}}catch(i){n=!1}return n}(),D=function(e,t){return o&&e===E&&t===n?!0:m(e,t)},P=function(e){var t=l(e)[v];return void 0!=t?t:e},w=function(e){var t;return c(e)&&"function"==typeof(t=e.then)?t:!1},T=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=p(t),this.reject=p(n)},N=function(e){try{e()}catch(t){return{error:t}}},S=function(e,n){if(!e.n){e.n=!0;var r=e.c;y(function(){for(var o=e.v,a=1==e.s,u=0,s=function(t){var n,r,i=a?t.ok:t.fail,u=t.resolve,s=t.reject;try{i?(a||(e.h=!0),n=i===!0?o:i(o),n===t.promise?s(TypeError("Promise-chain cycle")):(r=w(n))?r.call(n,u,s):u(n)):s(o)}catch(c){s(c)}};r.length>u;)s(r[u++]);r.length=0,e.n=!1,n&&setTimeout(function(){var n,r,a=e.p;M(a)&&(x?t.emit("unhandledRejection",o,a):(n=i.onunhandledrejection)?n({promise:a,reason:o}):(r=i.console)&&r.error&&r.error("Unhandled promise rejection",o)),e.a=void 0},1)})}},M=function(e){var t,n=e._d,r=n.a||n.c,o=0;if(n.h)return!1;for(;r.length>o;)if(t=r[o++],t.fail||!M(t.promise))return!1;return!0},k=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),S(t,!0))},O=function(e){var t,n=this;if(!n.d){n.d=!0,n=n.r||n;try{if(n.p===e)throw TypeError("Promise can't be resolved itself");(t=w(e))?y(function(){var r={r:n,d:!1};try{t.call(e,a(O,r,1),a(k,r,1))}catch(o){k.call(r,o)}}):(n.v=e,n.s=1,S(n,!1))}catch(r){k.call({r:n,d:!1},r)}}};C||(E=function(e){p(e);var t=this._d={p:d(this,E,b),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(a(O,t,1),a(k,t,1))}catch(n){k.call(t,n)}},e("13e")(E.prototype,{then:function(e,t){var n=new T(g(this,E)),r=n.promise,o=this._d;return n.ok="function"==typeof e?e:!0,n.fail="function"==typeof t&&t,o.c.push(n),o.a&&o.a.push(n),o.s&&S(o,!1),r},"catch":function(e){return this.then(void 0,e)}})),s(s.G+s.W+s.F*!C,{Promise:E}),e("126")(E,b),e("13f")(b),n=e("d4")[b],s(s.S+s.F*!C,b,{reject:function(e){var t=new T(this),n=t.reject;return n(e),t.promise}}),s(s.S+s.F*(!C||_(!0)),b,{resolve:function(e){if(e instanceof E&&D(e.constructor,this))return e;var t=new T(this),n=t.resolve;return n(e),t.promise}}),s(s.S+s.F*!(C&&e("119")(function(e){E.all(e)["catch"](function(){})})),b,{all:function(e){var t=P(this),n=new T(t),o=n.resolve,i=n.reject,a=[],u=N(function(){f(e,!1,a.push,a);var n=a.length,u=Array(n);n?r.each.call(a,function(e,r){var a=!1;t.resolve(e).then(function(e){a||(a=!0,u[r]=e,--n||o(u))},i)}):o(u)});return u&&i(u.error),n.promise},race:function(e){var t=P(this),n=new T(t),r=n.reject,o=N(function(){f(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o&&r(o.error),n.promise}})}(e("16")),n.exports}),e.registerDynamic("d4",[],!0,function(e,t,n){var r=n.exports={version:"1.2.6"};return"number"==typeof __e&&(__e=r),n.exports}),e.registerDynamic("146",["11d","11b","12e","145","d4"],!0,function(e,t,n){return e("11d"),e("11b"),e("12e"),e("145"),n.exports=e("d4").Promise,n.exports}),e.registerDynamic("147",["146"],!0,function(e,t,n){return n.exports={"default":e("146"),__esModule:!0},n.exports}),e.registerDynamic("148",[],!0,function(e,t,n){var r;return!function(e,o){"use strict";"function"==typeof r&&r.amd?r("ajax",o):"object"==typeof t?t=n.exports=o():e.ajax=o()}(this,function(){"use strict";function e(e){var r=["get","post","put","delete"];return e=e||{},e.baseUrl=e.baseUrl||"",e.method&&e.url?n(e.method,e.baseUrl+e.url,t(e.data),e):r.reduce(function(r,o){return r[o]=function(r,i){return n(o,e.baseUrl+r,t(i),e)},r},{})}function t(e){return e||null}function n(e,t,n,o){var a=["then","catch","always"],s=a.reduce(function(e,t){return e[t]=function(n){return e[t]=n,e},e},{}),c=new XMLHttpRequest;return c.open(e,t,!0),r(c,o.headers),c.addEventListener("readystatechange",i(s,c),!1),c.send(u(n)),s}function r(e,t){t=t||{},o(t)||(t["Content-Type"]="application/x-www-form-urlencoded"),Object.keys(t).forEach(function(n){t[n]&&e.setRequestHeader(n,t[n])})}function o(e){return Object.keys(e).some(function(e){return"content-type"===e.toLowerCase()})}function i(e,t){return function n(){t.readyState===t.DONE&&(t.removeEventListener("readystatechange",n,!1),e.always.apply(e,a(t)),t.status>=200&&t.status<300?e.then.apply(e,a(t)):e["catch"].apply(e,a(t)))}}function a(e){var t;try{t=JSON.parse(e.responseText)}catch(n){t=e.responseText}return[t,e]}function u(e){return s(e)?c(e):e}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function c(e){return Object.keys(e).reduce(function(t,n){var r=t?t+"&":"";return r+l(n)+"="+l(e[n])},"")}function l(e){return encodeURIComponent(e)}return e}),n.exports}),e.registerDynamic("149",["148"],!0,function(e,t,n){return n.exports=e("148"),n.exports}),e.register("2",["147","149","a6"],function(e){var t,n,r,o,i,a,u,s,c;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e.FETCH_EVENTS,o=e.EVENTS_SUCCESS,i=e.EVENTS_FAILED,a=e.prepareFilterSelects}],execute:function(){"use strict";u=function(e){return{type:o,payload:{events:e}}},e("eventsSuccess",u),s=function(){return{type:i}},e("eventsFailed",s),c=function(){return function(e,o){var i=o().events.isFetching;return i?t.resolve():(e({type:r}),void n().get("data/events.json").then(function(t){e(u(t)),e(a(t))})["catch"](function(){e(s())}))}},e("fetchEvents",c)}}}),e.register("14a",["a6"],function(e){"use strict";var t,n,r,o,i,a,u,s;return{setters:[function(e){t=e.FILL_FILTER_SELECTS,n=e.CHOOSE_FILTER_SELECT,r=e.FILTER_BY_TEXT}],execute:function(){o=function(e,n){return{type:t,payload:{select:e,options:n}}},i=function(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t},a=function(e){return function(t){var n=e.map(function(e){return e.date.month}),r=e.map(function(e){return e.location.state}),a=i(n).map(function(e){return{text:e,value:e}}),u=i(r).map(function(e){return{text:e,value:e}});t(o("months",a)),t(o("state",u))}},e("prepareFilterSelects",a),u=function(e){return{type:n,payload:e}},e("chooseFilterSelect",u),s=function(e){return{type:r,payload:{value:e}}},e("filterByText",s)}}}),e.register("a6",["2","14a"],function(e){"use strict";var t,n,r,o,i,a;return{setters:[function(t){var n={};n.fetchEvents=t.fetchEvents,n.eventsSuccess=t.eventsSuccess,n.eventsFailed=t.eventsFailed,e(n)},function(t){var n={};n.prepareFilterSelects=t.prepareFilterSelects,n.chooseFilterSelect=t.chooseFilterSelect,n.filterByText=t.filterByText,e(n)}],execute:function(){t="FETCH_EVENTS",e("FETCH_EVENTS",t),n="EVENTS_SUCCESS",e("EVENTS_SUCCESS",n),r="EVENTS_FAILED",e("EVENTS_FAILED",r),o="FILL_FILTER_SELECTS",e("FILL_FILTER_SELECTS",o),i="CHOOSE_FILTER_SELECT",e("CHOOSE_FILTER_SELECT",i),a="FILTER_BY_TEXT",e("FILTER_BY_TEXT",a)}}}),e.register("14b",["108","111","a4","a6"],function(e){var t,n,r,o,i,a,u,s;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){o=e.FILL_FILTER_SELECTS,i=e.CHOOSE_FILTER_SELECT,a=e.FILTER_BY_TEXT}],execute:function(){"use strict";u={months:{icon:{id:"date",label:"Data"},label:"Escolha um mês",selected:"",options:[{text:"Escolha um mês",value:""}]},state:{icon:{id:"location",label:"Estado"},label:"Escolha um estado",selected:"",options:[{text:"Escolha um estado",value:""}]},searchField:""},s=function(e,s){switch(void 0===e&&(e=u),s.type){case o:return r({},e,n({},s.payload.select,r({},e[s.payload.select],{options:[].concat(t(e[s.payload.select].options),t(s.payload.options))})));case i:return r({},e,n({},s.payload.field,r({},e[s.payload.field],{selected:s.payload.value})));case a:return r({},e,{searchField:s.payload.value})}return e},e("default",s)}}}),e.register("14c",["109","14b"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]}],execute:function(){e("default",{events:t,filter:n})}}}),e.register("1",["107","9c","9a","a7","f7","14c"],function(e){"use strict";var t,n,r,o,i,a,u;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e.render},function(e){o=e.Provider},function(e){i=e["default"]},function(e){a=e["default"]}],execute:function(){u=t({reducers:a}),r(n.createElement(o,{store:u},n.createElement(i,null)),document.querySelector('[data-js="app"]')),u.subscribe(function(){console.log(u.getState())})}}})})(function(e){e()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4ubWluLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9GYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1N5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1N5bnRoZXRpY0lucHV0RXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0JlZm9yZUlucHV0RXZlbnRQbHVnaW4uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0NoYW5nZUV2ZW50UGx1Z2luLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9EZWZhdWx0RXZlbnRQbHVnaW5PcmRlci5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvRW50ZXJMZWF2ZUV2ZW50UGx1Z2luLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9IVE1MRE9NUHJvcGVydHlDb25maWcuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0F1dG9Gb2N1c1V0aWxzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvY2FtZWxpemUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9jYW1lbGl6ZVN0eWxlTmFtZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvQ1NTUHJvcGVydHkuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2Rhbmdlcm91c1N0eWxlVmFsdWUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9oeXBoZW5hdGUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9oeXBoZW5hdGVTdHlsZU5hbWUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9tZW1vaXplU3RyaW5nT25seS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvQ1NTUHJvcGVydHlPcGVyYXRpb25zLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTUlET3BlcmF0aW9ucy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RE9NQnV0dG9uLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTUlucHV0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTU9wdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RET01TZWxlY3QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0Rpc2FibGVkSW5wdXRVdGlscy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RET01Vbmtub3duUHJvcGVydHlEZXZ0b29sLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTURlYnVnVG9vbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RET01JbnN0cnVtZW50YXRpb24uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL3F1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9ET01Qcm9wZXJ0eU9wZXJhdGlvbnMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0xpbmtlZFZhbHVlVXRpbHMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RE9NVGV4dGFyZWEuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0Q2hpbGRSZWNvbmNpbGVyLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9mbGF0dGVuQ2hpbGRyZW4uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0TXVsdGlDaGlsZC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RET01Db21wb25lbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RE9NRW1wdHlDb21wb25lbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RE9NVHJlZVRyYXZlcnNhbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL2NyZWF0ZUFycmF5RnJvbU1peGVkLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvY3JlYXRlTm9kZXNGcm9tTWFya3VwLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvZ2V0TWFya3VwV3JhcC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvRGFuZ2VyLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvRE9NQ2hpbGRyZW5PcGVyYXRpb25zLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTVRleHRDb21wb25lbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3kuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9nZXRVbmJvdW5kZWRTY3JvbGxQb3NpdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RFdmVudExpc3RlbmVyLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdEluamVjdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvU1ZHRE9NUHJvcGVydHlDb25maWcuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2dldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2dldFRleHRDb250ZW50QWNjZXNzb3IuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RE9NU2VsZWN0aW9uLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvaXNOb2RlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvaXNUZXh0Tm9kZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL2NvbnRhaW5zTm9kZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL2ZvY3VzTm9kZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RJbnB1dFNlbGVjdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL2dldEFjdGl2ZUVsZW1lbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2lzVGV4dElucHV0RWxlbWVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL3NoYWxsb3dFcXVhbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvU2VsZWN0RXZlbnRQbHVnaW4uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9FdmVudExpc3RlbmVyLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9FdmVudFByb3BhZ2F0b3JzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9TeW50aGV0aWNBbmltYXRpb25FdmVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvU3ludGhldGljQ2xpcGJvYXJkRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1N5bnRoZXRpY0ZvY3VzRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2dldEV2ZW50S2V5LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9TeW50aGV0aWNLZXlib2FyZEV2ZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9TeW50aGV0aWNEcmFnRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1N5bnRoZXRpY1RvdWNoRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1N5bnRoZXRpY1RyYW5zaXRpb25FdmVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvU3ludGhldGljRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2dldEV2ZW50VGFyZ2V0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9TeW50aGV0aWNVSUV2ZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9nZXRFdmVudE1vZGlmaWVyU3RhdGUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1N5bnRoZXRpY01vdXNlRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1N5bnRoZXRpY1doZWVsRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2dldEV2ZW50Q2hhckNvZGUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1NpbXBsZUV2ZW50UGx1Z2luLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERlZmF1bHRJbmplY3Rpb24uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2ZpbmRET01Ob2RlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9nZXROYXRpdmVDb21wb25lbnRGcm9tQ29tcG9zaXRlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9ET01OYW1lc3BhY2VzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9lc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL3NldFRleHRDb250ZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9ET01MYXp5VHJlZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvRXZlbnRQbHVnaW5SZWdpc3RyeS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvRXZlbnRDb25zdGFudHMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0V2ZW50UGx1Z2luVXRpbHMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2FjY3VtdWxhdGVJbnRvLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9mb3JFYWNoQWNjdW11bGF0ZWQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0V2ZW50UGx1Z2luSHViLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdEV2ZW50RW1pdHRlck1peGluLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9WaWV3cG9ydE1ldHJpY3MuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2dldFZlbmRvclByZWZpeGVkRXZlbnROYW1lLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9pc0V2ZW50U3VwcG9ydGVkLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0RPTVByb3BlcnR5LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTUNvbXBvbmVudEZsYWdzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTUNvbXBvbmVudFRyZWUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL3ZhbGlkYXRlRE9NTmVzdGluZy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RET01Db250YWluZXJJbmZvLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTUZlYXR1cmVGbGFncy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvYWRsZXIzMi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RNYXJrdXBDaGVja3N1bS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RFcnJvclV0aWxzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdE5vZGVUeXBlcy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RJbnN0YW5jZU1hcC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvQ2FsbGJhY2tRdWV1ZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RGZWF0dXJlRmxhZ3MuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0T3duZXIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0UmVmLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdFJlY29uY2lsZXIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1RyYW5zYWN0aW9uLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdFVwZGF0ZXMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0VXBkYXRlUXVldWUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdEVtcHR5Q29tcG9uZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdE5hdGl2ZUNvbXBvbmVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvc2V0SW5uZXJIVE1MLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9zaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RNb3VudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvcmVuZGVyU3VidHJlZUludG9Db250YWluZXIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RE9NLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3QtZG9tQDE1LjEuMC9pbmRleC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0LWRvbUAxNS4xLjAuanMiLCJjb250YWluZXJzL2FwcC9tYWluLWhlYWRlci5qcyIsImNvbXBvbmVudHMvYmFubmVyLWJveC5qcyIsImNvbnRhaW5lcnMvbWFpbi1jb250ZW50L2hlYWRlci1iYW5uZXIuanMiLCJjb21wb25lbnRzL2Zvcm0tc2VsZWN0LmpzIiwiY29udGFpbmVycy9tYWluLWNvbnRlbnQvZm9ybS1zZWFyY2guanMiLCJjb250YWluZXJzL21haW4tY29udGVudC9oZWFkZXItZmlsdGVyLmpzIiwiY29udGFpbmVycy9tYWluLWNvbnRlbnQvaGVhZGVyLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3QtcmVkdXhANC40LjUvbGliL2NvbXBvbmVudHMvUHJvdmlkZXIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4wLjIvbGliL1Bvb2xlZENsYXNzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9LZXlFc2NhcGVVdGlscy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9saWIvdHJhdmVyc2VBbGxDaGlsZHJlbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9saWIvUmVhY3RDaGlsZHJlbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9saWIvUmVhY3RJbnZhbGlkU2V0U3RhdGVXYXJuaW5nRGV2VG9vbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9saWIvUmVhY3REZWJ1Z1Rvb2wuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4wLjIvbGliL1JlYWN0SW5zdHJ1bWVudGF0aW9uLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9SZWFjdENvbXBvbmVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9saWIvUmVhY3ROb29wVXBkYXRlUXVldWUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4wLjIvbGliL1JlYWN0Q2xhc3MuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4wLjIvbGliL1JlYWN0RE9NRmFjdG9yaWVzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9SZWFjdFByb3BUeXBlTG9jYXRpb25zLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9SZWFjdEVsZW1lbnRWYWxpZGF0b3IuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4wLjIvbGliL1JlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9nZXRJdGVyYXRvckZuLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9SZWFjdFByb3BUeXBlcy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9saWIvUmVhY3RWZXJzaW9uLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9SZWFjdEN1cnJlbnRPd25lci5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9saWIvY2FuRGVmaW5lUHJvcGVydHkuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4wLjIvbGliL1JlYWN0RWxlbWVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9saWIvb25seUNoaWxkLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9SZWFjdC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9yZWFjdC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0LXJlZHV4QDQuNC41L2xpYi91dGlscy9zdG9yZVNoYXBlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3QtcmVkdXhANC40LjUvbGliL3V0aWxzL3NoYWxsb3dFcXVhbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0LXJlZHV4QDQuNC41L2xpYi91dGlscy93cmFwQWN0aW9uQ3JlYXRvcnMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdC1yZWR1eEA0LjQuNS9saWIvdXRpbHMvd2FybmluZy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzQDEuMC41L2luZGV4LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3NAMS4wLjUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9pbnZhcmlhbnRAMi4yLjEvYnJvd3Nlci5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ludmFyaWFudEAyLjIuMS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0LXJlZHV4QDQuNC41L2xpYi9jb21wb25lbnRzL2Nvbm5lY3QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdC1yZWR1eEA0LjQuNS9saWIvaW5kZXguanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdC1yZWR1eEA0LjQuNS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQub2JqZWN0LXNhcC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9iYWJlbC1ydW50aW1lQDUuOC4zOC9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9iYWJlbC1ydW50aW1lQDUuOC4zOC9oZWxwZXJzL2dldC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vYmFiZWwtcnVudGltZUA1LjguMzgvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vYmFiZWwtcnVudGltZUA1LjguMzgvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2JhYmVsLXJ1bnRpbWVANS44LjM4L2hlbHBlcnMvaW5oZXJpdHMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9iYWJlbC1ydW50aW1lQDUuOC4zOC9oZWxwZXJzL2NyZWF0ZS1jbGFzcy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2JhYmVsLXJ1bnRpbWVANS44LjM4L2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjay5qcyIsImNvbXBvbmVudHMvbGF6eS1pbWcuanMiLCJjb21wb25lbnRzL3N2Zy1pY29uLmpzIiwiY29tcG9uZW50cy9ldmVudC1saXN0LWl0ZW0uanMiLCJjb250YWluZXJzL21haW4tY29udGVudC9wYWdlLmpzIiwiY29udGFpbmVycy9tYWluLWNvbnRlbnQvYXNpZGUuanMiLCJjb250YWluZXJzL21haW4tY29udGVudC9pbmRleC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUG9vbGVkQ2xhc3MuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0tleUVzY2FwZVV0aWxzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi90cmF2ZXJzZUFsbENoaWxkcmVuLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdENoaWxkcmVuLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9wZXJmb3JtYW5jZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL3BlcmZvcm1hbmNlTm93LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdEludmFsaWRTZXRTdGF0ZVdhcm5pbmdEZXZUb29sLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdE5hdGl2ZU9wZXJhdGlvbkhpc3RvcnlEZXZ0b29sLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERlYnVnVG9vbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RJbnN0cnVtZW50YXRpb24uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0Q29tcG9uZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdE5vb3BVcGRhdGVRdWV1ZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL2VtcHR5T2JqZWN0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIva2V5T2YuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0Q2xhc3MuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9tYXBPYmplY3QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RE9NRmFjdG9yaWVzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIva2V5TWlycm9yLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdFByb3BUeXBlTG9jYXRpb25zLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdEVsZW1lbnRWYWxpZGF0b3IuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9nZXRJdGVyYXRvckZuLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdFByb3BUeXBlcy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RWZXJzaW9uLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vb2JqZWN0LWFzc2lnbkA0LjEuMC9pbmRleC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL29iamVjdC1hc3NpZ25ANC4xLjAuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0Q3VycmVudE93bmVyLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9jYW5EZWZpbmVQcm9wZXJ0eS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RFbGVtZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvaW52YXJpYW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9vbmx5Q2hpbGQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9lbXB0eUZ1bmN0aW9uLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvd2FybmluZy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvcmVhY3QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAuanMiLCJjb250YWluZXJzL2FwcC9tYWluLWZvb3Rlci5qcyIsImNvbnRhaW5lcnMvYXBwL2luZGV4LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vc3ltYm9sLW9ic2VydmFibGVAMC4yLjQvcG9ueWZpbGwuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9zeW1ib2wtb2JzZXJ2YWJsZUAwLjIuNC9pbmRleC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3N5bWJvbC1vYnNlcnZhYmxlQDAuMi40LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVkdXhAMy41LjIvbGliL2NyZWF0ZVN0b3JlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vbG9kYXNoQDQuMTEuMS9fZ2V0UHJvdG90eXBlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vbG9kYXNoQDQuMTEuMS9faXNIb3N0T2JqZWN0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vbG9kYXNoQDQuMTEuMS9pc09iamVjdExpa2UuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9sb2Rhc2hANC4xMS4xL2lzUGxhaW5PYmplY3QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWR1eEAzLjUuMi9saWIvY29tYmluZVJlZHVjZXJzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVkdXhAMy41LjIvbGliL2JpbmRBY3Rpb25DcmVhdG9ycy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlZHV4QDMuNS4yL2xpYi9hcHBseU1pZGRsZXdhcmUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWR1eEAzLjUuMi9saWIvY29tcG9zZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlZHV4QDMuNS4yL2xpYi91dGlscy93YXJuaW5nLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVkdXhAMy41LjIvbGliL2luZGV4LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVkdXhAMy41LjIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWR1eC10aHVua0AyLjAuMS9saWIvaW5kZXguanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWR1eC10aHVua0AyLjAuMS5qcyIsInN0b3JlL2NvbmZpZ3VyZS1zdG9yZS5qcyIsInJlZHVjZXJzL2V2ZW50cy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQub2JqZWN0LWFzc2lnbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9iYWJlbC1ydW50aW1lQDUuOC4zOC9jb3JlLWpzL29iamVjdC9hc3NpZ24uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9iYWJlbC1ydW50aW1lQDUuOC4zOC9oZWxwZXJzL2V4dGVuZHMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2JhYmVsLXJ1bnRpbWVANS44LjM4L2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2JhYmVsLXJ1bnRpbWVANS44LjM4L2hlbHBlcnMvZGVmaW5lLXByb3BlcnR5LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC50by1vYmplY3QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuZnJvbS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vYmFiZWwtcnVudGltZUA1LjguMzgvY29yZS1qcy9hcnJheS9mcm9tLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vYmFiZWwtcnVudGltZUA1LjguMzgvaGVscGVycy90by1jb25zdW1hYmxlLWFycmF5LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLnN0cmluZy1hdC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmFkZC10by11bnNjb3BhYmxlcy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQuaXRlci1zdGVwLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5pb2JqZWN0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5kZWZpbmVkLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC50by1pb2JqZWN0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5pdGVyLWNyZWF0ZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQuaXRlci1kZWZpbmUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5saWJyYXJ5LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5leHBvcnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLnN0cmljdC1uZXcuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItY2FsbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQuaXMtYXJyYXktaXRlci5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQudG8taW50ZWdlci5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQudG8tbGVuZ3RoLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5jbGFzc29mLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5pdGVyYXRvcnMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmZvci1vZi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQuc2V0LXByb3RvLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5zYW1lLXZhbHVlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5hbi1vYmplY3QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLnNwZWNpZXMtY29uc3RydWN0b3IuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmEtZnVuY3Rpb24uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmN0eC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQuaW52b2tlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5odG1sLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5pcy1vYmplY3QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmRvbS1jcmVhdGUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLnRhc2suanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmNvZi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQubWljcm90YXNrLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5wcm9wZXJ0eS1kZXNjLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5oaWRlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5yZWRlZmluZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQucmVkZWZpbmUtYWxsLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5oYXMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLnNldC10by1zdHJpbmctdGFnLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQuZmFpbHMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmRlc2NyaXB0b3JzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5zZXQtc3BlY2llcy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQuc2hhcmVkLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC51aWQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmdsb2JhbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQud2tzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5pdGVyLWRldGVjdC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3Byb2Nlc3NAMC4xMS4zL2Jyb3dzZXIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9wcm9jZXNzQDAuMTEuMy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvZ2l0aHViL2pzcG0vbm9kZWxpYnMtcHJvY2Vzc0AwLjEuMi9pbmRleC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvZ2l0aHViL2pzcG0vbm9kZWxpYnMtcHJvY2Vzc0AwLjEuMi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzL2VzNi5wcm9taXNlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5jb3JlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L2ZuL3Byb21pc2UuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9iYWJlbC1ydW50aW1lQDUuOC4zOC9jb3JlLWpzL3Byb21pc2UuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9AZmRhY2l1ay9hamF4QDIuMC4xL2Rpc3QvYWpheC5taW4uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9AZmRhY2l1ay9hamF4QDIuMC4xLmpzIiwiYWN0aW9ucy9ldmVudHMuanMiLCJhY3Rpb25zL2ZpbHRlci5qcyIsImFjdGlvbnMvaW5kZXguanMiLCJyZWR1Y2Vycy9maWx0ZXIuanMiLCJyZWR1Y2Vycy9pbmRleC5qcyIsImluZGV4LmpzIl0sIm5hbWVzIjpbImUiLCJyIiwibyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInQiLCJhcHBseSIsInRoaXMiLCJuIiwiZGVjbGFyYXRpdmUiLCJkZXBzIiwiZGVjbGFyZSIsImV4ZWN1dGluZ1JlcXVpcmUiLCJleGVjdXRlIiwibmFtZSIsImciLCJub3JtYWxpemVkRGVwcyIsImdyb3VwSW5kZXgiLCJtIiwiY2FsbCIsInB1c2giLCJhIiwidSIsImV2YWx1YXRlZCIsImQiLCJzcGxpY2UiLCJUeXBlRXJyb3IiLCJpIiwicyIsImwiLCJEIiwiZGVwZW5kZW5jaWVzIiwiZXhwb3J0cyIsImltcG9ydGVycyIsIm1vZHVsZSIsImxvY2tlZCIsInNldHRlcnMiLCJjIiwiZiIsImVzTW9kdWxlIiwidiIsInAiLCJFcnJvciIsIl9fdXNlRGVmYXVsdCIsImlkIiwiX19lc01vZHVsZSIsImhhc093blByb3BlcnR5IiwiaCIsInkiLCJ2YWx1ZSIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIkkiLCJzdWJzdHIiLCJfIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJpbmRleE9mIiwieCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiU3lzdGVtIiwiX25vZGVSZXF1aXJlIiwicmVxdWlyZSIsInJlc29sdmUiLCJwcm9jZXNzIiwiQGVtcHR5IiwicmVnaXN0ZXIiLCJyZWdpc3RlckR5bmFtaWMiLCJzZXQiLCJuZXdNb2R1bGUiLCJzZWxmIiwiZ2xvYmFsIiwiJF9fU3lzdGVtIiwiJF9fcmVxdWlyZSIsIkZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZSIsInJvb3QiLCJfcm9vdCIsIl9zdGFydFRleHQiLCJnZXRUZXh0IiwiX2ZhbGxiYWNrVGV4dCIsIl9hc3NpZ24iLCJQb29sZWRDbGFzcyIsImdldFRleHRDb250ZW50QWNjZXNzb3IiLCJkZXN0cnVjdG9yIiwiZ2V0RGF0YSIsInN0YXJ0IiwiZW5kIiwic3RhcnRWYWx1ZSIsInN0YXJ0TGVuZ3RoIiwiZW5kVmFsdWUiLCJlbmRMZW5ndGgiLCJtaW5FbmQiLCJzbGljZVRhaWwiLCJ1bmRlZmluZWQiLCJzbGljZSIsImFkZFBvb2xpbmdUbyIsIlN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQiLCJkaXNwYXRjaENvbmZpZyIsImRpc3BhdGNoTWFya2VyIiwibmF0aXZlRXZlbnQiLCJuYXRpdmVFdmVudFRhcmdldCIsIlN5bnRoZXRpY0V2ZW50IiwiQ29tcG9zaXRpb25FdmVudEludGVyZmFjZSIsImRhdGEiLCJhdWdtZW50Q2xhc3MiLCJTeW50aGV0aWNJbnB1dEV2ZW50IiwiSW5wdXRFdmVudEludGVyZmFjZSIsImlzUHJlc3RvIiwib3BlcmEiLCJ3aW5kb3ciLCJ2ZXJzaW9uIiwicGFyc2VJbnQiLCJpc0tleXByZXNzQ29tbWFuZCIsImN0cmxLZXkiLCJhbHRLZXkiLCJtZXRhS2V5IiwiZ2V0Q29tcG9zaXRpb25FdmVudFR5cGUiLCJ0b3BMZXZlbFR5cGUiLCJ0b3BMZXZlbFR5cGVzIiwidG9wQ29tcG9zaXRpb25TdGFydCIsImV2ZW50VHlwZXMiLCJjb21wb3NpdGlvblN0YXJ0IiwidG9wQ29tcG9zaXRpb25FbmQiLCJjb21wb3NpdGlvbkVuZCIsInRvcENvbXBvc2l0aW9uVXBkYXRlIiwiY29tcG9zaXRpb25VcGRhdGUiLCJpc0ZhbGxiYWNrQ29tcG9zaXRpb25TdGFydCIsInRvcEtleURvd24iLCJrZXlDb2RlIiwiU1RBUlRfS0VZQ09ERSIsImlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCIsInRvcEtleVVwIiwiRU5EX0tFWUNPREVTIiwidG9wS2V5UHJlc3MiLCJ0b3BNb3VzZURvd24iLCJ0b3BCbHVyIiwiZ2V0RGF0YUZyb21DdXN0b21FdmVudCIsImRldGFpbCIsImV4dHJhY3RDb21wb3NpdGlvbkV2ZW50IiwidGFyZ2V0SW5zdCIsImV2ZW50VHlwZSIsImZhbGxiYWNrRGF0YSIsImNhblVzZUNvbXBvc2l0aW9uRXZlbnQiLCJjdXJyZW50Q29tcG9zaXRpb24iLCJ1c2VGYWxsYmFja0NvbXBvc2l0aW9uRGF0YSIsImdldFBvb2xlZCIsImV2ZW50IiwiY3VzdG9tRGF0YSIsIkV2ZW50UHJvcGFnYXRvcnMiLCJhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzIiwiZ2V0TmF0aXZlQmVmb3JlSW5wdXRDaGFycyIsIndoaWNoIiwiU1BBQ0VCQVJfQ09ERSIsImhhc1NwYWNlS2V5cHJlc3MiLCJTUEFDRUJBUl9DSEFSIiwidG9wVGV4dElucHV0IiwiY2hhcnMiLCJnZXRGYWxsYmFja0JlZm9yZUlucHV0Q2hhcnMiLCJyZWxlYXNlIiwidG9wUGFzdGUiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJleHRyYWN0QmVmb3JlSW5wdXRFdmVudCIsImNhblVzZVRleHRJbnB1dEV2ZW50IiwiYmVmb3JlSW5wdXQiLCJFdmVudENvbnN0YW50cyIsIkV4ZWN1dGlvbkVudmlyb25tZW50Iiwia2V5T2YiLCJjYW5Vc2VET00iLCJkb2N1bWVudE1vZGUiLCJkb2N1bWVudCIsInBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzIiwiYnViYmxlZCIsIm9uQmVmb3JlSW5wdXQiLCJjYXB0dXJlZCIsIm9uQmVmb3JlSW5wdXRDYXB0dXJlIiwib25Db21wb3NpdGlvbkVuZCIsIm9uQ29tcG9zaXRpb25FbmRDYXB0dXJlIiwib25Db21wb3NpdGlvblN0YXJ0Iiwib25Db21wb3NpdGlvblN0YXJ0Q2FwdHVyZSIsIm9uQ29tcG9zaXRpb25VcGRhdGUiLCJvbkNvbXBvc2l0aW9uVXBkYXRlQ2FwdHVyZSIsIkJlZm9yZUlucHV0RXZlbnRQbHVnaW4iLCJleHRyYWN0RXZlbnRzIiwic2hvdWxkVXNlQ2hhbmdlRXZlbnQiLCJlbGVtIiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsInR5cGUiLCJtYW51YWxEaXNwYXRjaENoYW5nZUV2ZW50IiwiY2hhbmdlIiwiYWN0aXZlRWxlbWVudEluc3QiLCJnZXRFdmVudFRhcmdldCIsIlJlYWN0VXBkYXRlcyIsImJhdGNoZWRVcGRhdGVzIiwicnVuRXZlbnRJbkJhdGNoIiwiRXZlbnRQbHVnaW5IdWIiLCJlbnF1ZXVlRXZlbnRzIiwicHJvY2Vzc0V2ZW50UXVldWUiLCJzdGFydFdhdGNoaW5nRm9yQ2hhbmdlRXZlbnRJRTgiLCJ0YXJnZXQiLCJhY3RpdmVFbGVtZW50IiwiYXR0YWNoRXZlbnQiLCJzdG9wV2F0Y2hpbmdGb3JDaGFuZ2VFdmVudElFOCIsImRldGFjaEV2ZW50IiwiZ2V0VGFyZ2V0SW5zdEZvckNoYW5nZUV2ZW50IiwidG9wQ2hhbmdlIiwiaGFuZGxlRXZlbnRzRm9yQ2hhbmdlRXZlbnRJRTgiLCJ0b3BGb2N1cyIsInN0YXJ0V2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSIsImFjdGl2ZUVsZW1lbnRWYWx1ZSIsImFjdGl2ZUVsZW1lbnRWYWx1ZVByb3AiLCJjb25zdHJ1Y3RvciIsIm5ld1ZhbHVlUHJvcCIsImhhbmRsZVByb3BlcnR5Q2hhbmdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInByb3BlcnR5TmFtZSIsInNyY0VsZW1lbnQiLCJnZXRUYXJnZXRJbnN0Rm9ySW5wdXRFdmVudCIsInRvcElucHV0IiwiaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudElFIiwiZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnRJRSIsInRvcFNlbGVjdGlvbkNoYW5nZSIsInNob3VsZFVzZUNsaWNrRXZlbnQiLCJnZXRUYXJnZXRJbnN0Rm9yQ2xpY2tFdmVudCIsInRvcENsaWNrIiwiUmVhY3RET01Db21wb25lbnRUcmVlIiwiaXNFdmVudFN1cHBvcnRlZCIsImlzVGV4dElucHV0RWxlbWVudCIsIm9uQ2hhbmdlIiwib25DaGFuZ2VDYXB0dXJlIiwiZG9lc0NoYW5nZUV2ZW50QnViYmxlIiwiaXNJbnB1dEV2ZW50U3VwcG9ydGVkIiwidmFsIiwiQ2hhbmdlRXZlbnRQbHVnaW4iLCJnZXRUYXJnZXRJbnN0RnVuYyIsImhhbmRsZUV2ZW50RnVuYyIsInRhcmdldE5vZGUiLCJnZXROb2RlRnJvbUluc3RhbmNlIiwiaW5zdCIsIkRlZmF1bHRFdmVudFBsdWdpbk9yZGVyIiwiUmVzcG9uZGVyRXZlbnRQbHVnaW4iLCJTaW1wbGVFdmVudFBsdWdpbiIsIlRhcEV2ZW50UGx1Z2luIiwiRW50ZXJMZWF2ZUV2ZW50UGx1Z2luIiwiU2VsZWN0RXZlbnRQbHVnaW4iLCJTeW50aGV0aWNNb3VzZUV2ZW50IiwibW91c2VFbnRlciIsInJlZ2lzdHJhdGlvbk5hbWUiLCJvbk1vdXNlRW50ZXIiLCJ0b3BNb3VzZU91dCIsInRvcE1vdXNlT3ZlciIsIm1vdXNlTGVhdmUiLCJvbk1vdXNlTGVhdmUiLCJyZWxhdGVkVGFyZ2V0IiwiZnJvbUVsZW1lbnQiLCJ3aW4iLCJkb2MiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJwYXJlbnRXaW5kb3ciLCJmcm9tIiwidG8iLCJyZWxhdGVkIiwidG9FbGVtZW50IiwiZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUiLCJmcm9tTm9kZSIsInRvTm9kZSIsImxlYXZlIiwiZW50ZXIiLCJhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXMiLCJET01Qcm9wZXJ0eSIsIk1VU1RfVVNFX1BST1BFUlRZIiwiaW5qZWN0aW9uIiwiSEFTX0JPT0xFQU5fVkFMVUUiLCJIQVNfU0lERV9FRkZFQ1RTIiwiSEFTX05VTUVSSUNfVkFMVUUiLCJIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSIsIkhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUUiLCJIVE1MRE9NUHJvcGVydHlDb25maWciLCJpc0N1c3RvbUF0dHJpYnV0ZSIsIlJlZ0V4cCIsInRlc3QiLCJiaW5kIiwiQVRUUklCVVRFX05BTUVfQ0hBUiIsIlByb3BlcnRpZXMiLCJhY2NlcHQiLCJhY2NlcHRDaGFyc2V0IiwiYWNjZXNzS2V5IiwiYWN0aW9uIiwiYWxsb3dGdWxsU2NyZWVuIiwiYWxsb3dUcmFuc3BhcmVuY3kiLCJhbHQiLCJhc3luYyIsImF1dG9Db21wbGV0ZSIsImF1dG9QbGF5IiwiY2FwdHVyZSIsImNlbGxQYWRkaW5nIiwiY2VsbFNwYWNpbmciLCJjaGFyU2V0IiwiY2hhbGxlbmdlIiwiY2hlY2tlZCIsImNpdGUiLCJjbGFzc0lEIiwiY2xhc3NOYW1lIiwiY29scyIsImNvbFNwYW4iLCJjb250ZW50IiwiY29udGVudEVkaXRhYmxlIiwiY29udGV4dE1lbnUiLCJjb250cm9scyIsImNvb3JkcyIsImNyb3NzT3JpZ2luIiwiZGF0ZVRpbWUiLCJkZWZhdWx0IiwiZGVmZXIiLCJkaXIiLCJkaXNhYmxlZCIsImRvd25sb2FkIiwiZHJhZ2dhYmxlIiwiZW5jVHlwZSIsImZvcm0iLCJmb3JtQWN0aW9uIiwiZm9ybUVuY1R5cGUiLCJmb3JtTWV0aG9kIiwiZm9ybU5vVmFsaWRhdGUiLCJmb3JtVGFyZ2V0IiwiZnJhbWVCb3JkZXIiLCJoZWFkZXJzIiwiaGVpZ2h0IiwiaGlkZGVuIiwiaGlnaCIsImhyZWYiLCJocmVmTGFuZyIsImh0bWxGb3IiLCJodHRwRXF1aXYiLCJpY29uIiwiaW5wdXRNb2RlIiwiaW50ZWdyaXR5IiwiaXMiLCJrZXlQYXJhbXMiLCJrZXlUeXBlIiwia2luZCIsImxhYmVsIiwibGFuZyIsImxpc3QiLCJsb29wIiwibG93IiwibWFuaWZlc3QiLCJtYXJnaW5IZWlnaHQiLCJtYXJnaW5XaWR0aCIsIm1heCIsIm1heExlbmd0aCIsIm1lZGlhIiwibWVkaWFHcm91cCIsIm1ldGhvZCIsIm1pbiIsIm1pbkxlbmd0aCIsIm11bHRpcGxlIiwibXV0ZWQiLCJub25jZSIsIm5vVmFsaWRhdGUiLCJvcGVuIiwib3B0aW11bSIsInBhdHRlcm4iLCJwbGFjZWhvbGRlciIsInBvc3RlciIsInByZWxvYWQiLCJwcm9maWxlIiwicmFkaW9Hcm91cCIsInJlYWRPbmx5IiwicmVsIiwicmVxdWlyZWQiLCJyZXZlcnNlZCIsInJvbGUiLCJyb3dzIiwicm93U3BhbiIsInNhbmRib3giLCJzY29wZSIsInNjb3BlZCIsInNjcm9sbGluZyIsInNlYW1sZXNzIiwic2VsZWN0ZWQiLCJzaGFwZSIsInNpemUiLCJzaXplcyIsInNwYW4iLCJzcGVsbENoZWNrIiwic3JjIiwic3JjRG9jIiwic3JjTGFuZyIsInNyY1NldCIsInN0ZXAiLCJzdHlsZSIsInN1bW1hcnkiLCJ0YWJJbmRleCIsInRpdGxlIiwidXNlTWFwIiwid2lkdGgiLCJ3bW9kZSIsIndyYXAiLCJhYm91dCIsImRhdGF0eXBlIiwiaW5saXN0IiwicHJlZml4IiwicHJvcGVydHkiLCJyZXNvdXJjZSIsInR5cGVvZiIsInZvY2FiIiwiYXV0b0NhcGl0YWxpemUiLCJhdXRvQ29ycmVjdCIsImF1dG9TYXZlIiwiY29sb3IiLCJpdGVtUHJvcCIsIml0ZW1TY29wZSIsIml0ZW1UeXBlIiwiaXRlbUlEIiwiaXRlbVJlZiIsInJlc3VsdHMiLCJzZWN1cml0eSIsInVuc2VsZWN0YWJsZSIsIkRPTUF0dHJpYnV0ZU5hbWVzIiwiRE9NUHJvcGVydHlOYW1lcyIsImZvY3VzTm9kZSIsIkF1dG9Gb2N1c1V0aWxzIiwiZm9jdXNET01Db21wb25lbnQiLCJjYW1lbGl6ZSIsInN0cmluZyIsInJlcGxhY2UiLCJfaHlwaGVuUGF0dGVybiIsImNoYXJhY3RlciIsInRvVXBwZXJDYXNlIiwiY2FtZWxpemVTdHlsZU5hbWUiLCJtc1BhdHRlcm4iLCJwcmVmaXhLZXkiLCJrZXkiLCJjaGFyQXQiLCJzdWJzdHJpbmciLCJpc1VuaXRsZXNzTnVtYmVyIiwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQiLCJib3JkZXJJbWFnZU91dHNldCIsImJvcmRlckltYWdlU2xpY2UiLCJib3JkZXJJbWFnZVdpZHRoIiwiYm94RmxleCIsImJveEZsZXhHcm91cCIsImJveE9yZGluYWxHcm91cCIsImNvbHVtbkNvdW50IiwiZmxleCIsImZsZXhHcm93IiwiZmxleFBvc2l0aXZlIiwiZmxleFNocmluayIsImZsZXhOZWdhdGl2ZSIsImZsZXhPcmRlciIsImdyaWRSb3ciLCJncmlkQ29sdW1uIiwiZm9udFdlaWdodCIsImxpbmVDbGFtcCIsImxpbmVIZWlnaHQiLCJvcGFjaXR5Iiwib3JkZXIiLCJvcnBoYW5zIiwidGFiU2l6ZSIsIndpZG93cyIsInpJbmRleCIsInpvb20iLCJmaWxsT3BhY2l0eSIsImZsb29kT3BhY2l0eSIsInN0b3BPcGFjaXR5Iiwic3Ryb2tlRGFzaGFycmF5Iiwic3Ryb2tlRGFzaG9mZnNldCIsInN0cm9rZU1pdGVybGltaXQiLCJzdHJva2VPcGFjaXR5Iiwic3Ryb2tlV2lkdGgiLCJwcmVmaXhlcyIsImtleXMiLCJmb3JFYWNoIiwicHJvcCIsInNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9ucyIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kQXR0YWNobWVudCIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRQb3NpdGlvblgiLCJiYWNrZ3JvdW5kUG9zaXRpb25ZIiwiYmFja2dyb3VuZFJlcGVhdCIsImJhY2tncm91bmRQb3NpdGlvbiIsImJvcmRlciIsImJvcmRlcldpZHRoIiwiYm9yZGVyU3R5bGUiLCJib3JkZXJDb2xvciIsImJvcmRlckJvdHRvbSIsImJvcmRlckJvdHRvbVdpZHRoIiwiYm9yZGVyQm90dG9tU3R5bGUiLCJib3JkZXJCb3R0b21Db2xvciIsImJvcmRlckxlZnQiLCJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJMZWZ0U3R5bGUiLCJib3JkZXJMZWZ0Q29sb3IiLCJib3JkZXJSaWdodCIsImJvcmRlclJpZ2h0V2lkdGgiLCJib3JkZXJSaWdodFN0eWxlIiwiYm9yZGVyUmlnaHRDb2xvciIsImJvcmRlclRvcCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyVG9wU3R5bGUiLCJib3JkZXJUb3BDb2xvciIsImZvbnQiLCJmb250U3R5bGUiLCJmb250VmFyaWFudCIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsIm91dGxpbmUiLCJvdXRsaW5lV2lkdGgiLCJvdXRsaW5lU3R5bGUiLCJvdXRsaW5lQ29sb3IiLCJDU1NQcm9wZXJ0eSIsImRhbmdlcm91c1N0eWxlVmFsdWUiLCJjb21wb25lbnQiLCJpc0VtcHR5IiwiaXNOb25OdW1lcmljIiwiaXNOYU4iLCJ0cmltIiwiaHlwaGVuYXRlIiwiX3VwcGVyY2FzZVBhdHRlcm4iLCJoeXBoZW5hdGVTdHlsZU5hbWUiLCJtZW1vaXplU3RyaW5nT25seSIsImNhbGxiYWNrIiwiY2FjaGUiLCJwcm9jZXNzU3R5bGVOYW1lIiwic3R5bGVOYW1lIiwiaGFzU2hvcnRoYW5kUHJvcGVydHlCdWciLCJzdHlsZUZsb2F0QWNjZXNzb3IiLCJ0ZW1wU3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY3NzRmxvYXQiLCJDU1NQcm9wZXJ0eU9wZXJhdGlvbnMiLCJjcmVhdGVNYXJrdXBGb3JTdHlsZXMiLCJzdHlsZXMiLCJzZXJpYWxpemVkIiwic3R5bGVWYWx1ZSIsInNldFZhbHVlRm9yU3R5bGVzIiwibm9kZSIsImV4cGFuc2lvbiIsImluZGl2aWR1YWxTdHlsZU5hbWUiLCJET01DaGlsZHJlbk9wZXJhdGlvbnMiLCJSZWFjdERPTUlET3BlcmF0aW9ucyIsImRhbmdlcm91c2x5UHJvY2Vzc0NoaWxkcmVuVXBkYXRlcyIsInBhcmVudEluc3QiLCJ1cGRhdGVzIiwicHJvY2Vzc1VwZGF0ZXMiLCJSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCIsInByb2Nlc3NDaGlsZHJlblVwZGF0ZXMiLCJyZXBsYWNlTm9kZVdpdGhNYXJrdXAiLCJkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cCIsInVubW91bnRJREZyb21FbnZpcm9ubWVudCIsInJvb3ROb2RlSUQiLCJEaXNhYmxlZElucHV0VXRpbHMiLCJSZWFjdERPTUJ1dHRvbiIsImdldE5hdGl2ZVByb3BzIiwiZm9yY2VVcGRhdGVJZk1vdW50ZWQiLCJfcm9vdE5vZGVJRCIsIlJlYWN0RE9NSW5wdXQiLCJ1cGRhdGVXcmFwcGVyIiwiX2hhbmRsZUNoYW5nZSIsInByb3BzIiwiX2N1cnJlbnRFbGVtZW50IiwicmV0dXJuVmFsdWUiLCJMaW5rZWRWYWx1ZVV0aWxzIiwiZXhlY3V0ZU9uQ2hhbmdlIiwiYXNhcCIsInJvb3ROb2RlIiwicXVlcnlSb290IiwicGFyZW50Tm9kZSIsImdyb3VwIiwicXVlcnlTZWxlY3RvckFsbCIsIkpTT04iLCJzdHJpbmdpZnkiLCJvdGhlck5vZGUiLCJvdGhlckluc3RhbmNlIiwiZ2V0SW5zdGFuY2VGcm9tTm9kZSIsImludmFyaWFudCIsIkRPTVByb3BlcnR5T3BlcmF0aW9ucyIsImdldFZhbHVlIiwiZ2V0Q2hlY2tlZCIsIm5hdGl2ZVByb3BzIiwiZGVmYXVsdENoZWNrZWQiLCJkZWZhdWx0VmFsdWUiLCJfd3JhcHBlclN0YXRlIiwiaW5pdGlhbFZhbHVlIiwiaW5pdGlhbENoZWNrZWQiLCJtb3VudFdyYXBwZXIiLCJsaXN0ZW5lcnMiLCJzZXRWYWx1ZUZvclByb3BlcnR5IiwiUmVhY3RDaGlsZHJlbiIsIlJlYWN0RE9NU2VsZWN0IiwiUmVhY3RET01PcHRpb24iLCJuYXRpdmVQYXJlbnQiLCJzZWxlY3RWYWx1ZSIsInNlbGVjdFBhcmVudCIsIl90YWciLCJfbmF0aXZlUGFyZW50IiwiZ2V0U2VsZWN0VmFsdWVDb250ZXh0IiwiaXNBcnJheSIsInBvc3RNb3VudFdyYXBwZXIiLCJzZXRBdHRyaWJ1dGUiLCJjaGlsZHJlbiIsImNoaWxkIiwidXBkYXRlT3B0aW9uc0lmUGVuZGluZ1VwZGF0ZUFuZE1vdW50ZWQiLCJwZW5kaW5nVXBkYXRlIiwidXBkYXRlT3B0aW9ucyIsIkJvb2xlYW4iLCJwcm9wVmFsdWUiLCJzZWxlY3RlZFZhbHVlIiwib3B0aW9ucyIsImRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSIsIndhc011bHRpcGxlIiwicG9zdFVwZGF0ZVdyYXBwZXIiLCJkaXNhYmxlYWJsZU1vdXNlTGlzdGVuZXJOYW1lcyIsIm9uQ2xpY2siLCJvbkRvdWJsZUNsaWNrIiwib25Nb3VzZURvd24iLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VVcCIsIm9uQ2xpY2tDYXB0dXJlIiwib25Eb3VibGVDbGlja0NhcHR1cmUiLCJvbk1vdXNlRG93bkNhcHR1cmUiLCJvbk1vdXNlTW92ZUNhcHR1cmUiLCJvbk1vdXNlVXBDYXB0dXJlIiwid2FyblVua25vd25Qcm9wZXJ0eSIsIlJlYWN0RE9NVW5rbm93blByb3BlcnR5RGV2dG9vbCIsIm9uQ3JlYXRlTWFya3VwRm9yUHJvcGVydHkiLCJvblNldFZhbHVlRm9yUHJvcGVydHkiLCJvbkRlbGV0ZVZhbHVlRm9yUHJvcGVydHkiLCJlbWl0RXZlbnQiLCJoYW5kbGVyRnVuY3Rpb25OYW1lIiwiYXJnMSIsImFyZzIiLCJhcmczIiwiYXJnNCIsImFyZzUiLCJldmVudEhhbmRsZXJzIiwiUmVhY3RET01EZWJ1Z1Rvb2wiLCJhZGREZXZ0b29sIiwiZGV2dG9vbCIsInJlbW92ZURldnRvb2wiLCJkZWJ1Z1Rvb2wiLCJxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3NlciIsImVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlciIsImlzQXR0cmlidXRlTmFtZVNhZmUiLCJhdHRyaWJ1dGVOYW1lIiwidmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlIiwiaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZSIsIlZBTElEX0FUVFJJQlVURV9OQU1FX1JFR0VYIiwic2hvdWxkSWdub3JlVmFsdWUiLCJwcm9wZXJ0eUluZm8iLCJoYXNCb29sZWFuVmFsdWUiLCJoYXNOdW1lcmljVmFsdWUiLCJoYXNQb3NpdGl2ZU51bWVyaWNWYWx1ZSIsImhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWUiLCJBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSIiwiY3JlYXRlTWFya3VwRm9ySUQiLCJJRF9BVFRSSUJVVEVfTkFNRSIsInNldEF0dHJpYnV0ZUZvcklEIiwiY3JlYXRlTWFya3VwRm9yUm9vdCIsIlJPT1RfQVRUUklCVVRFX05BTUUiLCJzZXRBdHRyaWJ1dGVGb3JSb290IiwiY3JlYXRlTWFya3VwRm9yUHJvcGVydHkiLCJwcm9wZXJ0aWVzIiwiY3JlYXRlTWFya3VwRm9yQ3VzdG9tQXR0cmlidXRlIiwibXV0YXRpb25NZXRob2QiLCJkZWxldGVWYWx1ZUZvclByb3BlcnR5IiwibXVzdFVzZVByb3BlcnR5IiwicHJvcE5hbWUiLCJoYXNTaWRlRWZmZWN0cyIsIm5hbWVzcGFjZSIsImF0dHJpYnV0ZU5hbWVzcGFjZSIsInNldEF0dHJpYnV0ZU5TIiwic2V0VmFsdWVGb3JBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfYXNzZXJ0U2luZ2xlTGluayIsImlucHV0UHJvcHMiLCJjaGVja2VkTGluayIsInZhbHVlTGluayIsIl9hc3NlcnRWYWx1ZUxpbmsiLCJfYXNzZXJ0Q2hlY2tlZExpbmsiLCJnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0iLCJvd25lciIsImdldE5hbWUiLCJSZWFjdFByb3BUeXBlcyIsIlJlYWN0UHJvcFR5cGVMb2NhdGlvbnMiLCJoYXNSZWFkT25seVZhbHVlIiwiYnV0dG9uIiwiY2hlY2tib3giLCJpbWFnZSIsInJhZGlvIiwicmVzZXQiLCJzdWJtaXQiLCJwcm9wVHlwZXMiLCJjb21wb25lbnROYW1lIiwiZnVuYyIsImxvZ2dlZFR5cGVGYWlsdXJlcyIsImNoZWNrUHJvcFR5cGVzIiwidGFnTmFtZSIsImVycm9yIiwibWVzc2FnZSIsInJlcXVlc3RDaGFuZ2UiLCJSZWFjdERPTVRleHRhcmVhIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJpbnN0YW50aWF0ZUNoaWxkIiwiY2hpbGRJbnN0YW5jZXMiLCJrZXlVbmlxdWUiLCJpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50IiwiUmVhY3RSZWNvbmNpbGVyIiwic2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQiLCJ0cmF2ZXJzZUFsbENoaWxkcmVuIiwiUmVhY3RDaGlsZFJlY29uY2lsZXIiLCJpbnN0YW50aWF0ZUNoaWxkcmVuIiwibmVzdGVkQ2hpbGROb2RlcyIsInRyYW5zYWN0aW9uIiwiY29udGV4dCIsInVwZGF0ZUNoaWxkcmVuIiwicHJldkNoaWxkcmVuIiwibmV4dENoaWxkcmVuIiwicmVtb3ZlZE5vZGVzIiwicHJldkNoaWxkIiwicHJldkVsZW1lbnQiLCJuZXh0RWxlbWVudCIsInJlY2VpdmVDb21wb25lbnQiLCJnZXROYXRpdmVOb2RlIiwidW5tb3VudENvbXBvbmVudCIsIm5leHRDaGlsZEluc3RhbmNlIiwidW5tb3VudENoaWxkcmVuIiwicmVuZGVyZWRDaGlsZHJlbiIsInNhZmVseSIsInJlbmRlcmVkQ2hpbGQiLCJmbGF0dGVuU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCIsInRyYXZlcnNlQ29udGV4dCIsInJlc3VsdCIsImZsYXR0ZW5DaGlsZHJlbiIsIm1ha2VJbnNlcnRNYXJrdXAiLCJtYXJrdXAiLCJhZnRlck5vZGUiLCJ0b0luZGV4IiwiUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMiLCJJTlNFUlRfTUFSS1VQIiwiZnJvbUluZGV4IiwibWFrZU1vdmUiLCJNT1ZFX0VYSVNUSU5HIiwiX21vdW50SW5kZXgiLCJtYWtlUmVtb3ZlIiwiUkVNT1ZFX05PREUiLCJtYWtlU2V0TWFya3VwIiwiU0VUX01BUktVUCIsIm1ha2VUZXh0Q29udGVudCIsInRleHRDb250ZW50IiwiVEVYVF9DT05URU5UIiwiZW5xdWV1ZSIsInF1ZXVlIiwidXBkYXRlIiwicHJvY2Vzc1F1ZXVlIiwidXBkYXRlUXVldWUiLCJSZWFjdENvbXBvbmVudEVudmlyb25tZW50IiwiUmVhY3RNdWx0aUNoaWxkIiwiTWl4aW4iLCJfcmVjb25jaWxlckluc3RhbnRpYXRlQ2hpbGRyZW4iLCJuZXN0ZWRDaGlsZHJlbiIsIl9yZWNvbmNpbGVyVXBkYXRlQ2hpbGRyZW4iLCJuZXh0TmVzdGVkQ2hpbGRyZW5FbGVtZW50cyIsIm1vdW50Q2hpbGRyZW4iLCJfcmVuZGVyZWRDaGlsZHJlbiIsIm1vdW50SW1hZ2VzIiwiaW5kZXgiLCJtb3VudEltYWdlIiwibW91bnRDb21wb25lbnQiLCJfbmF0aXZlQ29udGFpbmVySW5mbyIsInVwZGF0ZVRleHRDb250ZW50IiwibmV4dENvbnRlbnQiLCJ1cGRhdGVNYXJrdXAiLCJuZXh0TWFya3VwIiwiX3VwZGF0ZUNoaWxkcmVuIiwibGFzdEluZGV4IiwibmV4dEluZGV4IiwibGFzdFBsYWNlZE5vZGUiLCJuZXh0Q2hpbGQiLCJtb3ZlQ2hpbGQiLCJNYXRoIiwiX21vdW50Q2hpbGRBdEluZGV4IiwiX3VubW91bnRDaGlsZCIsImNyZWF0ZUNoaWxkIiwicmVtb3ZlQ2hpbGQiLCJSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uIiwicmVuZGVyVG9TdGF0aWNNYXJrdXAiLCJyZWluaXRpYWxpemVUcmFuc2FjdGlvbiIsInVzZUNyZWF0ZUVsZW1lbnQiLCJUcmFuc2FjdGlvbiIsIlRSQU5TQUNUSU9OX1dSQVBQRVJTIiwibm9vcENhbGxiYWNrUXVldWUiLCJnZXRUcmFuc2FjdGlvbldyYXBwZXJzIiwiZ2V0UmVhY3RNb3VudFJlYWR5IiwiY2hlY2twb2ludCIsInJvbGxiYWNrIiwiYXNzZXJ0VmFsaWRQcm9wcyIsInZvaWRFbGVtZW50VGFncyIsIkhUTUwiLCJlbnF1ZXVlUHV0TGlzdGVuZXIiLCJsaXN0ZW5lciIsImNvbnRhaW5lckluZm8iLCJpc0RvY3VtZW50RnJhZ21lbnQiLCJfbm9kZSIsIm5vZGVUeXBlIiwiRE9DX0ZSQUdNRU5UX1RZUEUiLCJfb3duZXJEb2N1bWVudCIsImxpc3RlblRvIiwicHV0TGlzdGVuZXIiLCJsaXN0ZW5lclRvUHV0Iiwib3B0aW9uUG9zdE1vdW50IiwidHJhcEJ1YmJsZWRFdmVudHNMb2NhbCIsImdldE5vZGUiLCJSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIiLCJ0cmFwQnViYmxlZEV2ZW50IiwidG9wTG9hZCIsIm1lZGlhRXZlbnRzIiwidG9wRXJyb3IiLCJ0b3BSZXNldCIsInRvcFN1Ym1pdCIsInRvcEludmFsaWQiLCJwb3N0VXBkYXRlU2VsZWN0V3JhcHBlciIsInZhbGlkYXRlRGFuZ2Vyb3VzVGFnIiwidGFnIiwidmFsaWRhdGVkVGFnQ2FjaGUiLCJWQUxJRF9UQUdfUkVHRVgiLCJpc0N1c3RvbUNvbXBvbmVudCIsIlJlYWN0RE9NQ29tcG9uZW50IiwiZWxlbWVudCIsIl9uYW1lc3BhY2VVUkkiLCJfcHJldmlvdXNTdHlsZSIsIl9wcmV2aW91c1N0eWxlQ29weSIsIl9uYXRpdmVOb2RlIiwiX2RvbUlEIiwiX3RvcExldmVsV3JhcHBlciIsIl9mbGFncyIsIkRPTUxhenlUcmVlIiwiRE9NTmFtZXNwYWNlcyIsIkV2ZW50UGx1Z2luUmVnaXN0cnkiLCJSZWFjdERPTUNvbXBvbmVudEZsYWdzIiwiRmxhZ3MiLCJkZWxldGVMaXN0ZW5lciIsInJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzIiwiQ09OVEVOVF9UWVBFUyIsIm51bWJlciIsIlNUWUxFIiwiX19odG1sIiwiUkVTRVJWRURfUFJPUFMiLCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmciLCJ0b3BBYm9ydCIsInRvcENhblBsYXkiLCJ0b3BDYW5QbGF5VGhyb3VnaCIsInRvcER1cmF0aW9uQ2hhbmdlIiwidG9wRW1wdGllZCIsInRvcEVuY3J5cHRlZCIsInRvcEVuZGVkIiwidG9wTG9hZGVkRGF0YSIsInRvcExvYWRlZE1ldGFkYXRhIiwidG9wTG9hZFN0YXJ0IiwidG9wUGF1c2UiLCJ0b3BQbGF5IiwidG9wUGxheWluZyIsInRvcFByb2dyZXNzIiwidG9wUmF0ZUNoYW5nZSIsInRvcFNlZWtlZCIsInRvcFNlZWtpbmciLCJ0b3BTdGFsbGVkIiwidG9wU3VzcGVuZCIsInRvcFRpbWVVcGRhdGUiLCJ0b3BWb2x1bWVDaGFuZ2UiLCJ0b3BXYWl0aW5nIiwib21pdHRlZENsb3NlVGFncyIsImFyZWEiLCJiYXNlIiwiYnIiLCJjb2wiLCJlbWJlZCIsImhyIiwiaW1nIiwiaW5wdXQiLCJrZXlnZW4iLCJsaW5rIiwibWV0YSIsInBhcmFtIiwic291cmNlIiwidHJhY2siLCJ3YnIiLCJuZXdsaW5lRWF0aW5nVGFncyIsImxpc3RpbmciLCJwcmUiLCJ0ZXh0YXJlYSIsIm1lbnVpdGVtIiwiZ2xvYmFsSWRDb3VudGVyIiwiZGlzcGxheU5hbWUiLCJuYXRpdmVDb250YWluZXJJbmZvIiwiX2lkQ291bnRlciIsIm5hbWVzcGFjZVVSSSIsInBhcmVudFRhZyIsInN2ZyIsImh0bWwiLCJtYXRobWwiLCJlbCIsImRpdiIsImlubmVySFRNTCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVFbGVtZW50TlMiLCJwcmVjYWNoZU5vZGUiLCJoYXNDYWNoZWRDaGlsZE5vZGVzIiwiX3VwZGF0ZURPTVByb3BlcnRpZXMiLCJsYXp5VHJlZSIsIl9jcmVhdGVJbml0aWFsQ2hpbGRyZW4iLCJ0YWdPcGVuIiwiX2NyZWF0ZU9wZW5UYWdNYXJrdXBBbmRQdXRMaXN0ZW5lcnMiLCJ0YWdDb250ZW50IiwiX2NyZWF0ZUNvbnRlbnRNYXJrdXAiLCJhdXRvRm9jdXMiLCJyZXQiLCJwcm9wS2V5IiwiY29udGVudFRvVXNlIiwiY2hpbGRyZW5Ub1VzZSIsImpvaW4iLCJxdWV1ZUhUTUwiLCJxdWV1ZVRleHQiLCJxdWV1ZUNoaWxkIiwidXBkYXRlQ29tcG9uZW50IiwibGFzdFByb3BzIiwibmV4dFByb3BzIiwiX3VwZGF0ZURPTUNoaWxkcmVuIiwic3R5bGVVcGRhdGVzIiwibGFzdFN0eWxlIiwibmV4dFByb3AiLCJsYXN0UHJvcCIsImxhc3RDb250ZW50IiwibGFzdEh0bWwiLCJuZXh0SHRtbCIsImxhc3RDaGlsZHJlbiIsImxhc3RIYXNDb250ZW50T3JIdG1sIiwibmV4dEhhc0NvbnRlbnRPckh0bWwiLCJyZW1vdmUiLCJ1bmNhY2hlTm9kZSIsImRlbGV0ZUFsbExpc3RlbmVycyIsImdldFB1YmxpY0luc3RhbmNlIiwiUmVhY3RET01FbXB0eUNvbXBvbmVudCIsImluc3RhbnRpYXRlIiwiZG9tSUQiLCJub2RlVmFsdWUiLCJjcmVhdGVDb21tZW50IiwiZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3IiLCJpbnN0QSIsImluc3RCIiwiZGVwdGhBIiwidGVtcEEiLCJkZXB0aEIiLCJ0ZW1wQiIsImRlcHRoIiwiaXNBbmNlc3RvciIsImdldFBhcmVudEluc3RhbmNlIiwidHJhdmVyc2VUd29QaGFzZSIsImZuIiwiYXJnIiwicGF0aCIsInRyYXZlcnNlRW50ZXJMZWF2ZSIsImFyZ0Zyb20iLCJhcmdUbyIsImNvbW1vbiIsInBhdGhGcm9tIiwicGF0aFRvIiwidG9BcnJheSIsIm9iaiIsImNhbGxlZSIsImlpIiwiaGFzQXJyYXlOYXR1cmUiLCJjcmVhdGVBcnJheUZyb21NaXhlZCIsImdldE5vZGVOYW1lIiwibm9kZU5hbWVNYXRjaCIsIm1hdGNoIiwibm9kZU5hbWVQYXR0ZXJuIiwiY3JlYXRlTm9kZXNGcm9tTWFya3VwIiwiaGFuZGxlU2NyaXB0IiwiZHVtbXlOb2RlIiwiZ2V0TWFya3VwV3JhcCIsIndyYXBEZXB0aCIsImxhc3RDaGlsZCIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIm5vZGVzIiwiY2hpbGROb2RlcyIsIm1hcmt1cFdyYXAiLCJzaG91bGRXcmFwIiwic2VsZWN0V3JhcCIsInRhYmxlV3JhcCIsInRyV3JhcCIsInN2Z1dyYXAiLCIqIiwibGVnZW5kIiwidHIiLCJvcHRncm91cCIsIm9wdGlvbiIsImNhcHRpb24iLCJjb2xncm91cCIsInRib2R5IiwidGZvb3QiLCJ0aGVhZCIsInRkIiwidGgiLCJzdmdFbGVtZW50cyIsImVtcHR5RnVuY3Rpb24iLCJPUEVOX1RBR19OQU1FX0VYUCIsIlJFU1VMVF9JTkRFWF9BVFRSIiwiRGFuZ2VyIiwiZGFuZ2Vyb3VzbHlSZW5kZXJNYXJrdXAiLCJtYXJrdXBMaXN0IiwibWFya3VwQnlOb2RlTmFtZSIsInJlc3VsdExpc3QiLCJyZXN1bHRMaXN0QXNzaWdubWVudENvdW50IiwicmVzdWx0SW5kZXgiLCJtYXJrdXBMaXN0QnlOb2RlTmFtZSIsInJlbmRlck5vZGVzIiwiaiIsInJlbmRlck5vZGUiLCJoYXNBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJvbGRDaGlsZCIsIm5ld0NoaWxkIiwicmVwbGFjZUNoaWxkIiwicmVwbGFjZUNoaWxkV2l0aFRyZWUiLCJrZXlNaXJyb3IiLCJnZXROb2RlQWZ0ZXIiLCJuZXh0U2libGluZyIsImluc2VydExhenlUcmVlQ2hpbGRBdCIsImNoaWxkVHJlZSIsInJlZmVyZW5jZU5vZGUiLCJpbnNlcnRUcmVlQmVmb3JlIiwiY2hpbGROb2RlIiwibW92ZURlbGltaXRlZFRleHQiLCJpbnNlcnRDaGlsZEF0IiwiY2xvc2luZ0NvbW1lbnQiLCJyZW1vdmVEZWxpbWl0ZWRUZXh0Iiwib3BlbmluZ0NvbW1lbnQiLCJuZXh0Tm9kZSIsInN0YXJ0Tm9kZSIsInJlcGxhY2VEZWxpbWl0ZWRUZXh0Iiwic3RyaW5nVGV4dCIsIm5vZGVBZnRlckNvbW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsInNldFRleHRDb250ZW50IiwiY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbiIsInNldElubmVySFRNTCIsImluc2VydEJlZm9yZSIsImsiLCJSZWFjdERPTVRleHRDb21wb25lbnQiLCJ0ZXh0IiwiX3N0cmluZ1RleHQiLCJfY2xvc2luZ0NvbW1lbnQiLCJfY29tbWVudE5vZGVzIiwib3BlbmluZ1ZhbHVlIiwiY2xvc2luZ1ZhbHVlIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImVzY2FwZWRUZXh0IiwibmV4dFRleHQiLCJuZXh0U3RyaW5nVGV4dCIsImNvbW1lbnROb2RlcyIsIm5hdGl2ZU5vZGUiLCJSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5VHJhbnNhY3Rpb24iLCJSRVNFVF9CQVRDSEVEX1VQREFURVMiLCJpbml0aWFsaXplIiwiY2xvc2UiLCJSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5IiwiaXNCYXRjaGluZ1VwZGF0ZXMiLCJGTFVTSF9CQVRDSEVEX1VQREFURVMiLCJmbHVzaEJhdGNoZWRVcGRhdGVzIiwiYiIsImFscmVhZHlCYXRjaGluZ1VwZGF0ZXMiLCJwZXJmb3JtIiwiZ2V0VW5ib3VuZGVkU2Nyb2xsUG9zaXRpb24iLCJzY3JvbGxhYmxlIiwicGFnZVhPZmZzZXQiLCJzY3JvbGxMZWZ0IiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJmaW5kUGFyZW50IiwiY29udGFpbmVyIiwiVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nIiwiYW5jZXN0b3JzIiwiaGFuZGxlVG9wTGV2ZWxJbXBsIiwiYm9va0tlZXBpbmciLCJhbmNlc3RvciIsIlJlYWN0RXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVUb3BMZXZlbCIsInNjcm9sbFZhbHVlTW9uaXRvciIsImNiIiwic2Nyb2xsUG9zaXRpb24iLCJFdmVudExpc3RlbmVyIiwidHdvQXJndW1lbnRQb29sZXIiLCJfZW5hYmxlZCIsIldJTkRPV19IQU5ETEUiLCJzZXRIYW5kbGVUb3BMZXZlbCIsImhhbmRsZVRvcExldmVsIiwic2V0RW5hYmxlZCIsImVuYWJsZWQiLCJpc0VuYWJsZWQiLCJoYW5kbGVyQmFzZU5hbWUiLCJoYW5kbGUiLCJsaXN0ZW4iLCJkaXNwYXRjaEV2ZW50IiwidHJhcENhcHR1cmVkRXZlbnQiLCJtb25pdG9yU2Nyb2xsVmFsdWUiLCJyZWZyZXNoIiwiRXZlbnRQbHVnaW5VdGlscyIsIlJlYWN0Q2xhc3MiLCJSZWFjdEVtcHR5Q29tcG9uZW50IiwiUmVhY3ROYXRpdmVDb21wb25lbnQiLCJSZWFjdEluamVjdGlvbiIsIkNvbXBvbmVudCIsIkNsYXNzIiwiRW1wdHlDb21wb25lbnQiLCJFdmVudEVtaXR0ZXIiLCJOYXRpdmVDb21wb25lbnQiLCJVcGRhdGVzIiwiUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbiIsInJlYWN0TW91bnRSZWFkeSIsIkNhbGxiYWNrUXVldWUiLCJSZWFjdElucHV0U2VsZWN0aW9uIiwiU0VMRUNUSU9OX1JFU1RPUkFUSU9OIiwiZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb24iLCJyZXN0b3JlU2VsZWN0aW9uIiwiRVZFTlRfU1VQUFJFU1NJT04iLCJjdXJyZW50bHlFbmFibGVkIiwicHJldmlvdXNseUVuYWJsZWQiLCJPTl9ET01fUkVBRFlfUVVFVUVJTkciLCJub3RpZnlBbGwiLCJOUyIsInhsaW5rIiwieG1sIiwiQVRUUlMiLCJhY2NlbnRIZWlnaHQiLCJhY2N1bXVsYXRlIiwiYWRkaXRpdmUiLCJhbGlnbm1lbnRCYXNlbGluZSIsImFsbG93UmVvcmRlciIsImFscGhhYmV0aWMiLCJhbXBsaXR1ZGUiLCJhcmFiaWNGb3JtIiwiYXNjZW50IiwiYXR0cmlidXRlVHlwZSIsImF1dG9SZXZlcnNlIiwiYXppbXV0aCIsImJhc2VGcmVxdWVuY3kiLCJiYXNlUHJvZmlsZSIsImJhc2VsaW5lU2hpZnQiLCJiYm94IiwiYmVnaW4iLCJiaWFzIiwiYnkiLCJjYWxjTW9kZSIsImNhcEhlaWdodCIsImNsaXAiLCJjbGlwUGF0aCIsImNsaXBSdWxlIiwiY2xpcFBhdGhVbml0cyIsImNvbG9ySW50ZXJwb2xhdGlvbiIsImNvbG9ySW50ZXJwb2xhdGlvbkZpbHRlcnMiLCJjb2xvclByb2ZpbGUiLCJjb2xvclJlbmRlcmluZyIsImNvbnRlbnRTY3JpcHRUeXBlIiwiY29udGVudFN0eWxlVHlwZSIsImN1cnNvciIsImN4IiwiY3kiLCJkZWNlbGVyYXRlIiwiZGVzY2VudCIsImRpZmZ1c2VDb25zdGFudCIsImRpcmVjdGlvbiIsImRpc3BsYXkiLCJkaXZpc29yIiwiZG9taW5hbnRCYXNlbGluZSIsImR1ciIsImR4IiwiZHkiLCJlZGdlTW9kZSIsImVsZXZhdGlvbiIsImVuYWJsZUJhY2tncm91bmQiLCJleHBvbmVudCIsImV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQiLCJmaWxsIiwiZmlsbFJ1bGUiLCJmaWx0ZXIiLCJmaWx0ZXJSZXMiLCJmaWx0ZXJVbml0cyIsImZsb29kQ29sb3IiLCJmb2N1c2FibGUiLCJmb250U2l6ZUFkanVzdCIsImZvbnRTdHJldGNoIiwiZm9ybWF0IiwiZngiLCJmeSIsImcxIiwiZzIiLCJnbHlwaE5hbWUiLCJnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbCIsImdseXBoT3JpZW50YXRpb25WZXJ0aWNhbCIsImdseXBoUmVmIiwiZ3JhZGllbnRUcmFuc2Zvcm0iLCJncmFkaWVudFVuaXRzIiwiaGFuZ2luZyIsImhvcml6QWR2WCIsImhvcml6T3JpZ2luWCIsImlkZW9ncmFwaGljIiwiaW1hZ2VSZW5kZXJpbmciLCJpbiIsImluMiIsImludGVyY2VwdCIsImsxIiwiazIiLCJrMyIsIms0Iiwia2VybmVsTWF0cml4Iiwia2VybmVsVW5pdExlbmd0aCIsImtlcm5pbmciLCJrZXlQb2ludHMiLCJrZXlTcGxpbmVzIiwia2V5VGltZXMiLCJsZW5ndGhBZGp1c3QiLCJsZXR0ZXJTcGFjaW5nIiwibGlnaHRpbmdDb2xvciIsImxpbWl0aW5nQ29uZUFuZ2xlIiwibG9jYWwiLCJtYXJrZXJFbmQiLCJtYXJrZXJNaWQiLCJtYXJrZXJTdGFydCIsIm1hcmtlckhlaWdodCIsIm1hcmtlclVuaXRzIiwibWFya2VyV2lkdGgiLCJtYXNrIiwibWFza0NvbnRlbnRVbml0cyIsIm1hc2tVbml0cyIsIm1hdGhlbWF0aWNhbCIsIm1vZGUiLCJudW1PY3RhdmVzIiwib2Zmc2V0Iiwib3BlcmF0b3IiLCJvcmllbnQiLCJvcmllbnRhdGlvbiIsIm9yaWdpbiIsIm92ZXJmbG93Iiwib3ZlcmxpbmVQb3NpdGlvbiIsIm92ZXJsaW5lVGhpY2tuZXNzIiwicGFpbnRPcmRlciIsInBhbm9zZTEiLCJwYXRoTGVuZ3RoIiwicGF0dGVybkNvbnRlbnRVbml0cyIsInBhdHRlcm5UcmFuc2Zvcm0iLCJwYXR0ZXJuVW5pdHMiLCJwb2ludGVyRXZlbnRzIiwicG9pbnRzIiwicG9pbnRzQXRYIiwicG9pbnRzQXRZIiwicG9pbnRzQXRaIiwicHJlc2VydmVBbHBoYSIsInByZXNlcnZlQXNwZWN0UmF0aW8iLCJwcmltaXRpdmVVbml0cyIsInJhZGl1cyIsInJlZlgiLCJyZWZZIiwicmVuZGVyaW5nSW50ZW50IiwicmVwZWF0Q291bnQiLCJyZXBlYXREdXIiLCJyZXF1aXJlZEV4dGVuc2lvbnMiLCJyZXF1aXJlZEZlYXR1cmVzIiwicmVzdGFydCIsInJvdGF0ZSIsInJ4IiwicnkiLCJzY2FsZSIsInNlZWQiLCJzaGFwZVJlbmRlcmluZyIsInNsb3BlIiwic3BhY2luZyIsInNwZWN1bGFyQ29uc3RhbnQiLCJzcGVjdWxhckV4cG9uZW50Iiwic3BlZWQiLCJzcHJlYWRNZXRob2QiLCJzdGFydE9mZnNldCIsInN0ZERldmlhdGlvbiIsInN0ZW1oIiwic3RlbXYiLCJzdGl0Y2hUaWxlcyIsInN0b3BDb2xvciIsInN0cmlrZXRocm91Z2hQb3NpdGlvbiIsInN0cmlrZXRocm91Z2hUaGlja25lc3MiLCJzdHJva2UiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdXJmYWNlU2NhbGUiLCJzeXN0ZW1MYW5ndWFnZSIsInRhYmxlVmFsdWVzIiwidGFyZ2V0WCIsInRhcmdldFkiLCJ0ZXh0QW5jaG9yIiwidGV4dERlY29yYXRpb24iLCJ0ZXh0UmVuZGVyaW5nIiwidGV4dExlbmd0aCIsInRyYW5zZm9ybSIsInUxIiwidTIiLCJ1bmRlcmxpbmVQb3NpdGlvbiIsInVuZGVybGluZVRoaWNrbmVzcyIsInVuaWNvZGUiLCJ1bmljb2RlQmlkaSIsInVuaWNvZGVSYW5nZSIsInVuaXRzUGVyRW0iLCJ2QWxwaGFiZXRpYyIsInZIYW5naW5nIiwidklkZW9ncmFwaGljIiwidk1hdGhlbWF0aWNhbCIsInZhbHVlcyIsInZlY3RvckVmZmVjdCIsInZlcnRBZHZZIiwidmVydE9yaWdpblgiLCJ2ZXJ0T3JpZ2luWSIsInZpZXdCb3giLCJ2aWV3VGFyZ2V0IiwidmlzaWJpbGl0eSIsIndpZHRocyIsIndvcmRTcGFjaW5nIiwid3JpdGluZ01vZGUiLCJ4SGVpZ2h0IiwieDEiLCJ4MiIsInhDaGFubmVsU2VsZWN0b3IiLCJ4bGlua0FjdHVhdGUiLCJ4bGlua0FyY3JvbGUiLCJ4bGlua0hyZWYiLCJ4bGlua1JvbGUiLCJ4bGlua1Nob3ciLCJ4bGlua1RpdGxlIiwieGxpbmtUeXBlIiwieG1sQmFzZSIsInhtbExhbmciLCJ4bWxTcGFjZSIsInkxIiwieTIiLCJ5Q2hhbm5lbFNlbGVjdG9yIiwieiIsInpvb21BbmRQYW4iLCJTVkdET01Qcm9wZXJ0eUNvbmZpZyIsIkRPTUF0dHJpYnV0ZU5hbWVzcGFjZXMiLCJnZXRMZWFmTm9kZSIsImdldFNpYmxpbmdOb2RlIiwiZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldCIsIm5vZGVTdGFydCIsIm5vZGVFbmQiLCJjb250ZW50S2V5IiwiaXNDb2xsYXBzZWQiLCJhbmNob3JOb2RlIiwiYW5jaG9yT2Zmc2V0IiwiZm9jdXNPZmZzZXQiLCJnZXRJRU9mZnNldHMiLCJzZWxlY3Rpb24iLCJzZWxlY3RlZFJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZWxlY3RlZExlbmd0aCIsImZyb21TdGFydCIsImR1cGxpY2F0ZSIsIm1vdmVUb0VsZW1lbnRUZXh0Iiwic2V0RW5kUG9pbnQiLCJlbmRPZmZzZXQiLCJnZXRNb2Rlcm5PZmZzZXRzIiwiZ2V0U2VsZWN0aW9uIiwicmFuZ2VDb3VudCIsImN1cnJlbnRSYW5nZSIsImdldFJhbmdlQXQiLCJzdGFydENvbnRhaW5lciIsImVuZENvbnRhaW5lciIsImlzU2VsZWN0aW9uQ29sbGFwc2VkIiwicmFuZ2VMZW5ndGgiLCJ0b1N0cmluZyIsInRlbXBSYW5nZSIsImNsb25lUmFuZ2UiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJzZXRFbmQiLCJpc1RlbXBSYW5nZUNvbGxhcHNlZCIsImRldGVjdGlvblJhbmdlIiwic2V0U3RhcnQiLCJpc0JhY2t3YXJkIiwiY29sbGFwc2VkIiwic2V0SUVPZmZzZXRzIiwib2Zmc2V0cyIsInJhbmdlIiwibW92ZVN0YXJ0IiwibW92ZUVuZCIsInNlbGVjdCIsInNldE1vZGVybk9mZnNldHMiLCJleHRlbmQiLCJ0ZW1wIiwic3RhcnRNYXJrZXIiLCJlbmRNYXJrZXIiLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsInVzZUlFT2Zmc2V0cyIsIlJlYWN0RE9NU2VsZWN0aW9uIiwiZ2V0T2Zmc2V0cyIsInNldE9mZnNldHMiLCJpc05vZGUiLCJvYmplY3QiLCJOb2RlIiwiaXNUZXh0Tm9kZSIsImNvbnRhaW5zTm9kZSIsIm91dGVyTm9kZSIsImlubmVyTm9kZSIsImNvbnRhaW5zIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJmb2N1cyIsImlzSW5Eb2N1bWVudCIsImdldEFjdGl2ZUVsZW1lbnQiLCJoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMiLCJmb2N1c2VkRWxlbSIsInNlbGVjdGlvblJhbmdlIiwicHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiIsImN1ckZvY3VzZWRFbGVtIiwicHJpb3JGb2N1c2VkRWxlbSIsInByaW9yU2VsZWN0aW9uUmFuZ2UiLCJzZXRTZWxlY3Rpb24iLCJzZWxlY3Rpb25TdGFydCIsInNlbGVjdGlvbkVuZCIsInBhcmVudEVsZW1lbnQiLCJjcmVhdGVUZXh0UmFuZ2UiLCJjb2xsYXBzZSIsImJvZHkiLCJzdXBwb3J0ZWRJbnB1dFR5cGVzIiwiZGF0ZSIsImRhdGV0aW1lIiwiZGF0ZXRpbWUtbG9jYWwiLCJlbWFpbCIsIm1vbnRoIiwicGFzc3dvcmQiLCJzZWFyY2giLCJ0ZWwiLCJ0aW1lIiwidXJsIiwid2VlayIsInNoYWxsb3dFcXVhbCIsIm9iakEiLCJvYmpCIiwia2V5c0EiLCJrZXlzQiIsInRvcCIsImJvdW5kaW5nVG9wIiwibGVmdCIsImJvdW5kaW5nTGVmdCIsImNvbnN0cnVjdFNlbGVjdEV2ZW50IiwibW91c2VEb3duIiwiY3VycmVudFNlbGVjdGlvbiIsImxhc3RTZWxlY3Rpb24iLCJzeW50aGV0aWNFdmVudCIsInNraXBTZWxlY3Rpb25DaGFuZ2VFdmVudCIsIm9uU2VsZWN0Iiwib25TZWxlY3RDYXB0dXJlIiwidG9wQ29udGV4dE1lbnUiLCJ0b3BNb3VzZVVwIiwiaGFzTGlzdGVuZXIiLCJPTl9TRUxFQ1RfS0VZIiwiZGlkUHV0TGlzdGVuZXIiLCJyZWdpc3RlckRlZmF1bHQiLCJsaXN0ZW5lckF0UGhhc2UiLCJwcm9wYWdhdGlvblBoYXNlIiwiZ2V0TGlzdGVuZXIiLCJhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzIiwidXB3YXJkcyIsInBoYXNlIiwiUHJvcGFnYXRpb25QaGFzZXMiLCJfZGlzcGF0Y2hMaXN0ZW5lcnMiLCJhY2N1bXVsYXRlSW50byIsIl9kaXNwYXRjaEluc3RhbmNlcyIsImFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGUiLCJfdGFyZ2V0SW5zdCIsImFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGVTa2lwVGFyZ2V0IiwiYWNjdW11bGF0ZURpc3BhdGNoZXMiLCJpZ25vcmVkRGlyZWN0aW9uIiwiYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNTaW5nbGUiLCJldmVudHMiLCJmb3JFYWNoQWNjdW11bGF0ZWQiLCJhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2tpcFRhcmdldCIsImFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzIiwiU3ludGhldGljQW5pbWF0aW9uRXZlbnQiLCJBbmltYXRpb25FdmVudEludGVyZmFjZSIsImFuaW1hdGlvbk5hbWUiLCJlbGFwc2VkVGltZSIsInBzZXVkb0VsZW1lbnQiLCJTeW50aGV0aWNDbGlwYm9hcmRFdmVudCIsIkNsaXBib2FyZEV2ZW50SW50ZXJmYWNlIiwiY2xpcGJvYXJkRGF0YSIsIlN5bnRoZXRpY0ZvY3VzRXZlbnQiLCJTeW50aGV0aWNVSUV2ZW50IiwiRm9jdXNFdmVudEludGVyZmFjZSIsImdldEV2ZW50S2V5Iiwibm9ybWFsaXplS2V5IiwiY2hhckNvZGUiLCJnZXRFdmVudENoYXJDb2RlIiwidHJhbnNsYXRlVG9LZXkiLCJFc2MiLCJTcGFjZWJhciIsIkxlZnQiLCJVcCIsIlJpZ2h0IiwiRG93biIsIkRlbCIsIldpbiIsIk1lbnUiLCJBcHBzIiwiU2Nyb2xsIiwiTW96UHJpbnRhYmxlS2V5Iiw4LDksMTIsMTMsMTYsMTcsMTgsMTksMjAsMjcsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDUsNDYsMTEyLDExMywxMTQsMTE1LDExNiwxMTcsMTE4LDExOSwxMjAsMTIxLDEyMiwxMjMsMTQ0LDE0NSwyMjQsIlN5bnRoZXRpY0tleWJvYXJkRXZlbnQiLCJnZXRFdmVudE1vZGlmaWVyU3RhdGUiLCJLZXlib2FyZEV2ZW50SW50ZXJmYWNlIiwibG9jYXRpb24iLCJzaGlmdEtleSIsInJlcGVhdCIsImxvY2FsZSIsImdldE1vZGlmaWVyU3RhdGUiLCJTeW50aGV0aWNEcmFnRXZlbnQiLCJEcmFnRXZlbnRJbnRlcmZhY2UiLCJkYXRhVHJhbnNmZXIiLCJTeW50aGV0aWNUb3VjaEV2ZW50IiwiVG91Y2hFdmVudEludGVyZmFjZSIsInRvdWNoZXMiLCJ0YXJnZXRUb3VjaGVzIiwiY2hhbmdlZFRvdWNoZXMiLCJTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQiLCJUcmFuc2l0aW9uRXZlbnRJbnRlcmZhY2UiLCJJbnRlcmZhY2UiLCJub3JtYWxpemUiLCJkZWZhdWx0UHJldmVudGVkIiwiaXNEZWZhdWx0UHJldmVudGVkIiwidGhhdFJldHVybnNUcnVlIiwidGhhdFJldHVybnNGYWxzZSIsImlzUHJvcGFnYXRpb25TdG9wcGVkIiwic2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMiLCJQcm94eSIsIkV2ZW50SW50ZXJmYWNlIiwiY3VycmVudFRhcmdldCIsInRoYXRSZXR1cm5zTnVsbCIsImV2ZW50UGhhc2UiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsInRpbWVTdGFtcCIsIkRhdGUiLCJub3ciLCJpc1RydXN0ZWQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbmNlbEJ1YmJsZSIsInBlcnNpc3QiLCJpc1BlcnNpc3RlbnQiLCJTdXBlciIsIkUiLCJmb3VyQXJndW1lbnRQb29sZXIiLCJjb3JyZXNwb25kaW5nVXNlRWxlbWVudCIsIlVJRXZlbnRJbnRlcmZhY2UiLCJ2aWV3IiwibW9kaWZpZXJTdGF0ZUdldHRlciIsImtleUFyZyIsImtleVByb3AiLCJtb2RpZmllcktleVRvUHJvcCIsIkFsdCIsIkNvbnRyb2wiLCJNZXRhIiwiU2hpZnQiLCJWaWV3cG9ydE1ldHJpY3MiLCJNb3VzZUV2ZW50SW50ZXJmYWNlIiwic2NyZWVuWCIsInNjcmVlblkiLCJjbGllbnRYIiwiY2xpZW50WSIsImJ1dHRvbnMiLCJwYWdlWCIsImN1cnJlbnRTY3JvbGxMZWZ0IiwicGFnZVkiLCJjdXJyZW50U2Nyb2xsVG9wIiwiU3ludGhldGljV2hlZWxFdmVudCIsIldoZWVsRXZlbnRJbnRlcmZhY2UiLCJkZWx0YVgiLCJ3aGVlbERlbHRhWCIsImRlbHRhWSIsIndoZWVsRGVsdGFZIiwid2hlZWxEZWx0YSIsImRlbHRhWiIsImRlbHRhTW9kZSIsImFib3J0Iiwib25BYm9ydCIsIm9uQWJvcnRDYXB0dXJlIiwiYW5pbWF0aW9uRW5kIiwib25BbmltYXRpb25FbmQiLCJvbkFuaW1hdGlvbkVuZENhcHR1cmUiLCJhbmltYXRpb25JdGVyYXRpb24iLCJvbkFuaW1hdGlvbkl0ZXJhdGlvbiIsIm9uQW5pbWF0aW9uSXRlcmF0aW9uQ2FwdHVyZSIsImFuaW1hdGlvblN0YXJ0Iiwib25BbmltYXRpb25TdGFydCIsIm9uQW5pbWF0aW9uU3RhcnRDYXB0dXJlIiwiYmx1ciIsIm9uQmx1ciIsIm9uQmx1ckNhcHR1cmUiLCJjYW5QbGF5Iiwib25DYW5QbGF5Iiwib25DYW5QbGF5Q2FwdHVyZSIsImNhblBsYXlUaHJvdWdoIiwib25DYW5QbGF5VGhyb3VnaCIsIm9uQ2FuUGxheVRocm91Z2hDYXB0dXJlIiwiY2xpY2siLCJvbkNvbnRleHRNZW51Iiwib25Db250ZXh0TWVudUNhcHR1cmUiLCJjb3B5Iiwib25Db3B5Iiwib25Db3B5Q2FwdHVyZSIsImN1dCIsIm9uQ3V0Iiwib25DdXRDYXB0dXJlIiwiZG91YmxlQ2xpY2siLCJkcmFnIiwib25EcmFnIiwib25EcmFnQ2FwdHVyZSIsImRyYWdFbmQiLCJvbkRyYWdFbmQiLCJvbkRyYWdFbmRDYXB0dXJlIiwiZHJhZ0VudGVyIiwib25EcmFnRW50ZXIiLCJvbkRyYWdFbnRlckNhcHR1cmUiLCJkcmFnRXhpdCIsIm9uRHJhZ0V4aXQiLCJvbkRyYWdFeGl0Q2FwdHVyZSIsImRyYWdMZWF2ZSIsIm9uRHJhZ0xlYXZlIiwib25EcmFnTGVhdmVDYXB0dXJlIiwiZHJhZ092ZXIiLCJvbkRyYWdPdmVyIiwib25EcmFnT3ZlckNhcHR1cmUiLCJkcmFnU3RhcnQiLCJvbkRyYWdTdGFydCIsIm9uRHJhZ1N0YXJ0Q2FwdHVyZSIsImRyb3AiLCJvbkRyb3AiLCJvbkRyb3BDYXB0dXJlIiwiZHVyYXRpb25DaGFuZ2UiLCJvbkR1cmF0aW9uQ2hhbmdlIiwib25EdXJhdGlvbkNoYW5nZUNhcHR1cmUiLCJlbXB0aWVkIiwib25FbXB0aWVkIiwib25FbXB0aWVkQ2FwdHVyZSIsImVuY3J5cHRlZCIsIm9uRW5jcnlwdGVkIiwib25FbmNyeXB0ZWRDYXB0dXJlIiwiZW5kZWQiLCJvbkVuZGVkIiwib25FbmRlZENhcHR1cmUiLCJvbkVycm9yIiwib25FcnJvckNhcHR1cmUiLCJvbkZvY3VzIiwib25Gb2N1c0NhcHR1cmUiLCJvbklucHV0Iiwib25JbnB1dENhcHR1cmUiLCJpbnZhbGlkIiwib25JbnZhbGlkIiwib25JbnZhbGlkQ2FwdHVyZSIsImtleURvd24iLCJvbktleURvd24iLCJvbktleURvd25DYXB0dXJlIiwia2V5UHJlc3MiLCJvbktleVByZXNzIiwib25LZXlQcmVzc0NhcHR1cmUiLCJrZXlVcCIsIm9uS2V5VXAiLCJvbktleVVwQ2FwdHVyZSIsImxvYWQiLCJvbkxvYWQiLCJvbkxvYWRDYXB0dXJlIiwibG9hZGVkRGF0YSIsIm9uTG9hZGVkRGF0YSIsIm9uTG9hZGVkRGF0YUNhcHR1cmUiLCJsb2FkZWRNZXRhZGF0YSIsIm9uTG9hZGVkTWV0YWRhdGEiLCJvbkxvYWRlZE1ldGFkYXRhQ2FwdHVyZSIsImxvYWRTdGFydCIsIm9uTG9hZFN0YXJ0Iiwib25Mb2FkU3RhcnRDYXB0dXJlIiwibW91c2VNb3ZlIiwibW91c2VPdXQiLCJvbk1vdXNlT3V0Iiwib25Nb3VzZU91dENhcHR1cmUiLCJtb3VzZU92ZXIiLCJvbk1vdXNlT3ZlciIsIm9uTW91c2VPdmVyQ2FwdHVyZSIsIm1vdXNlVXAiLCJwYXN0ZSIsIm9uUGFzdGUiLCJvblBhc3RlQ2FwdHVyZSIsInBhdXNlIiwib25QYXVzZSIsIm9uUGF1c2VDYXB0dXJlIiwicGxheSIsIm9uUGxheSIsIm9uUGxheUNhcHR1cmUiLCJwbGF5aW5nIiwib25QbGF5aW5nIiwib25QbGF5aW5nQ2FwdHVyZSIsInByb2dyZXNzIiwib25Qcm9ncmVzcyIsIm9uUHJvZ3Jlc3NDYXB0dXJlIiwicmF0ZUNoYW5nZSIsIm9uUmF0ZUNoYW5nZSIsIm9uUmF0ZUNoYW5nZUNhcHR1cmUiLCJvblJlc2V0Iiwib25SZXNldENhcHR1cmUiLCJzY3JvbGwiLCJvblNjcm9sbCIsIm9uU2Nyb2xsQ2FwdHVyZSIsInNlZWtlZCIsIm9uU2Vla2VkIiwib25TZWVrZWRDYXB0dXJlIiwic2Vla2luZyIsIm9uU2Vla2luZyIsIm9uU2Vla2luZ0NhcHR1cmUiLCJzdGFsbGVkIiwib25TdGFsbGVkIiwib25TdGFsbGVkQ2FwdHVyZSIsIm9uU3VibWl0Iiwib25TdWJtaXRDYXB0dXJlIiwic3VzcGVuZCIsIm9uU3VzcGVuZCIsIm9uU3VzcGVuZENhcHR1cmUiLCJ0aW1lVXBkYXRlIiwib25UaW1lVXBkYXRlIiwib25UaW1lVXBkYXRlQ2FwdHVyZSIsInRvdWNoQ2FuY2VsIiwib25Ub3VjaENhbmNlbCIsIm9uVG91Y2hDYW5jZWxDYXB0dXJlIiwidG91Y2hFbmQiLCJvblRvdWNoRW5kIiwib25Ub3VjaEVuZENhcHR1cmUiLCJ0b3VjaE1vdmUiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hNb3ZlQ2FwdHVyZSIsInRvdWNoU3RhcnQiLCJvblRvdWNoU3RhcnQiLCJvblRvdWNoU3RhcnRDYXB0dXJlIiwidHJhbnNpdGlvbkVuZCIsIm9uVHJhbnNpdGlvbkVuZCIsIm9uVHJhbnNpdGlvbkVuZENhcHR1cmUiLCJ2b2x1bWVDaGFuZ2UiLCJvblZvbHVtZUNoYW5nZSIsIm9uVm9sdW1lQ2hhbmdlQ2FwdHVyZSIsIndhaXRpbmciLCJvbldhaXRpbmciLCJvbldhaXRpbmdDYXB0dXJlIiwid2hlZWwiLCJvbldoZWVsIiwib25XaGVlbENhcHR1cmUiLCJ0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWciLCJ0b3BBbmltYXRpb25FbmQiLCJ0b3BBbmltYXRpb25JdGVyYXRpb24iLCJ0b3BBbmltYXRpb25TdGFydCIsInRvcENvcHkiLCJ0b3BDdXQiLCJ0b3BEb3VibGVDbGljayIsInRvcERyYWciLCJ0b3BEcmFnRW5kIiwidG9wRHJhZ0VudGVyIiwidG9wRHJhZ0V4aXQiLCJ0b3BEcmFnTGVhdmUiLCJ0b3BEcmFnT3ZlciIsInRvcERyYWdTdGFydCIsInRvcERyb3AiLCJ0b3BNb3VzZU1vdmUiLCJ0b3BTY3JvbGwiLCJ0b3BUb3VjaENhbmNlbCIsInRvcFRvdWNoRW5kIiwidG9wVG91Y2hNb3ZlIiwidG9wVG91Y2hTdGFydCIsInRvcFRyYW5zaXRpb25FbmQiLCJ0b3BXaGVlbCIsIk9OX0NMSUNLX0tFWSIsIm9uQ2xpY2tMaXN0ZW5lcnMiLCJFdmVudENvbnN0cnVjdG9yIiwid2lsbERlbGV0ZUxpc3RlbmVyIiwiaW5qZWN0IiwiYWxyZWFkeUluamVjdGVkIiwiaW5qZWN0UmVhY3RFdmVudExpc3RlbmVyIiwiaW5qZWN0RXZlbnRQbHVnaW5PcmRlciIsImluamVjdENvbXBvbmVudFRyZWUiLCJpbmplY3RUcmVlVHJhdmVyc2FsIiwiUmVhY3RET01UcmVlVHJhdmVyc2FsIiwiaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lIiwiaW5qZWN0R2VuZXJpY0NvbXBvbmVudENsYXNzIiwiaW5qZWN0VGV4dENvbXBvbmVudENsYXNzIiwiaW5qZWN0RE9NUHJvcGVydHlDb25maWciLCJpbmplY3RFbXB0eUNvbXBvbmVudEZhY3RvcnkiLCJpbmplY3RSZWNvbmNpbGVUcmFuc2FjdGlvbiIsImluamVjdEJhdGNoaW5nU3RyYXRlZ3kiLCJpbmplY3RFbnZpcm9ubWVudCIsImZpbmRET01Ob2RlIiwiY29tcG9uZW50T3JFbGVtZW50IiwiUmVhY3RJbnN0YW5jZU1hcCIsImdldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUiLCJyZW5kZXIiLCJfcmVuZGVyZWROb2RlVHlwZSIsIlJlYWN0Tm9kZVR5cGVzIiwiQ09NUE9TSVRFIiwiX3JlbmRlcmVkQ29tcG9uZW50IiwiTkFUSVZFIiwiRU1QVFkiLCJlc2NhcGVyIiwiRVNDQVBFX0xPT0tVUCIsIkVTQ0FQRV9SRUdFWCIsIiYiLCI+IiwiPCIsIlwiIiwiJyIsImluc2VydFRyZWVDaGlsZHJlbiIsInRyZWUiLCJlbmFibGVMYXp5Iiwib2xkTm9kZSIsIm5ld1RyZWUiLCJwYXJlbnRUcmVlIiwiYXBwZW5kQ2hpbGQiLCJFTEVNRU5UX05PREVfVFlQRSIsIkRPQ1VNRU5UX0ZSQUdNRU5UX05PREVfVFlQRSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nIiwiRXZlbnRQbHVnaW5PcmRlciIsInBsdWdpbk5hbWUiLCJuYW1lc1RvUGx1Z2lucyIsIlBsdWdpbk1vZHVsZSIsInBsdWdpbkluZGV4IiwicGx1Z2lucyIsInB1Ymxpc2hlZEV2ZW50cyIsImV2ZW50TmFtZSIsInB1Ymxpc2hFdmVudEZvclBsdWdpbiIsImV2ZW50TmFtZURpc3BhdGNoQ29uZmlncyIsInBoYXNlTmFtZSIsInBoYXNlZFJlZ2lzdHJhdGlvbk5hbWUiLCJwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZSIsInJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMiLCJwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzIiwiSW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyIiwiaW5qZWN0ZWROYW1lc1RvUGx1Z2lucyIsImlzT3JkZXJpbmdEaXJ0eSIsImdldFBsdWdpbk1vZHVsZUZvckV2ZW50IiwiX3Jlc2V0RXZlbnRQbHVnaW5zIiwiaXNFbmRpc2giLCJpc01vdmVpc2giLCJpc1N0YXJ0aXNoIiwiZXhlY3V0ZURpc3BhdGNoIiwic2ltdWxhdGVkIiwiUmVhY3RFcnJvclV0aWxzIiwiaW52b2tlR3VhcmRlZENhbGxiYWNrV2l0aENhdGNoIiwiaW52b2tlR3VhcmRlZENhbGxiYWNrIiwiZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyIiwiZGlzcGF0Y2hMaXN0ZW5lcnMiLCJkaXNwYXRjaEluc3RhbmNlcyIsImV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlclN0b3BBdFRydWVJbXBsIiwiZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZSIsImV4ZWN1dGVEaXJlY3REaXNwYXRjaCIsImRpc3BhdGNoTGlzdGVuZXIiLCJkaXNwYXRjaEluc3RhbmNlIiwicmVzIiwiaGFzRGlzcGF0Y2hlcyIsIkNvbXBvbmVudFRyZWUiLCJUcmVlVHJhdmVyc2FsIiwiSW5qZWN0ZWQiLCJjdXJyZW50IiwibmV4dCIsImN1cnJlbnRJc0FycmF5IiwibmV4dElzQXJyYXkiLCJjb25jYXQiLCJhcnIiLCJsaXN0ZW5lckJhbmsiLCJldmVudFF1ZXVlIiwiZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlIiwiZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlU2ltdWxhdGVkIiwiZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWwiLCJiYW5rRm9yUmVnaXN0cmF0aW9uTmFtZSIsInBvc3NpYmxlUGx1Z2luIiwiZXh0cmFjdGVkRXZlbnRzIiwicHJvY2Vzc2luZ0V2ZW50UXVldWUiLCJyZXRocm93Q2F1Z2h0RXJyb3IiLCJfX3B1cmdlIiwiX19nZXRMaXN0ZW5lckJhbmsiLCJydW5FdmVudFF1ZXVlSW5CYXRjaCIsIlJlYWN0RXZlbnRFbWl0dGVyTWl4aW4iLCJyZWZyZXNoU2Nyb2xsVmFsdWVzIiwibWFrZVByZWZpeE1hcCIsInN0eWxlUHJvcCIsImdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lIiwicHJlZml4ZWRFdmVudE5hbWVzIiwidmVuZG9yUHJlZml4ZXMiLCJwcmVmaXhNYXAiLCJhbmltYXRpb25lbmQiLCJhbmltYXRpb25pdGVyYXRpb24iLCJhbmltYXRpb25zdGFydCIsInRyYW5zaXRpb25lbmQiLCJhbmltYXRpb24iLCJ0cmFuc2l0aW9uIiwiZXZlbnROYW1lU3VmZml4IiwiaXNTdXBwb3J0ZWQiLCJ1c2VIYXNGZWF0dXJlIiwiaW1wbGVtZW50YXRpb24iLCJoYXNGZWF0dXJlIiwiZ2V0TGlzdGVuaW5nRm9yRG9jdW1lbnQiLCJtb3VudEF0IiwidG9wTGlzdGVuZXJzSURLZXkiLCJyZWFjdFRvcExpc3RlbmVyc0NvdW50ZXIiLCJhbHJlYWR5TGlzdGVuaW5nVG8iLCJoYXNFdmVudFBhZ2VYWSIsImlzTW9uaXRvcmluZ1Njcm9sbFZhbHVlIiwidG9wRXZlbnRNYXBwaW5nIiwicmFuZG9tIiwiY29udGVudERvY3VtZW50SGFuZGxlIiwiaXNMaXN0ZW5pbmciLCJkZXBlbmRlbmN5IiwiZW5zdXJlU2Nyb2xsVmFsdWVNb25pdG9yaW5nIiwiY3JlYXRlRXZlbnQiLCJjaGVja01hc2siLCJiaXRtYXNrIiwiRE9NUHJvcGVydHlJbmplY3Rpb24iLCJkb21Qcm9wZXJ0eUNvbmZpZyIsIkluamVjdGlvbiIsIkRPTU11dGF0aW9uTWV0aG9kcyIsIl9pc0N1c3RvbUF0dHJpYnV0ZUZ1bmN0aW9ucyIsImxvd2VyQ2FzZWQiLCJwcm9wQ29uZmlnIiwiZ2V0UG9zc2libGVTdGFuZGFyZE5hbWUiLCJpc0N1c3RvbUF0dHJpYnV0ZUZuIiwiZ2V0UmVuZGVyZWROYXRpdmVPclRleHRGcm9tQ29tcG9uZW50IiwicmVuZGVyZWQiLCJuYXRpdmVJbnN0IiwiaW50ZXJuYWxJbnN0YW5jZUtleSIsInByZWNhY2hlQ2hpbGROb2RlcyIsIm91dGVyIiwiY2hpbGRJbnN0IiwiY2hpbGRJRCIsIkFUVFJfTkFNRSIsInBhcmVudHMiLCJjbG9zZXN0IiwicG9wIiwidmFsaWRhdGVET01OZXN0aW5nIiwiUmVhY3RET01Db250YWluZXJJbmZvIiwidG9wTGV2ZWxXcmFwcGVyIiwiaW5mbyIsIkRPQ19OT0RFX1RZUEUiLCJSZWFjdERPTUZlYXR1cmVGbGFncyIsImFkbGVyMzIiLCJjaGFyQ29kZUF0IiwiTU9EIiwiVEFHX0VORCIsIkNPTU1FTlRfU1RBUlQiLCJSZWFjdE1hcmt1cENoZWNrc3VtIiwiQ0hFQ0tTVU1fQVRUUl9OQU1FIiwiYWRkQ2hlY2tzdW1Ub01hcmt1cCIsImNoZWNrc3VtIiwiY2FuUmV1c2VNYXJrdXAiLCJleGlzdGluZ0NoZWNrc3VtIiwibWFya3VwQ2hlY2tzdW0iLCJpbmplY3RlZCIsImVudmlyb25tZW50IiwiY2F1Z2h0RXJyb3IiLCJSZWFjdEVsZW1lbnQiLCJnZXRUeXBlIiwiaXNWYWxpZEVsZW1lbnQiLCJfcmVhY3RJbnRlcm5hbEluc3RhbmNlIiwiaGFzIiwiX2NhbGxiYWNrcyIsIl9jb250ZXh0cyIsImNhbGxiYWNrcyIsImNvbnRleHRzIiwibGVuIiwiUmVhY3RGZWF0dXJlRmxhZ3MiLCJsb2dUb3BMZXZlbFJlbmRlcnMiLCJSZWFjdE93bmVyIiwiaXNWYWxpZE93bmVyIiwiYXR0YWNoUmVmIiwiZGV0YWNoUmVmIiwiYWRkQ29tcG9uZW50QXNSZWZUbyIsInJlZiIsInJlbW92ZUNvbXBvbmVudEFzUmVmRnJvbSIsIm93bmVyUHVibGljSW5zdGFuY2UiLCJyZWZzIiwiUmVhY3RSZWYiLCJhdHRhY2hSZWZzIiwiaW5zdGFuY2UiLCJfb3duZXIiLCJzaG91bGRVcGRhdGVSZWZzIiwicHJldkVtcHR5IiwibmV4dEVtcHR5IiwiZGV0YWNoUmVmcyIsImludGVybmFsSW5zdGFuY2UiLCJfY29udGV4dCIsInJlZnNDaGFuZ2VkIiwicGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5IiwidXBkYXRlQmF0Y2hOdW1iZXIiLCJfdXBkYXRlQmF0Y2hOdW1iZXIiLCJ0cmFuc2FjdGlvbldyYXBwZXJzIiwid3JhcHBlckluaXREYXRhIiwiX2lzSW5UcmFuc2FjdGlvbiIsImlzSW5UcmFuc2FjdGlvbiIsImVycm9yVGhyb3duIiwiaW5pdGlhbGl6ZUFsbCIsImNsb3NlQWxsIiwiZXJyIiwic3RhcnRJbmRleCIsIndyYXBwZXIiLCJPQlNFUlZFRF9FUlJPUiIsImluaXREYXRhIiwiZW5zdXJlSW5qZWN0ZWQiLCJiYXRjaGluZ1N0cmF0ZWd5IiwiUmVhY3RVcGRhdGVzRmx1c2hUcmFuc2FjdGlvbiIsImRpcnR5Q29tcG9uZW50c0xlbmd0aCIsImNhbGxiYWNrUXVldWUiLCJyZWNvbmNpbGVUcmFuc2FjdGlvbiIsIm1vdW50T3JkZXJDb21wYXJhdG9yIiwiYzEiLCJjMiIsIl9tb3VudE9yZGVyIiwicnVuQmF0Y2hlZFVwZGF0ZXMiLCJkaXJ0eUNvbXBvbmVudHMiLCJzb3J0IiwiX3BlbmRpbmdDYWxsYmFja3MiLCJtYXJrZXJOYW1lIiwibmFtZWRDb21wb25lbnQiLCJjb25zb2xlIiwidGltZUVuZCIsImVucXVldWVVcGRhdGUiLCJhc2FwQ2FsbGJhY2tRdWV1ZSIsImFzYXBFbnF1ZXVlZCIsIk5FU1RFRF9VUERBVEVTIiwiVVBEQVRFX1FVRVVFSU5HIiwiUmVhY3RVcGRhdGVzSW5qZWN0aW9uIiwiUmVjb25jaWxlVHJhbnNhY3Rpb24iLCJfYmF0Y2hpbmdTdHJhdGVneSIsImdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZSIsInB1YmxpY0luc3RhbmNlIiwiY2FsbGVyTmFtZSIsIlJlYWN0VXBkYXRlUXVldWUiLCJpc01vdW50ZWQiLCJlbnF1ZXVlQ2FsbGJhY2siLCJ2YWxpZGF0ZUNhbGxiYWNrIiwiZW5xdWV1ZUNhbGxiYWNrSW50ZXJuYWwiLCJlbnF1ZXVlRm9yY2VVcGRhdGUiLCJfcGVuZGluZ0ZvcmNlVXBkYXRlIiwiZW5xdWV1ZVJlcGxhY2VTdGF0ZSIsImNvbXBsZXRlU3RhdGUiLCJfcGVuZGluZ1N0YXRlUXVldWUiLCJfcGVuZGluZ1JlcGxhY2VTdGF0ZSIsImVucXVldWVTZXRTdGF0ZSIsInBhcnRpYWxTdGF0ZSIsImVucXVldWVFbGVtZW50SW50ZXJuYWwiLCJuZXdFbGVtZW50IiwiX3BlbmRpbmdFbGVtZW50IiwiU3RhdGVsZXNzQ29tcG9uZW50Iiwid2FybklmSW52YWxpZEVsZW1lbnQiLCJzaG91bGRDb25zdHJ1Y3QiLCJpc1JlYWN0Q29tcG9uZW50IiwiUmVhY3RDdXJyZW50T3duZXIiLCJlbXB0eU9iamVjdCIsInVwZGF0ZXIiLCJuZXh0TW91bnRJRCIsIlJlYWN0Q29tcG9zaXRlQ29tcG9uZW50TWl4aW4iLCJjb25zdHJ1Y3QiLCJfaW5zdGFuY2UiLCJfY2FsbGVkQ29tcG9uZW50V2lsbFVubW91bnQiLCJyZW5kZXJlZEVsZW1lbnQiLCJwdWJsaWNQcm9wcyIsIl9wcm9jZXNzUHJvcHMiLCJwdWJsaWNDb250ZXh0IiwiX3Byb2Nlc3NDb250ZXh0IiwiX2NvbnN0cnVjdENvbXBvbmVudCIsImluaXRpYWxTdGF0ZSIsInN0YXRlIiwidW5zdGFibGVfaGFuZGxlRXJyb3IiLCJwZXJmb3JtSW5pdGlhbE1vdW50V2l0aEVycm9ySGFuZGxpbmciLCJwZXJmb3JtSW5pdGlhbE1vdW50IiwiY29tcG9uZW50RGlkTW91bnQiLCJfY29uc3RydWN0Q29tcG9uZW50V2l0aG91dE93bmVyIiwiaW5zdGFuY2VPckVsZW1lbnQiLCJfcHJvY2Vzc1BlbmRpbmdTdGF0ZSIsImNvbXBvbmVudFdpbGxNb3VudCIsIl9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnQiLCJfaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCIsIl9wcm9jZXNzQ2hpbGRDb250ZXh0IiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJfbWFza0NvbnRleHQiLCJjb250ZXh0VHlwZXMiLCJtYXNrZWRDb250ZXh0IiwiY29udGV4dE5hbWUiLCJjdXJyZW50Q29udGV4dCIsImNoaWxkQ29udGV4dCIsImdldENoaWxkQ29udGV4dCIsImNoaWxkQ29udGV4dFR5cGVzIiwibmV3UHJvcHMiLCJfY2hlY2tQcm9wVHlwZXMiLCJleCIsIm5leHRDb250ZXh0IiwicHJldkNvbnRleHQiLCJwcmV2UGFyZW50RWxlbWVudCIsIm5leHRQYXJlbnRFbGVtZW50IiwicHJldlVubWFza2VkQ29udGV4dCIsIm5leHRVbm1hc2tlZENvbnRleHQiLCJ3aWxsUmVjZWl2ZSIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0U3RhdGUiLCJzaG91bGRVcGRhdGUiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJfcGVyZm9ybUNvbXBvbmVudFVwZGF0ZSIsInBhcnRpYWwiLCJ1bm1hc2tlZENvbnRleHQiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJoYXNDb21wb25lbnREaWRVcGRhdGUiLCJjb21wb25lbnREaWRVcGRhdGUiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwiX3VwZGF0ZVJlbmRlcmVkQ29tcG9uZW50IiwicHJldkNvbXBvbmVudEluc3RhbmNlIiwicHJldlJlbmRlcmVkRWxlbWVudCIsIm5leHRSZW5kZXJlZEVsZW1lbnQiLCJvbGROYXRpdmVOb2RlIiwiX3JlcGxhY2VOb2RlV2l0aE1hcmt1cCIsInByZXZJbnN0YW5jZSIsIl9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnRXaXRob3V0T3duZXJPckNvbnRleHQiLCJyZW5kZXJlZENvbXBvbmVudCIsInB1YmxpY0NvbXBvbmVudEluc3RhbmNlIiwiUmVhY3RDb21wb3NpdGVDb21wb25lbnQiLCJlbXB0eUNvbXBvbmVudEZhY3RvcnkiLCJSZWFjdEVtcHR5Q29tcG9uZW50SW5qZWN0aW9uIiwiZmFjdG9yeSIsImNyZWF0ZSIsImdldENvbXBvbmVudENsYXNzRm9yRWxlbWVudCIsImNvbXBvbmVudENsYXNzIiwidGFnVG9Db21wb25lbnRDbGFzcyIsImF1dG9HZW5lcmF0ZVdyYXBwZXJDbGFzcyIsImNyZWF0ZUludGVybmFsQ29tcG9uZW50IiwiZ2VuZXJpY0NvbXBvbmVudENsYXNzIiwiY3JlYXRlSW5zdGFuY2VGb3JUZXh0IiwidGV4dENvbXBvbmVudENsYXNzIiwiaXNUZXh0Q29tcG9uZW50IiwiUmVhY3ROYXRpdmVDb21wb25lbnRJbmplY3Rpb24iLCJpbmplY3RDb21wb25lbnRDbGFzc2VzIiwiY29tcG9uZW50Q2xhc3NlcyIsImlzSW50ZXJuYWxDb21wb25lbnRUeXBlIiwiUmVhY3RDb21wb3NpdGVDb21wb25lbnRXcmFwcGVyIiwiX21vdW50SW1hZ2UiLCJNU0FwcCIsImV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uIiwiYXJnMCIsIldISVRFU1BBQ0VfVEVTVCIsIk5PTlZJU0lCTEVfVEVTVCIsInRlc3RFbGVtZW50IiwidGV4dE5vZGUiLCJkZWxldGVEYXRhIiwicHJldlR5cGUiLCJuZXh0VHlwZSIsImZpcnN0RGlmZmVyZW5jZUluZGV4Iiwic3RyaW5nMSIsInN0cmluZzIiLCJtaW5MZW4iLCJnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIiLCJpbnRlcm5hbEdldElEIiwibW91bnRDb21wb25lbnRJbnRvTm9kZSIsIndyYXBwZXJJbnN0YW5jZSIsInNob3VsZFJldXNlTWFya3VwIiwid3JhcHBlZEVsZW1lbnQiLCJSZWFjdE1vdW50IiwiX21vdW50SW1hZ2VJbnRvTm9kZSIsImJhdGNoZWRNb3VudENvbXBvbmVudEludG9Ob2RlIiwiY29tcG9uZW50SW5zdGFuY2UiLCJ1bm1vdW50Q29tcG9uZW50RnJvbU5vZGUiLCJoYXNOb25Sb290UmVhY3RDaGlsZCIsInJvb3RFbCIsImdldE5hdGl2ZVJvb3RJbnN0YW5jZUluQ29udGFpbmVyIiwicHJldk5hdGl2ZUluc3RhbmNlIiwiZ2V0VG9wTGV2ZWxXcmFwcGVySW5Db250YWluZXIiLCJST09UX0FUVFJfTkFNRSIsImluc3RhbmNlc0J5UmVhY3RSb290SUQiLCJ0b3BMZXZlbFJvb3RDb3VudGVyIiwiVG9wTGV2ZWxXcmFwcGVyIiwicm9vdElEIiwiX2luc3RhbmNlc0J5UmVhY3RSb290SUQiLCJzY3JvbGxNb25pdG9yIiwicmVuZGVyQ2FsbGJhY2siLCJfdXBkYXRlUm9vdENvbXBvbmVudCIsInByZXZDb21wb25lbnQiLCJfcmVuZGVyTmV3Um9vdENvbXBvbmVudCIsIndyYXBwZXJJRCIsInJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyIiwicGFyZW50Q29tcG9uZW50IiwiX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyIiwibmV4dFdyYXBwZWRFbGVtZW50IiwicHJldldyYXBwZWRFbGVtZW50IiwicHVibGljSW5zdCIsInVwZGF0ZWRDYWxsYmFjayIsInVubW91bnRDb21wb25lbnRBdE5vZGUiLCJyZWFjdFJvb3RFbGVtZW50IiwiY29udGFpbmVySGFzUmVhY3RNYXJrdXAiLCJjb250YWluZXJIYXNOb25Sb290UmVhY3RDaGlsZCIsInJvb3RFbGVtZW50Iiwicm9vdE1hcmt1cCIsIm91dGVySFRNTCIsIm5vcm1hbGl6ZWRNYXJrdXAiLCJkaWZmSW5kZXgiLCJSZWFjdERlZmF1bHRJbmplY3Rpb24iLCJSZWFjdFZlcnNpb24iLCJSZWFjdCIsInVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzIiwidW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIiLCJfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18iLCJNb3VudCIsIlJlY29uY2lsZXIiLCJfZXhwb3J0IiwiTWFpbkhlYWRlciIsIl9jIiwiUHJvcFR5cGVzIiwiTGF6eUltZyIsIkJhbm5lckJveCIsIl9lIiwiX3JlZiIsImRlZmF1bHRQcm9wcyIsImlzUmVxdWlyZWQiLCJnZXREYXRlIiwiSGVhZGVyQmFubmVyIiwiX2QiLCJkYXkiLCJtYXAiLCJhcnJheSIsIlN2Z0ljb24iLCJGb3JtU2VsZWN0IiwiX2ExIiwiaGFuZGxlQ2hhbmdlIiwiRm9ybVNlYXJjaCIsInNlYXJjaEZpZWxkIiwiaGFuZGxlQ2hhbmdlVGV4dCIsIl9leHRlbmRzIiwiSGVhZGVyRmlsdGVyIiwiX2E0IiwiX2EwIiwiX2EyIiwibW9udGhGaWx0ZXIiLCJzdGF0ZUZpbHRlciIsImhhbmRsZUNoYW5nZU1vbnRoIiwiaGFuZGxlQ2hhbmdlU3RhdGUiLCJfZ2V0IiwiX2luaGVyaXRzIiwiX2NyZWF0ZUNsYXNzIiwiX2NsYXNzQ2FsbENoZWNrIiwiY29ubmVjdCIsImZldGNoRXZlbnRzIiwiY2hvb3NlRmlsdGVyU2VsZWN0IiwiZmlsdGVyQnlUZXh0IiwiSGVhZGVyIiwibWFwU3RhdGVUb1Byb3BzIiwiX2E4IiwiX2E5IiwiX2FhIiwiX2FiIiwiX2E3IiwiX2YiLCJfYTMiLCJfYTYiLCJfQ29tcG9uZW50IiwiZ2V0UHJvdG90eXBlT2YiLCJkaXNwYXRjaCIsImZpZWxkIiwiX3RoaXMiLCJfcHJvcHMiLCJtb250aHMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiQ29uc3RydWN0b3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIlJlZmVyZW5jZUVycm9yIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfcmVhY3QiLCJfc3RvcmVTaGFwZSIsIl9zdG9yZVNoYXBlMiIsIl93YXJuaW5nIiwiUHJvdmlkZXIiLCJzdG9yZSIsIkNoaWxkcmVuIiwib25seSIsIm9uZUFyZ3VtZW50UG9vbGVyIiwiY29weUZpZWxkc0Zyb20iLCJLbGFzcyIsImluc3RhbmNlUG9vbCIsImExIiwiYTIiLCJ0aHJlZUFyZ3VtZW50UG9vbGVyIiwiYTMiLCJhNCIsImZpdmVBcmd1bWVudFBvb2xlciIsImE1Iiwic3RhbmRhcmRSZWxlYXNlciIsInBvb2xTaXplIiwiREVGQVVMVF9QT09MX1NJWkUiLCJERUZBVUxUX1BPT0xFUiIsIkNvcHlDb25zdHJ1Y3RvciIsInBvb2xlciIsIk5ld0tsYXNzIiwiZXNjYXBlIiwiZXNjYXBlUmVnZXgiLCJlc2NhcGVyTG9va3VwIiwiPSIsIjoiLCJlc2NhcGVkU3RyaW5nIiwidW5lc2NhcGUiLCJ1bmVzY2FwZVJlZ2V4IiwidW5lc2NhcGVyTG9va3VwIiwiPTAiLCI9MiIsImtleVN1YnN0cmluZyIsIktleUVzY2FwZVV0aWxzIiwiZ2V0Q29tcG9uZW50S2V5IiwidHJhdmVyc2VBbGxDaGlsZHJlbkltcGwiLCJuYW1lU29GYXIiLCJTRVBBUkFUT1IiLCJuZXh0TmFtZSIsInN1YnRyZWVDb3VudCIsIm5leHROYW1lUHJlZml4IiwiU1VCU0VQQVJBVE9SIiwiaXRlcmF0b3JGbiIsImdldEl0ZXJhdG9yRm4iLCJpdGVyYXRvciIsImVudHJpZXMiLCJkb25lIiwiZW50cnkiLCJlc2NhcGVVc2VyUHJvdmlkZWRLZXkiLCJ1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCIsIkZvckVhY2hCb29rS2VlcGluZyIsImZvckVhY2hGdW5jdGlvbiIsImZvckVhY2hDb250ZXh0IiwiY291bnQiLCJmb3JFYWNoU2luZ2xlQ2hpbGQiLCJmb3JFYWNoQ2hpbGRyZW4iLCJmb3JFYWNoRnVuYyIsIk1hcEJvb2tLZWVwaW5nIiwibWFwUmVzdWx0Iiwia2V5UHJlZml4IiwibWFwRnVuY3Rpb24iLCJtYXBDb250ZXh0IiwibWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCIsImNoaWxkS2V5IiwibWFwcGVkQ2hpbGQiLCJtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsIiwidGhhdFJldHVybnNBcmd1bWVudCIsImNsb25lQW5kUmVwbGFjZUtleSIsImVzY2FwZWRQcmVmaXgiLCJtYXBDaGlsZHJlbiIsImZvckVhY2hTaW5nbGVDaGlsZER1bW15IiwiY291bnRDaGlsZHJlbiIsInByb2Nlc3NpbmdDaGlsZENvbnRleHQiLCJ3YXJuSW52YWxpZFNldFN0YXRlIiwiUmVhY3RJbnZhbGlkU2V0U3RhdGVXYXJuaW5nRGV2VG9vbCIsIm9uQmVnaW5Qcm9jZXNzaW5nQ2hpbGRDb250ZXh0Iiwib25FbmRQcm9jZXNzaW5nQ2hpbGRDb250ZXh0Iiwib25TZXRTdGF0ZSIsIlJlYWN0RGVidWdUb29sIiwib25Nb3VudFJvb3RDb21wb25lbnQiLCJvbk1vdW50Q29tcG9uZW50Iiwib25VcGRhdGVDb21wb25lbnQiLCJvblVubW91bnRDb21wb25lbnQiLCJSZWFjdENvbXBvbmVudCIsIlJlYWN0Tm9vcFVwZGF0ZVF1ZXVlIiwic2V0U3RhdGUiLCJmb3JjZVVwZGF0ZSIsIndhcm5URFoiLCJ2YWxpZGF0ZU1ldGhvZE92ZXJyaWRlIiwiaXNBbHJlYWR5RGVmaW5lZCIsInNwZWNQb2xpY3kiLCJSZWFjdENsYXNzSW50ZXJmYWNlIiwiUmVhY3RDbGFzc01peGluIiwiU3BlY1BvbGljeSIsIk9WRVJSSURFX0JBU0UiLCJERUZJTkVfTUFOWSIsIkRFRklORV9NQU5ZX01FUkdFRCIsIm1peFNwZWNJbnRvQ29tcG9uZW50Iiwic3BlYyIsInByb3RvIiwiYXV0b0JpbmRQYWlycyIsIl9fcmVhY3RBdXRvQmluZFBhaXJzIiwiTUlYSU5TX0tFWSIsIlJFU0VSVkVEX1NQRUNfS0VZUyIsIm1peGlucyIsImlzUmVhY3RDbGFzc01ldGhvZCIsImlzRnVuY3Rpb24iLCJzaG91bGRBdXRvQmluZCIsImF1dG9iaW5kIiwiY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24iLCJjcmVhdGVDaGFpbmVkRnVuY3Rpb24iLCJtaXhTdGF0aWNTcGVjSW50b0NvbXBvbmVudCIsInN0YXRpY3MiLCJpc1Jlc2VydmVkIiwiaXNJbmhlcml0ZWQiLCJtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzIiwib25lIiwidHdvIiwiYmluZEF1dG9CaW5kTWV0aG9kIiwiYm91bmRNZXRob2QiLCJiaW5kQXV0b0JpbmRNZXRob2RzIiwicGFpcnMiLCJhdXRvQmluZEtleSIsIkRFRklORV9PTkNFIiwiaW5qZWN0ZWRNaXhpbnMiLCJnZXREZWZhdWx0UHJvcHMiLCJnZXRJbml0aWFsU3RhdGUiLCJyZXBsYWNlU3RhdGUiLCJuZXdTdGF0ZSIsIlJlYWN0Q2xhc3NDb21wb25lbnQiLCJjcmVhdGVDbGFzcyIsIm1ldGhvZE5hbWUiLCJpbmplY3RNaXhpbiIsIm1peGluIiwiY3JlYXRlRE9NRmFjdG9yeSIsImNyZWF0ZUZhY3RvcnkiLCJtYXBPYmplY3QiLCJSZWFjdERPTUZhY3RvcmllcyIsImFiYnIiLCJhZGRyZXNzIiwiYXJ0aWNsZSIsImFzaWRlIiwiYXVkaW8iLCJiZGkiLCJiZG8iLCJiaWciLCJibG9ja3F1b3RlIiwiY2FudmFzIiwiY29kZSIsImRhdGFsaXN0IiwiZGQiLCJkZWwiLCJkZXRhaWxzIiwiZGZuIiwiZGlhbG9nIiwiZGwiLCJkdCIsImVtIiwiZmllbGRzZXQiLCJmaWdjYXB0aW9uIiwiZmlndXJlIiwiZm9vdGVyIiwiaDEiLCJoMiIsImgzIiwiaDQiLCJoNSIsImg2IiwiaGVhZCIsImhlYWRlciIsImhncm91cCIsImlmcmFtZSIsImlucyIsImtiZCIsImxpIiwibWFpbiIsIm1hcmsiLCJtZW51IiwibWV0ZXIiLCJuYXYiLCJub3NjcmlwdCIsIm9sIiwib3V0cHV0IiwicGljdHVyZSIsInEiLCJycCIsInJ0IiwicnVieSIsInNhbXAiLCJzY3JpcHQiLCJzZWN0aW9uIiwic21hbGwiLCJzdHJvbmciLCJzdWIiLCJzdXAiLCJ0YWJsZSIsInVsIiwidmFyIiwidmlkZW8iLCJjaXJjbGUiLCJkZWZzIiwiZWxsaXBzZSIsImxpbmUiLCJsaW5lYXJHcmFkaWVudCIsInBvbHlnb24iLCJwb2x5bGluZSIsInJhZGlhbEdyYWRpZW50IiwicmVjdCIsInN0b3AiLCJ0c3BhbiIsInZhbGlkYXRlRXhwbGljaXRLZXkiLCJwYXJlbnRUeXBlIiwiX3N0b3JlIiwidmFsaWRhdGVkIiwiZ2V0QWRkZW5kYUZvcktleVVzZSIsIm1lc3NhZ2VUeXBlIiwiYWRkZW5kdW0iLCJwYXJlbnROYW1lIiwibWVtb2l6ZXIiLCJvd25lckhhc0tleVVzZVdhcm5pbmciLCJhZGRlbmRhIiwicGFyZW50T3JPd25lciIsImNoaWxkT3duZXIiLCJ2YWxpZGF0ZUNoaWxkS2V5cyIsInZhbGlkYXRlUHJvcFR5cGVzIiwiUmVhY3RFbGVtZW50VmFsaWRhdG9yIiwidmFsaWRUeXBlIiwidmFsaWRhdGVkRmFjdG9yeSIsImNsb25lRWxlbWVudCIsIlJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzIiwibWF5YmVJdGVyYWJsZSIsIklURVJBVE9SX1NZTUJPTCIsIkZBVVhfSVRFUkFUT1JfU1lNQk9MIiwiU3ltYm9sIiwiY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIiLCJ2YWxpZGF0ZSIsImNoZWNrVHlwZSIsInByb3BGdWxsTmFtZSIsIkFOT05ZTU9VUyIsImxvY2F0aW9uTmFtZSIsImNoYWluZWRDaGVja1R5cGUiLCJjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlciIsImV4cGVjdGVkVHlwZSIsInByb3BUeXBlIiwiZ2V0UHJvcFR5cGUiLCJwcmVjaXNlVHlwZSIsImdldFByZWNpc2VUeXBlIiwiY3JlYXRlQW55VHlwZUNoZWNrZXIiLCJ0aGF0UmV0dXJucyIsImNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlciIsInR5cGVDaGVja2VyIiwiY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyIiwiY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlciIsImV4cGVjdGVkQ2xhc3MiLCJleHBlY3RlZENsYXNzTmFtZSIsImFjdHVhbENsYXNzTmFtZSIsImdldENsYXNzTmFtZSIsImNyZWF0ZUVudW1UeXBlQ2hlY2tlciIsImV4cGVjdGVkVmFsdWVzIiwidmFsdWVzU3RyaW5nIiwiY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlciIsImNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIiLCJhcnJheU9mVHlwZUNoZWNrZXJzIiwiY2hlY2tlciIsImNyZWF0ZU5vZGVDaGVja2VyIiwiY3JlYXRlU2hhcGVUeXBlQ2hlY2tlciIsInNoYXBlVHlwZXMiLCJldmVyeSIsImJvb2wiLCJhbnkiLCJhcnJheU9mIiwiaW5zdGFuY2VPZiIsIm9iamVjdE9mIiwib25lT2YiLCJvbmVPZlR5cGUiLCJjYW5EZWZpbmVQcm9wZXJ0eSIsIlJFQUNUX0VMRU1FTlRfVFlQRSIsIl9fc2VsZiIsIl9fc291cmNlIiwiJCR0eXBlb2YiLCJjb25maWciLCJjaGlsZHJlbkxlbmd0aCIsImNoaWxkQXJyYXkiLCJvbGRFbGVtZW50IiwibmV3S2V5IiwiX3NlbGYiLCJfc291cmNlIiwib25seUNoaWxkIiwiX19zcHJlYWQiLCJjcmVhdGVNaXhpbiIsIkRPTSIsInN1YnNjcmliZSIsImdldFN0YXRlIiwiaGFzT3duIiwid3JhcEFjdGlvbkNyZWF0b3JzIiwiYWN0aW9uQ3JlYXRvcnMiLCJfcmVkdXgiLCJiaW5kQWN0aW9uQ3JlYXRvcnMiLCJ3YXJuaW5nIiwiUkVBQ1RfU1RBVElDUyIsIktOT1dOX1NUQVRJQ1MiLCJjYWxsZXIiLCJhcml0eSIsInRhcmdldENvbXBvbmVudCIsInNvdXJjZUNvbXBvbmVudCIsImdldE93blByb3BlcnR5TmFtZXMiLCJjb25kaXRpb24iLCJhcmdzIiwiYXJnSW5kZXgiLCJmcmFtZXNUb1BvcCIsImdldERpc3BsYXlOYW1lIiwiV3JhcHBlZENvbXBvbmVudCIsInRyeUNhdGNoIiwiY3R4IiwiZXJyb3JPYmplY3QiLCJtYXBEaXNwYXRjaFRvUHJvcHMiLCJtZXJnZVByb3BzIiwic2hvdWxkU3Vic2NyaWJlIiwibWFwU3RhdGUiLCJkZWZhdWx0TWFwU3RhdGVUb1Byb3BzIiwibWFwRGlzcGF0Y2giLCJfd3JhcEFjdGlvbkNyZWF0b3JzMiIsImRlZmF1bHRNYXBEaXNwYXRjaFRvUHJvcHMiLCJmaW5hbE1lcmdlUHJvcHMiLCJkZWZhdWx0TWVyZ2VQcm9wcyIsIl9vcHRpb25zJHB1cmUiLCJwdXJlIiwiX29wdGlvbnMkd2l0aFJlZiIsIndpdGhSZWYiLCJjaGVja01lcmdlZEVxdWFscyIsIm5leHRWZXJzaW9uIiwiY29tcHV0ZU1lcmdlZFByb3BzIiwic3RhdGVQcm9wcyIsImRpc3BhdGNoUHJvcHMiLCJwYXJlbnRQcm9wcyIsIm1lcmdlZFByb3BzIiwiY29ubmVjdERpc3BsYXlOYW1lIiwiQ29ubmVjdCIsIl9pbnZhcmlhbnQyIiwic3RvcmVTdGF0ZSIsImNsZWFyQ2FjaGUiLCJoYXZlT3duUHJvcHNDaGFuZ2VkIiwiaGFzU3RvcmVTdGF0ZUNoYW5nZWQiLCJjb21wdXRlU3RhdGVQcm9wcyIsImZpbmFsTWFwU3RhdGVUb1Byb3BzIiwiY29uZmlndXJlRmluYWxNYXBTdGF0ZSIsImRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMiLCJtYXBwZWRTdGF0ZSIsImlzRmFjdG9yeSIsImNvbXB1dGVEaXNwYXRjaFByb3BzIiwiZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMiLCJjb25maWd1cmVGaW5hbE1hcERpc3BhdGNoIiwiZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyIsIm1hcHBlZERpc3BhdGNoIiwidXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkIiwibmV4dFN0YXRlUHJvcHMiLCJfc2hhbGxvd0VxdWFsMiIsInVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCIsIm5leHREaXNwYXRjaFByb3BzIiwidXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCIsIm5leHRNZXJnZWRQcm9wcyIsImlzU3Vic2NyaWJlZCIsInVuc3Vic2NyaWJlIiwidHJ5U3Vic2NyaWJlIiwidHJ5VW5zdWJzY3JpYmUiLCJoYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkIiwic3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IiLCJwcmV2U3RvcmVTdGF0ZSIsImhhdmVTdGF0ZVByb3BzQ2hhbmdlZCIsImdldFdyYXBwZWRJbnN0YW5jZSIsIndyYXBwZWRJbnN0YW5jZSIsInNob3VsZFVwZGF0ZVN0YXRlUHJvcHMiLCJzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzIiwiaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkIiwiaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCIsIl9ob2lzdE5vblJlYWN0U3RhdGljczIiLCJhc3NpZ24iLCJfc2hhbGxvd0VxdWFsIiwiX3dyYXBBY3Rpb25DcmVhdG9ycyIsIl9pc1BsYWluT2JqZWN0IiwiX2hvaXN0Tm9uUmVhY3RTdGF0aWNzIiwiX2ludmFyaWFudCIsIl9Qcm92aWRlciIsIl9Qcm92aWRlcjIiLCJfY29ubmVjdCIsIl9jb25uZWN0MiIsIiRleHBvcnQiLCJjb3JlIiwiZmFpbHMiLCJLRVkiLCJleGVjIiwiZXhwIiwiUyIsIkYiLCJ0b0lPYmplY3QiLCIkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiaXQiLCIkIiwiZ2V0RGVzYyIsIl9PYmplY3QkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3giLCJfeDIiLCJfeDMiLCJfYWdhaW4iLCJyZWNlaXZlciIsIkZ1bmN0aW9uIiwiZGVzYyIsImdldHRlciIsInBhcmVudCIsIlAiLCJfT2JqZWN0JGNyZWF0ZSIsIl9PYmplY3Qkc2V0UHJvdG90eXBlT2YiLCJfT2JqZWN0JGRlZmluZVByb3BlcnR5IiwiZGVmaW5lUHJvcGVydGllcyIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJpc0xvYWRlZCIsImhhbmRsZUxvYWQiLCJhcmlhLWhpZGRlbiIsImFyaWEtbGFiZWwiLCJnZXRNb250aCIsImZvcm1hdERhdGUiLCJFdmVudExpc3RJdGVtIiwieWVhciIsIl9yZWYyIiwicHJpY2UiLCJzaG9ydERlc2NyaXB0aW9uIiwibG9jYXRpb25VcmwiLCJjaXR5IiwiUGFnZSIsIl9lMiIsIm1vbnRoc0ZpbHRlciIsInNob3VsZFNob3dCeU1vbnRoIiwic2hvdWxkU2hvd0J5U3RhdGUiLCJzaG91bGRTaG93QnlUZXh0IiwiQXNpZGUiLCJNYWluQ29udGVudCIsIl9hNSIsIl9lMyIsIl9lNCIsImNhblVzZVdvcmtlcnMiLCJXb3JrZXIiLCJjYW5Vc2VFdmVudExpc3RlbmVycyIsImNhblVzZVZpZXdwb3J0Iiwic2NyZWVuIiwiaXNJbldvcmtlciIsInBlcmZvcm1hbmNlIiwibXNQZXJmb3JtYW5jZSIsIndlYmtpdFBlcmZvcm1hbmNlIiwicGVyZm9ybWFuY2VOb3ciLCJoaXN0b3J5IiwiUmVhY3ROYXRpdmVPcGVyYXRpb25IaXN0b3J5RGV2dG9vbCIsIm9uTmF0aXZlT3BlcmF0aW9uIiwiZGVidWdJRCIsInBheWxvYWQiLCJpbnN0YW5jZUlEIiwiY2xlYXJIaXN0b3J5IiwiX3ByZXZlbnRDbGVhcmluZyIsImdldEhpc3RvcnkiLCJ1cGRhdGVUcmVlIiwicGFyZW50SUQiLCJvd25lcklEIiwiY2hpbGRJRHMiLCJ1cGRhdGVDb3VudCIsInB1cmdlRGVlcCIsIml0ZW0iLCJyb290SURzIiwiUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbCIsIm9uU2V0RGlzcGxheU5hbWUiLCJvblNldENoaWxkcmVuIiwibmV4dENoaWxkSURzIiwicHJldkNoaWxkSURzIiwibmV4dENoaWxkSUQiLCJvblNldE93bmVyIiwib25TZXRUZXh0IiwicHVyZ2VVbm1vdW50ZWRDb21wb25lbnRzIiwiX3ByZXZlbnRQdXJnaW5nIiwiZ2V0Q2hpbGRJRHMiLCJnZXRPd25lcklEIiwiZ2V0UGFyZW50SUQiLCJnZXRVcGRhdGVDb3VudCIsImdldFJvb3RJRHMiLCJnZXRSZWdpc3RlcmVkSURzIiwiY2hlY2tEZWJ1Z0lEIiwiYmVnaW5Qcm9maWxpbmciLCJlbmRQcm9maWxpbmciLCJnZXRGbHVzaEhpc3RvcnkiLCJvbkJlZ2luRmx1c2giLCJvbkVuZEZsdXNoIiwib25CZWdpbkxpZmVDeWNsZVRpbWVyIiwidGltZXJUeXBlIiwib25FbmRMaWZlQ3ljbGVUaW1lciIsIm9uQmVnaW5SZWNvbmNpbGVyVGltZXIiLCJvbkVuZFJlY29uY2lsZXJUaW1lciIsImNoaWxkRGVidWdJRHMiLCJvd25lckRlYnVnSUQiLCJvbmVLZXlPYmoiLCJ0b09iamVjdCIsInNob3VsZFVzZU5hdGl2ZSIsInRlc3QxIiwidGVzdDIiLCJvcmRlcjIiLCJ0ZXN0MyIsInNwbGl0IiwibGV0dGVyIiwicHJvcElzRW51bWVyYWJsZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3ltYm9scyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm1ha2VFbXB0eUZ1bmN0aW9uIiwidGhhdFJldHVybnNUaGlzIiwiZm9vdGVyTGlua3MiLCJNYWluRm9vdGVyIiwiQXBwIiwiX2IiLCJfZTUiLCJfZjYiLCJvYnNlcnZhYmxlIiwiY3JlYXRlU3RvcmUiLCJyZWR1Y2VyIiwiZW5oYW5jZXIiLCJlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzIiwibmV4dExpc3RlbmVycyIsImN1cnJlbnRMaXN0ZW5lcnMiLCJjdXJyZW50U3RhdGUiLCJfaXNQbGFpbk9iamVjdDIiLCJpc0Rpc3BhdGNoaW5nIiwiY3VycmVudFJlZHVjZXIiLCJyZXBsYWNlUmVkdWNlciIsIm5leHRSZWR1Y2VyIiwiQWN0aW9uVHlwZXMiLCJJTklUIiwib3V0ZXJTdWJzY3JpYmUiLCJvYnNlcnZlciIsIm9ic2VydmVTdGF0ZSIsIl9zeW1ib2xPYnNlcnZhYmxlMiIsIl9zeW1ib2xPYnNlcnZhYmxlIiwiZ2V0UHJvdG90eXBlIiwibmF0aXZlR2V0UHJvdG90eXBlIiwiaXNIb3N0T2JqZWN0IiwiaXNPYmplY3RMaWtlIiwiaXNQbGFpbk9iamVjdCIsIm9iamVjdFRvU3RyaW5nIiwib2JqZWN0VGFnIiwiQ3RvciIsImZ1bmNUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJvYmplY3RQcm90byIsImdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlIiwiYWN0aW9uVHlwZSIsImFjdGlvbk5hbWUiLCJhc3NlcnRSZWR1Y2VyU2FuaXR5IiwicmVkdWNlcnMiLCJfY3JlYXRlU3RvcmUiLCJjb21iaW5lUmVkdWNlcnMiLCJyZWR1Y2VyS2V5cyIsImZpbmFsUmVkdWNlcnMiLCJzYW5pdHlFcnJvciIsImZpbmFsUmVkdWNlcktleXMiLCJoYXNDaGFuZ2VkIiwicHJldmlvdXNTdGF0ZUZvcktleSIsIm5leHRTdGF0ZUZvcktleSIsImVycm9yTWVzc2FnZSIsImJpbmRBY3Rpb25DcmVhdG9yIiwiYWN0aW9uQ3JlYXRvciIsImJvdW5kQWN0aW9uQ3JlYXRvcnMiLCJhcHBseU1pZGRsZXdhcmUiLCJfbGVuIiwibWlkZGxld2FyZXMiLCJfa2V5IiwiX2Rpc3BhdGNoIiwiY2hhaW4iLCJtaWRkbGV3YXJlQVBJIiwibWlkZGxld2FyZSIsIl9jb21wb3NlMiIsIl9jb21wb3NlIiwiY29tcG9zZSIsImZ1bmNzIiwiX3JldCIsImxhc3QiLCJyZXN0IiwicmVkdWNlUmlnaHQiLCJjb21wb3NlZCIsIl9jcmVhdGVTdG9yZTIiLCJfY29tYmluZVJlZHVjZXJzIiwiX2NvbWJpbmVSZWR1Y2VyczIiLCJfYmluZEFjdGlvbkNyZWF0b3JzIiwiX2JpbmRBY3Rpb25DcmVhdG9yczIiLCJfYXBwbHlNaWRkbGV3YXJlIiwiX2FwcGx5TWlkZGxld2FyZTIiLCJ0aHVua01pZGRsZXdhcmUiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJfMiIsIl9jYSIsIl9yZWYkaW5pdGlhbFN0YXRlIiwiX3JlZiRtaWRkbGV3YXJlcyIsInJvb3RSZWR1Y2VyIiwiRkVUQ0hfRVZFTlRTIiwiRVZFTlRTX1NVQ0NFU1MiLCJFVkVOVFNfRkFJTEVEIiwiQ0hPT1NFX0ZJTFRFUl9TRUxFQ1QiLCJGSUxURVJfQllfVEVYVCIsImlzRmV0Y2hpbmciLCJfYWN0aW9uJHBheWxvYWQiLCJJT2JqZWN0IiwiQSIsIkIiLCJLIiwiVCIsIiQkIiwiJCRsZW4iLCJnZXRLZXlzIiwiZ2V0U3ltYm9scyIsImlzRW51bSIsIl9PYmplY3QkYXNzaWduIiwic2V0RGVzYyIsImRlZmluZWQiLCJpc0FycmF5SXRlciIsInRvTGVuZ3RoIiwiZ2V0SXRlckZuIiwiaXRlciIsImFycmF5TGlrZSIsIk8iLCJDIiwibWFwZm4iLCJtYXBwaW5nIiwiaXRlckZuIiwiX0FycmF5JGZyb20iLCJhcnIyIiwidG9JbnRlZ2VyIiwiVE9fU1RSSU5HIiwidGhhdCIsInBvcyIsIiRhdCIsIml0ZXJhdGVkIiwiX3QiLCJfaSIsInBvaW50IiwiY29mIiwic2V0VG9TdHJpbmdUYWciLCJJdGVyYXRvclByb3RvdHlwZSIsIk5BTUUiLCJMSUJSQVJZIiwicmVkZWZpbmUiLCJoaWRlIiwiSXRlcmF0b3JzIiwiJGl0ZXJDcmVhdGUiLCJnZXRQcm90byIsIklURVJBVE9SIiwiQlVHR1kiLCJGRl9JVEVSQVRPUiIsIktFWVMiLCJWQUxVRVMiLCJyZXR1cm5UaGlzIiwiQmFzZSIsIkRFRkFVTFQiLCJJU19TRVQiLCJGT1JDRUQiLCJtZXRob2RzIiwiZ2V0TWV0aG9kIiwiVEFHIiwiREVGX1ZBTFVFUyIsIlZBTFVFU19CVUciLCIkbmF0aXZlIiwiJGRlZmF1bHQiLCJhZGRUb1Vuc2NvcGFibGVzIiwiX2siLCJBcmd1bWVudHMiLCJOb2RlTGlzdCIsIkhUTUxDb2xsZWN0aW9uIiwiUFJPVE9UWVBFIiwib3duIiwib3V0IiwiSVNfRk9SQ0VEIiwiSVNfR0xPQkFMIiwiRyIsIklTX1NUQVRJQyIsIklTX1BST1RPIiwiSVNfQklORCIsIklTX1dSQVAiLCJXIiwiYW5PYmplY3QiLCJBcnJheVByb3RvIiwiY2VpbCIsImZsb29yIiwiQVJHIiwiY2xhc3NvZiIsImdldEl0ZXJhdG9yTWV0aG9kIiwiaXRlcmFibGUiLCJpc09iamVjdCIsImNoZWNrIiwiYnVnZ3kiLCJhRnVuY3Rpb24iLCJTUEVDSUVTIiwidW4iLCJjaGFubmVsIiwicG9ydCIsImludm9rZSIsImNlbCIsInNldFRhc2siLCJzZXRJbW1lZGlhdGUiLCJjbGVhclRhc2siLCJjbGVhckltbWVkaWF0ZSIsIk1lc3NhZ2VDaGFubmVsIiwiY291bnRlciIsIk9OUkVBRFlTVEFURUNIQU5HRSIsInJ1biIsImxpc3RuZXIiLCJuZXh0VGljayIsInBvcnQyIiwicG9ydDEiLCJvbm1lc3NhZ2UiLCJwb3N0TWVzc2FnZSIsImltcG9ydFNjcmlwdHMiLCJzZXRUaW1lb3V0IiwiY2xlYXIiLCJub3RpZnkiLCJtYWNyb3Rhc2siLCJPYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyIiwiUHJvbWlzZSIsImZsdXNoIiwiZG9tYWluIiwiZXhpdCIsInRvZ2dsZSIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwidGhlbiIsInRhc2siLCJiaXRtYXAiLCJjcmVhdGVEZXNjIiwiZGVmIiwic3RhdCIsIiRPYmplY3QiLCJzZXREZXNjcyIsImdldE5hbWVzIiwiZWFjaCIsIkRFU0NSSVBUT1JTIiwiU0hBUkVEIiwicHgiLCJfX2ciLCJ1aWQiLCJTQUZFX0NMT1NJTkciLCJyaXRlciIsInNraXBDbG9zaW5nIiwic2FmZSIsImNsZWFuVXBOZXh0VGljayIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiSXRlbSIsImZ1biIsIm5vb3AiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJ1bWFzayIsIldyYXBwZXIiLCJzdHJpY3ROZXciLCJmb3JPZiIsInNldFByb3RvIiwic2FtZSIsInNwZWNpZXNDb25zdHJ1Y3RvciIsIlBST01JU0UiLCJ0ZXN0UmVzb2x2ZSIsIlVTRV9OQVRJVkUiLCJQMiIsIndvcmtzIiwidGhlbmFibGVUaGVuR290dGVuIiwic2FtZUNvbnN0cnVjdG9yIiwiZ2V0Q29uc3RydWN0b3IiLCJpc1RoZW5hYmxlIiwiUHJvbWlzZUNhcGFiaWxpdHkiLCJyZWplY3QiLCJwcm9taXNlIiwiJCRyZXNvbHZlIiwiJCRyZWplY3QiLCJyZWNvcmQiLCJpc1JlamVjdCIsIm9rIiwicmVhY3Rpb24iLCJoYW5kbGVyIiwiZmFpbCIsImlzVW5oYW5kbGVkIiwib251bmhhbmRsZWRyZWplY3Rpb24iLCJyZWFzb24iLCIkcmVqZWN0IiwiJHJlc29sdmUiLCJleGVjdXRvciIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsImNhdGNoIiwiY2FwYWJpbGl0eSIsImFsbCIsImFicnVwdCIsInJlbWFpbmluZyIsImFscmVhZHlDYWxsZWQiLCJyYWNlIiwiX19lIiwiZGVmaW5lIiwiYW1kIiwiYWpheCIsImJhc2VVcmwiLCJyZWR1Y2UiLCJYTUxIdHRwUmVxdWVzdCIsInNlbmQiLCJzZXRSZXF1ZXN0SGVhZGVyIiwic29tZSIsInJlYWR5U3RhdGUiLCJET05FIiwiYWx3YXlzIiwic3RhdHVzIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJfUHJvbWlzZSIsInByZXBhcmVGaWx0ZXJTZWxlY3RzIiwiZXZlbnRzU3VjY2VzcyIsImV2ZW50c0ZhaWxlZCIsIkZJTExfRklMVEVSX1NFTEVDVFMiLCJmaWxsRmlsdGVyU2VsZWN0IiwicmVtb3ZlRHVwbGljYXRlZEVudHJpZXMiLCJhbGxFbnRyaWVzIiwiYWxsTW9udGhzIiwiYWxsU3RhdGVzIiwic3RhdGVzIiwiX2V4cG9ydE9iaiIsIl9hIiwiX2V4cG9ydE9iajIiLCJfZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmVTdG9yZSIsIl9mNyIsIl9jMiIsInF1ZXJ5U2VsZWN0b3IiLCJsb2ciXSwibWFwcGluZ3MiOiJDQUFDLFNBQVNBLEdBQUcsUUFBU0MsR0FBRUQsRUFBRUMsRUFBRUMsR0FBRyxNQUFPLEtBQUlDLFVBQVVDLE9BQU9DLEVBQUVDLE1BQU1DLEtBQUtKLGVBQWdCSyxHQUFFUixHQUFHUyxhQUFZLEVBQUdDLEtBQUtULEVBQUVVLFFBQVFULElBQUksUUFBU0csR0FBRUwsRUFBRUMsRUFBRUksRUFBRUgsR0FBR00sRUFBRVIsR0FBR1MsYUFBWSxFQUFH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QVN1bkQsRUFBRyxhQUVkcnhGLFFBQVMsV0FDUHlzRSxFQUFRLFcyVWp0a0JHcndCLE9BQUFBLEVBQVF0UyxPQUFBQSxRM1VxdGtCekJsbUMsRUFBVU4sU0FBUyxLQUFNLE1BQU8sS0FBTSxLQUFNLEtBQU0sS0FBTSxPQUFRLFNBQVVtcEUsRzRVMXRrQjFFLFk1VTZ0a0JFLElBQUl1NUIsR0FBZ0I3NUIsRUFBT3haLEVBQVFzZSxFQUFVbWdCLEVBQUt1QyxFNFVwdGtCOUN6aUIsQzVVcXRrQkosUUFDRTN2RSxTQUFVLFNBQVVrQixHQUNsQnVqRyxFQUFpQnZqRyxFQUFFLFlBQ2xCLFNBQVVrcUUsR0FDWFIsRUFBUVEsRUFBRyxZQUNWLFNBQVVrNUIsR0FDWGx6QyxFQUFTa3pDLEU0VWp1a0JObHpDLFE1VWt1a0JGLFNBQVU0YyxHQUNYMEIsRUFBVzFCLEU0VWx1a0JSMEIsVTVVbXVrQkYsU0FBVWcxQixHQUNYN1UsRUFBTTZVLEVBQUksWUFDVCxTQUFVQyxHQUNYdlMsRUFBV3VTLEVBQUksYUFFakJsbUcsUUFBUyxXNFVudWtCUGt4RSxFQUFRODBCLEdBQWlCclMsU0FBQUEsSUFFL0JoaEMsRUFDRXdaLEVBQUF4ckQsY0FBQ3N3RCxHQUFTQyxNQUFPQSxHQUNmL0UsRUFBQXhyRCxjQUFDeXdFLEVBQUcsT0FFTnRuRixTQUFTcThGLGNBQWMsb0JBR3pCajFCLEVBQU1tUyxVQUFVLFdBQ2R2aUIsUUFBUXNsQyxJQUFJbDFCLEVBQU1vUyxvQjVVeXVrQm5CLFNBQVNoYyxHQUNSQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlKXtmdW5jdGlvbiByKGUscixvKXtyZXR1cm4gND09PWFyZ3VtZW50cy5sZW5ndGg/dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCBuKGUse2RlY2xhcmF0aXZlOiEwLGRlcHM6cixkZWNsYXJlOm99KX1mdW5jdGlvbiB0KGUscix0LG8pe24oZSx7ZGVjbGFyYXRpdmU6ITEsZGVwczpyLGV4ZWN1dGluZ1JlcXVpcmU6dCxleGVjdXRlOm99KX1mdW5jdGlvbiBuKGUscil7ci5uYW1lPWUsZSBpbiBnfHwoZ1tlXT1yKSxyLm5vcm1hbGl6ZWREZXBzPXIuZGVwc31mdW5jdGlvbiBvKGUscil7aWYocltlLmdyb3VwSW5kZXhdPXJbZS5ncm91cEluZGV4XXx8W10sLTE9PW0uY2FsbChyW2UuZ3JvdXBJbmRleF0sZSkpe3JbZS5ncm91cEluZGV4XS5wdXNoKGUpO2Zvcih2YXIgdD0wLG49ZS5ub3JtYWxpemVkRGVwcy5sZW5ndGg7bj50O3QrKyl7dmFyIGE9ZS5ub3JtYWxpemVkRGVwc1t0XSx1PWdbYV07aWYodSYmIXUuZXZhbHVhdGVkKXt2YXIgZD1lLmdyb3VwSW5kZXgrKHUuZGVjbGFyYXRpdmUhPWUuZGVjbGFyYXRpdmUpO2lmKHZvaWQgMD09PXUuZ3JvdXBJbmRleHx8dS5ncm91cEluZGV4PGQpe2lmKHZvaWQgMCE9PXUuZ3JvdXBJbmRleCYmKHJbdS5ncm91cEluZGV4XS5zcGxpY2UobS5jYWxsKHJbdS5ncm91cEluZGV4XSx1KSwxKSwwPT1yW3UuZ3JvdXBJbmRleF0ubGVuZ3RoKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiTWl4ZWQgZGVwZW5kZW5jeSBjeWNsZSBkZXRlY3RlZFwiKTt1Lmdyb3VwSW5kZXg9ZH1vKHUscil9fX19ZnVuY3Rpb24gYShlKXt2YXIgcj1nW2VdO3IuZ3JvdXBJbmRleD0wO3ZhciB0PVtdO28ocix0KTtmb3IodmFyIG49ISFyLmRlY2xhcmF0aXZlPT10Lmxlbmd0aCUyLGE9dC5sZW5ndGgtMTthPj0wO2EtLSl7Zm9yKHZhciB1PXRbYV0saT0wO2k8dS5sZW5ndGg7aSsrKXt2YXIgcz11W2ldO24/ZChzKTpsKHMpfW49IW59fWZ1bmN0aW9uIHUoZSl7cmV0dXJuIERbZV18fChEW2VdPXtuYW1lOmUsZGVwZW5kZW5jaWVzOltdLGV4cG9ydHM6e30saW1wb3J0ZXJzOltdfSl9ZnVuY3Rpb24gZChyKXtpZighci5tb2R1bGUpe3ZhciB0PXIubW9kdWxlPXUoci5uYW1lKSxuPXIubW9kdWxlLmV4cG9ydHMsbz1yLmRlY2xhcmUuY2FsbChlLGZ1bmN0aW9uKGUscil7aWYodC5sb2NrZWQ9ITAsXCJvYmplY3RcIj09dHlwZW9mIGUpZm9yKHZhciBvIGluIGUpbltvXT1lW29dO2Vsc2UgbltlXT1yO2Zvcih2YXIgYT0wLHU9dC5pbXBvcnRlcnMubGVuZ3RoO3U+YTthKyspe3ZhciBkPXQuaW1wb3J0ZXJzW2FdO2lmKCFkLmxvY2tlZClmb3IodmFyIGk9MDtpPGQuZGVwZW5kZW5jaWVzLmxlbmd0aDsrK2kpZC5kZXBlbmRlbmNpZXNbaV09PT10JiZkLnNldHRlcnNbaV0obil9cmV0dXJuIHQubG9ja2VkPSExLHJ9LHIubmFtZSk7dC5zZXR0ZXJzPW8uc2V0dGVycyx0LmV4ZWN1dGU9by5leGVjdXRlO2Zvcih2YXIgYT0wLGk9ci5ub3JtYWxpemVkRGVwcy5sZW5ndGg7aT5hO2ErKyl7dmFyIGwscz1yLm5vcm1hbGl6ZWREZXBzW2FdLGM9Z1tzXSxmPURbc107Zj9sPWYuZXhwb3J0czpjJiYhYy5kZWNsYXJhdGl2ZT9sPWMuZXNNb2R1bGU6Yz8oZChjKSxmPWMubW9kdWxlLGw9Zi5leHBvcnRzKTpsPXYocyksZiYmZi5pbXBvcnRlcnM/KGYuaW1wb3J0ZXJzLnB1c2godCksdC5kZXBlbmRlbmNpZXMucHVzaChmKSk6dC5kZXBlbmRlbmNpZXMucHVzaChudWxsKSx0LnNldHRlcnNbYV0mJnQuc2V0dGVyc1thXShsKX19fWZ1bmN0aW9uIGkoZSl7dmFyIHIsdD1nW2VdO2lmKHQpdC5kZWNsYXJhdGl2ZT9wKGUsW10pOnQuZXZhbHVhdGVkfHxsKHQpLHI9dC5tb2R1bGUuZXhwb3J0cztlbHNlIGlmKHI9dihlKSwhcil0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbG9hZCBkZXBlbmRlbmN5IFwiK2UrXCIuXCIpO3JldHVybighdHx8dC5kZWNsYXJhdGl2ZSkmJnImJnIuX191c2VEZWZhdWx0P3JbXCJkZWZhdWx0XCJdOnJ9ZnVuY3Rpb24gbChyKXtpZighci5tb2R1bGUpe3ZhciB0PXt9LG49ci5tb2R1bGU9e2V4cG9ydHM6dCxpZDpyLm5hbWV9O2lmKCFyLmV4ZWN1dGluZ1JlcXVpcmUpZm9yKHZhciBvPTAsYT1yLm5vcm1hbGl6ZWREZXBzLmxlbmd0aDthPm87bysrKXt2YXIgdT1yLm5vcm1hbGl6ZWREZXBzW29dLGQ9Z1t1XTtkJiZsKGQpfXIuZXZhbHVhdGVkPSEwO3ZhciBjPXIuZXhlY3V0ZS5jYWxsKGUsZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj1yLmRlcHMubGVuZ3RoO24+dDt0KyspaWYoci5kZXBzW3RdPT1lKXJldHVybiBpKHIubm9ybWFsaXplZERlcHNbdF0pO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJNb2R1bGUgXCIrZStcIiBub3QgZGVjbGFyZWQgYXMgYSBkZXBlbmRlbmN5LlwiKX0sdCxuKTtjJiYobi5leHBvcnRzPWMpLHQ9bi5leHBvcnRzLHQmJnQuX19lc01vZHVsZT9yLmVzTW9kdWxlPXQ6ci5lc01vZHVsZT1zKHQpfX1mdW5jdGlvbiBzKGUpe3ZhciByPXt9O2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXt2YXIgdD1lJiZlLmhhc093blByb3BlcnR5O2lmKGgpZm9yKHZhciBuIGluIGUpZihyLGUsbil8fGMocixlLG4sdCk7ZWxzZSBmb3IodmFyIG4gaW4gZSljKHIsZSxuLHQpfXJldHVybiByW1wiZGVmYXVsdFwiXT1lLHkocixcIl9fdXNlRGVmYXVsdFwiLHt2YWx1ZTohMH0pLHJ9ZnVuY3Rpb24gYyhlLHIsdCxuKXsoIW58fHIuaGFzT3duUHJvcGVydHkodCkpJiYoZVt0XT1yW3RdKX1mdW5jdGlvbiBmKGUscix0KXt0cnl7dmFyIG47cmV0dXJuKG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKSYmeShlLHQsbiksITB9Y2F0Y2gobyl7cmV0dXJuITF9fWZ1bmN0aW9uIHAocix0KXt2YXIgbj1nW3JdO2lmKG4mJiFuLmV2YWx1YXRlZCYmbi5kZWNsYXJhdGl2ZSl7dC5wdXNoKHIpO2Zvcih2YXIgbz0wLGE9bi5ub3JtYWxpemVkRGVwcy5sZW5ndGg7YT5vO28rKyl7dmFyIHU9bi5ub3JtYWxpemVkRGVwc1tvXTstMT09bS5jYWxsKHQsdSkmJihnW3VdP3AodSx0KTp2KHUpKX1uLmV2YWx1YXRlZHx8KG4uZXZhbHVhdGVkPSEwLG4ubW9kdWxlLmV4ZWN1dGUuY2FsbChlKSl9fWZ1bmN0aW9uIHYoZSl7aWYoSVtlXSlyZXR1cm4gSVtlXTtpZihcIkBub2RlL1wiPT1lLnN1YnN0cigwLDYpKXJldHVybiBfKGUuc3Vic3RyKDYpKTt2YXIgcj1nW2VdO2lmKCFyKXRocm93XCJNb2R1bGUgXCIrZStcIiBub3QgcHJlc2VudC5cIjtyZXR1cm4gYShlKSxwKGUsW10pLGdbZV09dm9pZCAwLHIuZGVjbGFyYXRpdmUmJnkoci5tb2R1bGUuZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxJW2VdPXIuZGVjbGFyYXRpdmU/ci5tb2R1bGUuZXhwb3J0czpyLmVzTW9kdWxlfXZhciBnPXt9LG09QXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0wLHQ9dGhpcy5sZW5ndGg7dD5yO3IrKylpZih0aGlzW3JdPT09ZSlyZXR1cm4gcjtyZXR1cm4tMX0saD0hMDt0cnl7T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih7YTowfSxcImFcIil9Y2F0Y2goeCl7aD0hMX12YXIgeTshZnVuY3Rpb24oKXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwiYVwiLHt9KSYmKHk9T2JqZWN0LmRlZmluZVByb3BlcnR5KX1jYXRjaChlKXt5PWZ1bmN0aW9uKGUscix0KXt0cnl7ZVtyXT10LnZhbHVlfHx0LmdldC5jYWxsKGUpfWNhdGNoKG4pe319fX0oKTt2YXIgRD17fSxfPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeXN0ZW0mJlN5c3RlbS5fbm9kZVJlcXVpcmV8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLnJlc29sdmUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZyZXF1aXJlLEk9e1wiQGVtcHR5XCI6e319O3JldHVybiBmdW5jdGlvbihlLG4sbyl7cmV0dXJuIGZ1bmN0aW9uKGEpe2EoZnVuY3Rpb24oYSl7Zm9yKHZhciB1PXtfbm9kZVJlcXVpcmU6XyxyZWdpc3RlcjpyLHJlZ2lzdGVyRHluYW1pYzp0LGdldDp2LHNldDpmdW5jdGlvbihlLHIpe0lbZV09cn0sbmV3TW9kdWxlOmZ1bmN0aW9uKGUpe3JldHVybiBlfX0sZD0wO2Q8bi5sZW5ndGg7ZCsrKShmdW5jdGlvbihlLHIpe3ImJnIuX19lc01vZHVsZT9JW2VdPXI6SVtlXT1zKHIpfSkobltkXSxhcmd1bWVudHNbZF0pO28odSk7dmFyIGk9dihlWzBdKTtpZihlLmxlbmd0aD4xKWZvcih2YXIgZD0xO2Q8ZS5sZW5ndGg7ZCsrKXYoZVtkXSk7cmV0dXJuIGkuX191c2VEZWZhdWx0P2lbXCJkZWZhdWx0XCJdOml9KX19fShcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOmdsb2JhbClcblxuKFtcIjFcIixcIjJcIl0sIFtdLCBmdW5jdGlvbigkX19TeXN0ZW0pIHtcbnZhciByZXF1aXJlID0gdGhpcy5yZXF1aXJlLCBleHBvcnRzID0gdGhpcy5leHBvcnRzLCBtb2R1bGUgPSB0aGlzLm1vZHVsZTtcbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIzXCIsIFtcIjZcIiwgXCI0XCIsIFwiNVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gIHZhciBQb29sZWRDbGFzcyA9ICRfX3JlcXVpcmUoJzQnKTtcbiAgdmFyIGdldFRleHRDb250ZW50QWNjZXNzb3IgPSAkX19yZXF1aXJlKCc1Jyk7XG4gIGZ1bmN0aW9uIEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZShyb290KSB7XG4gICAgdGhpcy5fcm9vdCA9IHJvb3Q7XG4gICAgdGhpcy5fc3RhcnRUZXh0ID0gdGhpcy5nZXRUZXh0KCk7XG4gICAgdGhpcy5fZmFsbGJhY2tUZXh0ID0gbnVsbDtcbiAgfVxuICBfYXNzaWduKEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZS5wcm90b3R5cGUsIHtcbiAgICBkZXN0cnVjdG9yOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX3Jvb3QgPSBudWxsO1xuICAgICAgdGhpcy5fc3RhcnRUZXh0ID0gbnVsbDtcbiAgICAgIHRoaXMuX2ZhbGxiYWNrVGV4dCA9IG51bGw7XG4gICAgfSxcbiAgICBnZXRUZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgndmFsdWUnIGluIHRoaXMuX3Jvb3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvb3QudmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fcm9vdFtnZXRUZXh0Q29udGVudEFjY2Vzc29yKCldO1xuICAgIH0sXG4gICAgZ2V0RGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fZmFsbGJhY2tUZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mYWxsYmFja1RleHQ7XG4gICAgICB9XG4gICAgICB2YXIgc3RhcnQ7XG4gICAgICB2YXIgc3RhcnRWYWx1ZSA9IHRoaXMuX3N0YXJ0VGV4dDtcbiAgICAgIHZhciBzdGFydExlbmd0aCA9IHN0YXJ0VmFsdWUubGVuZ3RoO1xuICAgICAgdmFyIGVuZDtcbiAgICAgIHZhciBlbmRWYWx1ZSA9IHRoaXMuZ2V0VGV4dCgpO1xuICAgICAgdmFyIGVuZExlbmd0aCA9IGVuZFZhbHVlLmxlbmd0aDtcbiAgICAgIGZvciAoc3RhcnQgPSAwOyBzdGFydCA8IHN0YXJ0TGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICAgIGlmIChzdGFydFZhbHVlW3N0YXJ0XSAhPT0gZW5kVmFsdWVbc3RhcnRdKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBtaW5FbmQgPSBzdGFydExlbmd0aCAtIHN0YXJ0O1xuICAgICAgZm9yIChlbmQgPSAxOyBlbmQgPD0gbWluRW5kOyBlbmQrKykge1xuICAgICAgICBpZiAoc3RhcnRWYWx1ZVtzdGFydExlbmd0aCAtIGVuZF0gIT09IGVuZFZhbHVlW2VuZExlbmd0aCAtIGVuZF0pIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHNsaWNlVGFpbCA9IGVuZCA+IDEgPyAxIC0gZW5kIDogdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fZmFsbGJhY2tUZXh0ID0gZW5kVmFsdWUuc2xpY2Uoc3RhcnQsIHNsaWNlVGFpbCk7XG4gICAgICByZXR1cm4gdGhpcy5fZmFsbGJhY2tUZXh0O1xuICAgIH1cbiAgfSk7XG4gIFBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUpO1xuICBtb2R1bGUuZXhwb3J0cyA9IEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI3XCIsIFtcIjhcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBTeW50aGV0aWNFdmVudCA9ICRfX3JlcXVpcmUoJzgnKTtcbiAgdmFyIENvbXBvc2l0aW9uRXZlbnRJbnRlcmZhY2UgPSB7ZGF0YTogbnVsbH07XG4gIGZ1bmN0aW9uIFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICByZXR1cm4gU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gIH1cbiAgU3ludGhldGljRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQsIENvbXBvc2l0aW9uRXZlbnRJbnRlcmZhY2UpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQ7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiOVwiLCBbXCI4XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgU3ludGhldGljRXZlbnQgPSAkX19yZXF1aXJlKCc4Jyk7XG4gIHZhciBJbnB1dEV2ZW50SW50ZXJmYWNlID0ge2RhdGE6IG51bGx9O1xuICBmdW5jdGlvbiBTeW50aGV0aWNJbnB1dEV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgcmV0dXJuIFN5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICB9XG4gIFN5bnRoZXRpY0V2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNJbnB1dEV2ZW50LCBJbnB1dEV2ZW50SW50ZXJmYWNlKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNJbnB1dEV2ZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImFcIiwgW1wiYlwiLCBcImNcIiwgXCJkXCIsIFwiM1wiLCBcIjdcIiwgXCI5XCIsIFwiZVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIEV2ZW50Q29uc3RhbnRzID0gJF9fcmVxdWlyZSgnYicpO1xuICB2YXIgRXZlbnRQcm9wYWdhdG9ycyA9ICRfX3JlcXVpcmUoJ2MnKTtcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnZCcpO1xuICB2YXIgRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlID0gJF9fcmVxdWlyZSgnMycpO1xuICB2YXIgU3ludGhldGljQ29tcG9zaXRpb25FdmVudCA9ICRfX3JlcXVpcmUoJzcnKTtcbiAgdmFyIFN5bnRoZXRpY0lucHV0RXZlbnQgPSAkX19yZXF1aXJlKCc5Jyk7XG4gIHZhciBrZXlPZiA9ICRfX3JlcXVpcmUoJ2UnKTtcbiAgdmFyIEVORF9LRVlDT0RFUyA9IFs5LCAxMywgMjcsIDMyXTtcbiAgdmFyIFNUQVJUX0tFWUNPREUgPSAyMjk7XG4gIHZhciBjYW5Vc2VDb21wb3NpdGlvbkV2ZW50ID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICdDb21wb3NpdGlvbkV2ZW50JyBpbiB3aW5kb3c7XG4gIHZhciBkb2N1bWVudE1vZGUgPSBudWxsO1xuICBpZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICdkb2N1bWVudE1vZGUnIGluIGRvY3VtZW50KSB7XG4gICAgZG9jdW1lbnRNb2RlID0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlO1xuICB9XG4gIHZhciBjYW5Vc2VUZXh0SW5wdXRFdmVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnVGV4dEV2ZW50JyBpbiB3aW5kb3cgJiYgIWRvY3VtZW50TW9kZSAmJiAhaXNQcmVzdG8oKTtcbiAgdmFyIHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICghY2FuVXNlQ29tcG9zaXRpb25FdmVudCB8fCBkb2N1bWVudE1vZGUgJiYgZG9jdW1lbnRNb2RlID4gOCAmJiBkb2N1bWVudE1vZGUgPD0gMTEpO1xuICBmdW5jdGlvbiBpc1ByZXN0bygpIHtcbiAgICB2YXIgb3BlcmEgPSB3aW5kb3cub3BlcmE7XG4gICAgcmV0dXJuIHR5cGVvZiBvcGVyYSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG9wZXJhLnZlcnNpb24gPT09ICdmdW5jdGlvbicgJiYgcGFyc2VJbnQob3BlcmEudmVyc2lvbigpLCAxMCkgPD0gMTI7XG4gIH1cbiAgdmFyIFNQQUNFQkFSX0NPREUgPSAzMjtcbiAgdmFyIFNQQUNFQkFSX0NIQVIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFNQQUNFQkFSX0NPREUpO1xuICB2YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG4gIHZhciBldmVudFR5cGVzID0ge1xuICAgIGJlZm9yZUlucHV0OiB7XG4gICAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25CZWZvcmVJbnB1dDogbnVsbH0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQmVmb3JlSW5wdXRDYXB0dXJlOiBudWxsfSlcbiAgICAgIH0sXG4gICAgICBkZXBlbmRlbmNpZXM6IFt0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kLCB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzLCB0b3BMZXZlbFR5cGVzLnRvcFRleHRJbnB1dCwgdG9wTGV2ZWxUeXBlcy50b3BQYXN0ZV1cbiAgICB9LFxuICAgIGNvbXBvc2l0aW9uRW5kOiB7XG4gICAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25Db21wb3NpdGlvbkVuZDogbnVsbH0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQ29tcG9zaXRpb25FbmRDYXB0dXJlOiBudWxsfSlcbiAgICAgIH0sXG4gICAgICBkZXBlbmRlbmNpZXM6IFt0b3BMZXZlbFR5cGVzLnRvcEJsdXIsIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25FbmQsIHRvcExldmVsVHlwZXMudG9wS2V5RG93biwgdG9wTGV2ZWxUeXBlcy50b3BLZXlQcmVzcywgdG9wTGV2ZWxUeXBlcy50b3BLZXlVcCwgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZURvd25dXG4gICAgfSxcbiAgICBjb21wb3NpdGlvblN0YXJ0OiB7XG4gICAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25Db21wb3NpdGlvblN0YXJ0OiBudWxsfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Db21wb3NpdGlvblN0YXJ0Q2FwdHVyZTogbnVsbH0pXG4gICAgICB9LFxuICAgICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BCbHVyLCB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uU3RhcnQsIHRvcExldmVsVHlwZXMudG9wS2V5RG93biwgdG9wTGV2ZWxUeXBlcy50b3BLZXlQcmVzcywgdG9wTGV2ZWxUeXBlcy50b3BLZXlVcCwgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZURvd25dXG4gICAgfSxcbiAgICBjb21wb3NpdGlvblVwZGF0ZToge1xuICAgICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ29tcG9zaXRpb25VcGRhdGU6IG51bGx9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkNvbXBvc2l0aW9uVXBkYXRlQ2FwdHVyZTogbnVsbH0pXG4gICAgICB9LFxuICAgICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BCbHVyLCB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uVXBkYXRlLCB0b3BMZXZlbFR5cGVzLnRvcEtleURvd24sIHRvcExldmVsVHlwZXMudG9wS2V5UHJlc3MsIHRvcExldmVsVHlwZXMudG9wS2V5VXAsIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duXVxuICAgIH1cbiAgfTtcbiAgdmFyIGhhc1NwYWNlS2V5cHJlc3MgPSBmYWxzZTtcbiAgZnVuY3Rpb24gaXNLZXlwcmVzc0NvbW1hbmQobmF0aXZlRXZlbnQpIHtcbiAgICByZXR1cm4gKG5hdGl2ZUV2ZW50LmN0cmxLZXkgfHwgbmF0aXZlRXZlbnQuYWx0S2V5IHx8IG5hdGl2ZUV2ZW50Lm1ldGFLZXkpICYmICEobmF0aXZlRXZlbnQuY3RybEtleSAmJiBuYXRpdmVFdmVudC5hbHRLZXkpO1xuICB9XG4gIGZ1bmN0aW9uIGdldENvbXBvc2l0aW9uRXZlbnRUeXBlKHRvcExldmVsVHlwZSkge1xuICAgIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25TdGFydDpcbiAgICAgICAgcmV0dXJuIGV2ZW50VHlwZXMuY29tcG9zaXRpb25TdGFydDtcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDb21wb3NpdGlvbkVuZDpcbiAgICAgICAgcmV0dXJuIGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQ7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25VcGRhdGU6XG4gICAgICAgIHJldHVybiBldmVudFR5cGVzLmNvbXBvc2l0aW9uVXBkYXRlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBpc0ZhbGxiYWNrQ29tcG9zaXRpb25TdGFydCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gICAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duICYmIG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IFNUQVJUX0tFWUNPREU7XG4gIH1cbiAgZnVuY3Rpb24gaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVVwOlxuICAgICAgICByZXR1cm4gRU5EX0tFWUNPREVTLmluZGV4T2YobmF0aXZlRXZlbnQua2V5Q29kZSkgIT09IC0xO1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleURvd246XG4gICAgICAgIHJldHVybiBuYXRpdmVFdmVudC5rZXlDb2RlICE9PSBTVEFSVF9LRVlDT0RFO1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93bjpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BCbHVyOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2V0RGF0YUZyb21DdXN0b21FdmVudChuYXRpdmVFdmVudCkge1xuICAgIHZhciBkZXRhaWwgPSBuYXRpdmVFdmVudC5kZXRhaWw7XG4gICAgaWYgKHR5cGVvZiBkZXRhaWwgPT09ICdvYmplY3QnICYmICdkYXRhJyBpbiBkZXRhaWwpIHtcbiAgICAgIHJldHVybiBkZXRhaWwuZGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGN1cnJlbnRDb21wb3NpdGlvbiA9IG51bGw7XG4gIGZ1bmN0aW9uIGV4dHJhY3RDb21wb3NpdGlvbkV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgdmFyIGV2ZW50VHlwZTtcbiAgICB2YXIgZmFsbGJhY2tEYXRhO1xuICAgIGlmIChjYW5Vc2VDb21wb3NpdGlvbkV2ZW50KSB7XG4gICAgICBldmVudFR5cGUgPSBnZXRDb21wb3NpdGlvbkV2ZW50VHlwZSh0b3BMZXZlbFR5cGUpO1xuICAgIH0gZWxzZSBpZiAoIWN1cnJlbnRDb21wb3NpdGlvbikge1xuICAgICAgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpKSB7XG4gICAgICAgIGV2ZW50VHlwZSA9IGV2ZW50VHlwZXMuY29tcG9zaXRpb25TdGFydDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSkge1xuICAgICAgZXZlbnRUeXBlID0gZXZlbnRUeXBlcy5jb21wb3NpdGlvbkVuZDtcbiAgICB9XG4gICAgaWYgKCFldmVudFR5cGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAodXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEpIHtcbiAgICAgIGlmICghY3VycmVudENvbXBvc2l0aW9uICYmIGV2ZW50VHlwZSA9PT0gZXZlbnRUeXBlcy5jb21wb3NpdGlvblN0YXJ0KSB7XG4gICAgICAgIGN1cnJlbnRDb21wb3NpdGlvbiA9IEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZS5nZXRQb29sZWQobmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgfSBlbHNlIGlmIChldmVudFR5cGUgPT09IGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRDb21wb3NpdGlvbikge1xuICAgICAgICAgIGZhbGxiYWNrRGF0YSA9IGN1cnJlbnRDb21wb3NpdGlvbi5nZXREYXRhKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGV2ZW50ID0gU3ludGhldGljQ29tcG9zaXRpb25FdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgIGlmIChmYWxsYmFja0RhdGEpIHtcbiAgICAgIGV2ZW50LmRhdGEgPSBmYWxsYmFja0RhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjdXN0b21EYXRhID0gZ2V0RGF0YUZyb21DdXN0b21FdmVudChuYXRpdmVFdmVudCk7XG4gICAgICBpZiAoY3VzdG9tRGF0YSAhPT0gbnVsbCkge1xuICAgICAgICBldmVudC5kYXRhID0gY3VzdG9tRGF0YTtcbiAgICAgIH1cbiAgICB9XG4gICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0TmF0aXZlQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gICAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDb21wb3NpdGlvbkVuZDpcbiAgICAgICAgcmV0dXJuIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzOlxuICAgICAgICB2YXIgd2hpY2ggPSBuYXRpdmVFdmVudC53aGljaDtcbiAgICAgICAgaWYgKHdoaWNoICE9PSBTUEFDRUJBUl9DT0RFKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaGFzU3BhY2VLZXlwcmVzcyA9IHRydWU7XG4gICAgICAgIHJldHVybiBTUEFDRUJBUl9DSEFSO1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRleHRJbnB1dDpcbiAgICAgICAgdmFyIGNoYXJzID0gbmF0aXZlRXZlbnQuZGF0YTtcbiAgICAgICAgaWYgKGNoYXJzID09PSBTUEFDRUJBUl9DSEFSICYmIGhhc1NwYWNlS2V5cHJlc3MpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhcnM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgICBpZiAoY3VycmVudENvbXBvc2l0aW9uKSB7XG4gICAgICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kIHx8IGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICB2YXIgY2hhcnMgPSBjdXJyZW50Q29tcG9zaXRpb24uZ2V0RGF0YSgpO1xuICAgICAgICBGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUucmVsZWFzZShjdXJyZW50Q29tcG9zaXRpb24pO1xuICAgICAgICBjdXJyZW50Q29tcG9zaXRpb24gPSBudWxsO1xuICAgICAgICByZXR1cm4gY2hhcnM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BQYXN0ZTpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wS2V5UHJlc3M6XG4gICAgICAgIGlmIChuYXRpdmVFdmVudC53aGljaCAmJiAhaXNLZXlwcmVzc0NvbW1hbmQobmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUobmF0aXZlRXZlbnQud2hpY2gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kOlxuICAgICAgICByZXR1cm4gdXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgPyBudWxsIDogbmF0aXZlRXZlbnQuZGF0YTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBleHRyYWN0QmVmb3JlSW5wdXRFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHZhciBjaGFycztcbiAgICBpZiAoY2FuVXNlVGV4dElucHV0RXZlbnQpIHtcbiAgICAgIGNoYXJzID0gZ2V0TmF0aXZlQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hhcnMgPSBnZXRGYWxsYmFja0JlZm9yZUlucHV0Q2hhcnModG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCk7XG4gICAgfVxuICAgIGlmICghY2hhcnMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgZXZlbnQgPSBTeW50aGV0aWNJbnB1dEV2ZW50LmdldFBvb2xlZChldmVudFR5cGVzLmJlZm9yZUlucHV0LCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgIGV2ZW50LmRhdGEgPSBjaGFycztcbiAgICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICAgIHJldHVybiBldmVudDtcbiAgfVxuICB2YXIgQmVmb3JlSW5wdXRFdmVudFBsdWdpbiA9IHtcbiAgICBldmVudFR5cGVzOiBldmVudFR5cGVzLFxuICAgIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgICByZXR1cm4gW2V4dHJhY3RDb21wb3NpdGlvbkV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSwgZXh0cmFjdEJlZm9yZUlucHV0RXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpXTtcbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gQmVmb3JlSW5wdXRFdmVudFBsdWdpbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJmXCIsIFtcImJcIiwgXCIxMFwiLCBcImNcIiwgXCJkXCIsIFwiMTFcIiwgXCIxMlwiLCBcIjhcIiwgXCIxM1wiLCBcIjE0XCIsIFwiMTVcIiwgXCJlXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEV2ZW50Q29uc3RhbnRzID0gJF9fcmVxdWlyZSgnYicpO1xuICAgIHZhciBFdmVudFBsdWdpbkh1YiA9ICRfX3JlcXVpcmUoJzEwJyk7XG4gICAgdmFyIEV2ZW50UHJvcGFnYXRvcnMgPSAkX19yZXF1aXJlKCdjJyk7XG4gICAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnZCcpO1xuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSAkX19yZXF1aXJlKCcxMScpO1xuICAgIHZhciBSZWFjdFVwZGF0ZXMgPSAkX19yZXF1aXJlKCcxMicpO1xuICAgIHZhciBTeW50aGV0aWNFdmVudCA9ICRfX3JlcXVpcmUoJzgnKTtcbiAgICB2YXIgZ2V0RXZlbnRUYXJnZXQgPSAkX19yZXF1aXJlKCcxMycpO1xuICAgIHZhciBpc0V2ZW50U3VwcG9ydGVkID0gJF9fcmVxdWlyZSgnMTQnKTtcbiAgICB2YXIgaXNUZXh0SW5wdXRFbGVtZW50ID0gJF9fcmVxdWlyZSgnMTUnKTtcbiAgICB2YXIga2V5T2YgPSAkX19yZXF1aXJlKCdlJyk7XG4gICAgdmFyIHRvcExldmVsVHlwZXMgPSBFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzO1xuICAgIHZhciBldmVudFR5cGVzID0ge2NoYW5nZToge1xuICAgICAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNoYW5nZTogbnVsbH0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25DaGFuZ2VDYXB0dXJlOiBudWxsfSlcbiAgICAgICAgfSxcbiAgICAgICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BCbHVyLCB0b3BMZXZlbFR5cGVzLnRvcENoYW5nZSwgdG9wTGV2ZWxUeXBlcy50b3BDbGljaywgdG9wTGV2ZWxUeXBlcy50b3BGb2N1cywgdG9wTGV2ZWxUeXBlcy50b3BJbnB1dCwgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duLCB0b3BMZXZlbFR5cGVzLnRvcEtleVVwLCB0b3BMZXZlbFR5cGVzLnRvcFNlbGVjdGlvbkNoYW5nZV1cbiAgICAgIH19O1xuICAgIHZhciBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICB2YXIgYWN0aXZlRWxlbWVudEluc3QgPSBudWxsO1xuICAgIHZhciBhY3RpdmVFbGVtZW50VmFsdWUgPSBudWxsO1xuICAgIHZhciBhY3RpdmVFbGVtZW50VmFsdWVQcm9wID0gbnVsbDtcbiAgICBmdW5jdGlvbiBzaG91bGRVc2VDaGFuZ2VFdmVudChlbGVtKSB7XG4gICAgICB2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiBub2RlTmFtZSA9PT0gJ3NlbGVjdCcgfHwgbm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgZWxlbS50eXBlID09PSAnZmlsZSc7XG4gICAgfVxuICAgIHZhciBkb2VzQ2hhbmdlRXZlbnRCdWJibGUgPSBmYWxzZTtcbiAgICBpZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgICBkb2VzQ2hhbmdlRXZlbnRCdWJibGUgPSBpc0V2ZW50U3VwcG9ydGVkKCdjaGFuZ2UnKSAmJiAoISgnZG9jdW1lbnRNb2RlJyBpbiBkb2N1bWVudCkgfHwgZG9jdW1lbnQuZG9jdW1lbnRNb2RlID4gOCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hbnVhbERpc3BhdGNoQ2hhbmdlRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgICAgIHZhciBldmVudCA9IFN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChldmVudFR5cGVzLmNoYW5nZSwgYWN0aXZlRWxlbWVudEluc3QsIG5hdGl2ZUV2ZW50LCBnZXRFdmVudFRhcmdldChuYXRpdmVFdmVudCkpO1xuICAgICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgICAgIFJlYWN0VXBkYXRlcy5iYXRjaGVkVXBkYXRlcyhydW5FdmVudEluQmF0Y2gsIGV2ZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcnVuRXZlbnRJbkJhdGNoKGV2ZW50KSB7XG4gICAgICBFdmVudFBsdWdpbkh1Yi5lbnF1ZXVlRXZlbnRzKGV2ZW50KTtcbiAgICAgIEV2ZW50UGx1Z2luSHViLnByb2Nlc3NFdmVudFF1ZXVlKGZhbHNlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4KHRhcmdldCwgdGFyZ2V0SW5zdCkge1xuICAgICAgYWN0aXZlRWxlbWVudCA9IHRhcmdldDtcbiAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgICAgIGFjdGl2ZUVsZW1lbnQuYXR0YWNoRXZlbnQoJ29uY2hhbmdlJywgbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0b3BXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4KCkge1xuICAgICAgaWYgKCFhY3RpdmVFbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUVsZW1lbnQuZGV0YWNoRXZlbnQoJ29uY2hhbmdlJywgbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudCk7XG4gICAgICBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0ID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFyZ2V0SW5zdEZvckNoYW5nZUV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCkge1xuICAgICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BDaGFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldEluc3Q7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUV2ZW50c0ZvckNoYW5nZUV2ZW50SUU4KHRvcExldmVsVHlwZSwgdGFyZ2V0LCB0YXJnZXRJbnN0KSB7XG4gICAgICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcEZvY3VzKSB7XG4gICAgICAgIHN0b3BXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4KCk7XG4gICAgICAgIHN0YXJ0V2F0Y2hpbmdGb3JDaGFuZ2VFdmVudElFOCh0YXJnZXQsIHRhcmdldEluc3QpO1xuICAgICAgfSBlbHNlIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wQmx1cikge1xuICAgICAgICBzdG9wV2F0Y2hpbmdGb3JDaGFuZ2VFdmVudElFOCgpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgaXNJbnB1dEV2ZW50U3VwcG9ydGVkID0gZmFsc2U7XG4gICAgaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgICAgaXNJbnB1dEV2ZW50U3VwcG9ydGVkID0gaXNFdmVudFN1cHBvcnRlZCgnaW5wdXQnKSAmJiAoISgnZG9jdW1lbnRNb2RlJyBpbiBkb2N1bWVudCkgfHwgZG9jdW1lbnQuZG9jdW1lbnRNb2RlID4gMTEpO1xuICAgIH1cbiAgICB2YXIgbmV3VmFsdWVQcm9wID0ge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnRWYWx1ZVByb3AuZ2V0LmNhbGwodGhpcyk7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgYWN0aXZlRWxlbWVudFZhbHVlID0gJycgKyB2YWw7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnRWYWx1ZVByb3Auc2V0LmNhbGwodGhpcywgdmFsKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIHN0YXJ0V2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSh0YXJnZXQsIHRhcmdldEluc3QpIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQgPSB0YXJnZXQ7XG4gICAgICBhY3RpdmVFbGVtZW50SW5zdCA9IHRhcmdldEluc3Q7XG4gICAgICBhY3RpdmVFbGVtZW50VmFsdWUgPSB0YXJnZXQudmFsdWU7XG4gICAgICBhY3RpdmVFbGVtZW50VmFsdWVQcm9wID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQuY29uc3RydWN0b3IucHJvdG90eXBlLCAndmFsdWUnKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhY3RpdmVFbGVtZW50LCAndmFsdWUnLCBuZXdWYWx1ZVByb3ApO1xuICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgYWN0aXZlRWxlbWVudC5hdHRhY2hFdmVudCgnb25wcm9wZXJ0eWNoYW5nZScsIGhhbmRsZVByb3BlcnR5Q2hhbmdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpIHtcbiAgICAgIGlmICghYWN0aXZlRWxlbWVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZWxldGUgYWN0aXZlRWxlbWVudC52YWx1ZTtcbiAgICAgIGlmIChhY3RpdmVFbGVtZW50LmRldGFjaEV2ZW50KSB7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQuZGV0YWNoRXZlbnQoJ29ucHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb3BlcnR5Y2hhbmdlJywgaGFuZGxlUHJvcGVydHlDaGFuZ2UsIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICAgICAgYWN0aXZlRWxlbWVudEluc3QgPSBudWxsO1xuICAgICAgYWN0aXZlRWxlbWVudFZhbHVlID0gbnVsbDtcbiAgICAgIGFjdGl2ZUVsZW1lbnRWYWx1ZVByb3AgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVQcm9wZXJ0eUNoYW5nZShuYXRpdmVFdmVudCkge1xuICAgICAgaWYgKG5hdGl2ZUV2ZW50LnByb3BlcnR5TmFtZSAhPT0gJ3ZhbHVlJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWUgPSBuYXRpdmVFdmVudC5zcmNFbGVtZW50LnZhbHVlO1xuICAgICAgaWYgKHZhbHVlID09PSBhY3RpdmVFbGVtZW50VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYWN0aXZlRWxlbWVudFZhbHVlID0gdmFsdWU7XG4gICAgICBtYW51YWxEaXNwYXRjaENoYW5nZUV2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0KSB7XG4gICAgICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcElucHV0KSB7XG4gICAgICAgIHJldHVybiB0YXJnZXRJbnN0O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVFdmVudHNGb3JJbnB1dEV2ZW50SUUodG9wTGV2ZWxUeXBlLCB0YXJnZXQsIHRhcmdldEluc3QpIHtcbiAgICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wRm9jdXMpIHtcbiAgICAgICAgc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKTtcbiAgICAgICAgc3RhcnRXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKHRhcmdldCwgdGFyZ2V0SW5zdCk7XG4gICAgICB9IGVsc2UgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BCbHVyKSB7XG4gICAgICAgIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50SUUodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0KSB7XG4gICAgICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcFNlbGVjdGlvbkNoYW5nZSB8fCB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wS2V5VXAgfHwgdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcEtleURvd24pIHtcbiAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQgJiYgYWN0aXZlRWxlbWVudC52YWx1ZSAhPT0gYWN0aXZlRWxlbWVudFZhbHVlKSB7XG4gICAgICAgICAgYWN0aXZlRWxlbWVudFZhbHVlID0gYWN0aXZlRWxlbWVudC52YWx1ZTtcbiAgICAgICAgICByZXR1cm4gYWN0aXZlRWxlbWVudEluc3Q7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkVXNlQ2xpY2tFdmVudChlbGVtKSB7XG4gICAgICByZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcgJiYgKGVsZW0udHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBlbGVtLnR5cGUgPT09ICdyYWRpbycpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9yQ2xpY2tFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpIHtcbiAgICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wQ2xpY2spIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldEluc3Q7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBDaGFuZ2VFdmVudFBsdWdpbiA9IHtcbiAgICAgIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG4gICAgICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgICB2YXIgdGFyZ2V0Tm9kZSA9IHRhcmdldEluc3QgPyBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZSh0YXJnZXRJbnN0KSA6IHdpbmRvdztcbiAgICAgICAgdmFyIGdldFRhcmdldEluc3RGdW5jLFxuICAgICAgICAgICAgaGFuZGxlRXZlbnRGdW5jO1xuICAgICAgICBpZiAoc2hvdWxkVXNlQ2hhbmdlRXZlbnQodGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICBpZiAoZG9lc0NoYW5nZUV2ZW50QnViYmxlKSB7XG4gICAgICAgICAgICBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlRXZlbnRGdW5jID0gaGFuZGxlRXZlbnRzRm9yQ2hhbmdlRXZlbnRJRTg7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzVGV4dElucHV0RWxlbWVudCh0YXJnZXROb2RlKSkge1xuICAgICAgICAgIGlmIChpc0lucHV0RXZlbnRTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnRJRTtcbiAgICAgICAgICAgIGhhbmRsZUV2ZW50RnVuYyA9IGhhbmRsZUV2ZW50c0ZvcklucHV0RXZlbnRJRTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkVXNlQ2xpY2tFdmVudCh0YXJnZXROb2RlKSkge1xuICAgICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvckNsaWNrRXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFRhcmdldEluc3RGdW5jKSB7XG4gICAgICAgICAgdmFyIGluc3QgPSBnZXRUYXJnZXRJbnN0RnVuYyh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpO1xuICAgICAgICAgIGlmIChpbnN0KSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBTeW50aGV0aWNFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5jaGFuZ2UsIGluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICAgICAgICBldmVudC50eXBlID0gJ2NoYW5nZSc7XG4gICAgICAgICAgICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlRXZlbnRGdW5jKSB7XG4gICAgICAgICAgaGFuZGxlRXZlbnRGdW5jKHRvcExldmVsVHlwZSwgdGFyZ2V0Tm9kZSwgdGFyZ2V0SW5zdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gQ2hhbmdlRXZlbnRQbHVnaW47XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjE3XCIsIFtcImVcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBrZXlPZiA9ICRfX3JlcXVpcmUoJ2UnKTtcbiAgdmFyIERlZmF1bHRFdmVudFBsdWdpbk9yZGVyID0gW2tleU9mKHtSZXNwb25kZXJFdmVudFBsdWdpbjogbnVsbH0pLCBrZXlPZih7U2ltcGxlRXZlbnRQbHVnaW46IG51bGx9KSwga2V5T2Yoe1RhcEV2ZW50UGx1Z2luOiBudWxsfSksIGtleU9mKHtFbnRlckxlYXZlRXZlbnRQbHVnaW46IG51bGx9KSwga2V5T2Yoe0NoYW5nZUV2ZW50UGx1Z2luOiBudWxsfSksIGtleU9mKHtTZWxlY3RFdmVudFBsdWdpbjogbnVsbH0pLCBrZXlPZih7QmVmb3JlSW5wdXRFdmVudFBsdWdpbjogbnVsbH0pXTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBEZWZhdWx0RXZlbnRQbHVnaW5PcmRlcjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxOFwiLCBbXCJiXCIsIFwiY1wiLCBcIjExXCIsIFwiMTlcIiwgXCJlXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgRXZlbnRDb25zdGFudHMgPSAkX19yZXF1aXJlKCdiJyk7XG4gIHZhciBFdmVudFByb3BhZ2F0b3JzID0gJF9fcmVxdWlyZSgnYycpO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gJF9fcmVxdWlyZSgnMTEnKTtcbiAgdmFyIFN5bnRoZXRpY01vdXNlRXZlbnQgPSAkX19yZXF1aXJlKCcxOScpO1xuICB2YXIga2V5T2YgPSAkX19yZXF1aXJlKCdlJyk7XG4gIHZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbiAgdmFyIGV2ZW50VHlwZXMgPSB7XG4gICAgbW91c2VFbnRlcjoge1xuICAgICAgcmVnaXN0cmF0aW9uTmFtZToga2V5T2Yoe29uTW91c2VFbnRlcjogbnVsbH0pLFxuICAgICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU91dCwgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU92ZXJdXG4gICAgfSxcbiAgICBtb3VzZUxlYXZlOiB7XG4gICAgICByZWdpc3RyYXRpb25OYW1lOiBrZXlPZih7b25Nb3VzZUxlYXZlOiBudWxsfSksXG4gICAgICBkZXBlbmRlbmNpZXM6IFt0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3V0LCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3Zlcl1cbiAgICB9XG4gIH07XG4gIHZhciBFbnRlckxlYXZlRXZlbnRQbHVnaW4gPSB7XG4gICAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyxcbiAgICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU92ZXIgJiYgKG5hdGl2ZUV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgbmF0aXZlRXZlbnQuZnJvbUVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHRvcExldmVsVHlwZSAhPT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU91dCAmJiB0b3BMZXZlbFR5cGUgIT09IHRvcExldmVsVHlwZXMudG9wTW91c2VPdmVyKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdmFyIHdpbjtcbiAgICAgIGlmIChuYXRpdmVFdmVudFRhcmdldC53aW5kb3cgPT09IG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgICAgIHdpbiA9IG5hdGl2ZUV2ZW50VGFyZ2V0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGRvYyA9IG5hdGl2ZUV2ZW50VGFyZ2V0Lm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgICB3aW4gPSBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW4gPSB3aW5kb3c7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBmcm9tO1xuICAgICAgdmFyIHRvO1xuICAgICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU91dCkge1xuICAgICAgICBmcm9tID0gdGFyZ2V0SW5zdDtcbiAgICAgICAgdmFyIHJlbGF0ZWQgPSBuYXRpdmVFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LnRvRWxlbWVudDtcbiAgICAgICAgdG8gPSByZWxhdGVkID8gUmVhY3RET01Db21wb25lbnRUcmVlLmdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKHJlbGF0ZWQpIDogbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyb20gPSBudWxsO1xuICAgICAgICB0byA9IHRhcmdldEluc3Q7XG4gICAgICB9XG4gICAgICBpZiAoZnJvbSA9PT0gdG8pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB2YXIgZnJvbU5vZGUgPSBmcm9tID09IG51bGwgPyB3aW4gOiBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZShmcm9tKTtcbiAgICAgIHZhciB0b05vZGUgPSB0byA9PSBudWxsID8gd2luIDogUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UodG8pO1xuICAgICAgdmFyIGxlYXZlID0gU3ludGhldGljTW91c2VFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5tb3VzZUxlYXZlLCBmcm9tLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgbGVhdmUudHlwZSA9ICdtb3VzZWxlYXZlJztcbiAgICAgIGxlYXZlLnRhcmdldCA9IGZyb21Ob2RlO1xuICAgICAgbGVhdmUucmVsYXRlZFRhcmdldCA9IHRvTm9kZTtcbiAgICAgIHZhciBlbnRlciA9IFN5bnRoZXRpY01vdXNlRXZlbnQuZ2V0UG9vbGVkKGV2ZW50VHlwZXMubW91c2VFbnRlciwgdG8sIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICBlbnRlci50eXBlID0gJ21vdXNlZW50ZXInO1xuICAgICAgZW50ZXIudGFyZ2V0ID0gdG9Ob2RlO1xuICAgICAgZW50ZXIucmVsYXRlZFRhcmdldCA9IGZyb21Ob2RlO1xuICAgICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXMobGVhdmUsIGVudGVyLCBmcm9tLCB0byk7XG4gICAgICByZXR1cm4gW2xlYXZlLCBlbnRlcl07XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IEVudGVyTGVhdmVFdmVudFBsdWdpbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxYVwiLCBbXCIxYlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIERPTVByb3BlcnR5ID0gJF9fcmVxdWlyZSgnMWInKTtcbiAgdmFyIE1VU1RfVVNFX1BST1BFUlRZID0gRE9NUHJvcGVydHkuaW5qZWN0aW9uLk1VU1RfVVNFX1BST1BFUlRZO1xuICB2YXIgSEFTX0JPT0xFQU5fVkFMVUUgPSBET01Qcm9wZXJ0eS5pbmplY3Rpb24uSEFTX0JPT0xFQU5fVkFMVUU7XG4gIHZhciBIQVNfU0lERV9FRkZFQ1RTID0gRE9NUHJvcGVydHkuaW5qZWN0aW9uLkhBU19TSURFX0VGRkVDVFM7XG4gIHZhciBIQVNfTlVNRVJJQ19WQUxVRSA9IERPTVByb3BlcnR5LmluamVjdGlvbi5IQVNfTlVNRVJJQ19WQUxVRTtcbiAgdmFyIEhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFID0gRE9NUHJvcGVydHkuaW5qZWN0aW9uLkhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFO1xuICB2YXIgSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRSA9IERPTVByb3BlcnR5LmluamVjdGlvbi5IQVNfT1ZFUkxPQURFRF9CT09MRUFOX1ZBTFVFO1xuICB2YXIgSFRNTERPTVByb3BlcnR5Q29uZmlnID0ge1xuICAgIGlzQ3VzdG9tQXR0cmlidXRlOiBSZWdFeHAucHJvdG90eXBlLnRlc3QuYmluZChuZXcgUmVnRXhwKCdeKGRhdGF8YXJpYSktWycgKyBET01Qcm9wZXJ0eS5BVFRSSUJVVEVfTkFNRV9DSEFSICsgJ10qJCcpKSxcbiAgICBQcm9wZXJ0aWVzOiB7XG4gICAgICBhY2NlcHQ6IDAsXG4gICAgICBhY2NlcHRDaGFyc2V0OiAwLFxuICAgICAgYWNjZXNzS2V5OiAwLFxuICAgICAgYWN0aW9uOiAwLFxuICAgICAgYWxsb3dGdWxsU2NyZWVuOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIGFsbG93VHJhbnNwYXJlbmN5OiAwLFxuICAgICAgYWx0OiAwLFxuICAgICAgYXN5bmM6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgYXV0b0NvbXBsZXRlOiAwLFxuICAgICAgYXV0b1BsYXk6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgY2FwdHVyZTogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgICBjZWxsUGFkZGluZzogMCxcbiAgICAgIGNlbGxTcGFjaW5nOiAwLFxuICAgICAgY2hhclNldDogMCxcbiAgICAgIGNoYWxsZW5nZTogMCxcbiAgICAgIGNoZWNrZWQ6IE1VU1RfVVNFX1BST1BFUlRZIHwgSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgICBjaXRlOiAwLFxuICAgICAgY2xhc3NJRDogMCxcbiAgICAgIGNsYXNzTmFtZTogMCxcbiAgICAgIGNvbHM6IEhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFLFxuICAgICAgY29sU3BhbjogMCxcbiAgICAgIGNvbnRlbnQ6IDAsXG4gICAgICBjb250ZW50RWRpdGFibGU6IDAsXG4gICAgICBjb250ZXh0TWVudTogMCxcbiAgICAgIGNvbnRyb2xzOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIGNvb3JkczogMCxcbiAgICAgIGNyb3NzT3JpZ2luOiAwLFxuICAgICAgZGF0YTogMCxcbiAgICAgIGRhdGVUaW1lOiAwLFxuICAgICAgJ2RlZmF1bHQnOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIGRlZmVyOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIGRpcjogMCxcbiAgICAgIGRpc2FibGVkOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIGRvd25sb2FkOiBIQVNfT1ZFUkxPQURFRF9CT09MRUFOX1ZBTFVFLFxuICAgICAgZHJhZ2dhYmxlOiAwLFxuICAgICAgZW5jVHlwZTogMCxcbiAgICAgIGZvcm06IDAsXG4gICAgICBmb3JtQWN0aW9uOiAwLFxuICAgICAgZm9ybUVuY1R5cGU6IDAsXG4gICAgICBmb3JtTWV0aG9kOiAwLFxuICAgICAgZm9ybU5vVmFsaWRhdGU6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgZm9ybVRhcmdldDogMCxcbiAgICAgIGZyYW1lQm9yZGVyOiAwLFxuICAgICAgaGVhZGVyczogMCxcbiAgICAgIGhlaWdodDogMCxcbiAgICAgIGhpZGRlbjogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgICBoaWdoOiAwLFxuICAgICAgaHJlZjogMCxcbiAgICAgIGhyZWZMYW5nOiAwLFxuICAgICAgaHRtbEZvcjogMCxcbiAgICAgIGh0dHBFcXVpdjogMCxcbiAgICAgIGljb246IDAsXG4gICAgICBpZDogMCxcbiAgICAgIGlucHV0TW9kZTogMCxcbiAgICAgIGludGVncml0eTogMCxcbiAgICAgIGlzOiAwLFxuICAgICAga2V5UGFyYW1zOiAwLFxuICAgICAga2V5VHlwZTogMCxcbiAgICAgIGtpbmQ6IDAsXG4gICAgICBsYWJlbDogMCxcbiAgICAgIGxhbmc6IDAsXG4gICAgICBsaXN0OiAwLFxuICAgICAgbG9vcDogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgICBsb3c6IDAsXG4gICAgICBtYW5pZmVzdDogMCxcbiAgICAgIG1hcmdpbkhlaWdodDogMCxcbiAgICAgIG1hcmdpbldpZHRoOiAwLFxuICAgICAgbWF4OiAwLFxuICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgbWVkaWE6IDAsXG4gICAgICBtZWRpYUdyb3VwOiAwLFxuICAgICAgbWV0aG9kOiAwLFxuICAgICAgbWluOiAwLFxuICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgbXVsdGlwbGU6IE1VU1RfVVNFX1BST1BFUlRZIHwgSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgICBtdXRlZDogTVVTVF9VU0VfUFJPUEVSVFkgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIG5hbWU6IDAsXG4gICAgICBub25jZTogMCxcbiAgICAgIG5vVmFsaWRhdGU6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgb3BlbjogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgICBvcHRpbXVtOiAwLFxuICAgICAgcGF0dGVybjogMCxcbiAgICAgIHBsYWNlaG9sZGVyOiAwLFxuICAgICAgcG9zdGVyOiAwLFxuICAgICAgcHJlbG9hZDogMCxcbiAgICAgIHByb2ZpbGU6IDAsXG4gICAgICByYWRpb0dyb3VwOiAwLFxuICAgICAgcmVhZE9ubHk6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgcmVsOiAwLFxuICAgICAgcmVxdWlyZWQ6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgcmV2ZXJzZWQ6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgcm9sZTogMCxcbiAgICAgIHJvd3M6IEhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFLFxuICAgICAgcm93U3BhbjogSEFTX05VTUVSSUNfVkFMVUUsXG4gICAgICBzYW5kYm94OiAwLFxuICAgICAgc2NvcGU6IDAsXG4gICAgICBzY29wZWQ6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgc2Nyb2xsaW5nOiAwLFxuICAgICAgc2VhbWxlc3M6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgc2VsZWN0ZWQ6IE1VU1RfVVNFX1BST1BFUlRZIHwgSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgICBzaGFwZTogMCxcbiAgICAgIHNpemU6IEhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFLFxuICAgICAgc2l6ZXM6IDAsXG4gICAgICBzcGFuOiBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSxcbiAgICAgIHNwZWxsQ2hlY2s6IDAsXG4gICAgICBzcmM6IDAsXG4gICAgICBzcmNEb2M6IDAsXG4gICAgICBzcmNMYW5nOiAwLFxuICAgICAgc3JjU2V0OiAwLFxuICAgICAgc3RhcnQ6IEhBU19OVU1FUklDX1ZBTFVFLFxuICAgICAgc3RlcDogMCxcbiAgICAgIHN0eWxlOiAwLFxuICAgICAgc3VtbWFyeTogMCxcbiAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgdGFyZ2V0OiAwLFxuICAgICAgdGl0bGU6IDAsXG4gICAgICB0eXBlOiAwLFxuICAgICAgdXNlTWFwOiAwLFxuICAgICAgdmFsdWU6IE1VU1RfVVNFX1BST1BFUlRZIHwgSEFTX1NJREVfRUZGRUNUUyxcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgd21vZGU6IDAsXG4gICAgICB3cmFwOiAwLFxuICAgICAgYWJvdXQ6IDAsXG4gICAgICBkYXRhdHlwZTogMCxcbiAgICAgIGlubGlzdDogMCxcbiAgICAgIHByZWZpeDogMCxcbiAgICAgIHByb3BlcnR5OiAwLFxuICAgICAgcmVzb3VyY2U6IDAsXG4gICAgICAndHlwZW9mJzogMCxcbiAgICAgIHZvY2FiOiAwLFxuICAgICAgYXV0b0NhcGl0YWxpemU6IDAsXG4gICAgICBhdXRvQ29ycmVjdDogMCxcbiAgICAgIGF1dG9TYXZlOiAwLFxuICAgICAgY29sb3I6IDAsXG4gICAgICBpdGVtUHJvcDogMCxcbiAgICAgIGl0ZW1TY29wZTogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgICBpdGVtVHlwZTogMCxcbiAgICAgIGl0ZW1JRDogMCxcbiAgICAgIGl0ZW1SZWY6IDAsXG4gICAgICByZXN1bHRzOiAwLFxuICAgICAgc2VjdXJpdHk6IDAsXG4gICAgICB1bnNlbGVjdGFibGU6IDBcbiAgICB9LFxuICAgIERPTUF0dHJpYnV0ZU5hbWVzOiB7XG4gICAgICBhY2NlcHRDaGFyc2V0OiAnYWNjZXB0LWNoYXJzZXQnLFxuICAgICAgY2xhc3NOYW1lOiAnY2xhc3MnLFxuICAgICAgaHRtbEZvcjogJ2ZvcicsXG4gICAgICBodHRwRXF1aXY6ICdodHRwLWVxdWl2J1xuICAgIH0sXG4gICAgRE9NUHJvcGVydHlOYW1lczoge31cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBIVE1MRE9NUHJvcGVydHlDb25maWc7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMWNcIiwgW1wiMTFcIiwgXCIxZFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9ICRfX3JlcXVpcmUoJzExJyk7XG4gIHZhciBmb2N1c05vZGUgPSAkX19yZXF1aXJlKCcxZCcpO1xuICB2YXIgQXV0b0ZvY3VzVXRpbHMgPSB7Zm9jdXNET01Db21wb25lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgZm9jdXNOb2RlKFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKHRoaXMpKTtcbiAgICB9fTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBBdXRvRm9jdXNVdGlscztcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxZVwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIF9oeXBoZW5QYXR0ZXJuID0gLy0oLikvZztcbiAgZnVuY3Rpb24gY2FtZWxpemUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKF9oeXBoZW5QYXR0ZXJuLCBmdW5jdGlvbihfLCBjaGFyYWN0ZXIpIHtcbiAgICAgIHJldHVybiBjaGFyYWN0ZXIudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGNhbWVsaXplO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjFmXCIsIFtcIjFlXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgY2FtZWxpemUgPSAkX19yZXF1aXJlKCcxZScpO1xuICB2YXIgbXNQYXR0ZXJuID0gL14tbXMtLztcbiAgZnVuY3Rpb24gY2FtZWxpemVTdHlsZU5hbWUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGNhbWVsaXplKHN0cmluZy5yZXBsYWNlKG1zUGF0dGVybiwgJ21zLScpKTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGNhbWVsaXplU3R5bGVOYW1lO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjIwXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgaXNVbml0bGVzc051bWJlciA9IHtcbiAgICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogdHJ1ZSxcbiAgICBib3JkZXJJbWFnZU91dHNldDogdHJ1ZSxcbiAgICBib3JkZXJJbWFnZVNsaWNlOiB0cnVlLFxuICAgIGJvcmRlckltYWdlV2lkdGg6IHRydWUsXG4gICAgYm94RmxleDogdHJ1ZSxcbiAgICBib3hGbGV4R3JvdXA6IHRydWUsXG4gICAgYm94T3JkaW5hbEdyb3VwOiB0cnVlLFxuICAgIGNvbHVtbkNvdW50OiB0cnVlLFxuICAgIGZsZXg6IHRydWUsXG4gICAgZmxleEdyb3c6IHRydWUsXG4gICAgZmxleFBvc2l0aXZlOiB0cnVlLFxuICAgIGZsZXhTaHJpbms6IHRydWUsXG4gICAgZmxleE5lZ2F0aXZlOiB0cnVlLFxuICAgIGZsZXhPcmRlcjogdHJ1ZSxcbiAgICBncmlkUm93OiB0cnVlLFxuICAgIGdyaWRDb2x1bW46IHRydWUsXG4gICAgZm9udFdlaWdodDogdHJ1ZSxcbiAgICBsaW5lQ2xhbXA6IHRydWUsXG4gICAgbGluZUhlaWdodDogdHJ1ZSxcbiAgICBvcGFjaXR5OiB0cnVlLFxuICAgIG9yZGVyOiB0cnVlLFxuICAgIG9ycGhhbnM6IHRydWUsXG4gICAgdGFiU2l6ZTogdHJ1ZSxcbiAgICB3aWRvd3M6IHRydWUsXG4gICAgekluZGV4OiB0cnVlLFxuICAgIHpvb206IHRydWUsXG4gICAgZmlsbE9wYWNpdHk6IHRydWUsXG4gICAgZmxvb2RPcGFjaXR5OiB0cnVlLFxuICAgIHN0b3BPcGFjaXR5OiB0cnVlLFxuICAgIHN0cm9rZURhc2hhcnJheTogdHJ1ZSxcbiAgICBzdHJva2VEYXNob2Zmc2V0OiB0cnVlLFxuICAgIHN0cm9rZU1pdGVybGltaXQ6IHRydWUsXG4gICAgc3Ryb2tlT3BhY2l0eTogdHJ1ZSxcbiAgICBzdHJva2VXaWR0aDogdHJ1ZVxuICB9O1xuICBmdW5jdGlvbiBwcmVmaXhLZXkocHJlZml4LCBrZXkpIHtcbiAgICByZXR1cm4gcHJlZml4ICsga2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsga2V5LnN1YnN0cmluZygxKTtcbiAgfVxuICB2YXIgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdtcycsICdNb3onLCAnTyddO1xuICBPYmplY3Qua2V5cyhpc1VuaXRsZXNzTnVtYmVyKS5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICBwcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uKHByZWZpeCkge1xuICAgICAgaXNVbml0bGVzc051bWJlcltwcmVmaXhLZXkocHJlZml4LCBwcm9wKV0gPSBpc1VuaXRsZXNzTnVtYmVyW3Byb3BdO1xuICAgIH0pO1xuICB9KTtcbiAgdmFyIHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9ucyA9IHtcbiAgICBiYWNrZ3JvdW5kOiB7XG4gICAgICBiYWNrZ3JvdW5kQXR0YWNobWVudDogdHJ1ZSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdHJ1ZSxcbiAgICAgIGJhY2tncm91bmRJbWFnZTogdHJ1ZSxcbiAgICAgIGJhY2tncm91bmRQb3NpdGlvblg6IHRydWUsXG4gICAgICBiYWNrZ3JvdW5kUG9zaXRpb25ZOiB0cnVlLFxuICAgICAgYmFja2dyb3VuZFJlcGVhdDogdHJ1ZVxuICAgIH0sXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uOiB7XG4gICAgICBiYWNrZ3JvdW5kUG9zaXRpb25YOiB0cnVlLFxuICAgICAgYmFja2dyb3VuZFBvc2l0aW9uWTogdHJ1ZVxuICAgIH0sXG4gICAgYm9yZGVyOiB7XG4gICAgICBib3JkZXJXaWR0aDogdHJ1ZSxcbiAgICAgIGJvcmRlclN0eWxlOiB0cnVlLFxuICAgICAgYm9yZGVyQ29sb3I6IHRydWVcbiAgICB9LFxuICAgIGJvcmRlckJvdHRvbToge1xuICAgICAgYm9yZGVyQm90dG9tV2lkdGg6IHRydWUsXG4gICAgICBib3JkZXJCb3R0b21TdHlsZTogdHJ1ZSxcbiAgICAgIGJvcmRlckJvdHRvbUNvbG9yOiB0cnVlXG4gICAgfSxcbiAgICBib3JkZXJMZWZ0OiB7XG4gICAgICBib3JkZXJMZWZ0V2lkdGg6IHRydWUsXG4gICAgICBib3JkZXJMZWZ0U3R5bGU6IHRydWUsXG4gICAgICBib3JkZXJMZWZ0Q29sb3I6IHRydWVcbiAgICB9LFxuICAgIGJvcmRlclJpZ2h0OiB7XG4gICAgICBib3JkZXJSaWdodFdpZHRoOiB0cnVlLFxuICAgICAgYm9yZGVyUmlnaHRTdHlsZTogdHJ1ZSxcbiAgICAgIGJvcmRlclJpZ2h0Q29sb3I6IHRydWVcbiAgICB9LFxuICAgIGJvcmRlclRvcDoge1xuICAgICAgYm9yZGVyVG9wV2lkdGg6IHRydWUsXG4gICAgICBib3JkZXJUb3BTdHlsZTogdHJ1ZSxcbiAgICAgIGJvcmRlclRvcENvbG9yOiB0cnVlXG4gICAgfSxcbiAgICBmb250OiB7XG4gICAgICBmb250U3R5bGU6IHRydWUsXG4gICAgICBmb250VmFyaWFudDogdHJ1ZSxcbiAgICAgIGZvbnRXZWlnaHQ6IHRydWUsXG4gICAgICBmb250U2l6ZTogdHJ1ZSxcbiAgICAgIGxpbmVIZWlnaHQ6IHRydWUsXG4gICAgICBmb250RmFtaWx5OiB0cnVlXG4gICAgfSxcbiAgICBvdXRsaW5lOiB7XG4gICAgICBvdXRsaW5lV2lkdGg6IHRydWUsXG4gICAgICBvdXRsaW5lU3R5bGU6IHRydWUsXG4gICAgICBvdXRsaW5lQ29sb3I6IHRydWVcbiAgICB9XG4gIH07XG4gIHZhciBDU1NQcm9wZXJ0eSA9IHtcbiAgICBpc1VuaXRsZXNzTnVtYmVyOiBpc1VuaXRsZXNzTnVtYmVyLFxuICAgIHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uczogc2hvcnRoYW5kUHJvcGVydHlFeHBhbnNpb25zXG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gQ1NTUHJvcGVydHk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMjFcIiwgW1wiMjBcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBDU1NQcm9wZXJ0eSA9ICRfX3JlcXVpcmUoJzIwJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciBpc1VuaXRsZXNzTnVtYmVyID0gQ1NTUHJvcGVydHkuaXNVbml0bGVzc051bWJlcjtcbiAgICB2YXIgc3R5bGVXYXJuaW5ncyA9IHt9O1xuICAgIGZ1bmN0aW9uIGRhbmdlcm91c1N0eWxlVmFsdWUobmFtZSwgdmFsdWUsIGNvbXBvbmVudCkge1xuICAgICAgdmFyIGlzRW1wdHkgPSB2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8IHZhbHVlID09PSAnJztcbiAgICAgIGlmIChpc0VtcHR5KSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIHZhciBpc05vbk51bWVyaWMgPSBpc05hTih2YWx1ZSk7XG4gICAgICBpZiAoaXNOb25OdW1lcmljIHx8IHZhbHVlID09PSAwIHx8IGlzVW5pdGxlc3NOdW1iZXIuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgaXNVbml0bGVzc051bWJlcltuYW1lXSkge1xuICAgICAgICByZXR1cm4gJycgKyB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICAgICAgdmFyIG93bmVyID0gY29tcG9uZW50Ll9jdXJyZW50RWxlbWVudC5fb3duZXI7XG4gICAgICAgICAgICB2YXIgb3duZXJOYW1lID0gb3duZXIgPyBvd25lci5nZXROYW1lKCkgOiBudWxsO1xuICAgICAgICAgICAgaWYgKG93bmVyTmFtZSAmJiAhc3R5bGVXYXJuaW5nc1tvd25lck5hbWVdKSB7XG4gICAgICAgICAgICAgIHN0eWxlV2FybmluZ3Nbb3duZXJOYW1lXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG93bmVyTmFtZSkge1xuICAgICAgICAgICAgICB2YXIgd2FybmluZ3MgPSBzdHlsZVdhcm5pbmdzW293bmVyTmFtZV07XG4gICAgICAgICAgICAgIHdhcm5lZCA9IHdhcm5pbmdzW25hbWVdO1xuICAgICAgICAgICAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgICAgICAgICAgIHdhcm5pbmdzW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdhIGAlc2AgdGFnIChvd25lcjogYCVzYCkgd2FzIHBhc3NlZCBhIG51bWVyaWMgc3RyaW5nIHZhbHVlICcgKyAnZm9yIENTUyBwcm9wZXJ0eSBgJXNgICh2YWx1ZTogYCVzYCkgd2hpY2ggd2lsbCBiZSB0cmVhdGVkICcgKyAnYXMgYSB1bml0bGVzcyBudW1iZXIgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBSZWFjdC4nLCBjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50LnR5cGUsIG93bmVyTmFtZSB8fCAndW5rbm93bicsIG5hbWUsIHZhbHVlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgKyAncHgnO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGRhbmdlcm91c1N0eWxlVmFsdWU7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjIzXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgX3VwcGVyY2FzZVBhdHRlcm4gPSAvKFtBLVpdKS9nO1xuICBmdW5jdGlvbiBoeXBoZW5hdGUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKF91cHBlcmNhc2VQYXR0ZXJuLCAnLSQxJykudG9Mb3dlckNhc2UoKTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGh5cGhlbmF0ZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIyNFwiLCBbXCIyM1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGh5cGhlbmF0ZSA9ICRfX3JlcXVpcmUoJzIzJyk7XG4gIHZhciBtc1BhdHRlcm4gPSAvXm1zLS87XG4gIGZ1bmN0aW9uIGh5cGhlbmF0ZVN0eWxlTmFtZShzdHJpbmcpIHtcbiAgICByZXR1cm4gaHlwaGVuYXRlKHN0cmluZykucmVwbGFjZShtc1BhdHRlcm4sICctbXMtJyk7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBoeXBoZW5hdGVTdHlsZU5hbWU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMjVcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGZ1bmN0aW9uIG1lbW9pemVTdHJpbmdPbmx5KGNhbGxiYWNrKSB7XG4gICAgdmFyIGNhY2hlID0ge307XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgaWYgKCFjYWNoZS5oYXNPd25Qcm9wZXJ0eShzdHJpbmcpKSB7XG4gICAgICAgIGNhY2hlW3N0cmluZ10gPSBjYWxsYmFjay5jYWxsKHRoaXMsIHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2FjaGVbc3RyaW5nXTtcbiAgICB9O1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gbWVtb2l6ZVN0cmluZ09ubHk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMjZcIiwgW1wiMjBcIiwgXCJkXCIsIFwiMjdcIiwgXCIxZlwiLCBcIjIxXCIsIFwiMjRcIiwgXCIyNVwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIENTU1Byb3BlcnR5ID0gJF9fcmVxdWlyZSgnMjAnKTtcbiAgICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSAkX19yZXF1aXJlKCdkJyk7XG4gICAgdmFyIFJlYWN0SW5zdHJ1bWVudGF0aW9uID0gJF9fcmVxdWlyZSgnMjcnKTtcbiAgICB2YXIgY2FtZWxpemVTdHlsZU5hbWUgPSAkX19yZXF1aXJlKCcxZicpO1xuICAgIHZhciBkYW5nZXJvdXNTdHlsZVZhbHVlID0gJF9fcmVxdWlyZSgnMjEnKTtcbiAgICB2YXIgaHlwaGVuYXRlU3R5bGVOYW1lID0gJF9fcmVxdWlyZSgnMjQnKTtcbiAgICB2YXIgbWVtb2l6ZVN0cmluZ09ubHkgPSAkX19yZXF1aXJlKCcyNScpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgcHJvY2Vzc1N0eWxlTmFtZSA9IG1lbW9pemVTdHJpbmdPbmx5KGZ1bmN0aW9uKHN0eWxlTmFtZSkge1xuICAgICAgcmV0dXJuIGh5cGhlbmF0ZVN0eWxlTmFtZShzdHlsZU5hbWUpO1xuICAgIH0pO1xuICAgIHZhciBoYXNTaG9ydGhhbmRQcm9wZXJ0eUJ1ZyA9IGZhbHNlO1xuICAgIHZhciBzdHlsZUZsb2F0QWNjZXNzb3IgPSAnY3NzRmxvYXQnO1xuICAgIGlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgICAgIHZhciB0ZW1wU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlbXBTdHlsZS5mb250ID0gJyc7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGhhc1Nob3J0aGFuZFByb3BlcnR5QnVnID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY3NzRmxvYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdHlsZUZsb2F0QWNjZXNzb3IgPSAnc3R5bGVGbG9hdCc7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgYmFkVmVuZG9yZWRTdHlsZU5hbWVQYXR0ZXJuID0gL14oPzp3ZWJraXR8bW96fG8pW0EtWl0vO1xuICAgICAgdmFyIGJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybiA9IC87XFxzKiQvO1xuICAgICAgdmFyIHdhcm5lZFN0eWxlTmFtZXMgPSB7fTtcbiAgICAgIHZhciB3YXJuZWRTdHlsZVZhbHVlcyA9IHt9O1xuICAgICAgdmFyIHdhcm5lZEZvck5hTlZhbHVlID0gZmFsc2U7XG4gICAgICB2YXIgd2Fybkh5cGhlbmF0ZWRTdHlsZU5hbWUgPSBmdW5jdGlvbihuYW1lLCBvd25lcikge1xuICAgICAgICBpZiAod2FybmVkU3R5bGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiB3YXJuZWRTdHlsZU5hbWVzW25hbWVdKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ1Vuc3VwcG9ydGVkIHN0eWxlIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gJXM/JXMnLCBuYW1lLCBjYW1lbGl6ZVN0eWxlTmFtZShuYW1lKSwgY2hlY2tSZW5kZXJNZXNzYWdlKG93bmVyKSkgOiB2b2lkIDA7XG4gICAgICB9O1xuICAgICAgdmFyIHdhcm5CYWRWZW5kb3JlZFN0eWxlTmFtZSA9IGZ1bmN0aW9uKG5hbWUsIG93bmVyKSB7XG4gICAgICAgIGlmICh3YXJuZWRTdHlsZU5hbWVzLmhhc093blByb3BlcnR5KG5hbWUpICYmIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSA9IHRydWU7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnVW5zdXBwb3J0ZWQgdmVuZG9yLXByZWZpeGVkIHN0eWxlIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gJXM/JXMnLCBuYW1lLCBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKSwgY2hlY2tSZW5kZXJNZXNzYWdlKG93bmVyKSkgOiB2b2lkIDA7XG4gICAgICB9O1xuICAgICAgdmFyIHdhcm5TdHlsZVZhbHVlV2l0aFNlbWljb2xvbiA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBvd25lcikge1xuICAgICAgICBpZiAod2FybmVkU3R5bGVWYWx1ZXMuaGFzT3duUHJvcGVydHkodmFsdWUpICYmIHdhcm5lZFN0eWxlVmFsdWVzW3ZhbHVlXSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YXJuZWRTdHlsZVZhbHVlc1t2YWx1ZV0gPSB0cnVlO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ1N0eWxlIHByb3BlcnR5IHZhbHVlcyBzaG91bGRuXFwndCBjb250YWluIGEgc2VtaWNvbG9uLiVzICcgKyAnVHJ5IFwiJXM6ICVzXCIgaW5zdGVhZC4nLCBjaGVja1JlbmRlck1lc3NhZ2Uob3duZXIpLCBuYW1lLCB2YWx1ZS5yZXBsYWNlKGJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybiwgJycpKSA6IHZvaWQgMDtcbiAgICAgIH07XG4gICAgICB2YXIgd2FyblN0eWxlVmFsdWVJc05hTiA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBvd25lcikge1xuICAgICAgICBpZiAod2FybmVkRm9yTmFOVmFsdWUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FybmVkRm9yTmFOVmFsdWUgPSB0cnVlO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2BOYU5gIGlzIGFuIGludmFsaWQgdmFsdWUgZm9yIHRoZSBgJXNgIGNzcyBzdHlsZSBwcm9wZXJ0eS4lcycsIG5hbWUsIGNoZWNrUmVuZGVyTWVzc2FnZShvd25lcikpIDogdm9pZCAwO1xuICAgICAgfTtcbiAgICAgIHZhciBjaGVja1JlbmRlck1lc3NhZ2UgPSBmdW5jdGlvbihvd25lcikge1xuICAgICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgICB2YXIgbmFtZSA9IG93bmVyLmdldE5hbWUoKTtcbiAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfTtcbiAgICAgIHZhciB3YXJuVmFsaWRTdHlsZSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBjb21wb25lbnQpIHtcbiAgICAgICAgdmFyIG93bmVyO1xuICAgICAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgICAgb3duZXIgPSBjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgICAgIHdhcm5IeXBoZW5hdGVkU3R5bGVOYW1lKG5hbWUsIG93bmVyKTtcbiAgICAgICAgfSBlbHNlIGlmIChiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4udGVzdChuYW1lKSkge1xuICAgICAgICAgIHdhcm5CYWRWZW5kb3JlZFN0eWxlTmFtZShuYW1lLCBvd25lcik7XG4gICAgICAgIH0gZWxzZSBpZiAoYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgd2FyblN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uKG5hbWUsIHZhbHVlLCBvd25lcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgd2FyblN0eWxlVmFsdWVJc05hTihuYW1lLCB2YWx1ZSwgb3duZXIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgQ1NTUHJvcGVydHlPcGVyYXRpb25zID0ge1xuICAgICAgY3JlYXRlTWFya3VwRm9yU3R5bGVzOiBmdW5jdGlvbihzdHlsZXMsIGNvbXBvbmVudCkge1xuICAgICAgICB2YXIgc2VyaWFsaXplZCA9ICcnO1xuICAgICAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gc3R5bGVzKSB7XG4gICAgICAgICAgaWYgKCFzdHlsZXMuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBzdHlsZVZhbHVlID0gc3R5bGVzW3N0eWxlTmFtZV07XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHdhcm5WYWxpZFN0eWxlKHN0eWxlTmFtZSwgc3R5bGVWYWx1ZSwgY29tcG9uZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0eWxlVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2VyaWFsaXplZCArPSBwcm9jZXNzU3R5bGVOYW1lKHN0eWxlTmFtZSkgKyAnOic7XG4gICAgICAgICAgICBzZXJpYWxpemVkICs9IGRhbmdlcm91c1N0eWxlVmFsdWUoc3R5bGVOYW1lLCBzdHlsZVZhbHVlLCBjb21wb25lbnQpICsgJzsnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VyaWFsaXplZCB8fCBudWxsO1xuICAgICAgfSxcbiAgICAgIHNldFZhbHVlRm9yU3R5bGVzOiBmdW5jdGlvbihub2RlLCBzdHlsZXMsIGNvbXBvbmVudCkge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihjb21wb25lbnQuX2RlYnVnSUQsICd1cGRhdGUgc3R5bGVzJywgc3R5bGVzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3R5bGUgPSBub2RlLnN0eWxlO1xuICAgICAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gc3R5bGVzKSB7XG4gICAgICAgICAgaWYgKCFzdHlsZXMuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICB3YXJuVmFsaWRTdHlsZShzdHlsZU5hbWUsIHN0eWxlc1tzdHlsZU5hbWVdLCBjb21wb25lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgc3R5bGVWYWx1ZSA9IGRhbmdlcm91c1N0eWxlVmFsdWUoc3R5bGVOYW1lLCBzdHlsZXNbc3R5bGVOYW1lXSwgY29tcG9uZW50KTtcbiAgICAgICAgICBpZiAoc3R5bGVOYW1lID09PSAnZmxvYXQnIHx8IHN0eWxlTmFtZSA9PT0gJ2Nzc0Zsb2F0Jykge1xuICAgICAgICAgICAgc3R5bGVOYW1lID0gc3R5bGVGbG9hdEFjY2Vzc29yO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3R5bGVWYWx1ZSkge1xuICAgICAgICAgICAgc3R5bGVbc3R5bGVOYW1lXSA9IHN0eWxlVmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBleHBhbnNpb24gPSBoYXNTaG9ydGhhbmRQcm9wZXJ0eUJ1ZyAmJiBDU1NQcm9wZXJ0eS5zaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnNbc3R5bGVOYW1lXTtcbiAgICAgICAgICAgIGlmIChleHBhbnNpb24pIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaW5kaXZpZHVhbFN0eWxlTmFtZSBpbiBleHBhbnNpb24pIHtcbiAgICAgICAgICAgICAgICBzdHlsZVtpbmRpdmlkdWFsU3R5bGVOYW1lXSA9ICcnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdHlsZVtzdHlsZU5hbWVdID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IENTU1Byb3BlcnR5T3BlcmF0aW9ucztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMjhcIiwgW1wiMjlcIiwgXCIxMVwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBET01DaGlsZHJlbk9wZXJhdGlvbnMgPSAkX19yZXF1aXJlKCcyOScpO1xuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSAkX19yZXF1aXJlKCcxMScpO1xuICAgIHZhciBSZWFjdERPTUlET3BlcmF0aW9ucyA9IHtkYW5nZXJvdXNseVByb2Nlc3NDaGlsZHJlblVwZGF0ZXM6IGZ1bmN0aW9uKHBhcmVudEluc3QsIHVwZGF0ZXMpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZShwYXJlbnRJbnN0KTtcbiAgICAgICAgRE9NQ2hpbGRyZW5PcGVyYXRpb25zLnByb2Nlc3NVcGRhdGVzKG5vZGUsIHVwZGF0ZXMpO1xuICAgICAgfX07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUlET3BlcmF0aW9ucztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMmFcIiwgW1wiMjlcIiwgXCIyOFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBET01DaGlsZHJlbk9wZXJhdGlvbnMgPSAkX19yZXF1aXJlKCcyOScpO1xuICAgIHZhciBSZWFjdERPTUlET3BlcmF0aW9ucyA9ICRfX3JlcXVpcmUoJzI4Jyk7XG4gICAgdmFyIFJlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50ID0ge1xuICAgICAgcHJvY2Vzc0NoaWxkcmVuVXBkYXRlczogUmVhY3RET01JRE9wZXJhdGlvbnMuZGFuZ2Vyb3VzbHlQcm9jZXNzQ2hpbGRyZW5VcGRhdGVzLFxuICAgICAgcmVwbGFjZU5vZGVXaXRoTWFya3VwOiBET01DaGlsZHJlbk9wZXJhdGlvbnMuZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAsXG4gICAgICB1bm1vdW50SURGcm9tRW52aXJvbm1lbnQ6IGZ1bmN0aW9uKHJvb3ROb2RlSUQpIHt9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50O1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIyYlwiLCBbXCIyY1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIERpc2FibGVkSW5wdXRVdGlscyA9ICRfX3JlcXVpcmUoJzJjJyk7XG4gIHZhciBSZWFjdERPTUJ1dHRvbiA9IHtnZXROYXRpdmVQcm9wczogRGlzYWJsZWRJbnB1dFV0aWxzLmdldE5hdGl2ZVByb3BzfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUJ1dHRvbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIyZFwiLCBbXCI2XCIsIFwiMmNcIiwgXCIyZVwiLCBcIjJmXCIsIFwiMTFcIiwgXCIxMlwiLCBcIjMwXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgICB2YXIgRGlzYWJsZWRJbnB1dFV0aWxzID0gJF9fcmVxdWlyZSgnMmMnKTtcbiAgICB2YXIgRE9NUHJvcGVydHlPcGVyYXRpb25zID0gJF9fcmVxdWlyZSgnMmUnKTtcbiAgICB2YXIgTGlua2VkVmFsdWVVdGlscyA9ICRfX3JlcXVpcmUoJzJmJyk7XG4gICAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9ICRfX3JlcXVpcmUoJzExJyk7XG4gICAgdmFyIFJlYWN0VXBkYXRlcyA9ICRfX3JlcXVpcmUoJzEyJyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciBkaWRXYXJuVmFsdWVMaW5rID0gZmFsc2U7XG4gICAgdmFyIGRpZFdhcm5DaGVja2VkTGluayA9IGZhbHNlO1xuICAgIHZhciBkaWRXYXJuVmFsdWVOdWxsID0gZmFsc2U7XG4gICAgdmFyIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSA9IGZhbHNlO1xuICAgIHZhciBkaWRXYXJuQ2hlY2tlZERlZmF1bHRDaGVja2VkID0gZmFsc2U7XG4gICAgdmFyIGRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQgPSBmYWxzZTtcbiAgICB2YXIgZGlkV2FyblVuY29udHJvbGxlZFRvQ29udHJvbGxlZCA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIGZvcmNlVXBkYXRlSWZNb3VudGVkKCkge1xuICAgICAgaWYgKHRoaXMuX3Jvb3ROb2RlSUQpIHtcbiAgICAgICAgUmVhY3RET01JbnB1dC51cGRhdGVXcmFwcGVyKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcykge1xuICAgICAgaWYgKHByb3BzICE9IG51bGwgJiYgcHJvcHMudmFsdWUgPT09IG51bGwgJiYgIWRpZFdhcm5WYWx1ZU51bGwpIHtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdgdmFsdWVgIHByb3Agb24gYGlucHV0YCBzaG91bGQgbm90IGJlIG51bGwuICcgKyAnQ29uc2lkZXIgdXNpbmcgdGhlIGVtcHR5IHN0cmluZyB0byBjbGVhciB0aGUgY29tcG9uZW50IG9yIGB1bmRlZmluZWRgICcgKyAnZm9yIHVuY29udHJvbGxlZCBjb21wb25lbnRzLicpIDogdm9pZCAwO1xuICAgICAgICBkaWRXYXJuVmFsdWVOdWxsID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFJlYWN0RE9NSW5wdXQgPSB7XG4gICAgICBnZXROYXRpdmVQcm9wczogZnVuY3Rpb24oaW5zdCwgcHJvcHMpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gTGlua2VkVmFsdWVVdGlscy5nZXRWYWx1ZShwcm9wcyk7XG4gICAgICAgIHZhciBjaGVja2VkID0gTGlua2VkVmFsdWVVdGlscy5nZXRDaGVja2VkKHByb3BzKTtcbiAgICAgICAgdmFyIG5hdGl2ZVByb3BzID0gX2Fzc2lnbih7dHlwZTogdW5kZWZpbmVkfSwgRGlzYWJsZWRJbnB1dFV0aWxzLmdldE5hdGl2ZVByb3BzKGluc3QsIHByb3BzKSwge1xuICAgICAgICAgIGRlZmF1bHRDaGVja2VkOiB1bmRlZmluZWQsXG4gICAgICAgICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6IGluc3QuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUsXG4gICAgICAgICAgY2hlY2tlZDogY2hlY2tlZCAhPSBudWxsID8gY2hlY2tlZCA6IGluc3QuX3dyYXBwZXJTdGF0ZS5pbml0aWFsQ2hlY2tlZCxcbiAgICAgICAgICBvbkNoYW5nZTogaW5zdC5fd3JhcHBlclN0YXRlLm9uQ2hhbmdlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmF0aXZlUHJvcHM7XG4gICAgICB9LFxuICAgICAgbW91bnRXcmFwcGVyOiBmdW5jdGlvbihpbnN0LCBwcm9wcykge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIExpbmtlZFZhbHVlVXRpbHMuY2hlY2tQcm9wVHlwZXMoJ2lucHV0JywgcHJvcHMsIGluc3QuX2N1cnJlbnRFbGVtZW50Ll9vd25lcik7XG4gICAgICAgICAgdmFyIG93bmVyID0gaW5zdC5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgICAgIGlmIChwcm9wcy52YWx1ZUxpbmsgIT09IHVuZGVmaW5lZCAmJiAhZGlkV2FyblZhbHVlTGluaykge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdgdmFsdWVMaW5rYCBwcm9wIG9uIGBpbnB1dGAgaXMgZGVwcmVjYXRlZDsgc2V0IGB2YWx1ZWAgYW5kIGBvbkNoYW5nZWAgaW5zdGVhZC4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGRpZFdhcm5WYWx1ZUxpbmsgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJvcHMuY2hlY2tlZExpbmsgIT09IHVuZGVmaW5lZCAmJiAhZGlkV2FybkNoZWNrZWRMaW5rKSB7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2BjaGVja2VkTGlua2AgcHJvcCBvbiBgaW5wdXRgIGlzIGRlcHJlY2F0ZWQ7IHNldCBgdmFsdWVgIGFuZCBgb25DaGFuZ2VgIGluc3RlYWQuJykgOiB2b2lkIDA7XG4gICAgICAgICAgICBkaWRXYXJuQ2hlY2tlZExpbmsgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJvcHMuY2hlY2tlZCAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmRlZmF1bHRDaGVja2VkICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5DaGVja2VkRGVmYXVsdENoZWNrZWQpIHtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMgY29udGFpbnMgYW4gaW5wdXQgb2YgdHlwZSAlcyB3aXRoIGJvdGggY2hlY2tlZCBhbmQgZGVmYXVsdENoZWNrZWQgcHJvcHMuICcgKyAnSW5wdXQgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgJyArICcoc3BlY2lmeSBlaXRoZXIgdGhlIGNoZWNrZWQgcHJvcCwgb3IgdGhlIGRlZmF1bHRDaGVja2VkIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycsIG93bmVyICYmIG93bmVyLmdldE5hbWUoKSB8fCAnQSBjb21wb25lbnQnLCBwcm9wcy50eXBlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGRpZFdhcm5DaGVja2VkRGVmYXVsdENoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5kZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzIGNvbnRhaW5zIGFuIGlucHV0IG9mIHR5cGUgJXMgd2l0aCBib3RoIHZhbHVlIGFuZCBkZWZhdWx0VmFsdWUgcHJvcHMuICcgKyAnSW5wdXQgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgJyArICcoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCAnICsgJ2JvdGgpLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0ICcgKyAnZWxlbWVudCBhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy4gTW9yZSBpbmZvOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzJywgb3duZXIgJiYgb3duZXIuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcsIHByb3BzLnR5cGUpIDogdm9pZCAwO1xuICAgICAgICAgICAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgd2FybklmVmFsdWVJc051bGwocHJvcHMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWU7XG4gICAgICAgIGluc3QuX3dyYXBwZXJTdGF0ZSA9IHtcbiAgICAgICAgICBpbml0aWFsQ2hlY2tlZDogcHJvcHMuZGVmYXVsdENoZWNrZWQgfHwgZmFsc2UsXG4gICAgICAgICAgaW5pdGlhbFZhbHVlOiBkZWZhdWx0VmFsdWUgIT0gbnVsbCA/IGRlZmF1bHRWYWx1ZSA6IG51bGwsXG4gICAgICAgICAgbGlzdGVuZXJzOiBudWxsLFxuICAgICAgICAgIG9uQ2hhbmdlOiBfaGFuZGxlQ2hhbmdlLmJpbmQoaW5zdClcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUuY29udHJvbGxlZCA9IHByb3BzLmNoZWNrZWQgIT09IHVuZGVmaW5lZCB8fCBwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXBkYXRlV3JhcHBlcjogZnVuY3Rpb24oaW5zdCkge1xuICAgICAgICB2YXIgcHJvcHMgPSBpbnN0Ll9jdXJyZW50RWxlbWVudC5wcm9wcztcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcyk7XG4gICAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IGluc3QuX3dyYXBwZXJTdGF0ZS5pbml0aWFsQ2hlY2tlZCB8fCBpbnN0Ll93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlO1xuICAgICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBwcm9wcy5kZWZhdWx0Q2hlY2tlZCB8fCBwcm9wcy5kZWZhdWx0VmFsdWU7XG4gICAgICAgICAgdmFyIGNvbnRyb2xsZWQgPSBwcm9wcy5jaGVja2VkICE9PSB1bmRlZmluZWQgfHwgcHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICB2YXIgb3duZXIgPSBpbnN0Ll9jdXJyZW50RWxlbWVudC5fb3duZXI7XG4gICAgICAgICAgaWYgKChpbml0aWFsVmFsdWUgfHwgIWluc3QuX3dyYXBwZXJTdGF0ZS5jb250cm9sbGVkKSAmJiBjb250cm9sbGVkICYmICFkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkKSB7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzIGlzIGNoYW5naW5nIGFuIHVuY29udHJvbGxlZCBpbnB1dCBvZiB0eXBlICVzIHRvIGJlIGNvbnRyb2xsZWQuICcgKyAnSW5wdXQgZWxlbWVudHMgc2hvdWxkIG5vdCBzd2l0Y2ggZnJvbSB1bmNvbnRyb2xsZWQgdG8gY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuICcgKyAnRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgY29tcG9uZW50LiBNb3JlIGluZm86IGh0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzJywgb3duZXIgJiYgb3duZXIuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcsIHByb3BzLnR5cGUpIDogdm9pZCAwO1xuICAgICAgICAgICAgZGlkV2FyblVuY29udHJvbGxlZFRvQ29udHJvbGxlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbnN0Ll93cmFwcGVyU3RhdGUuY29udHJvbGxlZCAmJiAoZGVmYXVsdFZhbHVlIHx8ICFjb250cm9sbGVkKSAmJiAhZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclcyBpcyBjaGFuZ2luZyBhIGNvbnRyb2xsZWQgaW5wdXQgb2YgdHlwZSAlcyB0byBiZSB1bmNvbnRyb2xsZWQuICcgKyAnSW5wdXQgZWxlbWVudHMgc2hvdWxkIG5vdCBzd2l0Y2ggZnJvbSBjb250cm9sbGVkIHRvIHVuY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuICcgKyAnRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgY29tcG9uZW50LiBNb3JlIGluZm86IGh0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzJywgb3duZXIgJiYgb3duZXIuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcsIHByb3BzLnR5cGUpIDogdm9pZCAwO1xuICAgICAgICAgICAgZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjaGVja2VkID0gcHJvcHMuY2hlY2tlZDtcbiAgICAgICAgaWYgKGNoZWNrZWQgIT0gbnVsbCkge1xuICAgICAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5zZXRWYWx1ZUZvclByb3BlcnR5KFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKGluc3QpLCAnY2hlY2tlZCcsIGNoZWNrZWQgfHwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5zZXRWYWx1ZUZvclByb3BlcnR5KFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKGluc3QpLCAndmFsdWUnLCAnJyArIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShldmVudCkge1xuICAgICAgdmFyIHByb3BzID0gdGhpcy5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICB2YXIgcmV0dXJuVmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmV4ZWN1dGVPbkNoYW5nZShwcm9wcywgZXZlbnQpO1xuICAgICAgUmVhY3RVcGRhdGVzLmFzYXAoZm9yY2VVcGRhdGVJZk1vdW50ZWQsIHRoaXMpO1xuICAgICAgdmFyIG5hbWUgPSBwcm9wcy5uYW1lO1xuICAgICAgaWYgKHByb3BzLnR5cGUgPT09ICdyYWRpbycgJiYgbmFtZSAhPSBudWxsKSB7XG4gICAgICAgIHZhciByb290Tm9kZSA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKHRoaXMpO1xuICAgICAgICB2YXIgcXVlcnlSb290ID0gcm9vdE5vZGU7XG4gICAgICAgIHdoaWxlIChxdWVyeVJvb3QucGFyZW50Tm9kZSkge1xuICAgICAgICAgIHF1ZXJ5Um9vdCA9IHF1ZXJ5Um9vdC5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBncm91cCA9IHF1ZXJ5Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPScgKyBKU09OLnN0cmluZ2lmeSgnJyArIG5hbWUpICsgJ11bdHlwZT1cInJhZGlvXCJdJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgb3RoZXJOb2RlID0gZ3JvdXBbaV07XG4gICAgICAgICAgaWYgKG90aGVyTm9kZSA9PT0gcm9vdE5vZGUgfHwgb3RoZXJOb2RlLmZvcm0gIT09IHJvb3ROb2RlLmZvcm0pIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgb3RoZXJJbnN0YW5jZSA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRJbnN0YW5jZUZyb21Ob2RlKG90aGVyTm9kZSk7XG4gICAgICAgICAgIW90aGVySW5zdGFuY2UgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RET01JbnB1dDogTWl4aW5nIFJlYWN0IGFuZCBub24tUmVhY3QgcmFkaW8gaW5wdXRzIHdpdGggdGhlICcgKyAnc2FtZSBgbmFtZWAgaXMgbm90IHN1cHBvcnRlZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgUmVhY3RVcGRhdGVzLmFzYXAoZm9yY2VVcGRhdGVJZk1vdW50ZWQsIG90aGVySW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01JbnB1dDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMzFcIiwgW1wiNlwiLCBcIjMyXCIsIFwiMTFcIiwgXCIzM1wiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIFJlYWN0Q2hpbGRyZW4gPSAkX19yZXF1aXJlKCczMicpO1xuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSAkX19yZXF1aXJlKCcxMScpO1xuICAgIHZhciBSZWFjdERPTVNlbGVjdCA9ICRfX3JlcXVpcmUoJzMzJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciBSZWFjdERPTU9wdGlvbiA9IHtcbiAgICAgIG1vdW50V3JhcHBlcjogZnVuY3Rpb24oaW5zdCwgcHJvcHMsIG5hdGl2ZVBhcmVudCkge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHByb3BzLnNlbGVjdGVkID09IG51bGwsICdVc2UgdGhlIGBkZWZhdWx0VmFsdWVgIG9yIGB2YWx1ZWAgcHJvcHMgb24gPHNlbGVjdD4gaW5zdGVhZCBvZiAnICsgJ3NldHRpbmcgYHNlbGVjdGVkYCBvbiA8b3B0aW9uPi4nKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VsZWN0VmFsdWUgPSBudWxsO1xuICAgICAgICBpZiAobmF0aXZlUGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICB2YXIgc2VsZWN0UGFyZW50ID0gbmF0aXZlUGFyZW50O1xuICAgICAgICAgIGlmIChzZWxlY3RQYXJlbnQuX3RhZyA9PT0gJ29wdGdyb3VwJykge1xuICAgICAgICAgICAgc2VsZWN0UGFyZW50ID0gc2VsZWN0UGFyZW50Ll9uYXRpdmVQYXJlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWxlY3RQYXJlbnQgIT0gbnVsbCAmJiBzZWxlY3RQYXJlbnQuX3RhZyA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgICAgICAgIHNlbGVjdFZhbHVlID0gUmVhY3RET01TZWxlY3QuZ2V0U2VsZWN0VmFsdWVDb250ZXh0KHNlbGVjdFBhcmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IG51bGw7XG4gICAgICAgIGlmIChzZWxlY3RWYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzZWxlY3RWYWx1ZSkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0VmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKCcnICsgc2VsZWN0VmFsdWVbaV0gPT09ICcnICsgcHJvcHMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZWN0ZWQgPSAnJyArIHNlbGVjdFZhbHVlID09PSAnJyArIHByb3BzLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUgPSB7c2VsZWN0ZWQ6IHNlbGVjdGVkfTtcbiAgICAgIH0sXG4gICAgICBwb3N0TW91bnRXcmFwcGVyOiBmdW5jdGlvbihpbnN0KSB7XG4gICAgICAgIHZhciBwcm9wcyA9IGluc3QuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgICAgICBpZiAocHJvcHMudmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIHZhciBub2RlID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCk7XG4gICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcHJvcHMudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ2V0TmF0aXZlUHJvcHM6IGZ1bmN0aW9uKGluc3QsIHByb3BzKSB7XG4gICAgICAgIHZhciBuYXRpdmVQcm9wcyA9IF9hc3NpZ24oe1xuICAgICAgICAgIHNlbGVjdGVkOiB1bmRlZmluZWQsXG4gICAgICAgICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICAgICAgICB9LCBwcm9wcyk7XG4gICAgICAgIGlmIChpbnN0Ll93cmFwcGVyU3RhdGUuc2VsZWN0ZWQgIT0gbnVsbCkge1xuICAgICAgICAgIG5hdGl2ZVByb3BzLnNlbGVjdGVkID0gaW5zdC5fd3JhcHBlclN0YXRlLnNlbGVjdGVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250ZW50ID0gJyc7XG4gICAgICAgIFJlYWN0Q2hpbGRyZW4uZm9yRWFjaChwcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICBpZiAoY2hpbGQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIGNoaWxkID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgY2hpbGQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjb250ZW50ICs9IGNoaWxkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ09ubHkgc3RyaW5ncyBhbmQgbnVtYmVycyBhcmUgc3VwcG9ydGVkIGFzIDxvcHRpb24+IGNoaWxkcmVuLicpIDogdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgbmF0aXZlUHJvcHMuY2hpbGRyZW4gPSBjb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYXRpdmVQcm9wcztcbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01PcHRpb247XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjMzXCIsIFtcIjZcIiwgXCIyY1wiLCBcIjJmXCIsIFwiMTFcIiwgXCIxMlwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIERpc2FibGVkSW5wdXRVdGlscyA9ICRfX3JlcXVpcmUoJzJjJyk7XG4gICAgdmFyIExpbmtlZFZhbHVlVXRpbHMgPSAkX19yZXF1aXJlKCcyZicpO1xuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSAkX19yZXF1aXJlKCcxMScpO1xuICAgIHZhciBSZWFjdFVwZGF0ZXMgPSAkX19yZXF1aXJlKCcxMicpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgZGlkV2FyblZhbHVlTGluayA9IGZhbHNlO1xuICAgIHZhciBkaWRXYXJuVmFsdWVOdWxsID0gZmFsc2U7XG4gICAgdmFyIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnNJZlBlbmRpbmdVcGRhdGVBbmRNb3VudGVkKCkge1xuICAgICAgaWYgKHRoaXMuX3Jvb3ROb2RlSUQgJiYgdGhpcy5fd3JhcHBlclN0YXRlLnBlbmRpbmdVcGRhdGUpIHtcbiAgICAgICAgdGhpcy5fd3JhcHBlclN0YXRlLnBlbmRpbmdVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIHByb3BzID0gdGhpcy5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIHVwZGF0ZU9wdGlvbnModGhpcywgQm9vbGVhbihwcm9wcy5tdWx0aXBsZSksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0ob3duZXIpIHtcbiAgICAgIGlmIChvd25lcikge1xuICAgICAgICB2YXIgbmFtZSA9IG93bmVyLmdldE5hbWUoKTtcbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gJyBDaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5JZlZhbHVlSXNOdWxsKHByb3BzKSB7XG4gICAgICBpZiAocHJvcHMgIT0gbnVsbCAmJiBwcm9wcy52YWx1ZSA9PT0gbnVsbCAmJiAhZGlkV2FyblZhbHVlTnVsbCkge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2B2YWx1ZWAgcHJvcCBvbiBgc2VsZWN0YCBzaG91bGQgbm90IGJlIG51bGwuICcgKyAnQ29uc2lkZXIgdXNpbmcgdGhlIGVtcHR5IHN0cmluZyB0byBjbGVhciB0aGUgY29tcG9uZW50IG9yIGB1bmRlZmluZWRgICcgKyAnZm9yIHVuY29udHJvbGxlZCBjb21wb25lbnRzLicpIDogdm9pZCAwO1xuICAgICAgICBkaWRXYXJuVmFsdWVOdWxsID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHZhbHVlUHJvcE5hbWVzID0gWyd2YWx1ZScsICdkZWZhdWx0VmFsdWUnXTtcbiAgICBmdW5jdGlvbiBjaGVja1NlbGVjdFByb3BUeXBlcyhpbnN0LCBwcm9wcykge1xuICAgICAgdmFyIG93bmVyID0gaW5zdC5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgTGlua2VkVmFsdWVVdGlscy5jaGVja1Byb3BUeXBlcygnc2VsZWN0JywgcHJvcHMsIG93bmVyKTtcbiAgICAgIGlmIChwcm9wcy52YWx1ZUxpbmsgIT09IHVuZGVmaW5lZCAmJiAhZGlkV2FyblZhbHVlTGluaykge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2B2YWx1ZUxpbmtgIHByb3Agb24gYHNlbGVjdGAgaXMgZGVwcmVjYXRlZDsgc2V0IGB2YWx1ZWAgYW5kIGBvbkNoYW5nZWAgaW5zdGVhZC4nKSA6IHZvaWQgMDtcbiAgICAgICAgZGlkV2FyblZhbHVlTGluayA9IHRydWU7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlUHJvcE5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwcm9wTmFtZSA9IHZhbHVlUHJvcE5hbWVzW2ldO1xuICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcHMubXVsdGlwbGUpIHtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhBcnJheS5pc0FycmF5KHByb3BzW3Byb3BOYW1lXSksICdUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYW4gYXJyYXkgaWYgJyArICdgbXVsdGlwbGVgIGlzIHRydWUuJXMnLCBwcm9wTmFtZSwgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKG93bmVyKSkgOiB2b2lkIDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIUFycmF5LmlzQXJyYXkocHJvcHNbcHJvcE5hbWVdKSwgJ1RoZSBgJXNgIHByb3Agc3VwcGxpZWQgdG8gPHNlbGVjdD4gbXVzdCBiZSBhIHNjYWxhciAnICsgJ3ZhbHVlIGlmIGBtdWx0aXBsZWAgaXMgZmFsc2UuJXMnLCBwcm9wTmFtZSwgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKG93bmVyKSkgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyhpbnN0LCBtdWx0aXBsZSwgcHJvcFZhbHVlKSB7XG4gICAgICB2YXIgc2VsZWN0ZWRWYWx1ZSxcbiAgICAgICAgICBpO1xuICAgICAgdmFyIG9wdGlvbnMgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KS5vcHRpb25zO1xuICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgIHNlbGVjdGVkVmFsdWUgPSB7fTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHNlbGVjdGVkVmFsdWVbJycgKyBwcm9wVmFsdWVbaV1dID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlbGVjdGVkVmFsdWUuaGFzT3duUHJvcGVydHkob3B0aW9uc1tpXS52YWx1ZSk7XG4gICAgICAgICAgaWYgKG9wdGlvbnNbaV0uc2VsZWN0ZWQgIT09IHNlbGVjdGVkKSB7XG4gICAgICAgICAgICBvcHRpb25zW2ldLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxlY3RlZFZhbHVlID0gJycgKyBwcm9wVmFsdWU7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnNbaV0udmFsdWUgPT09IHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgIG9wdGlvbnNbaV0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICBvcHRpb25zWzBdLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgUmVhY3RET01TZWxlY3QgPSB7XG4gICAgICBnZXROYXRpdmVQcm9wczogZnVuY3Rpb24oaW5zdCwgcHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIF9hc3NpZ24oe30sIERpc2FibGVkSW5wdXRVdGlscy5nZXROYXRpdmVQcm9wcyhpbnN0LCBwcm9wcyksIHtcbiAgICAgICAgICBvbkNoYW5nZTogaW5zdC5fd3JhcHBlclN0YXRlLm9uQ2hhbmdlLFxuICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgbW91bnRXcmFwcGVyOiBmdW5jdGlvbihpbnN0LCBwcm9wcykge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNoZWNrU2VsZWN0UHJvcFR5cGVzKGluc3QsIHByb3BzKTtcbiAgICAgICAgICB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gTGlua2VkVmFsdWVVdGlscy5nZXRWYWx1ZShwcm9wcyk7XG4gICAgICAgIGluc3QuX3dyYXBwZXJTdGF0ZSA9IHtcbiAgICAgICAgICBwZW5kaW5nVXBkYXRlOiBmYWxzZSxcbiAgICAgICAgICBpbml0aWFsVmFsdWU6IHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6IHByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICBsaXN0ZW5lcnM6IG51bGwsXG4gICAgICAgICAgb25DaGFuZ2U6IF9oYW5kbGVDaGFuZ2UuYmluZChpbnN0KSxcbiAgICAgICAgICB3YXNNdWx0aXBsZTogQm9vbGVhbihwcm9wcy5tdWx0aXBsZSlcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHByb3BzLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnU2VsZWN0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBzZWxlY3QgJyArICdlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnKSA6IHZvaWQgMDtcbiAgICAgICAgICBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ2V0U2VsZWN0VmFsdWVDb250ZXh0OiBmdW5jdGlvbihpbnN0KSB7XG4gICAgICAgIHJldHVybiBpbnN0Ll93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlO1xuICAgICAgfSxcbiAgICAgIHBvc3RVcGRhdGVXcmFwcGVyOiBmdW5jdGlvbihpbnN0KSB7XG4gICAgICAgIHZhciBwcm9wcyA9IGluc3QuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHdhcm5JZlZhbHVlSXNOdWxsKHByb3BzKTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgd2FzTXVsdGlwbGUgPSBpbnN0Ll93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGU7XG4gICAgICAgIGluc3QuX3dyYXBwZXJTdGF0ZS53YXNNdWx0aXBsZSA9IEJvb2xlYW4ocHJvcHMubXVsdGlwbGUpO1xuICAgICAgICB2YXIgdmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldFZhbHVlKHByb3BzKTtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUucGVuZGluZ1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgIHVwZGF0ZU9wdGlvbnMoaW5zdCwgQm9vbGVhbihwcm9wcy5tdWx0aXBsZSksIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh3YXNNdWx0aXBsZSAhPT0gQm9vbGVhbihwcm9wcy5tdWx0aXBsZSkpIHtcbiAgICAgICAgICBpZiAocHJvcHMuZGVmYXVsdFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHVwZGF0ZU9wdGlvbnMoaW5zdCwgQm9vbGVhbihwcm9wcy5tdWx0aXBsZSksIHByb3BzLmRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZU9wdGlvbnMoaW5zdCwgQm9vbGVhbihwcm9wcy5tdWx0aXBsZSksIHByb3BzLm11bHRpcGxlID8gW10gOiAnJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBfaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLl9jdXJyZW50RWxlbWVudC5wcm9wcztcbiAgICAgIHZhciByZXR1cm5WYWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZXhlY3V0ZU9uQ2hhbmdlKHByb3BzLCBldmVudCk7XG4gICAgICBpZiAodGhpcy5fcm9vdE5vZGVJRCkge1xuICAgICAgICB0aGlzLl93cmFwcGVyU3RhdGUucGVuZGluZ1VwZGF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBSZWFjdFVwZGF0ZXMuYXNhcCh1cGRhdGVPcHRpb25zSWZQZW5kaW5nVXBkYXRlQW5kTW91bnRlZCwgdGhpcyk7XG4gICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01TZWxlY3Q7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjJjXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgZGlzYWJsZWFibGVNb3VzZUxpc3RlbmVyTmFtZXMgPSB7XG4gICAgb25DbGljazogdHJ1ZSxcbiAgICBvbkRvdWJsZUNsaWNrOiB0cnVlLFxuICAgIG9uTW91c2VEb3duOiB0cnVlLFxuICAgIG9uTW91c2VNb3ZlOiB0cnVlLFxuICAgIG9uTW91c2VVcDogdHJ1ZSxcbiAgICBvbkNsaWNrQ2FwdHVyZTogdHJ1ZSxcbiAgICBvbkRvdWJsZUNsaWNrQ2FwdHVyZTogdHJ1ZSxcbiAgICBvbk1vdXNlRG93bkNhcHR1cmU6IHRydWUsXG4gICAgb25Nb3VzZU1vdmVDYXB0dXJlOiB0cnVlLFxuICAgIG9uTW91c2VVcENhcHR1cmU6IHRydWVcbiAgfTtcbiAgdmFyIERpc2FibGVkSW5wdXRVdGlscyA9IHtnZXROYXRpdmVQcm9wczogZnVuY3Rpb24oaW5zdCwgcHJvcHMpIHtcbiAgICAgIGlmICghcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzO1xuICAgICAgfVxuICAgICAgdmFyIG5hdGl2ZVByb3BzID0ge307XG4gICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKCFkaXNhYmxlYWJsZU1vdXNlTGlzdGVuZXJOYW1lc1trZXldICYmIHByb3BzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBuYXRpdmVQcm9wc1trZXldID0gcHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZVByb3BzO1xuICAgIH19O1xuICBtb2R1bGUuZXhwb3J0cyA9IERpc2FibGVkSW5wdXRVdGlscztcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIzNFwiLCBbXCIxYlwiLCBcIjM1XCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRE9NUHJvcGVydHkgPSAkX19yZXF1aXJlKCcxYicpO1xuICAgIHZhciBFdmVudFBsdWdpblJlZ2lzdHJ5ID0gJF9fcmVxdWlyZSgnMzUnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciByZWFjdFByb3BzID0ge1xuICAgICAgICBjaGlsZHJlbjogdHJ1ZSxcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHRydWUsXG4gICAgICAgIGtleTogdHJ1ZSxcbiAgICAgICAgcmVmOiB0cnVlXG4gICAgICB9O1xuICAgICAgdmFyIHdhcm5lZFByb3BlcnRpZXMgPSB7fTtcbiAgICAgIHZhciB3YXJuVW5rbm93blByb3BlcnR5ID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgICBpZiAoRE9NUHJvcGVydHkucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSB8fCBET01Qcm9wZXJ0eS5pc0N1c3RvbUF0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVhY3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiByZWFjdFByb3BzW25hbWVdIHx8IHdhcm5lZFByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgd2FybmVkUHJvcGVydGllc1tuYW1lXSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgdmFyIGxvd2VyQ2FzZWROYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB2YXIgc3RhbmRhcmROYW1lID0gRE9NUHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUobG93ZXJDYXNlZE5hbWUpID8gbG93ZXJDYXNlZE5hbWUgOiBET01Qcm9wZXJ0eS5nZXRQb3NzaWJsZVN0YW5kYXJkTmFtZS5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSkgPyBET01Qcm9wZXJ0eS5nZXRQb3NzaWJsZVN0YW5kYXJkTmFtZVtsb3dlckNhc2VkTmFtZV0gOiBudWxsO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhzdGFuZGFyZE5hbWUgPT0gbnVsbCwgJ1Vua25vd24gRE9NIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gJXM/JywgbmFtZSwgc3RhbmRhcmROYW1lKSA6IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbk5hbWUgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMuaGFzT3duUHJvcGVydHkobG93ZXJDYXNlZE5hbWUpID8gRXZlbnRQbHVnaW5SZWdpc3RyeS5wb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzW2xvd2VyQ2FzZWROYW1lXSA6IG51bGw7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHJlZ2lzdHJhdGlvbk5hbWUgPT0gbnVsbCwgJ1Vua25vd24gZXZlbnQgaGFuZGxlciBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuIGAlc2A/JywgbmFtZSwgcmVnaXN0cmF0aW9uTmFtZSkgOiB2b2lkIDA7XG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgUmVhY3RET01Vbmtub3duUHJvcGVydHlEZXZ0b29sID0ge1xuICAgICAgb25DcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eTogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgICAgd2FyblVua25vd25Qcm9wZXJ0eShuYW1lKTtcbiAgICAgIH0sXG4gICAgICBvblNldFZhbHVlRm9yUHJvcGVydHk6IGZ1bmN0aW9uKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHdhcm5Vbmtub3duUHJvcGVydHkobmFtZSk7XG4gICAgICB9LFxuICAgICAgb25EZWxldGVWYWx1ZUZvclByb3BlcnR5OiBmdW5jdGlvbihub2RlLCBuYW1lKSB7XG4gICAgICAgIHdhcm5Vbmtub3duUHJvcGVydHkobmFtZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NVW5rbm93blByb3BlcnR5RGV2dG9vbDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMzZcIiwgW1wiMzRcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdERPTVVua25vd25Qcm9wZXJ0eURldnRvb2wgPSAkX19yZXF1aXJlKCczNCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgZXZlbnRIYW5kbGVycyA9IFtdO1xuICAgIHZhciBoYW5kbGVyRG9lc1Rocm93Rm9yRXZlbnQgPSB7fTtcbiAgICBmdW5jdGlvbiBlbWl0RXZlbnQoaGFuZGxlckZ1bmN0aW9uTmFtZSwgYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSkge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgZXZlbnRIYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGhhbmRsZXJbaGFuZGxlckZ1bmN0aW9uTmFtZV0pIHtcbiAgICAgICAgICAgICAgaGFuZGxlcltoYW5kbGVyRnVuY3Rpb25OYW1lXShhcmcxLCBhcmcyLCBhcmczLCBhcmc0LCBhcmc1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50W2hhbmRsZXJGdW5jdGlvbk5hbWVdLCAnZXhjZXB0aW9uIHRocm93biBieSBkZXZ0b29sIHdoaWxlIGhhbmRsaW5nICVzOiAlcycsIGhhbmRsZXJGdW5jdGlvbk5hbWUsIGUubWVzc2FnZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICBoYW5kbGVyRG9lc1Rocm93Rm9yRXZlbnRbaGFuZGxlckZ1bmN0aW9uTmFtZV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBSZWFjdERPTURlYnVnVG9vbCA9IHtcbiAgICAgIGFkZERldnRvb2w6IGZ1bmN0aW9uKGRldnRvb2wpIHtcbiAgICAgICAgZXZlbnRIYW5kbGVycy5wdXNoKGRldnRvb2wpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZURldnRvb2w6IGZ1bmN0aW9uKGRldnRvb2wpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudEhhbmRsZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGV2ZW50SGFuZGxlcnNbaV0gPT09IGRldnRvb2wpIHtcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uQ3JlYXRlTWFya3VwRm9yUHJvcGVydHk6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGVtaXRFdmVudCgnb25DcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eScsIG5hbWUsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBvblNldFZhbHVlRm9yUHJvcGVydHk6IGZ1bmN0aW9uKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGVtaXRFdmVudCgnb25TZXRWYWx1ZUZvclByb3BlcnR5Jywgbm9kZSwgbmFtZSwgdmFsdWUpO1xuICAgICAgfSxcbiAgICAgIG9uRGVsZXRlVmFsdWVGb3JQcm9wZXJ0eTogZnVuY3Rpb24obm9kZSwgbmFtZSkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uRGVsZXRlVmFsdWVGb3JQcm9wZXJ0eScsIG5vZGUsIG5hbWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RET01EZWJ1Z1Rvb2wuYWRkRGV2dG9vbChSZWFjdERPTVVua25vd25Qcm9wZXJ0eURldnRvb2wpO1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01EZWJ1Z1Rvb2w7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjM3XCIsIFtcIjM2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgUmVhY3RET01EZWJ1Z1Rvb2wgPSAkX19yZXF1aXJlKCczNicpO1xuICBtb2R1bGUuZXhwb3J0cyA9IHtkZWJ1Z1Rvb2w6IFJlYWN0RE9NRGVidWdUb29sfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIzOFwiLCBbXCIzOVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlciA9ICRfX3JlcXVpcmUoJzM5Jyk7XG4gIGZ1bmN0aW9uIHF1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyKHZhbHVlKSB7XG4gICAgcmV0dXJuICdcIicgKyBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIodmFsdWUpICsgJ1wiJztcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IHF1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjJlXCIsIFtcIjFiXCIsIFwiMTFcIiwgXCIzN1wiLCBcIjI3XCIsIFwiMzhcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBET01Qcm9wZXJ0eSA9ICRfX3JlcXVpcmUoJzFiJyk7XG4gICAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9ICRfX3JlcXVpcmUoJzExJyk7XG4gICAgdmFyIFJlYWN0RE9NSW5zdHJ1bWVudGF0aW9uID0gJF9fcmVxdWlyZSgnMzcnKTtcbiAgICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSAkX19yZXF1aXJlKCcyNycpO1xuICAgIHZhciBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3NlciA9ICRfX3JlcXVpcmUoJzM4Jyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciBWQUxJRF9BVFRSSUJVVEVfTkFNRV9SRUdFWCA9IG5ldyBSZWdFeHAoJ15bJyArIERPTVByb3BlcnR5LkFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVIgKyAnXVsnICsgRE9NUHJvcGVydHkuQVRUUklCVVRFX05BTUVfQ0hBUiArICddKiQnKTtcbiAgICB2YXIgaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZSA9IHt9O1xuICAgIHZhciB2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGUgPSB7fTtcbiAgICBmdW5jdGlvbiBpc0F0dHJpYnV0ZU5hbWVTYWZlKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgIGlmICh2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGUuaGFzT3duUHJvcGVydHkoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZS5oYXNPd25Qcm9wZXJ0eShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoVkFMSURfQVRUUklCVVRFX05BTUVfUkVHRVgudGVzdChhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICB2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGVbYXR0cmlidXRlTmFtZV0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGVbYXR0cmlidXRlTmFtZV0gPSB0cnVlO1xuICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lOiBgJXNgJywgYXR0cmlidXRlTmFtZSkgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3VsZElnbm9yZVZhbHVlKHByb3BlcnR5SW5mbywgdmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsIHx8IHByb3BlcnR5SW5mby5oYXNCb29sZWFuVmFsdWUgJiYgIXZhbHVlIHx8IHByb3BlcnR5SW5mby5oYXNOdW1lcmljVmFsdWUgJiYgaXNOYU4odmFsdWUpIHx8IHByb3BlcnR5SW5mby5oYXNQb3NpdGl2ZU51bWVyaWNWYWx1ZSAmJiB2YWx1ZSA8IDEgfHwgcHJvcGVydHlJbmZvLmhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWUgJiYgdmFsdWUgPT09IGZhbHNlO1xuICAgIH1cbiAgICB2YXIgRE9NUHJvcGVydHlPcGVyYXRpb25zID0ge1xuICAgICAgY3JlYXRlTWFya3VwRm9ySUQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHJldHVybiBET01Qcm9wZXJ0eS5JRF9BVFRSSUJVVEVfTkFNRSArICc9JyArIHF1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyKGlkKTtcbiAgICAgIH0sXG4gICAgICBzZXRBdHRyaWJ1dGVGb3JJRDogZnVuY3Rpb24obm9kZSwgaWQpIHtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoRE9NUHJvcGVydHkuSURfQVRUUklCVVRFX05BTUUsIGlkKTtcbiAgICAgIH0sXG4gICAgICBjcmVhdGVNYXJrdXBGb3JSb290OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIERPTVByb3BlcnR5LlJPT1RfQVRUUklCVVRFX05BTUUgKyAnPVwiXCInO1xuICAgICAgfSxcbiAgICAgIHNldEF0dHJpYnV0ZUZvclJvb3Q6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoRE9NUHJvcGVydHkuUk9PVF9BVFRSSUJVVEVfTkFNRSwgJycpO1xuICAgICAgfSxcbiAgICAgIGNyZWF0ZU1hcmt1cEZvclByb3BlcnR5OiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIFJlYWN0RE9NSW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkNyZWF0ZU1hcmt1cEZvclByb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvcGVydHlJbmZvID0gRE9NUHJvcGVydHkucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IERPTVByb3BlcnR5LnByb3BlcnRpZXNbbmFtZV0gOiBudWxsO1xuICAgICAgICBpZiAocHJvcGVydHlJbmZvKSB7XG4gICAgICAgICAgaWYgKHNob3VsZElnbm9yZVZhbHVlKHByb3BlcnR5SW5mbywgdmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gcHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWU7XG4gICAgICAgICAgaWYgKHByb3BlcnR5SW5mby5oYXNCb29sZWFuVmFsdWUgfHwgcHJvcGVydHlJbmZvLmhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWUgJiYgdmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGVOYW1lICsgJz1cIlwiJztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZU5hbWUgKyAnPScgKyBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3Nlcih2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoRE9NUHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmFtZSArICc9JyArIHF1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0sXG4gICAgICBjcmVhdGVNYXJrdXBGb3JDdXN0b21BdHRyaWJ1dGU6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmICghaXNBdHRyaWJ1dGVOYW1lU2FmZShuYW1lKSB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYW1lICsgJz0nICsgcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXIodmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHNldFZhbHVlRm9yUHJvcGVydHk6IGZ1bmN0aW9uKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0eUluZm8gPSBET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KG5hbWUpID8gRE9NUHJvcGVydHkucHJvcGVydGllc1tuYW1lXSA6IG51bGw7XG4gICAgICAgIGlmIChwcm9wZXJ0eUluZm8pIHtcbiAgICAgICAgICB2YXIgbXV0YXRpb25NZXRob2QgPSBwcm9wZXJ0eUluZm8ubXV0YXRpb25NZXRob2Q7XG4gICAgICAgICAgaWYgKG11dGF0aW9uTWV0aG9kKSB7XG4gICAgICAgICAgICBtdXRhdGlvbk1ldGhvZChub2RlLCB2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaG91bGRJZ25vcmVWYWx1ZShwcm9wZXJ0eUluZm8sIHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5kZWxldGVWYWx1ZUZvclByb3BlcnR5KG5vZGUsIG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlJbmZvLm11c3RVc2VQcm9wZXJ0eSkge1xuICAgICAgICAgICAgdmFyIHByb3BOYW1lID0gcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZTtcbiAgICAgICAgICAgIGlmICghcHJvcGVydHlJbmZvLmhhc1NpZGVFZmZlY3RzIHx8ICcnICsgbm9kZVtwcm9wTmFtZV0gIT09ICcnICsgdmFsdWUpIHtcbiAgICAgICAgICAgICAgbm9kZVtwcm9wTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBwcm9wZXJ0eUluZm8uYXR0cmlidXRlTmFtZTtcbiAgICAgICAgICAgIHZhciBuYW1lc3BhY2UgPSBwcm9wZXJ0eUluZm8uYXR0cmlidXRlTmFtZXNwYWNlO1xuICAgICAgICAgICAgaWYgKG5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZU5TKG5hbWVzcGFjZSwgYXR0cmlidXRlTmFtZSwgJycgKyB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb3BlcnR5SW5mby5oYXNCb29sZWFuVmFsdWUgfHwgcHJvcGVydHlJbmZvLmhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWUgJiYgdmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgJycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgJycgKyB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLnNldFZhbHVlRm9yQXR0cmlidXRlKG5vZGUsIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBSZWFjdERPTUluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRWYWx1ZUZvclByb3BlcnR5KG5vZGUsIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICB2YXIgcGF5bG9hZCA9IHt9O1xuICAgICAgICAgIHBheWxvYWRbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24oUmVhY3RET01Db21wb25lbnRUcmVlLmdldEluc3RhbmNlRnJvbU5vZGUobm9kZSkuX2RlYnVnSUQsICd1cGRhdGUgYXR0cmlidXRlJywgcGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzZXRWYWx1ZUZvckF0dHJpYnV0ZTogZnVuY3Rpb24obm9kZSwgbmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFpc0F0dHJpYnV0ZU5hbWVTYWZlKG5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgJycgKyB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB2YXIgcGF5bG9hZCA9IHt9O1xuICAgICAgICAgIHBheWxvYWRbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24oUmVhY3RET01Db21wb25lbnRUcmVlLmdldEluc3RhbmNlRnJvbU5vZGUobm9kZSkuX2RlYnVnSUQsICd1cGRhdGUgYXR0cmlidXRlJywgcGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkZWxldGVWYWx1ZUZvclByb3BlcnR5OiBmdW5jdGlvbihub2RlLCBuYW1lKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0eUluZm8gPSBET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KG5hbWUpID8gRE9NUHJvcGVydHkucHJvcGVydGllc1tuYW1lXSA6IG51bGw7XG4gICAgICAgIGlmIChwcm9wZXJ0eUluZm8pIHtcbiAgICAgICAgICB2YXIgbXV0YXRpb25NZXRob2QgPSBwcm9wZXJ0eUluZm8ubXV0YXRpb25NZXRob2Q7XG4gICAgICAgICAgaWYgKG11dGF0aW9uTWV0aG9kKSB7XG4gICAgICAgICAgICBtdXRhdGlvbk1ldGhvZChub2RlLCB1bmRlZmluZWQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlJbmZvLm11c3RVc2VQcm9wZXJ0eSkge1xuICAgICAgICAgICAgdmFyIHByb3BOYW1lID0gcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZTtcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eUluZm8uaGFzQm9vbGVhblZhbHVlKSB7XG4gICAgICAgICAgICAgIG5vZGVbcHJvcE5hbWVdID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoIXByb3BlcnR5SW5mby5oYXNTaWRlRWZmZWN0cyB8fCAnJyArIG5vZGVbcHJvcE5hbWVdICE9PSAnJykge1xuICAgICAgICAgICAgICAgIG5vZGVbcHJvcE5hbWVdID0gJyc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUocHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChET01Qcm9wZXJ0eS5pc0N1c3RvbUF0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgUmVhY3RET01JbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRGVsZXRlVmFsdWVGb3JQcm9wZXJ0eShub2RlLCBuYW1lKTtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24oUmVhY3RET01Db21wb25lbnRUcmVlLmdldEluc3RhbmNlRnJvbU5vZGUobm9kZSkuX2RlYnVnSUQsICdyZW1vdmUgYXR0cmlidXRlJywgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gRE9NUHJvcGVydHlPcGVyYXRpb25zO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIyZlwiLCBbXCIzYVwiLCBcIjNiXCIsIFwiMzBcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdFByb3BUeXBlcyA9ICRfX3JlcXVpcmUoJzNhJyk7XG4gICAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMgPSAkX19yZXF1aXJlKCczYicpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgaGFzUmVhZE9ubHlWYWx1ZSA9IHtcbiAgICAgICdidXR0b24nOiB0cnVlLFxuICAgICAgJ2NoZWNrYm94JzogdHJ1ZSxcbiAgICAgICdpbWFnZSc6IHRydWUsXG4gICAgICAnaGlkZGVuJzogdHJ1ZSxcbiAgICAgICdyYWRpbyc6IHRydWUsXG4gICAgICAncmVzZXQnOiB0cnVlLFxuICAgICAgJ3N1Ym1pdCc6IHRydWVcbiAgICB9O1xuICAgIGZ1bmN0aW9uIF9hc3NlcnRTaW5nbGVMaW5rKGlucHV0UHJvcHMpIHtcbiAgICAgICEoaW5wdXRQcm9wcy5jaGVja2VkTGluayA9PSBudWxsIHx8IGlucHV0UHJvcHMudmFsdWVMaW5rID09IG51bGwpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBwcm92aWRlIGEgY2hlY2tlZExpbmsgYW5kIGEgdmFsdWVMaW5rLiBJZiB5b3Ugd2FudCB0byB1c2UgJyArICdjaGVja2VkTGluaywgeW91IHByb2JhYmx5IGRvblxcJ3Qgd2FudCB0byB1c2UgdmFsdWVMaW5rIGFuZCB2aWNlIHZlcnNhLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gX2Fzc2VydFZhbHVlTGluayhpbnB1dFByb3BzKSB7XG4gICAgICBfYXNzZXJ0U2luZ2xlTGluayhpbnB1dFByb3BzKTtcbiAgICAgICEoaW5wdXRQcm9wcy52YWx1ZSA9PSBudWxsICYmIGlucHV0UHJvcHMub25DaGFuZ2UgPT0gbnVsbCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHByb3ZpZGUgYSB2YWx1ZUxpbmsgYW5kIGEgdmFsdWUgb3Igb25DaGFuZ2UgZXZlbnQuIElmIHlvdSB3YW50ICcgKyAndG8gdXNlIHZhbHVlIG9yIG9uQ2hhbmdlLCB5b3UgcHJvYmFibHkgZG9uXFwndCB3YW50IHRvIHVzZSB2YWx1ZUxpbmsuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfYXNzZXJ0Q2hlY2tlZExpbmsoaW5wdXRQcm9wcykge1xuICAgICAgX2Fzc2VydFNpbmdsZUxpbmsoaW5wdXRQcm9wcyk7XG4gICAgICAhKGlucHV0UHJvcHMuY2hlY2tlZCA9PSBudWxsICYmIGlucHV0UHJvcHMub25DaGFuZ2UgPT0gbnVsbCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHByb3ZpZGUgYSBjaGVja2VkTGluayBhbmQgYSBjaGVja2VkIHByb3BlcnR5IG9yIG9uQ2hhbmdlIGV2ZW50LiAnICsgJ0lmIHlvdSB3YW50IHRvIHVzZSBjaGVja2VkIG9yIG9uQ2hhbmdlLCB5b3UgcHJvYmFibHkgZG9uXFwndCB3YW50IHRvICcgKyAndXNlIGNoZWNrZWRMaW5rJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH1cbiAgICB2YXIgcHJvcFR5cGVzID0ge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgICAgICBpZiAoIXByb3BzW3Byb3BOYW1lXSB8fCBoYXNSZWFkT25seVZhbHVlW3Byb3BzLnR5cGVdIHx8IHByb3BzLm9uQ2hhbmdlIHx8IHByb3BzLnJlYWRPbmx5IHx8IHByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignWW91IHByb3ZpZGVkIGEgYHZhbHVlYCBwcm9wIHRvIGEgZm9ybSBmaWVsZCB3aXRob3V0IGFuICcgKyAnYG9uQ2hhbmdlYCBoYW5kbGVyLiBUaGlzIHdpbGwgcmVuZGVyIGEgcmVhZC1vbmx5IGZpZWxkLiBJZiAnICsgJ3RoZSBmaWVsZCBzaG91bGQgYmUgbXV0YWJsZSB1c2UgYGRlZmF1bHRWYWx1ZWAuIE90aGVyd2lzZSwgJyArICdzZXQgZWl0aGVyIGBvbkNoYW5nZWAgb3IgYHJlYWRPbmx5YC4nKTtcbiAgICAgIH0sXG4gICAgICBjaGVja2VkOiBmdW5jdGlvbihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICAgICAgaWYgKCFwcm9wc1twcm9wTmFtZV0gfHwgcHJvcHMub25DaGFuZ2UgfHwgcHJvcHMucmVhZE9ubHkgfHwgcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdZb3UgcHJvdmlkZWQgYSBgY2hlY2tlZGAgcHJvcCB0byBhIGZvcm0gZmllbGQgd2l0aG91dCBhbiAnICsgJ2BvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBmaWVsZC4gSWYgJyArICd0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0Q2hlY2tlZGAuIE90aGVyd2lzZSwgJyArICdzZXQgZWl0aGVyIGBvbkNoYW5nZWAgb3IgYHJlYWRPbmx5YC4nKTtcbiAgICAgIH0sXG4gICAgICBvbkNoYW5nZTogUmVhY3RQcm9wVHlwZXMuZnVuY1xuICAgIH07XG4gICAgdmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuICAgIGZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShvd25lcikge1xuICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgIHZhciBuYW1lID0gb3duZXIuZ2V0TmFtZSgpO1xuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgIHJldHVybiAnIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgdmFyIExpbmtlZFZhbHVlVXRpbHMgPSB7XG4gICAgICBjaGVja1Byb3BUeXBlczogZnVuY3Rpb24odGFnTmFtZSwgcHJvcHMsIG93bmVyKSB7XG4gICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIHByb3BUeXBlcykge1xuICAgICAgICAgIGlmIChwcm9wVHlwZXMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBwcm9wVHlwZXNbcHJvcE5hbWVdKHByb3BzLCBwcm9wTmFtZSwgdGFnTmFtZSwgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5wcm9wKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIShlcnJvci5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvci5tZXNzYWdlXSA9IHRydWU7XG4gICAgICAgICAgICB2YXIgYWRkZW5kdW0gPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0ob3duZXIpO1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdGYWlsZWQgZm9ybSBwcm9wVHlwZTogJXMlcycsIGVycm9yLm1lc3NhZ2UsIGFkZGVuZHVtKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXRWYWx1ZTogZnVuY3Rpb24oaW5wdXRQcm9wcykge1xuICAgICAgICBpZiAoaW5wdXRQcm9wcy52YWx1ZUxpbmspIHtcbiAgICAgICAgICBfYXNzZXJ0VmFsdWVMaW5rKGlucHV0UHJvcHMpO1xuICAgICAgICAgIHJldHVybiBpbnB1dFByb3BzLnZhbHVlTGluay52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5wdXRQcm9wcy52YWx1ZTtcbiAgICAgIH0sXG4gICAgICBnZXRDaGVja2VkOiBmdW5jdGlvbihpbnB1dFByb3BzKSB7XG4gICAgICAgIGlmIChpbnB1dFByb3BzLmNoZWNrZWRMaW5rKSB7XG4gICAgICAgICAgX2Fzc2VydENoZWNrZWRMaW5rKGlucHV0UHJvcHMpO1xuICAgICAgICAgIHJldHVybiBpbnB1dFByb3BzLmNoZWNrZWRMaW5rLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnB1dFByb3BzLmNoZWNrZWQ7XG4gICAgICB9LFxuICAgICAgZXhlY3V0ZU9uQ2hhbmdlOiBmdW5jdGlvbihpbnB1dFByb3BzLCBldmVudCkge1xuICAgICAgICBpZiAoaW5wdXRQcm9wcy52YWx1ZUxpbmspIHtcbiAgICAgICAgICBfYXNzZXJ0VmFsdWVMaW5rKGlucHV0UHJvcHMpO1xuICAgICAgICAgIHJldHVybiBpbnB1dFByb3BzLnZhbHVlTGluay5yZXF1ZXN0Q2hhbmdlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXRQcm9wcy5jaGVja2VkTGluaykge1xuICAgICAgICAgIF9hc3NlcnRDaGVja2VkTGluayhpbnB1dFByb3BzKTtcbiAgICAgICAgICByZXR1cm4gaW5wdXRQcm9wcy5jaGVja2VkTGluay5yZXF1ZXN0Q2hhbmdlKGV2ZW50LnRhcmdldC5jaGVja2VkKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dFByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgcmV0dXJuIGlucHV0UHJvcHMub25DaGFuZ2UuY2FsbCh1bmRlZmluZWQsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBMaW5rZWRWYWx1ZVV0aWxzO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIzY1wiLCBbXCI2XCIsIFwiMmNcIiwgXCIyZVwiLCBcIjJmXCIsIFwiMTFcIiwgXCIxMlwiLCBcIjMwXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgICB2YXIgRGlzYWJsZWRJbnB1dFV0aWxzID0gJF9fcmVxdWlyZSgnMmMnKTtcbiAgICB2YXIgRE9NUHJvcGVydHlPcGVyYXRpb25zID0gJF9fcmVxdWlyZSgnMmUnKTtcbiAgICB2YXIgTGlua2VkVmFsdWVVdGlscyA9ICRfX3JlcXVpcmUoJzJmJyk7XG4gICAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9ICRfX3JlcXVpcmUoJzExJyk7XG4gICAgdmFyIFJlYWN0VXBkYXRlcyA9ICRfX3JlcXVpcmUoJzEyJyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciBkaWRXYXJuVmFsdWVMaW5rID0gZmFsc2U7XG4gICAgdmFyIGRpZFdhcm5WYWx1ZU51bGwgPSBmYWxzZTtcbiAgICB2YXIgZGlkV2FyblZhbERlZmF1bHRWYWwgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBmb3JjZVVwZGF0ZUlmTW91bnRlZCgpIHtcbiAgICAgIGlmICh0aGlzLl9yb290Tm9kZUlEKSB7XG4gICAgICAgIFJlYWN0RE9NVGV4dGFyZWEudXBkYXRlV3JhcHBlcih0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybklmVmFsdWVJc051bGwocHJvcHMpIHtcbiAgICAgIGlmIChwcm9wcyAhPSBudWxsICYmIHByb3BzLnZhbHVlID09PSBudWxsICYmICFkaWRXYXJuVmFsdWVOdWxsKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYHZhbHVlYCBwcm9wIG9uIGB0ZXh0YXJlYWAgc2hvdWxkIG5vdCBiZSBudWxsLiAnICsgJ0NvbnNpZGVyIHVzaW5nIHRoZSBlbXB0eSBzdHJpbmcgdG8gY2xlYXIgdGhlIGNvbXBvbmVudCBvciBgdW5kZWZpbmVkYCAnICsgJ2ZvciB1bmNvbnRyb2xsZWQgY29tcG9uZW50cy4nKSA6IHZvaWQgMDtcbiAgICAgICAgZGlkV2FyblZhbHVlTnVsbCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBSZWFjdERPTVRleHRhcmVhID0ge1xuICAgICAgZ2V0TmF0aXZlUHJvcHM6IGZ1bmN0aW9uKGluc3QsIHByb3BzKSB7XG4gICAgICAgICEocHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgPT0gbnVsbCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYCBkb2VzIG5vdCBtYWtlIHNlbnNlIG9uIDx0ZXh0YXJlYT4uJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB2YXIgbmF0aXZlUHJvcHMgPSBfYXNzaWduKHt9LCBEaXNhYmxlZElucHV0VXRpbHMuZ2V0TmF0aXZlUHJvcHMoaW5zdCwgcHJvcHMpLCB7XG4gICAgICAgICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICBjaGlsZHJlbjogaW5zdC5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSxcbiAgICAgICAgICBvbkNoYW5nZTogaW5zdC5fd3JhcHBlclN0YXRlLm9uQ2hhbmdlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmF0aXZlUHJvcHM7XG4gICAgICB9LFxuICAgICAgbW91bnRXcmFwcGVyOiBmdW5jdGlvbihpbnN0LCBwcm9wcykge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIExpbmtlZFZhbHVlVXRpbHMuY2hlY2tQcm9wVHlwZXMoJ3RleHRhcmVhJywgcHJvcHMsIGluc3QuX2N1cnJlbnRFbGVtZW50Ll9vd25lcik7XG4gICAgICAgICAgaWYgKHByb3BzLnZhbHVlTGluayAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuVmFsdWVMaW5rKSB7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2B2YWx1ZUxpbmtgIHByb3Agb24gYHRleHRhcmVhYCBpcyBkZXByZWNhdGVkOyBzZXQgYHZhbHVlYCBhbmQgYG9uQ2hhbmdlYCBpbnN0ZWFkLicpIDogdm9pZCAwO1xuICAgICAgICAgICAgZGlkV2FyblZhbHVlTGluayA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuVmFsRGVmYXVsdFZhbCkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdUZXh0YXJlYSBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAnICsgJyhzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90ICcgKyAnYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgdGV4dGFyZWEgJyArICdhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy4gTW9yZSBpbmZvOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzJykgOiB2b2lkIDA7XG4gICAgICAgICAgICBkaWRXYXJuVmFsRGVmYXVsdFZhbCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdhcm5JZlZhbHVlSXNOdWxsKHByb3BzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGNoaWxkcmVuICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdVc2UgdGhlIGBkZWZhdWx0VmFsdWVgIG9yIGB2YWx1ZWAgcHJvcHMgaW5zdGVhZCBvZiBzZXR0aW5nICcgKyAnY2hpbGRyZW4gb24gPHRleHRhcmVhPi4nKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgIShkZWZhdWx0VmFsdWUgPT0gbnVsbCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnSWYgeW91IHN1cHBseSBgZGVmYXVsdFZhbHVlYCBvbiBhIDx0ZXh0YXJlYT4sIGRvIG5vdCBwYXNzIGNoaWxkcmVuLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgICEoY2hpbGRyZW4ubGVuZ3RoIDw9IDEpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJzx0ZXh0YXJlYT4gY2FuIG9ubHkgaGF2ZSBhdCBtb3N0IG9uZSBjaGlsZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0VmFsdWUgPSAnJyArIGNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZhdWx0VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUgPSB7XG4gICAgICAgICAgaW5pdGlhbFZhbHVlOiAnJyArICh2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBkZWZhdWx0VmFsdWUpLFxuICAgICAgICAgIGxpc3RlbmVyczogbnVsbCxcbiAgICAgICAgICBvbkNoYW5nZTogX2hhbmRsZUNoYW5nZS5iaW5kKGluc3QpXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgdXBkYXRlV3JhcHBlcjogZnVuY3Rpb24oaW5zdCkge1xuICAgICAgICB2YXIgcHJvcHMgPSBpbnN0Ll9jdXJyZW50RWxlbWVudC5wcm9wcztcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gTGlua2VkVmFsdWVVdGlscy5nZXRWYWx1ZShwcm9wcyk7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLnNldFZhbHVlRm9yUHJvcGVydHkoUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCksICd2YWx1ZScsICcnICsgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBfaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLl9jdXJyZW50RWxlbWVudC5wcm9wcztcbiAgICAgIHZhciByZXR1cm5WYWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZXhlY3V0ZU9uQ2hhbmdlKHByb3BzLCBldmVudCk7XG4gICAgICBSZWFjdFVwZGF0ZXMuYXNhcChmb3JjZVVwZGF0ZUlmTW91bnRlZCwgdGhpcyk7XG4gICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01UZXh0YXJlYTtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiM2RcIiwgW1wiM2VcIiwgXCIzZlwiLCBcIjQwXCIsIFwiNDFcIiwgXCI0MlwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJlYWN0UmVjb25jaWxlciA9ICRfX3JlcXVpcmUoJzNlJyk7XG4gICAgdmFyIGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQgPSAkX19yZXF1aXJlKCczZicpO1xuICAgIHZhciBLZXlFc2NhcGVVdGlscyA9ICRfX3JlcXVpcmUoJzQwJyk7XG4gICAgdmFyIHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50ID0gJF9fcmVxdWlyZSgnNDEnKTtcbiAgICB2YXIgdHJhdmVyc2VBbGxDaGlsZHJlbiA9ICRfX3JlcXVpcmUoJzQyJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIGZ1bmN0aW9uIGluc3RhbnRpYXRlQ2hpbGQoY2hpbGRJbnN0YW5jZXMsIGNoaWxkLCBuYW1lKSB7XG4gICAgICB2YXIga2V5VW5pcXVlID0gY2hpbGRJbnN0YW5jZXNbbmFtZV0gPT09IHVuZGVmaW5lZDtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGtleVVuaXF1ZSwgJ2ZsYXR0ZW5DaGlsZHJlbiguLi4pOiBFbmNvdW50ZXJlZCB0d28gY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSBrZXksICcgKyAnYCVzYC4gQ2hpbGQga2V5cyBtdXN0IGJlIHVuaXF1ZTsgd2hlbiB0d28gY2hpbGRyZW4gc2hhcmUgYSBrZXksIG9ubHkgJyArICd0aGUgZmlyc3QgY2hpbGQgd2lsbCBiZSB1c2VkLicsIEtleUVzY2FwZVV0aWxzLnVuZXNjYXBlKG5hbWUpKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGlmIChjaGlsZCAhPSBudWxsICYmIGtleVVuaXF1ZSkge1xuICAgICAgICBjaGlsZEluc3RhbmNlc1tuYW1lXSA9IGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQoY2hpbGQpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgUmVhY3RDaGlsZFJlY29uY2lsZXIgPSB7XG4gICAgICBpbnN0YW50aWF0ZUNoaWxkcmVuOiBmdW5jdGlvbihuZXN0ZWRDaGlsZE5vZGVzLCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgICBpZiAobmVzdGVkQ2hpbGROb2RlcyA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoaWxkSW5zdGFuY2VzID0ge307XG4gICAgICAgIHRyYXZlcnNlQWxsQ2hpbGRyZW4obmVzdGVkQ2hpbGROb2RlcywgaW5zdGFudGlhdGVDaGlsZCwgY2hpbGRJbnN0YW5jZXMpO1xuICAgICAgICByZXR1cm4gY2hpbGRJbnN0YW5jZXM7XG4gICAgICB9LFxuICAgICAgdXBkYXRlQ2hpbGRyZW46IGZ1bmN0aW9uKHByZXZDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCByZW1vdmVkTm9kZXMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgIGlmICghbmV4dENoaWxkcmVuICYmICFwcmV2Q2hpbGRyZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5hbWU7XG4gICAgICAgIHZhciBwcmV2Q2hpbGQ7XG4gICAgICAgIGZvciAobmFtZSBpbiBuZXh0Q2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAoIW5leHRDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByZXZDaGlsZCA9IHByZXZDaGlsZHJlbiAmJiBwcmV2Q2hpbGRyZW5bbmFtZV07XG4gICAgICAgICAgdmFyIHByZXZFbGVtZW50ID0gcHJldkNoaWxkICYmIHByZXZDaGlsZC5fY3VycmVudEVsZW1lbnQ7XG4gICAgICAgICAgdmFyIG5leHRFbGVtZW50ID0gbmV4dENoaWxkcmVuW25hbWVdO1xuICAgICAgICAgIGlmIChwcmV2Q2hpbGQgIT0gbnVsbCAmJiBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudChwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQpKSB7XG4gICAgICAgICAgICBSZWFjdFJlY29uY2lsZXIucmVjZWl2ZUNvbXBvbmVudChwcmV2Q2hpbGQsIG5leHRFbGVtZW50LCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgICAgICBuZXh0Q2hpbGRyZW5bbmFtZV0gPSBwcmV2Q2hpbGQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwcmV2Q2hpbGQpIHtcbiAgICAgICAgICAgICAgcmVtb3ZlZE5vZGVzW25hbWVdID0gUmVhY3RSZWNvbmNpbGVyLmdldE5hdGl2ZU5vZGUocHJldkNoaWxkKTtcbiAgICAgICAgICAgICAgUmVhY3RSZWNvbmNpbGVyLnVubW91bnRDb21wb25lbnQocHJldkNoaWxkLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbmV4dENoaWxkSW5zdGFuY2UgPSBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50KG5leHRFbGVtZW50KTtcbiAgICAgICAgICAgIG5leHRDaGlsZHJlbltuYW1lXSA9IG5leHRDaGlsZEluc3RhbmNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKG5hbWUgaW4gcHJldkNoaWxkcmVuKSB7XG4gICAgICAgICAgaWYgKHByZXZDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiAhKG5leHRDaGlsZHJlbiAmJiBuZXh0Q2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkpKSB7XG4gICAgICAgICAgICBwcmV2Q2hpbGQgPSBwcmV2Q2hpbGRyZW5bbmFtZV07XG4gICAgICAgICAgICByZW1vdmVkTm9kZXNbbmFtZV0gPSBSZWFjdFJlY29uY2lsZXIuZ2V0TmF0aXZlTm9kZShwcmV2Q2hpbGQpO1xuICAgICAgICAgICAgUmVhY3RSZWNvbmNpbGVyLnVubW91bnRDb21wb25lbnQocHJldkNoaWxkLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdW5tb3VudENoaWxkcmVuOiBmdW5jdGlvbihyZW5kZXJlZENoaWxkcmVuLCBzYWZlbHkpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiByZW5kZXJlZENoaWxkcmVuKSB7XG4gICAgICAgICAgaWYgKHJlbmRlcmVkQ2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJlZENoaWxkID0gcmVuZGVyZWRDaGlsZHJlbltuYW1lXTtcbiAgICAgICAgICAgIFJlYWN0UmVjb25jaWxlci51bm1vdW50Q29tcG9uZW50KHJlbmRlcmVkQ2hpbGQsIHNhZmVseSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q2hpbGRSZWNvbmNpbGVyO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI0M1wiLCBbXCI0MFwiLCBcIjQyXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgS2V5RXNjYXBlVXRpbHMgPSAkX19yZXF1aXJlKCc0MCcpO1xuICAgIHZhciB0cmF2ZXJzZUFsbENoaWxkcmVuID0gJF9fcmVxdWlyZSgnNDInKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgZnVuY3Rpb24gZmxhdHRlblNpbmdsZUNoaWxkSW50b0NvbnRleHQodHJhdmVyc2VDb250ZXh0LCBjaGlsZCwgbmFtZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRyYXZlcnNlQ29udGV4dDtcbiAgICAgIHZhciBrZXlVbmlxdWUgPSByZXN1bHRbbmFtZV0gPT09IHVuZGVmaW5lZDtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGtleVVuaXF1ZSwgJ2ZsYXR0ZW5DaGlsZHJlbiguLi4pOiBFbmNvdW50ZXJlZCB0d28gY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSBrZXksICcgKyAnYCVzYC4gQ2hpbGQga2V5cyBtdXN0IGJlIHVuaXF1ZTsgd2hlbiB0d28gY2hpbGRyZW4gc2hhcmUgYSBrZXksIG9ubHkgJyArICd0aGUgZmlyc3QgY2hpbGQgd2lsbCBiZSB1c2VkLicsIEtleUVzY2FwZVV0aWxzLnVuZXNjYXBlKG5hbWUpKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGlmIChrZXlVbmlxdWUgJiYgY2hpbGQgIT0gbnVsbCkge1xuICAgICAgICByZXN1bHRbbmFtZV0gPSBjaGlsZDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZmxhdHRlbkNoaWxkcmVuKGNoaWxkcmVuKSB7XG4gICAgICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBmbGF0dGVuU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCwgcmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZmxhdHRlbkNoaWxkcmVuO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI0NFwiLCBbXCI0NVwiLCBcIjI3XCIsIFwiNDZcIiwgXCI0N1wiLCBcIjNlXCIsIFwiM2RcIiwgXCI0OFwiLCBcIjQzXCIsIFwiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudCA9ICRfX3JlcXVpcmUoJzQ1Jyk7XG4gICAgdmFyIFJlYWN0SW5zdHJ1bWVudGF0aW9uID0gJF9fcmVxdWlyZSgnMjcnKTtcbiAgICB2YXIgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMgPSAkX19yZXF1aXJlKCc0NicpO1xuICAgIHZhciBSZWFjdEN1cnJlbnRPd25lciA9ICRfX3JlcXVpcmUoJzQ3Jyk7XG4gICAgdmFyIFJlYWN0UmVjb25jaWxlciA9ICRfX3JlcXVpcmUoJzNlJyk7XG4gICAgdmFyIFJlYWN0Q2hpbGRSZWNvbmNpbGVyID0gJF9fcmVxdWlyZSgnM2QnKTtcbiAgICB2YXIgZW1wdHlGdW5jdGlvbiA9ICRfX3JlcXVpcmUoJzQ4Jyk7XG4gICAgdmFyIGZsYXR0ZW5DaGlsZHJlbiA9ICRfX3JlcXVpcmUoJzQzJyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgZnVuY3Rpb24gbWFrZUluc2VydE1hcmt1cChtYXJrdXAsIGFmdGVyTm9kZSwgdG9JbmRleCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuSU5TRVJUX01BUktVUCxcbiAgICAgICAgY29udGVudDogbWFya3VwLFxuICAgICAgICBmcm9tSW5kZXg6IG51bGwsXG4gICAgICAgIGZyb21Ob2RlOiBudWxsLFxuICAgICAgICB0b0luZGV4OiB0b0luZGV4LFxuICAgICAgICBhZnRlck5vZGU6IGFmdGVyTm9kZVxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFrZU1vdmUoY2hpbGQsIGFmdGVyTm9kZSwgdG9JbmRleCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuTU9WRV9FWElTVElORyxcbiAgICAgICAgY29udGVudDogbnVsbCxcbiAgICAgICAgZnJvbUluZGV4OiBjaGlsZC5fbW91bnRJbmRleCxcbiAgICAgICAgZnJvbU5vZGU6IFJlYWN0UmVjb25jaWxlci5nZXROYXRpdmVOb2RlKGNoaWxkKSxcbiAgICAgICAgdG9JbmRleDogdG9JbmRleCxcbiAgICAgICAgYWZ0ZXJOb2RlOiBhZnRlck5vZGVcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1ha2VSZW1vdmUoY2hpbGQsIG5vZGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLlJFTU9WRV9OT0RFLFxuICAgICAgICBjb250ZW50OiBudWxsLFxuICAgICAgICBmcm9tSW5kZXg6IGNoaWxkLl9tb3VudEluZGV4LFxuICAgICAgICBmcm9tTm9kZTogbm9kZSxcbiAgICAgICAgdG9JbmRleDogbnVsbCxcbiAgICAgICAgYWZ0ZXJOb2RlOiBudWxsXG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYWtlU2V0TWFya3VwKG1hcmt1cCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuU0VUX01BUktVUCxcbiAgICAgICAgY29udGVudDogbWFya3VwLFxuICAgICAgICBmcm9tSW5kZXg6IG51bGwsXG4gICAgICAgIGZyb21Ob2RlOiBudWxsLFxuICAgICAgICB0b0luZGV4OiBudWxsLFxuICAgICAgICBhZnRlck5vZGU6IG51bGxcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1ha2VUZXh0Q29udGVudCh0ZXh0Q29udGVudCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuVEVYVF9DT05URU5ULFxuICAgICAgICBjb250ZW50OiB0ZXh0Q29udGVudCxcbiAgICAgICAgZnJvbUluZGV4OiBudWxsLFxuICAgICAgICBmcm9tTm9kZTogbnVsbCxcbiAgICAgICAgdG9JbmRleDogbnVsbCxcbiAgICAgICAgYWZ0ZXJOb2RlOiBudWxsXG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKHF1ZXVlLCB1cGRhdGUpIHtcbiAgICAgIGlmICh1cGRhdGUpIHtcbiAgICAgICAgcXVldWUgPSBxdWV1ZSB8fCBbXTtcbiAgICAgICAgcXVldWUucHVzaCh1cGRhdGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHF1ZXVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9jZXNzUXVldWUoaW5zdCwgdXBkYXRlUXVldWUpIHtcbiAgICAgIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQucHJvY2Vzc0NoaWxkcmVuVXBkYXRlcyhpbnN0LCB1cGRhdGVRdWV1ZSk7XG4gICAgfVxuICAgIHZhciBzZXRDaGlsZHJlbkZvckluc3RydW1lbnRhdGlvbiA9IGVtcHR5RnVuY3Rpb247XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHNldENoaWxkcmVuRm9ySW5zdHJ1bWVudGF0aW9uID0gZnVuY3Rpb24oY2hpbGRyZW4pIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uU2V0Q2hpbGRyZW4odGhpcy5fZGVidWdJRCwgY2hpbGRyZW4gPyBPYmplY3Qua2V5cyhjaGlsZHJlbikubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHJldHVybiBjaGlsZHJlbltrZXldLl9kZWJ1Z0lEO1xuICAgICAgICB9KSA6IFtdKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHZhciBSZWFjdE11bHRpQ2hpbGQgPSB7TWl4aW46IHtcbiAgICAgICAgX3JlY29uY2lsZXJJbnN0YW50aWF0ZUNoaWxkcmVuOiBmdW5jdGlvbihuZXN0ZWRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3RDaGlsZFJlY29uY2lsZXIuaW5zdGFudGlhdGVDaGlsZHJlbihuZXN0ZWRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBSZWFjdENoaWxkUmVjb25jaWxlci5pbnN0YW50aWF0ZUNoaWxkcmVuKG5lc3RlZENoaWxkcmVuLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIH0sXG4gICAgICAgIF9yZWNvbmNpbGVyVXBkYXRlQ2hpbGRyZW46IGZ1bmN0aW9uKHByZXZDaGlsZHJlbiwgbmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMsIHJlbW92ZWROb2RlcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgICB2YXIgbmV4dENoaWxkcmVuO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgICAgICAgICAgIG5leHRDaGlsZHJlbiA9IGZsYXR0ZW5DaGlsZHJlbihuZXh0TmVzdGVkQ2hpbGRyZW5FbGVtZW50cyk7XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgUmVhY3RDaGlsZFJlY29uY2lsZXIudXBkYXRlQ2hpbGRyZW4ocHJldkNoaWxkcmVuLCBuZXh0Q2hpbGRyZW4sIHJlbW92ZWROb2RlcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dENoaWxkcmVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0Q2hpbGRyZW4gPSBmbGF0dGVuQ2hpbGRyZW4obmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMpO1xuICAgICAgICAgIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLnVwZGF0ZUNoaWxkcmVuKHByZXZDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCByZW1vdmVkTm9kZXMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgICByZXR1cm4gbmV4dENoaWxkcmVuO1xuICAgICAgICB9LFxuICAgICAgICBtb3VudENoaWxkcmVuOiBmdW5jdGlvbihuZXN0ZWRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLl9yZWNvbmNpbGVySW5zdGFudGlhdGVDaGlsZHJlbihuZXN0ZWRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICAgIHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgICB2YXIgbW91bnRJbWFnZXMgPSBbXTtcbiAgICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltuYW1lXTtcbiAgICAgICAgICAgICAgdmFyIG1vdW50SW1hZ2UgPSBSZWFjdFJlY29uY2lsZXIubW91bnRDb21wb25lbnQoY2hpbGQsIHRyYW5zYWN0aW9uLCB0aGlzLCB0aGlzLl9uYXRpdmVDb250YWluZXJJbmZvLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgY2hpbGQuX21vdW50SW5kZXggPSBpbmRleCsrO1xuICAgICAgICAgICAgICBtb3VudEltYWdlcy5wdXNoKG1vdW50SW1hZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgc2V0Q2hpbGRyZW5Gb3JJbnN0cnVtZW50YXRpb24uY2FsbCh0aGlzLCBjaGlsZHJlbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBtb3VudEltYWdlcztcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlVGV4dENvbnRlbnQ6IGZ1bmN0aW9uKG5leHRDb250ZW50KSB7XG4gICAgICAgICAgdmFyIHByZXZDaGlsZHJlbiA9IHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW47XG4gICAgICAgICAgUmVhY3RDaGlsZFJlY29uY2lsZXIudW5tb3VudENoaWxkcmVuKHByZXZDaGlsZHJlbiwgZmFsc2UpO1xuICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gcHJldkNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAocHJldkNoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICFmYWxzZSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGVUZXh0Q29udGVudCBjYWxsZWQgb24gbm9uLWVtcHR5IGNvbXBvbmVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB1cGRhdGVzID0gW21ha2VUZXh0Q29udGVudChuZXh0Q29udGVudCldO1xuICAgICAgICAgIHByb2Nlc3NRdWV1ZSh0aGlzLCB1cGRhdGVzKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlTWFya3VwOiBmdW5jdGlvbihuZXh0TWFya3VwKSB7XG4gICAgICAgICAgdmFyIHByZXZDaGlsZHJlbiA9IHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW47XG4gICAgICAgICAgUmVhY3RDaGlsZFJlY29uY2lsZXIudW5tb3VudENoaWxkcmVuKHByZXZDaGlsZHJlbiwgZmFsc2UpO1xuICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gcHJldkNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAocHJldkNoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICFmYWxzZSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd1cGRhdGVUZXh0Q29udGVudCBjYWxsZWQgb24gbm9uLWVtcHR5IGNvbXBvbmVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB1cGRhdGVzID0gW21ha2VTZXRNYXJrdXAobmV4dE1hcmt1cCldO1xuICAgICAgICAgIHByb2Nlc3NRdWV1ZSh0aGlzLCB1cGRhdGVzKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlQ2hpbGRyZW46IGZ1bmN0aW9uKG5leHROZXN0ZWRDaGlsZHJlbkVsZW1lbnRzLCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgICAgIHRoaXMuX3VwZGF0ZUNoaWxkcmVuKG5leHROZXN0ZWRDaGlsZHJlbkVsZW1lbnRzLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIH0sXG4gICAgICAgIF91cGRhdGVDaGlsZHJlbjogZnVuY3Rpb24obmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgICAgdmFyIHByZXZDaGlsZHJlbiA9IHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW47XG4gICAgICAgICAgdmFyIHJlbW92ZWROb2RlcyA9IHt9O1xuICAgICAgICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB0aGlzLl9yZWNvbmNpbGVyVXBkYXRlQ2hpbGRyZW4ocHJldkNoaWxkcmVuLCBuZXh0TmVzdGVkQ2hpbGRyZW5FbGVtZW50cywgcmVtb3ZlZE5vZGVzLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKCFuZXh0Q2hpbGRyZW4gJiYgIXByZXZDaGlsZHJlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdXBkYXRlcyA9IG51bGw7XG4gICAgICAgICAgdmFyIG5hbWU7XG4gICAgICAgICAgdmFyIGxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgdmFyIG5leHRJbmRleCA9IDA7XG4gICAgICAgICAgdmFyIGxhc3RQbGFjZWROb2RlID0gbnVsbDtcbiAgICAgICAgICBmb3IgKG5hbWUgaW4gbmV4dENoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoIW5leHRDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcmV2Q2hpbGQgPSBwcmV2Q2hpbGRyZW4gJiYgcHJldkNoaWxkcmVuW25hbWVdO1xuICAgICAgICAgICAgdmFyIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltuYW1lXTtcbiAgICAgICAgICAgIGlmIChwcmV2Q2hpbGQgPT09IG5leHRDaGlsZCkge1xuICAgICAgICAgICAgICB1cGRhdGVzID0gZW5xdWV1ZSh1cGRhdGVzLCB0aGlzLm1vdmVDaGlsZChwcmV2Q2hpbGQsIGxhc3RQbGFjZWROb2RlLCBuZXh0SW5kZXgsIGxhc3RJbmRleCkpO1xuICAgICAgICAgICAgICBsYXN0SW5kZXggPSBNYXRoLm1heChwcmV2Q2hpbGQuX21vdW50SW5kZXgsIGxhc3RJbmRleCk7XG4gICAgICAgICAgICAgIHByZXZDaGlsZC5fbW91bnRJbmRleCA9IG5leHRJbmRleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChwcmV2Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBsYXN0SW5kZXggPSBNYXRoLm1heChwcmV2Q2hpbGQuX21vdW50SW5kZXgsIGxhc3RJbmRleCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdXBkYXRlcyA9IGVucXVldWUodXBkYXRlcywgdGhpcy5fbW91bnRDaGlsZEF0SW5kZXgobmV4dENoaWxkLCBsYXN0UGxhY2VkTm9kZSwgbmV4dEluZGV4LCB0cmFuc2FjdGlvbiwgY29udGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dEluZGV4Kys7XG4gICAgICAgICAgICBsYXN0UGxhY2VkTm9kZSA9IFJlYWN0UmVjb25jaWxlci5nZXROYXRpdmVOb2RlKG5leHRDaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAobmFtZSBpbiByZW1vdmVkTm9kZXMpIHtcbiAgICAgICAgICAgIGlmIChyZW1vdmVkTm9kZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgdXBkYXRlcyA9IGVucXVldWUodXBkYXRlcywgdGhpcy5fdW5tb3VudENoaWxkKHByZXZDaGlsZHJlbltuYW1lXSwgcmVtb3ZlZE5vZGVzW25hbWVdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh1cGRhdGVzKSB7XG4gICAgICAgICAgICBwcm9jZXNzUXVldWUodGhpcywgdXBkYXRlcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW4gPSBuZXh0Q2hpbGRyZW47XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHNldENoaWxkcmVuRm9ySW5zdHJ1bWVudGF0aW9uLmNhbGwodGhpcywgbmV4dENoaWxkcmVuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVubW91bnRDaGlsZHJlbjogZnVuY3Rpb24oc2FmZWx5KSB7XG4gICAgICAgICAgdmFyIHJlbmRlcmVkQ2hpbGRyZW4gPSB0aGlzLl9yZW5kZXJlZENoaWxkcmVuO1xuICAgICAgICAgIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLnVubW91bnRDaGlsZHJlbihyZW5kZXJlZENoaWxkcmVuLCBzYWZlbHkpO1xuICAgICAgICAgIHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW4gPSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBtb3ZlQ2hpbGQ6IGZ1bmN0aW9uKGNoaWxkLCBhZnRlck5vZGUsIHRvSW5kZXgsIGxhc3RJbmRleCkge1xuICAgICAgICAgIGlmIChjaGlsZC5fbW91bnRJbmRleCA8IGxhc3RJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VNb3ZlKGNoaWxkLCBhZnRlck5vZGUsIHRvSW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlQ2hpbGQ6IGZ1bmN0aW9uKGNoaWxkLCBhZnRlck5vZGUsIG1vdW50SW1hZ2UpIHtcbiAgICAgICAgICByZXR1cm4gbWFrZUluc2VydE1hcmt1cChtb3VudEltYWdlLCBhZnRlck5vZGUsIGNoaWxkLl9tb3VudEluZGV4KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlQ2hpbGQ6IGZ1bmN0aW9uKGNoaWxkLCBub2RlKSB7XG4gICAgICAgICAgcmV0dXJuIG1ha2VSZW1vdmUoY2hpbGQsIG5vZGUpO1xuICAgICAgICB9LFxuICAgICAgICBfbW91bnRDaGlsZEF0SW5kZXg6IGZ1bmN0aW9uKGNoaWxkLCBhZnRlck5vZGUsIGluZGV4LCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgICAgIHZhciBtb3VudEltYWdlID0gUmVhY3RSZWNvbmNpbGVyLm1vdW50Q29tcG9uZW50KGNoaWxkLCB0cmFuc2FjdGlvbiwgdGhpcywgdGhpcy5fbmF0aXZlQ29udGFpbmVySW5mbywgY29udGV4dCk7XG4gICAgICAgICAgY2hpbGQuX21vdW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDaGlsZChjaGlsZCwgYWZ0ZXJOb2RlLCBtb3VudEltYWdlKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3VubW91bnRDaGlsZDogZnVuY3Rpb24oY2hpbGQsIG5vZGUpIHtcbiAgICAgICAgICB2YXIgdXBkYXRlID0gdGhpcy5yZW1vdmVDaGlsZChjaGlsZCwgbm9kZSk7XG4gICAgICAgICAgY2hpbGQuX21vdW50SW5kZXggPSBudWxsO1xuICAgICAgICAgIHJldHVybiB1cGRhdGU7XG4gICAgICAgIH1cbiAgICAgIH19O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RNdWx0aUNoaWxkO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI0OVwiLCBbXCI2XCIsIFwiNFwiLCBcIjRhXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgdmFyIFBvb2xlZENsYXNzID0gJF9fcmVxdWlyZSgnNCcpO1xuICB2YXIgVHJhbnNhY3Rpb24gPSAkX19yZXF1aXJlKCc0YScpO1xuICB2YXIgVFJBTlNBQ1RJT05fV1JBUFBFUlMgPSBbXTtcbiAgdmFyIG5vb3BDYWxsYmFja1F1ZXVlID0ge2VucXVldWU6IGZ1bmN0aW9uKCkge319O1xuICBmdW5jdGlvbiBSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uKHJlbmRlclRvU3RhdGljTWFya3VwKSB7XG4gICAgdGhpcy5yZWluaXRpYWxpemVUcmFuc2FjdGlvbigpO1xuICAgIHRoaXMucmVuZGVyVG9TdGF0aWNNYXJrdXAgPSByZW5kZXJUb1N0YXRpY01hcmt1cDtcbiAgICB0aGlzLnVzZUNyZWF0ZUVsZW1lbnQgPSBmYWxzZTtcbiAgfVxuICB2YXIgTWl4aW4gPSB7XG4gICAgZ2V0VHJhbnNhY3Rpb25XcmFwcGVyczogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gVFJBTlNBQ1RJT05fV1JBUFBFUlM7XG4gICAgfSxcbiAgICBnZXRSZWFjdE1vdW50UmVhZHk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5vb3BDYWxsYmFja1F1ZXVlO1xuICAgIH0sXG4gICAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7fSxcbiAgICBjaGVja3BvaW50OiBmdW5jdGlvbigpIHt9LFxuICAgIHJvbGxiYWNrOiBmdW5jdGlvbigpIHt9XG4gIH07XG4gIF9hc3NpZ24oUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFRyYW5zYWN0aW9uLk1peGluLCBNaXhpbik7XG4gIFBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjRiXCIsIFtcIjZcIiwgXCIxY1wiLCBcIjI2XCIsIFwiNGNcIiwgXCI0ZFwiLCBcIjFiXCIsIFwiMmVcIiwgXCJiXCIsIFwiMTBcIiwgXCIzNVwiLCBcIjRlXCIsIFwiMmFcIiwgXCIyYlwiLCBcIjRmXCIsIFwiMTFcIiwgXCIyZFwiLCBcIjMxXCIsIFwiMzNcIiwgXCIzY1wiLCBcIjI3XCIsIFwiNDRcIiwgXCI0OVwiLCBcIjQ4XCIsIFwiMzlcIiwgXCIzMFwiLCBcIjE0XCIsIFwiZVwiLCBcIjUxXCIsIFwiNTBcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICAgIHZhciBBdXRvRm9jdXNVdGlscyA9ICRfX3JlcXVpcmUoJzFjJyk7XG4gICAgdmFyIENTU1Byb3BlcnR5T3BlcmF0aW9ucyA9ICRfX3JlcXVpcmUoJzI2Jyk7XG4gICAgdmFyIERPTUxhenlUcmVlID0gJF9fcmVxdWlyZSgnNGMnKTtcbiAgICB2YXIgRE9NTmFtZXNwYWNlcyA9ICRfX3JlcXVpcmUoJzRkJyk7XG4gICAgdmFyIERPTVByb3BlcnR5ID0gJF9fcmVxdWlyZSgnMWInKTtcbiAgICB2YXIgRE9NUHJvcGVydHlPcGVyYXRpb25zID0gJF9fcmVxdWlyZSgnMmUnKTtcbiAgICB2YXIgRXZlbnRDb25zdGFudHMgPSAkX19yZXF1aXJlKCdiJyk7XG4gICAgdmFyIEV2ZW50UGx1Z2luSHViID0gJF9fcmVxdWlyZSgnMTAnKTtcbiAgICB2YXIgRXZlbnRQbHVnaW5SZWdpc3RyeSA9ICRfX3JlcXVpcmUoJzM1Jyk7XG4gICAgdmFyIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlciA9ICRfX3JlcXVpcmUoJzRlJyk7XG4gICAgdmFyIFJlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnMmEnKTtcbiAgICB2YXIgUmVhY3RET01CdXR0b24gPSAkX19yZXF1aXJlKCcyYicpO1xuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudEZsYWdzID0gJF9fcmVxdWlyZSgnNGYnKTtcbiAgICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gJF9fcmVxdWlyZSgnMTEnKTtcbiAgICB2YXIgUmVhY3RET01JbnB1dCA9ICRfX3JlcXVpcmUoJzJkJyk7XG4gICAgdmFyIFJlYWN0RE9NT3B0aW9uID0gJF9fcmVxdWlyZSgnMzEnKTtcbiAgICB2YXIgUmVhY3RET01TZWxlY3QgPSAkX19yZXF1aXJlKCczMycpO1xuICAgIHZhciBSZWFjdERPTVRleHRhcmVhID0gJF9fcmVxdWlyZSgnM2MnKTtcbiAgICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSAkX19yZXF1aXJlKCcyNycpO1xuICAgIHZhciBSZWFjdE11bHRpQ2hpbGQgPSAkX19yZXF1aXJlKCc0NCcpO1xuICAgIHZhciBSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uID0gJF9fcmVxdWlyZSgnNDknKTtcbiAgICB2YXIgZW1wdHlGdW5jdGlvbiA9ICRfX3JlcXVpcmUoJzQ4Jyk7XG4gICAgdmFyIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlciA9ICRfX3JlcXVpcmUoJzM5Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIGlzRXZlbnRTdXBwb3J0ZWQgPSAkX19yZXF1aXJlKCcxNCcpO1xuICAgIHZhciBrZXlPZiA9ICRfX3JlcXVpcmUoJ2UnKTtcbiAgICB2YXIgc2hhbGxvd0VxdWFsID0gJF9fcmVxdWlyZSgnNTEnKTtcbiAgICB2YXIgdmFsaWRhdGVET01OZXN0aW5nID0gJF9fcmVxdWlyZSgnNTAnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIEZsYWdzID0gUmVhY3RET01Db21wb25lbnRGbGFncztcbiAgICB2YXIgZGVsZXRlTGlzdGVuZXIgPSBFdmVudFBsdWdpbkh1Yi5kZWxldGVMaXN0ZW5lcjtcbiAgICB2YXIgZ2V0Tm9kZSA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlO1xuICAgIHZhciBsaXN0ZW5UbyA9IFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5saXN0ZW5UbztcbiAgICB2YXIgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzO1xuICAgIHZhciBDT05URU5UX1RZUEVTID0ge1xuICAgICAgJ3N0cmluZyc6IHRydWUsXG4gICAgICAnbnVtYmVyJzogdHJ1ZVxuICAgIH07XG4gICAgdmFyIFNUWUxFID0ga2V5T2Yoe3N0eWxlOiBudWxsfSk7XG4gICAgdmFyIEhUTUwgPSBrZXlPZih7X19odG1sOiBudWxsfSk7XG4gICAgdmFyIFJFU0VSVkVEX1BST1BTID0ge1xuICAgICAgY2hpbGRyZW46IG51bGwsXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogbnVsbCxcbiAgICAgIHN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZzogbnVsbFxuICAgIH07XG4gICAgdmFyIERPQ19GUkFHTUVOVF9UWVBFID0gMTE7XG4gICAgZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKGludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICAgIHZhciBvd25lciA9IGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50Ll9vd25lciB8fCBudWxsO1xuICAgICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgICB2YXIgbmFtZSA9IG93bmVyLmdldE5hbWUoKTtcbiAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgVGhpcyBET00gbm9kZSB3YXMgcmVuZGVyZWQgYnkgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgZnVuY3Rpb24gZnJpZW5kbHlTdHJpbmdpZnkob2JqKSB7XG4gICAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgIHJldHVybiAnWycgKyBvYmoubWFwKGZyaWVuZGx5U3RyaW5naWZ5KS5qb2luKCcsICcpICsgJ10nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwYWlycyA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICAgIHZhciBrZXlFc2NhcGVkID0gL15bYS16JF9dW1xcdyRfXSokL2kudGVzdChrZXkpID8ga2V5IDogSlNPTi5zdHJpbmdpZnkoa2V5KTtcbiAgICAgICAgICAgICAgcGFpcnMucHVzaChrZXlFc2NhcGVkICsgJzogJyArIGZyaWVuZGx5U3RyaW5naWZ5KG9ialtrZXldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAneycgKyBwYWlycy5qb2luKCcsICcpICsgJ30nO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiAnW2Z1bmN0aW9uIG9iamVjdF0nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFN0cmluZyhvYmopO1xuICAgIH1cbiAgICB2YXIgc3R5bGVNdXRhdGlvbldhcm5pbmcgPSB7fTtcbiAgICBmdW5jdGlvbiBjaGVja0FuZFdhcm5Gb3JNdXRhdGVkU3R5bGUoc3R5bGUxLCBzdHlsZTIsIGNvbXBvbmVudCkge1xuICAgICAgaWYgKHN0eWxlMSA9PSBudWxsIHx8IHN0eWxlMiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChzaGFsbG93RXF1YWwoc3R5bGUxLCBzdHlsZTIpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gY29tcG9uZW50Ll90YWc7XG4gICAgICB2YXIgb3duZXIgPSBjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgIHZhciBvd25lck5hbWU7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgb3duZXJOYW1lID0gb3duZXIuZ2V0TmFtZSgpO1xuICAgICAgfVxuICAgICAgdmFyIGhhc2ggPSBvd25lck5hbWUgKyAnfCcgKyBjb21wb25lbnROYW1lO1xuICAgICAgaWYgKHN0eWxlTXV0YXRpb25XYXJuaW5nLmhhc093blByb3BlcnR5KGhhc2gpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHN0eWxlTXV0YXRpb25XYXJuaW5nW2hhc2hdID0gdHJ1ZTtcbiAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYCVzYCB3YXMgcGFzc2VkIGEgc3R5bGUgb2JqZWN0IHRoYXQgaGFzIHByZXZpb3VzbHkgYmVlbiBtdXRhdGVkLiAnICsgJ011dGF0aW5nIGBzdHlsZWAgaXMgZGVwcmVjYXRlZC4gQ29uc2lkZXIgY2xvbmluZyBpdCBiZWZvcmVoYW5kLiBDaGVjayAnICsgJ3RoZSBgcmVuZGVyYCAlcy4gUHJldmlvdXMgc3R5bGU6ICVzLiBNdXRhdGVkIHN0eWxlOiAlcy4nLCBjb21wb25lbnROYW1lLCBvd25lciA/ICdvZiBgJyArIG93bmVyTmFtZSArICdgJyA6ICd1c2luZyA8JyArIGNvbXBvbmVudE5hbWUgKyAnPicsIGZyaWVuZGx5U3RyaW5naWZ5KHN0eWxlMSksIGZyaWVuZGx5U3RyaW5naWZ5KHN0eWxlMikpIDogdm9pZCAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc3NlcnRWYWxpZFByb3BzKGNvbXBvbmVudCwgcHJvcHMpIHtcbiAgICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHZvaWRFbGVtZW50VGFnc1tjb21wb25lbnQuX3RhZ10pIHtcbiAgICAgICAgIShwcm9wcy5jaGlsZHJlbiA9PSBudWxsICYmIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID09IG51bGwpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzIGlzIGEgdm9pZCBlbGVtZW50IHRhZyBhbmQgbXVzdCBub3QgaGF2ZSBgY2hpbGRyZW5gIG9yICcgKyAndXNlIGBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAuJXMnLCBjb21wb25lbnQuX3RhZywgY29tcG9uZW50Ll9jdXJyZW50RWxlbWVudC5fb3duZXIgPyAnIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mICcgKyBjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50Ll9vd25lci5nZXROYW1lKCkgKyAnLicgOiAnJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICE9IG51bGwpIHtcbiAgICAgICAgIShwcm9wcy5jaGlsZHJlbiA9PSBudWxsKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW4gb25seSBzZXQgb25lIG9mIGBjaGlsZHJlbmAgb3IgYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICEodHlwZW9mIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID09PSAnb2JqZWN0JyAmJiBIVE1MIGluIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgIG11c3QgYmUgaW4gdGhlIGZvcm0gYHtfX2h0bWw6IC4uLn1gLiAnICsgJ1BsZWFzZSB2aXNpdCBodHRwczovL2ZiLm1lL3JlYWN0LWludmFyaWFudC1kYW5nZXJvdXNseS1zZXQtaW5uZXItaHRtbCAnICsgJ2ZvciBtb3JlIGluZm9ybWF0aW9uLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHByb3BzLmlubmVySFRNTCA9PSBudWxsLCAnRGlyZWN0bHkgc2V0dGluZyBwcm9wZXJ0eSBgaW5uZXJIVE1MYCBpcyBub3QgcGVybWl0dGVkLiAnICsgJ0ZvciBtb3JlIGluZm9ybWF0aW9uLCBsb29rdXAgZG9jdW1lbnRhdGlvbiBvbiBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLicpIDogdm9pZCAwO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhwcm9wcy5zdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcgfHwgIXByb3BzLmNvbnRlbnRFZGl0YWJsZSB8fCBwcm9wcy5jaGlsZHJlbiA9PSBudWxsLCAnQSBjb21wb25lbnQgaXMgYGNvbnRlbnRFZGl0YWJsZWAgYW5kIGNvbnRhaW5zIGBjaGlsZHJlbmAgbWFuYWdlZCBieSAnICsgJ1JlYWN0LiBJdCBpcyBub3cgeW91ciByZXNwb25zaWJpbGl0eSB0byBndWFyYW50ZWUgdGhhdCBub25lIG9mICcgKyAndGhvc2Ugbm9kZXMgYXJlIHVuZXhwZWN0ZWRseSBtb2RpZmllZCBvciBkdXBsaWNhdGVkLiBUaGlzIGlzICcgKyAncHJvYmFibHkgbm90IGludGVudGlvbmFsLicpIDogdm9pZCAwO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhwcm9wcy5vbkZvY3VzSW4gPT0gbnVsbCAmJiBwcm9wcy5vbkZvY3VzT3V0ID09IG51bGwsICdSZWFjdCB1c2VzIG9uRm9jdXMgYW5kIG9uQmx1ciBpbnN0ZWFkIG9mIG9uRm9jdXNJbiBhbmQgb25Gb2N1c091dC4gJyArICdBbGwgUmVhY3QgZXZlbnRzIGFyZSBub3JtYWxpemVkIHRvIGJ1YmJsZSwgc28gb25Gb2N1c0luIGFuZCBvbkZvY3VzT3V0ICcgKyAnYXJlIG5vdCBuZWVkZWQvc3VwcG9ydGVkIGJ5IFJlYWN0LicpIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgIShwcm9wcy5zdHlsZSA9PSBudWxsIHx8IHR5cGVvZiBwcm9wcy5zdHlsZSA9PT0gJ29iamVjdCcpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1RoZSBgc3R5bGVgIHByb3AgZXhwZWN0cyBhIG1hcHBpbmcgZnJvbSBzdHlsZSBwcm9wZXJ0aWVzIHRvIHZhbHVlcywgJyArICdub3QgYSBzdHJpbmcuIEZvciBleGFtcGxlLCBzdHlsZT17e21hcmdpblJpZ2h0OiBzcGFjaW5nICsgXFwnZW1cXCd9fSB3aGVuICcgKyAndXNpbmcgSlNYLiVzJywgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKGNvbXBvbmVudCkpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZVB1dExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUsIGxpc3RlbmVyLCB0cmFuc2FjdGlvbikge1xuICAgICAgaWYgKHRyYW5zYWN0aW9uIGluc3RhbmNlb2YgUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhyZWdpc3RyYXRpb25OYW1lICE9PSAnb25TY3JvbGwnIHx8IGlzRXZlbnRTdXBwb3J0ZWQoJ3Njcm9sbCcsIHRydWUpLCAnVGhpcyBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IHRoZSBgb25TY3JvbGxgIGV2ZW50JykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICB2YXIgY29udGFpbmVySW5mbyA9IGluc3QuX25hdGl2ZUNvbnRhaW5lckluZm87XG4gICAgICB2YXIgaXNEb2N1bWVudEZyYWdtZW50ID0gY29udGFpbmVySW5mby5fbm9kZSAmJiBjb250YWluZXJJbmZvLl9ub2RlLm5vZGVUeXBlID09PSBET0NfRlJBR01FTlRfVFlQRTtcbiAgICAgIHZhciBkb2MgPSBpc0RvY3VtZW50RnJhZ21lbnQgPyBjb250YWluZXJJbmZvLl9ub2RlIDogY29udGFpbmVySW5mby5fb3duZXJEb2N1bWVudDtcbiAgICAgIGxpc3RlblRvKHJlZ2lzdHJhdGlvbk5hbWUsIGRvYyk7XG4gICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKHB1dExpc3RlbmVyLCB7XG4gICAgICAgIGluc3Q6IGluc3QsXG4gICAgICAgIHJlZ2lzdHJhdGlvbk5hbWU6IHJlZ2lzdHJhdGlvbk5hbWUsXG4gICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lclxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1dExpc3RlbmVyKCkge1xuICAgICAgdmFyIGxpc3RlbmVyVG9QdXQgPSB0aGlzO1xuICAgICAgRXZlbnRQbHVnaW5IdWIucHV0TGlzdGVuZXIobGlzdGVuZXJUb1B1dC5pbnN0LCBsaXN0ZW5lclRvUHV0LnJlZ2lzdHJhdGlvbk5hbWUsIGxpc3RlbmVyVG9QdXQubGlzdGVuZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcHRpb25Qb3N0TW91bnQoKSB7XG4gICAgICB2YXIgaW5zdCA9IHRoaXM7XG4gICAgICBSZWFjdERPTU9wdGlvbi5wb3N0TW91bnRXcmFwcGVyKGluc3QpO1xuICAgIH1cbiAgICB2YXIgc2V0Q29udGVudENoaWxkRm9ySW5zdHJ1bWVudGF0aW9uID0gZW1wdHlGdW5jdGlvbjtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgc2V0Q29udGVudENoaWxkRm9ySW5zdHJ1bWVudGF0aW9uID0gZnVuY3Rpb24oY29udGVudFRvVXNlKSB7XG4gICAgICAgIHZhciBkZWJ1Z0lEID0gdGhpcy5fZGVidWdJRDtcbiAgICAgICAgdmFyIGNvbnRlbnREZWJ1Z0lEID0gZGVidWdJRCArICcjdGV4dCc7XG4gICAgICAgIHRoaXMuX2NvbnRlbnREZWJ1Z0lEID0gY29udGVudERlYnVnSUQ7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldERpc3BsYXlOYW1lKGNvbnRlbnREZWJ1Z0lELCAnI3RleHQnKTtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uU2V0VGV4dChjb250ZW50RGVidWdJRCwgJycgKyBjb250ZW50VG9Vc2UpO1xuICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25Nb3VudENvbXBvbmVudChjb250ZW50RGVidWdJRCk7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldENoaWxkcmVuKGRlYnVnSUQsIFtjb250ZW50RGVidWdJRF0pO1xuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIG1lZGlhRXZlbnRzID0ge1xuICAgICAgdG9wQWJvcnQ6ICdhYm9ydCcsXG4gICAgICB0b3BDYW5QbGF5OiAnY2FucGxheScsXG4gICAgICB0b3BDYW5QbGF5VGhyb3VnaDogJ2NhbnBsYXl0aHJvdWdoJyxcbiAgICAgIHRvcER1cmF0aW9uQ2hhbmdlOiAnZHVyYXRpb25jaGFuZ2UnLFxuICAgICAgdG9wRW1wdGllZDogJ2VtcHRpZWQnLFxuICAgICAgdG9wRW5jcnlwdGVkOiAnZW5jcnlwdGVkJyxcbiAgICAgIHRvcEVuZGVkOiAnZW5kZWQnLFxuICAgICAgdG9wRXJyb3I6ICdlcnJvcicsXG4gICAgICB0b3BMb2FkZWREYXRhOiAnbG9hZGVkZGF0YScsXG4gICAgICB0b3BMb2FkZWRNZXRhZGF0YTogJ2xvYWRlZG1ldGFkYXRhJyxcbiAgICAgIHRvcExvYWRTdGFydDogJ2xvYWRzdGFydCcsXG4gICAgICB0b3BQYXVzZTogJ3BhdXNlJyxcbiAgICAgIHRvcFBsYXk6ICdwbGF5JyxcbiAgICAgIHRvcFBsYXlpbmc6ICdwbGF5aW5nJyxcbiAgICAgIHRvcFByb2dyZXNzOiAncHJvZ3Jlc3MnLFxuICAgICAgdG9wUmF0ZUNoYW5nZTogJ3JhdGVjaGFuZ2UnLFxuICAgICAgdG9wU2Vla2VkOiAnc2Vla2VkJyxcbiAgICAgIHRvcFNlZWtpbmc6ICdzZWVraW5nJyxcbiAgICAgIHRvcFN0YWxsZWQ6ICdzdGFsbGVkJyxcbiAgICAgIHRvcFN1c3BlbmQ6ICdzdXNwZW5kJyxcbiAgICAgIHRvcFRpbWVVcGRhdGU6ICd0aW1ldXBkYXRlJyxcbiAgICAgIHRvcFZvbHVtZUNoYW5nZTogJ3ZvbHVtZWNoYW5nZScsXG4gICAgICB0b3BXYWl0aW5nOiAnd2FpdGluZydcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHRyYXBCdWJibGVkRXZlbnRzTG9jYWwoKSB7XG4gICAgICB2YXIgaW5zdCA9IHRoaXM7XG4gICAgICAhaW5zdC5fcm9vdE5vZGVJRCA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdNdXN0IGJlIG1vdW50ZWQgdG8gdHJhcCBldmVudHMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgbm9kZSA9IGdldE5vZGUoaW5zdCk7XG4gICAgICAhbm9kZSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd0cmFwQnViYmxlZEV2ZW50KC4uLik6IFJlcXVpcmVzIG5vZGUgdG8gYmUgcmVuZGVyZWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgc3dpdGNoIChpbnN0Ll90YWcpIHtcbiAgICAgICAgY2FzZSAnaWZyYW1lJzpcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUubGlzdGVuZXJzID0gW1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlci50cmFwQnViYmxlZEV2ZW50KEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXMudG9wTG9hZCwgJ2xvYWQnLCBub2RlKV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgICAgY2FzZSAnYXVkaW8nOlxuICAgICAgICAgIGluc3QuX3dyYXBwZXJTdGF0ZS5saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBldmVudCBpbiBtZWRpYUV2ZW50cykge1xuICAgICAgICAgICAgaWYgKG1lZGlhRXZlbnRzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xuICAgICAgICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUubGlzdGVuZXJzLnB1c2goUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnRyYXBCdWJibGVkRXZlbnQoRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlc1tldmVudF0sIG1lZGlhRXZlbnRzW2V2ZW50XSwgbm9kZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaW1nJzpcbiAgICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUubGlzdGVuZXJzID0gW1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlci50cmFwQnViYmxlZEV2ZW50KEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXMudG9wRXJyb3IsICdlcnJvcicsIG5vZGUpLCBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcExvYWQsICdsb2FkJywgbm9kZSldO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdmb3JtJzpcbiAgICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUubGlzdGVuZXJzID0gW1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlci50cmFwQnViYmxlZEV2ZW50KEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXMudG9wUmVzZXQsICdyZXNldCcsIG5vZGUpLCBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcFN1Ym1pdCwgJ3N1Ym1pdCcsIG5vZGUpXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaW5wdXQnOlxuICAgICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycyA9IFtSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcEludmFsaWQsICdpbnZhbGlkJywgbm9kZSldO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwb3N0VXBkYXRlU2VsZWN0V3JhcHBlcigpIHtcbiAgICAgIFJlYWN0RE9NU2VsZWN0LnBvc3RVcGRhdGVXcmFwcGVyKHRoaXMpO1xuICAgIH1cbiAgICB2YXIgb21pdHRlZENsb3NlVGFncyA9IHtcbiAgICAgICdhcmVhJzogdHJ1ZSxcbiAgICAgICdiYXNlJzogdHJ1ZSxcbiAgICAgICdicic6IHRydWUsXG4gICAgICAnY29sJzogdHJ1ZSxcbiAgICAgICdlbWJlZCc6IHRydWUsXG4gICAgICAnaHInOiB0cnVlLFxuICAgICAgJ2ltZyc6IHRydWUsXG4gICAgICAnaW5wdXQnOiB0cnVlLFxuICAgICAgJ2tleWdlbic6IHRydWUsXG4gICAgICAnbGluayc6IHRydWUsXG4gICAgICAnbWV0YSc6IHRydWUsXG4gICAgICAncGFyYW0nOiB0cnVlLFxuICAgICAgJ3NvdXJjZSc6IHRydWUsXG4gICAgICAndHJhY2snOiB0cnVlLFxuICAgICAgJ3dicic6IHRydWVcbiAgICB9O1xuICAgIHZhciBuZXdsaW5lRWF0aW5nVGFncyA9IHtcbiAgICAgICdsaXN0aW5nJzogdHJ1ZSxcbiAgICAgICdwcmUnOiB0cnVlLFxuICAgICAgJ3RleHRhcmVhJzogdHJ1ZVxuICAgIH07XG4gICAgdmFyIHZvaWRFbGVtZW50VGFncyA9IF9hc3NpZ24oeydtZW51aXRlbSc6IHRydWV9LCBvbWl0dGVkQ2xvc2VUYWdzKTtcbiAgICB2YXIgVkFMSURfVEFHX1JFR0VYID0gL15bYS16QS1aXVthLXpBLVo6X1xcLlxcLVxcZF0qJC87XG4gICAgdmFyIHZhbGlkYXRlZFRhZ0NhY2hlID0ge307XG4gICAgdmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVEYW5nZXJvdXNUYWcodGFnKSB7XG4gICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwodmFsaWRhdGVkVGFnQ2FjaGUsIHRhZykpIHtcbiAgICAgICAgIVZBTElEX1RBR19SRUdFWC50ZXN0KHRhZykgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnSW52YWxpZCB0YWc6ICVzJywgdGFnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIHZhbGlkYXRlZFRhZ0NhY2hlW3RhZ10gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpc0N1c3RvbUNvbXBvbmVudCh0YWdOYW1lLCBwcm9wcykge1xuICAgICAgcmV0dXJuIHRhZ05hbWUuaW5kZXhPZignLScpID49IDAgfHwgcHJvcHMuaXMgIT0gbnVsbDtcbiAgICB9XG4gICAgdmFyIGdsb2JhbElkQ291bnRlciA9IDE7XG4gICAgZnVuY3Rpb24gUmVhY3RET01Db21wb25lbnQoZWxlbWVudCkge1xuICAgICAgdmFyIHRhZyA9IGVsZW1lbnQudHlwZTtcbiAgICAgIHZhbGlkYXRlRGFuZ2Vyb3VzVGFnKHRhZyk7XG4gICAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLl90YWcgPSB0YWcudG9Mb3dlckNhc2UoKTtcbiAgICAgIHRoaXMuX25hbWVzcGFjZVVSSSA9IG51bGw7XG4gICAgICB0aGlzLl9yZW5kZXJlZENoaWxkcmVuID0gbnVsbDtcbiAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGUgPSBudWxsO1xuICAgICAgdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgPSBudWxsO1xuICAgICAgdGhpcy5fbmF0aXZlTm9kZSA9IG51bGw7XG4gICAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBudWxsO1xuICAgICAgdGhpcy5fcm9vdE5vZGVJRCA9IG51bGw7XG4gICAgICB0aGlzLl9kb21JRCA9IG51bGw7XG4gICAgICB0aGlzLl9uYXRpdmVDb250YWluZXJJbmZvID0gbnVsbDtcbiAgICAgIHRoaXMuX3dyYXBwZXJTdGF0ZSA9IG51bGw7XG4gICAgICB0aGlzLl90b3BMZXZlbFdyYXBwZXIgPSBudWxsO1xuICAgICAgdGhpcy5fZmxhZ3MgPSAwO1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdGhpcy5fYW5jZXN0b3JJbmZvID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29udGVudERlYnVnSUQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBSZWFjdERPTUNvbXBvbmVudC5kaXNwbGF5TmFtZSA9ICdSZWFjdERPTUNvbXBvbmVudCc7XG4gICAgUmVhY3RET01Db21wb25lbnQuTWl4aW4gPSB7XG4gICAgICBtb3VudENvbXBvbmVudDogZnVuY3Rpb24odHJhbnNhY3Rpb24sIG5hdGl2ZVBhcmVudCwgbmF0aXZlQ29udGFpbmVySW5mbywgY29udGV4dCkge1xuICAgICAgICB0aGlzLl9yb290Tm9kZUlEID0gZ2xvYmFsSWRDb3VudGVyKys7XG4gICAgICAgIHRoaXMuX2RvbUlEID0gbmF0aXZlQ29udGFpbmVySW5mby5faWRDb3VudGVyKys7XG4gICAgICAgIHRoaXMuX25hdGl2ZVBhcmVudCA9IG5hdGl2ZVBhcmVudDtcbiAgICAgICAgdGhpcy5fbmF0aXZlQ29udGFpbmVySW5mbyA9IG5hdGl2ZUNvbnRhaW5lckluZm87XG4gICAgICAgIHZhciBwcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3RhZykge1xuICAgICAgICAgIGNhc2UgJ2lmcmFtZSc6XG4gICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICBjYXNlICdpbWcnOlxuICAgICAgICAgIGNhc2UgJ2Zvcm0nOlxuICAgICAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgICAgICBjYXNlICdhdWRpbyc6XG4gICAgICAgICAgICB0aGlzLl93cmFwcGVyU3RhdGUgPSB7bGlzdGVuZXJzOiBudWxsfTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUodHJhcEJ1YmJsZWRFdmVudHNMb2NhbCwgdGhpcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdidXR0b24nOlxuICAgICAgICAgICAgcHJvcHMgPSBSZWFjdERPTUJ1dHRvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBwcm9wcywgbmF0aXZlUGFyZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgICAgIFJlYWN0RE9NSW5wdXQubW91bnRXcmFwcGVyKHRoaXMsIHByb3BzLCBuYXRpdmVQYXJlbnQpO1xuICAgICAgICAgICAgcHJvcHMgPSBSZWFjdERPTUlucHV0LmdldE5hdGl2ZVByb3BzKHRoaXMsIHByb3BzKTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUodHJhcEJ1YmJsZWRFdmVudHNMb2NhbCwgdGhpcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdvcHRpb24nOlxuICAgICAgICAgICAgUmVhY3RET01PcHRpb24ubW91bnRXcmFwcGVyKHRoaXMsIHByb3BzLCBuYXRpdmVQYXJlbnQpO1xuICAgICAgICAgICAgcHJvcHMgPSBSZWFjdERPTU9wdGlvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBwcm9wcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICAgICAgUmVhY3RET01TZWxlY3QubW91bnRXcmFwcGVyKHRoaXMsIHByb3BzLCBuYXRpdmVQYXJlbnQpO1xuICAgICAgICAgICAgcHJvcHMgPSBSZWFjdERPTVNlbGVjdC5nZXROYXRpdmVQcm9wcyh0aGlzLCBwcm9wcyk7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKHRyYXBCdWJibGVkRXZlbnRzTG9jYWwsIHRoaXMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgICAgICAgUmVhY3RET01UZXh0YXJlYS5tb3VudFdyYXBwZXIodGhpcywgcHJvcHMsIG5hdGl2ZVBhcmVudCk7XG4gICAgICAgICAgICBwcm9wcyA9IFJlYWN0RE9NVGV4dGFyZWEuZ2V0TmF0aXZlUHJvcHModGhpcywgcHJvcHMpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZSh0cmFwQnViYmxlZEV2ZW50c0xvY2FsLCB0aGlzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydFZhbGlkUHJvcHModGhpcywgcHJvcHMpO1xuICAgICAgICB2YXIgbmFtZXNwYWNlVVJJO1xuICAgICAgICB2YXIgcGFyZW50VGFnO1xuICAgICAgICBpZiAobmF0aXZlUGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICBuYW1lc3BhY2VVUkkgPSBuYXRpdmVQYXJlbnQuX25hbWVzcGFjZVVSSTtcbiAgICAgICAgICBwYXJlbnRUYWcgPSBuYXRpdmVQYXJlbnQuX3RhZztcbiAgICAgICAgfSBlbHNlIGlmIChuYXRpdmVDb250YWluZXJJbmZvLl90YWcpIHtcbiAgICAgICAgICBuYW1lc3BhY2VVUkkgPSBuYXRpdmVDb250YWluZXJJbmZvLl9uYW1lc3BhY2VVUkk7XG4gICAgICAgICAgcGFyZW50VGFnID0gbmF0aXZlQ29udGFpbmVySW5mby5fdGFnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lc3BhY2VVUkkgPT0gbnVsbCB8fCBuYW1lc3BhY2VVUkkgPT09IERPTU5hbWVzcGFjZXMuc3ZnICYmIHBhcmVudFRhZyA9PT0gJ2ZvcmVpZ25vYmplY3QnKSB7XG4gICAgICAgICAgbmFtZXNwYWNlVVJJID0gRE9NTmFtZXNwYWNlcy5odG1sO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lc3BhY2VVUkkgPT09IERPTU5hbWVzcGFjZXMuaHRtbCkge1xuICAgICAgICAgIGlmICh0aGlzLl90YWcgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2VVUkkgPSBET01OYW1lc3BhY2VzLnN2ZztcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3RhZyA9PT0gJ21hdGgnKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2VVUkkgPSBET01OYW1lc3BhY2VzLm1hdGhtbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbmFtZXNwYWNlVVJJID0gbmFtZXNwYWNlVVJJO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhciBwYXJlbnRJbmZvO1xuICAgICAgICAgIGlmIChuYXRpdmVQYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyZW50SW5mbyA9IG5hdGl2ZVBhcmVudC5fYW5jZXN0b3JJbmZvO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmF0aXZlQ29udGFpbmVySW5mby5fdGFnKSB7XG4gICAgICAgICAgICBwYXJlbnRJbmZvID0gbmF0aXZlQ29udGFpbmVySW5mby5fYW5jZXN0b3JJbmZvO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFyZW50SW5mbykge1xuICAgICAgICAgICAgdmFsaWRhdGVET01OZXN0aW5nKHRoaXMuX3RhZywgdGhpcywgcGFyZW50SW5mbyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX2FuY2VzdG9ySW5mbyA9IHZhbGlkYXRlRE9NTmVzdGluZy51cGRhdGVkQW5jZXN0b3JJbmZvKHBhcmVudEluZm8sIHRoaXMuX3RhZywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1vdW50SW1hZ2U7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbi51c2VDcmVhdGVFbGVtZW50KSB7XG4gICAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBuYXRpdmVDb250YWluZXJJbmZvLl9vd25lckRvY3VtZW50O1xuICAgICAgICAgIHZhciBlbDtcbiAgICAgICAgICBpZiAobmFtZXNwYWNlVVJJID09PSBET01OYW1lc3BhY2VzLmh0bWwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90YWcgPT09ICdzY3JpcHQnKSB7XG4gICAgICAgICAgICAgIHZhciBkaXYgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICB2YXIgdHlwZSA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSAnPCcgKyB0eXBlICsgJz48LycgKyB0eXBlICsgJz4nO1xuICAgICAgICAgICAgICBlbCA9IGRpdi5yZW1vdmVDaGlsZChkaXYuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBlbCA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlLCBwcm9wcy5pcyB8fCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2VVUkksIHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBSZWFjdERPTUNvbXBvbmVudFRyZWUucHJlY2FjaGVOb2RlKHRoaXMsIGVsKTtcbiAgICAgICAgICB0aGlzLl9mbGFncyB8PSBGbGFncy5oYXNDYWNoZWRDaGlsZE5vZGVzO1xuICAgICAgICAgIGlmICghdGhpcy5fbmF0aXZlUGFyZW50KSB7XG4gICAgICAgICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuc2V0QXR0cmlidXRlRm9yUm9vdChlbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX3VwZGF0ZURPTVByb3BlcnRpZXMobnVsbCwgcHJvcHMsIHRyYW5zYWN0aW9uKTtcbiAgICAgICAgICB2YXIgbGF6eVRyZWUgPSBET01MYXp5VHJlZShlbCk7XG4gICAgICAgICAgdGhpcy5fY3JlYXRlSW5pdGlhbENoaWxkcmVuKHRyYW5zYWN0aW9uLCBwcm9wcywgY29udGV4dCwgbGF6eVRyZWUpO1xuICAgICAgICAgIG1vdW50SW1hZ2UgPSBsYXp5VHJlZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgdGFnT3BlbiA9IHRoaXMuX2NyZWF0ZU9wZW5UYWdNYXJrdXBBbmRQdXRMaXN0ZW5lcnModHJhbnNhY3Rpb24sIHByb3BzKTtcbiAgICAgICAgICB2YXIgdGFnQ29udGVudCA9IHRoaXMuX2NyZWF0ZUNvbnRlbnRNYXJrdXAodHJhbnNhY3Rpb24sIHByb3BzLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoIXRhZ0NvbnRlbnQgJiYgb21pdHRlZENsb3NlVGFnc1t0aGlzLl90YWddKSB7XG4gICAgICAgICAgICBtb3VudEltYWdlID0gdGFnT3BlbiArICcvPic7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vdW50SW1hZ2UgPSB0YWdPcGVuICsgJz4nICsgdGFnQ29udGVudCArICc8LycgKyB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlICsgJz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMuX3RhZykge1xuICAgICAgICAgIGNhc2UgJ2J1dHRvbic6XG4gICAgICAgICAgY2FzZSAnaW5wdXQnOlxuICAgICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgICAgICAgaWYgKHByb3BzLmF1dG9Gb2N1cykge1xuICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKEF1dG9Gb2N1c1V0aWxzLmZvY3VzRE9NQ29tcG9uZW50LCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKG9wdGlvblBvc3RNb3VudCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1vdW50SW1hZ2U7XG4gICAgICB9LFxuICAgICAgX2NyZWF0ZU9wZW5UYWdNYXJrdXBBbmRQdXRMaXN0ZW5lcnM6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBwcm9wcykge1xuICAgICAgICB2YXIgcmV0ID0gJzwnICsgdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgICAgZm9yICh2YXIgcHJvcEtleSBpbiBwcm9wcykge1xuICAgICAgICAgIGlmICghcHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcEtleV07XG4gICAgICAgICAgaWYgKHByb3BWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgICBpZiAocHJvcFZhbHVlKSB7XG4gICAgICAgICAgICAgIGVucXVldWVQdXRMaXN0ZW5lcih0aGlzLCBwcm9wS2V5LCBwcm9wVmFsdWUsIHRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHByb3BLZXkgPT09IFNUWUxFKSB7XG4gICAgICAgICAgICAgIGlmIChwcm9wVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNTdHlsZSA9IHByb3BWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvcFZhbHVlID0gdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgPSBfYXNzaWduKHt9LCBwcm9wcy5zdHlsZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcHJvcFZhbHVlID0gQ1NTUHJvcGVydHlPcGVyYXRpb25zLmNyZWF0ZU1hcmt1cEZvclN0eWxlcyhwcm9wVmFsdWUsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1hcmt1cCA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGFnICE9IG51bGwgJiYgaXNDdXN0b21Db21wb25lbnQodGhpcy5fdGFnLCBwcm9wcykpIHtcbiAgICAgICAgICAgICAgaWYgKCFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgICAgICAgIG1hcmt1cCA9IERPTVByb3BlcnR5T3BlcmF0aW9ucy5jcmVhdGVNYXJrdXBGb3JDdXN0b21BdHRyaWJ1dGUocHJvcEtleSwgcHJvcFZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWFya3VwID0gRE9NUHJvcGVydHlPcGVyYXRpb25zLmNyZWF0ZU1hcmt1cEZvclByb3BlcnR5KHByb3BLZXksIHByb3BWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWFya3VwKSB7XG4gICAgICAgICAgICAgIHJldCArPSAnICcgKyBtYXJrdXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbi5yZW5kZXJUb1N0YXRpY01hcmt1cCkge1xuICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9uYXRpdmVQYXJlbnQpIHtcbiAgICAgICAgICByZXQgKz0gJyAnICsgRE9NUHJvcGVydHlPcGVyYXRpb25zLmNyZWF0ZU1hcmt1cEZvclJvb3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXQgKz0gJyAnICsgRE9NUHJvcGVydHlPcGVyYXRpb25zLmNyZWF0ZU1hcmt1cEZvcklEKHRoaXMuX2RvbUlEKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH0sXG4gICAgICBfY3JlYXRlQ29udGVudE1hcmt1cDogZnVuY3Rpb24odHJhbnNhY3Rpb24sIHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciByZXQgPSAnJztcbiAgICAgICAgdmFyIGlubmVySFRNTCA9IHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MO1xuICAgICAgICBpZiAoaW5uZXJIVE1MICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoaW5uZXJIVE1MLl9faHRtbCAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXQgPSBpbm5lckhUTUwuX19odG1sO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgY29udGVudFRvVXNlID0gQ09OVEVOVF9UWVBFU1t0eXBlb2YgcHJvcHMuY2hpbGRyZW5dID8gcHJvcHMuY2hpbGRyZW4gOiBudWxsO1xuICAgICAgICAgIHZhciBjaGlsZHJlblRvVXNlID0gY29udGVudFRvVXNlICE9IG51bGwgPyBudWxsIDogcHJvcHMuY2hpbGRyZW47XG4gICAgICAgICAgaWYgKGNvbnRlbnRUb1VzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXQgPSBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIoY29udGVudFRvVXNlKTtcbiAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIHNldENvbnRlbnRDaGlsZEZvckluc3RydW1lbnRhdGlvbi5jYWxsKHRoaXMsIGNvbnRlbnRUb1VzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChjaGlsZHJlblRvVXNlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBtb3VudEltYWdlcyA9IHRoaXMubW91bnRDaGlsZHJlbihjaGlsZHJlblRvVXNlLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgICAgICByZXQgPSBtb3VudEltYWdlcy5qb2luKCcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld2xpbmVFYXRpbmdUYWdzW3RoaXMuX3RhZ10gJiYgcmV0LmNoYXJBdCgwKSA9PT0gJ1xcbicpIHtcbiAgICAgICAgICByZXR1cm4gJ1xcbicgKyByZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF9jcmVhdGVJbml0aWFsQ2hpbGRyZW46IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBwcm9wcywgY29udGV4dCwgbGF6eVRyZWUpIHtcbiAgICAgICAgdmFyIGlubmVySFRNTCA9IHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MO1xuICAgICAgICBpZiAoaW5uZXJIVE1MICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoaW5uZXJIVE1MLl9faHRtbCAhPSBudWxsKSB7XG4gICAgICAgICAgICBET01MYXp5VHJlZS5xdWV1ZUhUTUwobGF6eVRyZWUsIGlubmVySFRNTC5fX2h0bWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgY29udGVudFRvVXNlID0gQ09OVEVOVF9UWVBFU1t0eXBlb2YgcHJvcHMuY2hpbGRyZW5dID8gcHJvcHMuY2hpbGRyZW4gOiBudWxsO1xuICAgICAgICAgIHZhciBjaGlsZHJlblRvVXNlID0gY29udGVudFRvVXNlICE9IG51bGwgPyBudWxsIDogcHJvcHMuY2hpbGRyZW47XG4gICAgICAgICAgaWYgKGNvbnRlbnRUb1VzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBzZXRDb250ZW50Q2hpbGRGb3JJbnN0cnVtZW50YXRpb24uY2FsbCh0aGlzLCBjb250ZW50VG9Vc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRE9NTGF6eVRyZWUucXVldWVUZXh0KGxhenlUcmVlLCBjb250ZW50VG9Vc2UpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5Ub1VzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbW91bnRJbWFnZXMgPSB0aGlzLm1vdW50Q2hpbGRyZW4oY2hpbGRyZW5Ub1VzZSwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb3VudEltYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBET01MYXp5VHJlZS5xdWV1ZUNoaWxkKGxhenlUcmVlLCBtb3VudEltYWdlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVjZWl2ZUNvbXBvbmVudDogZnVuY3Rpb24obmV4dEVsZW1lbnQsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBwcmV2RWxlbWVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50O1xuICAgICAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IG5leHRFbGVtZW50O1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudCh0cmFuc2FjdGlvbiwgcHJldkVsZW1lbnQsIG5leHRFbGVtZW50LCBjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1cGRhdGVDb21wb25lbnQ6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGxhc3RQcm9wcyA9IHByZXZFbGVtZW50LnByb3BzO1xuICAgICAgICB2YXIgbmV4dFByb3BzID0gdGhpcy5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fdGFnKSB7XG4gICAgICAgICAgY2FzZSAnYnV0dG9uJzpcbiAgICAgICAgICAgIGxhc3RQcm9wcyA9IFJlYWN0RE9NQnV0dG9uLmdldE5hdGl2ZVByb3BzKHRoaXMsIGxhc3RQcm9wcyk7XG4gICAgICAgICAgICBuZXh0UHJvcHMgPSBSZWFjdERPTUJ1dHRvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBuZXh0UHJvcHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnaW5wdXQnOlxuICAgICAgICAgICAgUmVhY3RET01JbnB1dC51cGRhdGVXcmFwcGVyKHRoaXMpO1xuICAgICAgICAgICAgbGFzdFByb3BzID0gUmVhY3RET01JbnB1dC5nZXROYXRpdmVQcm9wcyh0aGlzLCBsYXN0UHJvcHMpO1xuICAgICAgICAgICAgbmV4dFByb3BzID0gUmVhY3RET01JbnB1dC5nZXROYXRpdmVQcm9wcyh0aGlzLCBuZXh0UHJvcHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgICAgICAgIGxhc3RQcm9wcyA9IFJlYWN0RE9NT3B0aW9uLmdldE5hdGl2ZVByb3BzKHRoaXMsIGxhc3RQcm9wcyk7XG4gICAgICAgICAgICBuZXh0UHJvcHMgPSBSZWFjdERPTU9wdGlvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBuZXh0UHJvcHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgICAgIGxhc3RQcm9wcyA9IFJlYWN0RE9NU2VsZWN0LmdldE5hdGl2ZVByb3BzKHRoaXMsIGxhc3RQcm9wcyk7XG4gICAgICAgICAgICBuZXh0UHJvcHMgPSBSZWFjdERPTVNlbGVjdC5nZXROYXRpdmVQcm9wcyh0aGlzLCBuZXh0UHJvcHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgICAgICAgUmVhY3RET01UZXh0YXJlYS51cGRhdGVXcmFwcGVyKHRoaXMpO1xuICAgICAgICAgICAgbGFzdFByb3BzID0gUmVhY3RET01UZXh0YXJlYS5nZXROYXRpdmVQcm9wcyh0aGlzLCBsYXN0UHJvcHMpO1xuICAgICAgICAgICAgbmV4dFByb3BzID0gUmVhY3RET01UZXh0YXJlYS5nZXROYXRpdmVQcm9wcyh0aGlzLCBuZXh0UHJvcHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0VmFsaWRQcm9wcyh0aGlzLCBuZXh0UHJvcHMpO1xuICAgICAgICB0aGlzLl91cGRhdGVET01Qcm9wZXJ0aWVzKGxhc3RQcm9wcywgbmV4dFByb3BzLCB0cmFuc2FjdGlvbik7XG4gICAgICAgIHRoaXMuX3VwZGF0ZURPTUNoaWxkcmVuKGxhc3RQcm9wcywgbmV4dFByb3BzLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIGlmICh0aGlzLl90YWcgPT09ICdzZWxlY3QnKSB7XG4gICAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShwb3N0VXBkYXRlU2VsZWN0V3JhcHBlciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBfdXBkYXRlRE9NUHJvcGVydGllczogZnVuY3Rpb24obGFzdFByb3BzLCBuZXh0UHJvcHMsIHRyYW5zYWN0aW9uKSB7XG4gICAgICAgIHZhciBwcm9wS2V5O1xuICAgICAgICB2YXIgc3R5bGVOYW1lO1xuICAgICAgICB2YXIgc3R5bGVVcGRhdGVzO1xuICAgICAgICBmb3IgKHByb3BLZXkgaW4gbGFzdFByb3BzKSB7XG4gICAgICAgICAgaWYgKG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSB8fCAhbGFzdFByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpIHx8IGxhc3RQcm9wc1twcm9wS2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByb3BLZXkgPT09IFNUWUxFKSB7XG4gICAgICAgICAgICB2YXIgbGFzdFN0eWxlID0gdGhpcy5fcHJldmlvdXNTdHlsZUNvcHk7XG4gICAgICAgICAgICBmb3IgKHN0eWxlTmFtZSBpbiBsYXN0U3R5bGUpIHtcbiAgICAgICAgICAgICAgaWYgKGxhc3RTdHlsZS5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVVcGRhdGVzID0gc3R5bGVVcGRhdGVzIHx8IHt9O1xuICAgICAgICAgICAgICAgIHN0eWxlVXBkYXRlc1tzdHlsZU5hbWVdID0gJyc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5ID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgICBpZiAobGFzdFByb3BzW3Byb3BLZXldKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZUxpc3RlbmVyKHRoaXMsIHByb3BLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoRE9NUHJvcGVydHkucHJvcGVydGllc1twcm9wS2V5XSB8fCBET01Qcm9wZXJ0eS5pc0N1c3RvbUF0dHJpYnV0ZShwcm9wS2V5KSkge1xuICAgICAgICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLmRlbGV0ZVZhbHVlRm9yUHJvcGVydHkoZ2V0Tm9kZSh0aGlzKSwgcHJvcEtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAocHJvcEtleSBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgICB2YXIgbmV4dFByb3AgPSBuZXh0UHJvcHNbcHJvcEtleV07XG4gICAgICAgICAgdmFyIGxhc3RQcm9wID0gcHJvcEtleSA9PT0gU1RZTEUgPyB0aGlzLl9wcmV2aW91c1N0eWxlQ29weSA6IGxhc3RQcm9wcyAhPSBudWxsID8gbGFzdFByb3BzW3Byb3BLZXldIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmICghbmV4dFByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpIHx8IG5leHRQcm9wID09PSBsYXN0UHJvcCB8fCBuZXh0UHJvcCA9PSBudWxsICYmIGxhc3RQcm9wID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgICAgICAgIGlmIChuZXh0UHJvcCkge1xuICAgICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNoZWNrQW5kV2FybkZvck11dGF0ZWRTdHlsZSh0aGlzLl9wcmV2aW91c1N0eWxlQ29weSwgdGhpcy5fcHJldmlvdXNTdHlsZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNTdHlsZSA9IG5leHRQcm9wO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG5leHRQcm9wID0gdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgPSBfYXNzaWduKHt9LCBuZXh0UHJvcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLl9wcmV2aW91c1N0eWxlQ29weSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFzdFByb3ApIHtcbiAgICAgICAgICAgICAgZm9yIChzdHlsZU5hbWUgaW4gbGFzdFByb3ApIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJiAoIW5leHRQcm9wIHx8ICFuZXh0UHJvcC5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSkge1xuICAgICAgICAgICAgICAgICAgc3R5bGVVcGRhdGVzID0gc3R5bGVVcGRhdGVzIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgc3R5bGVVcGRhdGVzW3N0eWxlTmFtZV0gPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZm9yIChzdHlsZU5hbWUgaW4gbmV4dFByb3ApIHtcbiAgICAgICAgICAgICAgICBpZiAobmV4dFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJiBsYXN0UHJvcFtzdHlsZU5hbWVdICE9PSBuZXh0UHJvcFtzdHlsZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXMgPSBzdHlsZVVwZGF0ZXMgfHwge307XG4gICAgICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXNbc3R5bGVOYW1lXSA9IG5leHRQcm9wW3N0eWxlTmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXMgPSBuZXh0UHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgICBpZiAobmV4dFByb3ApIHtcbiAgICAgICAgICAgICAgZW5xdWV1ZVB1dExpc3RlbmVyKHRoaXMsIHByb3BLZXksIG5leHRQcm9wLCB0cmFuc2FjdGlvbik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxhc3RQcm9wKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZUxpc3RlbmVyKHRoaXMsIHByb3BLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNDdXN0b21Db21wb25lbnQodGhpcy5fdGFnLCBuZXh0UHJvcHMpKSB7XG4gICAgICAgICAgICBpZiAoIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5zZXRWYWx1ZUZvckF0dHJpYnV0ZShnZXROb2RlKHRoaXMpLCBwcm9wS2V5LCBuZXh0UHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzW3Byb3BLZXldIHx8IERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKHByb3BLZXkpKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IGdldE5vZGUodGhpcyk7XG4gICAgICAgICAgICBpZiAobmV4dFByb3AgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JQcm9wZXJ0eShub2RlLCBwcm9wS2V5LCBuZXh0UHJvcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuZGVsZXRlVmFsdWVGb3JQcm9wZXJ0eShub2RlLCBwcm9wS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlVXBkYXRlcykge1xuICAgICAgICAgIENTU1Byb3BlcnR5T3BlcmF0aW9ucy5zZXRWYWx1ZUZvclN0eWxlcyhnZXROb2RlKHRoaXMpLCBzdHlsZVVwZGF0ZXMsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX3VwZGF0ZURPTUNoaWxkcmVuOiBmdW5jdGlvbihsYXN0UHJvcHMsIG5leHRQcm9wcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGxhc3RDb250ZW50ID0gQ09OVEVOVF9UWVBFU1t0eXBlb2YgbGFzdFByb3BzLmNoaWxkcmVuXSA/IGxhc3RQcm9wcy5jaGlsZHJlbiA6IG51bGw7XG4gICAgICAgIHZhciBuZXh0Q29udGVudCA9IENPTlRFTlRfVFlQRVNbdHlwZW9mIG5leHRQcm9wcy5jaGlsZHJlbl0gPyBuZXh0UHJvcHMuY2hpbGRyZW4gOiBudWxsO1xuICAgICAgICB2YXIgbGFzdEh0bWwgPSBsYXN0UHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgJiYgbGFzdFByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLl9faHRtbDtcbiAgICAgICAgdmFyIG5leHRIdG1sID0gbmV4dFByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICYmIG5leHRQcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTC5fX2h0bWw7XG4gICAgICAgIHZhciBsYXN0Q2hpbGRyZW4gPSBsYXN0Q29udGVudCAhPSBudWxsID8gbnVsbCA6IGxhc3RQcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgdmFyIG5leHRDaGlsZHJlbiA9IG5leHRDb250ZW50ICE9IG51bGwgPyBudWxsIDogbmV4dFByb3BzLmNoaWxkcmVuO1xuICAgICAgICB2YXIgbGFzdEhhc0NvbnRlbnRPckh0bWwgPSBsYXN0Q29udGVudCAhPSBudWxsIHx8IGxhc3RIdG1sICE9IG51bGw7XG4gICAgICAgIHZhciBuZXh0SGFzQ29udGVudE9ySHRtbCA9IG5leHRDb250ZW50ICE9IG51bGwgfHwgbmV4dEh0bWwgIT0gbnVsbDtcbiAgICAgICAgaWYgKGxhc3RDaGlsZHJlbiAhPSBudWxsICYmIG5leHRDaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVDaGlsZHJlbihudWxsLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIH0gZWxzZSBpZiAobGFzdEhhc0NvbnRlbnRPckh0bWwgJiYgIW5leHRIYXNDb250ZW50T3JIdG1sKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVUZXh0Q29udGVudCgnJyk7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldENoaWxkcmVuKHRoaXMuX2RlYnVnSUQsIFtdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHRDb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAobGFzdENvbnRlbnQgIT09IG5leHRDb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHRDb250ZW50KCcnICsgbmV4dENvbnRlbnQpO1xuICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgdGhpcy5fY29udGVudERlYnVnSUQgPSB0aGlzLl9kZWJ1Z0lEICsgJyN0ZXh0JztcbiAgICAgICAgICAgICAgc2V0Q29udGVudENoaWxkRm9ySW5zdHJ1bWVudGF0aW9uLmNhbGwodGhpcywgbmV4dENvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChuZXh0SHRtbCAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKGxhc3RIdG1sICE9PSBuZXh0SHRtbCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVNYXJrdXAoJycgKyBuZXh0SHRtbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRDaGlsZHJlbih0aGlzLl9kZWJ1Z0lELCBbXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5leHRDaGlsZHJlbiAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb250ZW50RGVidWdJRCkge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25Vbm1vdW50Q29tcG9uZW50KHRoaXMuX2NvbnRlbnREZWJ1Z0lEKTtcbiAgICAgICAgICAgICAgdGhpcy5fY29udGVudERlYnVnSUQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnVwZGF0ZUNoaWxkcmVuKG5leHRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ2V0TmF0aXZlTm9kZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBnZXROb2RlKHRoaXMpO1xuICAgICAgfSxcbiAgICAgIHVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKHNhZmVseSkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3RhZykge1xuICAgICAgICAgIGNhc2UgJ2lmcmFtZSc6XG4gICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICBjYXNlICdpbWcnOlxuICAgICAgICAgIGNhc2UgJ2Zvcm0nOlxuICAgICAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgICAgICBjYXNlICdhdWRpbyc6XG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fd3JhcHBlclN0YXRlLmxpc3RlbmVycztcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnNbaV0ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgICAgIGNhc2UgJ2hlYWQnOlxuICAgICAgICAgIGNhc2UgJ2JvZHknOlxuICAgICAgICAgICAgIWZhbHNlID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJzwlcz4gdHJpZWQgdG8gdW5tb3VudC4gQmVjYXVzZSBvZiBjcm9zcy1icm93c2VyIHF1aXJrcyBpdCBpcyAnICsgJ2ltcG9zc2libGUgdG8gdW5tb3VudCBzb21lIHRvcC1sZXZlbCBjb21wb25lbnRzIChlZyA8aHRtbD4sICcgKyAnPGhlYWQ+LCBhbmQgPGJvZHk+KSByZWxpYWJseSBhbmQgZWZmaWNpZW50bHkuIFRvIGZpeCB0aGlzLCBoYXZlIGEgJyArICdzaW5nbGUgdG9wLWxldmVsIGNvbXBvbmVudCB0aGF0IG5ldmVyIHVubW91bnRzIHJlbmRlciB0aGVzZSAnICsgJ2VsZW1lbnRzLicsIHRoaXMuX3RhZykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bm1vdW50Q2hpbGRyZW4oc2FmZWx5KTtcbiAgICAgICAgUmVhY3RET01Db21wb25lbnRUcmVlLnVuY2FjaGVOb2RlKHRoaXMpO1xuICAgICAgICBFdmVudFBsdWdpbkh1Yi5kZWxldGVBbGxMaXN0ZW5lcnModGhpcyk7XG4gICAgICAgIFJlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50LnVubW91bnRJREZyb21FbnZpcm9ubWVudCh0aGlzLl9yb290Tm9kZUlEKTtcbiAgICAgICAgdGhpcy5fcm9vdE5vZGVJRCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2RvbUlEID0gbnVsbDtcbiAgICAgICAgdGhpcy5fd3JhcHBlclN0YXRlID0gbnVsbDtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fY29udGVudERlYnVnSUQpIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblVubW91bnRDb21wb25lbnQodGhpcy5fY29udGVudERlYnVnSUQpO1xuICAgICAgICAgICAgdGhpcy5fY29udGVudERlYnVnSUQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldFB1YmxpY0luc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGdldE5vZGUodGhpcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBfYXNzaWduKFJlYWN0RE9NQ29tcG9uZW50LnByb3RvdHlwZSwgUmVhY3RET01Db21wb25lbnQuTWl4aW4sIFJlYWN0TXVsdGlDaGlsZC5NaXhpbik7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUNvbXBvbmVudDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNTJcIiwgW1wiNlwiLCBcIjRjXCIsIFwiMTFcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICB2YXIgRE9NTGF6eVRyZWUgPSAkX19yZXF1aXJlKCc0YycpO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gJF9fcmVxdWlyZSgnMTEnKTtcbiAgdmFyIFJlYWN0RE9NRW1wdHlDb21wb25lbnQgPSBmdW5jdGlvbihpbnN0YW50aWF0ZSkge1xuICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLl9uYXRpdmVOb2RlID0gbnVsbDtcbiAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBudWxsO1xuICAgIHRoaXMuX25hdGl2ZUNvbnRhaW5lckluZm8gPSBudWxsO1xuICAgIHRoaXMuX2RvbUlEID0gbnVsbDtcbiAgfTtcbiAgX2Fzc2lnbihSZWFjdERPTUVtcHR5Q29tcG9uZW50LnByb3RvdHlwZSwge1xuICAgIG1vdW50Q29tcG9uZW50OiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCBjb250ZXh0KSB7XG4gICAgICB2YXIgZG9tSUQgPSBuYXRpdmVDb250YWluZXJJbmZvLl9pZENvdW50ZXIrKztcbiAgICAgIHRoaXMuX2RvbUlEID0gZG9tSUQ7XG4gICAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBuYXRpdmVQYXJlbnQ7XG4gICAgICB0aGlzLl9uYXRpdmVDb250YWluZXJJbmZvID0gbmF0aXZlQ29udGFpbmVySW5mbztcbiAgICAgIHZhciBub2RlVmFsdWUgPSAnIHJlYWN0LWVtcHR5OiAnICsgdGhpcy5fZG9tSUQgKyAnICc7XG4gICAgICBpZiAodHJhbnNhY3Rpb24udXNlQ3JlYXRlRWxlbWVudCkge1xuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9IG5hdGl2ZUNvbnRhaW5lckluZm8uX293bmVyRG9jdW1lbnQ7XG4gICAgICAgIHZhciBub2RlID0gb3duZXJEb2N1bWVudC5jcmVhdGVDb21tZW50KG5vZGVWYWx1ZSk7XG4gICAgICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZS5wcmVjYWNoZU5vZGUodGhpcywgbm9kZSk7XG4gICAgICAgIHJldHVybiBET01MYXp5VHJlZShub2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbi5yZW5kZXJUb1N0YXRpY01hcmt1cCkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJzwhLS0nICsgbm9kZVZhbHVlICsgJy0tPic7XG4gICAgICB9XG4gICAgfSxcbiAgICByZWNlaXZlQ29tcG9uZW50OiBmdW5jdGlvbigpIHt9LFxuICAgIGdldE5hdGl2ZU5vZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKHRoaXMpO1xuICAgIH0sXG4gICAgdW5tb3VudENvbXBvbmVudDogZnVuY3Rpb24oKSB7XG4gICAgICBSZWFjdERPTUNvbXBvbmVudFRyZWUudW5jYWNoZU5vZGUodGhpcyk7XG4gICAgfVxuICB9KTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUVtcHR5Q29tcG9uZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjUzXCIsIFtcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgZnVuY3Rpb24gZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3IoaW5zdEEsIGluc3RCKSB7XG4gICAgICAhKCdfbmF0aXZlTm9kZScgaW4gaW5zdEEpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2dldE5vZGVGcm9tSW5zdGFuY2U6IEludmFsaWQgYXJndW1lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgISgnX25hdGl2ZU5vZGUnIGluIGluc3RCKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdnZXROb2RlRnJvbUluc3RhbmNlOiBJbnZhbGlkIGFyZ3VtZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHZhciBkZXB0aEEgPSAwO1xuICAgICAgZm9yICh2YXIgdGVtcEEgPSBpbnN0QTsgdGVtcEE7IHRlbXBBID0gdGVtcEEuX25hdGl2ZVBhcmVudCkge1xuICAgICAgICBkZXB0aEErKztcbiAgICAgIH1cbiAgICAgIHZhciBkZXB0aEIgPSAwO1xuICAgICAgZm9yICh2YXIgdGVtcEIgPSBpbnN0QjsgdGVtcEI7IHRlbXBCID0gdGVtcEIuX25hdGl2ZVBhcmVudCkge1xuICAgICAgICBkZXB0aEIrKztcbiAgICAgIH1cbiAgICAgIHdoaWxlIChkZXB0aEEgLSBkZXB0aEIgPiAwKSB7XG4gICAgICAgIGluc3RBID0gaW5zdEEuX25hdGl2ZVBhcmVudDtcbiAgICAgICAgZGVwdGhBLS07XG4gICAgICB9XG4gICAgICB3aGlsZSAoZGVwdGhCIC0gZGVwdGhBID4gMCkge1xuICAgICAgICBpbnN0QiA9IGluc3RCLl9uYXRpdmVQYXJlbnQ7XG4gICAgICAgIGRlcHRoQi0tO1xuICAgICAgfVxuICAgICAgdmFyIGRlcHRoID0gZGVwdGhBO1xuICAgICAgd2hpbGUgKGRlcHRoLS0pIHtcbiAgICAgICAgaWYgKGluc3RBID09PSBpbnN0Qikge1xuICAgICAgICAgIHJldHVybiBpbnN0QTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0QSA9IGluc3RBLl9uYXRpdmVQYXJlbnQ7XG4gICAgICAgIGluc3RCID0gaW5zdEIuX25hdGl2ZVBhcmVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0FuY2VzdG9yKGluc3RBLCBpbnN0Qikge1xuICAgICAgISgnX25hdGl2ZU5vZGUnIGluIGluc3RBKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdpc0FuY2VzdG9yOiBJbnZhbGlkIGFyZ3VtZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICEoJ19uYXRpdmVOb2RlJyBpbiBpbnN0QikgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnaXNBbmNlc3RvcjogSW52YWxpZCBhcmd1bWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB3aGlsZSAoaW5zdEIpIHtcbiAgICAgICAgaWYgKGluc3RCID09PSBpbnN0QSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGluc3RCID0gaW5zdEIuX25hdGl2ZVBhcmVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UGFyZW50SW5zdGFuY2UoaW5zdCkge1xuICAgICAgISgnX25hdGl2ZU5vZGUnIGluIGluc3QpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2dldFBhcmVudEluc3RhbmNlOiBJbnZhbGlkIGFyZ3VtZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiBpbnN0Ll9uYXRpdmVQYXJlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyYXZlcnNlVHdvUGhhc2UoaW5zdCwgZm4sIGFyZykge1xuICAgICAgdmFyIHBhdGggPSBbXTtcbiAgICAgIHdoaWxlIChpbnN0KSB7XG4gICAgICAgIHBhdGgucHVzaChpbnN0KTtcbiAgICAgICAgaW5zdCA9IGluc3QuX25hdGl2ZVBhcmVudDtcbiAgICAgIH1cbiAgICAgIHZhciBpO1xuICAgICAgZm9yIChpID0gcGF0aC5sZW5ndGg7IGktLSA+IDA7ICkge1xuICAgICAgICBmbihwYXRoW2ldLCBmYWxzZSwgYXJnKTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZuKHBhdGhbaV0sIHRydWUsIGFyZyk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyYXZlcnNlRW50ZXJMZWF2ZShmcm9tLCB0bywgZm4sIGFyZ0Zyb20sIGFyZ1RvKSB7XG4gICAgICB2YXIgY29tbW9uID0gZnJvbSAmJiB0byA/IGdldExvd2VzdENvbW1vbkFuY2VzdG9yKGZyb20sIHRvKSA6IG51bGw7XG4gICAgICB2YXIgcGF0aEZyb20gPSBbXTtcbiAgICAgIHdoaWxlIChmcm9tICYmIGZyb20gIT09IGNvbW1vbikge1xuICAgICAgICBwYXRoRnJvbS5wdXNoKGZyb20pO1xuICAgICAgICBmcm9tID0gZnJvbS5fbmF0aXZlUGFyZW50O1xuICAgICAgfVxuICAgICAgdmFyIHBhdGhUbyA9IFtdO1xuICAgICAgd2hpbGUgKHRvICYmIHRvICE9PSBjb21tb24pIHtcbiAgICAgICAgcGF0aFRvLnB1c2godG8pO1xuICAgICAgICB0byA9IHRvLl9uYXRpdmVQYXJlbnQ7XG4gICAgICB9XG4gICAgICB2YXIgaTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXRoRnJvbS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmbihwYXRoRnJvbVtpXSwgdHJ1ZSwgYXJnRnJvbSk7XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSBwYXRoVG8ubGVuZ3RoOyBpLS0gPiAwOyApIHtcbiAgICAgICAgZm4ocGF0aFRvW2ldLCBmYWxzZSwgYXJnVG8pO1xuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGlzQW5jZXN0b3I6IGlzQW5jZXN0b3IsXG4gICAgICBnZXRMb3dlc3RDb21tb25BbmNlc3RvcjogZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3IsXG4gICAgICBnZXRQYXJlbnRJbnN0YW5jZTogZ2V0UGFyZW50SW5zdGFuY2UsXG4gICAgICB0cmF2ZXJzZVR3b1BoYXNlOiB0cmF2ZXJzZVR3b1BoYXNlLFxuICAgICAgdHJhdmVyc2VFbnRlckxlYXZlOiB0cmF2ZXJzZUVudGVyTGVhdmVcbiAgICB9O1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI1NFwiLCBbXCIzMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gb2JqLmxlbmd0aDtcbiAgICAgICEoIUFycmF5LmlzQXJyYXkob2JqKSAmJiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3RvQXJyYXk6IEFycmF5LWxpa2Ugb2JqZWN0IGV4cGVjdGVkJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgISh0eXBlb2YgbGVuZ3RoID09PSAnbnVtYmVyJykgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndG9BcnJheTogT2JqZWN0IG5lZWRzIGEgbGVuZ3RoIHByb3BlcnR5JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgIShsZW5ndGggPT09IDAgfHwgbGVuZ3RoIC0gMSBpbiBvYmopID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3RvQXJyYXk6IE9iamVjdCBzaG91bGQgaGF2ZSBrZXlzIGZvciBpbmRpY2VzJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgISh0eXBlb2Ygb2JqLmNhbGxlZSAhPT0gJ2Z1bmN0aW9uJykgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndG9BcnJheTogT2JqZWN0IGNhblxcJ3QgYmUgYGFyZ3VtZW50c2AuIFVzZSByZXN0IHBhcmFtcyAnICsgJyhmdW5jdGlvbiguLi5hcmdzKSB7fSkgb3IgQXJyYXkuZnJvbSgpIGluc3RlYWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmopO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgICAgdmFyIHJldCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgIHJldFtpaV0gPSBvYmpbaWldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzQXJyYXlOYXR1cmUob2JqKSB7XG4gICAgICByZXR1cm4gKCEhb2JqICYmICh0eXBlb2Ygb2JqID09ICdvYmplY3QnIHx8IHR5cGVvZiBvYmogPT0gJ2Z1bmN0aW9uJykgJiYgJ2xlbmd0aCcgaW4gb2JqICYmICEoJ3NldEludGVydmFsJyBpbiBvYmopICYmIHR5cGVvZiBvYmoubm9kZVR5cGUgIT0gJ251bWJlcicgJiYgKEFycmF5LmlzQXJyYXkob2JqKSB8fCAnY2FsbGVlJyBpbiBvYmogfHwgJ2l0ZW0nIGluIG9iaikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVBcnJheUZyb21NaXhlZChvYmopIHtcbiAgICAgIGlmICghaGFzQXJyYXlOYXR1cmUob2JqKSkge1xuICAgICAgICByZXR1cm4gW29ial07XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICByZXR1cm4gb2JqLnNsaWNlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdG9BcnJheShvYmopO1xuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUFycmF5RnJvbU1peGVkO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI1NVwiLCBbXCJkXCIsIFwiNTRcIiwgXCI1NlwiLCBcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnZCcpO1xuICAgIHZhciBjcmVhdGVBcnJheUZyb21NaXhlZCA9ICRfX3JlcXVpcmUoJzU0Jyk7XG4gICAgdmFyIGdldE1hcmt1cFdyYXAgPSAkX19yZXF1aXJlKCc1NicpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBkdW1teU5vZGUgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSA6IG51bGw7XG4gICAgdmFyIG5vZGVOYW1lUGF0dGVybiA9IC9eXFxzKjwoXFx3KykvO1xuICAgIGZ1bmN0aW9uIGdldE5vZGVOYW1lKG1hcmt1cCkge1xuICAgICAgdmFyIG5vZGVOYW1lTWF0Y2ggPSBtYXJrdXAubWF0Y2gobm9kZU5hbWVQYXR0ZXJuKTtcbiAgICAgIHJldHVybiBub2RlTmFtZU1hdGNoICYmIG5vZGVOYW1lTWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlTm9kZXNGcm9tTWFya3VwKG1hcmt1cCwgaGFuZGxlU2NyaXB0KSB7XG4gICAgICB2YXIgbm9kZSA9IGR1bW15Tm9kZTtcbiAgICAgICEhIWR1bW15Tm9kZSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdjcmVhdGVOb2Rlc0Zyb21NYXJrdXAgZHVtbXkgbm90IGluaXRpYWxpemVkJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIG5vZGVOYW1lID0gZ2V0Tm9kZU5hbWUobWFya3VwKTtcbiAgICAgIHZhciB3cmFwID0gbm9kZU5hbWUgJiYgZ2V0TWFya3VwV3JhcChub2RlTmFtZSk7XG4gICAgICBpZiAod3JhcCkge1xuICAgICAgICBub2RlLmlubmVySFRNTCA9IHdyYXBbMV0gKyBtYXJrdXAgKyB3cmFwWzJdO1xuICAgICAgICB2YXIgd3JhcERlcHRoID0gd3JhcFswXTtcbiAgICAgICAgd2hpbGUgKHdyYXBEZXB0aC0tKSB7XG4gICAgICAgICAgbm9kZSA9IG5vZGUubGFzdENoaWxkO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLmlubmVySFRNTCA9IG1hcmt1cDtcbiAgICAgIH1cbiAgICAgIHZhciBzY3JpcHRzID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0Jyk7XG4gICAgICBpZiAoc2NyaXB0cy5sZW5ndGgpIHtcbiAgICAgICAgIWhhbmRsZVNjcmlwdCA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdjcmVhdGVOb2Rlc0Zyb21NYXJrdXAoLi4uKTogVW5leHBlY3RlZCA8c2NyaXB0PiBlbGVtZW50IHJlbmRlcmVkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgY3JlYXRlQXJyYXlGcm9tTWl4ZWQoc2NyaXB0cykuZm9yRWFjaChoYW5kbGVTY3JpcHQpO1xuICAgICAgfVxuICAgICAgdmFyIG5vZGVzID0gQXJyYXkuZnJvbShub2RlLmNoaWxkTm9kZXMpO1xuICAgICAgd2hpbGUgKG5vZGUubGFzdENoaWxkKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5sYXN0Q2hpbGQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGVzO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZU5vZGVzRnJvbU1hcmt1cDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNTZcIiwgW1wiZFwiLCBcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnZCcpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBkdW1teU5vZGUgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSA6IG51bGw7XG4gICAgdmFyIHNob3VsZFdyYXAgPSB7fTtcbiAgICB2YXIgc2VsZWN0V3JhcCA9IFsxLCAnPHNlbGVjdCBtdWx0aXBsZT1cInRydWVcIj4nLCAnPC9zZWxlY3Q+J107XG4gICAgdmFyIHRhYmxlV3JhcCA9IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddO1xuICAgIHZhciB0cldyYXAgPSBbMywgJzx0YWJsZT48dGJvZHk+PHRyPicsICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nXTtcbiAgICB2YXIgc3ZnV3JhcCA9IFsxLCAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+JywgJzwvc3ZnPiddO1xuICAgIHZhciBtYXJrdXBXcmFwID0ge1xuICAgICAgJyonOiBbMSwgJz88ZGl2PicsICc8L2Rpdj4nXSxcbiAgICAgICdhcmVhJzogWzEsICc8bWFwPicsICc8L21hcD4nXSxcbiAgICAgICdjb2wnOiBbMiwgJzx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+JywgJzwvY29sZ3JvdXA+PC90YWJsZT4nXSxcbiAgICAgICdsZWdlbmQnOiBbMSwgJzxmaWVsZHNldD4nLCAnPC9maWVsZHNldD4nXSxcbiAgICAgICdwYXJhbSc6IFsxLCAnPG9iamVjdD4nLCAnPC9vYmplY3Q+J10sXG4gICAgICAndHInOiBbMiwgJzx0YWJsZT48dGJvZHk+JywgJzwvdGJvZHk+PC90YWJsZT4nXSxcbiAgICAgICdvcHRncm91cCc6IHNlbGVjdFdyYXAsXG4gICAgICAnb3B0aW9uJzogc2VsZWN0V3JhcCxcbiAgICAgICdjYXB0aW9uJzogdGFibGVXcmFwLFxuICAgICAgJ2NvbGdyb3VwJzogdGFibGVXcmFwLFxuICAgICAgJ3Rib2R5JzogdGFibGVXcmFwLFxuICAgICAgJ3Rmb290JzogdGFibGVXcmFwLFxuICAgICAgJ3RoZWFkJzogdGFibGVXcmFwLFxuICAgICAgJ3RkJzogdHJXcmFwLFxuICAgICAgJ3RoJzogdHJXcmFwXG4gICAgfTtcbiAgICB2YXIgc3ZnRWxlbWVudHMgPSBbJ2NpcmNsZScsICdjbGlwUGF0aCcsICdkZWZzJywgJ2VsbGlwc2UnLCAnZycsICdpbWFnZScsICdsaW5lJywgJ2xpbmVhckdyYWRpZW50JywgJ21hc2snLCAncGF0aCcsICdwYXR0ZXJuJywgJ3BvbHlnb24nLCAncG9seWxpbmUnLCAncmFkaWFsR3JhZGllbnQnLCAncmVjdCcsICdzdG9wJywgJ3RleHQnLCAndHNwYW4nXTtcbiAgICBzdmdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKG5vZGVOYW1lKSB7XG4gICAgICBtYXJrdXBXcmFwW25vZGVOYW1lXSA9IHN2Z1dyYXA7XG4gICAgICBzaG91bGRXcmFwW25vZGVOYW1lXSA9IHRydWU7XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gZ2V0TWFya3VwV3JhcChub2RlTmFtZSkge1xuICAgICAgISEhZHVtbXlOb2RlID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ01hcmt1cCB3cmFwcGluZyBub2RlIG5vdCBpbml0aWFsaXplZCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIGlmICghbWFya3VwV3JhcC5oYXNPd25Qcm9wZXJ0eShub2RlTmFtZSkpIHtcbiAgICAgICAgbm9kZU5hbWUgPSAnKic7XG4gICAgICB9XG4gICAgICBpZiAoIXNob3VsZFdyYXAuaGFzT3duUHJvcGVydHkobm9kZU5hbWUpKSB7XG4gICAgICAgIGlmIChub2RlTmFtZSA9PT0gJyonKSB7XG4gICAgICAgICAgZHVtbXlOb2RlLmlubmVySFRNTCA9ICc8bGluayAvPic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZHVtbXlOb2RlLmlubmVySFRNTCA9ICc8JyArIG5vZGVOYW1lICsgJz48LycgKyBub2RlTmFtZSArICc+JztcbiAgICAgICAgfVxuICAgICAgICBzaG91bGRXcmFwW25vZGVOYW1lXSA9ICFkdW1teU5vZGUuZmlyc3RDaGlsZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzaG91bGRXcmFwW25vZGVOYW1lXSA/IG1hcmt1cFdyYXBbbm9kZU5hbWVdIDogbnVsbDtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBnZXRNYXJrdXBXcmFwO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI1N1wiLCBbXCI0Y1wiLCBcImRcIiwgXCI1NVwiLCBcIjQ4XCIsIFwiNTZcIiwgXCIzMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBET01MYXp5VHJlZSA9ICRfX3JlcXVpcmUoJzRjJyk7XG4gICAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnZCcpO1xuICAgIHZhciBjcmVhdGVOb2Rlc0Zyb21NYXJrdXAgPSAkX19yZXF1aXJlKCc1NScpO1xuICAgIHZhciBlbXB0eUZ1bmN0aW9uID0gJF9fcmVxdWlyZSgnNDgnKTtcbiAgICB2YXIgZ2V0TWFya3VwV3JhcCA9ICRfX3JlcXVpcmUoJzU2Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIE9QRU5fVEFHX05BTUVfRVhQID0gL14oPFteIFxcLz5dKykvO1xuICAgIHZhciBSRVNVTFRfSU5ERVhfQVRUUiA9ICdkYXRhLWRhbmdlci1pbmRleCc7XG4gICAgZnVuY3Rpb24gZ2V0Tm9kZU5hbWUobWFya3VwKSB7XG4gICAgICByZXR1cm4gbWFya3VwLnN1YnN0cmluZygxLCBtYXJrdXAuaW5kZXhPZignICcpKTtcbiAgICB9XG4gICAgdmFyIERhbmdlciA9IHtcbiAgICAgIGRhbmdlcm91c2x5UmVuZGVyTWFya3VwOiBmdW5jdGlvbihtYXJrdXBMaXN0KSB7XG4gICAgICAgICFFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZGFuZ2Vyb3VzbHlSZW5kZXJNYXJrdXAoLi4uKTogQ2Fubm90IHJlbmRlciBtYXJrdXAgaW4gYSB3b3JrZXIgJyArICd0aHJlYWQuIE1ha2Ugc3VyZSBgd2luZG93YCBhbmQgYGRvY3VtZW50YCBhcmUgYXZhaWxhYmxlIGdsb2JhbGx5ICcgKyAnYmVmb3JlIHJlcXVpcmluZyBSZWFjdCB3aGVuIHVuaXQgdGVzdGluZyBvciB1c2UgJyArICdSZWFjdERPTVNlcnZlci5yZW5kZXJUb1N0cmluZyBmb3Igc2VydmVyIHJlbmRlcmluZy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIHZhciBub2RlTmFtZTtcbiAgICAgICAgdmFyIG1hcmt1cEJ5Tm9kZU5hbWUgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrdXBMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgIW1hcmt1cExpc3RbaV0gPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZGFuZ2Vyb3VzbHlSZW5kZXJNYXJrdXAoLi4uKTogTWlzc2luZyBtYXJrdXAuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIG5vZGVOYW1lID0gZ2V0Tm9kZU5hbWUobWFya3VwTGlzdFtpXSk7XG4gICAgICAgICAgbm9kZU5hbWUgPSBnZXRNYXJrdXBXcmFwKG5vZGVOYW1lKSA/IG5vZGVOYW1lIDogJyonO1xuICAgICAgICAgIG1hcmt1cEJ5Tm9kZU5hbWVbbm9kZU5hbWVdID0gbWFya3VwQnlOb2RlTmFtZVtub2RlTmFtZV0gfHwgW107XG4gICAgICAgICAgbWFya3VwQnlOb2RlTmFtZVtub2RlTmFtZV1baV0gPSBtYXJrdXBMaXN0W2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHRMaXN0ID0gW107XG4gICAgICAgIHZhciByZXN1bHRMaXN0QXNzaWdubWVudENvdW50ID0gMDtcbiAgICAgICAgZm9yIChub2RlTmFtZSBpbiBtYXJrdXBCeU5vZGVOYW1lKSB7XG4gICAgICAgICAgaWYgKCFtYXJrdXBCeU5vZGVOYW1lLmhhc093blByb3BlcnR5KG5vZGVOYW1lKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBtYXJrdXBMaXN0QnlOb2RlTmFtZSA9IG1hcmt1cEJ5Tm9kZU5hbWVbbm9kZU5hbWVdO1xuICAgICAgICAgIHZhciByZXN1bHRJbmRleDtcbiAgICAgICAgICBmb3IgKHJlc3VsdEluZGV4IGluIG1hcmt1cExpc3RCeU5vZGVOYW1lKSB7XG4gICAgICAgICAgICBpZiAobWFya3VwTGlzdEJ5Tm9kZU5hbWUuaGFzT3duUHJvcGVydHkocmVzdWx0SW5kZXgpKSB7XG4gICAgICAgICAgICAgIHZhciBtYXJrdXAgPSBtYXJrdXBMaXN0QnlOb2RlTmFtZVtyZXN1bHRJbmRleF07XG4gICAgICAgICAgICAgIG1hcmt1cExpc3RCeU5vZGVOYW1lW3Jlc3VsdEluZGV4XSA9IG1hcmt1cC5yZXBsYWNlKE9QRU5fVEFHX05BTUVfRVhQLCAnJDEgJyArIFJFU1VMVF9JTkRFWF9BVFRSICsgJz1cIicgKyByZXN1bHRJbmRleCArICdcIiAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHJlbmRlck5vZGVzID0gY3JlYXRlTm9kZXNGcm9tTWFya3VwKG1hcmt1cExpc3RCeU5vZGVOYW1lLmpvaW4oJycpLCBlbXB0eUZ1bmN0aW9uKTtcbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJlbmRlck5vZGVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyTm9kZSA9IHJlbmRlck5vZGVzW2pdO1xuICAgICAgICAgICAgaWYgKHJlbmRlck5vZGUuaGFzQXR0cmlidXRlICYmIHJlbmRlck5vZGUuaGFzQXR0cmlidXRlKFJFU1VMVF9JTkRFWF9BVFRSKSkge1xuICAgICAgICAgICAgICByZXN1bHRJbmRleCA9ICtyZW5kZXJOb2RlLmdldEF0dHJpYnV0ZShSRVNVTFRfSU5ERVhfQVRUUik7XG4gICAgICAgICAgICAgIHJlbmRlck5vZGUucmVtb3ZlQXR0cmlidXRlKFJFU1VMVF9JTkRFWF9BVFRSKTtcbiAgICAgICAgICAgICAgISFyZXN1bHRMaXN0Lmhhc093blByb3BlcnR5KHJlc3VsdEluZGV4KSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEYW5nZXI6IEFzc2lnbmluZyB0byBhbiBhbHJlYWR5LW9jY3VwaWVkIHJlc3VsdCBpbmRleC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIHJlc3VsdExpc3RbcmVzdWx0SW5kZXhdID0gcmVuZGVyTm9kZTtcbiAgICAgICAgICAgICAgcmVzdWx0TGlzdEFzc2lnbm1lbnRDb3VudCArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0RhbmdlcjogRGlzY2FyZGluZyB1bmV4cGVjdGVkIG5vZGU6JywgcmVuZGVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICEocmVzdWx0TGlzdEFzc2lnbm1lbnRDb3VudCA9PT0gcmVzdWx0TGlzdC5sZW5ndGgpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0RhbmdlcjogRGlkIG5vdCBhc3NpZ24gdG8gZXZlcnkgaW5kZXggb2YgcmVzdWx0TGlzdC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICEocmVzdWx0TGlzdC5sZW5ndGggPT09IG1hcmt1cExpc3QubGVuZ3RoKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEYW5nZXI6IEV4cGVjdGVkIG1hcmt1cCB0byByZW5kZXIgJXMgbm9kZXMsIGJ1dCByZW5kZXJlZCAlcy4nLCBtYXJrdXBMaXN0Lmxlbmd0aCwgcmVzdWx0TGlzdC5sZW5ndGgpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdExpc3Q7XG4gICAgICB9LFxuICAgICAgZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXA6IGZ1bmN0aW9uKG9sZENoaWxkLCBtYXJrdXApIHtcbiAgICAgICAgIUV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cCguLi4pOiBDYW5ub3QgcmVuZGVyIG1hcmt1cCBpbiBhICcgKyAnd29ya2VyIHRocmVhZC4gTWFrZSBzdXJlIGB3aW5kb3dgIGFuZCBgZG9jdW1lbnRgIGFyZSBhdmFpbGFibGUgJyArICdnbG9iYWxseSBiZWZvcmUgcmVxdWlyaW5nIFJlYWN0IHdoZW4gdW5pdCB0ZXN0aW5nIG9yIHVzZSAnICsgJ1JlYWN0RE9NU2VydmVyLnJlbmRlclRvU3RyaW5nKCkgZm9yIHNlcnZlciByZW5kZXJpbmcuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAhbWFya3VwID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2Rhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwKC4uLik6IE1pc3NpbmcgbWFya3VwLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgIShvbGRDaGlsZC5ub2RlTmFtZSAhPT0gJ0hUTUwnKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cCguLi4pOiBDYW5ub3QgcmVwbGFjZSBtYXJrdXAgb2YgdGhlICcgKyAnPGh0bWw+IG5vZGUuIFRoaXMgaXMgYmVjYXVzZSBicm93c2VyIHF1aXJrcyBtYWtlIHRoaXMgdW5yZWxpYWJsZSAnICsgJ2FuZC9vciBzbG93LiBJZiB5b3Ugd2FudCB0byByZW5kZXIgdG8gdGhlIHJvb3QgeW91IG11c3QgdXNlICcgKyAnc2VydmVyIHJlbmRlcmluZy4gU2VlIFJlYWN0RE9NU2VydmVyLnJlbmRlclRvU3RyaW5nKCkuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBpZiAodHlwZW9mIG1hcmt1cCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB2YXIgbmV3Q2hpbGQgPSBjcmVhdGVOb2Rlc0Zyb21NYXJrdXAobWFya3VwLCBlbXB0eUZ1bmN0aW9uKVswXTtcbiAgICAgICAgICBvbGRDaGlsZC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdDaGlsZCwgb2xkQ2hpbGQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIERPTUxhenlUcmVlLnJlcGxhY2VDaGlsZFdpdGhUcmVlKG9sZENoaWxkLCBtYXJrdXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IERhbmdlcjtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNDZcIiwgW1wiNThcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBrZXlNaXJyb3IgPSAkX19yZXF1aXJlKCc1OCcpO1xuICB2YXIgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMgPSBrZXlNaXJyb3Ioe1xuICAgIElOU0VSVF9NQVJLVVA6IG51bGwsXG4gICAgTU9WRV9FWElTVElORzogbnVsbCxcbiAgICBSRU1PVkVfTk9ERTogbnVsbCxcbiAgICBTRVRfTUFSS1VQOiBudWxsLFxuICAgIFRFWFRfQ09OVEVOVDogbnVsbFxuICB9KTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcztcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIyOVwiLCBbXCI0Y1wiLCBcIjU3XCIsIFwiNDZcIiwgXCIxMVwiLCBcIjI3XCIsIFwiNTlcIiwgXCI1YVwiLCBcIjViXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIERPTUxhenlUcmVlID0gJF9fcmVxdWlyZSgnNGMnKTtcbiAgICB2YXIgRGFuZ2VyID0gJF9fcmVxdWlyZSgnNTcnKTtcbiAgICB2YXIgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMgPSAkX19yZXF1aXJlKCc0NicpO1xuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSAkX19yZXF1aXJlKCcxMScpO1xuICAgIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9ICRfX3JlcXVpcmUoJzI3Jyk7XG4gICAgdmFyIGNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24gPSAkX19yZXF1aXJlKCc1OScpO1xuICAgIHZhciBzZXRJbm5lckhUTUwgPSAkX19yZXF1aXJlKCc1YScpO1xuICAgIHZhciBzZXRUZXh0Q29udGVudCA9ICRfX3JlcXVpcmUoJzViJyk7XG4gICAgZnVuY3Rpb24gZ2V0Tm9kZUFmdGVyKHBhcmVudE5vZGUsIG5vZGUpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgICAgIG5vZGUgPSBub2RlWzFdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGUgPyBub2RlLm5leHRTaWJsaW5nIDogcGFyZW50Tm9kZS5maXJzdENoaWxkO1xuICAgIH1cbiAgICB2YXIgaW5zZXJ0Q2hpbGRBdCA9IGNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24oZnVuY3Rpb24ocGFyZW50Tm9kZSwgY2hpbGROb2RlLCByZWZlcmVuY2VOb2RlKSB7XG4gICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShjaGlsZE5vZGUsIHJlZmVyZW5jZU5vZGUpO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGluc2VydExhenlUcmVlQ2hpbGRBdChwYXJlbnROb2RlLCBjaGlsZFRyZWUsIHJlZmVyZW5jZU5vZGUpIHtcbiAgICAgIERPTUxhenlUcmVlLmluc2VydFRyZWVCZWZvcmUocGFyZW50Tm9kZSwgY2hpbGRUcmVlLCByZWZlcmVuY2VOb2RlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW92ZUNoaWxkKHBhcmVudE5vZGUsIGNoaWxkTm9kZSwgcmVmZXJlbmNlTm9kZSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGROb2RlKSkge1xuICAgICAgICBtb3ZlRGVsaW1pdGVkVGV4dChwYXJlbnROb2RlLCBjaGlsZE5vZGVbMF0sIGNoaWxkTm9kZVsxXSwgcmVmZXJlbmNlTm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnNlcnRDaGlsZEF0KHBhcmVudE5vZGUsIGNoaWxkTm9kZSwgcmVmZXJlbmNlTm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUNoaWxkKHBhcmVudE5vZGUsIGNoaWxkTm9kZSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGROb2RlKSkge1xuICAgICAgICB2YXIgY2xvc2luZ0NvbW1lbnQgPSBjaGlsZE5vZGVbMV07XG4gICAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZVswXTtcbiAgICAgICAgcmVtb3ZlRGVsaW1pdGVkVGV4dChwYXJlbnROb2RlLCBjaGlsZE5vZGUsIGNsb3NpbmdDb21tZW50KTtcbiAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbG9zaW5nQ29tbWVudCk7XG4gICAgICB9XG4gICAgICBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdmVEZWxpbWl0ZWRUZXh0KHBhcmVudE5vZGUsIG9wZW5pbmdDb21tZW50LCBjbG9zaW5nQ29tbWVudCwgcmVmZXJlbmNlTm9kZSkge1xuICAgICAgdmFyIG5vZGUgPSBvcGVuaW5nQ29tbWVudDtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBuZXh0Tm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIGluc2VydENoaWxkQXQocGFyZW50Tm9kZSwgbm9kZSwgcmVmZXJlbmNlTm9kZSk7XG4gICAgICAgIGlmIChub2RlID09PSBjbG9zaW5nQ29tbWVudCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBuZXh0Tm9kZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlRGVsaW1pdGVkVGV4dChwYXJlbnROb2RlLCBzdGFydE5vZGUsIGNsb3NpbmdDb21tZW50KSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgbm9kZSA9IHN0YXJ0Tm9kZS5uZXh0U2libGluZztcbiAgICAgICAgaWYgKG5vZGUgPT09IGNsb3NpbmdDb21tZW50KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZXBsYWNlRGVsaW1pdGVkVGV4dChvcGVuaW5nQ29tbWVudCwgY2xvc2luZ0NvbW1lbnQsIHN0cmluZ1RleHQpIHtcbiAgICAgIHZhciBwYXJlbnROb2RlID0gb3BlbmluZ0NvbW1lbnQucGFyZW50Tm9kZTtcbiAgICAgIHZhciBub2RlQWZ0ZXJDb21tZW50ID0gb3BlbmluZ0NvbW1lbnQubmV4dFNpYmxpbmc7XG4gICAgICBpZiAobm9kZUFmdGVyQ29tbWVudCA9PT0gY2xvc2luZ0NvbW1lbnQpIHtcbiAgICAgICAgaWYgKHN0cmluZ1RleHQpIHtcbiAgICAgICAgICBpbnNlcnRDaGlsZEF0KHBhcmVudE5vZGUsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0cmluZ1RleHQpLCBub2RlQWZ0ZXJDb21tZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHN0cmluZ1RleHQpIHtcbiAgICAgICAgICBzZXRUZXh0Q29udGVudChub2RlQWZ0ZXJDb21tZW50LCBzdHJpbmdUZXh0KTtcbiAgICAgICAgICByZW1vdmVEZWxpbWl0ZWRUZXh0KHBhcmVudE5vZGUsIG5vZGVBZnRlckNvbW1lbnQsIGNsb3NpbmdDb21tZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVEZWxpbWl0ZWRUZXh0KHBhcmVudE5vZGUsIG9wZW5pbmdDb21tZW50LCBjbG9zaW5nQ29tbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShvcGVuaW5nQ29tbWVudCkuX2RlYnVnSUQsICdyZXBsYWNlIHRleHQnLCBzdHJpbmdUZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwID0gRGFuZ2VyLmRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cCA9IGZ1bmN0aW9uKG9sZENoaWxkLCBtYXJrdXAsIHByZXZJbnN0YW5jZSkge1xuICAgICAgICBEYW5nZXIuZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAob2xkQ2hpbGQsIG1hcmt1cCk7XG4gICAgICAgIGlmIChwcmV2SW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24ocHJldkluc3RhbmNlLl9kZWJ1Z0lELCAncmVwbGFjZSB3aXRoJywgbWFya3VwLnRvU3RyaW5nKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBuZXh0SW5zdGFuY2UgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShtYXJrdXAubm9kZSk7XG4gICAgICAgICAgaWYgKG5leHRJbnN0YW5jZS5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKG5leHRJbnN0YW5jZS5fZGVidWdJRCwgJ21vdW50JywgbWFya3VwLnRvU3RyaW5nKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIERPTUNoaWxkcmVuT3BlcmF0aW9ucyA9IHtcbiAgICAgIGRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwOiBkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cCxcbiAgICAgIHJlcGxhY2VEZWxpbWl0ZWRUZXh0OiByZXBsYWNlRGVsaW1pdGVkVGV4dCxcbiAgICAgIHByb2Nlc3NVcGRhdGVzOiBmdW5jdGlvbihwYXJlbnROb2RlLCB1cGRhdGVzKSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFyIHBhcmVudE5vZGVEZWJ1Z0lEID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldEluc3RhbmNlRnJvbU5vZGUocGFyZW50Tm9kZSkuX2RlYnVnSUQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB1cGRhdGVzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgdmFyIHVwZGF0ZSA9IHVwZGF0ZXNba107XG4gICAgICAgICAgc3dpdGNoICh1cGRhdGUudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5JTlNFUlRfTUFSS1VQOlxuICAgICAgICAgICAgICBpbnNlcnRMYXp5VHJlZUNoaWxkQXQocGFyZW50Tm9kZSwgdXBkYXRlLmNvbnRlbnQsIGdldE5vZGVBZnRlcihwYXJlbnROb2RlLCB1cGRhdGUuYWZ0ZXJOb2RlKSk7XG4gICAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKHBhcmVudE5vZGVEZWJ1Z0lELCAnaW5zZXJ0IGNoaWxkJywge1xuICAgICAgICAgICAgICAgICAgdG9JbmRleDogdXBkYXRlLnRvSW5kZXgsXG4gICAgICAgICAgICAgICAgICBjb250ZW50OiB1cGRhdGUuY29udGVudC50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLk1PVkVfRVhJU1RJTkc6XG4gICAgICAgICAgICAgIG1vdmVDaGlsZChwYXJlbnROb2RlLCB1cGRhdGUuZnJvbU5vZGUsIGdldE5vZGVBZnRlcihwYXJlbnROb2RlLCB1cGRhdGUuYWZ0ZXJOb2RlKSk7XG4gICAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKHBhcmVudE5vZGVEZWJ1Z0lELCAnbW92ZSBjaGlsZCcsIHtcbiAgICAgICAgICAgICAgICAgIGZyb21JbmRleDogdXBkYXRlLmZyb21JbmRleCxcbiAgICAgICAgICAgICAgICAgIHRvSW5kZXg6IHVwZGF0ZS50b0luZGV4XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLlNFVF9NQVJLVVA6XG4gICAgICAgICAgICAgIHNldElubmVySFRNTChwYXJlbnROb2RlLCB1cGRhdGUuY29udGVudCk7XG4gICAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKHBhcmVudE5vZGVEZWJ1Z0lELCAncmVwbGFjZSBjaGlsZHJlbicsIHVwZGF0ZS5jb250ZW50LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5URVhUX0NPTlRFTlQ6XG4gICAgICAgICAgICAgIHNldFRleHRDb250ZW50KHBhcmVudE5vZGUsIHVwZGF0ZS5jb250ZW50KTtcbiAgICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24ocGFyZW50Tm9kZURlYnVnSUQsICdyZXBsYWNlIHRleHQnLCB1cGRhdGUuY29udGVudC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuUkVNT1ZFX05PREU6XG4gICAgICAgICAgICAgIHJlbW92ZUNoaWxkKHBhcmVudE5vZGUsIHVwZGF0ZS5mcm9tTm9kZSk7XG4gICAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKHBhcmVudE5vZGVEZWJ1Z0lELCAncmVtb3ZlIGNoaWxkJywge2Zyb21JbmRleDogdXBkYXRlLmZyb21JbmRleH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBET01DaGlsZHJlbk9wZXJhdGlvbnM7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjVjXCIsIFtcIjZcIiwgXCIyOVwiLCBcIjRjXCIsIFwiMTFcIiwgXCIyN1wiLCBcIjM5XCIsIFwiMzBcIiwgXCI1MFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICAgIHZhciBET01DaGlsZHJlbk9wZXJhdGlvbnMgPSAkX19yZXF1aXJlKCcyOScpO1xuICAgIHZhciBET01MYXp5VHJlZSA9ICRfX3JlcXVpcmUoJzRjJyk7XG4gICAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9ICRfX3JlcXVpcmUoJzExJyk7XG4gICAgdmFyIFJlYWN0SW5zdHJ1bWVudGF0aW9uID0gJF9fcmVxdWlyZSgnMjcnKTtcbiAgICB2YXIgZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyID0gJF9fcmVxdWlyZSgnMzknKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgdmFsaWRhdGVET01OZXN0aW5nID0gJF9fcmVxdWlyZSgnNTAnKTtcbiAgICB2YXIgUmVhY3RET01UZXh0Q29tcG9uZW50ID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSB0ZXh0O1xuICAgICAgdGhpcy5fc3RyaW5nVGV4dCA9ICcnICsgdGV4dDtcbiAgICAgIHRoaXMuX25hdGl2ZU5vZGUgPSBudWxsO1xuICAgICAgdGhpcy5fbmF0aXZlUGFyZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX2RvbUlEID0gbnVsbDtcbiAgICAgIHRoaXMuX21vdW50SW5kZXggPSAwO1xuICAgICAgdGhpcy5fY2xvc2luZ0NvbW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5fY29tbWVudE5vZGVzID0gbnVsbDtcbiAgICB9O1xuICAgIF9hc3NpZ24oUmVhY3RET01UZXh0Q29tcG9uZW50LnByb3RvdHlwZSwge1xuICAgICAgbW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRUZXh0KHRoaXMuX2RlYnVnSUQsIHRoaXMuX3N0cmluZ1RleHQpO1xuICAgICAgICAgIHZhciBwYXJlbnRJbmZvO1xuICAgICAgICAgIGlmIChuYXRpdmVQYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyZW50SW5mbyA9IG5hdGl2ZVBhcmVudC5fYW5jZXN0b3JJbmZvO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmF0aXZlQ29udGFpbmVySW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICBwYXJlbnRJbmZvID0gbmF0aXZlQ29udGFpbmVySW5mby5fYW5jZXN0b3JJbmZvO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFyZW50SW5mbykge1xuICAgICAgICAgICAgdmFsaWRhdGVET01OZXN0aW5nKCcjdGV4dCcsIHRoaXMsIHBhcmVudEluZm8pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZG9tSUQgPSBuYXRpdmVDb250YWluZXJJbmZvLl9pZENvdW50ZXIrKztcbiAgICAgICAgdmFyIG9wZW5pbmdWYWx1ZSA9ICcgcmVhY3QtdGV4dDogJyArIGRvbUlEICsgJyAnO1xuICAgICAgICB2YXIgY2xvc2luZ1ZhbHVlID0gJyAvcmVhY3QtdGV4dCAnO1xuICAgICAgICB0aGlzLl9kb21JRCA9IGRvbUlEO1xuICAgICAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBuYXRpdmVQYXJlbnQ7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbi51c2VDcmVhdGVFbGVtZW50KSB7XG4gICAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBuYXRpdmVDb250YWluZXJJbmZvLl9vd25lckRvY3VtZW50O1xuICAgICAgICAgIHZhciBvcGVuaW5nQ29tbWVudCA9IG93bmVyRG9jdW1lbnQuY3JlYXRlQ29tbWVudChvcGVuaW5nVmFsdWUpO1xuICAgICAgICAgIHZhciBjbG9zaW5nQ29tbWVudCA9IG93bmVyRG9jdW1lbnQuY3JlYXRlQ29tbWVudChjbG9zaW5nVmFsdWUpO1xuICAgICAgICAgIHZhciBsYXp5VHJlZSA9IERPTUxhenlUcmVlKG93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtcbiAgICAgICAgICBET01MYXp5VHJlZS5xdWV1ZUNoaWxkKGxhenlUcmVlLCBET01MYXp5VHJlZShvcGVuaW5nQ29tbWVudCkpO1xuICAgICAgICAgIGlmICh0aGlzLl9zdHJpbmdUZXh0KSB7XG4gICAgICAgICAgICBET01MYXp5VHJlZS5xdWV1ZUNoaWxkKGxhenlUcmVlLCBET01MYXp5VHJlZShvd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMuX3N0cmluZ1RleHQpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIERPTUxhenlUcmVlLnF1ZXVlQ2hpbGQobGF6eVRyZWUsIERPTUxhenlUcmVlKGNsb3NpbmdDb21tZW50KSk7XG4gICAgICAgICAgUmVhY3RET01Db21wb25lbnRUcmVlLnByZWNhY2hlTm9kZSh0aGlzLCBvcGVuaW5nQ29tbWVudCk7XG4gICAgICAgICAgdGhpcy5fY2xvc2luZ0NvbW1lbnQgPSBjbG9zaW5nQ29tbWVudDtcbiAgICAgICAgICByZXR1cm4gbGF6eVRyZWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGVzY2FwZWRUZXh0ID0gZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyKHRoaXMuX3N0cmluZ1RleHQpO1xuICAgICAgICAgIGlmICh0cmFuc2FjdGlvbi5yZW5kZXJUb1N0YXRpY01hcmt1cCkge1xuICAgICAgICAgICAgcmV0dXJuIGVzY2FwZWRUZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gJzwhLS0nICsgb3BlbmluZ1ZhbHVlICsgJy0tPicgKyBlc2NhcGVkVGV4dCArICc8IS0tJyArIGNsb3NpbmdWYWx1ZSArICctLT4nO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVjZWl2ZUNvbXBvbmVudDogZnVuY3Rpb24obmV4dFRleHQsIHRyYW5zYWN0aW9uKSB7XG4gICAgICAgIGlmIChuZXh0VGV4dCAhPT0gdGhpcy5fY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IG5leHRUZXh0O1xuICAgICAgICAgIHZhciBuZXh0U3RyaW5nVGV4dCA9ICcnICsgbmV4dFRleHQ7XG4gICAgICAgICAgaWYgKG5leHRTdHJpbmdUZXh0ICE9PSB0aGlzLl9zdHJpbmdUZXh0KSB7XG4gICAgICAgICAgICB0aGlzLl9zdHJpbmdUZXh0ID0gbmV4dFN0cmluZ1RleHQ7XG4gICAgICAgICAgICB2YXIgY29tbWVudE5vZGVzID0gdGhpcy5nZXROYXRpdmVOb2RlKCk7XG4gICAgICAgICAgICBET01DaGlsZHJlbk9wZXJhdGlvbnMucmVwbGFjZURlbGltaXRlZFRleHQoY29tbWVudE5vZGVzWzBdLCBjb21tZW50Tm9kZXNbMV0sIG5leHRTdHJpbmdUZXh0KTtcbiAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldFRleHQodGhpcy5fZGVidWdJRCwgbmV4dFN0cmluZ1RleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldE5hdGl2ZU5vZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbmF0aXZlTm9kZSA9IHRoaXMuX2NvbW1lbnROb2RlcztcbiAgICAgICAgaWYgKG5hdGl2ZU5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gbmF0aXZlTm9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2Nsb3NpbmdDb21tZW50KSB7XG4gICAgICAgICAgdmFyIG9wZW5pbmdDb21tZW50ID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UodGhpcyk7XG4gICAgICAgICAgdmFyIG5vZGUgPSBvcGVuaW5nQ29tbWVudC5uZXh0U2libGluZztcbiAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgIShub2RlICE9IG51bGwpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ01pc3NpbmcgY2xvc2luZyBjb21tZW50IGZvciB0ZXh0IGNvbXBvbmVudCAlcycsIHRoaXMuX2RvbUlEKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAmJiBub2RlLm5vZGVWYWx1ZSA9PT0gJyAvcmVhY3QtdGV4dCAnKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2Nsb3NpbmdDb21tZW50ID0gbm9kZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmF0aXZlTm9kZSA9IFt0aGlzLl9uYXRpdmVOb2RlLCB0aGlzLl9jbG9zaW5nQ29tbWVudF07XG4gICAgICAgIHRoaXMuX2NvbW1lbnROb2RlcyA9IG5hdGl2ZU5vZGU7XG4gICAgICAgIHJldHVybiBuYXRpdmVOb2RlO1xuICAgICAgfSxcbiAgICAgIHVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9jbG9zaW5nQ29tbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NvbW1lbnROb2RlcyA9IG51bGw7XG4gICAgICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZS51bmNhY2hlTm9kZSh0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NVGV4dENvbXBvbmVudDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNWRcIiwgW1wiNlwiLCBcIjEyXCIsIFwiNGFcIiwgXCI0OFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gIHZhciBSZWFjdFVwZGF0ZXMgPSAkX19yZXF1aXJlKCcxMicpO1xuICB2YXIgVHJhbnNhY3Rpb24gPSAkX19yZXF1aXJlKCc0YScpO1xuICB2YXIgZW1wdHlGdW5jdGlvbiA9ICRfX3JlcXVpcmUoJzQ4Jyk7XG4gIHZhciBSRVNFVF9CQVRDSEVEX1VQREFURVMgPSB7XG4gICAgaW5pdGlhbGl6ZTogZW1wdHlGdW5jdGlvbixcbiAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5LmlzQmF0Y2hpbmdVcGRhdGVzID0gZmFsc2U7XG4gICAgfVxuICB9O1xuICB2YXIgRkxVU0hfQkFUQ0hFRF9VUERBVEVTID0ge1xuICAgIGluaXRpYWxpemU6IGVtcHR5RnVuY3Rpb24sXG4gICAgY2xvc2U6IFJlYWN0VXBkYXRlcy5mbHVzaEJhdGNoZWRVcGRhdGVzLmJpbmQoUmVhY3RVcGRhdGVzKVxuICB9O1xuICB2YXIgVFJBTlNBQ1RJT05fV1JBUFBFUlMgPSBbRkxVU0hfQkFUQ0hFRF9VUERBVEVTLCBSRVNFVF9CQVRDSEVEX1VQREFURVNdO1xuICBmdW5jdGlvbiBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5VHJhbnNhY3Rpb24oKSB7XG4gICAgdGhpcy5yZWluaXRpYWxpemVUcmFuc2FjdGlvbigpO1xuICB9XG4gIF9hc3NpZ24oUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneVRyYW5zYWN0aW9uLnByb3RvdHlwZSwgVHJhbnNhY3Rpb24uTWl4aW4sIHtnZXRUcmFuc2FjdGlvbldyYXBwZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBUUkFOU0FDVElPTl9XUkFQUEVSUztcbiAgICB9fSk7XG4gIHZhciB0cmFuc2FjdGlvbiA9IG5ldyBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5VHJhbnNhY3Rpb24oKTtcbiAgdmFyIFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3kgPSB7XG4gICAgaXNCYXRjaGluZ1VwZGF0ZXM6IGZhbHNlLFxuICAgIGJhdGNoZWRVcGRhdGVzOiBmdW5jdGlvbihjYWxsYmFjaywgYSwgYiwgYywgZCwgZSkge1xuICAgICAgdmFyIGFscmVhZHlCYXRjaGluZ1VwZGF0ZXMgPSBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5LmlzQmF0Y2hpbmdVcGRhdGVzO1xuICAgICAgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcyA9IHRydWU7XG4gICAgICBpZiAoYWxyZWFkeUJhdGNoaW5nVXBkYXRlcykge1xuICAgICAgICBjYWxsYmFjayhhLCBiLCBjLCBkLCBlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zYWN0aW9uLnBlcmZvcm0oY2FsbGJhY2ssIG51bGwsIGEsIGIsIGMsIGQsIGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjVlXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBmdW5jdGlvbiBnZXRVbmJvdW5kZWRTY3JvbGxQb3NpdGlvbihzY3JvbGxhYmxlKSB7XG4gICAgaWYgKHNjcm9sbGFibGUgPT09IHdpbmRvdykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgICB5OiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHNjcm9sbGFibGUuc2Nyb2xsTGVmdCxcbiAgICAgIHk6IHNjcm9sbGFibGUuc2Nyb2xsVG9wXG4gICAgfTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGdldFVuYm91bmRlZFNjcm9sbFBvc2l0aW9uO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjVmXCIsIFtcIjZcIiwgXCI2MFwiLCBcImRcIiwgXCI0XCIsIFwiMTFcIiwgXCIxMlwiLCBcIjEzXCIsIFwiNWVcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgICB2YXIgRXZlbnRMaXN0ZW5lciA9ICRfX3JlcXVpcmUoJzYwJyk7XG4gICAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnZCcpO1xuICAgIHZhciBQb29sZWRDbGFzcyA9ICRfX3JlcXVpcmUoJzQnKTtcbiAgICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gJF9fcmVxdWlyZSgnMTEnKTtcbiAgICB2YXIgUmVhY3RVcGRhdGVzID0gJF9fcmVxdWlyZSgnMTInKTtcbiAgICB2YXIgZ2V0RXZlbnRUYXJnZXQgPSAkX19yZXF1aXJlKCcxMycpO1xuICAgIHZhciBnZXRVbmJvdW5kZWRTY3JvbGxQb3NpdGlvbiA9ICRfX3JlcXVpcmUoJzVlJyk7XG4gICAgZnVuY3Rpb24gZmluZFBhcmVudChpbnN0KSB7XG4gICAgICB3aGlsZSAoaW5zdC5fbmF0aXZlUGFyZW50KSB7XG4gICAgICAgIGluc3QgPSBpbnN0Ll9uYXRpdmVQYXJlbnQ7XG4gICAgICB9XG4gICAgICB2YXIgcm9vdE5vZGUgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KTtcbiAgICAgIHZhciBjb250YWluZXIgPSByb290Tm9kZS5wYXJlbnROb2RlO1xuICAgICAgcmV0dXJuIFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShjb250YWluZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICAgICAgdGhpcy50b3BMZXZlbFR5cGUgPSB0b3BMZXZlbFR5cGU7XG4gICAgICB0aGlzLm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgICB0aGlzLmFuY2VzdG9ycyA9IFtdO1xuICAgIH1cbiAgICBfYXNzaWduKFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZy5wcm90b3R5cGUsIHtkZXN0cnVjdG9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy50b3BMZXZlbFR5cGUgPSBudWxsO1xuICAgICAgICB0aGlzLm5hdGl2ZUV2ZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5hbmNlc3RvcnMubGVuZ3RoID0gMDtcbiAgICAgIH19KTtcbiAgICBQb29sZWRDbGFzcy5hZGRQb29saW5nVG8oVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nLCBQb29sZWRDbGFzcy50d29Bcmd1bWVudFBvb2xlcik7XG4gICAgZnVuY3Rpb24gaGFuZGxlVG9wTGV2ZWxJbXBsKGJvb2tLZWVwaW5nKSB7XG4gICAgICB2YXIgbmF0aXZlRXZlbnRUYXJnZXQgPSBnZXRFdmVudFRhcmdldChib29rS2VlcGluZy5uYXRpdmVFdmVudCk7XG4gICAgICB2YXIgdGFyZ2V0SW5zdCA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICB2YXIgYW5jZXN0b3IgPSB0YXJnZXRJbnN0O1xuICAgICAgZG8ge1xuICAgICAgICBib29rS2VlcGluZy5hbmNlc3RvcnMucHVzaChhbmNlc3Rvcik7XG4gICAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IgJiYgZmluZFBhcmVudChhbmNlc3Rvcik7XG4gICAgICB9IHdoaWxlIChhbmNlc3Rvcik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvb2tLZWVwaW5nLmFuY2VzdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0YXJnZXRJbnN0ID0gYm9va0tlZXBpbmcuYW5jZXN0b3JzW2ldO1xuICAgICAgICBSZWFjdEV2ZW50TGlzdGVuZXIuX2hhbmRsZVRvcExldmVsKGJvb2tLZWVwaW5nLnRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgYm9va0tlZXBpbmcubmF0aXZlRXZlbnQsIGdldEV2ZW50VGFyZ2V0KGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50KSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjcm9sbFZhbHVlTW9uaXRvcihjYikge1xuICAgICAgdmFyIHNjcm9sbFBvc2l0aW9uID0gZ2V0VW5ib3VuZGVkU2Nyb2xsUG9zaXRpb24od2luZG93KTtcbiAgICAgIGNiKHNjcm9sbFBvc2l0aW9uKTtcbiAgICB9XG4gICAgdmFyIFJlYWN0RXZlbnRMaXN0ZW5lciA9IHtcbiAgICAgIF9lbmFibGVkOiB0cnVlLFxuICAgICAgX2hhbmRsZVRvcExldmVsOiBudWxsLFxuICAgICAgV0lORE9XX0hBTkRMRTogRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gd2luZG93IDogbnVsbCxcbiAgICAgIHNldEhhbmRsZVRvcExldmVsOiBmdW5jdGlvbihoYW5kbGVUb3BMZXZlbCkge1xuICAgICAgICBSZWFjdEV2ZW50TGlzdGVuZXIuX2hhbmRsZVRvcExldmVsID0gaGFuZGxlVG9wTGV2ZWw7XG4gICAgICB9LFxuICAgICAgc2V0RW5hYmxlZDogZnVuY3Rpb24oZW5hYmxlZCkge1xuICAgICAgICBSZWFjdEV2ZW50TGlzdGVuZXIuX2VuYWJsZWQgPSAhIWVuYWJsZWQ7XG4gICAgICB9LFxuICAgICAgaXNFbmFibGVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0RXZlbnRMaXN0ZW5lci5fZW5hYmxlZDtcbiAgICAgIH0sXG4gICAgICB0cmFwQnViYmxlZEV2ZW50OiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgaGFuZGxlKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gaGFuZGxlO1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRXZlbnRMaXN0ZW5lci5saXN0ZW4oZWxlbWVudCwgaGFuZGxlckJhc2VOYW1lLCBSZWFjdEV2ZW50TGlzdGVuZXIuZGlzcGF0Y2hFdmVudC5iaW5kKG51bGwsIHRvcExldmVsVHlwZSkpO1xuICAgICAgfSxcbiAgICAgIHRyYXBDYXB0dXJlZEV2ZW50OiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgaGFuZGxlKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gaGFuZGxlO1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRXZlbnRMaXN0ZW5lci5jYXB0dXJlKGVsZW1lbnQsIGhhbmRsZXJCYXNlTmFtZSwgUmVhY3RFdmVudExpc3RlbmVyLmRpc3BhdGNoRXZlbnQuYmluZChudWxsLCB0b3BMZXZlbFR5cGUpKTtcbiAgICAgIH0sXG4gICAgICBtb25pdG9yU2Nyb2xsVmFsdWU6IGZ1bmN0aW9uKHJlZnJlc2gpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gc2Nyb2xsVmFsdWVNb25pdG9yLmJpbmQobnVsbCwgcmVmcmVzaCk7XG4gICAgICAgIEV2ZW50TGlzdGVuZXIubGlzdGVuKHdpbmRvdywgJ3Njcm9sbCcsIGNhbGxiYWNrKTtcbiAgICAgIH0sXG4gICAgICBkaXNwYXRjaEV2ZW50OiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gICAgICAgIGlmICghUmVhY3RFdmVudExpc3RlbmVyLl9lbmFibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib29rS2VlcGluZyA9IFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZy5nZXRQb29sZWQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgUmVhY3RVcGRhdGVzLmJhdGNoZWRVcGRhdGVzKGhhbmRsZVRvcExldmVsSW1wbCwgYm9va0tlZXBpbmcpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZy5yZWxlYXNlKGJvb2tLZWVwaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdEV2ZW50TGlzdGVuZXI7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjYxXCIsIFtcIjFiXCIsIFwiMTBcIiwgXCI2MlwiLCBcIjQ1XCIsIFwiNjNcIiwgXCI2NFwiLCBcIjRlXCIsIFwiNjVcIiwgXCIxMlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIERPTVByb3BlcnR5ID0gJF9fcmVxdWlyZSgnMWInKTtcbiAgdmFyIEV2ZW50UGx1Z2luSHViID0gJF9fcmVxdWlyZSgnMTAnKTtcbiAgdmFyIEV2ZW50UGx1Z2luVXRpbHMgPSAkX19yZXF1aXJlKCc2MicpO1xuICB2YXIgUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudCA9ICRfX3JlcXVpcmUoJzQ1Jyk7XG4gIHZhciBSZWFjdENsYXNzID0gJF9fcmVxdWlyZSgnNjMnKTtcbiAgdmFyIFJlYWN0RW1wdHlDb21wb25lbnQgPSAkX19yZXF1aXJlKCc2NCcpO1xuICB2YXIgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyID0gJF9fcmVxdWlyZSgnNGUnKTtcbiAgdmFyIFJlYWN0TmF0aXZlQ29tcG9uZW50ID0gJF9fcmVxdWlyZSgnNjUnKTtcbiAgdmFyIFJlYWN0VXBkYXRlcyA9ICRfX3JlcXVpcmUoJzEyJyk7XG4gIHZhciBSZWFjdEluamVjdGlvbiA9IHtcbiAgICBDb21wb25lbnQ6IFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQuaW5qZWN0aW9uLFxuICAgIENsYXNzOiBSZWFjdENsYXNzLmluamVjdGlvbixcbiAgICBET01Qcm9wZXJ0eTogRE9NUHJvcGVydHkuaW5qZWN0aW9uLFxuICAgIEVtcHR5Q29tcG9uZW50OiBSZWFjdEVtcHR5Q29tcG9uZW50LmluamVjdGlvbixcbiAgICBFdmVudFBsdWdpbkh1YjogRXZlbnRQbHVnaW5IdWIuaW5qZWN0aW9uLFxuICAgIEV2ZW50UGx1Z2luVXRpbHM6IEV2ZW50UGx1Z2luVXRpbHMuaW5qZWN0aW9uLFxuICAgIEV2ZW50RW1pdHRlcjogUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmluamVjdGlvbixcbiAgICBOYXRpdmVDb21wb25lbnQ6IFJlYWN0TmF0aXZlQ29tcG9uZW50LmluamVjdGlvbixcbiAgICBVcGRhdGVzOiBSZWFjdFVwZGF0ZXMuaW5qZWN0aW9uXG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RJbmplY3Rpb247XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNjZcIiwgW1wiNlwiLCBcIjY3XCIsIFwiNFwiLCBcIjRlXCIsIFwiNjhcIiwgXCI0YVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gIHZhciBDYWxsYmFja1F1ZXVlID0gJF9fcmVxdWlyZSgnNjcnKTtcbiAgdmFyIFBvb2xlZENsYXNzID0gJF9fcmVxdWlyZSgnNCcpO1xuICB2YXIgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyID0gJF9fcmVxdWlyZSgnNGUnKTtcbiAgdmFyIFJlYWN0SW5wdXRTZWxlY3Rpb24gPSAkX19yZXF1aXJlKCc2OCcpO1xuICB2YXIgVHJhbnNhY3Rpb24gPSAkX19yZXF1aXJlKCc0YScpO1xuICB2YXIgU0VMRUNUSU9OX1JFU1RPUkFUSU9OID0ge1xuICAgIGluaXRpYWxpemU6IFJlYWN0SW5wdXRTZWxlY3Rpb24uZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb24sXG4gICAgY2xvc2U6IFJlYWN0SW5wdXRTZWxlY3Rpb24ucmVzdG9yZVNlbGVjdGlvblxuICB9O1xuICB2YXIgRVZFTlRfU1VQUFJFU1NJT04gPSB7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY3VycmVudGx5RW5hYmxlZCA9IFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5pc0VuYWJsZWQoKTtcbiAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgIHJldHVybiBjdXJyZW50bHlFbmFibGVkO1xuICAgIH0sXG4gICAgY2xvc2U6IGZ1bmN0aW9uKHByZXZpb3VzbHlFbmFibGVkKSB7XG4gICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuc2V0RW5hYmxlZChwcmV2aW91c2x5RW5hYmxlZCk7XG4gICAgfVxuICB9O1xuICB2YXIgT05fRE9NX1JFQURZX1FVRVVFSU5HID0ge1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5yZWFjdE1vdW50UmVhZHkucmVzZXQoKTtcbiAgICB9LFxuICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMucmVhY3RNb3VudFJlYWR5Lm5vdGlmeUFsbCgpO1xuICAgIH1cbiAgfTtcbiAgdmFyIFRSQU5TQUNUSU9OX1dSQVBQRVJTID0gW1NFTEVDVElPTl9SRVNUT1JBVElPTiwgRVZFTlRfU1VQUFJFU1NJT04sIE9OX0RPTV9SRUFEWV9RVUVVRUlOR107XG4gIGZ1bmN0aW9uIFJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24odXNlQ3JlYXRlRWxlbWVudCkge1xuICAgIHRoaXMucmVpbml0aWFsaXplVHJhbnNhY3Rpb24oKTtcbiAgICB0aGlzLnJlbmRlclRvU3RhdGljTWFya3VwID0gZmFsc2U7XG4gICAgdGhpcy5yZWFjdE1vdW50UmVhZHkgPSBDYWxsYmFja1F1ZXVlLmdldFBvb2xlZChudWxsKTtcbiAgICB0aGlzLnVzZUNyZWF0ZUVsZW1lbnQgPSB1c2VDcmVhdGVFbGVtZW50O1xuICB9XG4gIHZhciBNaXhpbiA9IHtcbiAgICBnZXRUcmFuc2FjdGlvbldyYXBwZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBUUkFOU0FDVElPTl9XUkFQUEVSUztcbiAgICB9LFxuICAgIGdldFJlYWN0TW91bnRSZWFkeTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWFjdE1vdW50UmVhZHk7XG4gICAgfSxcbiAgICBjaGVja3BvaW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlYWN0TW91bnRSZWFkeS5jaGVja3BvaW50KCk7XG4gICAgfSxcbiAgICByb2xsYmFjazogZnVuY3Rpb24oY2hlY2twb2ludCkge1xuICAgICAgdGhpcy5yZWFjdE1vdW50UmVhZHkucm9sbGJhY2soY2hlY2twb2ludCk7XG4gICAgfSxcbiAgICBkZXN0cnVjdG9yOiBmdW5jdGlvbigpIHtcbiAgICAgIENhbGxiYWNrUXVldWUucmVsZWFzZSh0aGlzLnJlYWN0TW91bnRSZWFkeSk7XG4gICAgICB0aGlzLnJlYWN0TW91bnRSZWFkeSA9IG51bGw7XG4gICAgfVxuICB9O1xuICBfYXNzaWduKFJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24ucHJvdG90eXBlLCBUcmFuc2FjdGlvbi5NaXhpbiwgTWl4aW4pO1xuICBQb29sZWRDbGFzcy5hZGRQb29saW5nVG8oUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbik7XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI2OVwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIE5TID0ge1xuICAgIHhsaW5rOiAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsXG4gICAgeG1sOiAnaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlJ1xuICB9O1xuICB2YXIgQVRUUlMgPSB7XG4gICAgYWNjZW50SGVpZ2h0OiAnYWNjZW50LWhlaWdodCcsXG4gICAgYWNjdW11bGF0ZTogMCxcbiAgICBhZGRpdGl2ZTogMCxcbiAgICBhbGlnbm1lbnRCYXNlbGluZTogJ2FsaWdubWVudC1iYXNlbGluZScsXG4gICAgYWxsb3dSZW9yZGVyOiAnYWxsb3dSZW9yZGVyJyxcbiAgICBhbHBoYWJldGljOiAwLFxuICAgIGFtcGxpdHVkZTogMCxcbiAgICBhcmFiaWNGb3JtOiAnYXJhYmljLWZvcm0nLFxuICAgIGFzY2VudDogMCxcbiAgICBhdHRyaWJ1dGVOYW1lOiAnYXR0cmlidXRlTmFtZScsXG4gICAgYXR0cmlidXRlVHlwZTogJ2F0dHJpYnV0ZVR5cGUnLFxuICAgIGF1dG9SZXZlcnNlOiAnYXV0b1JldmVyc2UnLFxuICAgIGF6aW11dGg6IDAsXG4gICAgYmFzZUZyZXF1ZW5jeTogJ2Jhc2VGcmVxdWVuY3knLFxuICAgIGJhc2VQcm9maWxlOiAnYmFzZVByb2ZpbGUnLFxuICAgIGJhc2VsaW5lU2hpZnQ6ICdiYXNlbGluZS1zaGlmdCcsXG4gICAgYmJveDogMCxcbiAgICBiZWdpbjogMCxcbiAgICBiaWFzOiAwLFxuICAgIGJ5OiAwLFxuICAgIGNhbGNNb2RlOiAnY2FsY01vZGUnLFxuICAgIGNhcEhlaWdodDogJ2NhcC1oZWlnaHQnLFxuICAgIGNsaXA6IDAsXG4gICAgY2xpcFBhdGg6ICdjbGlwLXBhdGgnLFxuICAgIGNsaXBSdWxlOiAnY2xpcC1ydWxlJyxcbiAgICBjbGlwUGF0aFVuaXRzOiAnY2xpcFBhdGhVbml0cycsXG4gICAgY29sb3JJbnRlcnBvbGF0aW9uOiAnY29sb3ItaW50ZXJwb2xhdGlvbicsXG4gICAgY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVyczogJ2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVycycsXG4gICAgY29sb3JQcm9maWxlOiAnY29sb3ItcHJvZmlsZScsXG4gICAgY29sb3JSZW5kZXJpbmc6ICdjb2xvci1yZW5kZXJpbmcnLFxuICAgIGNvbnRlbnRTY3JpcHRUeXBlOiAnY29udGVudFNjcmlwdFR5cGUnLFxuICAgIGNvbnRlbnRTdHlsZVR5cGU6ICdjb250ZW50U3R5bGVUeXBlJyxcbiAgICBjdXJzb3I6IDAsXG4gICAgY3g6IDAsXG4gICAgY3k6IDAsXG4gICAgZDogMCxcbiAgICBkZWNlbGVyYXRlOiAwLFxuICAgIGRlc2NlbnQ6IDAsXG4gICAgZGlmZnVzZUNvbnN0YW50OiAnZGlmZnVzZUNvbnN0YW50JyxcbiAgICBkaXJlY3Rpb246IDAsXG4gICAgZGlzcGxheTogMCxcbiAgICBkaXZpc29yOiAwLFxuICAgIGRvbWluYW50QmFzZWxpbmU6ICdkb21pbmFudC1iYXNlbGluZScsXG4gICAgZHVyOiAwLFxuICAgIGR4OiAwLFxuICAgIGR5OiAwLFxuICAgIGVkZ2VNb2RlOiAnZWRnZU1vZGUnLFxuICAgIGVsZXZhdGlvbjogMCxcbiAgICBlbmFibGVCYWNrZ3JvdW5kOiAnZW5hYmxlLWJhY2tncm91bmQnLFxuICAgIGVuZDogMCxcbiAgICBleHBvbmVudDogMCxcbiAgICBleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkOiAnZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCcsXG4gICAgZmlsbDogMCxcbiAgICBmaWxsT3BhY2l0eTogJ2ZpbGwtb3BhY2l0eScsXG4gICAgZmlsbFJ1bGU6ICdmaWxsLXJ1bGUnLFxuICAgIGZpbHRlcjogMCxcbiAgICBmaWx0ZXJSZXM6ICdmaWx0ZXJSZXMnLFxuICAgIGZpbHRlclVuaXRzOiAnZmlsdGVyVW5pdHMnLFxuICAgIGZsb29kQ29sb3I6ICdmbG9vZC1jb2xvcicsXG4gICAgZmxvb2RPcGFjaXR5OiAnZmxvb2Qtb3BhY2l0eScsXG4gICAgZm9jdXNhYmxlOiAwLFxuICAgIGZvbnRGYW1pbHk6ICdmb250LWZhbWlseScsXG4gICAgZm9udFNpemU6ICdmb250LXNpemUnLFxuICAgIGZvbnRTaXplQWRqdXN0OiAnZm9udC1zaXplLWFkanVzdCcsXG4gICAgZm9udFN0cmV0Y2g6ICdmb250LXN0cmV0Y2gnLFxuICAgIGZvbnRTdHlsZTogJ2ZvbnQtc3R5bGUnLFxuICAgIGZvbnRWYXJpYW50OiAnZm9udC12YXJpYW50JyxcbiAgICBmb250V2VpZ2h0OiAnZm9udC13ZWlnaHQnLFxuICAgIGZvcm1hdDogMCxcbiAgICBmcm9tOiAwLFxuICAgIGZ4OiAwLFxuICAgIGZ5OiAwLFxuICAgIGcxOiAwLFxuICAgIGcyOiAwLFxuICAgIGdseXBoTmFtZTogJ2dseXBoLW5hbWUnLFxuICAgIGdseXBoT3JpZW50YXRpb25Ib3Jpem9udGFsOiAnZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCcsXG4gICAgZ2x5cGhPcmllbnRhdGlvblZlcnRpY2FsOiAnZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwnLFxuICAgIGdseXBoUmVmOiAnZ2x5cGhSZWYnLFxuICAgIGdyYWRpZW50VHJhbnNmb3JtOiAnZ3JhZGllbnRUcmFuc2Zvcm0nLFxuICAgIGdyYWRpZW50VW5pdHM6ICdncmFkaWVudFVuaXRzJyxcbiAgICBoYW5naW5nOiAwLFxuICAgIGhvcml6QWR2WDogJ2hvcml6LWFkdi14JyxcbiAgICBob3Jpek9yaWdpblg6ICdob3Jpei1vcmlnaW4teCcsXG4gICAgaWRlb2dyYXBoaWM6IDAsXG4gICAgaW1hZ2VSZW5kZXJpbmc6ICdpbWFnZS1yZW5kZXJpbmcnLFxuICAgICdpbic6IDAsXG4gICAgaW4yOiAwLFxuICAgIGludGVyY2VwdDogMCxcbiAgICBrOiAwLFxuICAgIGsxOiAwLFxuICAgIGsyOiAwLFxuICAgIGszOiAwLFxuICAgIGs0OiAwLFxuICAgIGtlcm5lbE1hdHJpeDogJ2tlcm5lbE1hdHJpeCcsXG4gICAga2VybmVsVW5pdExlbmd0aDogJ2tlcm5lbFVuaXRMZW5ndGgnLFxuICAgIGtlcm5pbmc6IDAsXG4gICAga2V5UG9pbnRzOiAna2V5UG9pbnRzJyxcbiAgICBrZXlTcGxpbmVzOiAna2V5U3BsaW5lcycsXG4gICAga2V5VGltZXM6ICdrZXlUaW1lcycsXG4gICAgbGVuZ3RoQWRqdXN0OiAnbGVuZ3RoQWRqdXN0JyxcbiAgICBsZXR0ZXJTcGFjaW5nOiAnbGV0dGVyLXNwYWNpbmcnLFxuICAgIGxpZ2h0aW5nQ29sb3I6ICdsaWdodGluZy1jb2xvcicsXG4gICAgbGltaXRpbmdDb25lQW5nbGU6ICdsaW1pdGluZ0NvbmVBbmdsZScsXG4gICAgbG9jYWw6IDAsXG4gICAgbWFya2VyRW5kOiAnbWFya2VyLWVuZCcsXG4gICAgbWFya2VyTWlkOiAnbWFya2VyLW1pZCcsXG4gICAgbWFya2VyU3RhcnQ6ICdtYXJrZXItc3RhcnQnLFxuICAgIG1hcmtlckhlaWdodDogJ21hcmtlckhlaWdodCcsXG4gICAgbWFya2VyVW5pdHM6ICdtYXJrZXJVbml0cycsXG4gICAgbWFya2VyV2lkdGg6ICdtYXJrZXJXaWR0aCcsXG4gICAgbWFzazogMCxcbiAgICBtYXNrQ29udGVudFVuaXRzOiAnbWFza0NvbnRlbnRVbml0cycsXG4gICAgbWFza1VuaXRzOiAnbWFza1VuaXRzJyxcbiAgICBtYXRoZW1hdGljYWw6IDAsXG4gICAgbW9kZTogMCxcbiAgICBudW1PY3RhdmVzOiAnbnVtT2N0YXZlcycsXG4gICAgb2Zmc2V0OiAwLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgb3BlcmF0b3I6IDAsXG4gICAgb3JkZXI6IDAsXG4gICAgb3JpZW50OiAwLFxuICAgIG9yaWVudGF0aW9uOiAwLFxuICAgIG9yaWdpbjogMCxcbiAgICBvdmVyZmxvdzogMCxcbiAgICBvdmVybGluZVBvc2l0aW9uOiAnb3ZlcmxpbmUtcG9zaXRpb24nLFxuICAgIG92ZXJsaW5lVGhpY2tuZXNzOiAnb3ZlcmxpbmUtdGhpY2tuZXNzJyxcbiAgICBwYWludE9yZGVyOiAncGFpbnQtb3JkZXInLFxuICAgIHBhbm9zZTE6ICdwYW5vc2UtMScsXG4gICAgcGF0aExlbmd0aDogJ3BhdGhMZW5ndGgnLFxuICAgIHBhdHRlcm5Db250ZW50VW5pdHM6ICdwYXR0ZXJuQ29udGVudFVuaXRzJyxcbiAgICBwYXR0ZXJuVHJhbnNmb3JtOiAncGF0dGVyblRyYW5zZm9ybScsXG4gICAgcGF0dGVyblVuaXRzOiAncGF0dGVyblVuaXRzJyxcbiAgICBwb2ludGVyRXZlbnRzOiAncG9pbnRlci1ldmVudHMnLFxuICAgIHBvaW50czogMCxcbiAgICBwb2ludHNBdFg6ICdwb2ludHNBdFgnLFxuICAgIHBvaW50c0F0WTogJ3BvaW50c0F0WScsXG4gICAgcG9pbnRzQXRaOiAncG9pbnRzQXRaJyxcbiAgICBwcmVzZXJ2ZUFscGhhOiAncHJlc2VydmVBbHBoYScsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLFxuICAgIHByaW1pdGl2ZVVuaXRzOiAncHJpbWl0aXZlVW5pdHMnLFxuICAgIHI6IDAsXG4gICAgcmFkaXVzOiAwLFxuICAgIHJlZlg6ICdyZWZYJyxcbiAgICByZWZZOiAncmVmWScsXG4gICAgcmVuZGVyaW5nSW50ZW50OiAncmVuZGVyaW5nLWludGVudCcsXG4gICAgcmVwZWF0Q291bnQ6ICdyZXBlYXRDb3VudCcsXG4gICAgcmVwZWF0RHVyOiAncmVwZWF0RHVyJyxcbiAgICByZXF1aXJlZEV4dGVuc2lvbnM6ICdyZXF1aXJlZEV4dGVuc2lvbnMnLFxuICAgIHJlcXVpcmVkRmVhdHVyZXM6ICdyZXF1aXJlZEZlYXR1cmVzJyxcbiAgICByZXN0YXJ0OiAwLFxuICAgIHJlc3VsdDogMCxcbiAgICByb3RhdGU6IDAsXG4gICAgcng6IDAsXG4gICAgcnk6IDAsXG4gICAgc2NhbGU6IDAsXG4gICAgc2VlZDogMCxcbiAgICBzaGFwZVJlbmRlcmluZzogJ3NoYXBlLXJlbmRlcmluZycsXG4gICAgc2xvcGU6IDAsXG4gICAgc3BhY2luZzogMCxcbiAgICBzcGVjdWxhckNvbnN0YW50OiAnc3BlY3VsYXJDb25zdGFudCcsXG4gICAgc3BlY3VsYXJFeHBvbmVudDogJ3NwZWN1bGFyRXhwb25lbnQnLFxuICAgIHNwZWVkOiAwLFxuICAgIHNwcmVhZE1ldGhvZDogJ3NwcmVhZE1ldGhvZCcsXG4gICAgc3RhcnRPZmZzZXQ6ICdzdGFydE9mZnNldCcsXG4gICAgc3RkRGV2aWF0aW9uOiAnc3RkRGV2aWF0aW9uJyxcbiAgICBzdGVtaDogMCxcbiAgICBzdGVtdjogMCxcbiAgICBzdGl0Y2hUaWxlczogJ3N0aXRjaFRpbGVzJyxcbiAgICBzdG9wQ29sb3I6ICdzdG9wLWNvbG9yJyxcbiAgICBzdG9wT3BhY2l0eTogJ3N0b3Atb3BhY2l0eScsXG4gICAgc3RyaWtldGhyb3VnaFBvc2l0aW9uOiAnc3RyaWtldGhyb3VnaC1wb3NpdGlvbicsXG4gICAgc3RyaWtldGhyb3VnaFRoaWNrbmVzczogJ3N0cmlrZXRocm91Z2gtdGhpY2tuZXNzJyxcbiAgICBzdHJpbmc6IDAsXG4gICAgc3Ryb2tlOiAwLFxuICAgIHN0cm9rZURhc2hhcnJheTogJ3N0cm9rZS1kYXNoYXJyYXknLFxuICAgIHN0cm9rZURhc2hvZmZzZXQ6ICdzdHJva2UtZGFzaG9mZnNldCcsXG4gICAgc3Ryb2tlTGluZWNhcDogJ3N0cm9rZS1saW5lY2FwJyxcbiAgICBzdHJva2VMaW5lam9pbjogJ3N0cm9rZS1saW5lam9pbicsXG4gICAgc3Ryb2tlTWl0ZXJsaW1pdDogJ3N0cm9rZS1taXRlcmxpbWl0JyxcbiAgICBzdHJva2VPcGFjaXR5OiAnc3Ryb2tlLW9wYWNpdHknLFxuICAgIHN0cm9rZVdpZHRoOiAnc3Ryb2tlLXdpZHRoJyxcbiAgICBzdXJmYWNlU2NhbGU6ICdzdXJmYWNlU2NhbGUnLFxuICAgIHN5c3RlbUxhbmd1YWdlOiAnc3lzdGVtTGFuZ3VhZ2UnLFxuICAgIHRhYmxlVmFsdWVzOiAndGFibGVWYWx1ZXMnLFxuICAgIHRhcmdldFg6ICd0YXJnZXRYJyxcbiAgICB0YXJnZXRZOiAndGFyZ2V0WScsXG4gICAgdGV4dEFuY2hvcjogJ3RleHQtYW5jaG9yJyxcbiAgICB0ZXh0RGVjb3JhdGlvbjogJ3RleHQtZGVjb3JhdGlvbicsXG4gICAgdGV4dFJlbmRlcmluZzogJ3RleHQtcmVuZGVyaW5nJyxcbiAgICB0ZXh0TGVuZ3RoOiAndGV4dExlbmd0aCcsXG4gICAgdG86IDAsXG4gICAgdHJhbnNmb3JtOiAwLFxuICAgIHUxOiAwLFxuICAgIHUyOiAwLFxuICAgIHVuZGVybGluZVBvc2l0aW9uOiAndW5kZXJsaW5lLXBvc2l0aW9uJyxcbiAgICB1bmRlcmxpbmVUaGlja25lc3M6ICd1bmRlcmxpbmUtdGhpY2tuZXNzJyxcbiAgICB1bmljb2RlOiAwLFxuICAgIHVuaWNvZGVCaWRpOiAndW5pY29kZS1iaWRpJyxcbiAgICB1bmljb2RlUmFuZ2U6ICd1bmljb2RlLXJhbmdlJyxcbiAgICB1bml0c1BlckVtOiAndW5pdHMtcGVyLWVtJyxcbiAgICB2QWxwaGFiZXRpYzogJ3YtYWxwaGFiZXRpYycsXG4gICAgdkhhbmdpbmc6ICd2LWhhbmdpbmcnLFxuICAgIHZJZGVvZ3JhcGhpYzogJ3YtaWRlb2dyYXBoaWMnLFxuICAgIHZNYXRoZW1hdGljYWw6ICd2LW1hdGhlbWF0aWNhbCcsXG4gICAgdmFsdWVzOiAwLFxuICAgIHZlY3RvckVmZmVjdDogJ3ZlY3Rvci1lZmZlY3QnLFxuICAgIHZlcnNpb246IDAsXG4gICAgdmVydEFkdlk6ICd2ZXJ0LWFkdi15JyxcbiAgICB2ZXJ0T3JpZ2luWDogJ3ZlcnQtb3JpZ2luLXgnLFxuICAgIHZlcnRPcmlnaW5ZOiAndmVydC1vcmlnaW4teScsXG4gICAgdmlld0JveDogJ3ZpZXdCb3gnLFxuICAgIHZpZXdUYXJnZXQ6ICd2aWV3VGFyZ2V0JyxcbiAgICB2aXNpYmlsaXR5OiAwLFxuICAgIHdpZHRoczogMCxcbiAgICB3b3JkU3BhY2luZzogJ3dvcmQtc3BhY2luZycsXG4gICAgd3JpdGluZ01vZGU6ICd3cml0aW5nLW1vZGUnLFxuICAgIHg6IDAsXG4gICAgeEhlaWdodDogJ3gtaGVpZ2h0JyxcbiAgICB4MTogMCxcbiAgICB4MjogMCxcbiAgICB4Q2hhbm5lbFNlbGVjdG9yOiAneENoYW5uZWxTZWxlY3RvcicsXG4gICAgeGxpbmtBY3R1YXRlOiAneGxpbms6YWN0dWF0ZScsXG4gICAgeGxpbmtBcmNyb2xlOiAneGxpbms6YXJjcm9sZScsXG4gICAgeGxpbmtIcmVmOiAneGxpbms6aHJlZicsXG4gICAgeGxpbmtSb2xlOiAneGxpbms6cm9sZScsXG4gICAgeGxpbmtTaG93OiAneGxpbms6c2hvdycsXG4gICAgeGxpbmtUaXRsZTogJ3hsaW5rOnRpdGxlJyxcbiAgICB4bGlua1R5cGU6ICd4bGluazp0eXBlJyxcbiAgICB4bWxCYXNlOiAneG1sOmJhc2UnLFxuICAgIHhtbExhbmc6ICd4bWw6bGFuZycsXG4gICAgeG1sU3BhY2U6ICd4bWw6c3BhY2UnLFxuICAgIHk6IDAsXG4gICAgeTE6IDAsXG4gICAgeTI6IDAsXG4gICAgeUNoYW5uZWxTZWxlY3RvcjogJ3lDaGFubmVsU2VsZWN0b3InLFxuICAgIHo6IDAsXG4gICAgem9vbUFuZFBhbjogJ3pvb21BbmRQYW4nXG4gIH07XG4gIHZhciBTVkdET01Qcm9wZXJ0eUNvbmZpZyA9IHtcbiAgICBQcm9wZXJ0aWVzOiB7fSxcbiAgICBET01BdHRyaWJ1dGVOYW1lc3BhY2VzOiB7XG4gICAgICB4bGlua0FjdHVhdGU6IE5TLnhsaW5rLFxuICAgICAgeGxpbmtBcmNyb2xlOiBOUy54bGluayxcbiAgICAgIHhsaW5rSHJlZjogTlMueGxpbmssXG4gICAgICB4bGlua1JvbGU6IE5TLnhsaW5rLFxuICAgICAgeGxpbmtTaG93OiBOUy54bGluayxcbiAgICAgIHhsaW5rVGl0bGU6IE5TLnhsaW5rLFxuICAgICAgeGxpbmtUeXBlOiBOUy54bGluayxcbiAgICAgIHhtbEJhc2U6IE5TLnhtbCxcbiAgICAgIHhtbExhbmc6IE5TLnhtbCxcbiAgICAgIHhtbFNwYWNlOiBOUy54bWxcbiAgICB9LFxuICAgIERPTUF0dHJpYnV0ZU5hbWVzOiB7fVxuICB9O1xuICBPYmplY3Qua2V5cyhBVFRSUykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBTVkdET01Qcm9wZXJ0eUNvbmZpZy5Qcm9wZXJ0aWVzW2tleV0gPSAwO1xuICAgIGlmIChBVFRSU1trZXldKSB7XG4gICAgICBTVkdET01Qcm9wZXJ0eUNvbmZpZy5ET01BdHRyaWJ1dGVOYW1lc1trZXldID0gQVRUUlNba2V5XTtcbiAgICB9XG4gIH0pO1xuICBtb2R1bGUuZXhwb3J0cyA9IFNWR0RPTVByb3BlcnR5Q29uZmlnO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjZhXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBmdW5jdGlvbiBnZXRMZWFmTm9kZShub2RlKSB7XG4gICAgd2hpbGUgKG5vZGUgJiYgbm9kZS5maXJzdENoaWxkKSB7XG4gICAgICBub2RlID0gbm9kZS5maXJzdENoaWxkO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICBmdW5jdGlvbiBnZXRTaWJsaW5nTm9kZShub2RlKSB7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChyb290LCBvZmZzZXQpIHtcbiAgICB2YXIgbm9kZSA9IGdldExlYWZOb2RlKHJvb3QpO1xuICAgIHZhciBub2RlU3RhcnQgPSAwO1xuICAgIHZhciBub2RlRW5kID0gMDtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgICAgbm9kZUVuZCA9IG5vZGVTdGFydCArIG5vZGUudGV4dENvbnRlbnQubGVuZ3RoO1xuICAgICAgICBpZiAobm9kZVN0YXJ0IDw9IG9mZnNldCAmJiBub2RlRW5kID49IG9mZnNldCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICAgICAgb2Zmc2V0OiBvZmZzZXQgLSBub2RlU3RhcnRcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIG5vZGVTdGFydCA9IG5vZGVFbmQ7XG4gICAgICB9XG4gICAgICBub2RlID0gZ2V0TGVhZk5vZGUoZ2V0U2libGluZ05vZGUobm9kZSkpO1xuICAgIH1cbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQ7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNVwiLCBbXCJkXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSAkX19yZXF1aXJlKCdkJyk7XG4gIHZhciBjb250ZW50S2V5ID0gbnVsbDtcbiAgZnVuY3Rpb24gZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcigpIHtcbiAgICBpZiAoIWNvbnRlbnRLZXkgJiYgRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgICBjb250ZW50S2V5ID0gJ3RleHRDb250ZW50JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgPyAndGV4dENvbnRlbnQnIDogJ2lubmVyVGV4dCc7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50S2V5O1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI2YlwiLCBbXCJkXCIsIFwiNmFcIiwgXCI1XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSAkX19yZXF1aXJlKCdkJyk7XG4gIHZhciBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0ID0gJF9fcmVxdWlyZSgnNmEnKTtcbiAgdmFyIGdldFRleHRDb250ZW50QWNjZXNzb3IgPSAkX19yZXF1aXJlKCc1Jyk7XG4gIGZ1bmN0aW9uIGlzQ29sbGFwc2VkKGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCwgZm9jdXNOb2RlLCBmb2N1c09mZnNldCkge1xuICAgIHJldHVybiBhbmNob3JOb2RlID09PSBmb2N1c05vZGUgJiYgYW5jaG9yT2Zmc2V0ID09PSBmb2N1c09mZnNldDtcbiAgfVxuICBmdW5jdGlvbiBnZXRJRU9mZnNldHMobm9kZSkge1xuICAgIHZhciBzZWxlY3Rpb24gPSBkb2N1bWVudC5zZWxlY3Rpb247XG4gICAgdmFyIHNlbGVjdGVkUmFuZ2UgPSBzZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcbiAgICB2YXIgc2VsZWN0ZWRMZW5ndGggPSBzZWxlY3RlZFJhbmdlLnRleHQubGVuZ3RoO1xuICAgIHZhciBmcm9tU3RhcnQgPSBzZWxlY3RlZFJhbmdlLmR1cGxpY2F0ZSgpO1xuICAgIGZyb21TdGFydC5tb3ZlVG9FbGVtZW50VGV4dChub2RlKTtcbiAgICBmcm9tU3RhcnQuc2V0RW5kUG9pbnQoJ0VuZFRvU3RhcnQnLCBzZWxlY3RlZFJhbmdlKTtcbiAgICB2YXIgc3RhcnRPZmZzZXQgPSBmcm9tU3RhcnQudGV4dC5sZW5ndGg7XG4gICAgdmFyIGVuZE9mZnNldCA9IHN0YXJ0T2Zmc2V0ICsgc2VsZWN0ZWRMZW5ndGg7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0OiBzdGFydE9mZnNldCxcbiAgICAgIGVuZDogZW5kT2Zmc2V0XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBnZXRNb2Rlcm5PZmZzZXRzKG5vZGUpIHtcbiAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbiAmJiB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKCFzZWxlY3Rpb24gfHwgc2VsZWN0aW9uLnJhbmdlQ291bnQgPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgYW5jaG9yTm9kZSA9IHNlbGVjdGlvbi5hbmNob3JOb2RlO1xuICAgIHZhciBhbmNob3JPZmZzZXQgPSBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0O1xuICAgIHZhciBmb2N1c05vZGUgPSBzZWxlY3Rpb24uZm9jdXNOb2RlO1xuICAgIHZhciBmb2N1c09mZnNldCA9IHNlbGVjdGlvbi5mb2N1c09mZnNldDtcbiAgICB2YXIgY3VycmVudFJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG4gICAgdHJ5IHtcbiAgICAgIGN1cnJlbnRSYW5nZS5zdGFydENvbnRhaW5lci5ub2RlVHlwZTtcbiAgICAgIGN1cnJlbnRSYW5nZS5lbmRDb250YWluZXIubm9kZVR5cGU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBpc1NlbGVjdGlvbkNvbGxhcHNlZCA9IGlzQ29sbGFwc2VkKHNlbGVjdGlvbi5hbmNob3JOb2RlLCBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0LCBzZWxlY3Rpb24uZm9jdXNOb2RlLCBzZWxlY3Rpb24uZm9jdXNPZmZzZXQpO1xuICAgIHZhciByYW5nZUxlbmd0aCA9IGlzU2VsZWN0aW9uQ29sbGFwc2VkID8gMCA6IGN1cnJlbnRSYW5nZS50b1N0cmluZygpLmxlbmd0aDtcbiAgICB2YXIgdGVtcFJhbmdlID0gY3VycmVudFJhbmdlLmNsb25lUmFuZ2UoKTtcbiAgICB0ZW1wUmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKG5vZGUpO1xuICAgIHRlbXBSYW5nZS5zZXRFbmQoY3VycmVudFJhbmdlLnN0YXJ0Q29udGFpbmVyLCBjdXJyZW50UmFuZ2Uuc3RhcnRPZmZzZXQpO1xuICAgIHZhciBpc1RlbXBSYW5nZUNvbGxhcHNlZCA9IGlzQ29sbGFwc2VkKHRlbXBSYW5nZS5zdGFydENvbnRhaW5lciwgdGVtcFJhbmdlLnN0YXJ0T2Zmc2V0LCB0ZW1wUmFuZ2UuZW5kQ29udGFpbmVyLCB0ZW1wUmFuZ2UuZW5kT2Zmc2V0KTtcbiAgICB2YXIgc3RhcnQgPSBpc1RlbXBSYW5nZUNvbGxhcHNlZCA/IDAgOiB0ZW1wUmFuZ2UudG9TdHJpbmcoKS5sZW5ndGg7XG4gICAgdmFyIGVuZCA9IHN0YXJ0ICsgcmFuZ2VMZW5ndGg7XG4gICAgdmFyIGRldGVjdGlvblJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICBkZXRlY3Rpb25SYW5nZS5zZXRTdGFydChhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQpO1xuICAgIGRldGVjdGlvblJhbmdlLnNldEVuZChmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KTtcbiAgICB2YXIgaXNCYWNrd2FyZCA9IGRldGVjdGlvblJhbmdlLmNvbGxhcHNlZDtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQ6IGlzQmFja3dhcmQgPyBlbmQgOiBzdGFydCxcbiAgICAgIGVuZDogaXNCYWNrd2FyZCA/IHN0YXJ0IDogZW5kXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBzZXRJRU9mZnNldHMobm9kZSwgb2Zmc2V0cykge1xuICAgIHZhciByYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLmR1cGxpY2F0ZSgpO1xuICAgIHZhciBzdGFydCxcbiAgICAgICAgZW5kO1xuICAgIGlmIChvZmZzZXRzLmVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdGFydCA9IG9mZnNldHMuc3RhcnQ7XG4gICAgICBlbmQgPSBzdGFydDtcbiAgICB9IGVsc2UgaWYgKG9mZnNldHMuc3RhcnQgPiBvZmZzZXRzLmVuZCkge1xuICAgICAgc3RhcnQgPSBvZmZzZXRzLmVuZDtcbiAgICAgIGVuZCA9IG9mZnNldHMuc3RhcnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0ID0gb2Zmc2V0cy5zdGFydDtcbiAgICAgIGVuZCA9IG9mZnNldHMuZW5kO1xuICAgIH1cbiAgICByYW5nZS5tb3ZlVG9FbGVtZW50VGV4dChub2RlKTtcbiAgICByYW5nZS5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIHN0YXJ0KTtcbiAgICByYW5nZS5zZXRFbmRQb2ludCgnRW5kVG9TdGFydCcsIHJhbmdlKTtcbiAgICByYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXInLCBlbmQgLSBzdGFydCk7XG4gICAgcmFuZ2Uuc2VsZWN0KCk7XG4gIH1cbiAgZnVuY3Rpb24gc2V0TW9kZXJuT2Zmc2V0cyhub2RlLCBvZmZzZXRzKSB7XG4gICAgaWYgKCF3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgdmFyIGxlbmd0aCA9IG5vZGVbZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcigpXS5sZW5ndGg7XG4gICAgdmFyIHN0YXJ0ID0gTWF0aC5taW4ob2Zmc2V0cy5zdGFydCwgbGVuZ3RoKTtcbiAgICB2YXIgZW5kID0gb2Zmc2V0cy5lbmQgPT09IHVuZGVmaW5lZCA/IHN0YXJ0IDogTWF0aC5taW4ob2Zmc2V0cy5lbmQsIGxlbmd0aCk7XG4gICAgaWYgKCFzZWxlY3Rpb24uZXh0ZW5kICYmIHN0YXJ0ID4gZW5kKSB7XG4gICAgICB2YXIgdGVtcCA9IGVuZDtcbiAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgc3RhcnQgPSB0ZW1wO1xuICAgIH1cbiAgICB2YXIgc3RhcnRNYXJrZXIgPSBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0KG5vZGUsIHN0YXJ0KTtcbiAgICB2YXIgZW5kTWFya2VyID0gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChub2RlLCBlbmQpO1xuICAgIGlmIChzdGFydE1hcmtlciAmJiBlbmRNYXJrZXIpIHtcbiAgICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICByYW5nZS5zZXRTdGFydChzdGFydE1hcmtlci5ub2RlLCBzdGFydE1hcmtlci5vZmZzZXQpO1xuICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgaWYgKHN0YXJ0ID4gZW5kKSB7XG4gICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgIHNlbGVjdGlvbi5leHRlbmQoZW5kTWFya2VyLm5vZGUsIGVuZE1hcmtlci5vZmZzZXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmFuZ2Uuc2V0RW5kKGVuZE1hcmtlci5ub2RlLCBlbmRNYXJrZXIub2Zmc2V0KTtcbiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdmFyIHVzZUlFT2Zmc2V0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnc2VsZWN0aW9uJyBpbiBkb2N1bWVudCAmJiAhKCdnZXRTZWxlY3Rpb24nIGluIHdpbmRvdyk7XG4gIHZhciBSZWFjdERPTVNlbGVjdGlvbiA9IHtcbiAgICBnZXRPZmZzZXRzOiB1c2VJRU9mZnNldHMgPyBnZXRJRU9mZnNldHMgOiBnZXRNb2Rlcm5PZmZzZXRzLFxuICAgIHNldE9mZnNldHM6IHVzZUlFT2Zmc2V0cyA/IHNldElFT2Zmc2V0cyA6IHNldE1vZGVybk9mZnNldHNcbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTVNlbGVjdGlvbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI2Y1wiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZnVuY3Rpb24gaXNOb2RlKG9iamVjdCkge1xuICAgIHJldHVybiAhIShvYmplY3QgJiYgKHR5cGVvZiBOb2RlID09PSAnZnVuY3Rpb24nID8gb2JqZWN0IGluc3RhbmNlb2YgTm9kZSA6IHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmplY3Qubm9kZVR5cGUgPT09ICdudW1iZXInICYmIHR5cGVvZiBvYmplY3Qubm9kZU5hbWUgPT09ICdzdHJpbmcnKSk7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBpc05vZGU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNmRcIiwgW1wiNmNcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBpc05vZGUgPSAkX19yZXF1aXJlKCc2YycpO1xuICBmdW5jdGlvbiBpc1RleHROb2RlKG9iamVjdCkge1xuICAgIHJldHVybiBpc05vZGUob2JqZWN0KSAmJiBvYmplY3Qubm9kZVR5cGUgPT0gMztcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGlzVGV4dE5vZGU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNmVcIiwgW1wiNmRcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBpc1RleHROb2RlID0gJF9fcmVxdWlyZSgnNmQnKTtcbiAgZnVuY3Rpb24gY29udGFpbnNOb2RlKG91dGVyTm9kZSwgaW5uZXJOb2RlKSB7XG4gICAgaWYgKCFvdXRlck5vZGUgfHwgIWlubmVyTm9kZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAob3V0ZXJOb2RlID09PSBpbm5lck5vZGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaXNUZXh0Tm9kZShvdXRlck5vZGUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChpc1RleHROb2RlKGlubmVyTm9kZSkpIHtcbiAgICAgIHJldHVybiBjb250YWluc05vZGUob3V0ZXJOb2RlLCBpbm5lck5vZGUucGFyZW50Tm9kZSk7XG4gICAgfSBlbHNlIGlmIChvdXRlck5vZGUuY29udGFpbnMpIHtcbiAgICAgIHJldHVybiBvdXRlck5vZGUuY29udGFpbnMoaW5uZXJOb2RlKTtcbiAgICB9IGVsc2UgaWYgKG91dGVyTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikge1xuICAgICAgcmV0dXJuICEhKG91dGVyTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpbm5lck5vZGUpICYgMTYpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gY29udGFpbnNOb2RlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjFkXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBmdW5jdGlvbiBmb2N1c05vZGUobm9kZSkge1xuICAgIHRyeSB7XG4gICAgICBub2RlLmZvY3VzKCk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGZvY3VzTm9kZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI2OFwiLCBbXCI2YlwiLCBcIjZlXCIsIFwiMWRcIiwgXCI2ZlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFJlYWN0RE9NU2VsZWN0aW9uID0gJF9fcmVxdWlyZSgnNmInKTtcbiAgdmFyIGNvbnRhaW5zTm9kZSA9ICRfX3JlcXVpcmUoJzZlJyk7XG4gIHZhciBmb2N1c05vZGUgPSAkX19yZXF1aXJlKCcxZCcpO1xuICB2YXIgZ2V0QWN0aXZlRWxlbWVudCA9ICRfX3JlcXVpcmUoJzZmJyk7XG4gIGZ1bmN0aW9uIGlzSW5Eb2N1bWVudChub2RlKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5zTm9kZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIG5vZGUpO1xuICB9XG4gIHZhciBSZWFjdElucHV0U2VsZWN0aW9uID0ge1xuICAgIGhhc1NlbGVjdGlvbkNhcGFiaWxpdGllczogZnVuY3Rpb24oZWxlbSkge1xuICAgICAgdmFyIG5vZGVOYW1lID0gZWxlbSAmJiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiBub2RlTmFtZSAmJiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgZWxlbS50eXBlID09PSAndGV4dCcgfHwgbm9kZU5hbWUgPT09ICd0ZXh0YXJlYScgfHwgZWxlbS5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJyk7XG4gICAgfSxcbiAgICBnZXRTZWxlY3Rpb25JbmZvcm1hdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZm9jdXNlZEVsZW0gPSBnZXRBY3RpdmVFbGVtZW50KCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmb2N1c2VkRWxlbTogZm9jdXNlZEVsZW0sXG4gICAgICAgIHNlbGVjdGlvblJhbmdlOiBSZWFjdElucHV0U2VsZWN0aW9uLmhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhmb2N1c2VkRWxlbSkgPyBSZWFjdElucHV0U2VsZWN0aW9uLmdldFNlbGVjdGlvbihmb2N1c2VkRWxlbSkgOiBudWxsXG4gICAgICB9O1xuICAgIH0sXG4gICAgcmVzdG9yZVNlbGVjdGlvbjogZnVuY3Rpb24ocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbikge1xuICAgICAgdmFyIGN1ckZvY3VzZWRFbGVtID0gZ2V0QWN0aXZlRWxlbWVudCgpO1xuICAgICAgdmFyIHByaW9yRm9jdXNlZEVsZW0gPSBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLmZvY3VzZWRFbGVtO1xuICAgICAgdmFyIHByaW9yU2VsZWN0aW9uUmFuZ2UgPSBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLnNlbGVjdGlvblJhbmdlO1xuICAgICAgaWYgKGN1ckZvY3VzZWRFbGVtICE9PSBwcmlvckZvY3VzZWRFbGVtICYmIGlzSW5Eb2N1bWVudChwcmlvckZvY3VzZWRFbGVtKSkge1xuICAgICAgICBpZiAoUmVhY3RJbnB1dFNlbGVjdGlvbi5oYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMocHJpb3JGb2N1c2VkRWxlbSkpIHtcbiAgICAgICAgICBSZWFjdElucHV0U2VsZWN0aW9uLnNldFNlbGVjdGlvbihwcmlvckZvY3VzZWRFbGVtLCBwcmlvclNlbGVjdGlvblJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBmb2N1c05vZGUocHJpb3JGb2N1c2VkRWxlbSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRTZWxlY3Rpb246IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICB2YXIgc2VsZWN0aW9uO1xuICAgICAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gaW5wdXQpIHtcbiAgICAgICAgc2VsZWN0aW9uID0ge1xuICAgICAgICAgIHN0YXJ0OiBpbnB1dC5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICBlbmQ6IGlucHV0LnNlbGVjdGlvbkVuZFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24gJiYgaW5wdXQubm9kZU5hbWUgJiYgaW5wdXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0Jykge1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgaWYgKHJhbmdlLnBhcmVudEVsZW1lbnQoKSA9PT0gaW5wdXQpIHtcbiAgICAgICAgICBzZWxlY3Rpb24gPSB7XG4gICAgICAgICAgICBzdGFydDogLXJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgLWlucHV0LnZhbHVlLmxlbmd0aCksXG4gICAgICAgICAgICBlbmQ6IC1yYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXInLCAtaW5wdXQudmFsdWUubGVuZ3RoKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IFJlYWN0RE9NU2VsZWN0aW9uLmdldE9mZnNldHMoaW5wdXQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbGVjdGlvbiB8fCB7XG4gICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICBlbmQ6IDBcbiAgICAgIH07XG4gICAgfSxcbiAgICBzZXRTZWxlY3Rpb246IGZ1bmN0aW9uKGlucHV0LCBvZmZzZXRzKSB7XG4gICAgICB2YXIgc3RhcnQgPSBvZmZzZXRzLnN0YXJ0O1xuICAgICAgdmFyIGVuZCA9IG9mZnNldHMuZW5kO1xuICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgfVxuICAgICAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gaW5wdXQpIHtcbiAgICAgICAgaW5wdXQuc2VsZWN0aW9uU3RhcnQgPSBzdGFydDtcbiAgICAgICAgaW5wdXQuc2VsZWN0aW9uRW5kID0gTWF0aC5taW4oZW5kLCBpbnB1dC52YWx1ZS5sZW5ndGgpO1xuICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24gJiYgaW5wdXQubm9kZU5hbWUgJiYgaW5wdXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0Jykge1xuICAgICAgICB2YXIgcmFuZ2UgPSBpbnB1dC5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgICAgIHJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgc3RhcnQpO1xuICAgICAgICByYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXInLCBlbmQgLSBzdGFydCk7XG4gICAgICAgIHJhbmdlLnNlbGVjdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgUmVhY3RET01TZWxlY3Rpb24uc2V0T2Zmc2V0cyhpbnB1dCwgb2Zmc2V0cyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0SW5wdXRTZWxlY3Rpb247XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNmZcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuYm9keTtcbiAgICB9XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBnZXRBY3RpdmVFbGVtZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjE1XCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgc3VwcG9ydGVkSW5wdXRUeXBlcyA9IHtcbiAgICAnY29sb3InOiB0cnVlLFxuICAgICdkYXRlJzogdHJ1ZSxcbiAgICAnZGF0ZXRpbWUnOiB0cnVlLFxuICAgICdkYXRldGltZS1sb2NhbCc6IHRydWUsXG4gICAgJ2VtYWlsJzogdHJ1ZSxcbiAgICAnbW9udGgnOiB0cnVlLFxuICAgICdudW1iZXInOiB0cnVlLFxuICAgICdwYXNzd29yZCc6IHRydWUsXG4gICAgJ3JhbmdlJzogdHJ1ZSxcbiAgICAnc2VhcmNoJzogdHJ1ZSxcbiAgICAndGVsJzogdHJ1ZSxcbiAgICAndGV4dCc6IHRydWUsXG4gICAgJ3RpbWUnOiB0cnVlLFxuICAgICd1cmwnOiB0cnVlLFxuICAgICd3ZWVrJzogdHJ1ZVxuICB9O1xuICBmdW5jdGlvbiBpc1RleHRJbnB1dEVsZW1lbnQoZWxlbSkge1xuICAgIHZhciBub2RlTmFtZSA9IGVsZW0gJiYgZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIG5vZGVOYW1lICYmIChub2RlTmFtZSA9PT0gJ2lucHV0JyAmJiBzdXBwb3J0ZWRJbnB1dFR5cGVzW2VsZW0udHlwZV0gfHwgbm9kZU5hbWUgPT09ICd0ZXh0YXJlYScpO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gaXNUZXh0SW5wdXRFbGVtZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjUxXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuICBmdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcbiAgICBpZiAoaXMob2JqQSwgb2JqQikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iakEgIT09ICdvYmplY3QnIHx8IG9iakEgPT09IG51bGwgfHwgdHlwZW9mIG9iakIgIT09ICdvYmplY3QnIHx8IG9iakIgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gICAgdmFyIGtleXNCID0gT2JqZWN0LmtleXMob2JqQik7XG4gICAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgIWlzKG9iakFba2V5c0FbaV1dLCBvYmpCW2tleXNBW2ldXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IHNoYWxsb3dFcXVhbDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI3MFwiLCBbXCJiXCIsIFwiY1wiLCBcImRcIiwgXCIxMVwiLCBcIjY4XCIsIFwiOFwiLCBcIjZmXCIsIFwiMTVcIiwgXCJlXCIsIFwiNTFcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBFdmVudENvbnN0YW50cyA9ICRfX3JlcXVpcmUoJ2InKTtcbiAgdmFyIEV2ZW50UHJvcGFnYXRvcnMgPSAkX19yZXF1aXJlKCdjJyk7XG4gIHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9ICRfX3JlcXVpcmUoJ2QnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9ICRfX3JlcXVpcmUoJzExJyk7XG4gIHZhciBSZWFjdElucHV0U2VsZWN0aW9uID0gJF9fcmVxdWlyZSgnNjgnKTtcbiAgdmFyIFN5bnRoZXRpY0V2ZW50ID0gJF9fcmVxdWlyZSgnOCcpO1xuICB2YXIgZ2V0QWN0aXZlRWxlbWVudCA9ICRfX3JlcXVpcmUoJzZmJyk7XG4gIHZhciBpc1RleHRJbnB1dEVsZW1lbnQgPSAkX19yZXF1aXJlKCcxNScpO1xuICB2YXIga2V5T2YgPSAkX19yZXF1aXJlKCdlJyk7XG4gIHZhciBzaGFsbG93RXF1YWwgPSAkX19yZXF1aXJlKCc1MScpO1xuICB2YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG4gIHZhciBza2lwU2VsZWN0aW9uQ2hhbmdlRXZlbnQgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIDw9IDExO1xuICB2YXIgZXZlbnRUeXBlcyA9IHtzZWxlY3Q6IHtcbiAgICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblNlbGVjdDogbnVsbH0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uU2VsZWN0Q2FwdHVyZTogbnVsbH0pXG4gICAgICB9LFxuICAgICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BCbHVyLCB0b3BMZXZlbFR5cGVzLnRvcENvbnRleHRNZW51LCB0b3BMZXZlbFR5cGVzLnRvcEZvY3VzLCB0b3BMZXZlbFR5cGVzLnRvcEtleURvd24sIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duLCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlVXAsIHRvcExldmVsVHlwZXMudG9wU2VsZWN0aW9uQ2hhbmdlXVxuICAgIH19O1xuICB2YXIgYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gIHZhciBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGw7XG4gIHZhciBsYXN0U2VsZWN0aW9uID0gbnVsbDtcbiAgdmFyIG1vdXNlRG93biA9IGZhbHNlO1xuICB2YXIgaGFzTGlzdGVuZXIgPSBmYWxzZTtcbiAgdmFyIE9OX1NFTEVDVF9LRVkgPSBrZXlPZih7b25TZWxlY3Q6IG51bGx9KTtcbiAgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKG5vZGUpIHtcbiAgICBpZiAoJ3NlbGVjdGlvblN0YXJ0JyBpbiBub2RlICYmIFJlYWN0SW5wdXRTZWxlY3Rpb24uaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKG5vZGUpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDogbm9kZS5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgZW5kOiBub2RlLnNlbGVjdGlvbkVuZFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcbiAgICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbmNob3JOb2RlOiBzZWxlY3Rpb24uYW5jaG9yTm9kZSxcbiAgICAgICAgYW5jaG9yT2Zmc2V0OiBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0LFxuICAgICAgICBmb2N1c05vZGU6IHNlbGVjdGlvbi5mb2N1c05vZGUsXG4gICAgICAgIGZvY3VzT2Zmc2V0OiBzZWxlY3Rpb24uZm9jdXNPZmZzZXRcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcbiAgICAgIHZhciByYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGFyZW50RWxlbWVudDogcmFuZ2UucGFyZW50RWxlbWVudCgpLFxuICAgICAgICB0ZXh0OiByYW5nZS50ZXh0LFxuICAgICAgICB0b3A6IHJhbmdlLmJvdW5kaW5nVG9wLFxuICAgICAgICBsZWZ0OiByYW5nZS5ib3VuZGluZ0xlZnRcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGNvbnN0cnVjdFNlbGVjdEV2ZW50KG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIGlmIChtb3VzZURvd24gfHwgYWN0aXZlRWxlbWVudCA9PSBudWxsIHx8IGFjdGl2ZUVsZW1lbnQgIT09IGdldEFjdGl2ZUVsZW1lbnQoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBjdXJyZW50U2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKGFjdGl2ZUVsZW1lbnQpO1xuICAgIGlmICghbGFzdFNlbGVjdGlvbiB8fCAhc2hhbGxvd0VxdWFsKGxhc3RTZWxlY3Rpb24sIGN1cnJlbnRTZWxlY3Rpb24pKSB7XG4gICAgICBsYXN0U2VsZWN0aW9uID0gY3VycmVudFNlbGVjdGlvbjtcbiAgICAgIHZhciBzeW50aGV0aWNFdmVudCA9IFN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChldmVudFR5cGVzLnNlbGVjdCwgYWN0aXZlRWxlbWVudEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICBzeW50aGV0aWNFdmVudC50eXBlID0gJ3NlbGVjdCc7XG4gICAgICBzeW50aGV0aWNFdmVudC50YXJnZXQgPSBhY3RpdmVFbGVtZW50O1xuICAgICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKHN5bnRoZXRpY0V2ZW50KTtcbiAgICAgIHJldHVybiBzeW50aGV0aWNFdmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIFNlbGVjdEV2ZW50UGx1Z2luID0ge1xuICAgIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG4gICAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICAgIGlmICghaGFzTGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB2YXIgdGFyZ2V0Tm9kZSA9IHRhcmdldEluc3QgPyBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZSh0YXJnZXRJbnN0KSA6IHdpbmRvdztcbiAgICAgIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BGb2N1czpcbiAgICAgICAgICBpZiAoaXNUZXh0SW5wdXRFbGVtZW50KHRhcmdldE5vZGUpIHx8IHRhcmdldE5vZGUuY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnQgPSB0YXJnZXROb2RlO1xuICAgICAgICAgICAgYWN0aXZlRWxlbWVudEluc3QgPSB0YXJnZXRJbnN0O1xuICAgICAgICAgICAgbGFzdFNlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQmx1cjpcbiAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGw7XG4gICAgICAgICAgbGFzdFNlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZURvd246XG4gICAgICAgICAgbW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbnRleHRNZW51OlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VVcDpcbiAgICAgICAgICBtb3VzZURvd24gPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gY29uc3RydWN0U2VsZWN0RXZlbnQobmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFNlbGVjdGlvbkNoYW5nZTpcbiAgICAgICAgICBpZiAoc2tpcFNlbGVjdGlvbkNoYW5nZUV2ZW50KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wS2V5VXA6XG4gICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdFNlbGVjdEV2ZW50KG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGRpZFB1dExpc3RlbmVyOiBmdW5jdGlvbihpbnN0LCByZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lcikge1xuICAgICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWUgPT09IE9OX1NFTEVDVF9LRVkpIHtcbiAgICAgICAgaGFzTGlzdGVuZXIgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBTZWxlY3RFdmVudFBsdWdpbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI2MFwiLCBbXCI0OFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBlbXB0eUZ1bmN0aW9uID0gJF9fcmVxdWlyZSgnNDgnKTtcbiAgICB2YXIgRXZlbnRMaXN0ZW5lciA9IHtcbiAgICAgIGxpc3RlbjogZnVuY3Rpb24odGFyZ2V0LCBldmVudFR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgICByZXR1cm4ge3JlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgICAgIH19O1xuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldC5hdHRhY2hFdmVudCkge1xuICAgICAgICAgIHRhcmdldC5hdHRhY2hFdmVudCgnb24nICsgZXZlbnRUeXBlLCBjYWxsYmFjayk7XG4gICAgICAgICAgcmV0dXJuIHtyZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB0YXJnZXQuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50VHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfX07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYXB0dXJlOiBmdW5jdGlvbih0YXJnZXQsIGV2ZW50VHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRhcmdldC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIHtyZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgICAgIH19O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdBdHRlbXB0ZWQgdG8gbGlzdGVuIHRvIGV2ZW50cyBkdXJpbmcgdGhlIGNhcHR1cmUgcGhhc2Ugb24gYSAnICsgJ2Jyb3dzZXIgdGhhdCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBjYXB0dXJlIHBoYXNlLiBZb3VyIGFwcGxpY2F0aW9uICcgKyAnd2lsbCBub3QgcmVjZWl2ZSBzb21lIGV2ZW50cy4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHtyZW1vdmU6IGVtcHR5RnVuY3Rpb259O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVnaXN0ZXJEZWZhdWx0OiBmdW5jdGlvbigpIHt9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50TGlzdGVuZXI7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImNcIiwgW1wiYlwiLCBcIjEwXCIsIFwiNjJcIiwgXCI3MVwiLCBcIjcyXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRXZlbnRDb25zdGFudHMgPSAkX19yZXF1aXJlKCdiJyk7XG4gICAgdmFyIEV2ZW50UGx1Z2luSHViID0gJF9fcmVxdWlyZSgnMTAnKTtcbiAgICB2YXIgRXZlbnRQbHVnaW5VdGlscyA9ICRfX3JlcXVpcmUoJzYyJyk7XG4gICAgdmFyIGFjY3VtdWxhdGVJbnRvID0gJF9fcmVxdWlyZSgnNzEnKTtcbiAgICB2YXIgZm9yRWFjaEFjY3VtdWxhdGVkID0gJF9fcmVxdWlyZSgnNzInKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIFByb3BhZ2F0aW9uUGhhc2VzID0gRXZlbnRDb25zdGFudHMuUHJvcGFnYXRpb25QaGFzZXM7XG4gICAgdmFyIGdldExpc3RlbmVyID0gRXZlbnRQbHVnaW5IdWIuZ2V0TGlzdGVuZXI7XG4gICAgZnVuY3Rpb24gbGlzdGVuZXJBdFBoYXNlKGluc3QsIGV2ZW50LCBwcm9wYWdhdGlvblBoYXNlKSB7XG4gICAgICB2YXIgcmVnaXN0cmF0aW9uTmFtZSA9IGV2ZW50LmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3Byb3BhZ2F0aW9uUGhhc2VdO1xuICAgICAgcmV0dXJuIGdldExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzKGluc3QsIHVwd2FyZHMsIGV2ZW50KSB7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhpbnN0LCAnRGlzcGF0Y2hpbmcgaW5zdCBtdXN0IG5vdCBiZSBudWxsJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICB2YXIgcGhhc2UgPSB1cHdhcmRzID8gUHJvcGFnYXRpb25QaGFzZXMuYnViYmxlZCA6IFByb3BhZ2F0aW9uUGhhc2VzLmNhcHR1cmVkO1xuICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJBdFBoYXNlKGluc3QsIGV2ZW50LCBwaGFzZSk7XG4gICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzLCBsaXN0ZW5lcik7XG4gICAgICAgIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcywgaW5zdCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGUoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgICAgICBFdmVudFBsdWdpblV0aWxzLnRyYXZlcnNlVHdvUGhhc2UoZXZlbnQuX3RhcmdldEluc3QsIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZVNraXBUYXJnZXQoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgICAgICB2YXIgdGFyZ2V0SW5zdCA9IGV2ZW50Ll90YXJnZXRJbnN0O1xuICAgICAgICB2YXIgcGFyZW50SW5zdCA9IHRhcmdldEluc3QgPyBFdmVudFBsdWdpblV0aWxzLmdldFBhcmVudEluc3RhbmNlKHRhcmdldEluc3QpIDogbnVsbDtcbiAgICAgICAgRXZlbnRQbHVnaW5VdGlscy50cmF2ZXJzZVR3b1BoYXNlKHBhcmVudEluc3QsIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYWNjdW11bGF0ZURpc3BhdGNoZXMoaW5zdCwgaWdub3JlZERpcmVjdGlvbiwgZXZlbnQpIHtcbiAgICAgIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciByZWdpc3RyYXRpb25OYW1lID0gZXZlbnQuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZTtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gZ2V0TGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSk7XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycywgbGlzdGVuZXIpO1xuICAgICAgICAgIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcywgaW5zdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNTaW5nbGUoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICAgIGFjY3VtdWxhdGVEaXNwYXRjaGVzKGV2ZW50Ll90YXJnZXRJbnN0LCBudWxsLCBldmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnRzKSB7XG4gICAgICBmb3JFYWNoQWNjdW11bGF0ZWQoZXZlbnRzLCBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQoZXZlbnRzKSB7XG4gICAgICBmb3JFYWNoQWNjdW11bGF0ZWQoZXZlbnRzLCBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlU2tpcFRhcmdldCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlcyhsZWF2ZSwgZW50ZXIsIGZyb20sIHRvKSB7XG4gICAgICBFdmVudFBsdWdpblV0aWxzLnRyYXZlcnNlRW50ZXJMZWF2ZShmcm9tLCB0bywgYWNjdW11bGF0ZURpc3BhdGNoZXMsIGxlYXZlLCBlbnRlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzKGV2ZW50cykge1xuICAgICAgZm9yRWFjaEFjY3VtdWxhdGVkKGV2ZW50cywgYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNTaW5nbGUpO1xuICAgIH1cbiAgICB2YXIgRXZlbnRQcm9wYWdhdG9ycyA9IHtcbiAgICAgIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXM6IGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMsXG4gICAgICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2tpcFRhcmdldDogYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQsXG4gICAgICBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlczogYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXMsXG4gICAgICBhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXM6IGFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlc1xuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudFByb3BhZ2F0b3JzO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI3M1wiLCBbXCI4XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgU3ludGhldGljRXZlbnQgPSAkX19yZXF1aXJlKCc4Jyk7XG4gIHZhciBBbmltYXRpb25FdmVudEludGVyZmFjZSA9IHtcbiAgICBhbmltYXRpb25OYW1lOiBudWxsLFxuICAgIGVsYXBzZWRUaW1lOiBudWxsLFxuICAgIHBzZXVkb0VsZW1lbnQ6IG51bGxcbiAgfTtcbiAgZnVuY3Rpb24gU3ludGhldGljQW5pbWF0aW9uRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICByZXR1cm4gU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gIH1cbiAgU3ludGhldGljRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50LCBBbmltYXRpb25FdmVudEludGVyZmFjZSk7XG4gIG1vZHVsZS5leHBvcnRzID0gU3ludGhldGljQW5pbWF0aW9uRXZlbnQ7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNzRcIiwgW1wiOFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFN5bnRoZXRpY0V2ZW50ID0gJF9fcmVxdWlyZSgnOCcpO1xuICB2YXIgQ2xpcGJvYXJkRXZlbnRJbnRlcmZhY2UgPSB7Y2xpcGJvYXJkRGF0YTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHJldHVybiAnY2xpcGJvYXJkRGF0YScgaW4gZXZlbnQgPyBldmVudC5jbGlwYm9hcmREYXRhIDogd2luZG93LmNsaXBib2FyZERhdGE7XG4gICAgfX07XG4gIGZ1bmN0aW9uIFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgcmV0dXJuIFN5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICB9XG4gIFN5bnRoZXRpY0V2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNDbGlwYm9hcmRFdmVudCwgQ2xpcGJvYXJkRXZlbnRJbnRlcmZhY2UpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjc1XCIsIFtcIjc2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgU3ludGhldGljVUlFdmVudCA9ICRfX3JlcXVpcmUoJzc2Jyk7XG4gIHZhciBGb2N1c0V2ZW50SW50ZXJmYWNlID0ge3JlbGF0ZWRUYXJnZXQ6IG51bGx9O1xuICBmdW5jdGlvbiBTeW50aGV0aWNGb2N1c0V2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgcmV0dXJuIFN5bnRoZXRpY1VJRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gIH1cbiAgU3ludGhldGljVUlFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljRm9jdXNFdmVudCwgRm9jdXNFdmVudEludGVyZmFjZSk7XG4gIG1vZHVsZS5leHBvcnRzID0gU3ludGhldGljRm9jdXNFdmVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI3N1wiLCBbXCI3OFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGdldEV2ZW50Q2hhckNvZGUgPSAkX19yZXF1aXJlKCc3OCcpO1xuICB2YXIgbm9ybWFsaXplS2V5ID0ge1xuICAgICdFc2MnOiAnRXNjYXBlJyxcbiAgICAnU3BhY2ViYXInOiAnICcsXG4gICAgJ0xlZnQnOiAnQXJyb3dMZWZ0JyxcbiAgICAnVXAnOiAnQXJyb3dVcCcsXG4gICAgJ1JpZ2h0JzogJ0Fycm93UmlnaHQnLFxuICAgICdEb3duJzogJ0Fycm93RG93bicsXG4gICAgJ0RlbCc6ICdEZWxldGUnLFxuICAgICdXaW4nOiAnT1MnLFxuICAgICdNZW51JzogJ0NvbnRleHRNZW51JyxcbiAgICAnQXBwcyc6ICdDb250ZXh0TWVudScsXG4gICAgJ1Njcm9sbCc6ICdTY3JvbGxMb2NrJyxcbiAgICAnTW96UHJpbnRhYmxlS2V5JzogJ1VuaWRlbnRpZmllZCdcbiAgfTtcbiAgdmFyIHRyYW5zbGF0ZVRvS2V5ID0ge1xuICAgIDg6ICdCYWNrc3BhY2UnLFxuICAgIDk6ICdUYWInLFxuICAgIDEyOiAnQ2xlYXInLFxuICAgIDEzOiAnRW50ZXInLFxuICAgIDE2OiAnU2hpZnQnLFxuICAgIDE3OiAnQ29udHJvbCcsXG4gICAgMTg6ICdBbHQnLFxuICAgIDE5OiAnUGF1c2UnLFxuICAgIDIwOiAnQ2Fwc0xvY2snLFxuICAgIDI3OiAnRXNjYXBlJyxcbiAgICAzMjogJyAnLFxuICAgIDMzOiAnUGFnZVVwJyxcbiAgICAzNDogJ1BhZ2VEb3duJyxcbiAgICAzNTogJ0VuZCcsXG4gICAgMzY6ICdIb21lJyxcbiAgICAzNzogJ0Fycm93TGVmdCcsXG4gICAgMzg6ICdBcnJvd1VwJyxcbiAgICAzOTogJ0Fycm93UmlnaHQnLFxuICAgIDQwOiAnQXJyb3dEb3duJyxcbiAgICA0NTogJ0luc2VydCcsXG4gICAgNDY6ICdEZWxldGUnLFxuICAgIDExMjogJ0YxJyxcbiAgICAxMTM6ICdGMicsXG4gICAgMTE0OiAnRjMnLFxuICAgIDExNTogJ0Y0JyxcbiAgICAxMTY6ICdGNScsXG4gICAgMTE3OiAnRjYnLFxuICAgIDExODogJ0Y3JyxcbiAgICAxMTk6ICdGOCcsXG4gICAgMTIwOiAnRjknLFxuICAgIDEyMTogJ0YxMCcsXG4gICAgMTIyOiAnRjExJyxcbiAgICAxMjM6ICdGMTInLFxuICAgIDE0NDogJ051bUxvY2snLFxuICAgIDE0NTogJ1Njcm9sbExvY2snLFxuICAgIDIyNDogJ01ldGEnXG4gIH07XG4gIGZ1bmN0aW9uIGdldEV2ZW50S2V5KG5hdGl2ZUV2ZW50KSB7XG4gICAgaWYgKG5hdGl2ZUV2ZW50LmtleSkge1xuICAgICAgdmFyIGtleSA9IG5vcm1hbGl6ZUtleVtuYXRpdmVFdmVudC5rZXldIHx8IG5hdGl2ZUV2ZW50LmtleTtcbiAgICAgIGlmIChrZXkgIT09ICdVbmlkZW50aWZpZWQnKSB7XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuYXRpdmVFdmVudC50eXBlID09PSAna2V5cHJlc3MnKSB7XG4gICAgICB2YXIgY2hhckNvZGUgPSBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KTtcbiAgICAgIHJldHVybiBjaGFyQ29kZSA9PT0gMTMgPyAnRW50ZXInIDogU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSk7XG4gICAgfVxuICAgIGlmIChuYXRpdmVFdmVudC50eXBlID09PSAna2V5ZG93bicgfHwgbmF0aXZlRXZlbnQudHlwZSA9PT0gJ2tleXVwJykge1xuICAgICAgcmV0dXJuIHRyYW5zbGF0ZVRvS2V5W25hdGl2ZUV2ZW50LmtleUNvZGVdIHx8ICdVbmlkZW50aWZpZWQnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBnZXRFdmVudEtleTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI3OVwiLCBbXCI3NlwiLCBcIjc4XCIsIFwiNzdcIiwgXCI3YVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFN5bnRoZXRpY1VJRXZlbnQgPSAkX19yZXF1aXJlKCc3NicpO1xuICB2YXIgZ2V0RXZlbnRDaGFyQ29kZSA9ICRfX3JlcXVpcmUoJzc4Jyk7XG4gIHZhciBnZXRFdmVudEtleSA9ICRfX3JlcXVpcmUoJzc3Jyk7XG4gIHZhciBnZXRFdmVudE1vZGlmaWVyU3RhdGUgPSAkX19yZXF1aXJlKCc3YScpO1xuICB2YXIgS2V5Ym9hcmRFdmVudEludGVyZmFjZSA9IHtcbiAgICBrZXk6IGdldEV2ZW50S2V5LFxuICAgIGxvY2F0aW9uOiBudWxsLFxuICAgIGN0cmxLZXk6IG51bGwsXG4gICAgc2hpZnRLZXk6IG51bGwsXG4gICAgYWx0S2V5OiBudWxsLFxuICAgIG1ldGFLZXk6IG51bGwsXG4gICAgcmVwZWF0OiBudWxsLFxuICAgIGxvY2FsZTogbnVsbCxcbiAgICBnZXRNb2RpZmllclN0YXRlOiBnZXRFdmVudE1vZGlmaWVyU3RhdGUsXG4gICAgY2hhckNvZGU6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleXByZXNzJykge1xuICAgICAgICByZXR1cm4gZ2V0RXZlbnRDaGFyQ29kZShldmVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgIGtleUNvZGU6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LmtleUNvZGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgIHdoaWNoOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICAgICAgcmV0dXJuIGdldEV2ZW50Q2hhckNvZGUoZXZlbnQpO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJyB8fCBldmVudC50eXBlID09PSAna2V5dXAnKSB7XG4gICAgICAgIHJldHVybiBldmVudC5rZXlDb2RlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBTeW50aGV0aWNLZXlib2FyZEV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgcmV0dXJuIFN5bnRoZXRpY1VJRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gIH1cbiAgU3ludGhldGljVUlFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljS2V5Ym9hcmRFdmVudCwgS2V5Ym9hcmRFdmVudEludGVyZmFjZSk7XG4gIG1vZHVsZS5leHBvcnRzID0gU3ludGhldGljS2V5Ym9hcmRFdmVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI3YlwiLCBbXCIxOVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFN5bnRoZXRpY01vdXNlRXZlbnQgPSAkX19yZXF1aXJlKCcxOScpO1xuICB2YXIgRHJhZ0V2ZW50SW50ZXJmYWNlID0ge2RhdGFUcmFuc2ZlcjogbnVsbH07XG4gIGZ1bmN0aW9uIFN5bnRoZXRpY0RyYWdFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHJldHVybiBTeW50aGV0aWNNb3VzZUV2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICB9XG4gIFN5bnRoZXRpY01vdXNlRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY0RyYWdFdmVudCwgRHJhZ0V2ZW50SW50ZXJmYWNlKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNEcmFnRXZlbnQ7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiN2NcIiwgW1wiNzZcIiwgXCI3YVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFN5bnRoZXRpY1VJRXZlbnQgPSAkX19yZXF1aXJlKCc3NicpO1xuICB2YXIgZ2V0RXZlbnRNb2RpZmllclN0YXRlID0gJF9fcmVxdWlyZSgnN2EnKTtcbiAgdmFyIFRvdWNoRXZlbnRJbnRlcmZhY2UgPSB7XG4gICAgdG91Y2hlczogbnVsbCxcbiAgICB0YXJnZXRUb3VjaGVzOiBudWxsLFxuICAgIGNoYW5nZWRUb3VjaGVzOiBudWxsLFxuICAgIGFsdEtleTogbnVsbCxcbiAgICBtZXRhS2V5OiBudWxsLFxuICAgIGN0cmxLZXk6IG51bGwsXG4gICAgc2hpZnRLZXk6IG51bGwsXG4gICAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlXG4gIH07XG4gIGZ1bmN0aW9uIFN5bnRoZXRpY1RvdWNoRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICByZXR1cm4gU3ludGhldGljVUlFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgfVxuICBTeW50aGV0aWNVSUV2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNUb3VjaEV2ZW50LCBUb3VjaEV2ZW50SW50ZXJmYWNlKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNUb3VjaEV2ZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjdkXCIsIFtcIjhcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBTeW50aGV0aWNFdmVudCA9ICRfX3JlcXVpcmUoJzgnKTtcbiAgdmFyIFRyYW5zaXRpb25FdmVudEludGVyZmFjZSA9IHtcbiAgICBwcm9wZXJ0eU5hbWU6IG51bGwsXG4gICAgZWxhcHNlZFRpbWU6IG51bGwsXG4gICAgcHNldWRvRWxlbWVudDogbnVsbFxuICB9O1xuICBmdW5jdGlvbiBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICByZXR1cm4gU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gIH1cbiAgU3ludGhldGljRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY1RyYW5zaXRpb25FdmVudCwgVHJhbnNpdGlvbkV2ZW50SW50ZXJmYWNlKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQ7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiOFwiLCBbXCI2XCIsIFwiNFwiLCBcIjQ4XCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgICB2YXIgUG9vbGVkQ2xhc3MgPSAkX19yZXF1aXJlKCc0Jyk7XG4gICAgdmFyIGVtcHR5RnVuY3Rpb24gPSAkX19yZXF1aXJlKCc0OCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgZGlkV2FybkZvckFkZGVkTmV3UHJvcGVydHkgPSBmYWxzZTtcbiAgICB2YXIgaXNQcm94eVN1cHBvcnRlZCA9IHR5cGVvZiBQcm94eSA9PT0gJ2Z1bmN0aW9uJztcbiAgICB2YXIgc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMgPSBbJ2Rpc3BhdGNoQ29uZmlnJywgJ190YXJnZXRJbnN0JywgJ25hdGl2ZUV2ZW50JywgJ2lzRGVmYXVsdFByZXZlbnRlZCcsICdpc1Byb3BhZ2F0aW9uU3RvcHBlZCcsICdfZGlzcGF0Y2hMaXN0ZW5lcnMnLCAnX2Rpc3BhdGNoSW5zdGFuY2VzJ107XG4gICAgdmFyIEV2ZW50SW50ZXJmYWNlID0ge1xuICAgICAgdHlwZTogbnVsbCxcbiAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgIGN1cnJlbnRUYXJnZXQ6IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsLFxuICAgICAgZXZlbnRQaGFzZTogbnVsbCxcbiAgICAgIGJ1YmJsZXM6IG51bGwsXG4gICAgICBjYW5jZWxhYmxlOiBudWxsLFxuICAgICAgdGltZVN0YW1wOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICByZXR1cm4gZXZlbnQudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG4gICAgICB9LFxuICAgICAgZGVmYXVsdFByZXZlbnRlZDogbnVsbCxcbiAgICAgIGlzVHJ1c3RlZDogbnVsbFxuICAgIH07XG4gICAgZnVuY3Rpb24gU3ludGhldGljRXZlbnQoZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnByZXZlbnREZWZhdWx0O1xuICAgICAgICBkZWxldGUgdGhpcy5zdG9wUHJvcGFnYXRpb247XG4gICAgICB9XG4gICAgICB0aGlzLmRpc3BhdGNoQ29uZmlnID0gZGlzcGF0Y2hDb25maWc7XG4gICAgICB0aGlzLl90YXJnZXRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgICAgIHRoaXMubmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudDtcbiAgICAgIHZhciBJbnRlcmZhY2UgPSB0aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtcbiAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIEludGVyZmFjZSkge1xuICAgICAgICBpZiAoIUludGVyZmFjZS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzW3Byb3BOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm9ybWFsaXplID0gSW50ZXJmYWNlW3Byb3BOYW1lXTtcbiAgICAgICAgaWYgKG5vcm1hbGl6ZSkge1xuICAgICAgICAgIHRoaXNbcHJvcE5hbWVdID0gbm9ybWFsaXplKG5hdGl2ZUV2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocHJvcE5hbWUgPT09ICd0YXJnZXQnKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IG5hdGl2ZUV2ZW50VGFyZ2V0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzW3Byb3BOYW1lXSA9IG5hdGl2ZUV2ZW50W3Byb3BOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBkZWZhdWx0UHJldmVudGVkID0gbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCAhPSBudWxsID8gbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCA6IG5hdGl2ZUV2ZW50LnJldHVyblZhbHVlID09PSBmYWxzZTtcbiAgICAgIGlmIChkZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2U7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX2Fzc2lnbihTeW50aGV0aWNFdmVudC5wcm90b3R5cGUsIHtcbiAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIGV2ZW50ID0gdGhpcy5uYXRpdmVFdmVudDtcbiAgICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgICAgIH0sXG4gICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZXZlbnQgPSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgICAgICBpZiAoIWV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgICAgIH0sXG4gICAgICBwZXJzaXN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5pc1BlcnNpc3RlbnQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgICAgIH0sXG4gICAgICBpc1BlcnNpc3RlbnQ6IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSxcbiAgICAgIGRlc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgSW50ZXJmYWNlID0gdGhpcy5jb25zdHJ1Y3Rvci5JbnRlcmZhY2U7XG4gICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIEludGVyZmFjZSkge1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgcHJvcE5hbWUsIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24ocHJvcE5hbWUsIEludGVyZmFjZVtwcm9wTmFtZV0pKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpc1twcm9wTmFtZV0gPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNob3VsZEJlUmVsZWFzZWRQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdGhpc1tzaG91bGRCZVJlbGVhc2VkUHJvcGVydGllc1tpXV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFyIG5vb3AgPSAkX19yZXF1aXJlKCc0OCcpO1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmF0aXZlRXZlbnQnLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKCduYXRpdmVFdmVudCcsIG51bGwpKTtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3ByZXZlbnREZWZhdWx0JywgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbigncHJldmVudERlZmF1bHQnLCBub29wKSk7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdzdG9wUHJvcGFnYXRpb24nLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKCdzdG9wUHJvcGFnYXRpb24nLCBub29wKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBTeW50aGV0aWNFdmVudC5JbnRlcmZhY2UgPSBFdmVudEludGVyZmFjZTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKGlzUHJveHlTdXBwb3J0ZWQpIHtcbiAgICAgICAgU3ludGhldGljRXZlbnQgPSBuZXcgUHJveHkoU3ludGhldGljRXZlbnQsIHtcbiAgICAgICAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uKHRhcmdldCwgYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHkodGFyZ2V0LCBPYmplY3QuY3JlYXRlKHRhcmdldC5wcm90b3R5cGUpLCBhcmdzKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFwcGx5OiBmdW5jdGlvbihjb25zdHJ1Y3RvciwgdGhhdCwgYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm94eShjb25zdHJ1Y3Rvci5hcHBseSh0aGF0LCBhcmdzKSwge3NldDogZnVuY3Rpb24odGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9wICE9PSAnaXNQZXJzaXN0ZW50JyAmJiAhdGFyZ2V0LmNvbnN0cnVjdG9yLkludGVyZmFjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJiBzaG91bGRCZVJlbGVhc2VkUHJvcGVydGllcy5pbmRleE9mKHByb3ApID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZGlkV2FybkZvckFkZGVkTmV3UHJvcGVydHkgfHwgdGFyZ2V0LmlzUGVyc2lzdGVudCgpLCAnVGhpcyBzeW50aGV0aWMgZXZlbnQgaXMgcmV1c2VkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLiBJZiB5b3VcXCdyZSAnICsgJ3NlZWluZyB0aGlzLCB5b3VcXCdyZSBhZGRpbmcgYSBuZXcgcHJvcGVydHkgaW4gdGhlIHN5bnRoZXRpYyBldmVudCBvYmplY3QuICcgKyAnVGhlIHByb3BlcnR5IGlzIG5ldmVyIHJlbGVhc2VkLiBTZWUgJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWV2ZW50LXBvb2xpbmcgZm9yIG1vcmUgaW5mb3JtYXRpb24uJykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICBkaWRXYXJuRm9yQWRkZWROZXdQcm9wZXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9fSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgU3ludGhldGljRXZlbnQuYXVnbWVudENsYXNzID0gZnVuY3Rpb24oQ2xhc3MsIEludGVyZmFjZSkge1xuICAgICAgdmFyIFN1cGVyID0gdGhpcztcbiAgICAgIHZhciBFID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgIEUucHJvdG90eXBlID0gU3VwZXIucHJvdG90eXBlO1xuICAgICAgdmFyIHByb3RvdHlwZSA9IG5ldyBFKCk7XG4gICAgICBfYXNzaWduKHByb3RvdHlwZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgICAgIENsYXNzLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgICAgIENsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENsYXNzO1xuICAgICAgQ2xhc3MuSW50ZXJmYWNlID0gX2Fzc2lnbih7fSwgU3VwZXIuSW50ZXJmYWNlLCBJbnRlcmZhY2UpO1xuICAgICAgQ2xhc3MuYXVnbWVudENsYXNzID0gU3VwZXIuYXVnbWVudENsYXNzO1xuICAgICAgUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKENsYXNzLCBQb29sZWRDbGFzcy5mb3VyQXJndW1lbnRQb29sZXIpO1xuICAgIH07XG4gICAgUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKFN5bnRoZXRpY0V2ZW50LCBQb29sZWRDbGFzcy5mb3VyQXJndW1lbnRQb29sZXIpO1xuICAgIG1vZHVsZS5leHBvcnRzID0gU3ludGhldGljRXZlbnQ7XG4gICAgZnVuY3Rpb24gZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbihwcm9wTmFtZSwgZ2V0VmFsKSB7XG4gICAgICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiBnZXRWYWwgPT09ICdmdW5jdGlvbic7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHNldDogc2V0LFxuICAgICAgICBnZXQ6IGdldFxuICAgICAgfTtcbiAgICAgIGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICAgICAgdmFyIGFjdGlvbiA9IGlzRnVuY3Rpb24gPyAnc2V0dGluZyB0aGUgbWV0aG9kJyA6ICdzZXR0aW5nIHRoZSBwcm9wZXJ0eSc7XG4gICAgICAgIHdhcm4oYWN0aW9uLCAnVGhpcyBpcyBlZmZlY3RpdmVseSBhIG5vLW9wJyk7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHZhciBhY3Rpb24gPSBpc0Z1bmN0aW9uID8gJ2FjY2Vzc2luZyB0aGUgbWV0aG9kJyA6ICdhY2Nlc3NpbmcgdGhlIHByb3BlcnR5JztcbiAgICAgICAgdmFyIHJlc3VsdCA9IGlzRnVuY3Rpb24gPyAnVGhpcyBpcyBhIG5vLW9wIGZ1bmN0aW9uJyA6ICdUaGlzIGlzIHNldCB0byBudWxsJztcbiAgICAgICAgd2FybihhY3Rpb24sIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiBnZXRWYWw7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB3YXJuKGFjdGlvbiwgcmVzdWx0KSB7XG4gICAgICAgIHZhciB3YXJuaW5nQ29uZGl0aW9uID0gZmFsc2U7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHdhcm5pbmdDb25kaXRpb24sICdUaGlzIHN5bnRoZXRpYyBldmVudCBpcyByZXVzZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuIElmIHlvdVxcJ3JlIHNlZWluZyB0aGlzLCAnICsgJ3lvdVxcJ3JlICVzIGAlc2Agb24gYSByZWxlYXNlZC9udWxsaWZpZWQgc3ludGhldGljIGV2ZW50LiAlcy4gJyArICdJZiB5b3UgbXVzdCBrZWVwIHRoZSBvcmlnaW5hbCBzeW50aGV0aWMgZXZlbnQgYXJvdW5kLCB1c2UgZXZlbnQucGVyc2lzdCgpLiAnICsgJ1NlZSBodHRwczovL2ZiLm1lL3JlYWN0LWV2ZW50LXBvb2xpbmcgZm9yIG1vcmUgaW5mb3JtYXRpb24uJywgYWN0aW9uLCBwcm9wTmFtZSwgcmVzdWx0KSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEzXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBmdW5jdGlvbiBnZXRFdmVudFRhcmdldChuYXRpdmVFdmVudCkge1xuICAgIHZhciB0YXJnZXQgPSBuYXRpdmVFdmVudC50YXJnZXQgfHwgbmF0aXZlRXZlbnQuc3JjRWxlbWVudCB8fCB3aW5kb3c7XG4gICAgaWYgKHRhcmdldC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCkge1xuICAgICAgdGFyZ2V0ID0gdGFyZ2V0LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0Lm5vZGVUeXBlID09PSAzID8gdGFyZ2V0LnBhcmVudE5vZGUgOiB0YXJnZXQ7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBnZXRFdmVudFRhcmdldDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI3NlwiLCBbXCI4XCIsIFwiMTNcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBTeW50aGV0aWNFdmVudCA9ICRfX3JlcXVpcmUoJzgnKTtcbiAgdmFyIGdldEV2ZW50VGFyZ2V0ID0gJF9fcmVxdWlyZSgnMTMnKTtcbiAgdmFyIFVJRXZlbnRJbnRlcmZhY2UgPSB7XG4gICAgdmlldzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC52aWV3KSB7XG4gICAgICAgIHJldHVybiBldmVudC52aWV3O1xuICAgICAgfVxuICAgICAgdmFyIHRhcmdldCA9IGdldEV2ZW50VGFyZ2V0KGV2ZW50KTtcbiAgICAgIGlmICh0YXJnZXQgIT0gbnVsbCAmJiB0YXJnZXQud2luZG93ID09PSB0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIH1cbiAgICAgIHZhciBkb2MgPSB0YXJnZXQub3duZXJEb2N1bWVudDtcbiAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgcmV0dXJuIGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICAgIH1cbiAgICB9LFxuICAgIGRldGFpbDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHJldHVybiBldmVudC5kZXRhaWwgfHwgMDtcbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIFN5bnRoZXRpY1VJRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICByZXR1cm4gU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gIH1cbiAgU3ludGhldGljRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY1VJRXZlbnQsIFVJRXZlbnRJbnRlcmZhY2UpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY1VJRXZlbnQ7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiN2FcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBtb2RpZmllcktleVRvUHJvcCA9IHtcbiAgICAnQWx0JzogJ2FsdEtleScsXG4gICAgJ0NvbnRyb2wnOiAnY3RybEtleScsXG4gICAgJ01ldGEnOiAnbWV0YUtleScsXG4gICAgJ1NoaWZ0JzogJ3NoaWZ0S2V5J1xuICB9O1xuICBmdW5jdGlvbiBtb2RpZmllclN0YXRlR2V0dGVyKGtleUFyZykge1xuICAgIHZhciBzeW50aGV0aWNFdmVudCA9IHRoaXM7XG4gICAgdmFyIG5hdGl2ZUV2ZW50ID0gc3ludGhldGljRXZlbnQubmF0aXZlRXZlbnQ7XG4gICAgaWYgKG5hdGl2ZUV2ZW50LmdldE1vZGlmaWVyU3RhdGUpIHtcbiAgICAgIHJldHVybiBuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlKGtleUFyZyk7XG4gICAgfVxuICAgIHZhciBrZXlQcm9wID0gbW9kaWZpZXJLZXlUb1Byb3Bba2V5QXJnXTtcbiAgICByZXR1cm4ga2V5UHJvcCA/ICEhbmF0aXZlRXZlbnRba2V5UHJvcF0gOiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBnZXRFdmVudE1vZGlmaWVyU3RhdGUobmF0aXZlRXZlbnQpIHtcbiAgICByZXR1cm4gbW9kaWZpZXJTdGF0ZUdldHRlcjtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGdldEV2ZW50TW9kaWZpZXJTdGF0ZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxOVwiLCBbXCI3NlwiLCBcIjdlXCIsIFwiN2FcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBTeW50aGV0aWNVSUV2ZW50ID0gJF9fcmVxdWlyZSgnNzYnKTtcbiAgdmFyIFZpZXdwb3J0TWV0cmljcyA9ICRfX3JlcXVpcmUoJzdlJyk7XG4gIHZhciBnZXRFdmVudE1vZGlmaWVyU3RhdGUgPSAkX19yZXF1aXJlKCc3YScpO1xuICB2YXIgTW91c2VFdmVudEludGVyZmFjZSA9IHtcbiAgICBzY3JlZW5YOiBudWxsLFxuICAgIHNjcmVlblk6IG51bGwsXG4gICAgY2xpZW50WDogbnVsbCxcbiAgICBjbGllbnRZOiBudWxsLFxuICAgIGN0cmxLZXk6IG51bGwsXG4gICAgc2hpZnRLZXk6IG51bGwsXG4gICAgYWx0S2V5OiBudWxsLFxuICAgIG1ldGFLZXk6IG51bGwsXG4gICAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlLFxuICAgIGJ1dHRvbjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZhciBidXR0b24gPSBldmVudC5idXR0b247XG4gICAgICBpZiAoJ3doaWNoJyBpbiBldmVudCkge1xuICAgICAgICByZXR1cm4gYnV0dG9uO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJ1dHRvbiA9PT0gMiA/IDIgOiBidXR0b24gPT09IDQgPyAxIDogMDtcbiAgICB9LFxuICAgIGJ1dHRvbnM6IG51bGwsXG4gICAgcmVsYXRlZFRhcmdldDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHJldHVybiBldmVudC5yZWxhdGVkVGFyZ2V0IHx8IChldmVudC5mcm9tRWxlbWVudCA9PT0gZXZlbnQuc3JjRWxlbWVudCA/IGV2ZW50LnRvRWxlbWVudCA6IGV2ZW50LmZyb21FbGVtZW50KTtcbiAgICB9LFxuICAgIHBhZ2VYOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgcmV0dXJuICdwYWdlWCcgaW4gZXZlbnQgPyBldmVudC5wYWdlWCA6IGV2ZW50LmNsaWVudFggKyBWaWV3cG9ydE1ldHJpY3MuY3VycmVudFNjcm9sbExlZnQ7XG4gICAgfSxcbiAgICBwYWdlWTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHJldHVybiAncGFnZVknIGluIGV2ZW50ID8gZXZlbnQucGFnZVkgOiBldmVudC5jbGllbnRZICsgVmlld3BvcnRNZXRyaWNzLmN1cnJlbnRTY3JvbGxUb3A7XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBTeW50aGV0aWNNb3VzZUV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgcmV0dXJuIFN5bnRoZXRpY1VJRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gIH1cbiAgU3ludGhldGljVUlFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljTW91c2VFdmVudCwgTW91c2VFdmVudEludGVyZmFjZSk7XG4gIG1vZHVsZS5leHBvcnRzID0gU3ludGhldGljTW91c2VFdmVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI3ZlwiLCBbXCIxOVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFN5bnRoZXRpY01vdXNlRXZlbnQgPSAkX19yZXF1aXJlKCcxOScpO1xuICB2YXIgV2hlZWxFdmVudEludGVyZmFjZSA9IHtcbiAgICBkZWx0YVg6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICByZXR1cm4gJ2RlbHRhWCcgaW4gZXZlbnQgPyBldmVudC5kZWx0YVggOiAnd2hlZWxEZWx0YVgnIGluIGV2ZW50ID8gLWV2ZW50LndoZWVsRGVsdGFYIDogMDtcbiAgICB9LFxuICAgIGRlbHRhWTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHJldHVybiAnZGVsdGFZJyBpbiBldmVudCA/IGV2ZW50LmRlbHRhWSA6ICd3aGVlbERlbHRhWScgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YVkgOiAnd2hlZWxEZWx0YScgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YSA6IDA7XG4gICAgfSxcbiAgICBkZWx0YVo6IG51bGwsXG4gICAgZGVsdGFNb2RlOiBudWxsXG4gIH07XG4gIGZ1bmN0aW9uIFN5bnRoZXRpY1doZWVsRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICByZXR1cm4gU3ludGhldGljTW91c2VFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgfVxuICBTeW50aGV0aWNNb3VzZUV2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNXaGVlbEV2ZW50LCBXaGVlbEV2ZW50SW50ZXJmYWNlKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNXaGVlbEV2ZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjc4XCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBmdW5jdGlvbiBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KSB7XG4gICAgdmFyIGNoYXJDb2RlO1xuICAgIHZhciBrZXlDb2RlID0gbmF0aXZlRXZlbnQua2V5Q29kZTtcbiAgICBpZiAoJ2NoYXJDb2RlJyBpbiBuYXRpdmVFdmVudCkge1xuICAgICAgY2hhckNvZGUgPSBuYXRpdmVFdmVudC5jaGFyQ29kZTtcbiAgICAgIGlmIChjaGFyQ29kZSA9PT0gMCAmJiBrZXlDb2RlID09PSAxMykge1xuICAgICAgICBjaGFyQ29kZSA9IDEzO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjaGFyQ29kZSA9IGtleUNvZGU7XG4gICAgfVxuICAgIGlmIChjaGFyQ29kZSA+PSAzMiB8fCBjaGFyQ29kZSA9PT0gMTMpIHtcbiAgICAgIHJldHVybiBjaGFyQ29kZTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBnZXRFdmVudENoYXJDb2RlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjgwXCIsIFtcImJcIiwgXCI2MFwiLCBcImNcIiwgXCIxMVwiLCBcIjczXCIsIFwiNzRcIiwgXCI4XCIsIFwiNzVcIiwgXCI3OVwiLCBcIjE5XCIsIFwiN2JcIiwgXCI3Y1wiLCBcIjdkXCIsIFwiNzZcIiwgXCI3ZlwiLCBcIjQ4XCIsIFwiNzhcIiwgXCIzMFwiLCBcImVcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRXZlbnRDb25zdGFudHMgPSAkX19yZXF1aXJlKCdiJyk7XG4gICAgdmFyIEV2ZW50TGlzdGVuZXIgPSAkX19yZXF1aXJlKCc2MCcpO1xuICAgIHZhciBFdmVudFByb3BhZ2F0b3JzID0gJF9fcmVxdWlyZSgnYycpO1xuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSAkX19yZXF1aXJlKCcxMScpO1xuICAgIHZhciBTeW50aGV0aWNBbmltYXRpb25FdmVudCA9ICRfX3JlcXVpcmUoJzczJyk7XG4gICAgdmFyIFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50ID0gJF9fcmVxdWlyZSgnNzQnKTtcbiAgICB2YXIgU3ludGhldGljRXZlbnQgPSAkX19yZXF1aXJlKCc4Jyk7XG4gICAgdmFyIFN5bnRoZXRpY0ZvY3VzRXZlbnQgPSAkX19yZXF1aXJlKCc3NScpO1xuICAgIHZhciBTeW50aGV0aWNLZXlib2FyZEV2ZW50ID0gJF9fcmVxdWlyZSgnNzknKTtcbiAgICB2YXIgU3ludGhldGljTW91c2VFdmVudCA9ICRfX3JlcXVpcmUoJzE5Jyk7XG4gICAgdmFyIFN5bnRoZXRpY0RyYWdFdmVudCA9ICRfX3JlcXVpcmUoJzdiJyk7XG4gICAgdmFyIFN5bnRoZXRpY1RvdWNoRXZlbnQgPSAkX19yZXF1aXJlKCc3YycpO1xuICAgIHZhciBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQgPSAkX19yZXF1aXJlKCc3ZCcpO1xuICAgIHZhciBTeW50aGV0aWNVSUV2ZW50ID0gJF9fcmVxdWlyZSgnNzYnKTtcbiAgICB2YXIgU3ludGhldGljV2hlZWxFdmVudCA9ICRfX3JlcXVpcmUoJzdmJyk7XG4gICAgdmFyIGVtcHR5RnVuY3Rpb24gPSAkX19yZXF1aXJlKCc0OCcpO1xuICAgIHZhciBnZXRFdmVudENoYXJDb2RlID0gJF9fcmVxdWlyZSgnNzgnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIga2V5T2YgPSAkX19yZXF1aXJlKCdlJyk7XG4gICAgdmFyIHRvcExldmVsVHlwZXMgPSBFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzO1xuICAgIHZhciBldmVudFR5cGVzID0ge1xuICAgICAgYWJvcnQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkFib3J0OiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkFib3J0Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgYW5pbWF0aW9uRW5kOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25BbmltYXRpb25FbmQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQW5pbWF0aW9uRW5kQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgYW5pbWF0aW9uSXRlcmF0aW9uOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25BbmltYXRpb25JdGVyYXRpb246IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQW5pbWF0aW9uSXRlcmF0aW9uQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgYW5pbWF0aW9uU3RhcnQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkFuaW1hdGlvblN0YXJ0OiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkFuaW1hdGlvblN0YXJ0Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgYmx1cjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQmx1cjogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25CbHVyQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgY2FuUGxheToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ2FuUGxheTogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25DYW5QbGF5Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgY2FuUGxheVRocm91Z2g6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNhblBsYXlUaHJvdWdoOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkNhblBsYXlUaHJvdWdoQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgY2xpY2s6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNsaWNrOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkNsaWNrQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgY29udGV4dE1lbnU6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNvbnRleHRNZW51OiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkNvbnRleHRNZW51Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgY29weToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ29weTogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Db3B5Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgY3V0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25DdXQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQ3V0Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZG91YmxlQ2xpY2s6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRvdWJsZUNsaWNrOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRvdWJsZUNsaWNrQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZHJhZzoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJhZzogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25EcmFnQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZHJhZ0VuZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJhZ0VuZDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25EcmFnRW5kQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZHJhZ0VudGVyOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25EcmFnRW50ZXI6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRHJhZ0VudGVyQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZHJhZ0V4aXQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyYWdFeGl0OiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyYWdFeGl0Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZHJhZ0xlYXZlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25EcmFnTGVhdmU6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRHJhZ0xlYXZlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZHJhZ092ZXI6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyYWdPdmVyOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyYWdPdmVyQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZHJhZ1N0YXJ0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25EcmFnU3RhcnQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRHJhZ1N0YXJ0Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZHJvcDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJvcDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Ecm9wQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZHVyYXRpb25DaGFuZ2U6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkR1cmF0aW9uQ2hhbmdlOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkR1cmF0aW9uQ2hhbmdlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZW1wdGllZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRW1wdGllZDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25FbXB0aWVkQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZW5jcnlwdGVkOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25FbmNyeXB0ZWQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRW5jcnlwdGVkQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZW5kZWQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkVuZGVkOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkVuZGVkQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZXJyb3I6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkVycm9yOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkVycm9yQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgZm9jdXM6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkZvY3VzOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkZvY3VzQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgaW5wdXQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbklucHV0OiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbklucHV0Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgaW52YWxpZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uSW52YWxpZDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25JbnZhbGlkQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAga2V5RG93bjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uS2V5RG93bjogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25LZXlEb3duQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAga2V5UHJlc3M6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbktleVByZXNzOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbktleVByZXNzQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAga2V5VXA6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbktleVVwOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbktleVVwQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgbG9hZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uTG9hZDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Mb2FkQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgbG9hZGVkRGF0YToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uTG9hZGVkRGF0YTogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Mb2FkZWREYXRhQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgbG9hZGVkTWV0YWRhdGE6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkxvYWRlZE1ldGFkYXRhOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkxvYWRlZE1ldGFkYXRhQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgbG9hZFN0YXJ0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25Mb2FkU3RhcnQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTG9hZFN0YXJ0Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgbW91c2VEb3duOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25Nb3VzZURvd246IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTW91c2VEb3duQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgbW91c2VNb3ZlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25Nb3VzZU1vdmU6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTW91c2VNb3ZlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgbW91c2VPdXQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbk1vdXNlT3V0OiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbk1vdXNlT3V0Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgbW91c2VPdmVyOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25Nb3VzZU92ZXI6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTW91c2VPdmVyQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgbW91c2VVcDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uTW91c2VVcDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Nb3VzZVVwQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgcGFzdGU6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblBhc3RlOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblBhc3RlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgcGF1c2U6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblBhdXNlOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblBhdXNlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgcGxheToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uUGxheTogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25QbGF5Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgcGxheWluZzoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uUGxheWluZzogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25QbGF5aW5nQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgcHJvZ3Jlc3M6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblByb2dyZXNzOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblByb2dyZXNzQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgcmF0ZUNoYW5nZToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uUmF0ZUNoYW5nZTogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25SYXRlQ2hhbmdlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgcmVzZXQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblJlc2V0OiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblJlc2V0Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgc2Nyb2xsOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25TY3JvbGw6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uU2Nyb2xsQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgc2Vla2VkOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25TZWVrZWQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uU2Vla2VkQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgc2Vla2luZzoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uU2Vla2luZzogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25TZWVraW5nQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgc3RhbGxlZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uU3RhbGxlZDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25TdGFsbGVkQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgc3VibWl0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25TdWJtaXQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uU3VibWl0Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgc3VzcGVuZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uU3VzcGVuZDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25TdXNwZW5kQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgdGltZVVwZGF0ZToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uVGltZVVwZGF0ZTogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25UaW1lVXBkYXRlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgdG91Y2hDYW5jZWw6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblRvdWNoQ2FuY2VsOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblRvdWNoQ2FuY2VsQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgdG91Y2hFbmQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblRvdWNoRW5kOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblRvdWNoRW5kQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgdG91Y2hNb3ZlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25Ub3VjaE1vdmU6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVG91Y2hNb3ZlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgdG91Y2hTdGFydDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uVG91Y2hTdGFydDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Ub3VjaFN0YXJ0Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgdHJhbnNpdGlvbkVuZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uVHJhbnNpdGlvbkVuZDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25UcmFuc2l0aW9uRW5kQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgdm9sdW1lQ2hhbmdlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25Wb2x1bWVDaGFuZ2U6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVm9sdW1lQ2hhbmdlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgd2FpdGluZzoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uV2FpdGluZzogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25XYWl0aW5nQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19LFxuICAgICAgd2hlZWw6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbldoZWVsOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbldoZWVsQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICAgIH19XG4gICAgfTtcbiAgICB2YXIgdG9wTGV2ZWxFdmVudHNUb0Rpc3BhdGNoQ29uZmlnID0ge1xuICAgICAgdG9wQWJvcnQ6IGV2ZW50VHlwZXMuYWJvcnQsXG4gICAgICB0b3BBbmltYXRpb25FbmQ6IGV2ZW50VHlwZXMuYW5pbWF0aW9uRW5kLFxuICAgICAgdG9wQW5pbWF0aW9uSXRlcmF0aW9uOiBldmVudFR5cGVzLmFuaW1hdGlvbkl0ZXJhdGlvbixcbiAgICAgIHRvcEFuaW1hdGlvblN0YXJ0OiBldmVudFR5cGVzLmFuaW1hdGlvblN0YXJ0LFxuICAgICAgdG9wQmx1cjogZXZlbnRUeXBlcy5ibHVyLFxuICAgICAgdG9wQ2FuUGxheTogZXZlbnRUeXBlcy5jYW5QbGF5LFxuICAgICAgdG9wQ2FuUGxheVRocm91Z2g6IGV2ZW50VHlwZXMuY2FuUGxheVRocm91Z2gsXG4gICAgICB0b3BDbGljazogZXZlbnRUeXBlcy5jbGljayxcbiAgICAgIHRvcENvbnRleHRNZW51OiBldmVudFR5cGVzLmNvbnRleHRNZW51LFxuICAgICAgdG9wQ29weTogZXZlbnRUeXBlcy5jb3B5LFxuICAgICAgdG9wQ3V0OiBldmVudFR5cGVzLmN1dCxcbiAgICAgIHRvcERvdWJsZUNsaWNrOiBldmVudFR5cGVzLmRvdWJsZUNsaWNrLFxuICAgICAgdG9wRHJhZzogZXZlbnRUeXBlcy5kcmFnLFxuICAgICAgdG9wRHJhZ0VuZDogZXZlbnRUeXBlcy5kcmFnRW5kLFxuICAgICAgdG9wRHJhZ0VudGVyOiBldmVudFR5cGVzLmRyYWdFbnRlcixcbiAgICAgIHRvcERyYWdFeGl0OiBldmVudFR5cGVzLmRyYWdFeGl0LFxuICAgICAgdG9wRHJhZ0xlYXZlOiBldmVudFR5cGVzLmRyYWdMZWF2ZSxcbiAgICAgIHRvcERyYWdPdmVyOiBldmVudFR5cGVzLmRyYWdPdmVyLFxuICAgICAgdG9wRHJhZ1N0YXJ0OiBldmVudFR5cGVzLmRyYWdTdGFydCxcbiAgICAgIHRvcERyb3A6IGV2ZW50VHlwZXMuZHJvcCxcbiAgICAgIHRvcER1cmF0aW9uQ2hhbmdlOiBldmVudFR5cGVzLmR1cmF0aW9uQ2hhbmdlLFxuICAgICAgdG9wRW1wdGllZDogZXZlbnRUeXBlcy5lbXB0aWVkLFxuICAgICAgdG9wRW5jcnlwdGVkOiBldmVudFR5cGVzLmVuY3J5cHRlZCxcbiAgICAgIHRvcEVuZGVkOiBldmVudFR5cGVzLmVuZGVkLFxuICAgICAgdG9wRXJyb3I6IGV2ZW50VHlwZXMuZXJyb3IsXG4gICAgICB0b3BGb2N1czogZXZlbnRUeXBlcy5mb2N1cyxcbiAgICAgIHRvcElucHV0OiBldmVudFR5cGVzLmlucHV0LFxuICAgICAgdG9wSW52YWxpZDogZXZlbnRUeXBlcy5pbnZhbGlkLFxuICAgICAgdG9wS2V5RG93bjogZXZlbnRUeXBlcy5rZXlEb3duLFxuICAgICAgdG9wS2V5UHJlc3M6IGV2ZW50VHlwZXMua2V5UHJlc3MsXG4gICAgICB0b3BLZXlVcDogZXZlbnRUeXBlcy5rZXlVcCxcbiAgICAgIHRvcExvYWQ6IGV2ZW50VHlwZXMubG9hZCxcbiAgICAgIHRvcExvYWRlZERhdGE6IGV2ZW50VHlwZXMubG9hZGVkRGF0YSxcbiAgICAgIHRvcExvYWRlZE1ldGFkYXRhOiBldmVudFR5cGVzLmxvYWRlZE1ldGFkYXRhLFxuICAgICAgdG9wTG9hZFN0YXJ0OiBldmVudFR5cGVzLmxvYWRTdGFydCxcbiAgICAgIHRvcE1vdXNlRG93bjogZXZlbnRUeXBlcy5tb3VzZURvd24sXG4gICAgICB0b3BNb3VzZU1vdmU6IGV2ZW50VHlwZXMubW91c2VNb3ZlLFxuICAgICAgdG9wTW91c2VPdXQ6IGV2ZW50VHlwZXMubW91c2VPdXQsXG4gICAgICB0b3BNb3VzZU92ZXI6IGV2ZW50VHlwZXMubW91c2VPdmVyLFxuICAgICAgdG9wTW91c2VVcDogZXZlbnRUeXBlcy5tb3VzZVVwLFxuICAgICAgdG9wUGFzdGU6IGV2ZW50VHlwZXMucGFzdGUsXG4gICAgICB0b3BQYXVzZTogZXZlbnRUeXBlcy5wYXVzZSxcbiAgICAgIHRvcFBsYXk6IGV2ZW50VHlwZXMucGxheSxcbiAgICAgIHRvcFBsYXlpbmc6IGV2ZW50VHlwZXMucGxheWluZyxcbiAgICAgIHRvcFByb2dyZXNzOiBldmVudFR5cGVzLnByb2dyZXNzLFxuICAgICAgdG9wUmF0ZUNoYW5nZTogZXZlbnRUeXBlcy5yYXRlQ2hhbmdlLFxuICAgICAgdG9wUmVzZXQ6IGV2ZW50VHlwZXMucmVzZXQsXG4gICAgICB0b3BTY3JvbGw6IGV2ZW50VHlwZXMuc2Nyb2xsLFxuICAgICAgdG9wU2Vla2VkOiBldmVudFR5cGVzLnNlZWtlZCxcbiAgICAgIHRvcFNlZWtpbmc6IGV2ZW50VHlwZXMuc2Vla2luZyxcbiAgICAgIHRvcFN0YWxsZWQ6IGV2ZW50VHlwZXMuc3RhbGxlZCxcbiAgICAgIHRvcFN1Ym1pdDogZXZlbnRUeXBlcy5zdWJtaXQsXG4gICAgICB0b3BTdXNwZW5kOiBldmVudFR5cGVzLnN1c3BlbmQsXG4gICAgICB0b3BUaW1lVXBkYXRlOiBldmVudFR5cGVzLnRpbWVVcGRhdGUsXG4gICAgICB0b3BUb3VjaENhbmNlbDogZXZlbnRUeXBlcy50b3VjaENhbmNlbCxcbiAgICAgIHRvcFRvdWNoRW5kOiBldmVudFR5cGVzLnRvdWNoRW5kLFxuICAgICAgdG9wVG91Y2hNb3ZlOiBldmVudFR5cGVzLnRvdWNoTW92ZSxcbiAgICAgIHRvcFRvdWNoU3RhcnQ6IGV2ZW50VHlwZXMudG91Y2hTdGFydCxcbiAgICAgIHRvcFRyYW5zaXRpb25FbmQ6IGV2ZW50VHlwZXMudHJhbnNpdGlvbkVuZCxcbiAgICAgIHRvcFZvbHVtZUNoYW5nZTogZXZlbnRUeXBlcy52b2x1bWVDaGFuZ2UsXG4gICAgICB0b3BXYWl0aW5nOiBldmVudFR5cGVzLndhaXRpbmcsXG4gICAgICB0b3BXaGVlbDogZXZlbnRUeXBlcy53aGVlbFxuICAgIH07XG4gICAgZm9yICh2YXIgdHlwZSBpbiB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWcpIHtcbiAgICAgIHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZ1t0eXBlXS5kZXBlbmRlbmNpZXMgPSBbdHlwZV07XG4gICAgfVxuICAgIHZhciBPTl9DTElDS19LRVkgPSBrZXlPZih7b25DbGljazogbnVsbH0pO1xuICAgIHZhciBvbkNsaWNrTGlzdGVuZXJzID0ge307XG4gICAgdmFyIFNpbXBsZUV2ZW50UGx1Z2luID0ge1xuICAgICAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyxcbiAgICAgIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgICAgIHZhciBkaXNwYXRjaENvbmZpZyA9IHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZ1t0b3BMZXZlbFR5cGVdO1xuICAgICAgICBpZiAoIWRpc3BhdGNoQ29uZmlnKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIEV2ZW50Q29uc3RydWN0b3I7XG4gICAgICAgIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEFib3J0OlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDYW5QbGF5OlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDYW5QbGF5VGhyb3VnaDpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRHVyYXRpb25DaGFuZ2U6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEVtcHRpZWQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEVuY3J5cHRlZDpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRW5kZWQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEVycm9yOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BJbnB1dDpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wSW52YWxpZDpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTG9hZDpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTG9hZGVkRGF0YTpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTG9hZGVkTWV0YWRhdGE6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcExvYWRTdGFydDpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wUGF1c2U6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFBsYXk6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFBsYXlpbmc6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFByb2dyZXNzOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BSYXRlQ2hhbmdlOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BSZXNldDpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU2Vla2VkOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BTZWVraW5nOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BTdGFsbGVkOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BTdWJtaXQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFN1c3BlbmQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRpbWVVcGRhdGU6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFZvbHVtZUNoYW5nZTpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wV2FpdGluZzpcbiAgICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNFdmVudDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlQcmVzczpcbiAgICAgICAgICAgIGlmIChnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KSA9PT0gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wS2V5RG93bjpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wS2V5VXA6XG4gICAgICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljS2V5Ym9hcmRFdmVudDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BCbHVyOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BGb2N1czpcbiAgICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNGb2N1c0V2ZW50O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENsaWNrOlxuICAgICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmJ1dHRvbiA9PT0gMikge1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ29udGV4dE1lbnU6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERvdWJsZUNsaWNrOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZURvd246XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlTW92ZTpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VPdXQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3ZlcjpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VVcDpcbiAgICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNNb3VzZUV2ZW50O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWc6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWdFbmQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWdFbnRlcjpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRHJhZ0V4aXQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWdMZWF2ZTpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRHJhZ092ZXI6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWdTdGFydDpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRHJvcDpcbiAgICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNEcmFnRXZlbnQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wVG91Y2hDYW5jZWw6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoRW5kOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BUb3VjaE1vdmU6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoU3RhcnQ6XG4gICAgICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljVG91Y2hFdmVudDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BBbmltYXRpb25FbmQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEFuaW1hdGlvbkl0ZXJhdGlvbjpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQW5pbWF0aW9uU3RhcnQ6XG4gICAgICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljQW5pbWF0aW9uRXZlbnQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wVHJhbnNpdGlvbkVuZDpcbiAgICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU2Nyb2xsOlxuICAgICAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY1VJRXZlbnQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wV2hlZWw6XG4gICAgICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljV2hlZWxFdmVudDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDb3B5OlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDdXQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFBhc3RlOlxuICAgICAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgIUV2ZW50Q29uc3RydWN0b3IgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnU2ltcGxlRXZlbnRQbHVnaW46IFVuaGFuZGxlZCBldmVudCB0eXBlLCBgJXNgLicsIHRvcExldmVsVHlwZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB2YXIgZXZlbnQgPSBFdmVudENvbnN0cnVjdG9yLmdldFBvb2xlZChkaXNwYXRjaENvbmZpZywgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICAgICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfSxcbiAgICAgIGRpZFB1dExpc3RlbmVyOiBmdW5jdGlvbihpbnN0LCByZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lcikge1xuICAgICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZSA9PT0gT05fQ0xJQ0tfS0VZKSB7XG4gICAgICAgICAgdmFyIGlkID0gaW5zdC5fcm9vdE5vZGVJRDtcbiAgICAgICAgICB2YXIgbm9kZSA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKGluc3QpO1xuICAgICAgICAgIGlmICghb25DbGlja0xpc3RlbmVyc1tpZF0pIHtcbiAgICAgICAgICAgIG9uQ2xpY2tMaXN0ZW5lcnNbaWRdID0gRXZlbnRMaXN0ZW5lci5saXN0ZW4obm9kZSwgJ2NsaWNrJywgZW1wdHlGdW5jdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgd2lsbERlbGV0ZUxpc3RlbmVyOiBmdW5jdGlvbihpbnN0LCByZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lID09PSBPTl9DTElDS19LRVkpIHtcbiAgICAgICAgICB2YXIgaWQgPSBpbnN0Ll9yb290Tm9kZUlEO1xuICAgICAgICAgIG9uQ2xpY2tMaXN0ZW5lcnNbaWRdLnJlbW92ZSgpO1xuICAgICAgICAgIGRlbGV0ZSBvbkNsaWNrTGlzdGVuZXJzW2lkXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBTaW1wbGVFdmVudFBsdWdpbjtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiODFcIiwgW1wiYVwiLCBcImZcIiwgXCIxN1wiLCBcIjE4XCIsIFwiMWFcIiwgXCIyYVwiLCBcIjRiXCIsIFwiMTFcIiwgXCI1MlwiLCBcIjUzXCIsIFwiNWNcIiwgXCI1ZFwiLCBcIjVmXCIsIFwiNjFcIiwgXCI2NlwiLCBcIjY5XCIsIFwiNzBcIiwgXCI4MFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIEJlZm9yZUlucHV0RXZlbnRQbHVnaW4gPSAkX19yZXF1aXJlKCdhJyk7XG4gIHZhciBDaGFuZ2VFdmVudFBsdWdpbiA9ICRfX3JlcXVpcmUoJ2YnKTtcbiAgdmFyIERlZmF1bHRFdmVudFBsdWdpbk9yZGVyID0gJF9fcmVxdWlyZSgnMTcnKTtcbiAgdmFyIEVudGVyTGVhdmVFdmVudFBsdWdpbiA9ICRfX3JlcXVpcmUoJzE4Jyk7XG4gIHZhciBIVE1MRE9NUHJvcGVydHlDb25maWcgPSAkX19yZXF1aXJlKCcxYScpO1xuICB2YXIgUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQgPSAkX19yZXF1aXJlKCcyYScpO1xuICB2YXIgUmVhY3RET01Db21wb25lbnQgPSAkX19yZXF1aXJlKCc0YicpO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gJF9fcmVxdWlyZSgnMTEnKTtcbiAgdmFyIFJlYWN0RE9NRW1wdHlDb21wb25lbnQgPSAkX19yZXF1aXJlKCc1MicpO1xuICB2YXIgUmVhY3RET01UcmVlVHJhdmVyc2FsID0gJF9fcmVxdWlyZSgnNTMnKTtcbiAgdmFyIFJlYWN0RE9NVGV4dENvbXBvbmVudCA9ICRfX3JlcXVpcmUoJzVjJyk7XG4gIHZhciBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5ID0gJF9fcmVxdWlyZSgnNWQnKTtcbiAgdmFyIFJlYWN0RXZlbnRMaXN0ZW5lciA9ICRfX3JlcXVpcmUoJzVmJyk7XG4gIHZhciBSZWFjdEluamVjdGlvbiA9ICRfX3JlcXVpcmUoJzYxJyk7XG4gIHZhciBSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uID0gJF9fcmVxdWlyZSgnNjYnKTtcbiAgdmFyIFNWR0RPTVByb3BlcnR5Q29uZmlnID0gJF9fcmVxdWlyZSgnNjknKTtcbiAgdmFyIFNlbGVjdEV2ZW50UGx1Z2luID0gJF9fcmVxdWlyZSgnNzAnKTtcbiAgdmFyIFNpbXBsZUV2ZW50UGx1Z2luID0gJF9fcmVxdWlyZSgnODAnKTtcbiAgdmFyIGFscmVhZHlJbmplY3RlZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBpbmplY3QoKSB7XG4gICAgaWYgKGFscmVhZHlJbmplY3RlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhbHJlYWR5SW5qZWN0ZWQgPSB0cnVlO1xuICAgIFJlYWN0SW5qZWN0aW9uLkV2ZW50RW1pdHRlci5pbmplY3RSZWFjdEV2ZW50TGlzdGVuZXIoUmVhY3RFdmVudExpc3RlbmVyKTtcbiAgICBSZWFjdEluamVjdGlvbi5FdmVudFBsdWdpbkh1Yi5pbmplY3RFdmVudFBsdWdpbk9yZGVyKERlZmF1bHRFdmVudFBsdWdpbk9yZGVyKTtcbiAgICBSZWFjdEluamVjdGlvbi5FdmVudFBsdWdpblV0aWxzLmluamVjdENvbXBvbmVudFRyZWUoUmVhY3RET01Db21wb25lbnRUcmVlKTtcbiAgICBSZWFjdEluamVjdGlvbi5FdmVudFBsdWdpblV0aWxzLmluamVjdFRyZWVUcmF2ZXJzYWwoUmVhY3RET01UcmVlVHJhdmVyc2FsKTtcbiAgICBSZWFjdEluamVjdGlvbi5FdmVudFBsdWdpbkh1Yi5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWUoe1xuICAgICAgU2ltcGxlRXZlbnRQbHVnaW46IFNpbXBsZUV2ZW50UGx1Z2luLFxuICAgICAgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luOiBFbnRlckxlYXZlRXZlbnRQbHVnaW4sXG4gICAgICBDaGFuZ2VFdmVudFBsdWdpbjogQ2hhbmdlRXZlbnRQbHVnaW4sXG4gICAgICBTZWxlY3RFdmVudFBsdWdpbjogU2VsZWN0RXZlbnRQbHVnaW4sXG4gICAgICBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luOiBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luXG4gICAgfSk7XG4gICAgUmVhY3RJbmplY3Rpb24uTmF0aXZlQ29tcG9uZW50LmluamVjdEdlbmVyaWNDb21wb25lbnRDbGFzcyhSZWFjdERPTUNvbXBvbmVudCk7XG4gICAgUmVhY3RJbmplY3Rpb24uTmF0aXZlQ29tcG9uZW50LmluamVjdFRleHRDb21wb25lbnRDbGFzcyhSZWFjdERPTVRleHRDb21wb25lbnQpO1xuICAgIFJlYWN0SW5qZWN0aW9uLkRPTVByb3BlcnR5LmluamVjdERPTVByb3BlcnR5Q29uZmlnKEhUTUxET01Qcm9wZXJ0eUNvbmZpZyk7XG4gICAgUmVhY3RJbmplY3Rpb24uRE9NUHJvcGVydHkuaW5qZWN0RE9NUHJvcGVydHlDb25maWcoU1ZHRE9NUHJvcGVydHlDb25maWcpO1xuICAgIFJlYWN0SW5qZWN0aW9uLkVtcHR5Q29tcG9uZW50LmluamVjdEVtcHR5Q29tcG9uZW50RmFjdG9yeShmdW5jdGlvbihpbnN0YW50aWF0ZSkge1xuICAgICAgcmV0dXJuIG5ldyBSZWFjdERPTUVtcHR5Q29tcG9uZW50KGluc3RhbnRpYXRlKTtcbiAgICB9KTtcbiAgICBSZWFjdEluamVjdGlvbi5VcGRhdGVzLmluamVjdFJlY29uY2lsZVRyYW5zYWN0aW9uKFJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24pO1xuICAgIFJlYWN0SW5qZWN0aW9uLlVwZGF0ZXMuaW5qZWN0QmF0Y2hpbmdTdHJhdGVneShSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5KTtcbiAgICBSZWFjdEluamVjdGlvbi5Db21wb25lbnQuaW5qZWN0RW52aXJvbm1lbnQoUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQpO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0ge2luamVjdDogaW5qZWN0fTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI4MlwiLCBbXCI0N1wiLCBcIjExXCIsIFwiODNcIiwgXCI4NFwiLCBcIjMwXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSAkX19yZXF1aXJlKCc0NycpO1xuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSAkX19yZXF1aXJlKCcxMScpO1xuICAgIHZhciBSZWFjdEluc3RhbmNlTWFwID0gJF9fcmVxdWlyZSgnODMnKTtcbiAgICB2YXIgZ2V0TmF0aXZlQ29tcG9uZW50RnJvbUNvbXBvc2l0ZSA9ICRfX3JlcXVpcmUoJzg0Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIGZ1bmN0aW9uIGZpbmRET01Ob2RlKGNvbXBvbmVudE9yRWxlbWVudCkge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICAgICAgaWYgKG93bmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcob3duZXIuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyLCAnJXMgaXMgYWNjZXNzaW5nIGZpbmRET01Ob2RlIGluc2lkZSBpdHMgcmVuZGVyKCkuICcgKyAncmVuZGVyKCkgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuIEl0IHNob3VsZCAnICsgJ25ldmVyIGFjY2VzcyBzb21ldGhpbmcgdGhhdCByZXF1aXJlcyBzdGFsZSBkYXRhIGZyb20gdGhlIHByZXZpb3VzICcgKyAncmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgJyArICdjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4nLCBvd25lci5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgb3duZXIuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNvbXBvbmVudE9yRWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBvbmVudE9yRWxlbWVudC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50T3JFbGVtZW50O1xuICAgICAgfVxuICAgICAgdmFyIGluc3QgPSBSZWFjdEluc3RhbmNlTWFwLmdldChjb21wb25lbnRPckVsZW1lbnQpO1xuICAgICAgaWYgKGluc3QpIHtcbiAgICAgICAgaW5zdCA9IGdldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUoaW5zdCk7XG4gICAgICAgIHJldHVybiBpbnN0ID8gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCkgOiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnRPckVsZW1lbnQucmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICFmYWxzZSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdmaW5kRE9NTm9kZSB3YXMgY2FsbGVkIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgIWZhbHNlID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0VsZW1lbnQgYXBwZWFycyB0byBiZSBuZWl0aGVyIFJlYWN0Q29tcG9uZW50IG5vciBET01Ob2RlIChrZXlzOiAlcyknLCBPYmplY3Qua2V5cyhjb21wb25lbnRPckVsZW1lbnQpKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZmluZERPTU5vZGU7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjg0XCIsIFtcIjg1XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgUmVhY3ROb2RlVHlwZXMgPSAkX19yZXF1aXJlKCc4NScpO1xuICBmdW5jdGlvbiBnZXROYXRpdmVDb21wb25lbnRGcm9tQ29tcG9zaXRlKGluc3QpIHtcbiAgICB2YXIgdHlwZTtcbiAgICB3aGlsZSAoKHR5cGUgPSBpbnN0Ll9yZW5kZXJlZE5vZGVUeXBlKSA9PT0gUmVhY3ROb2RlVHlwZXMuQ09NUE9TSVRFKSB7XG4gICAgICBpbnN0ID0gaW5zdC5fcmVuZGVyZWRDb21wb25lbnQ7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBSZWFjdE5vZGVUeXBlcy5OQVRJVkUpIHtcbiAgICAgIHJldHVybiBpbnN0Ll9yZW5kZXJlZENvbXBvbmVudDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFJlYWN0Tm9kZVR5cGVzLkVNUFRZKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBnZXROYXRpdmVDb21wb25lbnRGcm9tQ29tcG9zaXRlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjRkXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgRE9NTmFtZXNwYWNlcyA9IHtcbiAgICBodG1sOiAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCcsXG4gICAgbWF0aG1sOiAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCcsXG4gICAgc3ZnOiAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnXG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gRE9NTmFtZXNwYWNlcztcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIzOVwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIEVTQ0FQRV9MT09LVVAgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgICdcXCcnOiAnJiN4Mjc7J1xuICB9O1xuICB2YXIgRVNDQVBFX1JFR0VYID0gL1smPjxcIiddL2c7XG4gIGZ1bmN0aW9uIGVzY2FwZXIobWF0Y2gpIHtcbiAgICByZXR1cm4gRVNDQVBFX0xPT0tVUFttYXRjaF07XG4gIH1cbiAgZnVuY3Rpb24gZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyKHRleHQpIHtcbiAgICByZXR1cm4gKCcnICsgdGV4dCkucmVwbGFjZShFU0NBUEVfUkVHRVgsIGVzY2FwZXIpO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjViXCIsIFtcImRcIiwgXCIzOVwiLCBcIjVhXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSAkX19yZXF1aXJlKCdkJyk7XG4gIHZhciBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIgPSAkX19yZXF1aXJlKCczOScpO1xuICB2YXIgc2V0SW5uZXJIVE1MID0gJF9fcmVxdWlyZSgnNWEnKTtcbiAgdmFyIHNldFRleHRDb250ZW50ID0gZnVuY3Rpb24obm9kZSwgdGV4dCkge1xuICAgIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9O1xuICBpZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgaWYgKCEoJ3RleHRDb250ZW50JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpKSB7XG4gICAgICBzZXRUZXh0Q29udGVudCA9IGZ1bmN0aW9uKG5vZGUsIHRleHQpIHtcbiAgICAgICAgc2V0SW5uZXJIVE1MKG5vZGUsIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3Nlcih0ZXh0KSk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IHNldFRleHRDb250ZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjRjXCIsIFtcIjRkXCIsIFwiNTlcIiwgXCI1YlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIERPTU5hbWVzcGFjZXMgPSAkX19yZXF1aXJlKCc0ZCcpO1xuICB2YXIgY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbiA9ICRfX3JlcXVpcmUoJzU5Jyk7XG4gIHZhciBzZXRUZXh0Q29udGVudCA9ICRfX3JlcXVpcmUoJzViJyk7XG4gIHZhciBFTEVNRU5UX05PREVfVFlQRSA9IDE7XG4gIHZhciBET0NVTUVOVF9GUkFHTUVOVF9OT0RFX1RZUEUgPSAxMTtcbiAgdmFyIGVuYWJsZUxhenkgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudC5kb2N1bWVudE1vZGUgPT09ICdudW1iZXInIHx8IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSAnc3RyaW5nJyAmJiAvXFxiRWRnZVxcL1xcZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgZnVuY3Rpb24gaW5zZXJ0VHJlZUNoaWxkcmVuKHRyZWUpIHtcbiAgICBpZiAoIWVuYWJsZUxhenkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5vZGUgPSB0cmVlLm5vZGU7XG4gICAgdmFyIGNoaWxkcmVuID0gdHJlZS5jaGlsZHJlbjtcbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGluc2VydFRyZWVCZWZvcmUobm9kZSwgY2hpbGRyZW5baV0sIG51bGwpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHJlZS5odG1sICE9IG51bGwpIHtcbiAgICAgIG5vZGUuaW5uZXJIVE1MID0gdHJlZS5odG1sO1xuICAgIH0gZWxzZSBpZiAodHJlZS50ZXh0ICE9IG51bGwpIHtcbiAgICAgIHNldFRleHRDb250ZW50KG5vZGUsIHRyZWUudGV4dCk7XG4gICAgfVxuICB9XG4gIHZhciBpbnNlcnRUcmVlQmVmb3JlID0gY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbihwYXJlbnROb2RlLCB0cmVlLCByZWZlcmVuY2VOb2RlKSB7XG4gICAgaWYgKHRyZWUubm9kZS5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERV9UWVBFIHx8IHRyZWUubm9kZS5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFX1RZUEUgJiYgdHJlZS5ub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdvYmplY3QnICYmICh0cmVlLm5vZGUubmFtZXNwYWNlVVJJID09IG51bGwgfHwgdHJlZS5ub2RlLm5hbWVzcGFjZVVSSSA9PT0gRE9NTmFtZXNwYWNlcy5odG1sKSkge1xuICAgICAgaW5zZXJ0VHJlZUNoaWxkcmVuKHRyZWUpO1xuICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodHJlZS5ub2RlLCByZWZlcmVuY2VOb2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodHJlZS5ub2RlLCByZWZlcmVuY2VOb2RlKTtcbiAgICAgIGluc2VydFRyZWVDaGlsZHJlbih0cmVlKTtcbiAgICB9XG4gIH0pO1xuICBmdW5jdGlvbiByZXBsYWNlQ2hpbGRXaXRoVHJlZShvbGROb2RlLCBuZXdUcmVlKSB7XG4gICAgb2xkTm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdUcmVlLm5vZGUsIG9sZE5vZGUpO1xuICAgIGluc2VydFRyZWVDaGlsZHJlbihuZXdUcmVlKTtcbiAgfVxuICBmdW5jdGlvbiBxdWV1ZUNoaWxkKHBhcmVudFRyZWUsIGNoaWxkVHJlZSkge1xuICAgIGlmIChlbmFibGVMYXp5KSB7XG4gICAgICBwYXJlbnRUcmVlLmNoaWxkcmVuLnB1c2goY2hpbGRUcmVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50VHJlZS5ub2RlLmFwcGVuZENoaWxkKGNoaWxkVHJlZS5ub2RlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcXVldWVIVE1MKHRyZWUsIGh0bWwpIHtcbiAgICBpZiAoZW5hYmxlTGF6eSkge1xuICAgICAgdHJlZS5odG1sID0gaHRtbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJlZS5ub2RlLmlubmVySFRNTCA9IGh0bWw7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHF1ZXVlVGV4dCh0cmVlLCB0ZXh0KSB7XG4gICAgaWYgKGVuYWJsZUxhenkpIHtcbiAgICAgIHRyZWUudGV4dCA9IHRleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRleHRDb250ZW50KHRyZWUubm9kZSwgdGV4dCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGUubm9kZU5hbWU7XG4gIH1cbiAgZnVuY3Rpb24gRE9NTGF6eVRyZWUobm9kZSkge1xuICAgIHJldHVybiB7XG4gICAgICBub2RlOiBub2RlLFxuICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgaHRtbDogbnVsbCxcbiAgICAgIHRleHQ6IG51bGwsXG4gICAgICB0b1N0cmluZzogdG9TdHJpbmdcbiAgICB9O1xuICB9XG4gIERPTUxhenlUcmVlLmluc2VydFRyZWVCZWZvcmUgPSBpbnNlcnRUcmVlQmVmb3JlO1xuICBET01MYXp5VHJlZS5yZXBsYWNlQ2hpbGRXaXRoVHJlZSA9IHJlcGxhY2VDaGlsZFdpdGhUcmVlO1xuICBET01MYXp5VHJlZS5xdWV1ZUNoaWxkID0gcXVldWVDaGlsZDtcbiAgRE9NTGF6eVRyZWUucXVldWVIVE1MID0gcXVldWVIVE1MO1xuICBET01MYXp5VHJlZS5xdWV1ZVRleHQgPSBxdWV1ZVRleHQ7XG4gIG1vZHVsZS5leHBvcnRzID0gRE9NTGF6eVRyZWU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMzVcIiwgW1wiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgRXZlbnRQbHVnaW5PcmRlciA9IG51bGw7XG4gICAgdmFyIG5hbWVzVG9QbHVnaW5zID0ge307XG4gICAgZnVuY3Rpb24gcmVjb21wdXRlUGx1Z2luT3JkZXJpbmcoKSB7XG4gICAgICBpZiAoIUV2ZW50UGx1Z2luT3JkZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBuYW1lc1RvUGx1Z2lucykge1xuICAgICAgICB2YXIgUGx1Z2luTW9kdWxlID0gbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV07XG4gICAgICAgIHZhciBwbHVnaW5JbmRleCA9IEV2ZW50UGx1Z2luT3JkZXIuaW5kZXhPZihwbHVnaW5OYW1lKTtcbiAgICAgICAgIShwbHVnaW5JbmRleCA+IC0xKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpblJlZ2lzdHJ5OiBDYW5ub3QgaW5qZWN0IGV2ZW50IHBsdWdpbnMgdGhhdCBkbyBub3QgZXhpc3QgaW4gJyArICd0aGUgcGx1Z2luIG9yZGVyaW5nLCBgJXNgLicsIHBsdWdpbk5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgaWYgKEV2ZW50UGx1Z2luUmVnaXN0cnkucGx1Z2luc1twbHVnaW5JbmRleF0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAhUGx1Z2luTW9kdWxlLmV4dHJhY3RFdmVudHMgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogRXZlbnQgcGx1Z2lucyBtdXN0IGltcGxlbWVudCBhbiBgZXh0cmFjdEV2ZW50c2AgJyArICdtZXRob2QsIGJ1dCBgJXNgIGRvZXMgbm90LicsIHBsdWdpbk5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgRXZlbnRQbHVnaW5SZWdpc3RyeS5wbHVnaW5zW3BsdWdpbkluZGV4XSA9IFBsdWdpbk1vZHVsZTtcbiAgICAgICAgdmFyIHB1Ymxpc2hlZEV2ZW50cyA9IFBsdWdpbk1vZHVsZS5ldmVudFR5cGVzO1xuICAgICAgICBmb3IgKHZhciBldmVudE5hbWUgaW4gcHVibGlzaGVkRXZlbnRzKSB7XG4gICAgICAgICAgIXB1Ymxpc2hFdmVudEZvclBsdWdpbihwdWJsaXNoZWRFdmVudHNbZXZlbnROYW1lXSwgUGx1Z2luTW9kdWxlLCBldmVudE5hbWUpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IEZhaWxlZCB0byBwdWJsaXNoIGV2ZW50IGAlc2AgZm9yIHBsdWdpbiBgJXNgLicsIGV2ZW50TmFtZSwgcGx1Z2luTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1Ymxpc2hFdmVudEZvclBsdWdpbihkaXNwYXRjaENvbmZpZywgUGx1Z2luTW9kdWxlLCBldmVudE5hbWUpIHtcbiAgICAgICEhRXZlbnRQbHVnaW5SZWdpc3RyeS5ldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MuaGFzT3duUHJvcGVydHkoZXZlbnROYW1lKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpbkh1YjogTW9yZSB0aGFuIG9uZSBwbHVnaW4gYXR0ZW1wdGVkIHRvIHB1Ymxpc2ggdGhlIHNhbWUgJyArICdldmVudCBuYW1lLCBgJXNgLicsIGV2ZW50TmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgRXZlbnRQbHVnaW5SZWdpc3RyeS5ldmVudE5hbWVEaXNwYXRjaENvbmZpZ3NbZXZlbnROYW1lXSA9IGRpc3BhdGNoQ29uZmlnO1xuICAgICAgdmFyIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzID0gZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM7XG4gICAgICBpZiAocGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgICAgZm9yICh2YXIgcGhhc2VOYW1lIGluIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgICAgICAgaWYgKHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzLmhhc093blByb3BlcnR5KHBoYXNlTmFtZSkpIHtcbiAgICAgICAgICAgIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lID0gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcGhhc2VOYW1lXTtcbiAgICAgICAgICAgIHB1Ymxpc2hSZWdpc3RyYXRpb25OYW1lKHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWUsIFBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICAgICAgcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUoZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSwgUGx1Z2luTW9kdWxlLCBldmVudE5hbWUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUocmVnaXN0cmF0aW9uTmFtZSwgUGx1Z2luTW9kdWxlLCBldmVudE5hbWUpIHtcbiAgICAgICEhRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpbkh1YjogTW9yZSB0aGFuIG9uZSBwbHVnaW4gYXR0ZW1wdGVkIHRvIHB1Ymxpc2ggdGhlIHNhbWUgJyArICdyZWdpc3RyYXRpb24gbmFtZSwgYCVzYC4nLCByZWdpc3RyYXRpb25OYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW3JlZ2lzdHJhdGlvbk5hbWVdID0gUGx1Z2luTW9kdWxlO1xuICAgICAgRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdID0gUGx1Z2luTW9kdWxlLmV2ZW50VHlwZXNbZXZlbnROYW1lXS5kZXBlbmRlbmNpZXM7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YXIgbG93ZXJDYXNlZE5hbWUgPSByZWdpc3RyYXRpb25OYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIEV2ZW50UGx1Z2luUmVnaXN0cnkucG9zc2libGVSZWdpc3RyYXRpb25OYW1lc1tsb3dlckNhc2VkTmFtZV0gPSByZWdpc3RyYXRpb25OYW1lO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgRXZlbnRQbHVnaW5SZWdpc3RyeSA9IHtcbiAgICAgIHBsdWdpbnM6IFtdLFxuICAgICAgZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzOiB7fSxcbiAgICAgIHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzOiB7fSxcbiAgICAgIHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXM6IHt9LFxuICAgICAgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lczogXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHt9IDogbnVsbCxcbiAgICAgIGluamVjdEV2ZW50UGx1Z2luT3JkZXI6IGZ1bmN0aW9uKEluamVjdGVkRXZlbnRQbHVnaW5PcmRlcikge1xuICAgICAgICAhIUV2ZW50UGx1Z2luT3JkZXIgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCBldmVudCBwbHVnaW4gb3JkZXJpbmcgbW9yZSB0aGFuICcgKyAnb25jZS4gWW91IGFyZSBsaWtlbHkgdHJ5aW5nIHRvIGxvYWQgbW9yZSB0aGFuIG9uZSBjb3B5IG9mIFJlYWN0LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgRXZlbnRQbHVnaW5PcmRlciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKEluamVjdGVkRXZlbnRQbHVnaW5PcmRlcik7XG4gICAgICAgIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCk7XG4gICAgICB9LFxuICAgICAgaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lOiBmdW5jdGlvbihpbmplY3RlZE5hbWVzVG9QbHVnaW5zKSB7XG4gICAgICAgIHZhciBpc09yZGVyaW5nRGlydHkgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBpbmplY3RlZE5hbWVzVG9QbHVnaW5zKSB7XG4gICAgICAgICAgaWYgKCFpbmplY3RlZE5hbWVzVG9QbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbk5hbWUpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIFBsdWdpbk1vZHVsZSA9IGluamVjdGVkTmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV07XG4gICAgICAgICAgaWYgKCFuYW1lc1RvUGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShwbHVnaW5OYW1lKSB8fCBuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXSAhPT0gUGx1Z2luTW9kdWxlKSB7XG4gICAgICAgICAgICAhIW5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IENhbm5vdCBpbmplY3QgdHdvIGRpZmZlcmVudCBldmVudCBwbHVnaW5zICcgKyAndXNpbmcgdGhlIHNhbWUgbmFtZSwgYCVzYC4nLCBwbHVnaW5OYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICBuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXSA9IFBsdWdpbk1vZHVsZTtcbiAgICAgICAgICAgIGlzT3JkZXJpbmdEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc09yZGVyaW5nRGlydHkpIHtcbiAgICAgICAgICByZWNvbXB1dGVQbHVnaW5PcmRlcmluZygpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ2V0UGx1Z2luTW9kdWxlRm9yRXZlbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciBkaXNwYXRjaENvbmZpZyA9IGV2ZW50LmRpc3BhdGNoQ29uZmlnO1xuICAgICAgICBpZiAoZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgICAgIHJldHVybiBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW2Rpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWVdIHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgcGhhc2UgaW4gZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgICAgICBpZiAoIWRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzLmhhc093blByb3BlcnR5KHBoYXNlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBQbHVnaW5Nb2R1bGUgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW2Rpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3BoYXNlXV07XG4gICAgICAgICAgaWYgKFBsdWdpbk1vZHVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIFBsdWdpbk1vZHVsZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9LFxuICAgICAgX3Jlc2V0RXZlbnRQbHVnaW5zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgRXZlbnRQbHVnaW5PcmRlciA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIHBsdWdpbk5hbWUgaW4gbmFtZXNUb1BsdWdpbnMpIHtcbiAgICAgICAgICBpZiAobmFtZXNUb1BsdWdpbnMuaGFzT3duUHJvcGVydHkocGx1Z2luTmFtZSkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgRXZlbnRQbHVnaW5SZWdpc3RyeS5wbHVnaW5zLmxlbmd0aCA9IDA7XG4gICAgICAgIHZhciBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LmV2ZW50TmFtZURpc3BhdGNoQ29uZmlncztcbiAgICAgICAgZm9yICh2YXIgZXZlbnROYW1lIGluIGV2ZW50TmFtZURpc3BhdGNoQ29uZmlncykge1xuICAgICAgICAgIGlmIChldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MuaGFzT3duUHJvcGVydHkoZXZlbnROYW1lKSkge1xuICAgICAgICAgICAgZGVsZXRlIGV2ZW50TmFtZURpc3BhdGNoQ29uZmlnc1tldmVudE5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzO1xuICAgICAgICBmb3IgKHZhciByZWdpc3RyYXRpb25OYW1lIGluIHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzKSB7XG4gICAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHJlZ2lzdHJhdGlvbk5hbWUpKSB7XG4gICAgICAgICAgICBkZWxldGUgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFyIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXM7XG4gICAgICAgICAgZm9yICh2YXIgbG93ZXJDYXNlZE5hbWUgaW4gcG9zc2libGVSZWdpc3RyYXRpb25OYW1lcykge1xuICAgICAgICAgICAgaWYgKHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMuaGFzT3duUHJvcGVydHkobG93ZXJDYXNlZE5hbWUpKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzW2xvd2VyQ2FzZWROYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gRXZlbnRQbHVnaW5SZWdpc3RyeTtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYlwiLCBbXCI1OFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGtleU1pcnJvciA9ICRfX3JlcXVpcmUoJzU4Jyk7XG4gIHZhciBQcm9wYWdhdGlvblBoYXNlcyA9IGtleU1pcnJvcih7XG4gICAgYnViYmxlZDogbnVsbCxcbiAgICBjYXB0dXJlZDogbnVsbFxuICB9KTtcbiAgdmFyIHRvcExldmVsVHlwZXMgPSBrZXlNaXJyb3Ioe1xuICAgIHRvcEFib3J0OiBudWxsLFxuICAgIHRvcEFuaW1hdGlvbkVuZDogbnVsbCxcbiAgICB0b3BBbmltYXRpb25JdGVyYXRpb246IG51bGwsXG4gICAgdG9wQW5pbWF0aW9uU3RhcnQ6IG51bGwsXG4gICAgdG9wQmx1cjogbnVsbCxcbiAgICB0b3BDYW5QbGF5OiBudWxsLFxuICAgIHRvcENhblBsYXlUaHJvdWdoOiBudWxsLFxuICAgIHRvcENoYW5nZTogbnVsbCxcbiAgICB0b3BDbGljazogbnVsbCxcbiAgICB0b3BDb21wb3NpdGlvbkVuZDogbnVsbCxcbiAgICB0b3BDb21wb3NpdGlvblN0YXJ0OiBudWxsLFxuICAgIHRvcENvbXBvc2l0aW9uVXBkYXRlOiBudWxsLFxuICAgIHRvcENvbnRleHRNZW51OiBudWxsLFxuICAgIHRvcENvcHk6IG51bGwsXG4gICAgdG9wQ3V0OiBudWxsLFxuICAgIHRvcERvdWJsZUNsaWNrOiBudWxsLFxuICAgIHRvcERyYWc6IG51bGwsXG4gICAgdG9wRHJhZ0VuZDogbnVsbCxcbiAgICB0b3BEcmFnRW50ZXI6IG51bGwsXG4gICAgdG9wRHJhZ0V4aXQ6IG51bGwsXG4gICAgdG9wRHJhZ0xlYXZlOiBudWxsLFxuICAgIHRvcERyYWdPdmVyOiBudWxsLFxuICAgIHRvcERyYWdTdGFydDogbnVsbCxcbiAgICB0b3BEcm9wOiBudWxsLFxuICAgIHRvcER1cmF0aW9uQ2hhbmdlOiBudWxsLFxuICAgIHRvcEVtcHRpZWQ6IG51bGwsXG4gICAgdG9wRW5jcnlwdGVkOiBudWxsLFxuICAgIHRvcEVuZGVkOiBudWxsLFxuICAgIHRvcEVycm9yOiBudWxsLFxuICAgIHRvcEZvY3VzOiBudWxsLFxuICAgIHRvcElucHV0OiBudWxsLFxuICAgIHRvcEludmFsaWQ6IG51bGwsXG4gICAgdG9wS2V5RG93bjogbnVsbCxcbiAgICB0b3BLZXlQcmVzczogbnVsbCxcbiAgICB0b3BLZXlVcDogbnVsbCxcbiAgICB0b3BMb2FkOiBudWxsLFxuICAgIHRvcExvYWRlZERhdGE6IG51bGwsXG4gICAgdG9wTG9hZGVkTWV0YWRhdGE6IG51bGwsXG4gICAgdG9wTG9hZFN0YXJ0OiBudWxsLFxuICAgIHRvcE1vdXNlRG93bjogbnVsbCxcbiAgICB0b3BNb3VzZU1vdmU6IG51bGwsXG4gICAgdG9wTW91c2VPdXQ6IG51bGwsXG4gICAgdG9wTW91c2VPdmVyOiBudWxsLFxuICAgIHRvcE1vdXNlVXA6IG51bGwsXG4gICAgdG9wUGFzdGU6IG51bGwsXG4gICAgdG9wUGF1c2U6IG51bGwsXG4gICAgdG9wUGxheTogbnVsbCxcbiAgICB0b3BQbGF5aW5nOiBudWxsLFxuICAgIHRvcFByb2dyZXNzOiBudWxsLFxuICAgIHRvcFJhdGVDaGFuZ2U6IG51bGwsXG4gICAgdG9wUmVzZXQ6IG51bGwsXG4gICAgdG9wU2Nyb2xsOiBudWxsLFxuICAgIHRvcFNlZWtlZDogbnVsbCxcbiAgICB0b3BTZWVraW5nOiBudWxsLFxuICAgIHRvcFNlbGVjdGlvbkNoYW5nZTogbnVsbCxcbiAgICB0b3BTdGFsbGVkOiBudWxsLFxuICAgIHRvcFN1Ym1pdDogbnVsbCxcbiAgICB0b3BTdXNwZW5kOiBudWxsLFxuICAgIHRvcFRleHRJbnB1dDogbnVsbCxcbiAgICB0b3BUaW1lVXBkYXRlOiBudWxsLFxuICAgIHRvcFRvdWNoQ2FuY2VsOiBudWxsLFxuICAgIHRvcFRvdWNoRW5kOiBudWxsLFxuICAgIHRvcFRvdWNoTW92ZTogbnVsbCxcbiAgICB0b3BUb3VjaFN0YXJ0OiBudWxsLFxuICAgIHRvcFRyYW5zaXRpb25FbmQ6IG51bGwsXG4gICAgdG9wVm9sdW1lQ2hhbmdlOiBudWxsLFxuICAgIHRvcFdhaXRpbmc6IG51bGwsXG4gICAgdG9wV2hlZWw6IG51bGxcbiAgfSk7XG4gIHZhciBFdmVudENvbnN0YW50cyA9IHtcbiAgICB0b3BMZXZlbFR5cGVzOiB0b3BMZXZlbFR5cGVzLFxuICAgIFByb3BhZ2F0aW9uUGhhc2VzOiBQcm9wYWdhdGlvblBoYXNlc1xuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50Q29uc3RhbnRzO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjYyXCIsIFtcImJcIiwgXCI4NlwiLCBcIjMwXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRXZlbnRDb25zdGFudHMgPSAkX19yZXF1aXJlKCdiJyk7XG4gICAgdmFyIFJlYWN0RXJyb3JVdGlscyA9ICRfX3JlcXVpcmUoJzg2Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciBDb21wb25lbnRUcmVlO1xuICAgIHZhciBUcmVlVHJhdmVyc2FsO1xuICAgIHZhciBpbmplY3Rpb24gPSB7XG4gICAgICBpbmplY3RDb21wb25lbnRUcmVlOiBmdW5jdGlvbihJbmplY3RlZCkge1xuICAgICAgICBDb21wb25lbnRUcmVlID0gSW5qZWN0ZWQ7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoSW5qZWN0ZWQgJiYgSW5qZWN0ZWQuZ2V0Tm9kZUZyb21JbnN0YW5jZSAmJiBJbmplY3RlZC5nZXRJbnN0YW5jZUZyb21Ob2RlLCAnRXZlbnRQbHVnaW5VdGlscy5pbmplY3Rpb24uaW5qZWN0Q29tcG9uZW50VHJlZSguLi4pOiBJbmplY3RlZCAnICsgJ21vZHVsZSBpcyBtaXNzaW5nIGdldE5vZGVGcm9tSW5zdGFuY2Ugb3IgZ2V0SW5zdGFuY2VGcm9tTm9kZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGluamVjdFRyZWVUcmF2ZXJzYWw6IGZ1bmN0aW9uKEluamVjdGVkKSB7XG4gICAgICAgIFRyZWVUcmF2ZXJzYWwgPSBJbmplY3RlZDtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhJbmplY3RlZCAmJiBJbmplY3RlZC5pc0FuY2VzdG9yICYmIEluamVjdGVkLmdldExvd2VzdENvbW1vbkFuY2VzdG9yLCAnRXZlbnRQbHVnaW5VdGlscy5pbmplY3Rpb24uaW5qZWN0VHJlZVRyYXZlcnNhbCguLi4pOiBJbmplY3RlZCAnICsgJ21vZHVsZSBpcyBtaXNzaW5nIGlzQW5jZXN0b3Igb3IgZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3IuJykgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbiAgICBmdW5jdGlvbiBpc0VuZGlzaCh0b3BMZXZlbFR5cGUpIHtcbiAgICAgIHJldHVybiB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wTW91c2VVcCB8fCB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wVG91Y2hFbmQgfHwgdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoQ2FuY2VsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc01vdmVpc2godG9wTGV2ZWxUeXBlKSB7XG4gICAgICByZXR1cm4gdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlTW92ZSB8fCB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wVG91Y2hNb3ZlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1N0YXJ0aXNoKHRvcExldmVsVHlwZSkge1xuICAgICAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZURvd24gfHwgdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoU3RhcnQ7XG4gICAgfVxuICAgIHZhciB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcztcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgZGlzcGF0Y2hMaXN0ZW5lcnMgPSBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG4gICAgICAgIHZhciBkaXNwYXRjaEluc3RhbmNlcyA9IGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcztcbiAgICAgICAgdmFyIGxpc3RlbmVyc0lzQXJyID0gQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVycyk7XG4gICAgICAgIHZhciBsaXN0ZW5lcnNMZW4gPSBsaXN0ZW5lcnNJc0FyciA/IGRpc3BhdGNoTGlzdGVuZXJzLmxlbmd0aCA6IGRpc3BhdGNoTGlzdGVuZXJzID8gMSA6IDA7XG4gICAgICAgIHZhciBpbnN0YW5jZXNJc0FyciA9IEFycmF5LmlzQXJyYXkoZGlzcGF0Y2hJbnN0YW5jZXMpO1xuICAgICAgICB2YXIgaW5zdGFuY2VzTGVuID0gaW5zdGFuY2VzSXNBcnIgPyBkaXNwYXRjaEluc3RhbmNlcy5sZW5ndGggOiBkaXNwYXRjaEluc3RhbmNlcyA/IDEgOiAwO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhpbnN0YW5jZXNJc0FyciA9PT0gbGlzdGVuZXJzSXNBcnIgJiYgaW5zdGFuY2VzTGVuID09PSBsaXN0ZW5lcnNMZW4sICdFdmVudFBsdWdpblV0aWxzOiBJbnZhbGlkIGBldmVudGAuJykgOiB2b2lkIDA7XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2goZXZlbnQsIHNpbXVsYXRlZCwgbGlzdGVuZXIsIGluc3QpIHtcbiAgICAgIHZhciB0eXBlID0gZXZlbnQudHlwZSB8fCAndW5rbm93bi1ldmVudCc7XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0ID0gRXZlbnRQbHVnaW5VdGlscy5nZXROb2RlRnJvbUluc3RhbmNlKGluc3QpO1xuICAgICAgaWYgKHNpbXVsYXRlZCkge1xuICAgICAgICBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrV2l0aENhdGNoKHR5cGUsIGxpc3RlbmVyLCBldmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrKHR5cGUsIGxpc3RlbmVyLCBldmVudCk7XG4gICAgICB9XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyKGV2ZW50LCBzaW11bGF0ZWQpIHtcbiAgICAgIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgICAgIHZhciBkaXNwYXRjaEluc3RhbmNlcyA9IGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcztcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzKGV2ZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXJzKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BhdGNoTGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleGVjdXRlRGlzcGF0Y2goZXZlbnQsIHNpbXVsYXRlZCwgZGlzcGF0Y2hMaXN0ZW5lcnNbaV0sIGRpc3BhdGNoSW5zdGFuY2VzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChkaXNwYXRjaExpc3RlbmVycykge1xuICAgICAgICBleGVjdXRlRGlzcGF0Y2goZXZlbnQsIHNpbXVsYXRlZCwgZGlzcGF0Y2hMaXN0ZW5lcnMsIGRpc3BhdGNoSW5zdGFuY2VzKTtcbiAgICAgIH1cbiAgICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IG51bGw7XG4gICAgICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlSW1wbChldmVudCkge1xuICAgICAgdmFyIGRpc3BhdGNoTGlzdGVuZXJzID0gZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzO1xuICAgICAgdmFyIGRpc3BhdGNoSW5zdGFuY2VzID0gZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzO1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMoZXZlbnQpO1xuICAgICAgfVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGlzcGF0Y2hMaXN0ZW5lcnMpKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlzcGF0Y2hMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkaXNwYXRjaExpc3RlbmVyc1tpXShldmVudCwgZGlzcGF0Y2hJbnN0YW5jZXNbaV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2hJbnN0YW5jZXNbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRpc3BhdGNoTGlzdGVuZXJzKSB7XG4gICAgICAgIGlmIChkaXNwYXRjaExpc3RlbmVycyhldmVudCwgZGlzcGF0Y2hJbnN0YW5jZXMpKSB7XG4gICAgICAgICAgcmV0dXJuIGRpc3BhdGNoSW5zdGFuY2VzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZShldmVudCkge1xuICAgICAgdmFyIHJldCA9IGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlclN0b3BBdFRydWVJbXBsKGV2ZW50KTtcbiAgICAgIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IG51bGw7XG4gICAgICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBudWxsO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhlY3V0ZURpcmVjdERpc3BhdGNoKGV2ZW50KSB7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyhldmVudCk7XG4gICAgICB9XG4gICAgICB2YXIgZGlzcGF0Y2hMaXN0ZW5lciA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgICAgIHZhciBkaXNwYXRjaEluc3RhbmNlID0gZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzO1xuICAgICAgISFBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXIpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2V4ZWN1dGVEaXJlY3REaXNwYXRjaCguLi4pOiBJbnZhbGlkIGBldmVudGAuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgZXZlbnQuY3VycmVudFRhcmdldCA9IGRpc3BhdGNoTGlzdGVuZXIgPyBFdmVudFBsdWdpblV0aWxzLmdldE5vZGVGcm9tSW5zdGFuY2UoZGlzcGF0Y2hJbnN0YW5jZSkgOiBudWxsO1xuICAgICAgdmFyIHJlcyA9IGRpc3BhdGNoTGlzdGVuZXIgPyBkaXNwYXRjaExpc3RlbmVyKGV2ZW50KSA6IG51bGw7XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IG51bGw7XG4gICAgICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBudWxsO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzRGlzcGF0Y2hlcyhldmVudCkge1xuICAgICAgcmV0dXJuICEhZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzO1xuICAgIH1cbiAgICB2YXIgRXZlbnRQbHVnaW5VdGlscyA9IHtcbiAgICAgIGlzRW5kaXNoOiBpc0VuZGlzaCxcbiAgICAgIGlzTW92ZWlzaDogaXNNb3ZlaXNoLFxuICAgICAgaXNTdGFydGlzaDogaXNTdGFydGlzaCxcbiAgICAgIGV4ZWN1dGVEaXJlY3REaXNwYXRjaDogZXhlY3V0ZURpcmVjdERpc3BhdGNoLFxuICAgICAgZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyOiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXIsXG4gICAgICBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlOiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlLFxuICAgICAgaGFzRGlzcGF0Y2hlczogaGFzRGlzcGF0Y2hlcyxcbiAgICAgIGdldEluc3RhbmNlRnJvbU5vZGU6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIENvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShub2RlKTtcbiAgICAgIH0sXG4gICAgICBnZXROb2RlRnJvbUluc3RhbmNlOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIHJldHVybiBDb21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2Uobm9kZSk7XG4gICAgICB9LFxuICAgICAgaXNBbmNlc3RvcjogZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gVHJlZVRyYXZlcnNhbC5pc0FuY2VzdG9yKGEsIGIpO1xuICAgICAgfSxcbiAgICAgIGdldExvd2VzdENvbW1vbkFuY2VzdG9yOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiBUcmVlVHJhdmVyc2FsLmdldExvd2VzdENvbW1vbkFuY2VzdG9yKGEsIGIpO1xuICAgICAgfSxcbiAgICAgIGdldFBhcmVudEluc3RhbmNlOiBmdW5jdGlvbihpbnN0KSB7XG4gICAgICAgIHJldHVybiBUcmVlVHJhdmVyc2FsLmdldFBhcmVudEluc3RhbmNlKGluc3QpO1xuICAgICAgfSxcbiAgICAgIHRyYXZlcnNlVHdvUGhhc2U6IGZ1bmN0aW9uKHRhcmdldCwgZm4sIGFyZykge1xuICAgICAgICByZXR1cm4gVHJlZVRyYXZlcnNhbC50cmF2ZXJzZVR3b1BoYXNlKHRhcmdldCwgZm4sIGFyZyk7XG4gICAgICB9LFxuICAgICAgdHJhdmVyc2VFbnRlckxlYXZlOiBmdW5jdGlvbihmcm9tLCB0bywgZm4sIGFyZ0Zyb20sIGFyZ1RvKSB7XG4gICAgICAgIHJldHVybiBUcmVlVHJhdmVyc2FsLnRyYXZlcnNlRW50ZXJMZWF2ZShmcm9tLCB0bywgZm4sIGFyZ0Zyb20sIGFyZ1RvKTtcbiAgICAgIH0sXG4gICAgICBpbmplY3Rpb246IGluamVjdGlvblxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudFBsdWdpblV0aWxzO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI3MVwiLCBbXCIzMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVJbnRvKGN1cnJlbnQsIG5leHQpIHtcbiAgICAgICEobmV4dCAhPSBudWxsKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdhY2N1bXVsYXRlSW50byguLi4pOiBBY2N1bXVsYXRlZCBpdGVtcyBtdXN0IG5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgfVxuICAgICAgdmFyIGN1cnJlbnRJc0FycmF5ID0gQXJyYXkuaXNBcnJheShjdXJyZW50KTtcbiAgICAgIHZhciBuZXh0SXNBcnJheSA9IEFycmF5LmlzQXJyYXkobmV4dCk7XG4gICAgICBpZiAoY3VycmVudElzQXJyYXkgJiYgbmV4dElzQXJyYXkpIHtcbiAgICAgICAgY3VycmVudC5wdXNoLmFwcGx5KGN1cnJlbnQsIG5leHQpO1xuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50SXNBcnJheSkge1xuICAgICAgICBjdXJyZW50LnB1c2gobmV4dCk7XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgfVxuICAgICAgaWYgKG5leHRJc0FycmF5KSB7XG4gICAgICAgIHJldHVybiBbY3VycmVudF0uY29uY2F0KG5leHQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtjdXJyZW50LCBuZXh0XTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBhY2N1bXVsYXRlSW50bztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNzJcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBmb3JFYWNoQWNjdW11bGF0ZWQgPSBmdW5jdGlvbihhcnIsIGNiLCBzY29wZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICAgIGFyci5mb3JFYWNoKGNiLCBzY29wZSk7XG4gICAgfSBlbHNlIGlmIChhcnIpIHtcbiAgICAgIGNiLmNhbGwoc2NvcGUsIGFycik7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IGZvckVhY2hBY2N1bXVsYXRlZDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMFwiLCBbXCIzNVwiLCBcIjYyXCIsIFwiODZcIiwgXCI3MVwiLCBcIjcyXCIsIFwiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRXZlbnRQbHVnaW5SZWdpc3RyeSA9ICRfX3JlcXVpcmUoJzM1Jyk7XG4gICAgdmFyIEV2ZW50UGx1Z2luVXRpbHMgPSAkX19yZXF1aXJlKCc2MicpO1xuICAgIHZhciBSZWFjdEVycm9yVXRpbHMgPSAkX19yZXF1aXJlKCc4NicpO1xuICAgIHZhciBhY2N1bXVsYXRlSW50byA9ICRfX3JlcXVpcmUoJzcxJyk7XG4gICAgdmFyIGZvckVhY2hBY2N1bXVsYXRlZCA9ICRfX3JlcXVpcmUoJzcyJyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIGxpc3RlbmVyQmFuayA9IHt9O1xuICAgIHZhciBldmVudFF1ZXVlID0gbnVsbDtcbiAgICB2YXIgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlID0gZnVuY3Rpb24oZXZlbnQsIHNpbXVsYXRlZCkge1xuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIEV2ZW50UGx1Z2luVXRpbHMuZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyKGV2ZW50LCBzaW11bGF0ZWQpO1xuICAgICAgICBpZiAoIWV2ZW50LmlzUGVyc2lzdGVudCgpKSB7XG4gICAgICAgICAgZXZlbnQuY29uc3RydWN0b3IucmVsZWFzZShldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VTaW11bGF0ZWQgPSBmdW5jdGlvbihlKSB7XG4gICAgICByZXR1cm4gZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlKGUsIHRydWUpO1xuICAgIH07XG4gICAgdmFyIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZVRvcExldmVsID0gZnVuY3Rpb24oZSkge1xuICAgICAgcmV0dXJuIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZShlLCBmYWxzZSk7XG4gICAgfTtcbiAgICB2YXIgRXZlbnRQbHVnaW5IdWIgPSB7XG4gICAgICBpbmplY3Rpb246IHtcbiAgICAgICAgaW5qZWN0RXZlbnRQbHVnaW5PcmRlcjogRXZlbnRQbHVnaW5SZWdpc3RyeS5pbmplY3RFdmVudFBsdWdpbk9yZGVyLFxuICAgICAgICBpbmplY3RFdmVudFBsdWdpbnNCeU5hbWU6IEV2ZW50UGx1Z2luUmVnaXN0cnkuaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lXG4gICAgICB9LFxuICAgICAgcHV0TGlzdGVuZXI6IGZ1bmN0aW9uKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAgICEodHlwZW9mIGxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCAlcyBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLCBpbnN0ZWFkIGdvdCB0eXBlICVzJywgcmVnaXN0cmF0aW9uTmFtZSwgdHlwZW9mIGxpc3RlbmVyKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIHZhciBiYW5rRm9yUmVnaXN0cmF0aW9uTmFtZSA9IGxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXSB8fCAobGlzdGVuZXJCYW5rW3JlZ2lzdHJhdGlvbk5hbWVdID0ge30pO1xuICAgICAgICBiYW5rRm9yUmVnaXN0cmF0aW9uTmFtZVtpbnN0Ll9yb290Tm9kZUlEXSA9IGxpc3RlbmVyO1xuICAgICAgICB2YXIgUGx1Z2luTW9kdWxlID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgICAgICAgaWYgKFBsdWdpbk1vZHVsZSAmJiBQbHVnaW5Nb2R1bGUuZGlkUHV0TGlzdGVuZXIpIHtcbiAgICAgICAgICBQbHVnaW5Nb2R1bGUuZGlkUHV0TGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ2V0TGlzdGVuZXI6IGZ1bmN0aW9uKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGJhbmtGb3JSZWdpc3RyYXRpb25OYW1lID0gbGlzdGVuZXJCYW5rW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICAgICAgICByZXR1cm4gYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWUgJiYgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWVbaW5zdC5fcm9vdE5vZGVJRF07XG4gICAgICB9LFxuICAgICAgZGVsZXRlTGlzdGVuZXI6IGZ1bmN0aW9uKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIFBsdWdpbk1vZHVsZSA9IEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgICAgIGlmIChQbHVnaW5Nb2R1bGUgJiYgUGx1Z2luTW9kdWxlLndpbGxEZWxldGVMaXN0ZW5lcikge1xuICAgICAgICAgIFBsdWdpbk1vZHVsZS53aWxsRGVsZXRlTGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhbmtGb3JSZWdpc3RyYXRpb25OYW1lID0gbGlzdGVuZXJCYW5rW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICAgICAgICBpZiAoYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICAgICAgICBkZWxldGUgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWVbaW5zdC5fcm9vdE5vZGVJRF07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkZWxldGVBbGxMaXN0ZW5lcnM6IGZ1bmN0aW9uKGluc3QpIHtcbiAgICAgICAgZm9yICh2YXIgcmVnaXN0cmF0aW9uTmFtZSBpbiBsaXN0ZW5lckJhbmspIHtcbiAgICAgICAgICBpZiAoIWxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXVtpbnN0Ll9yb290Tm9kZUlEXSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBQbHVnaW5Nb2R1bGUgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICAgICAgICAgIGlmIChQbHVnaW5Nb2R1bGUgJiYgUGx1Z2luTW9kdWxlLndpbGxEZWxldGVMaXN0ZW5lcikge1xuICAgICAgICAgICAgUGx1Z2luTW9kdWxlLndpbGxEZWxldGVMaXN0ZW5lcihpbnN0LCByZWdpc3RyYXRpb25OYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIGxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXVtpbnN0Ll9yb290Tm9kZUlEXTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgICAgIHZhciBldmVudHM7XG4gICAgICAgIHZhciBwbHVnaW5zID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5wbHVnaW5zO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBsdWdpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgcG9zc2libGVQbHVnaW4gPSBwbHVnaW5zW2ldO1xuICAgICAgICAgIGlmIChwb3NzaWJsZVBsdWdpbikge1xuICAgICAgICAgICAgdmFyIGV4dHJhY3RlZEV2ZW50cyA9IHBvc3NpYmxlUGx1Z2luLmV4dHJhY3RFdmVudHModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgICAgICAgaWYgKGV4dHJhY3RlZEV2ZW50cykge1xuICAgICAgICAgICAgICBldmVudHMgPSBhY2N1bXVsYXRlSW50byhldmVudHMsIGV4dHJhY3RlZEV2ZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmVudHM7XG4gICAgICB9LFxuICAgICAgZW5xdWV1ZUV2ZW50czogZnVuY3Rpb24oZXZlbnRzKSB7XG4gICAgICAgIGlmIChldmVudHMpIHtcbiAgICAgICAgICBldmVudFF1ZXVlID0gYWNjdW11bGF0ZUludG8oZXZlbnRRdWV1ZSwgZXZlbnRzKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb2Nlc3NFdmVudFF1ZXVlOiBmdW5jdGlvbihzaW11bGF0ZWQpIHtcbiAgICAgICAgdmFyIHByb2Nlc3NpbmdFdmVudFF1ZXVlID0gZXZlbnRRdWV1ZTtcbiAgICAgICAgZXZlbnRRdWV1ZSA9IG51bGw7XG4gICAgICAgIGlmIChzaW11bGF0ZWQpIHtcbiAgICAgICAgICBmb3JFYWNoQWNjdW11bGF0ZWQocHJvY2Vzc2luZ0V2ZW50UXVldWUsIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZVNpbXVsYXRlZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yRWFjaEFjY3VtdWxhdGVkKHByb2Nlc3NpbmdFdmVudFF1ZXVlLCBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VUb3BMZXZlbCk7XG4gICAgICAgIH1cbiAgICAgICAgISFldmVudFF1ZXVlID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3Byb2Nlc3NFdmVudFF1ZXVlKCk6IEFkZGl0aW9uYWwgZXZlbnRzIHdlcmUgZW5xdWV1ZWQgd2hpbGUgcHJvY2Vzc2luZyAnICsgJ2FuIGV2ZW50IHF1ZXVlLiBTdXBwb3J0IGZvciB0aGlzIGhhcyBub3QgeWV0IGJlZW4gaW1wbGVtZW50ZWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBSZWFjdEVycm9yVXRpbHMucmV0aHJvd0NhdWdodEVycm9yKCk7XG4gICAgICB9LFxuICAgICAgX19wdXJnZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGxpc3RlbmVyQmFuayA9IHt9O1xuICAgICAgfSxcbiAgICAgIF9fZ2V0TGlzdGVuZXJCYW5rOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVyQmFuaztcbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gRXZlbnRQbHVnaW5IdWI7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjg3XCIsIFtcIjEwXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgRXZlbnRQbHVnaW5IdWIgPSAkX19yZXF1aXJlKCcxMCcpO1xuICBmdW5jdGlvbiBydW5FdmVudFF1ZXVlSW5CYXRjaChldmVudHMpIHtcbiAgICBFdmVudFBsdWdpbkh1Yi5lbnF1ZXVlRXZlbnRzKGV2ZW50cyk7XG4gICAgRXZlbnRQbHVnaW5IdWIucHJvY2Vzc0V2ZW50UXVldWUoZmFsc2UpO1xuICB9XG4gIHZhciBSZWFjdEV2ZW50RW1pdHRlck1peGluID0ge2hhbmRsZVRvcExldmVsOiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgdmFyIGV2ZW50cyA9IEV2ZW50UGx1Z2luSHViLmV4dHJhY3RFdmVudHModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgcnVuRXZlbnRRdWV1ZUluQmF0Y2goZXZlbnRzKTtcbiAgICB9fTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdEV2ZW50RW1pdHRlck1peGluO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjdlXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgVmlld3BvcnRNZXRyaWNzID0ge1xuICAgIGN1cnJlbnRTY3JvbGxMZWZ0OiAwLFxuICAgIGN1cnJlbnRTY3JvbGxUb3A6IDAsXG4gICAgcmVmcmVzaFNjcm9sbFZhbHVlczogZnVuY3Rpb24oc2Nyb2xsUG9zaXRpb24pIHtcbiAgICAgIFZpZXdwb3J0TWV0cmljcy5jdXJyZW50U2Nyb2xsTGVmdCA9IHNjcm9sbFBvc2l0aW9uLng7XG4gICAgICBWaWV3cG9ydE1ldHJpY3MuY3VycmVudFNjcm9sbFRvcCA9IHNjcm9sbFBvc2l0aW9uLnk7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFZpZXdwb3J0TWV0cmljcztcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI4OFwiLCBbXCJkXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSAkX19yZXF1aXJlKCdkJyk7XG4gIGZ1bmN0aW9uIG1ha2VQcmVmaXhNYXAoc3R5bGVQcm9wLCBldmVudE5hbWUpIHtcbiAgICB2YXIgcHJlZml4ZXMgPSB7fTtcbiAgICBwcmVmaXhlc1tzdHlsZVByb3AudG9Mb3dlckNhc2UoKV0gPSBldmVudE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBwcmVmaXhlc1snV2Via2l0JyArIHN0eWxlUHJvcF0gPSAnd2Via2l0JyArIGV2ZW50TmFtZTtcbiAgICBwcmVmaXhlc1snTW96JyArIHN0eWxlUHJvcF0gPSAnbW96JyArIGV2ZW50TmFtZTtcbiAgICBwcmVmaXhlc1snbXMnICsgc3R5bGVQcm9wXSA9ICdNUycgKyBldmVudE5hbWU7XG4gICAgcHJlZml4ZXNbJ08nICsgc3R5bGVQcm9wXSA9ICdvJyArIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBwcmVmaXhlcztcbiAgfVxuICB2YXIgdmVuZG9yUHJlZml4ZXMgPSB7XG4gICAgYW5pbWF0aW9uZW5kOiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uRW5kJyksXG4gICAgYW5pbWF0aW9uaXRlcmF0aW9uOiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uSXRlcmF0aW9uJyksXG4gICAgYW5pbWF0aW9uc3RhcnQ6IG1ha2VQcmVmaXhNYXAoJ0FuaW1hdGlvbicsICdBbmltYXRpb25TdGFydCcpLFxuICAgIHRyYW5zaXRpb25lbmQ6IG1ha2VQcmVmaXhNYXAoJ1RyYW5zaXRpb24nLCAnVHJhbnNpdGlvbkVuZCcpXG4gIH07XG4gIHZhciBwcmVmaXhlZEV2ZW50TmFtZXMgPSB7fTtcbiAgdmFyIHN0eWxlID0ge307XG4gIGlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgICBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLnN0eWxlO1xuICAgIGlmICghKCdBbmltYXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuICAgICAgZGVsZXRlIHZlbmRvclByZWZpeGVzLmFuaW1hdGlvbmVuZC5hbmltYXRpb247XG4gICAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMuYW5pbWF0aW9uaXRlcmF0aW9uLmFuaW1hdGlvbjtcbiAgICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25zdGFydC5hbmltYXRpb247XG4gICAgfVxuICAgIGlmICghKCdUcmFuc2l0aW9uRXZlbnQnIGluIHdpbmRvdykpIHtcbiAgICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy50cmFuc2l0aW9uZW5kLnRyYW5zaXRpb247XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKGV2ZW50TmFtZSkge1xuICAgIGlmIChwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXSkge1xuICAgICAgcmV0dXJuIHByZWZpeGVkRXZlbnROYW1lc1tldmVudE5hbWVdO1xuICAgIH0gZWxzZSBpZiAoIXZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV0pIHtcbiAgICAgIHJldHVybiBldmVudE5hbWU7XG4gICAgfVxuICAgIHZhciBwcmVmaXhNYXAgPSB2ZW5kb3JQcmVmaXhlc1tldmVudE5hbWVdO1xuICAgIGZvciAodmFyIHN0eWxlUHJvcCBpbiBwcmVmaXhNYXApIHtcbiAgICAgIGlmIChwcmVmaXhNYXAuaGFzT3duUHJvcGVydHkoc3R5bGVQcm9wKSAmJiBzdHlsZVByb3AgaW4gc3R5bGUpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeGVkRXZlbnROYW1lc1tldmVudE5hbWVdID0gcHJlZml4TWFwW3N0eWxlUHJvcF07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjE0XCIsIFtcImRcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9ICRfX3JlcXVpcmUoJ2QnKTtcbiAgdmFyIHVzZUhhc0ZlYXR1cmU7XG4gIGlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgICB1c2VIYXNGZWF0dXJlID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24gJiYgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSAmJiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKCcnLCAnJykgIT09IHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gaXNFdmVudFN1cHBvcnRlZChldmVudE5hbWVTdWZmaXgsIGNhcHR1cmUpIHtcbiAgICBpZiAoIUV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSB8fCBjYXB0dXJlICYmICEoJ2FkZEV2ZW50TGlzdGVuZXInIGluIGRvY3VtZW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgZXZlbnROYW1lID0gJ29uJyArIGV2ZW50TmFtZVN1ZmZpeDtcbiAgICB2YXIgaXNTdXBwb3J0ZWQgPSBldmVudE5hbWUgaW4gZG9jdW1lbnQ7XG4gICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGV2ZW50TmFtZSwgJ3JldHVybjsnKTtcbiAgICAgIGlzU3VwcG9ydGVkID0gdHlwZW9mIGVsZW1lbnRbZXZlbnROYW1lXSA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG4gICAgaWYgKCFpc1N1cHBvcnRlZCAmJiB1c2VIYXNGZWF0dXJlICYmIGV2ZW50TmFtZVN1ZmZpeCA9PT0gJ3doZWVsJykge1xuICAgICAgaXNTdXBwb3J0ZWQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKCdFdmVudHMud2hlZWwnLCAnMy4wJyk7XG4gICAgfVxuICAgIHJldHVybiBpc1N1cHBvcnRlZDtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGlzRXZlbnRTdXBwb3J0ZWQ7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNGVcIiwgW1wiNlwiLCBcImJcIiwgXCIzNVwiLCBcIjg3XCIsIFwiN2VcIiwgXCI4OFwiLCBcIjE0XCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIEV2ZW50Q29uc3RhbnRzID0gJF9fcmVxdWlyZSgnYicpO1xuICAgIHZhciBFdmVudFBsdWdpblJlZ2lzdHJ5ID0gJF9fcmVxdWlyZSgnMzUnKTtcbiAgICB2YXIgUmVhY3RFdmVudEVtaXR0ZXJNaXhpbiA9ICRfX3JlcXVpcmUoJzg3Jyk7XG4gICAgdmFyIFZpZXdwb3J0TWV0cmljcyA9ICRfX3JlcXVpcmUoJzdlJyk7XG4gICAgdmFyIGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lID0gJF9fcmVxdWlyZSgnODgnKTtcbiAgICB2YXIgaXNFdmVudFN1cHBvcnRlZCA9ICRfX3JlcXVpcmUoJzE0Jyk7XG4gICAgdmFyIGhhc0V2ZW50UGFnZVhZO1xuICAgIHZhciBhbHJlYWR5TGlzdGVuaW5nVG8gPSB7fTtcbiAgICB2YXIgaXNNb25pdG9yaW5nU2Nyb2xsVmFsdWUgPSBmYWxzZTtcbiAgICB2YXIgcmVhY3RUb3BMaXN0ZW5lcnNDb3VudGVyID0gMDtcbiAgICB2YXIgdG9wRXZlbnRNYXBwaW5nID0ge1xuICAgICAgdG9wQWJvcnQ6ICdhYm9ydCcsXG4gICAgICB0b3BBbmltYXRpb25FbmQ6IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCdhbmltYXRpb25lbmQnKSB8fCAnYW5pbWF0aW9uZW5kJyxcbiAgICAgIHRvcEFuaW1hdGlvbkl0ZXJhdGlvbjogZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoJ2FuaW1hdGlvbml0ZXJhdGlvbicpIHx8ICdhbmltYXRpb25pdGVyYXRpb24nLFxuICAgICAgdG9wQW5pbWF0aW9uU3RhcnQ6IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCdhbmltYXRpb25zdGFydCcpIHx8ICdhbmltYXRpb25zdGFydCcsXG4gICAgICB0b3BCbHVyOiAnYmx1cicsXG4gICAgICB0b3BDYW5QbGF5OiAnY2FucGxheScsXG4gICAgICB0b3BDYW5QbGF5VGhyb3VnaDogJ2NhbnBsYXl0aHJvdWdoJyxcbiAgICAgIHRvcENoYW5nZTogJ2NoYW5nZScsXG4gICAgICB0b3BDbGljazogJ2NsaWNrJyxcbiAgICAgIHRvcENvbXBvc2l0aW9uRW5kOiAnY29tcG9zaXRpb25lbmQnLFxuICAgICAgdG9wQ29tcG9zaXRpb25TdGFydDogJ2NvbXBvc2l0aW9uc3RhcnQnLFxuICAgICAgdG9wQ29tcG9zaXRpb25VcGRhdGU6ICdjb21wb3NpdGlvbnVwZGF0ZScsXG4gICAgICB0b3BDb250ZXh0TWVudTogJ2NvbnRleHRtZW51JyxcbiAgICAgIHRvcENvcHk6ICdjb3B5JyxcbiAgICAgIHRvcEN1dDogJ2N1dCcsXG4gICAgICB0b3BEb3VibGVDbGljazogJ2RibGNsaWNrJyxcbiAgICAgIHRvcERyYWc6ICdkcmFnJyxcbiAgICAgIHRvcERyYWdFbmQ6ICdkcmFnZW5kJyxcbiAgICAgIHRvcERyYWdFbnRlcjogJ2RyYWdlbnRlcicsXG4gICAgICB0b3BEcmFnRXhpdDogJ2RyYWdleGl0JyxcbiAgICAgIHRvcERyYWdMZWF2ZTogJ2RyYWdsZWF2ZScsXG4gICAgICB0b3BEcmFnT3ZlcjogJ2RyYWdvdmVyJyxcbiAgICAgIHRvcERyYWdTdGFydDogJ2RyYWdzdGFydCcsXG4gICAgICB0b3BEcm9wOiAnZHJvcCcsXG4gICAgICB0b3BEdXJhdGlvbkNoYW5nZTogJ2R1cmF0aW9uY2hhbmdlJyxcbiAgICAgIHRvcEVtcHRpZWQ6ICdlbXB0aWVkJyxcbiAgICAgIHRvcEVuY3J5cHRlZDogJ2VuY3J5cHRlZCcsXG4gICAgICB0b3BFbmRlZDogJ2VuZGVkJyxcbiAgICAgIHRvcEVycm9yOiAnZXJyb3InLFxuICAgICAgdG9wRm9jdXM6ICdmb2N1cycsXG4gICAgICB0b3BJbnB1dDogJ2lucHV0JyxcbiAgICAgIHRvcEtleURvd246ICdrZXlkb3duJyxcbiAgICAgIHRvcEtleVByZXNzOiAna2V5cHJlc3MnLFxuICAgICAgdG9wS2V5VXA6ICdrZXl1cCcsXG4gICAgICB0b3BMb2FkZWREYXRhOiAnbG9hZGVkZGF0YScsXG4gICAgICB0b3BMb2FkZWRNZXRhZGF0YTogJ2xvYWRlZG1ldGFkYXRhJyxcbiAgICAgIHRvcExvYWRTdGFydDogJ2xvYWRzdGFydCcsXG4gICAgICB0b3BNb3VzZURvd246ICdtb3VzZWRvd24nLFxuICAgICAgdG9wTW91c2VNb3ZlOiAnbW91c2Vtb3ZlJyxcbiAgICAgIHRvcE1vdXNlT3V0OiAnbW91c2VvdXQnLFxuICAgICAgdG9wTW91c2VPdmVyOiAnbW91c2VvdmVyJyxcbiAgICAgIHRvcE1vdXNlVXA6ICdtb3VzZXVwJyxcbiAgICAgIHRvcFBhc3RlOiAncGFzdGUnLFxuICAgICAgdG9wUGF1c2U6ICdwYXVzZScsXG4gICAgICB0b3BQbGF5OiAncGxheScsXG4gICAgICB0b3BQbGF5aW5nOiAncGxheWluZycsXG4gICAgICB0b3BQcm9ncmVzczogJ3Byb2dyZXNzJyxcbiAgICAgIHRvcFJhdGVDaGFuZ2U6ICdyYXRlY2hhbmdlJyxcbiAgICAgIHRvcFNjcm9sbDogJ3Njcm9sbCcsXG4gICAgICB0b3BTZWVrZWQ6ICdzZWVrZWQnLFxuICAgICAgdG9wU2Vla2luZzogJ3NlZWtpbmcnLFxuICAgICAgdG9wU2VsZWN0aW9uQ2hhbmdlOiAnc2VsZWN0aW9uY2hhbmdlJyxcbiAgICAgIHRvcFN0YWxsZWQ6ICdzdGFsbGVkJyxcbiAgICAgIHRvcFN1c3BlbmQ6ICdzdXNwZW5kJyxcbiAgICAgIHRvcFRleHRJbnB1dDogJ3RleHRJbnB1dCcsXG4gICAgICB0b3BUaW1lVXBkYXRlOiAndGltZXVwZGF0ZScsXG4gICAgICB0b3BUb3VjaENhbmNlbDogJ3RvdWNoY2FuY2VsJyxcbiAgICAgIHRvcFRvdWNoRW5kOiAndG91Y2hlbmQnLFxuICAgICAgdG9wVG91Y2hNb3ZlOiAndG91Y2htb3ZlJyxcbiAgICAgIHRvcFRvdWNoU3RhcnQ6ICd0b3VjaHN0YXJ0JyxcbiAgICAgIHRvcFRyYW5zaXRpb25FbmQ6IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCd0cmFuc2l0aW9uZW5kJykgfHwgJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgdG9wVm9sdW1lQ2hhbmdlOiAndm9sdW1lY2hhbmdlJyxcbiAgICAgIHRvcFdhaXRpbmc6ICd3YWl0aW5nJyxcbiAgICAgIHRvcFdoZWVsOiAnd2hlZWwnXG4gICAgfTtcbiAgICB2YXIgdG9wTGlzdGVuZXJzSURLZXkgPSAnX3JlYWN0TGlzdGVuZXJzSUQnICsgU3RyaW5nKE1hdGgucmFuZG9tKCkpLnNsaWNlKDIpO1xuICAgIGZ1bmN0aW9uIGdldExpc3RlbmluZ0ZvckRvY3VtZW50KG1vdW50QXQpIHtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vdW50QXQsIHRvcExpc3RlbmVyc0lES2V5KSkge1xuICAgICAgICBtb3VudEF0W3RvcExpc3RlbmVyc0lES2V5XSA9IHJlYWN0VG9wTGlzdGVuZXJzQ291bnRlcisrO1xuICAgICAgICBhbHJlYWR5TGlzdGVuaW5nVG9bbW91bnRBdFt0b3BMaXN0ZW5lcnNJREtleV1dID0ge307XG4gICAgICB9XG4gICAgICByZXR1cm4gYWxyZWFkeUxpc3RlbmluZ1RvW21vdW50QXRbdG9wTGlzdGVuZXJzSURLZXldXTtcbiAgICB9XG4gICAgdmFyIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlciA9IF9hc3NpZ24oe30sIFJlYWN0RXZlbnRFbWl0dGVyTWl4aW4sIHtcbiAgICAgIFJlYWN0RXZlbnRMaXN0ZW5lcjogbnVsbCxcbiAgICAgIGluamVjdGlvbjoge2luamVjdFJlYWN0RXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24oUmVhY3RFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgUmVhY3RFdmVudExpc3RlbmVyLnNldEhhbmRsZVRvcExldmVsKFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5oYW5kbGVUb3BMZXZlbCk7XG4gICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lciA9IFJlYWN0RXZlbnRMaXN0ZW5lcjtcbiAgICAgICAgfX0sXG4gICAgICBzZXRFbmFibGVkOiBmdW5jdGlvbihlbmFibGVkKSB7XG4gICAgICAgIGlmIChSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci5zZXRFbmFibGVkKGVuYWJsZWQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaXNFbmFibGVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEhKFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIgJiYgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci5pc0VuYWJsZWQoKSk7XG4gICAgICB9LFxuICAgICAgbGlzdGVuVG86IGZ1bmN0aW9uKHJlZ2lzdHJhdGlvbk5hbWUsIGNvbnRlbnREb2N1bWVudEhhbmRsZSkge1xuICAgICAgICB2YXIgbW91bnRBdCA9IGNvbnRlbnREb2N1bWVudEhhbmRsZTtcbiAgICAgICAgdmFyIGlzTGlzdGVuaW5nID0gZ2V0TGlzdGVuaW5nRm9yRG9jdW1lbnQobW91bnRBdCk7XG4gICAgICAgIHZhciBkZXBlbmRlbmNpZXMgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXNbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgICAgIHZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgZGVwZW5kZW5jeSA9IGRlcGVuZGVuY2llc1tpXTtcbiAgICAgICAgICBpZiAoIShpc0xpc3RlbmluZy5oYXNPd25Qcm9wZXJ0eShkZXBlbmRlbmN5KSAmJiBpc0xpc3RlbmluZ1tkZXBlbmRlbmN5XSkpIHtcbiAgICAgICAgICAgIGlmIChkZXBlbmRlbmN5ID09PSB0b3BMZXZlbFR5cGVzLnRvcFdoZWVsKSB7XG4gICAgICAgICAgICAgIGlmIChpc0V2ZW50U3VwcG9ydGVkKCd3aGVlbCcpKSB7XG4gICAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KHRvcExldmVsVHlwZXMudG9wV2hlZWwsICd3aGVlbCcsIG1vdW50QXQpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ21vdXNld2hlZWwnKSkge1xuICAgICAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcFdoZWVsLCAnbW91c2V3aGVlbCcsIG1vdW50QXQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcFdoZWVsLCAnRE9NTW91c2VTY3JvbGwnLCBtb3VudEF0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkZXBlbmRlbmN5ID09PSB0b3BMZXZlbFR5cGVzLnRvcFNjcm9sbCkge1xuICAgICAgICAgICAgICBpZiAoaXNFdmVudFN1cHBvcnRlZCgnc2Nyb2xsJywgdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBDYXB0dXJlZEV2ZW50KHRvcExldmVsVHlwZXMudG9wU2Nyb2xsLCAnc2Nyb2xsJywgbW91bnRBdCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KHRvcExldmVsVHlwZXMudG9wU2Nyb2xsLCAnc2Nyb2xsJywgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci5XSU5ET1dfSEFORExFKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkZXBlbmRlbmN5ID09PSB0b3BMZXZlbFR5cGVzLnRvcEZvY3VzIHx8IGRlcGVuZGVuY3kgPT09IHRvcExldmVsVHlwZXMudG9wQmx1cikge1xuICAgICAgICAgICAgICBpZiAoaXNFdmVudFN1cHBvcnRlZCgnZm9jdXMnLCB0cnVlKSkge1xuICAgICAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcENhcHR1cmVkRXZlbnQodG9wTGV2ZWxUeXBlcy50b3BGb2N1cywgJ2ZvY3VzJywgbW91bnRBdCk7XG4gICAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQ2FwdHVyZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcEJsdXIsICdibHVyJywgbW91bnRBdCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNFdmVudFN1cHBvcnRlZCgnZm9jdXNpbicpKSB7XG4gICAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KHRvcExldmVsVHlwZXMudG9wRm9jdXMsICdmb2N1c2luJywgbW91bnRBdCk7XG4gICAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KHRvcExldmVsVHlwZXMudG9wQmx1ciwgJ2ZvY3Vzb3V0JywgbW91bnRBdCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaXNMaXN0ZW5pbmdbdG9wTGV2ZWxUeXBlcy50b3BCbHVyXSA9IHRydWU7XG4gICAgICAgICAgICAgIGlzTGlzdGVuaW5nW3RvcExldmVsVHlwZXMudG9wRm9jdXNdID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9wRXZlbnRNYXBwaW5nLmhhc093blByb3BlcnR5KGRlcGVuZGVuY3kpKSB7XG4gICAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudChkZXBlbmRlbmN5LCB0b3BFdmVudE1hcHBpbmdbZGVwZW5kZW5jeV0sIG1vdW50QXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNMaXN0ZW5pbmdbZGVwZW5kZW5jeV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQ6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgaGFuZGxlckJhc2VOYW1lLCBoYW5kbGUpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgaGFuZGxlKTtcbiAgICAgIH0sXG4gICAgICB0cmFwQ2FwdHVyZWRFdmVudDogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCBoYW5kbGVyQmFzZU5hbWUsIGhhbmRsZSkge1xuICAgICAgICByZXR1cm4gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQ2FwdHVyZWRFdmVudCh0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgaGFuZGxlKTtcbiAgICAgIH0sXG4gICAgICBlbnN1cmVTY3JvbGxWYWx1ZU1vbml0b3Jpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoaGFzRXZlbnRQYWdlWFkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGhhc0V2ZW50UGFnZVhZID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQgJiYgJ3BhZ2VYJyBpbiBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGFzRXZlbnRQYWdlWFkgJiYgIWlzTW9uaXRvcmluZ1Njcm9sbFZhbHVlKSB7XG4gICAgICAgICAgdmFyIHJlZnJlc2ggPSBWaWV3cG9ydE1ldHJpY3MucmVmcmVzaFNjcm9sbFZhbHVlcztcbiAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLm1vbml0b3JTY3JvbGxWYWx1ZShyZWZyZXNoKTtcbiAgICAgICAgICBpc01vbml0b3JpbmdTY3JvbGxWYWx1ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlcjtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMWJcIiwgW1wiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICBmdW5jdGlvbiBjaGVja01hc2sodmFsdWUsIGJpdG1hc2spIHtcbiAgICAgIHJldHVybiAodmFsdWUgJiBiaXRtYXNrKSA9PT0gYml0bWFzaztcbiAgICB9XG4gICAgdmFyIERPTVByb3BlcnR5SW5qZWN0aW9uID0ge1xuICAgICAgTVVTVF9VU0VfUFJPUEVSVFk6IDB4MSxcbiAgICAgIEhBU19TSURFX0VGRkVDVFM6IDB4MixcbiAgICAgIEhBU19CT09MRUFOX1ZBTFVFOiAweDQsXG4gICAgICBIQVNfTlVNRVJJQ19WQUxVRTogMHg4LFxuICAgICAgSEFTX1BPU0lUSVZFX05VTUVSSUNfVkFMVUU6IDB4MTAgfCAweDgsXG4gICAgICBIQVNfT1ZFUkxPQURFRF9CT09MRUFOX1ZBTFVFOiAweDIwLFxuICAgICAgaW5qZWN0RE9NUHJvcGVydHlDb25maWc6IGZ1bmN0aW9uKGRvbVByb3BlcnR5Q29uZmlnKSB7XG4gICAgICAgIHZhciBJbmplY3Rpb24gPSBET01Qcm9wZXJ0eUluamVjdGlvbjtcbiAgICAgICAgdmFyIFByb3BlcnRpZXMgPSBkb21Qcm9wZXJ0eUNvbmZpZy5Qcm9wZXJ0aWVzIHx8IHt9O1xuICAgICAgICB2YXIgRE9NQXR0cmlidXRlTmFtZXNwYWNlcyA9IGRvbVByb3BlcnR5Q29uZmlnLkRPTUF0dHJpYnV0ZU5hbWVzcGFjZXMgfHwge307XG4gICAgICAgIHZhciBET01BdHRyaWJ1dGVOYW1lcyA9IGRvbVByb3BlcnR5Q29uZmlnLkRPTUF0dHJpYnV0ZU5hbWVzIHx8IHt9O1xuICAgICAgICB2YXIgRE9NUHJvcGVydHlOYW1lcyA9IGRvbVByb3BlcnR5Q29uZmlnLkRPTVByb3BlcnR5TmFtZXMgfHwge307XG4gICAgICAgIHZhciBET01NdXRhdGlvbk1ldGhvZHMgPSBkb21Qcm9wZXJ0eUNvbmZpZy5ET01NdXRhdGlvbk1ldGhvZHMgfHwge307XG4gICAgICAgIGlmIChkb21Qcm9wZXJ0eUNvbmZpZy5pc0N1c3RvbUF0dHJpYnV0ZSkge1xuICAgICAgICAgIERPTVByb3BlcnR5Ll9pc0N1c3RvbUF0dHJpYnV0ZUZ1bmN0aW9ucy5wdXNoKGRvbVByb3BlcnR5Q29uZmlnLmlzQ3VzdG9tQXR0cmlidXRlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgISFET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdpbmplY3RET01Qcm9wZXJ0eUNvbmZpZyguLi4pOiBZb3VcXCdyZSB0cnlpbmcgdG8gaW5qZWN0IERPTSBwcm9wZXJ0eSAnICsgJ1xcJyVzXFwnIHdoaWNoIGhhcyBhbHJlYWR5IGJlZW4gaW5qZWN0ZWQuIFlvdSBtYXkgYmUgYWNjaWRlbnRhbGx5ICcgKyAnaW5qZWN0aW5nIHRoZSBzYW1lIERPTSBwcm9wZXJ0eSBjb25maWcgdHdpY2UsIG9yIHlvdSBtYXkgYmUgJyArICdpbmplY3RpbmcgdHdvIGNvbmZpZ3MgdGhhdCBoYXZlIGNvbmZsaWN0aW5nIHByb3BlcnR5IG5hbWVzLicsIHByb3BOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgdmFyIGxvd2VyQ2FzZWQgPSBwcm9wTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIHZhciBwcm9wQ29uZmlnID0gUHJvcGVydGllc1twcm9wTmFtZV07XG4gICAgICAgICAgdmFyIHByb3BlcnR5SW5mbyA9IHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6IGxvd2VyQ2FzZWQsXG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lc3BhY2U6IG51bGwsXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BOYW1lLFxuICAgICAgICAgICAgbXV0YXRpb25NZXRob2Q6IG51bGwsXG4gICAgICAgICAgICBtdXN0VXNlUHJvcGVydHk6IGNoZWNrTWFzayhwcm9wQ29uZmlnLCBJbmplY3Rpb24uTVVTVF9VU0VfUFJPUEVSVFkpLFxuICAgICAgICAgICAgaGFzU2lkZUVmZmVjdHM6IGNoZWNrTWFzayhwcm9wQ29uZmlnLCBJbmplY3Rpb24uSEFTX1NJREVfRUZGRUNUUyksXG4gICAgICAgICAgICBoYXNCb29sZWFuVmFsdWU6IGNoZWNrTWFzayhwcm9wQ29uZmlnLCBJbmplY3Rpb24uSEFTX0JPT0xFQU5fVkFMVUUpLFxuICAgICAgICAgICAgaGFzTnVtZXJpY1ZhbHVlOiBjaGVja01hc2socHJvcENvbmZpZywgSW5qZWN0aW9uLkhBU19OVU1FUklDX1ZBTFVFKSxcbiAgICAgICAgICAgIGhhc1Bvc2l0aXZlTnVtZXJpY1ZhbHVlOiBjaGVja01hc2socHJvcENvbmZpZywgSW5qZWN0aW9uLkhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFKSxcbiAgICAgICAgICAgIGhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWU6IGNoZWNrTWFzayhwcm9wQ29uZmlnLCBJbmplY3Rpb24uSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRSlcbiAgICAgICAgICB9O1xuICAgICAgICAgICEocHJvcGVydHlJbmZvLm11c3RVc2VQcm9wZXJ0eSB8fCAhcHJvcGVydHlJbmZvLmhhc1NpZGVFZmZlY3RzKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdET01Qcm9wZXJ0eTogUHJvcGVydGllcyB0aGF0IGhhdmUgc2lkZSBlZmZlY3RzIG11c3QgdXNlIHByb3BlcnR5OiAlcycsIHByb3BOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgIShwcm9wZXJ0eUluZm8uaGFzQm9vbGVhblZhbHVlICsgcHJvcGVydHlJbmZvLmhhc051bWVyaWNWYWx1ZSArIHByb3BlcnR5SW5mby5oYXNPdmVybG9hZGVkQm9vbGVhblZhbHVlIDw9IDEpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0RPTVByb3BlcnR5OiBWYWx1ZSBjYW4gYmUgb25lIG9mIGJvb2xlYW4sIG92ZXJsb2FkZWQgYm9vbGVhbiwgb3IgJyArICdudW1lcmljIHZhbHVlLCBidXQgbm90IGEgY29tYmluYXRpb246ICVzJywgcHJvcE5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgRE9NUHJvcGVydHkuZ2V0UG9zc2libGVTdGFuZGFyZE5hbWVbbG93ZXJDYXNlZF0gPSBwcm9wTmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKERPTUF0dHJpYnV0ZU5hbWVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBET01BdHRyaWJ1dGVOYW1lc1twcm9wTmFtZV07XG4gICAgICAgICAgICBwcm9wZXJ0eUluZm8uYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWU7XG4gICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBET01Qcm9wZXJ0eS5nZXRQb3NzaWJsZVN0YW5kYXJkTmFtZVthdHRyaWJ1dGVOYW1lXSA9IHByb3BOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoRE9NQXR0cmlidXRlTmFtZXNwYWNlcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lc3BhY2UgPSBET01BdHRyaWJ1dGVOYW1lc3BhY2VzW3Byb3BOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKERPTVByb3BlcnR5TmFtZXMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eUluZm8ucHJvcGVydHlOYW1lID0gRE9NUHJvcGVydHlOYW1lc1twcm9wTmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChET01NdXRhdGlvbk1ldGhvZHMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eUluZm8ubXV0YXRpb25NZXRob2QgPSBET01NdXRhdGlvbk1ldGhvZHNbcHJvcE5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzW3Byb3BOYW1lXSA9IHByb3BlcnR5SW5mbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIEFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVIgPSAnOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRCc7XG4gICAgdmFyIERPTVByb3BlcnR5ID0ge1xuICAgICAgSURfQVRUUklCVVRFX05BTUU6ICdkYXRhLXJlYWN0aWQnLFxuICAgICAgUk9PVF9BVFRSSUJVVEVfTkFNRTogJ2RhdGEtcmVhY3Ryb290JyxcbiAgICAgIEFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVI6IEFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVIsXG4gICAgICBBVFRSSUJVVEVfTkFNRV9DSEFSOiBBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSICsgJ1xcXFwtLjAtOVxcXFx1QjdcXFxcdTAzMDAtXFxcXHUwMzZGXFxcXHUyMDNGLVxcXFx1MjA0MCcsXG4gICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgIGdldFBvc3NpYmxlU3RhbmRhcmROYW1lOiBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8ge30gOiBudWxsLFxuICAgICAgX2lzQ3VzdG9tQXR0cmlidXRlRnVuY3Rpb25zOiBbXSxcbiAgICAgIGlzQ3VzdG9tQXR0cmlidXRlOiBmdW5jdGlvbihhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgRE9NUHJvcGVydHkuX2lzQ3VzdG9tQXR0cmlidXRlRnVuY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGlzQ3VzdG9tQXR0cmlidXRlRm4gPSBET01Qcm9wZXJ0eS5faXNDdXN0b21BdHRyaWJ1dGVGdW5jdGlvbnNbaV07XG4gICAgICAgICAgaWYgKGlzQ3VzdG9tQXR0cmlidXRlRm4oYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9LFxuICAgICAgaW5qZWN0aW9uOiBET01Qcm9wZXJ0eUluamVjdGlvblxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBET01Qcm9wZXJ0eTtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNGZcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBSZWFjdERPTUNvbXBvbmVudEZsYWdzID0ge2hhc0NhY2hlZENoaWxkTm9kZXM6IDEgPDwgMH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01Db21wb25lbnRGbGFncztcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMVwiLCBbXCIxYlwiLCBcIjRmXCIsIFwiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRE9NUHJvcGVydHkgPSAkX19yZXF1aXJlKCcxYicpO1xuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudEZsYWdzID0gJF9fcmVxdWlyZSgnNGYnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgQVRUUl9OQU1FID0gRE9NUHJvcGVydHkuSURfQVRUUklCVVRFX05BTUU7XG4gICAgdmFyIEZsYWdzID0gUmVhY3RET01Db21wb25lbnRGbGFncztcbiAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZUtleSA9ICdfX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSQnICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7XG4gICAgZnVuY3Rpb24gZ2V0UmVuZGVyZWROYXRpdmVPclRleHRGcm9tQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICAgICAgdmFyIHJlbmRlcmVkO1xuICAgICAgd2hpbGUgKHJlbmRlcmVkID0gY29tcG9uZW50Ll9yZW5kZXJlZENvbXBvbmVudCkge1xuICAgICAgICBjb21wb25lbnQgPSByZW5kZXJlZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZWNhY2hlTm9kZShpbnN0LCBub2RlKSB7XG4gICAgICB2YXIgbmF0aXZlSW5zdCA9IGdldFJlbmRlcmVkTmF0aXZlT3JUZXh0RnJvbUNvbXBvbmVudChpbnN0KTtcbiAgICAgIG5hdGl2ZUluc3QuX25hdGl2ZU5vZGUgPSBub2RlO1xuICAgICAgbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IG5hdGl2ZUluc3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVuY2FjaGVOb2RlKGluc3QpIHtcbiAgICAgIHZhciBub2RlID0gaW5zdC5fbmF0aXZlTm9kZTtcbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIGRlbGV0ZSBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldO1xuICAgICAgICBpbnN0Ll9uYXRpdmVOb2RlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlY2FjaGVDaGlsZE5vZGVzKGluc3QsIG5vZGUpIHtcbiAgICAgIGlmIChpbnN0Ll9mbGFncyAmIEZsYWdzLmhhc0NhY2hlZENoaWxkTm9kZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGNoaWxkcmVuID0gaW5zdC5fcmVuZGVyZWRDaGlsZHJlbjtcbiAgICAgIHZhciBjaGlsZE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICBvdXRlcjogZm9yICh2YXIgbmFtZSBpbiBjaGlsZHJlbikge1xuICAgICAgICBpZiAoIWNoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoaWxkSW5zdCA9IGNoaWxkcmVuW25hbWVdO1xuICAgICAgICB2YXIgY2hpbGRJRCA9IGdldFJlbmRlcmVkTmF0aXZlT3JUZXh0RnJvbUNvbXBvbmVudChjaGlsZEluc3QpLl9kb21JRDtcbiAgICAgICAgaWYgKGNoaWxkSUQgPT0gbnVsbCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoOyBjaGlsZE5vZGUgIT09IG51bGw7IGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5uZXh0U2libGluZykge1xuICAgICAgICAgIGlmIChjaGlsZE5vZGUubm9kZVR5cGUgPT09IDEgJiYgY2hpbGROb2RlLmdldEF0dHJpYnV0ZShBVFRSX05BTUUpID09PSBTdHJpbmcoY2hpbGRJRCkgfHwgY2hpbGROb2RlLm5vZGVUeXBlID09PSA4ICYmIGNoaWxkTm9kZS5ub2RlVmFsdWUgPT09ICcgcmVhY3QtdGV4dDogJyArIGNoaWxkSUQgKyAnICcgfHwgY2hpbGROb2RlLm5vZGVUeXBlID09PSA4ICYmIGNoaWxkTm9kZS5ub2RlVmFsdWUgPT09ICcgcmVhY3QtZW1wdHk6ICcgKyBjaGlsZElEICsgJyAnKSB7XG4gICAgICAgICAgICBwcmVjYWNoZU5vZGUoY2hpbGRJbnN0LCBjaGlsZE5vZGUpO1xuICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICFmYWxzZSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdVbmFibGUgdG8gZmluZCBlbGVtZW50IHdpdGggSUQgJXMuJywgY2hpbGRJRCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgaW5zdC5fZmxhZ3MgfD0gRmxhZ3MuaGFzQ2FjaGVkQ2hpbGROb2RlcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUobm9kZSkge1xuICAgICAgaWYgKG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV0pIHtcbiAgICAgICAgcmV0dXJuIG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV07XG4gICAgICB9XG4gICAgICB2YXIgcGFyZW50cyA9IFtdO1xuICAgICAgd2hpbGUgKCFub2RlW2ludGVybmFsSW5zdGFuY2VLZXldKSB7XG4gICAgICAgIHBhcmVudHMucHVzaChub2RlKTtcbiAgICAgICAgaWYgKG5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBjbG9zZXN0O1xuICAgICAgdmFyIGluc3Q7XG4gICAgICBmb3IgKDsgbm9kZSAmJiAoaW5zdCA9IG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV0pOyBub2RlID0gcGFyZW50cy5wb3AoKSkge1xuICAgICAgICBjbG9zZXN0ID0gaW5zdDtcbiAgICAgICAgaWYgKHBhcmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgcHJlY2FjaGVDaGlsZE5vZGVzKGluc3QsIG5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY2xvc2VzdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SW5zdGFuY2VGcm9tTm9kZShub2RlKSB7XG4gICAgICB2YXIgaW5zdCA9IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKG5vZGUpO1xuICAgICAgaWYgKGluc3QgIT0gbnVsbCAmJiBpbnN0Ll9uYXRpdmVOb2RlID09PSBub2RlKSB7XG4gICAgICAgIHJldHVybiBpbnN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCkge1xuICAgICAgIShpbnN0Ll9uYXRpdmVOb2RlICE9PSB1bmRlZmluZWQpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2dldE5vZGVGcm9tSW5zdGFuY2U6IEludmFsaWQgYXJndW1lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaWYgKGluc3QuX25hdGl2ZU5vZGUpIHtcbiAgICAgICAgcmV0dXJuIGluc3QuX25hdGl2ZU5vZGU7XG4gICAgICB9XG4gICAgICB2YXIgcGFyZW50cyA9IFtdO1xuICAgICAgd2hpbGUgKCFpbnN0Ll9uYXRpdmVOb2RlKSB7XG4gICAgICAgIHBhcmVudHMucHVzaChpbnN0KTtcbiAgICAgICAgIWluc3QuX25hdGl2ZVBhcmVudCA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdCBET00gdHJlZSByb290IHNob3VsZCBhbHdheXMgaGF2ZSBhIG5vZGUgcmVmZXJlbmNlLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgaW5zdCA9IGluc3QuX25hdGl2ZVBhcmVudDtcbiAgICAgIH1cbiAgICAgIGZvciAoOyBwYXJlbnRzLmxlbmd0aDsgaW5zdCA9IHBhcmVudHMucG9wKCkpIHtcbiAgICAgICAgcHJlY2FjaGVDaGlsZE5vZGVzKGluc3QsIGluc3QuX25hdGl2ZU5vZGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluc3QuX25hdGl2ZU5vZGU7XG4gICAgfVxuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSB7XG4gICAgICBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZTogZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUsXG4gICAgICBnZXRJbnN0YW5jZUZyb21Ob2RlOiBnZXRJbnN0YW5jZUZyb21Ob2RlLFxuICAgICAgZ2V0Tm9kZUZyb21JbnN0YW5jZTogZ2V0Tm9kZUZyb21JbnN0YW5jZSxcbiAgICAgIHByZWNhY2hlQ2hpbGROb2RlczogcHJlY2FjaGVDaGlsZE5vZGVzLFxuICAgICAgcHJlY2FjaGVOb2RlOiBwcmVjYWNoZU5vZGUsXG4gICAgICB1bmNhY2hlTm9kZTogdW5jYWNoZU5vZGVcbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01Db21wb25lbnRUcmVlO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI1MFwiLCBbXCI2XCIsIFwiNDhcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICAgIHZhciBlbXB0eUZ1bmN0aW9uID0gJF9fcmVxdWlyZSgnNDgnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIHZhbGlkYXRlRE9NTmVzdGluZyA9IGVtcHR5RnVuY3Rpb247XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBzcGVjaWFsVGFncyA9IFsnYWRkcmVzcycsICdhcHBsZXQnLCAnYXJlYScsICdhcnRpY2xlJywgJ2FzaWRlJywgJ2Jhc2UnLCAnYmFzZWZvbnQnLCAnYmdzb3VuZCcsICdibG9ja3F1b3RlJywgJ2JvZHknLCAnYnInLCAnYnV0dG9uJywgJ2NhcHRpb24nLCAnY2VudGVyJywgJ2NvbCcsICdjb2xncm91cCcsICdkZCcsICdkZXRhaWxzJywgJ2RpcicsICdkaXYnLCAnZGwnLCAnZHQnLCAnZW1iZWQnLCAnZmllbGRzZXQnLCAnZmlnY2FwdGlvbicsICdmaWd1cmUnLCAnZm9vdGVyJywgJ2Zvcm0nLCAnZnJhbWUnLCAnZnJhbWVzZXQnLCAnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnLCAnaGVhZCcsICdoZWFkZXInLCAnaGdyb3VwJywgJ2hyJywgJ2h0bWwnLCAnaWZyYW1lJywgJ2ltZycsICdpbnB1dCcsICdpc2luZGV4JywgJ2xpJywgJ2xpbmsnLCAnbGlzdGluZycsICdtYWluJywgJ21hcnF1ZWUnLCAnbWVudScsICdtZW51aXRlbScsICdtZXRhJywgJ25hdicsICdub2VtYmVkJywgJ25vZnJhbWVzJywgJ25vc2NyaXB0JywgJ29iamVjdCcsICdvbCcsICdwJywgJ3BhcmFtJywgJ3BsYWludGV4dCcsICdwcmUnLCAnc2NyaXB0JywgJ3NlY3Rpb24nLCAnc2VsZWN0JywgJ3NvdXJjZScsICdzdHlsZScsICdzdW1tYXJ5JywgJ3RhYmxlJywgJ3Rib2R5JywgJ3RkJywgJ3RlbXBsYXRlJywgJ3RleHRhcmVhJywgJ3Rmb290JywgJ3RoJywgJ3RoZWFkJywgJ3RpdGxlJywgJ3RyJywgJ3RyYWNrJywgJ3VsJywgJ3dicicsICd4bXAnXTtcbiAgICAgIHZhciBpblNjb3BlVGFncyA9IFsnYXBwbGV0JywgJ2NhcHRpb24nLCAnaHRtbCcsICd0YWJsZScsICd0ZCcsICd0aCcsICdtYXJxdWVlJywgJ29iamVjdCcsICd0ZW1wbGF0ZScsICdmb3JlaWduT2JqZWN0JywgJ2Rlc2MnLCAndGl0bGUnXTtcbiAgICAgIHZhciBidXR0b25TY29wZVRhZ3MgPSBpblNjb3BlVGFncy5jb25jYXQoWydidXR0b24nXSk7XG4gICAgICB2YXIgaW1wbGllZEVuZFRhZ3MgPSBbJ2RkJywgJ2R0JywgJ2xpJywgJ29wdGlvbicsICdvcHRncm91cCcsICdwJywgJ3JwJywgJ3J0J107XG4gICAgICB2YXIgZW1wdHlBbmNlc3RvckluZm8gPSB7XG4gICAgICAgIGN1cnJlbnQ6IG51bGwsXG4gICAgICAgIGZvcm1UYWc6IG51bGwsXG4gICAgICAgIGFUYWdJblNjb3BlOiBudWxsLFxuICAgICAgICBidXR0b25UYWdJblNjb3BlOiBudWxsLFxuICAgICAgICBub2JyVGFnSW5TY29wZTogbnVsbCxcbiAgICAgICAgcFRhZ0luQnV0dG9uU2NvcGU6IG51bGwsXG4gICAgICAgIGxpc3RJdGVtVGFnQXV0b2Nsb3Npbmc6IG51bGwsXG4gICAgICAgIGRsSXRlbVRhZ0F1dG9jbG9zaW5nOiBudWxsXG4gICAgICB9O1xuICAgICAgdmFyIHVwZGF0ZWRBbmNlc3RvckluZm8gPSBmdW5jdGlvbihvbGRJbmZvLCB0YWcsIGluc3RhbmNlKSB7XG4gICAgICAgIHZhciBhbmNlc3RvckluZm8gPSBfYXNzaWduKHt9LCBvbGRJbmZvIHx8IGVtcHR5QW5jZXN0b3JJbmZvKTtcbiAgICAgICAgdmFyIGluZm8gPSB7XG4gICAgICAgICAgdGFnOiB0YWcsXG4gICAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlXG4gICAgICAgIH07XG4gICAgICAgIGlmIChpblNjb3BlVGFncy5pbmRleE9mKHRhZykgIT09IC0xKSB7XG4gICAgICAgICAgYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlID0gbnVsbDtcbiAgICAgICAgICBhbmNlc3RvckluZm8uYnV0dG9uVGFnSW5TY29wZSA9IG51bGw7XG4gICAgICAgICAgYW5jZXN0b3JJbmZvLm5vYnJUYWdJblNjb3BlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnV0dG9uU2NvcGVUYWdzLmluZGV4T2YodGFnKSAhPT0gLTEpIHtcbiAgICAgICAgICBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGVjaWFsVGFncy5pbmRleE9mKHRhZykgIT09IC0xICYmIHRhZyAhPT0gJ2FkZHJlc3MnICYmIHRhZyAhPT0gJ2RpdicgJiYgdGFnICE9PSAncCcpIHtcbiAgICAgICAgICBhbmNlc3RvckluZm8ubGlzdEl0ZW1UYWdBdXRvY2xvc2luZyA9IG51bGw7XG4gICAgICAgICAgYW5jZXN0b3JJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBhbmNlc3RvckluZm8uY3VycmVudCA9IGluZm87XG4gICAgICAgIGlmICh0YWcgPT09ICdmb3JtJykge1xuICAgICAgICAgIGFuY2VzdG9ySW5mby5mb3JtVGFnID0gaW5mbztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09PSAnYScpIHtcbiAgICAgICAgICBhbmNlc3RvckluZm8uYVRhZ0luU2NvcGUgPSBpbmZvO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT09ICdidXR0b24nKSB7XG4gICAgICAgICAgYW5jZXN0b3JJbmZvLmJ1dHRvblRhZ0luU2NvcGUgPSBpbmZvO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT09ICdub2JyJykge1xuICAgICAgICAgIGFuY2VzdG9ySW5mby5ub2JyVGFnSW5TY29wZSA9IGluZm87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PT0gJ3AnKSB7XG4gICAgICAgICAgYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlID0gaW5mbztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09PSAnbGknKSB7XG4gICAgICAgICAgYW5jZXN0b3JJbmZvLmxpc3RJdGVtVGFnQXV0b2Nsb3NpbmcgPSBpbmZvO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT09ICdkZCcgfHwgdGFnID09PSAnZHQnKSB7XG4gICAgICAgICAgYW5jZXN0b3JJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nID0gaW5mbztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvO1xuICAgICAgfTtcbiAgICAgIHZhciBpc1RhZ1ZhbGlkV2l0aFBhcmVudCA9IGZ1bmN0aW9uKHRhZywgcGFyZW50VGFnKSB7XG4gICAgICAgIHN3aXRjaCAocGFyZW50VGFnKSB7XG4gICAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgICAgIHJldHVybiB0YWcgPT09ICdvcHRpb24nIHx8IHRhZyA9PT0gJ29wdGdyb3VwJyB8fCB0YWcgPT09ICcjdGV4dCc7XG4gICAgICAgICAgY2FzZSAnb3B0Z3JvdXAnOlxuICAgICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ29wdGlvbicgfHwgdGFnID09PSAnI3RleHQnO1xuICAgICAgICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICAgICAgICByZXR1cm4gdGFnID09PSAnI3RleHQnO1xuICAgICAgICAgIGNhc2UgJ3RyJzpcbiAgICAgICAgICAgIHJldHVybiB0YWcgPT09ICd0aCcgfHwgdGFnID09PSAndGQnIHx8IHRhZyA9PT0gJ3N0eWxlJyB8fCB0YWcgPT09ICdzY3JpcHQnIHx8IHRhZyA9PT0gJ3RlbXBsYXRlJztcbiAgICAgICAgICBjYXNlICd0Ym9keSc6XG4gICAgICAgICAgY2FzZSAndGhlYWQnOlxuICAgICAgICAgIGNhc2UgJ3Rmb290JzpcbiAgICAgICAgICAgIHJldHVybiB0YWcgPT09ICd0cicgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgICAgIGNhc2UgJ2NvbGdyb3VwJzpcbiAgICAgICAgICAgIHJldHVybiB0YWcgPT09ICdjb2wnIHx8IHRhZyA9PT0gJ3RlbXBsYXRlJztcbiAgICAgICAgICBjYXNlICd0YWJsZSc6XG4gICAgICAgICAgICByZXR1cm4gdGFnID09PSAnY2FwdGlvbicgfHwgdGFnID09PSAnY29sZ3JvdXAnIHx8IHRhZyA9PT0gJ3Rib2R5JyB8fCB0YWcgPT09ICd0Zm9vdCcgfHwgdGFnID09PSAndGhlYWQnIHx8IHRhZyA9PT0gJ3N0eWxlJyB8fCB0YWcgPT09ICdzY3JpcHQnIHx8IHRhZyA9PT0gJ3RlbXBsYXRlJztcbiAgICAgICAgICBjYXNlICdoZWFkJzpcbiAgICAgICAgICAgIHJldHVybiB0YWcgPT09ICdiYXNlJyB8fCB0YWcgPT09ICdiYXNlZm9udCcgfHwgdGFnID09PSAnYmdzb3VuZCcgfHwgdGFnID09PSAnbGluaycgfHwgdGFnID09PSAnbWV0YScgfHwgdGFnID09PSAndGl0bGUnIHx8IHRhZyA9PT0gJ25vc2NyaXB0JyB8fCB0YWcgPT09ICdub2ZyYW1lcycgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2hlYWQnIHx8IHRhZyA9PT0gJ2JvZHknO1xuICAgICAgICAgIGNhc2UgJyNkb2N1bWVudCc6XG4gICAgICAgICAgICByZXR1cm4gdGFnID09PSAnaHRtbCc7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgICBjYXNlICdoMSc6XG4gICAgICAgICAgY2FzZSAnaDInOlxuICAgICAgICAgIGNhc2UgJ2gzJzpcbiAgICAgICAgICBjYXNlICdoNCc6XG4gICAgICAgICAgY2FzZSAnaDUnOlxuICAgICAgICAgIGNhc2UgJ2g2JzpcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnRUYWcgIT09ICdoMScgJiYgcGFyZW50VGFnICE9PSAnaDInICYmIHBhcmVudFRhZyAhPT0gJ2gzJyAmJiBwYXJlbnRUYWcgIT09ICdoNCcgJiYgcGFyZW50VGFnICE9PSAnaDUnICYmIHBhcmVudFRhZyAhPT0gJ2g2JztcbiAgICAgICAgICBjYXNlICdycCc6XG4gICAgICAgICAgY2FzZSAncnQnOlxuICAgICAgICAgICAgcmV0dXJuIGltcGxpZWRFbmRUYWdzLmluZGV4T2YocGFyZW50VGFnKSA9PT0gLTE7XG4gICAgICAgICAgY2FzZSAnYm9keSc6XG4gICAgICAgICAgY2FzZSAnY2FwdGlvbic6XG4gICAgICAgICAgY2FzZSAnY29sJzpcbiAgICAgICAgICBjYXNlICdjb2xncm91cCc6XG4gICAgICAgICAgY2FzZSAnZnJhbWUnOlxuICAgICAgICAgIGNhc2UgJ2hlYWQnOlxuICAgICAgICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgICAgIGNhc2UgJ3Rib2R5JzpcbiAgICAgICAgICBjYXNlICd0ZCc6XG4gICAgICAgICAgY2FzZSAndGZvb3QnOlxuICAgICAgICAgIGNhc2UgJ3RoJzpcbiAgICAgICAgICBjYXNlICd0aGVhZCc6XG4gICAgICAgICAgY2FzZSAndHInOlxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudFRhZyA9PSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfTtcbiAgICAgIHZhciBmaW5kSW52YWxpZEFuY2VzdG9yRm9yVGFnID0gZnVuY3Rpb24odGFnLCBhbmNlc3RvckluZm8pIHtcbiAgICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgICBjYXNlICdhZGRyZXNzJzpcbiAgICAgICAgICBjYXNlICdhcnRpY2xlJzpcbiAgICAgICAgICBjYXNlICdhc2lkZSc6XG4gICAgICAgICAgY2FzZSAnYmxvY2txdW90ZSc6XG4gICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICBjYXNlICdkZXRhaWxzJzpcbiAgICAgICAgICBjYXNlICdkaWFsb2cnOlxuICAgICAgICAgIGNhc2UgJ2Rpcic6XG4gICAgICAgICAgY2FzZSAnZGl2JzpcbiAgICAgICAgICBjYXNlICdkbCc6XG4gICAgICAgICAgY2FzZSAnZmllbGRzZXQnOlxuICAgICAgICAgIGNhc2UgJ2ZpZ2NhcHRpb24nOlxuICAgICAgICAgIGNhc2UgJ2ZpZ3VyZSc6XG4gICAgICAgICAgY2FzZSAnZm9vdGVyJzpcbiAgICAgICAgICBjYXNlICdoZWFkZXInOlxuICAgICAgICAgIGNhc2UgJ2hncm91cCc6XG4gICAgICAgICAgY2FzZSAnbWFpbic6XG4gICAgICAgICAgY2FzZSAnbWVudSc6XG4gICAgICAgICAgY2FzZSAnbmF2JzpcbiAgICAgICAgICBjYXNlICdvbCc6XG4gICAgICAgICAgY2FzZSAncCc6XG4gICAgICAgICAgY2FzZSAnc2VjdGlvbic6XG4gICAgICAgICAgY2FzZSAnc3VtbWFyeSc6XG4gICAgICAgICAgY2FzZSAndWwnOlxuICAgICAgICAgIGNhc2UgJ3ByZSc6XG4gICAgICAgICAgY2FzZSAnbGlzdGluZyc6XG4gICAgICAgICAgY2FzZSAndGFibGUnOlxuICAgICAgICAgIGNhc2UgJ2hyJzpcbiAgICAgICAgICBjYXNlICd4bXAnOlxuICAgICAgICAgIGNhc2UgJ2gxJzpcbiAgICAgICAgICBjYXNlICdoMic6XG4gICAgICAgICAgY2FzZSAnaDMnOlxuICAgICAgICAgIGNhc2UgJ2g0JzpcbiAgICAgICAgICBjYXNlICdoNSc6XG4gICAgICAgICAgY2FzZSAnaDYnOlxuICAgICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZTtcbiAgICAgICAgICBjYXNlICdmb3JtJzpcbiAgICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uZm9ybVRhZyB8fCBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGU7XG4gICAgICAgICAgY2FzZSAnbGknOlxuICAgICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nO1xuICAgICAgICAgIGNhc2UgJ2RkJzpcbiAgICAgICAgICBjYXNlICdkdCc6XG4gICAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nO1xuICAgICAgICAgIGNhc2UgJ2J1dHRvbic6XG4gICAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmJ1dHRvblRhZ0luU2NvcGU7XG4gICAgICAgICAgY2FzZSAnYSc6XG4gICAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlO1xuICAgICAgICAgIGNhc2UgJ25vYnInOlxuICAgICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5ub2JyVGFnSW5TY29wZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH07XG4gICAgICB2YXIgZmluZE93bmVyU3RhY2sgPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgICAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGFjayA9IFtdO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgc3RhY2sucHVzaChpbnN0YW5jZSk7XG4gICAgICAgIH0gd2hpbGUgKGluc3RhbmNlID0gaW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50Ll9vd25lcik7XG4gICAgICAgIHN0YWNrLnJldmVyc2UoKTtcbiAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgICAgfTtcbiAgICAgIHZhciBkaWRXYXJuID0ge307XG4gICAgICB2YWxpZGF0ZURPTU5lc3RpbmcgPSBmdW5jdGlvbihjaGlsZFRhZywgY2hpbGRJbnN0YW5jZSwgYW5jZXN0b3JJbmZvKSB7XG4gICAgICAgIGFuY2VzdG9ySW5mbyA9IGFuY2VzdG9ySW5mbyB8fCBlbXB0eUFuY2VzdG9ySW5mbztcbiAgICAgICAgdmFyIHBhcmVudEluZm8gPSBhbmNlc3RvckluZm8uY3VycmVudDtcbiAgICAgICAgdmFyIHBhcmVudFRhZyA9IHBhcmVudEluZm8gJiYgcGFyZW50SW5mby50YWc7XG4gICAgICAgIHZhciBpbnZhbGlkUGFyZW50ID0gaXNUYWdWYWxpZFdpdGhQYXJlbnQoY2hpbGRUYWcsIHBhcmVudFRhZykgPyBudWxsIDogcGFyZW50SW5mbztcbiAgICAgICAgdmFyIGludmFsaWRBbmNlc3RvciA9IGludmFsaWRQYXJlbnQgPyBudWxsIDogZmluZEludmFsaWRBbmNlc3RvckZvclRhZyhjaGlsZFRhZywgYW5jZXN0b3JJbmZvKTtcbiAgICAgICAgdmFyIHByb2JsZW1hdGljID0gaW52YWxpZFBhcmVudCB8fCBpbnZhbGlkQW5jZXN0b3I7XG4gICAgICAgIGlmIChwcm9ibGVtYXRpYykge1xuICAgICAgICAgIHZhciBhbmNlc3RvclRhZyA9IHByb2JsZW1hdGljLnRhZztcbiAgICAgICAgICB2YXIgYW5jZXN0b3JJbnN0YW5jZSA9IHByb2JsZW1hdGljLmluc3RhbmNlO1xuICAgICAgICAgIHZhciBjaGlsZE93bmVyID0gY2hpbGRJbnN0YW5jZSAmJiBjaGlsZEluc3RhbmNlLl9jdXJyZW50RWxlbWVudC5fb3duZXI7XG4gICAgICAgICAgdmFyIGFuY2VzdG9yT3duZXIgPSBhbmNlc3Rvckluc3RhbmNlICYmIGFuY2VzdG9ySW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgICAgICB2YXIgY2hpbGRPd25lcnMgPSBmaW5kT3duZXJTdGFjayhjaGlsZE93bmVyKTtcbiAgICAgICAgICB2YXIgYW5jZXN0b3JPd25lcnMgPSBmaW5kT3duZXJTdGFjayhhbmNlc3Rvck93bmVyKTtcbiAgICAgICAgICB2YXIgbWluU3RhY2tMZW4gPSBNYXRoLm1pbihjaGlsZE93bmVycy5sZW5ndGgsIGFuY2VzdG9yT3duZXJzLmxlbmd0aCk7XG4gICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgdmFyIGRlZXBlc3RDb21tb24gPSAtMTtcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbWluU3RhY2tMZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKGNoaWxkT3duZXJzW2ldID09PSBhbmNlc3Rvck93bmVyc1tpXSkge1xuICAgICAgICAgICAgICBkZWVwZXN0Q29tbW9uID0gaTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgVU5LTk9XTiA9ICcodW5rbm93biknO1xuICAgICAgICAgIHZhciBjaGlsZE93bmVyTmFtZXMgPSBjaGlsZE93bmVycy5zbGljZShkZWVwZXN0Q29tbW9uICsgMSkubWFwKGZ1bmN0aW9uKGluc3QpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnN0LmdldE5hbWUoKSB8fCBVTktOT1dOO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBhbmNlc3Rvck93bmVyTmFtZXMgPSBhbmNlc3Rvck93bmVycy5zbGljZShkZWVwZXN0Q29tbW9uICsgMSkubWFwKGZ1bmN0aW9uKGluc3QpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnN0LmdldE5hbWUoKSB8fCBVTktOT1dOO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBvd25lckluZm8gPSBbXS5jb25jYXQoZGVlcGVzdENvbW1vbiAhPT0gLTEgPyBjaGlsZE93bmVyc1tkZWVwZXN0Q29tbW9uXS5nZXROYW1lKCkgfHwgVU5LTk9XTiA6IFtdLCBhbmNlc3Rvck93bmVyTmFtZXMsIGFuY2VzdG9yVGFnLCBpbnZhbGlkQW5jZXN0b3IgPyBbJy4uLiddIDogW10sIGNoaWxkT3duZXJOYW1lcywgY2hpbGRUYWcpLmpvaW4oJyA+ICcpO1xuICAgICAgICAgIHZhciB3YXJuS2V5ID0gISFpbnZhbGlkUGFyZW50ICsgJ3wnICsgY2hpbGRUYWcgKyAnfCcgKyBhbmNlc3RvclRhZyArICd8JyArIG93bmVySW5mbztcbiAgICAgICAgICBpZiAoZGlkV2Fyblt3YXJuS2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkaWRXYXJuW3dhcm5LZXldID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgdGFnRGlzcGxheU5hbWUgPSBjaGlsZFRhZztcbiAgICAgICAgICBpZiAoY2hpbGRUYWcgIT09ICcjdGV4dCcpIHtcbiAgICAgICAgICAgIHRhZ0Rpc3BsYXlOYW1lID0gJzwnICsgY2hpbGRUYWcgKyAnPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbnZhbGlkUGFyZW50KSB7XG4gICAgICAgICAgICB2YXIgaW5mbyA9ICcnO1xuICAgICAgICAgICAgaWYgKGFuY2VzdG9yVGFnID09PSAndGFibGUnICYmIGNoaWxkVGFnID09PSAndHInKSB7XG4gICAgICAgICAgICAgIGluZm8gKz0gJyBBZGQgYSA8dGJvZHk+IHRvIHlvdXIgY29kZSB0byBtYXRjaCB0aGUgRE9NIHRyZWUgZ2VuZXJhdGVkIGJ5ICcgKyAndGhlIGJyb3dzZXIuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAndmFsaWRhdGVET01OZXN0aW5nKC4uLik6ICVzIGNhbm5vdCBhcHBlYXIgYXMgYSBjaGlsZCBvZiA8JXM+LiAnICsgJ1NlZSAlcy4lcycsIHRhZ0Rpc3BsYXlOYW1lLCBhbmNlc3RvclRhZywgb3duZXJJbmZvLCBpbmZvKSA6IHZvaWQgMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICd2YWxpZGF0ZURPTU5lc3RpbmcoLi4uKTogJXMgY2Fubm90IGFwcGVhciBhcyBhIGRlc2NlbmRhbnQgb2YgJyArICc8JXM+LiBTZWUgJXMuJywgdGFnRGlzcGxheU5hbWUsIGFuY2VzdG9yVGFnLCBvd25lckluZm8pIDogdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhbGlkYXRlRE9NTmVzdGluZy51cGRhdGVkQW5jZXN0b3JJbmZvID0gdXBkYXRlZEFuY2VzdG9ySW5mbztcbiAgICAgIHZhbGlkYXRlRE9NTmVzdGluZy5pc1RhZ1ZhbGlkSW5Db250ZXh0ID0gZnVuY3Rpb24odGFnLCBhbmNlc3RvckluZm8pIHtcbiAgICAgICAgYW5jZXN0b3JJbmZvID0gYW5jZXN0b3JJbmZvIHx8IGVtcHR5QW5jZXN0b3JJbmZvO1xuICAgICAgICB2YXIgcGFyZW50SW5mbyA9IGFuY2VzdG9ySW5mby5jdXJyZW50O1xuICAgICAgICB2YXIgcGFyZW50VGFnID0gcGFyZW50SW5mbyAmJiBwYXJlbnRJbmZvLnRhZztcbiAgICAgICAgcmV0dXJuIGlzVGFnVmFsaWRXaXRoUGFyZW50KHRhZywgcGFyZW50VGFnKSAmJiAhZmluZEludmFsaWRBbmNlc3RvckZvclRhZyh0YWcsIGFuY2VzdG9ySW5mbyk7XG4gICAgICB9O1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IHZhbGlkYXRlRE9NTmVzdGluZztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiODlcIiwgW1wiNTBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgdmFsaWRhdGVET01OZXN0aW5nID0gJF9fcmVxdWlyZSgnNTAnKTtcbiAgICB2YXIgRE9DX05PREVfVFlQRSA9IDk7XG4gICAgZnVuY3Rpb24gUmVhY3RET01Db250YWluZXJJbmZvKHRvcExldmVsV3JhcHBlciwgbm9kZSkge1xuICAgICAgdmFyIGluZm8gPSB7XG4gICAgICAgIF90b3BMZXZlbFdyYXBwZXI6IHRvcExldmVsV3JhcHBlcixcbiAgICAgICAgX2lkQ291bnRlcjogMSxcbiAgICAgICAgX293bmVyRG9jdW1lbnQ6IG5vZGUgPyBub2RlLm5vZGVUeXBlID09PSBET0NfTk9ERV9UWVBFID8gbm9kZSA6IG5vZGUub3duZXJEb2N1bWVudCA6IG51bGwsXG4gICAgICAgIF9ub2RlOiBub2RlLFxuICAgICAgICBfdGFnOiBub2RlID8gbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIDogbnVsbCxcbiAgICAgICAgX25hbWVzcGFjZVVSSTogbm9kZSA/IG5vZGUubmFtZXNwYWNlVVJJIDogbnVsbFxuICAgICAgfTtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGluZm8uX2FuY2VzdG9ySW5mbyA9IG5vZGUgPyB2YWxpZGF0ZURPTU5lc3RpbmcudXBkYXRlZEFuY2VzdG9ySW5mbyhudWxsLCBpbmZvLl90YWcsIG51bGwpIDogbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NQ29udGFpbmVySW5mbztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiOGFcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBSZWFjdERPTUZlYXR1cmVGbGFncyA9IHt1c2VDcmVhdGVFbGVtZW50OiB0cnVlfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUZlYXR1cmVGbGFncztcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI4YlwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIE1PRCA9IDY1NTIxO1xuICBmdW5jdGlvbiBhZGxlcjMyKGRhdGEpIHtcbiAgICB2YXIgYSA9IDE7XG4gICAgdmFyIGIgPSAwO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbCA9IGRhdGEubGVuZ3RoO1xuICAgIHZhciBtID0gbCAmIH4weDM7XG4gICAgd2hpbGUgKGkgPCBtKSB7XG4gICAgICB2YXIgbiA9IE1hdGgubWluKGkgKyA0MDk2LCBtKTtcbiAgICAgIGZvciAoOyBpIDwgbjsgaSArPSA0KSB7XG4gICAgICAgIGIgKz0gKGEgKz0gZGF0YS5jaGFyQ29kZUF0KGkpKSArIChhICs9IGRhdGEuY2hhckNvZGVBdChpICsgMSkpICsgKGEgKz0gZGF0YS5jaGFyQ29kZUF0KGkgKyAyKSkgKyAoYSArPSBkYXRhLmNoYXJDb2RlQXQoaSArIDMpKTtcbiAgICAgIH1cbiAgICAgIGEgJT0gTU9EO1xuICAgICAgYiAlPSBNT0Q7XG4gICAgfVxuICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBiICs9IGEgKz0gZGF0YS5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICBhICU9IE1PRDtcbiAgICBiICU9IE1PRDtcbiAgICByZXR1cm4gYSB8IGIgPDwgMTY7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBhZGxlcjMyO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjhjXCIsIFtcIjhiXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgYWRsZXIzMiA9ICRfX3JlcXVpcmUoJzhiJyk7XG4gIHZhciBUQUdfRU5EID0gL1xcLz8+LztcbiAgdmFyIENPTU1FTlRfU1RBUlQgPSAvXjxcXCFcXC1cXC0vO1xuICB2YXIgUmVhY3RNYXJrdXBDaGVja3N1bSA9IHtcbiAgICBDSEVDS1NVTV9BVFRSX05BTUU6ICdkYXRhLXJlYWN0LWNoZWNrc3VtJyxcbiAgICBhZGRDaGVja3N1bVRvTWFya3VwOiBmdW5jdGlvbihtYXJrdXApIHtcbiAgICAgIHZhciBjaGVja3N1bSA9IGFkbGVyMzIobWFya3VwKTtcbiAgICAgIGlmIChDT01NRU5UX1NUQVJULnRlc3QobWFya3VwKSkge1xuICAgICAgICByZXR1cm4gbWFya3VwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1hcmt1cC5yZXBsYWNlKFRBR19FTkQsICcgJyArIFJlYWN0TWFya3VwQ2hlY2tzdW0uQ0hFQ0tTVU1fQVRUUl9OQU1FICsgJz1cIicgKyBjaGVja3N1bSArICdcIiQmJyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYW5SZXVzZU1hcmt1cDogZnVuY3Rpb24obWFya3VwLCBlbGVtZW50KSB7XG4gICAgICB2YXIgZXhpc3RpbmdDaGVja3N1bSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFJlYWN0TWFya3VwQ2hlY2tzdW0uQ0hFQ0tTVU1fQVRUUl9OQU1FKTtcbiAgICAgIGV4aXN0aW5nQ2hlY2tzdW0gPSBleGlzdGluZ0NoZWNrc3VtICYmIHBhcnNlSW50KGV4aXN0aW5nQ2hlY2tzdW0sIDEwKTtcbiAgICAgIHZhciBtYXJrdXBDaGVja3N1bSA9IGFkbGVyMzIobWFya3VwKTtcbiAgICAgIHJldHVybiBtYXJrdXBDaGVja3N1bSA9PT0gZXhpc3RpbmdDaGVja3N1bTtcbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RNYXJrdXBDaGVja3N1bTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI0NVwiLCBbXCIzMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBpbmplY3RlZCA9IGZhbHNlO1xuICAgIHZhciBSZWFjdENvbXBvbmVudEVudmlyb25tZW50ID0ge1xuICAgICAgdW5tb3VudElERnJvbUVudmlyb25tZW50OiBudWxsLFxuICAgICAgcmVwbGFjZU5vZGVXaXRoTWFya3VwOiBudWxsLFxuICAgICAgcHJvY2Vzc0NoaWxkcmVuVXBkYXRlczogbnVsbCxcbiAgICAgIGluamVjdGlvbjoge2luamVjdEVudmlyb25tZW50OiBmdW5jdGlvbihlbnZpcm9ubWVudCkge1xuICAgICAgICAgICEhaW5qZWN0ZWQgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQ6IGluamVjdEVudmlyb25tZW50KCkgY2FuIG9ubHkgYmUgY2FsbGVkIG9uY2UuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQudW5tb3VudElERnJvbUVudmlyb25tZW50ID0gZW52aXJvbm1lbnQudW5tb3VudElERnJvbUVudmlyb25tZW50O1xuICAgICAgICAgIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQucmVwbGFjZU5vZGVXaXRoTWFya3VwID0gZW52aXJvbm1lbnQucmVwbGFjZU5vZGVXaXRoTWFya3VwO1xuICAgICAgICAgIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQucHJvY2Vzc0NoaWxkcmVuVXBkYXRlcyA9IGVudmlyb25tZW50LnByb2Nlc3NDaGlsZHJlblVwZGF0ZXM7XG4gICAgICAgICAgaW5qZWN0ZWQgPSB0cnVlO1xuICAgICAgICB9fVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdENvbXBvbmVudEVudmlyb25tZW50O1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI4NlwiLCBbXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgY2F1Z2h0RXJyb3IgPSBudWxsO1xuICAgIGZ1bmN0aW9uIGludm9rZUd1YXJkZWRDYWxsYmFjayhuYW1lLCBmdW5jLCBhLCBiKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZnVuYyhhLCBiKTtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgaWYgKGNhdWdodEVycm9yID09PSBudWxsKSB7XG4gICAgICAgICAgY2F1Z2h0RXJyb3IgPSB4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBSZWFjdEVycm9yVXRpbHMgPSB7XG4gICAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2s6IGludm9rZUd1YXJkZWRDYWxsYmFjayxcbiAgICAgIGludm9rZUd1YXJkZWRDYWxsYmFja1dpdGhDYXRjaDogaW52b2tlR3VhcmRlZENhbGxiYWNrLFxuICAgICAgcmV0aHJvd0NhdWdodEVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNhdWdodEVycm9yKSB7XG4gICAgICAgICAgdmFyIGVycm9yID0gY2F1Z2h0RXJyb3I7XG4gICAgICAgICAgY2F1Z2h0RXJyb3IgPSBudWxsO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZGlzcGF0Y2hFdmVudCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgZmFrZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdyZWFjdCcpO1xuICAgICAgICBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrID0gZnVuY3Rpb24obmFtZSwgZnVuYywgYSwgYikge1xuICAgICAgICAgIHZhciBib3VuZEZ1bmMgPSBmdW5jLmJpbmQobnVsbCwgYSwgYik7XG4gICAgICAgICAgdmFyIGV2dFR5cGUgPSAncmVhY3QtJyArIG5hbWU7XG4gICAgICAgICAgZmFrZU5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBib3VuZEZ1bmMsIGZhbHNlKTtcbiAgICAgICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICAgICAgZXZ0LmluaXRFdmVudChldnRUeXBlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgIGZha2VOb2RlLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgICAgICBmYWtlTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2dFR5cGUsIGJvdW5kRnVuYywgZmFsc2UpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RXJyb3JVdGlscztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiODVcIiwgW1wiOGRcIiwgXCIzMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdEVsZW1lbnQgPSAkX19yZXF1aXJlKCc4ZCcpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBSZWFjdE5vZGVUeXBlcyA9IHtcbiAgICAgIE5BVElWRTogMCxcbiAgICAgIENPTVBPU0lURTogMSxcbiAgICAgIEVNUFRZOiAyLFxuICAgICAgZ2V0VHlwZTogZnVuY3Rpb24obm9kZSkge1xuICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBSZWFjdE5vZGVUeXBlcy5FTVBUWTtcbiAgICAgICAgfSBlbHNlIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQobm9kZSkpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG5vZGUudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0Tm9kZVR5cGVzLkNPTVBPU0lURTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0Tm9kZVR5cGVzLk5BVElWRTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgIWZhbHNlID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1VuZXhwZWN0ZWQgbm9kZTogJXMnLCBub2RlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Tm9kZVR5cGVzO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI4M1wiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFJlYWN0SW5zdGFuY2VNYXAgPSB7XG4gICAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIGtleS5fcmVhY3RJbnRlcm5hbEluc3RhbmNlID0gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBrZXkuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZTtcbiAgICB9LFxuICAgIGhhczogZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4ga2V5Ll9yZWFjdEludGVybmFsSW5zdGFuY2UgIT09IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAga2V5Ll9yZWFjdEludGVybmFsSW5zdGFuY2UgPSB2YWx1ZTtcbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RJbnN0YW5jZU1hcDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI2N1wiLCBbXCI2XCIsIFwiNFwiLCBcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIFBvb2xlZENsYXNzID0gJF9fcmVxdWlyZSgnNCcpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIGZ1bmN0aW9uIENhbGxiYWNrUXVldWUoKSB7XG4gICAgICB0aGlzLl9jYWxsYmFja3MgPSBudWxsO1xuICAgICAgdGhpcy5fY29udGV4dHMgPSBudWxsO1xuICAgIH1cbiAgICBfYXNzaWduKENhbGxiYWNrUXVldWUucHJvdG90eXBlLCB7XG4gICAgICBlbnF1ZXVlOiBmdW5jdGlvbihjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwgW107XG4gICAgICAgIHRoaXMuX2NvbnRleHRzID0gdGhpcy5fY29udGV4dHMgfHwgW107XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5fY29udGV4dHMucHVzaChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICBub3RpZnlBbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzO1xuICAgICAgICB2YXIgY29udGV4dHMgPSB0aGlzLl9jb250ZXh0cztcbiAgICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAgICEoY2FsbGJhY2tzLmxlbmd0aCA9PT0gY29udGV4dHMubGVuZ3RoKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdNaXNtYXRjaGVkIGxpc3Qgb2YgY29udGV4dHMgaW4gY2FsbGJhY2sgcXVldWUnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0gbnVsbDtcbiAgICAgICAgICB0aGlzLl9jb250ZXh0cyA9IG51bGw7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNhbGxiYWNrc1tpXS5jYWxsKGNvbnRleHRzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FsbGJhY2tzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgY29udGV4dHMubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNoZWNrcG9pbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbGJhY2tzID8gdGhpcy5fY2FsbGJhY2tzLmxlbmd0aCA6IDA7XG4gICAgICB9LFxuICAgICAgcm9sbGJhY2s6IGZ1bmN0aW9uKGxlbikge1xuICAgICAgICBpZiAodGhpcy5fY2FsbGJhY2tzKSB7XG4gICAgICAgICAgdGhpcy5fY2FsbGJhY2tzLmxlbmd0aCA9IGxlbjtcbiAgICAgICAgICB0aGlzLl9jb250ZXh0cy5sZW5ndGggPSBsZW47XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NvbnRleHRzID0gbnVsbDtcbiAgICAgIH0sXG4gICAgICBkZXN0cnVjdG9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhDYWxsYmFja1F1ZXVlKTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IENhbGxiYWNrUXVldWU7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjhlXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgUmVhY3RGZWF0dXJlRmxhZ3MgPSB7bG9nVG9wTGV2ZWxSZW5kZXJzOiBmYWxzZX07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RGZWF0dXJlRmxhZ3M7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiOGZcIiwgW1wiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgUmVhY3RPd25lciA9IHtcbiAgICAgIGlzVmFsaWRPd25lcjogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiAhIShvYmplY3QgJiYgdHlwZW9mIG9iamVjdC5hdHRhY2hSZWYgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iamVjdC5kZXRhY2hSZWYgPT09ICdmdW5jdGlvbicpO1xuICAgICAgfSxcbiAgICAgIGFkZENvbXBvbmVudEFzUmVmVG86IGZ1bmN0aW9uKGNvbXBvbmVudCwgcmVmLCBvd25lcikge1xuICAgICAgICAhUmVhY3RPd25lci5pc1ZhbGlkT3duZXIob3duZXIpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2FkZENvbXBvbmVudEFzUmVmVG8oLi4uKTogT25seSBhIFJlYWN0T3duZXIgY2FuIGhhdmUgcmVmcy4gWW91IG1pZ2h0ICcgKyAnYmUgYWRkaW5nIGEgcmVmIHRvIGEgY29tcG9uZW50IHRoYXQgd2FzIG5vdCBjcmVhdGVkIGluc2lkZSBhIGNvbXBvbmVudFxcJ3MgJyArICdgcmVuZGVyYCBtZXRob2QsIG9yIHlvdSBoYXZlIG11bHRpcGxlIGNvcGllcyBvZiBSZWFjdCBsb2FkZWQgJyArICcoZGV0YWlsczogaHR0cHM6Ly9mYi5tZS9yZWFjdC1yZWZzLW11c3QtaGF2ZS1vd25lcikuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBvd25lci5hdHRhY2hSZWYocmVmLCBjb21wb25lbnQpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZUNvbXBvbmVudEFzUmVmRnJvbTogZnVuY3Rpb24oY29tcG9uZW50LCByZWYsIG93bmVyKSB7XG4gICAgICAgICFSZWFjdE93bmVyLmlzVmFsaWRPd25lcihvd25lcikgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAncmVtb3ZlQ29tcG9uZW50QXNSZWZGcm9tKC4uLik6IE9ubHkgYSBSZWFjdE93bmVyIGNhbiBoYXZlIHJlZnMuIFlvdSBtaWdodCAnICsgJ2JlIHJlbW92aW5nIGEgcmVmIHRvIGEgY29tcG9uZW50IHRoYXQgd2FzIG5vdCBjcmVhdGVkIGluc2lkZSBhIGNvbXBvbmVudFxcJ3MgJyArICdgcmVuZGVyYCBtZXRob2QsIG9yIHlvdSBoYXZlIG11bHRpcGxlIGNvcGllcyBvZiBSZWFjdCBsb2FkZWQgJyArICcoZGV0YWlsczogaHR0cHM6Ly9mYi5tZS9yZWFjdC1yZWZzLW11c3QtaGF2ZS1vd25lcikuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB2YXIgb3duZXJQdWJsaWNJbnN0YW5jZSA9IG93bmVyLmdldFB1YmxpY0luc3RhbmNlKCk7XG4gICAgICAgIGlmIChvd25lclB1YmxpY0luc3RhbmNlICYmIG93bmVyUHVibGljSW5zdGFuY2UucmVmc1tyZWZdID09PSBjb21wb25lbnQuZ2V0UHVibGljSW5zdGFuY2UoKSkge1xuICAgICAgICAgIG93bmVyLmRldGFjaFJlZihyZWYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0T3duZXI7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjkwXCIsIFtcIjhmXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJlYWN0T3duZXIgPSAkX19yZXF1aXJlKCc4ZicpO1xuICAgIHZhciBSZWFjdFJlZiA9IHt9O1xuICAgIGZ1bmN0aW9uIGF0dGFjaFJlZihyZWYsIGNvbXBvbmVudCwgb3duZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJlZihjb21wb25lbnQuZ2V0UHVibGljSW5zdGFuY2UoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBSZWFjdE93bmVyLmFkZENvbXBvbmVudEFzUmVmVG8oY29tcG9uZW50LCByZWYsIG93bmVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGV0YWNoUmVmKHJlZiwgY29tcG9uZW50LCBvd25lcikge1xuICAgICAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmVmKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgUmVhY3RPd25lci5yZW1vdmVDb21wb25lbnRBc1JlZkZyb20oY29tcG9uZW50LCByZWYsIG93bmVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgUmVhY3RSZWYuYXR0YWNoUmVmcyA9IGZ1bmN0aW9uKGluc3RhbmNlLCBlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgcmVmID0gZWxlbWVudC5yZWY7XG4gICAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgICAgYXR0YWNoUmVmKHJlZiwgaW5zdGFuY2UsIGVsZW1lbnQuX293bmVyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0UmVmLnNob3VsZFVwZGF0ZVJlZnMgPSBmdW5jdGlvbihwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQpIHtcbiAgICAgIHZhciBwcmV2RW1wdHkgPSBwcmV2RWxlbWVudCA9PT0gbnVsbCB8fCBwcmV2RWxlbWVudCA9PT0gZmFsc2U7XG4gICAgICB2YXIgbmV4dEVtcHR5ID0gbmV4dEVsZW1lbnQgPT09IG51bGwgfHwgbmV4dEVsZW1lbnQgPT09IGZhbHNlO1xuICAgICAgcmV0dXJuIChwcmV2RW1wdHkgfHwgbmV4dEVtcHR5IHx8IG5leHRFbGVtZW50Ll9vd25lciAhPT0gcHJldkVsZW1lbnQuX293bmVyIHx8IG5leHRFbGVtZW50LnJlZiAhPT0gcHJldkVsZW1lbnQucmVmKTtcbiAgICB9O1xuICAgIFJlYWN0UmVmLmRldGFjaFJlZnMgPSBmdW5jdGlvbihpbnN0YW5jZSwgZWxlbWVudCkge1xuICAgICAgaWYgKGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHJlZiA9IGVsZW1lbnQucmVmO1xuICAgICAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICAgIGRldGFjaFJlZihyZWYsIGluc3RhbmNlLCBlbGVtZW50Ll9vd25lcik7XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0UmVmO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIzZVwiLCBbXCI5MFwiLCBcIjI3XCIsIFwiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RSZWYgPSAkX19yZXF1aXJlKCc5MCcpO1xuICAgIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9ICRfX3JlcXVpcmUoJzI3Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgZnVuY3Rpb24gYXR0YWNoUmVmcygpIHtcbiAgICAgIFJlYWN0UmVmLmF0dGFjaFJlZnModGhpcywgdGhpcy5fY3VycmVudEVsZW1lbnQpO1xuICAgIH1cbiAgICB2YXIgUmVhY3RSZWNvbmNpbGVyID0ge1xuICAgICAgbW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKGludGVybmFsSW5zdGFuY2UsIHRyYW5zYWN0aW9uLCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5SZWNvbmNpbGVyVGltZXIoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCwgJ21vdW50Q29tcG9uZW50Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBtYXJrdXAgPSBpbnRlcm5hbEluc3RhbmNlLm1vdW50Q29tcG9uZW50KHRyYW5zYWN0aW9uLCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQgJiYgaW50ZXJuYWxJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQucmVmICE9IG51bGwpIHtcbiAgICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKGF0dGFjaFJlZnMsIGludGVybmFsSW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZFJlY29uY2lsZXJUaW1lcihpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lELCAnbW91bnRDb21wb25lbnQnKTtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk1vdW50Q29tcG9uZW50KGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFya3VwO1xuICAgICAgfSxcbiAgICAgIGdldE5hdGl2ZU5vZGU6IGZ1bmN0aW9uKGludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGludGVybmFsSW5zdGFuY2UuZ2V0TmF0aXZlTm9kZSgpO1xuICAgICAgfSxcbiAgICAgIHVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKGludGVybmFsSW5zdGFuY2UsIHNhZmVseSkge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpblJlY29uY2lsZXJUaW1lcihpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lELCAndW5tb3VudENvbXBvbmVudCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBSZWFjdFJlZi5kZXRhY2hSZWZzKGludGVybmFsSW5zdGFuY2UsIGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50KTtcbiAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS51bm1vdW50Q29tcG9uZW50KHNhZmVseSk7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZFJlY29uY2lsZXJUaW1lcihpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lELCAndW5tb3VudENvbXBvbmVudCcpO1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uVW5tb3VudENvbXBvbmVudChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZWNlaXZlQ29tcG9uZW50OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCBuZXh0RWxlbWVudCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHByZXZFbGVtZW50ID0gaW50ZXJuYWxJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQ7XG4gICAgICAgIGlmIChuZXh0RWxlbWVudCA9PT0gcHJldkVsZW1lbnQgJiYgY29udGV4dCA9PT0gaW50ZXJuYWxJbnN0YW5jZS5fY29udGV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpblJlY29uY2lsZXJUaW1lcihpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lELCAncmVjZWl2ZUNvbXBvbmVudCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVmc0NoYW5nZWQgPSBSZWFjdFJlZi5zaG91bGRVcGRhdGVSZWZzKHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCk7XG4gICAgICAgIGlmIChyZWZzQ2hhbmdlZCkge1xuICAgICAgICAgIFJlYWN0UmVmLmRldGFjaFJlZnMoaW50ZXJuYWxJbnN0YW5jZSwgcHJldkVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGludGVybmFsSW5zdGFuY2UucmVjZWl2ZUNvbXBvbmVudChuZXh0RWxlbWVudCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVmc0NoYW5nZWQgJiYgaW50ZXJuYWxJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQgJiYgaW50ZXJuYWxJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQucmVmICE9IG51bGwpIHtcbiAgICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKGF0dGFjaFJlZnMsIGludGVybmFsSW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZFJlY29uY2lsZXJUaW1lcihpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lELCAncmVjZWl2ZUNvbXBvbmVudCcpO1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uVXBkYXRlQ29tcG9uZW50KGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeTogZnVuY3Rpb24oaW50ZXJuYWxJbnN0YW5jZSwgdHJhbnNhY3Rpb24sIHVwZGF0ZUJhdGNoTnVtYmVyKSB7XG4gICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl91cGRhdGVCYXRjaE51bWJlciAhPT0gdXBkYXRlQmF0Y2hOdW1iZXIpIHtcbiAgICAgICAgICAhKGludGVybmFsSW5zdGFuY2UuX3VwZGF0ZUJhdGNoTnVtYmVyID09IG51bGwgfHwgaW50ZXJuYWxJbnN0YW5jZS5fdXBkYXRlQmF0Y2hOdW1iZXIgPT09IHVwZGF0ZUJhdGNoTnVtYmVyICsgMSkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAncGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5OiBVbmV4cGVjdGVkIGJhdGNoIG51bWJlciAoY3VycmVudCAlcywgJyArICdwZW5kaW5nICVzKScsIHVwZGF0ZUJhdGNoTnVtYmVyLCBpbnRlcm5hbEluc3RhbmNlLl91cGRhdGVCYXRjaE51bWJlcikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpblJlY29uY2lsZXJUaW1lcihpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lELCAncGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGludGVybmFsSW5zdGFuY2UucGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5KHRyYW5zYWN0aW9uKTtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kUmVjb25jaWxlclRpbWVyKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQsICdwZXJmb3JtVXBkYXRlSWZOZWNlc3NhcnknKTtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblVwZGF0ZUNvbXBvbmVudChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RSZWNvbmNpbGVyO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI0YVwiLCBbXCIzMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBNaXhpbiA9IHtcbiAgICAgIHJlaW5pdGlhbGl6ZVRyYW5zYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbldyYXBwZXJzID0gdGhpcy5nZXRUcmFuc2FjdGlvbldyYXBwZXJzKCk7XG4gICAgICAgIGlmICh0aGlzLndyYXBwZXJJbml0RGF0YSkge1xuICAgICAgICAgIHRoaXMud3JhcHBlckluaXREYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy53cmFwcGVySW5pdERhdGEgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0luVHJhbnNhY3Rpb24gPSBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBfaXNJblRyYW5zYWN0aW9uOiBmYWxzZSxcbiAgICAgIGdldFRyYW5zYWN0aW9uV3JhcHBlcnM6IG51bGwsXG4gICAgICBpc0luVHJhbnNhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9pc0luVHJhbnNhY3Rpb247XG4gICAgICB9LFxuICAgICAgcGVyZm9ybTogZnVuY3Rpb24obWV0aG9kLCBzY29wZSwgYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgICAhIXRoaXMuaXNJblRyYW5zYWN0aW9uKCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnVHJhbnNhY3Rpb24ucGVyZm9ybSguLi4pOiBDYW5ub3QgaW5pdGlhbGl6ZSBhIHRyYW5zYWN0aW9uIHdoZW4gdGhlcmUgJyArICdpcyBhbHJlYWR5IGFuIG91dHN0YW5kaW5nIHRyYW5zYWN0aW9uLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgdmFyIGVycm9yVGhyb3duO1xuICAgICAgICB2YXIgcmV0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMuX2lzSW5UcmFuc2FjdGlvbiA9IHRydWU7XG4gICAgICAgICAgZXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUFsbCgwKTtcbiAgICAgICAgICByZXQgPSBtZXRob2QuY2FsbChzY29wZSwgYSwgYiwgYywgZCwgZSwgZik7XG4gICAgICAgICAgZXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUFsbCgwKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5jbG9zZUFsbCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5faXNJblRyYW5zYWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9LFxuICAgICAgaW5pdGlhbGl6ZUFsbDogZnVuY3Rpb24oc3RhcnRJbmRleCkge1xuICAgICAgICB2YXIgdHJhbnNhY3Rpb25XcmFwcGVycyA9IHRoaXMudHJhbnNhY3Rpb25XcmFwcGVycztcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXg7IGkgPCB0cmFuc2FjdGlvbldyYXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHdyYXBwZXIgPSB0cmFuc2FjdGlvbldyYXBwZXJzW2ldO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXJJbml0RGF0YVtpXSA9IFRyYW5zYWN0aW9uLk9CU0VSVkVEX0VSUk9SO1xuICAgICAgICAgICAgdGhpcy53cmFwcGVySW5pdERhdGFbaV0gPSB3cmFwcGVyLmluaXRpYWxpemUgPyB3cmFwcGVyLmluaXRpYWxpemUuY2FsbCh0aGlzKSA6IG51bGw7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmICh0aGlzLndyYXBwZXJJbml0RGF0YVtpXSA9PT0gVHJhbnNhY3Rpb24uT0JTRVJWRURfRVJST1IpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVBbGwoaSArIDEpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHt9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2xvc2VBbGw6IGZ1bmN0aW9uKHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgIXRoaXMuaXNJblRyYW5zYWN0aW9uKCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnVHJhbnNhY3Rpb24uY2xvc2VBbGwoKTogQ2Fubm90IGNsb3NlIHRyYW5zYWN0aW9uIHdoZW4gbm9uZSBhcmUgb3Blbi4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIHZhciB0cmFuc2FjdGlvbldyYXBwZXJzID0gdGhpcy50cmFuc2FjdGlvbldyYXBwZXJzO1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IHRyYW5zYWN0aW9uV3JhcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgd3JhcHBlciA9IHRyYW5zYWN0aW9uV3JhcHBlcnNbaV07XG4gICAgICAgICAgdmFyIGluaXREYXRhID0gdGhpcy53cmFwcGVySW5pdERhdGFbaV07XG4gICAgICAgICAgdmFyIGVycm9yVGhyb3duO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBlcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICBpZiAoaW5pdERhdGEgIT09IFRyYW5zYWN0aW9uLk9CU0VSVkVEX0VSUk9SICYmIHdyYXBwZXIuY2xvc2UpIHtcbiAgICAgICAgICAgICAgd3JhcHBlci5jbG9zZS5jYWxsKHRoaXMsIGluaXREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVycm9yVGhyb3duID0gZmFsc2U7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChlcnJvclRocm93bikge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VBbGwoaSArIDEpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLndyYXBwZXJJbml0RGF0YS5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIFRyYW5zYWN0aW9uID0ge1xuICAgICAgTWl4aW46IE1peGluLFxuICAgICAgT0JTRVJWRURfRVJST1I6IHt9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFRyYW5zYWN0aW9uO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMlwiLCBbXCI2XCIsIFwiNjdcIiwgXCI0XCIsIFwiOGVcIiwgXCIyN1wiLCBcIjNlXCIsIFwiNGFcIiwgXCIzMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICAgIHZhciBDYWxsYmFja1F1ZXVlID0gJF9fcmVxdWlyZSgnNjcnKTtcbiAgICB2YXIgUG9vbGVkQ2xhc3MgPSAkX19yZXF1aXJlKCc0Jyk7XG4gICAgdmFyIFJlYWN0RmVhdHVyZUZsYWdzID0gJF9fcmVxdWlyZSgnOGUnKTtcbiAgICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSAkX19yZXF1aXJlKCcyNycpO1xuICAgIHZhciBSZWFjdFJlY29uY2lsZXIgPSAkX19yZXF1aXJlKCczZScpO1xuICAgIHZhciBUcmFuc2FjdGlvbiA9ICRfX3JlcXVpcmUoJzRhJyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIGRpcnR5Q29tcG9uZW50cyA9IFtdO1xuICAgIHZhciB1cGRhdGVCYXRjaE51bWJlciA9IDA7XG4gICAgdmFyIGFzYXBDYWxsYmFja1F1ZXVlID0gQ2FsbGJhY2tRdWV1ZS5nZXRQb29sZWQoKTtcbiAgICB2YXIgYXNhcEVucXVldWVkID0gZmFsc2U7XG4gICAgdmFyIGJhdGNoaW5nU3RyYXRlZ3kgPSBudWxsO1xuICAgIGZ1bmN0aW9uIGVuc3VyZUluamVjdGVkKCkge1xuICAgICAgIShSZWFjdFVwZGF0ZXMuUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbiAmJiBiYXRjaGluZ1N0cmF0ZWd5KSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdFVwZGF0ZXM6IG11c3QgaW5qZWN0IGEgcmVjb25jaWxlIHRyYW5zYWN0aW9uIGNsYXNzIGFuZCBiYXRjaGluZyAnICsgJ3N0cmF0ZWd5JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH1cbiAgICB2YXIgTkVTVEVEX1VQREFURVMgPSB7XG4gICAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5kaXJ0eUNvbXBvbmVudHNMZW5ndGggPSBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoO1xuICAgICAgfSxcbiAgICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHlDb21wb25lbnRzTGVuZ3RoICE9PSBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgZGlydHlDb21wb25lbnRzLnNwbGljZSgwLCB0aGlzLmRpcnR5Q29tcG9uZW50c0xlbmd0aCk7XG4gICAgICAgICAgZmx1c2hCYXRjaGVkVXBkYXRlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpcnR5Q29tcG9uZW50cy5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgVVBEQVRFX1FVRVVFSU5HID0ge1xuICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tRdWV1ZS5yZXNldCgpO1xuICAgICAgfSxcbiAgICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja1F1ZXVlLm5vdGlmeUFsbCgpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIFRSQU5TQUNUSU9OX1dSQVBQRVJTID0gW05FU1RFRF9VUERBVEVTLCBVUERBVEVfUVVFVUVJTkddO1xuICAgIGZ1bmN0aW9uIFJlYWN0VXBkYXRlc0ZsdXNoVHJhbnNhY3Rpb24oKSB7XG4gICAgICB0aGlzLnJlaW5pdGlhbGl6ZVRyYW5zYWN0aW9uKCk7XG4gICAgICB0aGlzLmRpcnR5Q29tcG9uZW50c0xlbmd0aCA9IG51bGw7XG4gICAgICB0aGlzLmNhbGxiYWNrUXVldWUgPSBDYWxsYmFja1F1ZXVlLmdldFBvb2xlZCgpO1xuICAgICAgdGhpcy5yZWNvbmNpbGVUcmFuc2FjdGlvbiA9IFJlYWN0VXBkYXRlcy5SZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uLmdldFBvb2xlZCh0cnVlKTtcbiAgICB9XG4gICAgX2Fzc2lnbihSZWFjdFVwZGF0ZXNGbHVzaFRyYW5zYWN0aW9uLnByb3RvdHlwZSwgVHJhbnNhY3Rpb24uTWl4aW4sIHtcbiAgICAgIGdldFRyYW5zYWN0aW9uV3JhcHBlcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gVFJBTlNBQ1RJT05fV1JBUFBFUlM7XG4gICAgICB9LFxuICAgICAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZGlydHlDb21wb25lbnRzTGVuZ3RoID0gbnVsbDtcbiAgICAgICAgQ2FsbGJhY2tRdWV1ZS5yZWxlYXNlKHRoaXMuY2FsbGJhY2tRdWV1ZSk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tRdWV1ZSA9IG51bGw7XG4gICAgICAgIFJlYWN0VXBkYXRlcy5SZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uLnJlbGVhc2UodGhpcy5yZWNvbmNpbGVUcmFuc2FjdGlvbik7XG4gICAgICAgIHRoaXMucmVjb25jaWxlVHJhbnNhY3Rpb24gPSBudWxsO1xuICAgICAgfSxcbiAgICAgIHBlcmZvcm06IGZ1bmN0aW9uKG1ldGhvZCwgc2NvcGUsIGEpIHtcbiAgICAgICAgcmV0dXJuIFRyYW5zYWN0aW9uLk1peGluLnBlcmZvcm0uY2FsbCh0aGlzLCB0aGlzLnJlY29uY2lsZVRyYW5zYWN0aW9uLnBlcmZvcm0sIHRoaXMucmVjb25jaWxlVHJhbnNhY3Rpb24sIG1ldGhvZCwgc2NvcGUsIGEpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhSZWFjdFVwZGF0ZXNGbHVzaFRyYW5zYWN0aW9uKTtcbiAgICBmdW5jdGlvbiBiYXRjaGVkVXBkYXRlcyhjYWxsYmFjaywgYSwgYiwgYywgZCwgZSkge1xuICAgICAgZW5zdXJlSW5qZWN0ZWQoKTtcbiAgICAgIGJhdGNoaW5nU3RyYXRlZ3kuYmF0Y2hlZFVwZGF0ZXMoY2FsbGJhY2ssIGEsIGIsIGMsIGQsIGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudE9yZGVyQ29tcGFyYXRvcihjMSwgYzIpIHtcbiAgICAgIHJldHVybiBjMS5fbW91bnRPcmRlciAtIGMyLl9tb3VudE9yZGVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBydW5CYXRjaGVkVXBkYXRlcyh0cmFuc2FjdGlvbikge1xuICAgICAgdmFyIGxlbiA9IHRyYW5zYWN0aW9uLmRpcnR5Q29tcG9uZW50c0xlbmd0aDtcbiAgICAgICEobGVuID09PSBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBmbHVzaCB0cmFuc2FjdGlvblxcJ3Mgc3RvcmVkIGRpcnR5LWNvbXBvbmVudHMgbGVuZ3RoICglcykgdG8gJyArICdtYXRjaCBkaXJ0eS1jb21wb25lbnRzIGFycmF5IGxlbmd0aCAoJXMpLicsIGxlbiwgZGlydHlDb21wb25lbnRzLmxlbmd0aCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgZGlydHlDb21wb25lbnRzLnNvcnQobW91bnRPcmRlckNvbXBhcmF0b3IpO1xuICAgICAgdXBkYXRlQmF0Y2hOdW1iZXIrKztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudCA9IGRpcnR5Q29tcG9uZW50c1tpXTtcbiAgICAgICAgdmFyIGNhbGxiYWNrcyA9IGNvbXBvbmVudC5fcGVuZGluZ0NhbGxiYWNrcztcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nQ2FsbGJhY2tzID0gbnVsbDtcbiAgICAgICAgdmFyIG1hcmtlck5hbWU7XG4gICAgICAgIGlmIChSZWFjdEZlYXR1cmVGbGFncy5sb2dUb3BMZXZlbFJlbmRlcnMpIHtcbiAgICAgICAgICB2YXIgbmFtZWRDb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgICAgaWYgKGNvbXBvbmVudC5fY3VycmVudEVsZW1lbnQucHJvcHMgPT09IGNvbXBvbmVudC5fcmVuZGVyZWRDb21wb25lbnQuX2N1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICBuYW1lZENvbXBvbmVudCA9IGNvbXBvbmVudC5fcmVuZGVyZWRDb21wb25lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hcmtlck5hbWUgPSAnUmVhY3QgdXBkYXRlOiAnICsgbmFtZWRDb21wb25lbnQuZ2V0TmFtZSgpO1xuICAgICAgICAgIGNvbnNvbGUudGltZShtYXJrZXJOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBSZWFjdFJlY29uY2lsZXIucGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5KGNvbXBvbmVudCwgdHJhbnNhY3Rpb24ucmVjb25jaWxlVHJhbnNhY3Rpb24sIHVwZGF0ZUJhdGNoTnVtYmVyKTtcbiAgICAgICAgaWYgKG1hcmtlck5hbWUpIHtcbiAgICAgICAgICBjb25zb2xlLnRpbWVFbmQobWFya2VyTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2FsbGJhY2tzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5jYWxsYmFja1F1ZXVlLmVucXVldWUoY2FsbGJhY2tzW2pdLCBjb21wb25lbnQuZ2V0UHVibGljSW5zdGFuY2UoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBmbHVzaEJhdGNoZWRVcGRhdGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkZsdXNoKCk7XG4gICAgICB9XG4gICAgICB3aGlsZSAoZGlydHlDb21wb25lbnRzLmxlbmd0aCB8fCBhc2FwRW5xdWV1ZWQpIHtcbiAgICAgICAgaWYgKGRpcnR5Q29tcG9uZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSBSZWFjdFVwZGF0ZXNGbHVzaFRyYW5zYWN0aW9uLmdldFBvb2xlZCgpO1xuICAgICAgICAgIHRyYW5zYWN0aW9uLnBlcmZvcm0ocnVuQmF0Y2hlZFVwZGF0ZXMsIG51bGwsIHRyYW5zYWN0aW9uKTtcbiAgICAgICAgICBSZWFjdFVwZGF0ZXNGbHVzaFRyYW5zYWN0aW9uLnJlbGVhc2UodHJhbnNhY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhc2FwRW5xdWV1ZWQpIHtcbiAgICAgICAgICBhc2FwRW5xdWV1ZWQgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgcXVldWUgPSBhc2FwQ2FsbGJhY2tRdWV1ZTtcbiAgICAgICAgICBhc2FwQ2FsbGJhY2tRdWV1ZSA9IENhbGxiYWNrUXVldWUuZ2V0UG9vbGVkKCk7XG4gICAgICAgICAgcXVldWUubm90aWZ5QWxsKCk7XG4gICAgICAgICAgQ2FsbGJhY2tRdWV1ZS5yZWxlYXNlKHF1ZXVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kRmx1c2goKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGVucXVldWVVcGRhdGUoY29tcG9uZW50KSB7XG4gICAgICBlbnN1cmVJbmplY3RlZCgpO1xuICAgICAgaWYgKCFiYXRjaGluZ1N0cmF0ZWd5LmlzQmF0Y2hpbmdVcGRhdGVzKSB7XG4gICAgICAgIGJhdGNoaW5nU3RyYXRlZ3kuYmF0Y2hlZFVwZGF0ZXMoZW5xdWV1ZVVwZGF0ZSwgY29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGlydHlDb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICAgIGlmIChjb21wb25lbnQuX3VwZGF0ZUJhdGNoTnVtYmVyID09IG51bGwpIHtcbiAgICAgICAgY29tcG9uZW50Ll91cGRhdGVCYXRjaE51bWJlciA9IHVwZGF0ZUJhdGNoTnVtYmVyICsgMTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgIWJhdGNoaW5nU3RyYXRlZ3kuaXNCYXRjaGluZ1VwZGF0ZXMgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RVcGRhdGVzLmFzYXA6IENhblxcJ3QgZW5xdWV1ZSBhbiBhc2FwIGNhbGxiYWNrIGluIGEgY29udGV4dCB3aGVyZScgKyAndXBkYXRlcyBhcmUgbm90IGJlaW5nIGJhdGNoZWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgYXNhcENhbGxiYWNrUXVldWUuZW5xdWV1ZShjYWxsYmFjaywgY29udGV4dCk7XG4gICAgICBhc2FwRW5xdWV1ZWQgPSB0cnVlO1xuICAgIH1cbiAgICB2YXIgUmVhY3RVcGRhdGVzSW5qZWN0aW9uID0ge1xuICAgICAgaW5qZWN0UmVjb25jaWxlVHJhbnNhY3Rpb246IGZ1bmN0aW9uKFJlY29uY2lsZVRyYW5zYWN0aW9uKSB7XG4gICAgICAgICFSZWNvbmNpbGVUcmFuc2FjdGlvbiA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdFVwZGF0ZXM6IG11c3QgcHJvdmlkZSBhIHJlY29uY2lsZSB0cmFuc2FjdGlvbiBjbGFzcycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgUmVhY3RVcGRhdGVzLlJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24gPSBSZWNvbmNpbGVUcmFuc2FjdGlvbjtcbiAgICAgIH0sXG4gICAgICBpbmplY3RCYXRjaGluZ1N0cmF0ZWd5OiBmdW5jdGlvbihfYmF0Y2hpbmdTdHJhdGVneSkge1xuICAgICAgICAhX2JhdGNoaW5nU3RyYXRlZ3kgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RVcGRhdGVzOiBtdXN0IHByb3ZpZGUgYSBiYXRjaGluZyBzdHJhdGVneScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgISh0eXBlb2YgX2JhdGNoaW5nU3RyYXRlZ3kuYmF0Y2hlZFVwZGF0ZXMgPT09ICdmdW5jdGlvbicpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlczogbXVzdCBwcm92aWRlIGEgYmF0Y2hlZFVwZGF0ZXMoKSBmdW5jdGlvbicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgISh0eXBlb2YgX2JhdGNoaW5nU3RyYXRlZ3kuaXNCYXRjaGluZ1VwZGF0ZXMgPT09ICdib29sZWFuJykgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RVcGRhdGVzOiBtdXN0IHByb3ZpZGUgYW4gaXNCYXRjaGluZ1VwZGF0ZXMgYm9vbGVhbiBhdHRyaWJ1dGUnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIGJhdGNoaW5nU3RyYXRlZ3kgPSBfYmF0Y2hpbmdTdHJhdGVneTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBSZWFjdFVwZGF0ZXMgPSB7XG4gICAgICBSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uOiBudWxsLFxuICAgICAgYmF0Y2hlZFVwZGF0ZXM6IGJhdGNoZWRVcGRhdGVzLFxuICAgICAgZW5xdWV1ZVVwZGF0ZTogZW5xdWV1ZVVwZGF0ZSxcbiAgICAgIGZsdXNoQmF0Y2hlZFVwZGF0ZXM6IGZsdXNoQmF0Y2hlZFVwZGF0ZXMsXG4gICAgICBpbmplY3Rpb246IFJlYWN0VXBkYXRlc0luamVjdGlvbixcbiAgICAgIGFzYXA6IGFzYXBcbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RVcGRhdGVzO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI5MVwiLCBbXCI0N1wiLCBcIjgzXCIsIFwiMTJcIiwgXCIzMFwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gJF9fcmVxdWlyZSgnNDcnKTtcbiAgICB2YXIgUmVhY3RJbnN0YW5jZU1hcCA9ICRfX3JlcXVpcmUoJzgzJyk7XG4gICAgdmFyIFJlYWN0VXBkYXRlcyA9ICRfX3JlcXVpcmUoJzEyJyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIGZ1bmN0aW9uIGVucXVldWVVcGRhdGUoaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgUmVhY3RVcGRhdGVzLmVucXVldWVVcGRhdGUoaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZvcm1hdFVuZXhwZWN0ZWRBcmd1bWVudChhcmcpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGFyZztcbiAgICAgIGlmICh0eXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgIH1cbiAgICAgIHZhciBkaXNwbGF5TmFtZSA9IGFyZy5jb25zdHJ1Y3RvciAmJiBhcmcuY29uc3RydWN0b3IubmFtZSB8fCB0eXBlO1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhcmcpO1xuICAgICAgaWYgKGtleXMubGVuZ3RoID4gMCAmJiBrZXlzLmxlbmd0aCA8IDIwKSB7XG4gICAgICAgIHJldHVybiBkaXNwbGF5TmFtZSArICcgKGtleXM6ICcgKyBrZXlzLmpvaW4oJywgJykgKyAnKSc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGlzcGxheU5hbWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZShwdWJsaWNJbnN0YW5jZSwgY2FsbGVyTmFtZSkge1xuICAgICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBSZWFjdEluc3RhbmNlTWFwLmdldChwdWJsaWNJbnN0YW5jZSk7XG4gICAgICBpZiAoIWludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghY2FsbGVyTmFtZSwgJyVzKC4uLik6IENhbiBvbmx5IHVwZGF0ZSBhIG1vdW50ZWQgb3IgbW91bnRpbmcgY29tcG9uZW50LiAnICsgJ1RoaXMgdXN1YWxseSBtZWFucyB5b3UgY2FsbGVkICVzKCkgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4gJyArICdUaGlzIGlzIGEgbm8tb3AuIFBsZWFzZSBjaGVjayB0aGUgY29kZSBmb3IgdGhlICVzIGNvbXBvbmVudC4nLCBjYWxsZXJOYW1lLCBjYWxsZXJOYW1lLCBwdWJsaWNJbnN0YW5jZS5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSkgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID09IG51bGwsICclcyguLi4pOiBDYW5ub3QgdXBkYXRlIGR1cmluZyBhbiBleGlzdGluZyBzdGF0ZSB0cmFuc2l0aW9uIChzdWNoIGFzICcgKyAnd2l0aGluIGByZW5kZXJgIG9yIGFub3RoZXIgY29tcG9uZW50XFwncyBjb25zdHJ1Y3RvcikuIFJlbmRlciBtZXRob2RzICcgKyAnc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGU7IGNvbnN0cnVjdG9yICcgKyAnc2lkZS1lZmZlY3RzIGFyZSBhbiBhbnRpLXBhdHRlcm4sIGJ1dCBjYW4gYmUgbW92ZWQgdG8gJyArICdgY29tcG9uZW50V2lsbE1vdW50YC4nLCBjYWxsZXJOYW1lKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnRlcm5hbEluc3RhbmNlO1xuICAgIH1cbiAgICB2YXIgUmVhY3RVcGRhdGVRdWV1ZSA9IHtcbiAgICAgIGlzTW91bnRlZDogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB2YXIgb3duZXIgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50O1xuICAgICAgICAgIGlmIChvd25lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcob3duZXIuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyLCAnJXMgaXMgYWNjZXNzaW5nIGlzTW91bnRlZCBpbnNpZGUgaXRzIHJlbmRlcigpIGZ1bmN0aW9uLiAnICsgJ3JlbmRlcigpIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlLiBJdCBzaG91bGQgJyArICduZXZlciBhY2Nlc3Mgc29tZXRoaW5nIHRoYXQgcmVxdWlyZXMgc3RhbGUgZGF0YSBmcm9tIHRoZSBwcmV2aW91cyAnICsgJ3JlbmRlciwgc3VjaCBhcyByZWZzLiBNb3ZlIHRoaXMgbG9naWMgdG8gY29tcG9uZW50RGlkTW91bnQgYW5kICcgKyAnY29tcG9uZW50RGlkVXBkYXRlIGluc3RlYWQuJywgb3duZXIuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICAgICAgb3duZXIuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBSZWFjdEluc3RhbmNlTWFwLmdldChwdWJsaWNJbnN0YW5jZSk7XG4gICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICAgICAgcmV0dXJuICEhaW50ZXJuYWxJbnN0YW5jZS5fcmVuZGVyZWRDb21wb25lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZW5xdWV1ZUNhbGxiYWNrOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSwgY2FsbGJhY2ssIGNhbGxlck5hbWUpIHtcbiAgICAgICAgUmVhY3RVcGRhdGVRdWV1ZS52YWxpZGF0ZUNhbGxiYWNrKGNhbGxiYWNrLCBjYWxsZXJOYW1lKTtcbiAgICAgICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBnZXRJbnRlcm5hbEluc3RhbmNlUmVhZHlGb3JVcGRhdGUocHVibGljSW5zdGFuY2UpO1xuICAgICAgICBpZiAoIWludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0NhbGxiYWNrcykge1xuICAgICAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0NhbGxiYWNrcyA9IFtjYWxsYmFja107XG4gICAgICAgIH1cbiAgICAgICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgICAgIH0sXG4gICAgICBlbnF1ZXVlQ2FsbGJhY2tJbnRlcm5hbDogZnVuY3Rpb24oaW50ZXJuYWxJbnN0YW5jZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MpIHtcbiAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MgPSBbY2FsbGJhY2tdO1xuICAgICAgICB9XG4gICAgICAgIGVucXVldWVVcGRhdGUoaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgICB9LFxuICAgICAgZW5xdWV1ZUZvcmNlVXBkYXRlOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZShwdWJsaWNJbnN0YW5jZSwgJ2ZvcmNlVXBkYXRlJyk7XG4gICAgICAgIGlmICghaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nRm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgICAgICBlbnF1ZXVlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpO1xuICAgICAgfSxcbiAgICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlLCBjb21wbGV0ZVN0YXRlKSB7XG4gICAgICAgIHZhciBpbnRlcm5hbEluc3RhbmNlID0gZ2V0SW50ZXJuYWxJbnN0YW5jZVJlYWR5Rm9yVXBkYXRlKHB1YmxpY0luc3RhbmNlLCAncmVwbGFjZVN0YXRlJyk7XG4gICAgICAgIGlmICghaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nU3RhdGVRdWV1ZSA9IFtjb21wbGV0ZVN0YXRlXTtcbiAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ1JlcGxhY2VTdGF0ZSA9IHRydWU7XG4gICAgICAgIGVucXVldWVVcGRhdGUoaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgICB9LFxuICAgICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSwgcGFydGlhbFN0YXRlKSB7XG4gICAgICAgIHZhciBpbnRlcm5hbEluc3RhbmNlID0gZ2V0SW50ZXJuYWxJbnN0YW5jZVJlYWR5Rm9yVXBkYXRlKHB1YmxpY0luc3RhbmNlLCAnc2V0U3RhdGUnKTtcbiAgICAgICAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBxdWV1ZSA9IGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdTdGF0ZVF1ZXVlIHx8IChpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nU3RhdGVRdWV1ZSA9IFtdKTtcbiAgICAgICAgcXVldWUucHVzaChwYXJ0aWFsU3RhdGUpO1xuICAgICAgICBlbnF1ZXVlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpO1xuICAgICAgfSxcbiAgICAgIGVucXVldWVFbGVtZW50SW50ZXJuYWw6IGZ1bmN0aW9uKGludGVybmFsSW5zdGFuY2UsIG5ld0VsZW1lbnQpIHtcbiAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0VsZW1lbnQgPSBuZXdFbGVtZW50O1xuICAgICAgICBlbnF1ZXVlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpO1xuICAgICAgfSxcbiAgICAgIHZhbGlkYXRlQ2FsbGJhY2s6IGZ1bmN0aW9uKGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgICAgICEoIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMoLi4uKTogRXhwZWN0ZWQgdGhlIGxhc3Qgb3B0aW9uYWwgYGNhbGxiYWNrYCBhcmd1bWVudCB0byBiZSBhICcgKyAnZnVuY3Rpb24uIEluc3RlYWQgcmVjZWl2ZWQ6ICVzLicsIGNhbGxlck5hbWUsIGZvcm1hdFVuZXhwZWN0ZWRBcmd1bWVudChjYWxsYmFjaykpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RVcGRhdGVRdWV1ZTtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiOTJcIiwgW1wiNlwiLCBcIjQ1XCIsIFwiNDdcIiwgXCI4ZFwiLCBcIjg2XCIsIFwiODNcIiwgXCIyN1wiLCBcIjg1XCIsIFwiM2JcIiwgXCI5M1wiLCBcIjNlXCIsIFwiOTFcIiwgXCI5NFwiLCBcIjMwXCIsIFwiNDFcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICAgIHZhciBSZWFjdENvbXBvbmVudEVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnNDUnKTtcbiAgICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSAkX19yZXF1aXJlKCc0NycpO1xuICAgIHZhciBSZWFjdEVsZW1lbnQgPSAkX19yZXF1aXJlKCc4ZCcpO1xuICAgIHZhciBSZWFjdEVycm9yVXRpbHMgPSAkX19yZXF1aXJlKCc4NicpO1xuICAgIHZhciBSZWFjdEluc3RhbmNlTWFwID0gJF9fcmVxdWlyZSgnODMnKTtcbiAgICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSAkX19yZXF1aXJlKCcyNycpO1xuICAgIHZhciBSZWFjdE5vZGVUeXBlcyA9ICRfX3JlcXVpcmUoJzg1Jyk7XG4gICAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMgPSAkX19yZXF1aXJlKCczYicpO1xuICAgIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9ICRfX3JlcXVpcmUoJzkzJyk7XG4gICAgdmFyIFJlYWN0UmVjb25jaWxlciA9ICRfX3JlcXVpcmUoJzNlJyk7XG4gICAgdmFyIFJlYWN0VXBkYXRlUXVldWUgPSAkX19yZXF1aXJlKCc5MScpO1xuICAgIHZhciBlbXB0eU9iamVjdCA9ICRfX3JlcXVpcmUoJzk0Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50ID0gJF9fcmVxdWlyZSgnNDEnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKGNvbXBvbmVudCkge1xuICAgICAgdmFyIG93bmVyID0gY29tcG9uZW50Ll9jdXJyZW50RWxlbWVudC5fb3duZXIgfHwgbnVsbDtcbiAgICAgIGlmIChvd25lcikge1xuICAgICAgICB2YXIgbmFtZSA9IG93bmVyLmdldE5hbWUoKTtcbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gJyBDaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFN0YXRlbGVzc0NvbXBvbmVudChDb21wb25lbnQpIHt9XG4gICAgU3RhdGVsZXNzQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBDb21wb25lbnQgPSBSZWFjdEluc3RhbmNlTWFwLmdldCh0aGlzKS5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgIHZhciBlbGVtZW50ID0gQ29tcG9uZW50KHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCwgdGhpcy51cGRhdGVyKTtcbiAgICAgIHdhcm5JZkludmFsaWRFbGVtZW50KENvbXBvbmVudCwgZWxlbWVudCk7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHdhcm5JZkludmFsaWRFbGVtZW50KENvbXBvbmVudCwgZWxlbWVudCkge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSBmYWxzZSB8fCBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoZWxlbWVudCksICclcyguLi4pOiBBIHZhbGlkIFJlYWN0IGVsZW1lbnQgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQuIFlvdSBtYXkgaGF2ZSAnICsgJ3JldHVybmVkIHVuZGVmaW5lZCwgYW4gYXJyYXkgb3Igc29tZSBvdGhlciBpbnZhbGlkIG9iamVjdC4nLCBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpbnZva2VDb21wb25lbnREaWRNb3VudFdpdGhUaW1lcigpIHtcbiAgICAgIHZhciBwdWJsaWNJbnN0YW5jZSA9IHRoaXMuX2luc3RhbmNlO1xuICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50RGlkTW91bnQnKTtcbiAgICAgIH1cbiAgICAgIHB1YmxpY0luc3RhbmNlLmNvbXBvbmVudERpZE1vdW50KCk7XG4gICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25FbmRMaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50RGlkTW91bnQnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaW52b2tlQ29tcG9uZW50RGlkVXBkYXRlV2l0aFRpbWVyKHByZXZQcm9wcywgcHJldlN0YXRlLCBwcmV2Q29udGV4dCkge1xuICAgICAgdmFyIHB1YmxpY0luc3RhbmNlID0gdGhpcy5faW5zdGFuY2U7XG4gICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkxpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnREaWRVcGRhdGUnKTtcbiAgICAgIH1cbiAgICAgIHB1YmxpY0luc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSwgcHJldkNvbnRleHQpO1xuICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2NvbXBvbmVudERpZFVwZGF0ZScpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gQ29tcG9uZW50LnByb3RvdHlwZSAmJiBDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQ7XG4gICAgfVxuICAgIHZhciBuZXh0TW91bnRJRCA9IDE7XG4gICAgdmFyIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50TWl4aW4gPSB7XG4gICAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLl9yb290Tm9kZUlEID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9uYXRpdmVDb250YWluZXJJbmZvID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hOdW1iZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9wZW5kaW5nRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlcGxhY2VTdGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wZW5kaW5nRm9yY2VVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWROb2RlVHlwZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuX21vdW50T3JkZXIgPSAwO1xuICAgICAgICB0aGlzLl90b3BMZXZlbFdyYXBwZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ2FsbGJhY2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY2FsbGVkQ29tcG9uZW50V2lsbFVubW91bnQgPSBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBtb3VudENvbXBvbmVudDogZnVuY3Rpb24odHJhbnNhY3Rpb24sIG5hdGl2ZVBhcmVudCwgbmF0aXZlQ29udGFpbmVySW5mbywgY29udGV4dCkge1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5fbW91bnRPcmRlciA9IG5leHRNb3VudElEKys7XG4gICAgICAgIHRoaXMuX25hdGl2ZVBhcmVudCA9IG5hdGl2ZVBhcmVudDtcbiAgICAgICAgdGhpcy5fbmF0aXZlQ29udGFpbmVySW5mbyA9IG5hdGl2ZUNvbnRhaW5lckluZm87XG4gICAgICAgIHZhciBwdWJsaWNQcm9wcyA9IHRoaXMuX3Byb2Nlc3NQcm9wcyh0aGlzLl9jdXJyZW50RWxlbWVudC5wcm9wcyk7XG4gICAgICAgIHZhciBwdWJsaWNDb250ZXh0ID0gdGhpcy5fcHJvY2Vzc0NvbnRleHQoY29udGV4dCk7XG4gICAgICAgIHZhciBDb21wb25lbnQgPSB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlO1xuICAgICAgICB2YXIgaW5zdCA9IHRoaXMuX2NvbnN0cnVjdENvbXBvbmVudChwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCk7XG4gICAgICAgIHZhciByZW5kZXJlZEVsZW1lbnQ7XG4gICAgICAgIGlmICghc2hvdWxkQ29uc3RydWN0KENvbXBvbmVudCkgJiYgKGluc3QgPT0gbnVsbCB8fCBpbnN0LnJlbmRlciA9PSBudWxsKSkge1xuICAgICAgICAgIHJlbmRlcmVkRWxlbWVudCA9IGluc3Q7XG4gICAgICAgICAgd2FybklmSW52YWxpZEVsZW1lbnQoQ29tcG9uZW50LCByZW5kZXJlZEVsZW1lbnQpO1xuICAgICAgICAgICEoaW5zdCA9PT0gbnVsbCB8fCBpbnN0ID09PSBmYWxzZSB8fCBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoaW5zdCkpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzKC4uLik6IEEgdmFsaWQgUmVhY3QgZWxlbWVudCAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZC4gWW91IG1heSBoYXZlICcgKyAncmV0dXJuZWQgdW5kZWZpbmVkLCBhbiBhcnJheSBvciBzb21lIG90aGVyIGludmFsaWQgb2JqZWN0LicsIENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIGluc3QgPSBuZXcgU3RhdGVsZXNzQ29tcG9uZW50KENvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAoaW5zdC5yZW5kZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclcyguLi4pOiBObyBgcmVuZGVyYCBtZXRob2QgZm91bmQgb24gdGhlIHJldHVybmVkIGNvbXBvbmVudCAnICsgJ2luc3RhbmNlOiB5b3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIGRlZmluZSBgcmVuZGVyYC4nLCBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcHJvcHNNdXRhdGVkID0gaW5zdC5wcm9wcyAhPT0gcHVibGljUHJvcHM7XG4gICAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCc7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoaW5zdC5wcm9wcyA9PT0gdW5kZWZpbmVkIHx8ICFwcm9wc011dGF0ZWQsICclcyguLi4pOiBXaGVuIGNhbGxpbmcgc3VwZXIoKSBpbiBgJXNgLCBtYWtlIHN1cmUgdG8gcGFzcyAnICsgJ3VwIHRoZSBzYW1lIHByb3BzIHRoYXQgeW91ciBjb21wb25lbnRcXCdzIGNvbnN0cnVjdG9yIHdhcyBwYXNzZWQuJywgY29tcG9uZW50TmFtZSwgY29tcG9uZW50TmFtZSkgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdC5wcm9wcyA9IHB1YmxpY1Byb3BzO1xuICAgICAgICBpbnN0LmNvbnRleHQgPSBwdWJsaWNDb250ZXh0O1xuICAgICAgICBpbnN0LnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgICAgaW5zdC51cGRhdGVyID0gUmVhY3RVcGRhdGVRdWV1ZTtcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBpbnN0O1xuICAgICAgICBSZWFjdEluc3RhbmNlTWFwLnNldChpbnN0LCB0aGlzKTtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghaW5zdC5nZXRJbml0aWFsU3RhdGUgfHwgaW5zdC5nZXRJbml0aWFsU3RhdGUuaXNSZWFjdENsYXNzQXBwcm92ZWQsICdnZXRJbml0aWFsU3RhdGUgd2FzIGRlZmluZWQgb24gJXMsIGEgcGxhaW4gSmF2YVNjcmlwdCBjbGFzcy4gJyArICdUaGlzIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBjbGFzc2VzIGNyZWF0ZWQgdXNpbmcgUmVhY3QuY3JlYXRlQ2xhc3MuICcgKyAnRGlkIHlvdSBtZWFuIHRvIGRlZmluZSBhIHN0YXRlIHByb3BlcnR5IGluc3RlYWQ/JywgdGhpcy5nZXROYW1lKCkgfHwgJ2EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWluc3QuZ2V0RGVmYXVsdFByb3BzIHx8IGluc3QuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkLCAnZ2V0RGVmYXVsdFByb3BzIHdhcyBkZWZpbmVkIG9uICVzLCBhIHBsYWluIEphdmFTY3JpcHQgY2xhc3MuICcgKyAnVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiAnICsgJ1VzZSBhIHN0YXRpYyBwcm9wZXJ0eSB0byBkZWZpbmUgZGVmYXVsdFByb3BzIGluc3RlYWQuJywgdGhpcy5nZXROYW1lKCkgfHwgJ2EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWluc3QucHJvcFR5cGVzLCAncHJvcFR5cGVzIHdhcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIHByb3BlcnR5IG9uICVzLiBVc2UgYSBzdGF0aWMgJyArICdwcm9wZXJ0eSB0byBkZWZpbmUgcHJvcFR5cGVzIGluc3RlYWQuJywgdGhpcy5nZXROYW1lKCkgfHwgJ2EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWluc3QuY29udGV4dFR5cGVzLCAnY29udGV4dFR5cGVzIHdhcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIHByb3BlcnR5IG9uICVzLiBVc2UgYSAnICsgJ3N0YXRpYyBwcm9wZXJ0eSB0byBkZWZpbmUgY29udGV4dFR5cGVzIGluc3RlYWQuJywgdGhpcy5nZXROYW1lKCkgfHwgJ2EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodHlwZW9mIGluc3QuY29tcG9uZW50U2hvdWxkVXBkYXRlICE9PSAnZnVuY3Rpb24nLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ2NvbXBvbmVudFNob3VsZFVwZGF0ZSgpLiBEaWQgeW91IG1lYW4gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk/ICcgKyAnVGhlIG5hbWUgaXMgcGhyYXNlZCBhcyBhIHF1ZXN0aW9uIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzICcgKyAnZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUuJywgdGhpcy5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodHlwZW9mIGluc3QuY29tcG9uZW50RGlkVW5tb3VudCAhPT0gJ2Z1bmN0aW9uJywgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnREaWRVbm1vdW50KCkuIEJ1dCB0aGVyZSBpcyBubyBzdWNoIGxpZmVjeWNsZSBtZXRob2QuICcgKyAnRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxVbm1vdW50KCk/JywgdGhpcy5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodHlwZW9mIGluc3QuY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyAhPT0gJ2Z1bmN0aW9uJywgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk/JywgdGhpcy5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluaXRpYWxTdGF0ZSA9IGluc3Quc3RhdGU7XG4gICAgICAgIGlmIChpbml0aWFsU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGluc3Quc3RhdGUgPSBpbml0aWFsU3RhdGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgICEodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaW5pdGlhbFN0YXRlKSkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMuc3RhdGU6IG11c3QgYmUgc2V0IHRvIGFuIG9iamVjdCBvciBudWxsJywgdGhpcy5nZXROYW1lKCkgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB0aGlzLl9wZW5kaW5nU3RhdGVRdWV1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdSZXBsYWNlU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0ZvcmNlVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBtYXJrdXA7XG4gICAgICAgIGlmIChpbnN0LnVuc3RhYmxlX2hhbmRsZUVycm9yKSB7XG4gICAgICAgICAgbWFya3VwID0gdGhpcy5wZXJmb3JtSW5pdGlhbE1vdW50V2l0aEVycm9ySGFuZGxpbmcocmVuZGVyZWRFbGVtZW50LCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXJrdXAgPSB0aGlzLnBlcmZvcm1Jbml0aWFsTW91bnQocmVuZGVyZWRFbGVtZW50LCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5zdC5jb21wb25lbnREaWRNb3VudCkge1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKGludm9rZUNvbXBvbmVudERpZE1vdW50V2l0aFRpbWVyLCB0aGlzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShpbnN0LmNvbXBvbmVudERpZE1vdW50LCBpbnN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcmt1cDtcbiAgICAgIH0sXG4gICAgICBfY29uc3RydWN0Q29tcG9uZW50OiBmdW5jdGlvbihwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCkge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSB0aGlzO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29uc3RydWN0Q29tcG9uZW50V2l0aG91dE93bmVyKHB1YmxpY1Byb3BzLCBwdWJsaWNDb250ZXh0KTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9jb25zdHJ1Y3RDb21wb25lbnRXaXRob3V0T3duZXIocHVibGljUHJvcHMsIHB1YmxpY0NvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX2NvbnN0cnVjdENvbXBvbmVudFdpdGhvdXRPd25lcjogZnVuY3Rpb24ocHVibGljUHJvcHMsIHB1YmxpY0NvbnRleHQpIHtcbiAgICAgICAgdmFyIENvbXBvbmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICAgIHZhciBpbnN0YW5jZU9yRWxlbWVudDtcbiAgICAgICAgaWYgKHNob3VsZENvbnN0cnVjdChDb21wb25lbnQpKSB7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2N0b3InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaW5zdGFuY2VPckVsZW1lbnQgPSBuZXcgQ29tcG9uZW50KHB1YmxpY1Byb3BzLCBwdWJsaWNDb250ZXh0LCBSZWFjdFVwZGF0ZVF1ZXVlKTtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2N0b3InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ3JlbmRlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpbnN0YW5jZU9yRWxlbWVudCA9IENvbXBvbmVudChwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCwgUmVhY3RVcGRhdGVRdWV1ZSk7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdyZW5kZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlT3JFbGVtZW50O1xuICAgICAgfSxcbiAgICAgIHBlcmZvcm1Jbml0aWFsTW91bnRXaXRoRXJyb3JIYW5kbGluZzogZnVuY3Rpb24ocmVuZGVyZWRFbGVtZW50LCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBtYXJrdXA7XG4gICAgICAgIHZhciBjaGVja3BvaW50ID0gdHJhbnNhY3Rpb24uY2hlY2twb2ludCgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG1hcmt1cCA9IHRoaXMucGVyZm9ybUluaXRpYWxNb3VudChyZW5kZXJlZEVsZW1lbnQsIG5hdGl2ZVBhcmVudCwgbmF0aXZlQ29udGFpbmVySW5mbywgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdHJhbnNhY3Rpb24ucm9sbGJhY2soY2hlY2twb2ludCk7XG4gICAgICAgICAgdGhpcy5faW5zdGFuY2UudW5zdGFibGVfaGFuZGxlRXJyb3IoZSk7XG4gICAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZS5zdGF0ZSA9IHRoaXMuX3Byb2Nlc3NQZW5kaW5nU3RhdGUodGhpcy5faW5zdGFuY2UucHJvcHMsIHRoaXMuX2luc3RhbmNlLmNvbnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGVja3BvaW50ID0gdHJhbnNhY3Rpb24uY2hlY2twb2ludCgpO1xuICAgICAgICAgIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50LnVubW91bnRDb21wb25lbnQodHJ1ZSk7XG4gICAgICAgICAgdHJhbnNhY3Rpb24ucm9sbGJhY2soY2hlY2twb2ludCk7XG4gICAgICAgICAgbWFya3VwID0gdGhpcy5wZXJmb3JtSW5pdGlhbE1vdW50KHJlbmRlcmVkRWxlbWVudCwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcmt1cDtcbiAgICAgIH0sXG4gICAgICBwZXJmb3JtSW5pdGlhbE1vdW50OiBmdW5jdGlvbihyZW5kZXJlZEVsZW1lbnQsIG5hdGl2ZVBhcmVudCwgbmF0aXZlQ29udGFpbmVySW5mbywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgaWYgKGluc3QuY29tcG9uZW50V2lsbE1vdW50KSB7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2NvbXBvbmVudFdpbGxNb3VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpbnN0LmNvbXBvbmVudFdpbGxNb3VudCgpO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25FbmRMaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50V2lsbE1vdW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLl9wZW5kaW5nU3RhdGVRdWV1ZSkge1xuICAgICAgICAgICAgaW5zdC5zdGF0ZSA9IHRoaXMuX3Byb2Nlc3NQZW5kaW5nU3RhdGUoaW5zdC5wcm9wcywgaW5zdC5jb250ZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbmRlcmVkRWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVuZGVyZWRFbGVtZW50ID0gdGhpcy5fcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVuZGVyZWROb2RlVHlwZSA9IFJlYWN0Tm9kZVR5cGVzLmdldFR5cGUocmVuZGVyZWRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRDb21wb25lbnQgPSB0aGlzLl9pbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50KHJlbmRlcmVkRWxlbWVudCk7XG4gICAgICAgIHZhciBtYXJrdXAgPSBSZWFjdFJlY29uY2lsZXIubW91bnRDb21wb25lbnQodGhpcy5fcmVuZGVyZWRDb21wb25lbnQsIHRyYW5zYWN0aW9uLCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIHRoaXMuX3Byb2Nlc3NDaGlsZENvbnRleHQoY29udGV4dCkpO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRDaGlsZHJlbih0aGlzLl9kZWJ1Z0lELCB0aGlzLl9yZW5kZXJlZENvbXBvbmVudC5fZGVidWdJRCAhPT0gMCA/IFt0aGlzLl9yZW5kZXJlZENvbXBvbmVudC5fZGVidWdJRF0gOiBbXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXJrdXA7XG4gICAgICB9LFxuICAgICAgZ2V0TmF0aXZlTm9kZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBSZWFjdFJlY29uY2lsZXIuZ2V0TmF0aXZlTm9kZSh0aGlzLl9yZW5kZXJlZENvbXBvbmVudCk7XG4gICAgICB9LFxuICAgICAgdW5tb3VudENvbXBvbmVudDogZnVuY3Rpb24oc2FmZWx5KSB7XG4gICAgICAgIGlmICghdGhpcy5fcmVuZGVyZWRDb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgaWYgKGluc3QuY29tcG9uZW50V2lsbFVubW91bnQgJiYgIWluc3QuX2NhbGxlZENvbXBvbmVudFdpbGxVbm1vdW50KSB7XG4gICAgICAgICAgaW5zdC5fY2FsbGVkQ29tcG9uZW50V2lsbFVubW91bnQgPSB0cnVlO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkxpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnRXaWxsVW5tb3VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2FmZWx5KSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHRoaXMuZ2V0TmFtZSgpICsgJy5jb21wb25lbnRXaWxsVW5tb3VudCgpJztcbiAgICAgICAgICAgIFJlYWN0RXJyb3JVdGlscy5pbnZva2VHdWFyZGVkQ2FsbGJhY2sobmFtZSwgaW5zdC5jb21wb25lbnRXaWxsVW5tb3VudC5iaW5kKGluc3QpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5zdC5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2NvbXBvbmVudFdpbGxVbm1vdW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJlZENvbXBvbmVudCkge1xuICAgICAgICAgIFJlYWN0UmVjb25jaWxlci51bm1vdW50Q29tcG9uZW50KHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50LCBzYWZlbHkpO1xuICAgICAgICAgIHRoaXMuX3JlbmRlcmVkTm9kZVR5cGUgPSBudWxsO1xuICAgICAgICAgIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50ID0gbnVsbDtcbiAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGVuZGluZ1N0YXRlUXVldWUgPSBudWxsO1xuICAgICAgICB0aGlzLl9wZW5kaW5nUmVwbGFjZVN0YXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdGb3JjZVVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ2FsbGJhY2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0VsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcm9vdE5vZGVJRCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RvcExldmVsV3JhcHBlciA9IG51bGw7XG4gICAgICAgIFJlYWN0SW5zdGFuY2VNYXAucmVtb3ZlKGluc3QpO1xuICAgICAgfSxcbiAgICAgIF9tYXNrQ29udGV4dDogZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICB2YXIgQ29tcG9uZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgICAgdmFyIGNvbnRleHRUeXBlcyA9IENvbXBvbmVudC5jb250ZXh0VHlwZXM7XG4gICAgICAgIGlmICghY29udGV4dFR5cGVzKSB7XG4gICAgICAgICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXNrZWRDb250ZXh0ID0ge307XG4gICAgICAgIGZvciAodmFyIGNvbnRleHROYW1lIGluIGNvbnRleHRUeXBlcykge1xuICAgICAgICAgIG1hc2tlZENvbnRleHRbY29udGV4dE5hbWVdID0gY29udGV4dFtjb250ZXh0TmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hc2tlZENvbnRleHQ7XG4gICAgICB9LFxuICAgICAgX3Byb2Nlc3NDb250ZXh0OiBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgIHZhciBtYXNrZWRDb250ZXh0ID0gdGhpcy5fbWFza0NvbnRleHQoY29udGV4dCk7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFyIENvbXBvbmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICAgICAgaWYgKENvbXBvbmVudC5jb250ZXh0VHlwZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrUHJvcFR5cGVzKENvbXBvbmVudC5jb250ZXh0VHlwZXMsIG1hc2tlZENvbnRleHQsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY29udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXNrZWRDb250ZXh0O1xuICAgICAgfSxcbiAgICAgIF9wcm9jZXNzQ2hpbGRDb250ZXh0OiBmdW5jdGlvbihjdXJyZW50Q29udGV4dCkge1xuICAgICAgICB2YXIgQ29tcG9uZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpblByb2Nlc3NpbmdDaGlsZENvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hpbGRDb250ZXh0ID0gaW5zdC5nZXRDaGlsZENvbnRleHQgJiYgaW5zdC5nZXRDaGlsZENvbnRleHQoKTtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25FbmRQcm9jZXNzaW5nQ2hpbGRDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkQ29udGV4dCkge1xuICAgICAgICAgICEodHlwZW9mIENvbXBvbmVudC5jaGlsZENvbnRleHRUeXBlcyA9PT0gJ29iamVjdCcpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzLmdldENoaWxkQ29udGV4dCgpOiBjaGlsZENvbnRleHRUeXBlcyBtdXN0IGJlIGRlZmluZWQgaW4gb3JkZXIgdG8gJyArICd1c2UgZ2V0Q2hpbGRDb250ZXh0KCkuJywgdGhpcy5nZXROYW1lKCkgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGVja1Byb3BUeXBlcyhDb21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXMsIGNoaWxkQ29udGV4dCwgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5jaGlsZENvbnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIGNoaWxkQ29udGV4dCkge1xuICAgICAgICAgICAgIShuYW1lIGluIENvbXBvbmVudC5jaGlsZENvbnRleHRUeXBlcykgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMuZ2V0Q2hpbGRDb250ZXh0KCk6IGtleSBcIiVzXCIgaXMgbm90IGRlZmluZWQgaW4gY2hpbGRDb250ZXh0VHlwZXMuJywgdGhpcy5nZXROYW1lKCkgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX2Fzc2lnbih7fSwgY3VycmVudENvbnRleHQsIGNoaWxkQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRDb250ZXh0O1xuICAgICAgfSxcbiAgICAgIF9wcm9jZXNzUHJvcHM6IGZ1bmN0aW9uKG5ld1Byb3BzKSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFyIENvbXBvbmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICAgICAgaWYgKENvbXBvbmVudC5wcm9wVHlwZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrUHJvcFR5cGVzKENvbXBvbmVudC5wcm9wVHlwZXMsIG5ld1Byb3BzLCBSZWFjdFByb3BUeXBlTG9jYXRpb25zLnByb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3UHJvcHM7XG4gICAgICB9LFxuICAgICAgX2NoZWNrUHJvcFR5cGVzOiBmdW5jdGlvbihwcm9wVHlwZXMsIHByb3BzLCBsb2NhdGlvbikge1xuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IHRoaXMuZ2V0TmFtZSgpO1xuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBwcm9wVHlwZXMpIHtcbiAgICAgICAgICBpZiAocHJvcFR5cGVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgISh0eXBlb2YgcHJvcFR5cGVzW3Byb3BOYW1lXSA9PT0gJ2Z1bmN0aW9uJykgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXM6ICVzIHR5cGUgYCVzYCBpcyBpbnZhbGlkOyBpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgJyArICdmcm9tIFJlYWN0LlByb3BUeXBlcy4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXSwgcHJvcE5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgZXJyb3IgPSBwcm9wVHlwZXNbcHJvcE5hbWVdKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgIHZhciBhZGRlbmR1bSA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSh0aGlzKTtcbiAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uID09PSBSZWFjdFByb3BUeXBlTG9jYXRpb25zLnByb3ApIHtcbiAgICAgICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ZhaWxlZCBDb21wb3NpdGUgcHJvcFR5cGU6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdGYWlsZWQgQ29udGV4dCBUeXBlczogJXMlcycsIGVycm9yLm1lc3NhZ2UsIGFkZGVuZHVtKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlY2VpdmVDb21wb25lbnQ6IGZ1bmN0aW9uKG5leHRFbGVtZW50LCB0cmFuc2FjdGlvbiwgbmV4dENvbnRleHQpIHtcbiAgICAgICAgdmFyIHByZXZFbGVtZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQ7XG4gICAgICAgIHZhciBwcmV2Q29udGV4dCA9IHRoaXMuX2NvbnRleHQ7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQodHJhbnNhY3Rpb24sIHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCwgcHJldkNvbnRleHQsIG5leHRDb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICBwZXJmb3JtVXBkYXRlSWZOZWNlc3Nhcnk6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nRWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgUmVhY3RSZWNvbmNpbGVyLnJlY2VpdmVDb21wb25lbnQodGhpcywgdGhpcy5fcGVuZGluZ0VsZW1lbnQsIHRyYW5zYWN0aW9uLCB0aGlzLl9jb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9wZW5kaW5nU3RhdGVRdWV1ZSAhPT0gbnVsbCB8fCB0aGlzLl9wZW5kaW5nRm9yY2VVcGRhdGUpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudCh0cmFuc2FjdGlvbiwgdGhpcy5fY3VycmVudEVsZW1lbnQsIHRoaXMuX2N1cnJlbnRFbGVtZW50LCB0aGlzLl9jb250ZXh0LCB0aGlzLl9jb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl91cGRhdGVCYXRjaE51bWJlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1cGRhdGVDb21wb25lbnQ6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBwcmV2UGFyZW50RWxlbWVudCwgbmV4dFBhcmVudEVsZW1lbnQsIHByZXZVbm1hc2tlZENvbnRleHQsIG5leHRVbm1hc2tlZENvbnRleHQpIHtcbiAgICAgICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgdmFyIHdpbGxSZWNlaXZlID0gZmFsc2U7XG4gICAgICAgIHZhciBuZXh0Q29udGV4dDtcbiAgICAgICAgdmFyIG5leHRQcm9wcztcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRleHQgPT09IG5leHRVbm1hc2tlZENvbnRleHQpIHtcbiAgICAgICAgICBuZXh0Q29udGV4dCA9IGluc3QuY29udGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0Q29udGV4dCA9IHRoaXMuX3Byb2Nlc3NDb250ZXh0KG5leHRVbm1hc2tlZENvbnRleHQpO1xuICAgICAgICAgIHdpbGxSZWNlaXZlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJldlBhcmVudEVsZW1lbnQgPT09IG5leHRQYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgbmV4dFByb3BzID0gbmV4dFBhcmVudEVsZW1lbnQucHJvcHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dFByb3BzID0gdGhpcy5fcHJvY2Vzc1Byb3BzKG5leHRQYXJlbnRFbGVtZW50LnByb3BzKTtcbiAgICAgICAgICB3aWxsUmVjZWl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpbGxSZWNlaXZlICYmIGluc3QuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcykge1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkxpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGluc3QuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMsIG5leHRDb250ZXh0KTtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5leHRTdGF0ZSA9IHRoaXMuX3Byb2Nlc3NQZW5kaW5nU3RhdGUobmV4dFByb3BzLCBuZXh0Q29udGV4dCk7XG4gICAgICAgIHZhciBzaG91bGRVcGRhdGUgPSB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMuX3BlbmRpbmdGb3JjZVVwZGF0ZSAmJiBpbnN0LnNob3VsZENvbXBvbmVudFVwZGF0ZSkge1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkxpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdzaG91bGRDb21wb25lbnRVcGRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc2hvdWxkVXBkYXRlID0gaW5zdC5zaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUsIG5leHRDb250ZXh0KTtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ3Nob3VsZENvbXBvbmVudFVwZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHNob3VsZFVwZGF0ZSAhPT0gdW5kZWZpbmVkLCAnJXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk6IFJldHVybmVkIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIGEgJyArICdib29sZWFuIHZhbHVlLiBNYWtlIHN1cmUgdG8gcmV0dXJuIHRydWUgb3IgZmFsc2UuJywgdGhpcy5nZXROYW1lKCkgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hOdW1iZXIgPSBudWxsO1xuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgdGhpcy5fcGVuZGluZ0ZvcmNlVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5fcGVyZm9ybUNvbXBvbmVudFVwZGF0ZShuZXh0UGFyZW50RWxlbWVudCwgbmV4dFByb3BzLCBuZXh0U3RhdGUsIG5leHRDb250ZXh0LCB0cmFuc2FjdGlvbiwgbmV4dFVubWFza2VkQ29udGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBuZXh0UGFyZW50RWxlbWVudDtcbiAgICAgICAgICB0aGlzLl9jb250ZXh0ID0gbmV4dFVubWFza2VkQ29udGV4dDtcbiAgICAgICAgICBpbnN0LnByb3BzID0gbmV4dFByb3BzO1xuICAgICAgICAgIGluc3Quc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICAgICAgaW5zdC5jb250ZXh0ID0gbmV4dENvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBfcHJvY2Vzc1BlbmRpbmdTdGF0ZTogZnVuY3Rpb24ocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgdmFyIHF1ZXVlID0gdGhpcy5fcGVuZGluZ1N0YXRlUXVldWU7XG4gICAgICAgIHZhciByZXBsYWNlID0gdGhpcy5fcGVuZGluZ1JlcGxhY2VTdGF0ZTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlcGxhY2VTdGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wZW5kaW5nU3RhdGVRdWV1ZSA9IG51bGw7XG4gICAgICAgIGlmICghcXVldWUpIHtcbiAgICAgICAgICByZXR1cm4gaW5zdC5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVwbGFjZSAmJiBxdWV1ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICByZXR1cm4gcXVldWVbMF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5leHRTdGF0ZSA9IF9hc3NpZ24oe30sIHJlcGxhY2UgPyBxdWV1ZVswXSA6IGluc3Quc3RhdGUpO1xuICAgICAgICBmb3IgKHZhciBpID0gcmVwbGFjZSA/IDEgOiAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgcGFydGlhbCA9IHF1ZXVlW2ldO1xuICAgICAgICAgIF9hc3NpZ24obmV4dFN0YXRlLCB0eXBlb2YgcGFydGlhbCA9PT0gJ2Z1bmN0aW9uJyA/IHBhcnRpYWwuY2FsbChpbnN0LCBuZXh0U3RhdGUsIHByb3BzLCBjb250ZXh0KSA6IHBhcnRpYWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgICB9LFxuICAgICAgX3BlcmZvcm1Db21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uKG5leHRFbGVtZW50LCBuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQsIHRyYW5zYWN0aW9uLCB1bm1hc2tlZENvbnRleHQpIHtcbiAgICAgICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgdmFyIGhhc0NvbXBvbmVudERpZFVwZGF0ZSA9IEJvb2xlYW4oaW5zdC5jb21wb25lbnREaWRVcGRhdGUpO1xuICAgICAgICB2YXIgcHJldlByb3BzO1xuICAgICAgICB2YXIgcHJldlN0YXRlO1xuICAgICAgICB2YXIgcHJldkNvbnRleHQ7XG4gICAgICAgIGlmIChoYXNDb21wb25lbnREaWRVcGRhdGUpIHtcbiAgICAgICAgICBwcmV2UHJvcHMgPSBpbnN0LnByb3BzO1xuICAgICAgICAgIHByZXZTdGF0ZSA9IGluc3Quc3RhdGU7XG4gICAgICAgICAgcHJldkNvbnRleHQgPSBpbnN0LmNvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluc3QuY29tcG9uZW50V2lsbFVwZGF0ZSkge1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkxpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnRXaWxsVXBkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGluc3QuY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQpO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25FbmRMaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50V2lsbFVwZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IG5leHRFbGVtZW50O1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gdW5tYXNrZWRDb250ZXh0O1xuICAgICAgICBpbnN0LnByb3BzID0gbmV4dFByb3BzO1xuICAgICAgICBpbnN0LnN0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgICBpbnN0LmNvbnRleHQgPSBuZXh0Q29udGV4dDtcbiAgICAgICAgdGhpcy5fdXBkYXRlUmVuZGVyZWRDb21wb25lbnQodHJhbnNhY3Rpb24sIHVubWFza2VkQ29udGV4dCk7XG4gICAgICAgIGlmIChoYXNDb21wb25lbnREaWRVcGRhdGUpIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShpbnZva2VDb21wb25lbnREaWRVcGRhdGVXaXRoVGltZXIuYmluZCh0aGlzLCBwcmV2UHJvcHMsIHByZXZTdGF0ZSwgcHJldkNvbnRleHQpLCB0aGlzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShpbnN0LmNvbXBvbmVudERpZFVwZGF0ZS5iaW5kKGluc3QsIHByZXZQcm9wcywgcHJldlN0YXRlLCBwcmV2Q29udGV4dCksIGluc3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF91cGRhdGVSZW5kZXJlZENvbXBvbmVudDogZnVuY3Rpb24odHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHByZXZDb21wb25lbnRJbnN0YW5jZSA9IHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50O1xuICAgICAgICB2YXIgcHJldlJlbmRlcmVkRWxlbWVudCA9IHByZXZDb21wb25lbnRJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQ7XG4gICAgICAgIHZhciBuZXh0UmVuZGVyZWRFbGVtZW50ID0gdGhpcy5fcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50KCk7XG4gICAgICAgIGlmIChzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudChwcmV2UmVuZGVyZWRFbGVtZW50LCBuZXh0UmVuZGVyZWRFbGVtZW50KSkge1xuICAgICAgICAgIFJlYWN0UmVjb25jaWxlci5yZWNlaXZlQ29tcG9uZW50KHByZXZDb21wb25lbnRJbnN0YW5jZSwgbmV4dFJlbmRlcmVkRWxlbWVudCwgdHJhbnNhY3Rpb24sIHRoaXMuX3Byb2Nlc3NDaGlsZENvbnRleHQoY29udGV4dCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBvbGROYXRpdmVOb2RlID0gUmVhY3RSZWNvbmNpbGVyLmdldE5hdGl2ZU5vZGUocHJldkNvbXBvbmVudEluc3RhbmNlKTtcbiAgICAgICAgICBSZWFjdFJlY29uY2lsZXIudW5tb3VudENvbXBvbmVudChwcmV2Q29tcG9uZW50SW5zdGFuY2UsIGZhbHNlKTtcbiAgICAgICAgICB0aGlzLl9yZW5kZXJlZE5vZGVUeXBlID0gUmVhY3ROb2RlVHlwZXMuZ2V0VHlwZShuZXh0UmVuZGVyZWRFbGVtZW50KTtcbiAgICAgICAgICB0aGlzLl9yZW5kZXJlZENvbXBvbmVudCA9IHRoaXMuX2luc3RhbnRpYXRlUmVhY3RDb21wb25lbnQobmV4dFJlbmRlcmVkRWxlbWVudCk7XG4gICAgICAgICAgdmFyIG5leHRNYXJrdXAgPSBSZWFjdFJlY29uY2lsZXIubW91bnRDb21wb25lbnQodGhpcy5fcmVuZGVyZWRDb21wb25lbnQsIHRyYW5zYWN0aW9uLCB0aGlzLl9uYXRpdmVQYXJlbnQsIHRoaXMuX25hdGl2ZUNvbnRhaW5lckluZm8sIHRoaXMuX3Byb2Nlc3NDaGlsZENvbnRleHQoY29udGV4dCkpO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRDaGlsZHJlbih0aGlzLl9kZWJ1Z0lELCB0aGlzLl9yZW5kZXJlZENvbXBvbmVudC5fZGVidWdJRCAhPT0gMCA/IFt0aGlzLl9yZW5kZXJlZENvbXBvbmVudC5fZGVidWdJRF0gOiBbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX3JlcGxhY2VOb2RlV2l0aE1hcmt1cChvbGROYXRpdmVOb2RlLCBuZXh0TWFya3VwLCBwcmV2Q29tcG9uZW50SW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX3JlcGxhY2VOb2RlV2l0aE1hcmt1cDogZnVuY3Rpb24ob2xkTmF0aXZlTm9kZSwgbmV4dE1hcmt1cCwgcHJldkluc3RhbmNlKSB7XG4gICAgICAgIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQucmVwbGFjZU5vZGVXaXRoTWFya3VwKG9sZE5hdGl2ZU5vZGUsIG5leHRNYXJrdXAsIHByZXZJbnN0YW5jZSk7XG4gICAgICB9LFxuICAgICAgX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudFdpdGhvdXRPd25lck9yQ29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ3JlbmRlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVuZGVyZWRDb21wb25lbnQgPSBpbnN0LnJlbmRlcigpO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25FbmRMaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAncmVuZGVyJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHJlbmRlcmVkQ29tcG9uZW50ID09PSB1bmRlZmluZWQgJiYgaW5zdC5yZW5kZXIuX2lzTW9ja0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICByZW5kZXJlZENvbXBvbmVudCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW5kZXJlZENvbXBvbmVudDtcbiAgICAgIH0sXG4gICAgICBfcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVkQ29tcG9uZW50O1xuICAgICAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gdGhpcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZW5kZXJlZENvbXBvbmVudCA9IHRoaXMuX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudFdpdGhvdXRPd25lck9yQ29udGV4dCgpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgICEocmVuZGVyZWRDb21wb25lbnQgPT09IG51bGwgfHwgcmVuZGVyZWRDb21wb25lbnQgPT09IGZhbHNlIHx8IFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChyZW5kZXJlZENvbXBvbmVudCkpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzLnJlbmRlcigpOiBBIHZhbGlkIFJlYWN0IGVsZW1lbnQgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQuIFlvdSBtYXkgaGF2ZSAnICsgJ3JldHVybmVkIHVuZGVmaW5lZCwgYW4gYXJyYXkgb3Igc29tZSBvdGhlciBpbnZhbGlkIG9iamVjdC4nLCB0aGlzLmdldE5hbWUoKSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIHJldHVybiByZW5kZXJlZENvbXBvbmVudDtcbiAgICAgIH0sXG4gICAgICBhdHRhY2hSZWY6IGZ1bmN0aW9uKHJlZiwgY29tcG9uZW50KSB7XG4gICAgICAgIHZhciBpbnN0ID0gdGhpcy5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgICAgICAhKGluc3QgIT0gbnVsbCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnU3RhdGVsZXNzIGZ1bmN0aW9uIGNvbXBvbmVudHMgY2Fubm90IGhhdmUgcmVmcy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIHZhciBwdWJsaWNDb21wb25lbnRJbnN0YW5jZSA9IGNvbXBvbmVudC5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhciBjb21wb25lbnROYW1lID0gY29tcG9uZW50ICYmIGNvbXBvbmVudC5nZXROYW1lID8gY29tcG9uZW50LmdldE5hbWUoKSA6ICdhIGNvbXBvbmVudCc7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcocHVibGljQ29tcG9uZW50SW5zdGFuY2UgIT0gbnVsbCwgJ1N0YXRlbGVzcyBmdW5jdGlvbiBjb21wb25lbnRzIGNhbm5vdCBiZSBnaXZlbiByZWZzICcgKyAnKFNlZSByZWYgXCIlc1wiIGluICVzIGNyZWF0ZWQgYnkgJXMpLiAnICsgJ0F0dGVtcHRzIHRvIGFjY2VzcyB0aGlzIHJlZiB3aWxsIGZhaWwuJywgcmVmLCBjb21wb25lbnROYW1lLCB0aGlzLmdldE5hbWUoKSkgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlZnMgPSBpbnN0LnJlZnMgPT09IGVtcHR5T2JqZWN0ID8gaW5zdC5yZWZzID0ge30gOiBpbnN0LnJlZnM7XG4gICAgICAgIHJlZnNbcmVmXSA9IHB1YmxpY0NvbXBvbmVudEluc3RhbmNlO1xuICAgICAgfSxcbiAgICAgIGRldGFjaFJlZjogZnVuY3Rpb24ocmVmKSB7XG4gICAgICAgIHZhciByZWZzID0gdGhpcy5nZXRQdWJsaWNJbnN0YW5jZSgpLnJlZnM7XG4gICAgICAgIGRlbGV0ZSByZWZzW3JlZl07XG4gICAgICB9LFxuICAgICAgZ2V0TmFtZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0eXBlID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgICAgdmFyIGNvbnN0cnVjdG9yID0gdGhpcy5faW5zdGFuY2UgJiYgdGhpcy5faW5zdGFuY2UuY29uc3RydWN0b3I7XG4gICAgICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IGNvbnN0cnVjdG9yICYmIGNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBjb25zdHJ1Y3RvciAmJiBjb25zdHJ1Y3Rvci5uYW1lIHx8IG51bGw7XG4gICAgICB9LFxuICAgICAgZ2V0UHVibGljSW5zdGFuY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaW5zdCA9IHRoaXMuX2luc3RhbmNlO1xuICAgICAgICBpZiAoaW5zdCBpbnN0YW5jZW9mIFN0YXRlbGVzc0NvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0O1xuICAgICAgfSxcbiAgICAgIF9pbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50OiBudWxsXG4gICAgfTtcbiAgICB2YXIgUmVhY3RDb21wb3NpdGVDb21wb25lbnQgPSB7TWl4aW46IFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50TWl4aW59O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDb21wb3NpdGVDb21wb25lbnQ7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjY0XCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgZW1wdHlDb21wb25lbnRGYWN0b3J5O1xuICB2YXIgUmVhY3RFbXB0eUNvbXBvbmVudEluamVjdGlvbiA9IHtpbmplY3RFbXB0eUNvbXBvbmVudEZhY3Rvcnk6IGZ1bmN0aW9uKGZhY3RvcnkpIHtcbiAgICAgIGVtcHR5Q29tcG9uZW50RmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgfX07XG4gIHZhciBSZWFjdEVtcHR5Q29tcG9uZW50ID0ge2NyZWF0ZTogZnVuY3Rpb24oaW5zdGFudGlhdGUpIHtcbiAgICAgIHJldHVybiBlbXB0eUNvbXBvbmVudEZhY3RvcnkoaW5zdGFudGlhdGUpO1xuICAgIH19O1xuICBSZWFjdEVtcHR5Q29tcG9uZW50LmluamVjdGlvbiA9IFJlYWN0RW1wdHlDb21wb25lbnRJbmplY3Rpb247XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RFbXB0eUNvbXBvbmVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI2NVwiLCBbXCI2XCIsIFwiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgYXV0b0dlbmVyYXRlV3JhcHBlckNsYXNzID0gbnVsbDtcbiAgICB2YXIgZ2VuZXJpY0NvbXBvbmVudENsYXNzID0gbnVsbDtcbiAgICB2YXIgdGFnVG9Db21wb25lbnRDbGFzcyA9IHt9O1xuICAgIHZhciB0ZXh0Q29tcG9uZW50Q2xhc3MgPSBudWxsO1xuICAgIHZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudEluamVjdGlvbiA9IHtcbiAgICAgIGluamVjdEdlbmVyaWNDb21wb25lbnRDbGFzczogZnVuY3Rpb24oY29tcG9uZW50Q2xhc3MpIHtcbiAgICAgICAgZ2VuZXJpY0NvbXBvbmVudENsYXNzID0gY29tcG9uZW50Q2xhc3M7XG4gICAgICB9LFxuICAgICAgaW5qZWN0VGV4dENvbXBvbmVudENsYXNzOiBmdW5jdGlvbihjb21wb25lbnRDbGFzcykge1xuICAgICAgICB0ZXh0Q29tcG9uZW50Q2xhc3MgPSBjb21wb25lbnRDbGFzcztcbiAgICAgIH0sXG4gICAgICBpbmplY3RDb21wb25lbnRDbGFzc2VzOiBmdW5jdGlvbihjb21wb25lbnRDbGFzc2VzKSB7XG4gICAgICAgIF9hc3NpZ24odGFnVG9Db21wb25lbnRDbGFzcywgY29tcG9uZW50Q2xhc3Nlcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnRDbGFzc0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQudHlwZTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBlbGVtZW50LnR5cGU7XG4gICAgICB2YXIgY29tcG9uZW50Q2xhc3MgPSB0YWdUb0NvbXBvbmVudENsYXNzW3RhZ107XG4gICAgICBpZiAoY29tcG9uZW50Q2xhc3MgPT0gbnVsbCkge1xuICAgICAgICB0YWdUb0NvbXBvbmVudENsYXNzW3RhZ10gPSBjb21wb25lbnRDbGFzcyA9IGF1dG9HZW5lcmF0ZVdyYXBwZXJDbGFzcyh0YWcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbXBvbmVudENsYXNzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnRlcm5hbENvbXBvbmVudChlbGVtZW50KSB7XG4gICAgICAhZ2VuZXJpY0NvbXBvbmVudENsYXNzID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1RoZXJlIGlzIG5vIHJlZ2lzdGVyZWQgY29tcG9uZW50IGZvciB0aGUgdGFnICVzJywgZWxlbWVudC50eXBlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gbmV3IGdlbmVyaWNDb21wb25lbnRDbGFzcyhlbGVtZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VGb3JUZXh0KHRleHQpIHtcbiAgICAgIHJldHVybiBuZXcgdGV4dENvbXBvbmVudENsYXNzKHRleHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1RleHRDb21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gY29tcG9uZW50IGluc3RhbmNlb2YgdGV4dENvbXBvbmVudENsYXNzO1xuICAgIH1cbiAgICB2YXIgUmVhY3ROYXRpdmVDb21wb25lbnQgPSB7XG4gICAgICBnZXRDb21wb25lbnRDbGFzc0ZvckVsZW1lbnQ6IGdldENvbXBvbmVudENsYXNzRm9yRWxlbWVudCxcbiAgICAgIGNyZWF0ZUludGVybmFsQ29tcG9uZW50OiBjcmVhdGVJbnRlcm5hbENvbXBvbmVudCxcbiAgICAgIGNyZWF0ZUluc3RhbmNlRm9yVGV4dDogY3JlYXRlSW5zdGFuY2VGb3JUZXh0LFxuICAgICAgaXNUZXh0Q29tcG9uZW50OiBpc1RleHRDb21wb25lbnQsXG4gICAgICBpbmplY3Rpb246IFJlYWN0TmF0aXZlQ29tcG9uZW50SW5qZWN0aW9uXG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0TmF0aXZlQ29tcG9uZW50O1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIzZlwiLCBbXCI2XCIsIFwiOTJcIiwgXCI2NFwiLCBcIjY1XCIsIFwiMjdcIiwgXCIzMFwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50ID0gJF9fcmVxdWlyZSgnOTInKTtcbiAgICB2YXIgUmVhY3RFbXB0eUNvbXBvbmVudCA9ICRfX3JlcXVpcmUoJzY0Jyk7XG4gICAgdmFyIFJlYWN0TmF0aXZlQ29tcG9uZW50ID0gJF9fcmVxdWlyZSgnNjUnKTtcbiAgICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSAkX19yZXF1aXJlKCcyNycpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgUmVhY3RDb21wb3NpdGVDb21wb25lbnRXcmFwcGVyID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgdGhpcy5jb25zdHJ1Y3QoZWxlbWVudCk7XG4gICAgfTtcbiAgICBfYXNzaWduKFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50V3JhcHBlci5wcm90b3R5cGUsIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50Lk1peGluLCB7X2luc3RhbnRpYXRlUmVhY3RDb21wb25lbnQ6IGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnR9KTtcbiAgICBmdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0ob3duZXIpIHtcbiAgICAgIGlmIChvd25lcikge1xuICAgICAgICB2YXIgbmFtZSA9IG93bmVyLmdldE5hbWUoKTtcbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gJyBDaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERpc3BsYXlOYW1lKGluc3RhbmNlKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IGluc3RhbmNlLl9jdXJyZW50RWxlbWVudDtcbiAgICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcjZW1wdHknO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGVsZW1lbnQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiAnI3RleHQnO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZWxlbWVudC50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gZWxlbWVudC50eXBlO1xuICAgICAgfSBlbHNlIGlmIChpbnN0YW5jZS5nZXROYW1lKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5nZXROYW1lKCkgfHwgJ1Vua25vd24nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQudHlwZS5kaXNwbGF5TmFtZSB8fCBlbGVtZW50LnR5cGUubmFtZSB8fCAnVW5rbm93bic7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzSW50ZXJuYWxDb21wb25lbnRUeXBlKHR5cGUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdHlwZS5wcm90b3R5cGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB0eXBlLnByb3RvdHlwZS5tb3VudENvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdHlwZS5wcm90b3R5cGUucmVjZWl2ZUNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG4gICAgdmFyIG5leHREZWJ1Z0lEID0gMTtcbiAgICBmdW5jdGlvbiBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50KG5vZGUpIHtcbiAgICAgIHZhciBpbnN0YW5jZTtcbiAgICAgIHZhciBpc0VtcHR5ID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSBmYWxzZTtcbiAgICAgIGlmIChpc0VtcHR5KSB7XG4gICAgICAgIGluc3RhbmNlID0gUmVhY3RFbXB0eUNvbXBvbmVudC5jcmVhdGUoaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBub2RlID09PSAnb2JqZWN0Jykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IG5vZGU7XG4gICAgICAgICEoZWxlbWVudCAmJiAodHlwZW9mIGVsZW1lbnQudHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgZWxlbWVudC50eXBlID09PSAnc3RyaW5nJykpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0VsZW1lbnQgdHlwZSBpcyBpbnZhbGlkOiBleHBlY3RlZCBhIHN0cmluZyAoZm9yIGJ1aWx0LWluIGNvbXBvbmVudHMpICcgKyAnb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKSBidXQgZ290OiAlcy4lcycsIGVsZW1lbnQudHlwZSA9PSBudWxsID8gZWxlbWVudC50eXBlIDogdHlwZW9mIGVsZW1lbnQudHlwZSwgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKGVsZW1lbnQuX293bmVyKSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQudHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpbnN0YW5jZSA9IFJlYWN0TmF0aXZlQ29tcG9uZW50LmNyZWF0ZUludGVybmFsQ29tcG9uZW50KGVsZW1lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzSW50ZXJuYWxDb21wb25lbnRUeXBlKGVsZW1lbnQudHlwZSkpIHtcbiAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBlbGVtZW50LnR5cGUoZWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5zdGFuY2UgPSBuZXcgUmVhY3RDb21wb3NpdGVDb21wb25lbnRXcmFwcGVyKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBub2RlID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygbm9kZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaW5zdGFuY2UgPSBSZWFjdE5hdGl2ZUNvbXBvbmVudC5jcmVhdGVJbnN0YW5jZUZvclRleHQobm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAhZmFsc2UgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRW5jb3VudGVyZWQgaW52YWxpZCBSZWFjdCBub2RlIG9mIHR5cGUgJXMnLCB0eXBlb2Ygbm9kZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodHlwZW9mIGluc3RhbmNlLm1vdW50Q29tcG9uZW50ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBpbnN0YW5jZS5yZWNlaXZlQ29tcG9uZW50ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBpbnN0YW5jZS5nZXROYXRpdmVOb2RlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBpbnN0YW5jZS51bm1vdW50Q29tcG9uZW50ID09PSAnZnVuY3Rpb24nLCAnT25seSBSZWFjdCBDb21wb25lbnRzIGNhbiBiZSBtb3VudGVkLicpIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgaW5zdGFuY2UuX21vdW50SW5kZXggPSAwO1xuICAgICAgaW5zdGFuY2UuX21vdW50SW1hZ2UgPSBudWxsO1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaW5zdGFuY2UuX2lzT3duZXJOZWNlc3NhcnkgPSBmYWxzZTtcbiAgICAgICAgaW5zdGFuY2UuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YXIgZGVidWdJRCA9IGlzRW1wdHkgPyAwIDogbmV4dERlYnVnSUQrKztcbiAgICAgICAgaW5zdGFuY2UuX2RlYnVnSUQgPSBkZWJ1Z0lEO1xuICAgICAgICBpZiAoZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgIHZhciBkaXNwbGF5TmFtZSA9IGdldERpc3BsYXlOYW1lKGluc3RhbmNlKTtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXREaXNwbGF5TmFtZShkZWJ1Z0lELCBkaXNwbGF5TmFtZSk7XG4gICAgICAgICAgdmFyIG93bmVyID0gbm9kZSAmJiBub2RlLl9vd25lcjtcbiAgICAgICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldE93bmVyKGRlYnVnSUQsIG93bmVyLl9kZWJ1Z0lEKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJldmVudEV4dGVuc2lvbnMpIHtcbiAgICAgICAgICBPYmplY3QucHJldmVudEV4dGVuc2lvbnMoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNTlcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBjcmVhdGVNaWNyb3NvZnRVbnNhZmVMb2NhbEZ1bmN0aW9uID0gZnVuY3Rpb24oZnVuYykge1xuICAgIGlmICh0eXBlb2YgTVNBcHAgIT09ICd1bmRlZmluZWQnICYmIE1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oYXJnMCwgYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgICBNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYyhhcmcwLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI1YVwiLCBbXCJkXCIsIFwiNTlcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSAkX19yZXF1aXJlKCdkJyk7XG4gICAgdmFyIFdISVRFU1BBQ0VfVEVTVCA9IC9eWyBcXHJcXG5cXHRcXGZdLztcbiAgICB2YXIgTk9OVklTSUJMRV9URVNUID0gLzwoIS0tfGxpbmt8bm9zY3JpcHR8bWV0YXxzY3JpcHR8c3R5bGUpWyBcXHJcXG5cXHRcXGZcXC8+XS87XG4gICAgdmFyIGNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24gPSAkX19yZXF1aXJlKCc1OScpO1xuICAgIHZhciBzZXRJbm5lckhUTUwgPSBjcmVhdGVNaWNyb3NvZnRVbnNhZmVMb2NhbEZ1bmN0aW9uKGZ1bmN0aW9uKG5vZGUsIGh0bWwpIHtcbiAgICAgIG5vZGUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICB9KTtcbiAgICBpZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgICB2YXIgdGVzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRlc3RFbGVtZW50LmlubmVySFRNTCA9ICcgJztcbiAgICAgIGlmICh0ZXN0RWxlbWVudC5pbm5lckhUTUwgPT09ICcnKSB7XG4gICAgICAgIHNldElubmVySFRNTCA9IGZ1bmN0aW9uKG5vZGUsIGh0bWwpIHtcbiAgICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5vZGUsIG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoV0hJVEVTUEFDRV9URVNULnRlc3QoaHRtbCkgfHwgaHRtbFswXSA9PT0gJzwnICYmIE5PTlZJU0lCTEVfVEVTVC50ZXN0KGh0bWwpKSB7XG4gICAgICAgICAgICBub2RlLmlubmVySFRNTCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHhGRUZGKSArIGh0bWw7XG4gICAgICAgICAgICB2YXIgdGV4dE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICBpZiAodGV4dE5vZGUuZGF0YS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZCh0ZXh0Tm9kZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0ZXh0Tm9kZS5kZWxldGVEYXRhKDAsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdGVzdEVsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IHNldElubmVySFRNTDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNDFcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGZ1bmN0aW9uIHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50KHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCkge1xuICAgIHZhciBwcmV2RW1wdHkgPSBwcmV2RWxlbWVudCA9PT0gbnVsbCB8fCBwcmV2RWxlbWVudCA9PT0gZmFsc2U7XG4gICAgdmFyIG5leHRFbXB0eSA9IG5leHRFbGVtZW50ID09PSBudWxsIHx8IG5leHRFbGVtZW50ID09PSBmYWxzZTtcbiAgICBpZiAocHJldkVtcHR5IHx8IG5leHRFbXB0eSkge1xuICAgICAgcmV0dXJuIHByZXZFbXB0eSA9PT0gbmV4dEVtcHR5O1xuICAgIH1cbiAgICB2YXIgcHJldlR5cGUgPSB0eXBlb2YgcHJldkVsZW1lbnQ7XG4gICAgdmFyIG5leHRUeXBlID0gdHlwZW9mIG5leHRFbGVtZW50O1xuICAgIGlmIChwcmV2VHlwZSA9PT0gJ3N0cmluZycgfHwgcHJldlR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gbmV4dFR5cGUgPT09ICdzdHJpbmcnIHx8IG5leHRUeXBlID09PSAnbnVtYmVyJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5leHRUeXBlID09PSAnb2JqZWN0JyAmJiBwcmV2RWxlbWVudC50eXBlID09PSBuZXh0RWxlbWVudC50eXBlICYmIHByZXZFbGVtZW50LmtleSA9PT0gbmV4dEVsZW1lbnQua2V5O1xuICAgIH1cbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjk1XCIsIFtcIjRjXCIsIFwiMWJcIiwgXCI0ZVwiLCBcIjQ3XCIsIFwiMTFcIiwgXCI4OVwiLCBcIjhhXCIsIFwiOGRcIiwgXCI4ZVwiLCBcIjI3XCIsIFwiOGNcIiwgXCIzZVwiLCBcIjkxXCIsIFwiMTJcIiwgXCI5NFwiLCBcIjNmXCIsIFwiMzBcIiwgXCI1YVwiLCBcIjQxXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRE9NTGF6eVRyZWUgPSAkX19yZXF1aXJlKCc0YycpO1xuICAgIHZhciBET01Qcm9wZXJ0eSA9ICRfX3JlcXVpcmUoJzFiJyk7XG4gICAgdmFyIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlciA9ICRfX3JlcXVpcmUoJzRlJyk7XG4gICAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gJF9fcmVxdWlyZSgnNDcnKTtcbiAgICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gJF9fcmVxdWlyZSgnMTEnKTtcbiAgICB2YXIgUmVhY3RET01Db250YWluZXJJbmZvID0gJF9fcmVxdWlyZSgnODknKTtcbiAgICB2YXIgUmVhY3RET01GZWF0dXJlRmxhZ3MgPSAkX19yZXF1aXJlKCc4YScpO1xuICAgIHZhciBSZWFjdEVsZW1lbnQgPSAkX19yZXF1aXJlKCc4ZCcpO1xuICAgIHZhciBSZWFjdEZlYXR1cmVGbGFncyA9ICRfX3JlcXVpcmUoJzhlJyk7XG4gICAgdmFyIFJlYWN0SW5zdHJ1bWVudGF0aW9uID0gJF9fcmVxdWlyZSgnMjcnKTtcbiAgICB2YXIgUmVhY3RNYXJrdXBDaGVja3N1bSA9ICRfX3JlcXVpcmUoJzhjJyk7XG4gICAgdmFyIFJlYWN0UmVjb25jaWxlciA9ICRfX3JlcXVpcmUoJzNlJyk7XG4gICAgdmFyIFJlYWN0VXBkYXRlUXVldWUgPSAkX19yZXF1aXJlKCc5MScpO1xuICAgIHZhciBSZWFjdFVwZGF0ZXMgPSAkX19yZXF1aXJlKCcxMicpO1xuICAgIHZhciBlbXB0eU9iamVjdCA9ICRfX3JlcXVpcmUoJzk0Jyk7XG4gICAgdmFyIGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQgPSAkX19yZXF1aXJlKCczZicpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBzZXRJbm5lckhUTUwgPSAkX19yZXF1aXJlKCc1YScpO1xuICAgIHZhciBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudCA9ICRfX3JlcXVpcmUoJzQxJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciBBVFRSX05BTUUgPSBET01Qcm9wZXJ0eS5JRF9BVFRSSUJVVEVfTkFNRTtcbiAgICB2YXIgUk9PVF9BVFRSX05BTUUgPSBET01Qcm9wZXJ0eS5ST09UX0FUVFJJQlVURV9OQU1FO1xuICAgIHZhciBFTEVNRU5UX05PREVfVFlQRSA9IDE7XG4gICAgdmFyIERPQ19OT0RFX1RZUEUgPSA5O1xuICAgIHZhciBET0NVTUVOVF9GUkFHTUVOVF9OT0RFX1RZUEUgPSAxMTtcbiAgICB2YXIgaW5zdGFuY2VzQnlSZWFjdFJvb3RJRCA9IHt9O1xuICAgIGZ1bmN0aW9uIGZpcnN0RGlmZmVyZW5jZUluZGV4KHN0cmluZzEsIHN0cmluZzIpIHtcbiAgICAgIHZhciBtaW5MZW4gPSBNYXRoLm1pbihzdHJpbmcxLmxlbmd0aCwgc3RyaW5nMi5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaW5MZW47IGkrKykge1xuICAgICAgICBpZiAoc3RyaW5nMS5jaGFyQXQoaSkgIT09IHN0cmluZzIuY2hhckF0KGkpKSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcxLmxlbmd0aCA9PT0gc3RyaW5nMi5sZW5ndGggPyAtMSA6IG1pbkxlbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NfTk9ERV9UWVBFKSB7XG4gICAgICAgIHJldHVybiBjb250YWluZXIuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5maXJzdENoaWxkO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpbnRlcm5hbEdldElEKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLmdldEF0dHJpYnV0ZSAmJiBub2RlLmdldEF0dHJpYnV0ZShBVFRSX05BTUUpIHx8ICcnO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudENvbXBvbmVudEludG9Ob2RlKHdyYXBwZXJJbnN0YW5jZSwgY29udGFpbmVyLCB0cmFuc2FjdGlvbiwgc2hvdWxkUmV1c2VNYXJrdXAsIGNvbnRleHQpIHtcbiAgICAgIHZhciBtYXJrZXJOYW1lO1xuICAgICAgaWYgKFJlYWN0RmVhdHVyZUZsYWdzLmxvZ1RvcExldmVsUmVuZGVycykge1xuICAgICAgICB2YXIgd3JhcHBlZEVsZW1lbnQgPSB3cmFwcGVySW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgICAgICB2YXIgdHlwZSA9IHdyYXBwZWRFbGVtZW50LnR5cGU7XG4gICAgICAgIG1hcmtlck5hbWUgPSAnUmVhY3QgbW91bnQ6ICcgKyAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZSA6IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lKTtcbiAgICAgICAgY29uc29sZS50aW1lKG1hcmtlck5hbWUpO1xuICAgICAgfVxuICAgICAgdmFyIG1hcmt1cCA9IFJlYWN0UmVjb25jaWxlci5tb3VudENvbXBvbmVudCh3cmFwcGVySW5zdGFuY2UsIHRyYW5zYWN0aW9uLCBudWxsLCBSZWFjdERPTUNvbnRhaW5lckluZm8od3JhcHBlckluc3RhbmNlLCBjb250YWluZXIpLCBjb250ZXh0KTtcbiAgICAgIGlmIChtYXJrZXJOYW1lKSB7XG4gICAgICAgIGNvbnNvbGUudGltZUVuZChtYXJrZXJOYW1lKTtcbiAgICAgIH1cbiAgICAgIHdyYXBwZXJJbnN0YW5jZS5fcmVuZGVyZWRDb21wb25lbnQuX3RvcExldmVsV3JhcHBlciA9IHdyYXBwZXJJbnN0YW5jZTtcbiAgICAgIFJlYWN0TW91bnQuX21vdW50SW1hZ2VJbnRvTm9kZShtYXJrdXAsIGNvbnRhaW5lciwgd3JhcHBlckluc3RhbmNlLCBzaG91bGRSZXVzZU1hcmt1cCwgdHJhbnNhY3Rpb24pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBiYXRjaGVkTW91bnRDb21wb25lbnRJbnRvTm9kZShjb21wb25lbnRJbnN0YW5jZSwgY29udGFpbmVyLCBzaG91bGRSZXVzZU1hcmt1cCwgY29udGV4dCkge1xuICAgICAgdmFyIHRyYW5zYWN0aW9uID0gUmVhY3RVcGRhdGVzLlJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24uZ2V0UG9vbGVkKCFzaG91bGRSZXVzZU1hcmt1cCAmJiBSZWFjdERPTUZlYXR1cmVGbGFncy51c2VDcmVhdGVFbGVtZW50KTtcbiAgICAgIHRyYW5zYWN0aW9uLnBlcmZvcm0obW91bnRDb21wb25lbnRJbnRvTm9kZSwgbnVsbCwgY29tcG9uZW50SW5zdGFuY2UsIGNvbnRhaW5lciwgdHJhbnNhY3Rpb24sIHNob3VsZFJldXNlTWFya3VwLCBjb250ZXh0KTtcbiAgICAgIFJlYWN0VXBkYXRlcy5SZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uLnJlbGVhc2UodHJhbnNhY3Rpb24pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1bm1vdW50Q29tcG9uZW50RnJvbU5vZGUoaW5zdGFuY2UsIGNvbnRhaW5lciwgc2FmZWx5KSB7XG4gICAgICBSZWFjdFJlY29uY2lsZXIudW5tb3VudENvbXBvbmVudChpbnN0YW5jZSwgc2FmZWx5KTtcbiAgICAgIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUpIHtcbiAgICAgICAgY29udGFpbmVyID0gY29udGFpbmVyLmRvY3VtZW50RWxlbWVudDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChjb250YWluZXIubGFzdENoaWxkKSB7XG4gICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjb250YWluZXIubGFzdENoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzTm9uUm9vdFJlYWN0Q2hpbGQoY29udGFpbmVyKSB7XG4gICAgICB2YXIgcm9vdEVsID0gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgICBpZiAocm9vdEVsKSB7XG4gICAgICAgIHZhciBpbnN0ID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldEluc3RhbmNlRnJvbU5vZGUocm9vdEVsKTtcbiAgICAgICAgcmV0dXJuICEhKGluc3QgJiYgaW5zdC5fbmF0aXZlUGFyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TmF0aXZlUm9vdEluc3RhbmNlSW5Db250YWluZXIoY29udGFpbmVyKSB7XG4gICAgICB2YXIgcm9vdEVsID0gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgICB2YXIgcHJldk5hdGl2ZUluc3RhbmNlID0gcm9vdEVsICYmIFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRJbnN0YW5jZUZyb21Ob2RlKHJvb3RFbCk7XG4gICAgICByZXR1cm4gcHJldk5hdGl2ZUluc3RhbmNlICYmICFwcmV2TmF0aXZlSW5zdGFuY2UuX25hdGl2ZVBhcmVudCA/IHByZXZOYXRpdmVJbnN0YW5jZSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRvcExldmVsV3JhcHBlckluQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICAgICAgdmFyIHJvb3QgPSBnZXROYXRpdmVSb290SW5zdGFuY2VJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgcmV0dXJuIHJvb3QgPyByb290Ll9uYXRpdmVDb250YWluZXJJbmZvLl90b3BMZXZlbFdyYXBwZXIgOiBudWxsO1xuICAgIH1cbiAgICB2YXIgdG9wTGV2ZWxSb290Q291bnRlciA9IDE7XG4gICAgdmFyIFRvcExldmVsV3JhcHBlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5yb290SUQgPSB0b3BMZXZlbFJvb3RDb3VudGVyKys7XG4gICAgfTtcbiAgICBUb3BMZXZlbFdyYXBwZXIucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB7fTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgVG9wTGV2ZWxXcmFwcGVyLmRpc3BsYXlOYW1lID0gJ1RvcExldmVsV3JhcHBlcic7XG4gICAgfVxuICAgIFRvcExldmVsV3JhcHBlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcztcbiAgICB9O1xuICAgIHZhciBSZWFjdE1vdW50ID0ge1xuICAgICAgVG9wTGV2ZWxXcmFwcGVyOiBUb3BMZXZlbFdyYXBwZXIsXG4gICAgICBfaW5zdGFuY2VzQnlSZWFjdFJvb3RJRDogaW5zdGFuY2VzQnlSZWFjdFJvb3RJRCxcbiAgICAgIHNjcm9sbE1vbml0b3I6IGZ1bmN0aW9uKGNvbnRhaW5lciwgcmVuZGVyQ2FsbGJhY2spIHtcbiAgICAgICAgcmVuZGVyQ2FsbGJhY2soKTtcbiAgICAgIH0sXG4gICAgICBfdXBkYXRlUm9vdENvbXBvbmVudDogZnVuY3Rpb24ocHJldkNvbXBvbmVudCwgbmV4dEVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICAgICAgUmVhY3RNb3VudC5zY3JvbGxNb25pdG9yKGNvbnRhaW5lciwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgUmVhY3RVcGRhdGVRdWV1ZS5lbnF1ZXVlRWxlbWVudEludGVybmFsKHByZXZDb21wb25lbnQsIG5leHRFbGVtZW50KTtcbiAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIFJlYWN0VXBkYXRlUXVldWUuZW5xdWV1ZUNhbGxiYWNrSW50ZXJuYWwocHJldkNvbXBvbmVudCwgY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcmV2Q29tcG9uZW50O1xuICAgICAgfSxcbiAgICAgIF9yZW5kZXJOZXdSb290Q29tcG9uZW50OiBmdW5jdGlvbihuZXh0RWxlbWVudCwgY29udGFpbmVyLCBzaG91bGRSZXVzZU1hcmt1cCwgY29udGV4dCkge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luRmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID09IG51bGwsICdfcmVuZGVyTmV3Um9vdENvbXBvbmVudCgpOiBSZW5kZXIgbWV0aG9kcyBzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uICcgKyAnb2YgcHJvcHMgYW5kIHN0YXRlOyB0cmlnZ2VyaW5nIG5lc3RlZCBjb21wb25lbnQgdXBkYXRlcyBmcm9tICcgKyAncmVuZGVyIGlzIG5vdCBhbGxvd2VkLiBJZiBuZWNlc3NhcnksIHRyaWdnZXIgbmVzdGVkIHVwZGF0ZXMgaW4gJyArICdjb21wb25lbnREaWRVcGRhdGUuIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mICVzLicsIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgJiYgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC5nZXROYW1lKCkgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgICEoY29udGFpbmVyICYmIChjb250YWluZXIubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERV9UWVBFIHx8IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ1VNRU5UX0ZSQUdNRU5UX05PREVfVFlQRSkpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ19yZWdpc3RlckNvbXBvbmVudCguLi4pOiBUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmVuc3VyZVNjcm9sbFZhbHVlTW9uaXRvcmluZygpO1xuICAgICAgICB2YXIgY29tcG9uZW50SW5zdGFuY2UgPSBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50KG5leHRFbGVtZW50KTtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjb21wb25lbnRJbnN0YW5jZS5fZGVidWdJRCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgUmVhY3RVcGRhdGVzLmJhdGNoZWRVcGRhdGVzKGJhdGNoZWRNb3VudENvbXBvbmVudEludG9Ob2RlLCBjb21wb25lbnRJbnN0YW5jZSwgY29udGFpbmVyLCBzaG91bGRSZXVzZU1hcmt1cCwgY29udGV4dCk7XG4gICAgICAgIHZhciB3cmFwcGVySUQgPSBjb21wb25lbnRJbnN0YW5jZS5faW5zdGFuY2Uucm9vdElEO1xuICAgICAgICBpbnN0YW5jZXNCeVJlYWN0Um9vdElEW3dyYXBwZXJJRF0gPSBjb21wb25lbnRJbnN0YW5jZTtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25Nb3VudFJvb3RDb21wb25lbnQoY29tcG9uZW50SW5zdGFuY2UuX3JlbmRlcmVkQ29tcG9uZW50Ll9kZWJ1Z0lEKTtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25FbmRGbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wb25lbnRJbnN0YW5jZTtcbiAgICAgIH0sXG4gICAgICByZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjogZnVuY3Rpb24ocGFyZW50Q29tcG9uZW50LCBuZXh0RWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgICAgICAhKHBhcmVudENvbXBvbmVudCAhPSBudWxsICYmIHBhcmVudENvbXBvbmVudC5fcmVhY3RJbnRlcm5hbEluc3RhbmNlICE9IG51bGwpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3BhcmVudENvbXBvbmVudCBtdXN0IGJlIGEgdmFsaWQgUmVhY3QgQ29tcG9uZW50JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICByZXR1cm4gUmVhY3RNb3VudC5fcmVuZGVyU3VidHJlZUludG9Db250YWluZXIocGFyZW50Q29tcG9uZW50LCBuZXh0RWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjayk7XG4gICAgICB9LFxuICAgICAgX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyOiBmdW5jdGlvbihwYXJlbnRDb21wb25lbnQsIG5leHRFbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIFJlYWN0VXBkYXRlUXVldWUudmFsaWRhdGVDYWxsYmFjayhjYWxsYmFjaywgJ1JlYWN0RE9NLnJlbmRlcicpO1xuICAgICAgICAhUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KG5leHRFbGVtZW50KSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdERPTS5yZW5kZXIoKTogSW52YWxpZCBjb21wb25lbnQgZWxlbWVudC4lcycsIHR5cGVvZiBuZXh0RWxlbWVudCA9PT0gJ3N0cmluZycgPyAnIEluc3RlYWQgb2YgcGFzc2luZyBhIHN0cmluZyBsaWtlIFxcJ2RpdlxcJywgcGFzcyAnICsgJ1JlYWN0LmNyZWF0ZUVsZW1lbnQoXFwnZGl2XFwnKSBvciA8ZGl2IC8+LicgOiB0eXBlb2YgbmV4dEVsZW1lbnQgPT09ICdmdW5jdGlvbicgPyAnIEluc3RlYWQgb2YgcGFzc2luZyBhIGNsYXNzIGxpa2UgRm9vLCBwYXNzICcgKyAnUmVhY3QuY3JlYXRlRWxlbWVudChGb28pIG9yIDxGb28gLz4uJyA6IG5leHRFbGVtZW50ICE9IG51bGwgJiYgbmV4dEVsZW1lbnQucHJvcHMgIT09IHVuZGVmaW5lZCA/ICcgVGhpcyBtYXkgYmUgY2F1c2VkIGJ5IHVuaW50ZW50aW9uYWxseSBsb2FkaW5nIHR3byBpbmRlcGVuZGVudCAnICsgJ2NvcGllcyBvZiBSZWFjdC4nIDogJycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWNvbnRhaW5lciB8fCAhY29udGFpbmVyLnRhZ05hbWUgfHwgY29udGFpbmVyLnRhZ05hbWUudG9VcHBlckNhc2UoKSAhPT0gJ0JPRFknLCAncmVuZGVyKCk6IFJlbmRlcmluZyBjb21wb25lbnRzIGRpcmVjdGx5IGludG8gZG9jdW1lbnQuYm9keSBpcyAnICsgJ2Rpc2NvdXJhZ2VkLCBzaW5jZSBpdHMgY2hpbGRyZW4gYXJlIG9mdGVuIG1hbmlwdWxhdGVkIGJ5IHRoaXJkLXBhcnR5ICcgKyAnc2NyaXB0cyBhbmQgYnJvd3NlciBleHRlbnNpb25zLiBUaGlzIG1heSBsZWFkIHRvIHN1YnRsZSAnICsgJ3JlY29uY2lsaWF0aW9uIGlzc3Vlcy4gVHJ5IHJlbmRlcmluZyBpbnRvIGEgY29udGFpbmVyIGVsZW1lbnQgY3JlYXRlZCAnICsgJ2ZvciB5b3VyIGFwcC4nKSA6IHZvaWQgMDtcbiAgICAgICAgdmFyIG5leHRXcmFwcGVkRWxlbWVudCA9IFJlYWN0RWxlbWVudChUb3BMZXZlbFdyYXBwZXIsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG5leHRFbGVtZW50KTtcbiAgICAgICAgdmFyIHByZXZDb21wb25lbnQgPSBnZXRUb3BMZXZlbFdyYXBwZXJJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgICBpZiAocHJldkNvbXBvbmVudCkge1xuICAgICAgICAgIHZhciBwcmV2V3JhcHBlZEVsZW1lbnQgPSBwcmV2Q29tcG9uZW50Ll9jdXJyZW50RWxlbWVudDtcbiAgICAgICAgICB2YXIgcHJldkVsZW1lbnQgPSBwcmV2V3JhcHBlZEVsZW1lbnQucHJvcHM7XG4gICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50KHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCkpIHtcbiAgICAgICAgICAgIHZhciBwdWJsaWNJbnN0ID0gcHJldkNvbXBvbmVudC5fcmVuZGVyZWRDb21wb25lbnQuZ2V0UHVibGljSW5zdGFuY2UoKTtcbiAgICAgICAgICAgIHZhciB1cGRhdGVkQ2FsbGJhY2sgPSBjYWxsYmFjayAmJiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChwdWJsaWNJbnN0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBSZWFjdE1vdW50Ll91cGRhdGVSb290Q29tcG9uZW50KHByZXZDb21wb25lbnQsIG5leHRXcmFwcGVkRWxlbWVudCwgY29udGFpbmVyLCB1cGRhdGVkQ2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuIHB1YmxpY0luc3Q7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFJlYWN0TW91bnQudW5tb3VudENvbXBvbmVudEF0Tm9kZShjb250YWluZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVhY3RSb290RWxlbWVudCA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgICB2YXIgY29udGFpbmVySGFzUmVhY3RNYXJrdXAgPSByZWFjdFJvb3RFbGVtZW50ICYmICEhaW50ZXJuYWxHZXRJRChyZWFjdFJvb3RFbGVtZW50KTtcbiAgICAgICAgdmFyIGNvbnRhaW5lckhhc05vblJvb3RSZWFjdENoaWxkID0gaGFzTm9uUm9vdFJlYWN0Q2hpbGQoY29udGFpbmVyKTtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghY29udGFpbmVySGFzTm9uUm9vdFJlYWN0Q2hpbGQsICdyZW5kZXIoLi4uKTogUmVwbGFjaW5nIFJlYWN0LXJlbmRlcmVkIGNoaWxkcmVuIHdpdGggYSBuZXcgcm9vdCAnICsgJ2NvbXBvbmVudC4gSWYgeW91IGludGVuZGVkIHRvIHVwZGF0ZSB0aGUgY2hpbGRyZW4gb2YgdGhpcyBub2RlLCAnICsgJ3lvdSBzaG91bGQgaW5zdGVhZCBoYXZlIHRoZSBleGlzdGluZyBjaGlsZHJlbiB1cGRhdGUgdGhlaXIgc3RhdGUgJyArICdhbmQgcmVuZGVyIHRoZSBuZXcgY29tcG9uZW50cyBpbnN0ZWFkIG9mIGNhbGxpbmcgUmVhY3RET00ucmVuZGVyLicpIDogdm9pZCAwO1xuICAgICAgICAgIGlmICghY29udGFpbmVySGFzUmVhY3RNYXJrdXAgfHwgcmVhY3RSb290RWxlbWVudC5uZXh0U2libGluZykge1xuICAgICAgICAgICAgdmFyIHJvb3RFbGVtZW50U2libGluZyA9IHJlYWN0Um9vdEVsZW1lbnQ7XG4gICAgICAgICAgICB3aGlsZSAocm9vdEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgICAgICAgICAgIGlmIChpbnRlcm5hbEdldElEKHJvb3RFbGVtZW50U2libGluZykpIHtcbiAgICAgICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ3JlbmRlcigpOiBUYXJnZXQgbm9kZSBoYXMgbWFya3VwIHJlbmRlcmVkIGJ5IFJlYWN0LCBidXQgdGhlcmUgJyArICdhcmUgdW5yZWxhdGVkIG5vZGVzIGFzIHdlbGwuIFRoaXMgaXMgbW9zdCBjb21tb25seSBjYXVzZWQgYnkgJyArICd3aGl0ZS1zcGFjZSBpbnNlcnRlZCBhcm91bmQgc2VydmVyLXJlbmRlcmVkIG1hcmt1cC4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByb290RWxlbWVudFNpYmxpbmcgPSByb290RWxlbWVudFNpYmxpbmcubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzaG91bGRSZXVzZU1hcmt1cCA9IGNvbnRhaW5lckhhc1JlYWN0TWFya3VwICYmICFwcmV2Q29tcG9uZW50ICYmICFjb250YWluZXJIYXNOb25Sb290UmVhY3RDaGlsZDtcbiAgICAgICAgdmFyIGNvbXBvbmVudCA9IFJlYWN0TW91bnQuX3JlbmRlck5ld1Jvb3RDb21wb25lbnQobmV4dFdyYXBwZWRFbGVtZW50LCBjb250YWluZXIsIHNob3VsZFJldXNlTWFya3VwLCBwYXJlbnRDb21wb25lbnQgIT0gbnVsbCA/IHBhcmVudENvbXBvbmVudC5fcmVhY3RJbnRlcm5hbEluc3RhbmNlLl9wcm9jZXNzQ2hpbGRDb250ZXh0KHBhcmVudENvbXBvbmVudC5fcmVhY3RJbnRlcm5hbEluc3RhbmNlLl9jb250ZXh0KSA6IGVtcHR5T2JqZWN0KS5fcmVuZGVyZWRDb21wb25lbnQuZ2V0UHVibGljSW5zdGFuY2UoKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgY2FsbGJhY2suY2FsbChjb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgICB9LFxuICAgICAgcmVuZGVyOiBmdW5jdGlvbihuZXh0RWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gUmVhY3RNb3VudC5fcmVuZGVyU3VidHJlZUludG9Db250YWluZXIobnVsbCwgbmV4dEVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spO1xuICAgICAgfSxcbiAgICAgIHVubW91bnRDb21wb25lbnRBdE5vZGU6IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID09IG51bGwsICd1bm1vdW50Q29tcG9uZW50QXROb2RlKCk6IFJlbmRlciBtZXRob2RzIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gJyArICdvZiBwcm9wcyBhbmQgc3RhdGU7IHRyaWdnZXJpbmcgbmVzdGVkIGNvbXBvbmVudCB1cGRhdGVzIGZyb20gcmVuZGVyICcgKyAnaXMgbm90IGFsbG93ZWQuIElmIG5lY2Vzc2FyeSwgdHJpZ2dlciBuZXN0ZWQgdXBkYXRlcyBpbiAnICsgJ2NvbXBvbmVudERpZFVwZGF0ZS4gQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgJXMuJywgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LmdldE5hbWUoKSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgIShjb250YWluZXIgJiYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFX1RZUEUgfHwgY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NfTk9ERV9UWVBFIHx8IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERV9UWVBFKSkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndW5tb3VudENvbXBvbmVudEF0Tm9kZSguLi4pOiBUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgdmFyIHByZXZDb21wb25lbnQgPSBnZXRUb3BMZXZlbFdyYXBwZXJJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgICBpZiAoIXByZXZDb21wb25lbnQpIHtcbiAgICAgICAgICB2YXIgY29udGFpbmVySGFzTm9uUm9vdFJlYWN0Q2hpbGQgPSBoYXNOb25Sb290UmVhY3RDaGlsZChjb250YWluZXIpO1xuICAgICAgICAgIHZhciBpc0NvbnRhaW5lclJlYWN0Um9vdCA9IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gMSAmJiBjb250YWluZXIuaGFzQXR0cmlidXRlKFJPT1RfQVRUUl9OQU1FKTtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWNvbnRhaW5lckhhc05vblJvb3RSZWFjdENoaWxkLCAndW5tb3VudENvbXBvbmVudEF0Tm9kZSgpOiBUaGUgbm9kZSB5b3VcXCdyZSBhdHRlbXB0aW5nIHRvIHVubW91bnQgJyArICd3YXMgcmVuZGVyZWQgYnkgUmVhY3QgYW5kIGlzIG5vdCBhIHRvcC1sZXZlbCBjb250YWluZXIuICVzJywgaXNDb250YWluZXJSZWFjdFJvb3QgPyAnWW91IG1heSBoYXZlIGFjY2lkZW50YWxseSBwYXNzZWQgaW4gYSBSZWFjdCByb290IG5vZGUgaW5zdGVhZCAnICsgJ29mIGl0cyBjb250YWluZXIuJyA6ICdJbnN0ZWFkLCBoYXZlIHRoZSBwYXJlbnQgY29tcG9uZW50IHVwZGF0ZSBpdHMgc3RhdGUgYW5kICcgKyAncmVyZW5kZXIgaW4gb3JkZXIgdG8gcmVtb3ZlIHRoaXMgY29tcG9uZW50LicpIDogdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGluc3RhbmNlc0J5UmVhY3RSb290SURbcHJldkNvbXBvbmVudC5faW5zdGFuY2Uucm9vdElEXTtcbiAgICAgICAgUmVhY3RVcGRhdGVzLmJhdGNoZWRVcGRhdGVzKHVubW91bnRDb21wb25lbnRGcm9tTm9kZSwgcHJldkNvbXBvbmVudCwgY29udGFpbmVyLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSxcbiAgICAgIF9tb3VudEltYWdlSW50b05vZGU6IGZ1bmN0aW9uKG1hcmt1cCwgY29udGFpbmVyLCBpbnN0YW5jZSwgc2hvdWxkUmV1c2VNYXJrdXAsIHRyYW5zYWN0aW9uKSB7XG4gICAgICAgICEoY29udGFpbmVyICYmIChjb250YWluZXIubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERV9UWVBFIHx8IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ1VNRU5UX0ZSQUdNRU5UX05PREVfVFlQRSkpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ21vdW50Q29tcG9uZW50SW50b05vZGUoLi4uKTogVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgdmFsaWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBpZiAoc2hvdWxkUmV1c2VNYXJrdXApIHtcbiAgICAgICAgICB2YXIgcm9vdEVsZW1lbnQgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgICBpZiAoUmVhY3RNYXJrdXBDaGVja3N1bS5jYW5SZXVzZU1hcmt1cChtYXJrdXAsIHJvb3RFbGVtZW50KSkge1xuICAgICAgICAgICAgUmVhY3RET01Db21wb25lbnRUcmVlLnByZWNhY2hlTm9kZShpbnN0YW5jZSwgcm9vdEVsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tzdW0gPSByb290RWxlbWVudC5nZXRBdHRyaWJ1dGUoUmVhY3RNYXJrdXBDaGVja3N1bS5DSEVDS1NVTV9BVFRSX05BTUUpO1xuICAgICAgICAgICAgcm9vdEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFJlYWN0TWFya3VwQ2hlY2tzdW0uQ0hFQ0tTVU1fQVRUUl9OQU1FKTtcbiAgICAgICAgICAgIHZhciByb290TWFya3VwID0gcm9vdEVsZW1lbnQub3V0ZXJIVE1MO1xuICAgICAgICAgICAgcm9vdEVsZW1lbnQuc2V0QXR0cmlidXRlKFJlYWN0TWFya3VwQ2hlY2tzdW0uQ0hFQ0tTVU1fQVRUUl9OQU1FLCBjaGVja3N1bSk7XG4gICAgICAgICAgICB2YXIgbm9ybWFsaXplZE1hcmt1cCA9IG1hcmt1cDtcbiAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIHZhciBub3JtYWxpemVyO1xuICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREVfVFlQRSkge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVyLmlubmVySFRNTCA9IG1hcmt1cDtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkTWFya3VwID0gbm9ybWFsaXplci5pbm5lckhUTUw7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm9ybWFsaXplcik7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplci5jb250ZW50RG9jdW1lbnQud3JpdGUobWFya3VwKTtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkTWFya3VwID0gbm9ybWFsaXplci5jb250ZW50RG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG5vcm1hbGl6ZXIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGlmZkluZGV4ID0gZmlyc3REaWZmZXJlbmNlSW5kZXgobm9ybWFsaXplZE1hcmt1cCwgcm9vdE1hcmt1cCk7XG4gICAgICAgICAgICB2YXIgZGlmZmVyZW5jZSA9ICcgKGNsaWVudCkgJyArIG5vcm1hbGl6ZWRNYXJrdXAuc3Vic3RyaW5nKGRpZmZJbmRleCAtIDIwLCBkaWZmSW5kZXggKyAyMCkgKyAnXFxuIChzZXJ2ZXIpICcgKyByb290TWFya3VwLnN1YnN0cmluZyhkaWZmSW5kZXggLSAyMCwgZGlmZkluZGV4ICsgMjApO1xuICAgICAgICAgICAgIShjb250YWluZXIubm9kZVR5cGUgIT09IERPQ19OT0RFX1RZUEUpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1lvdVxcJ3JlIHRyeWluZyB0byByZW5kZXIgYSBjb21wb25lbnQgdG8gdGhlIGRvY3VtZW50IHVzaW5nICcgKyAnc2VydmVyIHJlbmRlcmluZyBidXQgdGhlIGNoZWNrc3VtIHdhcyBpbnZhbGlkLiBUaGlzIHVzdWFsbHkgJyArICdtZWFucyB5b3UgcmVuZGVyZWQgYSBkaWZmZXJlbnQgY29tcG9uZW50IHR5cGUgb3IgcHJvcHMgb24gJyArICd0aGUgY2xpZW50IGZyb20gdGhlIG9uZSBvbiB0aGUgc2VydmVyLCBvciB5b3VyIHJlbmRlcigpICcgKyAnbWV0aG9kcyBhcmUgaW1wdXJlLiBSZWFjdCBjYW5ub3QgaGFuZGxlIHRoaXMgY2FzZSBkdWUgdG8gJyArICdjcm9zcy1icm93c2VyIHF1aXJrcyBieSByZW5kZXJpbmcgYXQgdGhlIGRvY3VtZW50IHJvb3QuIFlvdSAnICsgJ3Nob3VsZCBsb29rIGZvciBlbnZpcm9ubWVudCBkZXBlbmRlbnQgY29kZSBpbiB5b3VyIGNvbXBvbmVudHMgJyArICdhbmQgZW5zdXJlIHRoZSBwcm9wcyBhcmUgdGhlIHNhbWUgY2xpZW50IGFuZCBzZXJ2ZXIgc2lkZTpcXG4lcycsIGRpZmZlcmVuY2UpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnUmVhY3QgYXR0ZW1wdGVkIHRvIHJldXNlIG1hcmt1cCBpbiBhIGNvbnRhaW5lciBidXQgdGhlICcgKyAnY2hlY2tzdW0gd2FzIGludmFsaWQuIFRoaXMgZ2VuZXJhbGx5IG1lYW5zIHRoYXQgeW91IGFyZSAnICsgJ3VzaW5nIHNlcnZlciByZW5kZXJpbmcgYW5kIHRoZSBtYXJrdXAgZ2VuZXJhdGVkIG9uIHRoZSAnICsgJ3NlcnZlciB3YXMgbm90IHdoYXQgdGhlIGNsaWVudCB3YXMgZXhwZWN0aW5nLiBSZWFjdCBpbmplY3RlZCAnICsgJ25ldyBtYXJrdXAgdG8gY29tcGVuc2F0ZSB3aGljaCB3b3JrcyBidXQgeW91IGhhdmUgbG9zdCBtYW55ICcgKyAnb2YgdGhlIGJlbmVmaXRzIG9mIHNlcnZlciByZW5kZXJpbmcuIEluc3RlYWQsIGZpZ3VyZSBvdXQgJyArICd3aHkgdGhlIG1hcmt1cCBiZWluZyBnZW5lcmF0ZWQgaXMgZGlmZmVyZW50IG9uIHRoZSBjbGllbnQgJyArICdvciBzZXJ2ZXI6XFxuJXMnLCBkaWZmZXJlbmNlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgIShjb250YWluZXIubm9kZVR5cGUgIT09IERPQ19OT0RFX1RZUEUpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1lvdVxcJ3JlIHRyeWluZyB0byByZW5kZXIgYSBjb21wb25lbnQgdG8gdGhlIGRvY3VtZW50IGJ1dCAnICsgJ3lvdSBkaWRuXFwndCB1c2Ugc2VydmVyIHJlbmRlcmluZy4gV2UgY2FuXFwndCBkbyB0aGlzICcgKyAnd2l0aG91dCB1c2luZyBzZXJ2ZXIgcmVuZGVyaW5nIGR1ZSB0byBjcm9zcy1icm93c2VyIHF1aXJrcy4gJyArICdTZWUgUmVhY3RET01TZXJ2ZXIucmVuZGVyVG9TdHJpbmcoKSBmb3Igc2VydmVyIHJlbmRlcmluZy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbi51c2VDcmVhdGVFbGVtZW50KSB7XG4gICAgICAgICAgd2hpbGUgKGNvbnRhaW5lci5sYXN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjb250YWluZXIubGFzdENoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgRE9NTGF6eVRyZWUuaW5zZXJ0VHJlZUJlZm9yZShjb250YWluZXIsIG1hcmt1cCwgbnVsbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0SW5uZXJIVE1MKGNvbnRhaW5lciwgbWFya3VwKTtcbiAgICAgICAgICBSZWFjdERPTUNvbXBvbmVudFRyZWUucHJlY2FjaGVOb2RlKGluc3RhbmNlLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB2YXIgbmF0aXZlTm9kZSA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRJbnN0YW5jZUZyb21Ob2RlKGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgICBpZiAobmF0aXZlTm9kZS5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKG5hdGl2ZU5vZGUuX2RlYnVnSUQsICdtb3VudCcsIG1hcmt1cC50b1N0cmluZygpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RNb3VudDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiOTZcIiwgW1wiOTVcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBSZWFjdE1vdW50ID0gJF9fcmVxdWlyZSgnOTUnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdE1vdW50LnJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjk3XCIsIFtcIjExXCIsIFwiODFcIiwgXCI5NVwiLCBcIjNlXCIsIFwiMTJcIiwgXCI5OFwiLCBcIjgyXCIsIFwiODRcIiwgXCI5NlwiLCBcIjIyXCIsIFwiZFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSAkX19yZXF1aXJlKCcxMScpO1xuICAgIHZhciBSZWFjdERlZmF1bHRJbmplY3Rpb24gPSAkX19yZXF1aXJlKCc4MScpO1xuICAgIHZhciBSZWFjdE1vdW50ID0gJF9fcmVxdWlyZSgnOTUnKTtcbiAgICB2YXIgUmVhY3RSZWNvbmNpbGVyID0gJF9fcmVxdWlyZSgnM2UnKTtcbiAgICB2YXIgUmVhY3RVcGRhdGVzID0gJF9fcmVxdWlyZSgnMTInKTtcbiAgICB2YXIgUmVhY3RWZXJzaW9uID0gJF9fcmVxdWlyZSgnOTgnKTtcbiAgICB2YXIgZmluZERPTU5vZGUgPSAkX19yZXF1aXJlKCc4MicpO1xuICAgIHZhciBnZXROYXRpdmVDb21wb25lbnRGcm9tQ29tcG9zaXRlID0gJF9fcmVxdWlyZSgnODQnKTtcbiAgICB2YXIgcmVuZGVyU3VidHJlZUludG9Db250YWluZXIgPSAkX19yZXF1aXJlKCc5NicpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICBSZWFjdERlZmF1bHRJbmplY3Rpb24uaW5qZWN0KCk7XG4gICAgdmFyIFJlYWN0ID0ge1xuICAgICAgZmluZERPTU5vZGU6IGZpbmRET01Ob2RlLFxuICAgICAgcmVuZGVyOiBSZWFjdE1vdW50LnJlbmRlcixcbiAgICAgIHVubW91bnRDb21wb25lbnRBdE5vZGU6IFJlYWN0TW91bnQudW5tb3VudENvbXBvbmVudEF0Tm9kZSxcbiAgICAgIHZlcnNpb246IFJlYWN0VmVyc2lvbixcbiAgICAgIHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzOiBSZWFjdFVwZGF0ZXMuYmF0Y2hlZFVwZGF0ZXMsXG4gICAgICB1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjogcmVuZGVyU3VidHJlZUludG9Db250YWluZXJcbiAgICB9O1xuICAgIGlmICh0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmluamVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmluamVjdCh7XG4gICAgICAgIENvbXBvbmVudFRyZWU6IHtcbiAgICAgICAgICBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZTogUmVhY3RET01Db21wb25lbnRUcmVlLmdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlLFxuICAgICAgICAgIGdldE5vZGVGcm9tSW5zdGFuY2U6IGZ1bmN0aW9uKGluc3QpIHtcbiAgICAgICAgICAgIGlmIChpbnN0Ll9yZW5kZXJlZENvbXBvbmVudCkge1xuICAgICAgICAgICAgICBpbnN0ID0gZ2V0TmF0aXZlQ29tcG9uZW50RnJvbUNvbXBvc2l0ZShpbnN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbnN0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgTW91bnQ6IFJlYWN0TW91bnQsXG4gICAgICAgIFJlY29uY2lsZXI6IFJlYWN0UmVjb25jaWxlclxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSAkX19yZXF1aXJlKCdkJyk7XG4gICAgICBpZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmIHdpbmRvdy50b3AgPT09IHdpbmRvdy5zZWxmKSB7XG4gICAgICAgIGlmICh0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpID4gLTEgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdFZGdlJykgPT09IC0xIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID4gLTEpIHtcbiAgICAgICAgICAgIHZhciBzaG93RmlsZVVybE1lc3NhZ2UgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wuaW5kZXhPZignaHR0cCcpID09PSAtMSAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA9PT0gLTE7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdEb3dubG9hZCB0aGUgUmVhY3QgRGV2VG9vbHMgJyArIChzaG93RmlsZVVybE1lc3NhZ2UgPyAnYW5kIHVzZSBhbiBIVFRQIHNlcnZlciAoaW5zdGVhZCBvZiBhIGZpbGU6IFVSTCkgJyA6ICcnKSArICdmb3IgYSBiZXR0ZXIgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZTogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWRldnRvb2xzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXN0RnVuYyA9IGZ1bmN0aW9uIHRlc3RGbigpIHt9O1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZygodGVzdEZ1bmMubmFtZSB8fCB0ZXN0RnVuYy50b1N0cmluZygpKS5pbmRleE9mKCd0ZXN0Rm4nKSAhPT0gLTEsICdJdCBsb29rcyBsaWtlIHlvdVxcJ3JlIHVzaW5nIGEgbWluaWZpZWQgY29weSBvZiB0aGUgZGV2ZWxvcG1lbnQgYnVpbGQgJyArICdvZiBSZWFjdC4gV2hlbiBkZXBsb3lpbmcgUmVhY3QgYXBwcyB0byBwcm9kdWN0aW9uLCBtYWtlIHN1cmUgdG8gdXNlICcgKyAndGhlIHByb2R1Y3Rpb24gYnVpbGQgd2hpY2ggc2tpcHMgZGV2ZWxvcG1lbnQgd2FybmluZ3MgYW5kIGlzIGZhc3Rlci4gJyArICdTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1taW5pZmljYXRpb24gZm9yIG1vcmUgZGV0YWlscy4nKSA6IHZvaWQgMDtcbiAgICAgICAgdmFyIGllQ29tcGF0aWJpbGl0eU1vZGUgPSBkb2N1bWVudC5kb2N1bWVudE1vZGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIDwgODtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWllQ29tcGF0aWJpbGl0eU1vZGUsICdJbnRlcm5ldCBFeHBsb3JlciBpcyBydW5uaW5nIGluIGNvbXBhdGliaWxpdHkgbW9kZTsgcGxlYXNlIGFkZCB0aGUgJyArICdmb2xsb3dpbmcgdGFnIHRvIHlvdXIgSFRNTCB0byBwcmV2ZW50IHRoaXMgZnJvbSBoYXBwZW5pbmc6ICcgKyAnPG1ldGEgaHR0cC1lcXVpdj1cIlgtVUEtQ29tcGF0aWJsZVwiIGNvbnRlbnQ9XCJJRT1lZGdlXCIgLz4nKSA6IHZvaWQgMDtcbiAgICAgICAgdmFyIGV4cGVjdGVkRmVhdHVyZXMgPSBbQXJyYXkuaXNBcnJheSwgQXJyYXkucHJvdG90eXBlLmV2ZXJ5LCBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCwgQXJyYXkucHJvdG90eXBlLmluZGV4T2YsIEFycmF5LnByb3RvdHlwZS5tYXAsIERhdGUubm93LCBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCwgT2JqZWN0LmtleXMsIFN0cmluZy5wcm90b3R5cGUuc3BsaXQsIFN0cmluZy5wcm90b3R5cGUudHJpbV07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWRGZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICghZXhwZWN0ZWRGZWF0dXJlc1tpXSkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdPbmUgb3IgbW9yZSBFUzUgc2hpbXMgZXhwZWN0ZWQgYnkgUmVhY3QgYXJlIG5vdCBhdmFpbGFibGU6ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLXBvbHlmaWxscycpIDogdm9pZCAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3Q7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjk5XCIsIFtcIjk3XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJzk3Jyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiOWFcIiwgW1wiOTlcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCc5OScpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyKCc5YicsIFsnOWMnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBSZWFjdCwgTWFpbkhlYWRlcjtcbiAgcmV0dXJuIHtcbiAgICBzZXR0ZXJzOiBbZnVuY3Rpb24gKF9jKSB7XG4gICAgICBSZWFjdCA9IF9jWydkZWZhdWx0J107XG4gICAgfV0sXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgTWFpbkhlYWRlciA9IGZ1bmN0aW9uIE1haW5IZWFkZXIoKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdoZWFkZXInLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaGVhZGVyJywgcm9sZTogJ2Jhbm5lcicgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdsb2dvJywgaHJlZjogJy4vJywgcm9sZTogJ2xvZ28nIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IHNyYzogJ3N2Zy9sb2dvLnN2ZycgfSlcbiAgICAgICAgICApLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnYScsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0bi1saW5rJyxcbiAgICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vZ2l0aHViLmNvbS9mcm9udGVuZGJyL2V2ZW50b3MnLFxuICAgICAgICAgICAgICB0aXRsZTogJ0FudW5jaWUgc2V1IGV2ZW50bycgfSxcbiAgICAgICAgICAgICdBbnVuY2lhciBFdmVudG8nXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIE1haW5IZWFkZXIpO1xuICAgIH1cbiAgfTtcbn0pO1xuJF9fU3lzdGVtLnJlZ2lzdGVyKCc5ZCcsIFsnOWMnLCAnOWUnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBSZWFjdCwgUHJvcFR5cGVzLCBMYXp5SW1nLCBCYW5uZXJCb3g7XG4gIHJldHVybiB7XG4gICAgc2V0dGVyczogW2Z1bmN0aW9uIChfYykge1xuICAgICAgUmVhY3QgPSBfY1snZGVmYXVsdCddO1xuICAgICAgUHJvcFR5cGVzID0gX2MuUHJvcFR5cGVzO1xuICAgIH0sIGZ1bmN0aW9uIChfZSkge1xuICAgICAgTGF6eUltZyA9IF9lWydkZWZhdWx0J107XG4gICAgfV0sXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgQmFubmVyQm94ID0gZnVuY3Rpb24gQmFubmVyQm94KF9yZWYpIHtcbiAgICAgICAgdmFyIGxpbmsgPSBfcmVmLmxpbms7XG4gICAgICAgIHZhciB0aXRsZSA9IF9yZWYudGl0bGU7XG4gICAgICAgIHZhciBkYXRlID0gX3JlZi5kYXRlO1xuICAgICAgICB2YXIgaW1hZ2UgPSBfcmVmLmltYWdlO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnYScsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdiYW5uZXItYm94JywgaHJlZjogbGluaywgdGl0bGU6IHRpdGxlICsgJyAnICsgZGF0ZSB9LFxuICAgICAgICAgICEhaW1hZ2UgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChMYXp5SW1nLCB7IHNyYzogaW1hZ2UsIGFsdDogdGl0bGUgfSksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdoMicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3RpdGxlJyB9LFxuICAgICAgICAgICAgdGl0bGUgKyAnICcsXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZGF0ZScgfSxcbiAgICAgICAgICAgICAgZGF0ZVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIEJhbm5lckJveC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIGxpbms6ICcjJ1xuICAgICAgfTtcblxuICAgICAgQmFubmVyQm94LnByb3BUeXBlcyA9IHtcbiAgICAgICAgdGl0bGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgZGF0ZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICBsaW5rOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBpbWFnZTogUHJvcFR5cGVzLnN0cmluZ1xuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIEJhbm5lckJveCk7XG4gICAgfVxuICB9O1xufSk7XG4kX19TeXN0ZW0ucmVnaXN0ZXIoJzlmJywgWyc5YycsICc5ZCddLCBmdW5jdGlvbiAoX2V4cG9ydCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIFJlYWN0LCBQcm9wVHlwZXMsIEJhbm5lckJveCwgZ2V0RGF0ZSwgSGVhZGVyQmFubmVyO1xuICByZXR1cm4ge1xuICAgIHNldHRlcnM6IFtmdW5jdGlvbiAoX2MpIHtcbiAgICAgIFJlYWN0ID0gX2NbJ2RlZmF1bHQnXTtcbiAgICAgIFByb3BUeXBlcyA9IF9jLlByb3BUeXBlcztcbiAgICB9LCBmdW5jdGlvbiAoX2QpIHtcbiAgICAgIEJhbm5lckJveCA9IF9kWydkZWZhdWx0J107XG4gICAgfV0sXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZ2V0RGF0ZSA9IGZ1bmN0aW9uIGdldERhdGUoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZS5kYXkgKyAnIC0gJyArIGRhdGUubW9udGg7XG4gICAgICB9O1xuXG4gICAgICBIZWFkZXJCYW5uZXIgPSBmdW5jdGlvbiBIZWFkZXJCYW5uZXIoX3JlZikge1xuICAgICAgICB2YXIgZXZlbnRzID0gX3JlZi5ldmVudHM7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdzZWN0aW9uJyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Jhbm5lcicgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Jhbm5lci1tYWluJyB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCYW5uZXJCb3gsIHtcbiAgICAgICAgICAgICAgbGluazogZXZlbnRzWzBdLmxpbmssXG4gICAgICAgICAgICAgIHRpdGxlOiBldmVudHNbMF0udGl0bGUsXG4gICAgICAgICAgICAgIGRhdGU6IGdldERhdGUoZXZlbnRzWzBdLmRhdGUpLFxuICAgICAgICAgICAgICBpbWFnZTogZXZlbnRzWzBdLmltYWdlIH0pXG4gICAgICAgICAgKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGtleTogMCwgY2xhc3NOYW1lOiAnYmFubmVyLWFzaWRlJyB9LFxuICAgICAgICAgICAgZXZlbnRzLnNsaWNlKDEsIDMpLm1hcChmdW5jdGlvbiAoZXZlbnQsIGluZGV4KSB7XG4gICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJhbm5lckJveCwge1xuICAgICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgICAgbGluazogZXZlbnQubGluayxcbiAgICAgICAgICAgICAgICB0aXRsZTogZXZlbnQudGl0bGUsXG4gICAgICAgICAgICAgICAgZGF0ZTogZ2V0RGF0ZShldmVudC5kYXRlKSB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGtleTogMSwgY2xhc3NOYW1lOiAnYmFubmVyLWFzaWRlJyB9LFxuICAgICAgICAgICAgZXZlbnRzLnNsaWNlKDMpLm1hcChmdW5jdGlvbiAoZXZlbnQsIGluZGV4KSB7XG4gICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJhbm5lckJveCwge1xuICAgICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgICAgbGluazogZXZlbnQubGluayxcbiAgICAgICAgICAgICAgICB0aXRsZTogZXZlbnQudGl0bGUsXG4gICAgICAgICAgICAgICAgZGF0ZTogZ2V0RGF0ZShldmVudC5kYXRlKSB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgSGVhZGVyQmFubmVyLnByb3BUeXBlcyA9IHtcbiAgICAgICAgZXZlbnRzOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZFxuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIEhlYWRlckJhbm5lcik7XG4gICAgfVxuICB9O1xufSk7XG4kX19TeXN0ZW0ucmVnaXN0ZXIoJ2EwJywgWyc5YycsICdhMSddLCBmdW5jdGlvbiAoX2V4cG9ydCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIFJlYWN0LCBQcm9wVHlwZXMsIFN2Z0ljb24sIEZvcm1TZWxlY3Q7XG4gIHJldHVybiB7XG4gICAgc2V0dGVyczogW2Z1bmN0aW9uIChfYykge1xuICAgICAgUmVhY3QgPSBfY1snZGVmYXVsdCddO1xuICAgICAgUHJvcFR5cGVzID0gX2MuUHJvcFR5cGVzO1xuICAgIH0sIGZ1bmN0aW9uIChfYTEpIHtcbiAgICAgIFN2Z0ljb24gPSBfYTFbJ2RlZmF1bHQnXTtcbiAgICB9XSxcbiAgICBleGVjdXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBGb3JtU2VsZWN0ID0gZnVuY3Rpb24gRm9ybVNlbGVjdChfcmVmKSB7XG4gICAgICAgIHZhciBsYWJlbCA9IF9yZWYubGFiZWw7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IF9yZWYuc2VsZWN0ZWQ7XG4gICAgICAgIHZhciBvcHRpb25zID0gX3JlZi5vcHRpb25zO1xuICAgICAgICB2YXIgaWNvbiA9IF9yZWYuaWNvbjtcbiAgICAgICAgdmFyIGhhbmRsZUNoYW5nZSA9IF9yZWYuaGFuZGxlQ2hhbmdlO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZm9ybS1zZWxlY3QnIH0sXG4gICAgICAgICAgISFpY29uICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3ZnSWNvbiwgeyBpZDogaWNvbi5pZCwgbGFiZWw6IGljb24ubGFiZWwgfSksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdsYWJlbCcsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3NyLW9ubHknIH0sXG4gICAgICAgICAgICBsYWJlbFxuICAgICAgICAgICksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdzZWxlY3QnLFxuICAgICAgICAgICAgeyB2YWx1ZTogc2VsZWN0ZWQsIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UgfSxcbiAgICAgICAgICAgIG9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ29wdGlvbicsXG4gICAgICAgICAgICAgICAgeyBrZXk6IG9wdGlvbi50ZXh0LCB2YWx1ZTogb3B0aW9uLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9uLnRleHRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgRm9ybVNlbGVjdC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIGxhYmVsOiAnJyxcbiAgICAgICAgb3B0aW9uczogW11cbiAgICAgIH07XG5cbiAgICAgIEZvcm1TZWxlY3QucHJvcFR5cGVzID0ge1xuICAgICAgICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICBzZWxlY3RlZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICBvcHRpb25zOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCxcbiAgICAgICAgaWNvbjogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICBpbWFnZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZ1xuICAgICAgICB9KVxuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIEZvcm1TZWxlY3QpO1xuICAgIH1cbiAgfTtcbn0pO1xuJF9fU3lzdGVtLnJlZ2lzdGVyKCdhMicsIFsnOWMnLCAnYTEnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBSZWFjdCwgUHJvcFR5cGVzLCBTdmdJY29uLCBGb3JtU2VhcmNoO1xuICByZXR1cm4ge1xuICAgIHNldHRlcnM6IFtmdW5jdGlvbiAoX2MpIHtcbiAgICAgIFJlYWN0ID0gX2NbJ2RlZmF1bHQnXTtcbiAgICAgIFByb3BUeXBlcyA9IF9jLlByb3BUeXBlcztcbiAgICB9LCBmdW5jdGlvbiAoX2ExKSB7XG4gICAgICBTdmdJY29uID0gX2ExWydkZWZhdWx0J107XG4gICAgfV0sXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgRm9ybVNlYXJjaCA9IGZ1bmN0aW9uIEZvcm1TZWFyY2goX3JlZikge1xuICAgICAgICB2YXIgc2VhcmNoRmllbGQgPSBfcmVmLnNlYXJjaEZpZWxkO1xuICAgICAgICB2YXIgaGFuZGxlQ2hhbmdlVGV4dCA9IF9yZWYuaGFuZGxlQ2hhbmdlVGV4dDtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdzZWFyY2gnIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdmb3JtLWNvbnRyb2wnLFxuICAgICAgICAgICAgdHlwZTogJ3NlYXJjaCcsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogJ0J1c3F1ZSBwb3IgcGFsYXZyYXMgY2hhdmVzJyxcbiAgICAgICAgICAgIHZhbHVlOiBzZWFyY2hGaWVsZCxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2VUZXh0IH0pLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnc2VhcmNoLWJ0bicsIHR5cGU6ICdzdWJtaXQnLCByb2xlOiAnYnV0dG9uJyB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTdmdJY29uLCB7IGlkOiAnc2VhcmNoJywgbGFiZWw6ICdTZWFyY2gnIH0pXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgRm9ybVNlYXJjaC5wcm9wVHlwZXMgPSB7XG4gICAgICAgIHNlYXJjaEZpZWxkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgIGhhbmRsZUNoYW5nZVRleHQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbiAgICAgIH07XG5cbiAgICAgIF9leHBvcnQoJ2RlZmF1bHQnLCBGb3JtU2VhcmNoKTtcbiAgICB9XG4gIH07XG59KTtcbiRfX1N5c3RlbS5yZWdpc3RlcignYTMnLCBbJ2E0JywgJzljJywgJ2EwJywgJ2EyJ10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gIHZhciBfZXh0ZW5kcywgUmVhY3QsIFByb3BUeXBlcywgRm9ybVNlbGVjdCwgRm9ybVNlYXJjaCwgSGVhZGVyRmlsdGVyO1xuXG4gIHJldHVybiB7XG4gICAgc2V0dGVyczogW2Z1bmN0aW9uIChfYTQpIHtcbiAgICAgIF9leHRlbmRzID0gX2E0WydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF9jKSB7XG4gICAgICBSZWFjdCA9IF9jWydkZWZhdWx0J107XG4gICAgICBQcm9wVHlwZXMgPSBfYy5Qcm9wVHlwZXM7XG4gICAgfSwgZnVuY3Rpb24gKF9hMCkge1xuICAgICAgRm9ybVNlbGVjdCA9IF9hMFsnZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYTIpIHtcbiAgICAgIEZvcm1TZWFyY2ggPSBfYTJbJ2RlZmF1bHQnXTtcbiAgICB9XSxcbiAgICBleGVjdXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgIEhlYWRlckZpbHRlciA9IGZ1bmN0aW9uIEhlYWRlckZpbHRlcihfcmVmKSB7XG4gICAgICAgIHZhciBtb250aEZpbHRlciA9IF9yZWYubW9udGhGaWx0ZXI7XG4gICAgICAgIHZhciBzdGF0ZUZpbHRlciA9IF9yZWYuc3RhdGVGaWx0ZXI7XG4gICAgICAgIHZhciBzZWFyY2hGaWVsZCA9IF9yZWYuc2VhcmNoRmllbGQ7XG4gICAgICAgIHZhciBoYW5kbGVDaGFuZ2VNb250aCA9IF9yZWYuaGFuZGxlQ2hhbmdlTW9udGg7XG4gICAgICAgIHZhciBoYW5kbGVDaGFuZ2VTdGF0ZSA9IF9yZWYuaGFuZGxlQ2hhbmdlU3RhdGU7XG4gICAgICAgIHZhciBoYW5kbGVDaGFuZ2VUZXh0ID0gX3JlZi5oYW5kbGVDaGFuZ2VUZXh0O1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnbmF2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogJ2ZpbHRlcicgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1TZWxlY3QsIF9leHRlbmRzKHtcbiAgICAgICAgICAgIGtleTogJ21vbnRocydcbiAgICAgICAgICB9LCBtb250aEZpbHRlciwge1xuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlOiBoYW5kbGVDaGFuZ2VNb250aCB9KSksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtU2VsZWN0LCBfZXh0ZW5kcyh7XG4gICAgICAgICAgICBrZXk6ICdzdGF0ZXMnXG4gICAgICAgICAgfSwgc3RhdGVGaWx0ZXIsIHtcbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZTogaGFuZGxlQ2hhbmdlU3RhdGUgfSkpLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybVNlYXJjaCwge1xuICAgICAgICAgICAgc2VhcmNoRmllbGQ6IHNlYXJjaEZpZWxkLFxuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlVGV4dDogaGFuZGxlQ2hhbmdlVGV4dCB9KVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgSGVhZGVyRmlsdGVyLnByb3BUeXBlcyA9IHtcbiAgICAgICAgbW9udGhGaWx0ZXI6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICAgICAgc3RhdGVGaWx0ZXI6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICAgICAgc2VhcmNoRmllbGQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgaGFuZGxlQ2hhbmdlTW9udGg6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICAgIGhhbmRsZUNoYW5nZVN0YXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgICBoYW5kbGVDaGFuZ2VUZXh0OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG4gICAgICB9O1xuXG4gICAgICBfZXhwb3J0KCdkZWZhdWx0JywgSGVhZGVyRmlsdGVyKTtcbiAgICB9XG4gIH07XG59KTtcbiRfX1N5c3RlbS5yZWdpc3RlcignYTUnLCBbJ2E4JywgJ2E5JywgJ2FhJywgJ2FiJywgJzljJywgJ2E3JywgJzlmJywgJ2EzJywgJ2E2J10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gIHZhciBfZ2V0LCBfaW5oZXJpdHMsIF9jcmVhdGVDbGFzcywgX2NsYXNzQ2FsbENoZWNrLCBSZWFjdCwgUHJvcFR5cGVzLCBDb21wb25lbnQsIGNvbm5lY3QsIEhlYWRlckJhbm5lciwgSGVhZGVyRmlsdGVyLCBmZXRjaEV2ZW50cywgY2hvb3NlRmlsdGVyU2VsZWN0LCBmaWx0ZXJCeVRleHQsIEhlYWRlciwgbWFwU3RhdGVUb1Byb3BzO1xuXG4gIHJldHVybiB7XG4gICAgc2V0dGVyczogW2Z1bmN0aW9uIChfYTgpIHtcbiAgICAgIF9nZXQgPSBfYThbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2E5KSB7XG4gICAgICBfaW5oZXJpdHMgPSBfYTlbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2FhKSB7XG4gICAgICBfY3JlYXRlQ2xhc3MgPSBfYWFbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2FiKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sgPSBfYWJbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgIFJlYWN0ID0gX2NbJ2RlZmF1bHQnXTtcbiAgICAgIFByb3BUeXBlcyA9IF9jLlByb3BUeXBlcztcbiAgICAgIENvbXBvbmVudCA9IF9jLkNvbXBvbmVudDtcbiAgICB9LCBmdW5jdGlvbiAoX2E3KSB7XG4gICAgICBjb25uZWN0ID0gX2E3LmNvbm5lY3Q7XG4gICAgfSwgZnVuY3Rpb24gKF9mKSB7XG4gICAgICBIZWFkZXJCYW5uZXIgPSBfZlsnZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYTMpIHtcbiAgICAgIEhlYWRlckZpbHRlciA9IF9hM1snZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYTYpIHtcbiAgICAgIGZldGNoRXZlbnRzID0gX2E2LmZldGNoRXZlbnRzO1xuICAgICAgY2hvb3NlRmlsdGVyU2VsZWN0ID0gX2E2LmNob29zZUZpbHRlclNlbGVjdDtcbiAgICAgIGZpbHRlckJ5VGV4dCA9IF9hNi5maWx0ZXJCeVRleHQ7XG4gICAgfV0sXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICBIZWFkZXIgPSAoZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgICAgX2luaGVyaXRzKEhlYWRlciwgX0NvbXBvbmVudCk7XG5cbiAgICAgICAgZnVuY3Rpb24gSGVhZGVyKCkge1xuICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIZWFkZXIpO1xuXG4gICAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoSGVhZGVyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoSGVhZGVyLCBbe1xuICAgICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGZldGNoRXZlbnRzKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIGtleTogJ2hhbmRsZUNoYW5nZScsXG4gICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShmaWVsZCwgZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWU7XG5cbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goY2hvb3NlRmlsdGVyU2VsZWN0KHsgZmllbGQ6IGZpZWxkLCB2YWx1ZTogdmFsdWUgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIGtleTogJ2hhbmRsZUNoYW5nZVRleHQnLFxuICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2VUZXh0KGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGZpbHRlckJ5VGV4dChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgZXZlbnRzID0gX3Byb3BzLmV2ZW50cztcbiAgICAgICAgICAgIHZhciBtb250aEZpbHRlciA9IF9wcm9wcy5tb250aEZpbHRlcjtcbiAgICAgICAgICAgIHZhciBzdGF0ZUZpbHRlciA9IF9wcm9wcy5zdGF0ZUZpbHRlcjtcbiAgICAgICAgICAgIHZhciBzZWFyY2hGaWVsZCA9IF9wcm9wcy5zZWFyY2hGaWVsZDtcblxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdoZWFkZXInLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3dlbGxuZXNzJyB9LFxuICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdoMScsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0aXRsZScgfSxcbiAgICAgICAgICAgICAgICAnRW5jb250cmUgZXZlbnRvcyBkZSBGcm9udC1FbmQgZW0gdG9kbyBvIEJyYXNpbCdcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChIZWFkZXJCYW5uZXIsIHsgZXZlbnRzOiBldmVudHMgfSksXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGVyRmlsdGVyLCB7XG4gICAgICAgICAgICAgICAgbW9udGhGaWx0ZXI6IG1vbnRoRmlsdGVyLFxuICAgICAgICAgICAgICAgIHN0YXRlRmlsdGVyOiBzdGF0ZUZpbHRlcixcbiAgICAgICAgICAgICAgICBzZWFyY2hGaWVsZDogc2VhcmNoRmllbGQsXG4gICAgICAgICAgICAgICAgaGFuZGxlQ2hhbmdlTW9udGg6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQ2hhbmdlKCdtb250aHMnLCBlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhhbmRsZUNoYW5nZVN0YXRlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUNoYW5nZSgnc3RhdGUnLCBlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhhbmRsZUNoYW5nZVRleHQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQ2hhbmdlVGV4dChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBIZWFkZXI7XG4gICAgICB9KShDb21wb25lbnQpO1xuXG4gICAgICBIZWFkZXIuZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBzZWFyY2hGaWVsZDogJydcbiAgICAgIH07XG5cbiAgICAgIEhlYWRlci5wcm9wVHlwZXMgPSB7XG4gICAgICAgIGV2ZW50czogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXG4gICAgICAgIG1vbnRoRmlsdGVyOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgIHN0YXRlRmlsdGVyOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICAgIHNlYXJjaEZpZWxkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcbiAgICAgIH07XG5cbiAgICAgIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGV2ZW50czogc3RhdGUuZXZlbnRzLmV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKF8sIGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5kZXggPCA1O1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIG1vbnRoRmlsdGVyOiBzdGF0ZS5maWx0ZXIubW9udGhzLFxuICAgICAgICAgIHN0YXRlRmlsdGVyOiBzdGF0ZS5maWx0ZXIuc3RhdGUsXG4gICAgICAgICAgc2VhcmNoRmllbGQ6IHN0YXRlLmZpbHRlci5zZWFyY2hGaWVsZFxuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzKShIZWFkZXIpKTtcbiAgICB9XG4gIH07XG59KTtcbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJhY1wiLCBbXCJhZlwiLCBcImFkXCIsIFwiYWVcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICAgIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuICAgIHZhciBfcmVhY3QgPSAkX19yZXF1aXJlKCdhZicpO1xuICAgIHZhciBfc3RvcmVTaGFwZSA9ICRfX3JlcXVpcmUoJ2FkJyk7XG4gICAgdmFyIF9zdG9yZVNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0b3JlU2hhcGUpO1xuICAgIHZhciBfd2FybmluZyA9ICRfX3JlcXVpcmUoJ2FlJyk7XG4gICAgdmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1wiZGVmYXVsdFwiOiBvYmp9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgICBpZiAoIXNlbGYpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgICAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgICAgIH1cbiAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge2NvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9fSk7XG4gICAgICBpZiAoc3VwZXJDbGFzcylcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gICAgfVxuICAgIHZhciBkaWRXYXJuQWJvdXRSZWNlaXZpbmdTdG9yZSA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIHdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKCkge1xuICAgICAgaWYgKGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gdHJ1ZTtcbiAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSgnPFByb3ZpZGVyPiBkb2VzIG5vdCBzdXBwb3J0IGNoYW5naW5nIGBzdG9yZWAgb24gdGhlIGZseS4gJyArICdJdCBpcyBtb3N0IGxpa2VseSB0aGF0IHlvdSBzZWUgdGhpcyBlcnJvciBiZWNhdXNlIHlvdSB1cGRhdGVkIHRvICcgKyAnUmVkdXggMi54IGFuZCBSZWFjdCBSZWR1eCAyLnggd2hpY2ggbm8gbG9uZ2VyIGhvdCByZWxvYWQgcmVkdWNlcnMgJyArICdhdXRvbWF0aWNhbGx5LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmVhY3QtcmVkdXgvcmVsZWFzZXMvJyArICd0YWcvdjIuMC4wIGZvciB0aGUgbWlncmF0aW9uIGluc3RydWN0aW9ucy4nKTtcbiAgICB9XG4gICAgdmFyIFByb3ZpZGVyID0gZnVuY3Rpb24oX0NvbXBvbmVudCkge1xuICAgICAgX2luaGVyaXRzKFByb3ZpZGVyLCBfQ29tcG9uZW50KTtcbiAgICAgIFByb3ZpZGVyLnByb3RvdHlwZS5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB7c3RvcmU6IHRoaXMuc3RvcmV9O1xuICAgICAgfTtcbiAgICAgIGZ1bmN0aW9uIFByb3ZpZGVyKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm92aWRlcik7XG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuICAgICAgICBfdGhpcy5zdG9yZSA9IHByb3BzLnN0b3JlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG4gICAgICBQcm92aWRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgICAgICByZXR1cm4gX3JlYWN0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBQcm92aWRlcjtcbiAgICB9KF9yZWFjdC5Db21wb25lbnQpO1xuICAgIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUHJvdmlkZXI7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIFByb3ZpZGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24obmV4dFByb3BzKSB7XG4gICAgICAgIHZhciBzdG9yZSA9IHRoaXMuc3RvcmU7XG4gICAgICAgIHZhciBuZXh0U3RvcmUgPSBuZXh0UHJvcHMuc3RvcmU7XG4gICAgICAgIGlmIChzdG9yZSAhPT0gbmV4dFN0b3JlKSB7XG4gICAgICAgICAgd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICAgICAgc3RvcmU6IF9zdG9yZVNoYXBlMltcImRlZmF1bHRcIl0uaXNSZXF1aXJlZCxcbiAgICAgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmVsZW1lbnQuaXNSZXF1aXJlZFxuICAgIH07XG4gICAgUHJvdmlkZXIuY2hpbGRDb250ZXh0VHlwZXMgPSB7c3RvcmU6IF9zdG9yZVNoYXBlMltcImRlZmF1bHRcIl0uaXNSZXF1aXJlZH07XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImIwXCIsIFtcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIG9uZUFyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24oY29weUZpZWxkc0Zyb20pIHtcbiAgICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGNvcHlGaWVsZHNGcm9tKTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBLbGFzcyhjb3B5RmllbGRzRnJvbSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgdHdvQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihhMSwgYTIpIHtcbiAgICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGExLCBhMik7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgS2xhc3MoYTEsIGEyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciB0aHJlZUFyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24oYTEsIGEyLCBhMykge1xuICAgICAgdmFyIEtsYXNzID0gdGhpcztcbiAgICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICAgICAgS2xhc3MuY2FsbChpbnN0YW5jZSwgYTEsIGEyLCBhMyk7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgS2xhc3MoYTEsIGEyLCBhMyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZm91ckFyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24oYTEsIGEyLCBhMywgYTQpIHtcbiAgICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGExLCBhMiwgYTMsIGE0KTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzLCBhNCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZml2ZUFyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24oYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gICAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gS2xhc3MuaW5zdGFuY2VQb29sLnBvcCgpO1xuICAgICAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIsIGEzLCBhNCwgYTUpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IEtsYXNzKGExLCBhMiwgYTMsIGE0LCBhNSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgc3RhbmRhcmRSZWxlYXNlciA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgICAgIShpbnN0YW5jZSBpbnN0YW5jZW9mIEtsYXNzKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdUcnlpbmcgdG8gcmVsZWFzZSBhbiBpbnN0YW5jZSBpbnRvIGEgcG9vbCBvZiBhIGRpZmZlcmVudCB0eXBlLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIGluc3RhbmNlLmRlc3RydWN0b3IoKTtcbiAgICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoIDwgS2xhc3MucG9vbFNpemUpIHtcbiAgICAgICAgS2xhc3MuaW5zdGFuY2VQb29sLnB1c2goaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIERFRkFVTFRfUE9PTF9TSVpFID0gMTA7XG4gICAgdmFyIERFRkFVTFRfUE9PTEVSID0gb25lQXJndW1lbnRQb29sZXI7XG4gICAgdmFyIGFkZFBvb2xpbmdUbyA9IGZ1bmN0aW9uKENvcHlDb25zdHJ1Y3RvciwgcG9vbGVyKSB7XG4gICAgICB2YXIgTmV3S2xhc3MgPSBDb3B5Q29uc3RydWN0b3I7XG4gICAgICBOZXdLbGFzcy5pbnN0YW5jZVBvb2wgPSBbXTtcbiAgICAgIE5ld0tsYXNzLmdldFBvb2xlZCA9IHBvb2xlciB8fCBERUZBVUxUX1BPT0xFUjtcbiAgICAgIGlmICghTmV3S2xhc3MucG9vbFNpemUpIHtcbiAgICAgICAgTmV3S2xhc3MucG9vbFNpemUgPSBERUZBVUxUX1BPT0xfU0laRTtcbiAgICAgIH1cbiAgICAgIE5ld0tsYXNzLnJlbGVhc2UgPSBzdGFuZGFyZFJlbGVhc2VyO1xuICAgICAgcmV0dXJuIE5ld0tsYXNzO1xuICAgIH07XG4gICAgdmFyIFBvb2xlZENsYXNzID0ge1xuICAgICAgYWRkUG9vbGluZ1RvOiBhZGRQb29saW5nVG8sXG4gICAgICBvbmVBcmd1bWVudFBvb2xlcjogb25lQXJndW1lbnRQb29sZXIsXG4gICAgICB0d29Bcmd1bWVudFBvb2xlcjogdHdvQXJndW1lbnRQb29sZXIsXG4gICAgICB0aHJlZUFyZ3VtZW50UG9vbGVyOiB0aHJlZUFyZ3VtZW50UG9vbGVyLFxuICAgICAgZm91ckFyZ3VtZW50UG9vbGVyOiBmb3VyQXJndW1lbnRQb29sZXIsXG4gICAgICBmaXZlQXJndW1lbnRQb29sZXI6IGZpdmVBcmd1bWVudFBvb2xlclxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBQb29sZWRDbGFzcztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYjFcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGZ1bmN0aW9uIGVzY2FwZShrZXkpIHtcbiAgICB2YXIgZXNjYXBlUmVnZXggPSAvWz06XS9nO1xuICAgIHZhciBlc2NhcGVyTG9va3VwID0ge1xuICAgICAgJz0nOiAnPTAnLFxuICAgICAgJzonOiAnPTInXG4gICAgfTtcbiAgICB2YXIgZXNjYXBlZFN0cmluZyA9ICgnJyArIGtleSkucmVwbGFjZShlc2NhcGVSZWdleCwgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHJldHVybiBlc2NhcGVyTG9va3VwW21hdGNoXTtcbiAgICB9KTtcbiAgICByZXR1cm4gJyQnICsgZXNjYXBlZFN0cmluZztcbiAgfVxuICBmdW5jdGlvbiB1bmVzY2FwZShrZXkpIHtcbiAgICB2YXIgdW5lc2NhcGVSZWdleCA9IC8oPTB8PTIpL2c7XG4gICAgdmFyIHVuZXNjYXBlckxvb2t1cCA9IHtcbiAgICAgICc9MCc6ICc9JyxcbiAgICAgICc9Mic6ICc6J1xuICAgIH07XG4gICAgdmFyIGtleVN1YnN0cmluZyA9IGtleVswXSA9PT0gJy4nICYmIGtleVsxXSA9PT0gJyQnID8ga2V5LnN1YnN0cmluZygyKSA6IGtleS5zdWJzdHJpbmcoMSk7XG4gICAgcmV0dXJuICgnJyArIGtleVN1YnN0cmluZykucmVwbGFjZSh1bmVzY2FwZVJlZ2V4LCBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgcmV0dXJuIHVuZXNjYXBlckxvb2t1cFttYXRjaF07XG4gICAgfSk7XG4gIH1cbiAgdmFyIEtleUVzY2FwZVV0aWxzID0ge1xuICAgIGVzY2FwZTogZXNjYXBlLFxuICAgIHVuZXNjYXBlOiB1bmVzY2FwZVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IEtleUVzY2FwZVV0aWxzO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImIyXCIsIFtcImIzXCIsIFwiYjRcIiwgXCJiNVwiLCBcIjMwXCIsIFwiYjFcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdEN1cnJlbnRPd25lciA9ICRfX3JlcXVpcmUoJ2IzJyk7XG4gICAgdmFyIFJlYWN0RWxlbWVudCA9ICRfX3JlcXVpcmUoJ2I0Jyk7XG4gICAgdmFyIGdldEl0ZXJhdG9yRm4gPSAkX19yZXF1aXJlKCdiNScpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBLZXlFc2NhcGVVdGlscyA9ICRfX3JlcXVpcmUoJ2IxJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciBTRVBBUkFUT1IgPSAnLic7XG4gICAgdmFyIFNVQlNFUEFSQVRPUiA9ICc6JztcbiAgICB2YXIgZGlkV2FybkFib3V0TWFwcyA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudEtleShjb21wb25lbnQsIGluZGV4KSB7XG4gICAgICBpZiAoY29tcG9uZW50ICYmIHR5cGVvZiBjb21wb25lbnQgPT09ICdvYmplY3QnICYmIGNvbXBvbmVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gS2V5RXNjYXBlVXRpbHMuZXNjYXBlKGNvbXBvbmVudC5rZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluZGV4LnRvU3RyaW5nKDM2KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGRyZW4sIG5hbWVTb0ZhciwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgY2hpbGRyZW47XG4gICAgICBpZiAodHlwZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChjaGlsZHJlbiA9PT0gbnVsbCB8fCB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnbnVtYmVyJyB8fCBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7XG4gICAgICAgIGNhbGxiYWNrKHRyYXZlcnNlQ29udGV4dCwgY2hpbGRyZW4sIG5hbWVTb0ZhciA9PT0gJycgPyBTRVBBUkFUT1IgKyBnZXRDb21wb25lbnRLZXkoY2hpbGRyZW4sIDApIDogbmFtZVNvRmFyKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICB2YXIgbmV4dE5hbWU7XG4gICAgICB2YXIgc3VidHJlZUNvdW50ID0gMDtcbiAgICAgIHZhciBuZXh0TmFtZVByZWZpeCA9IG5hbWVTb0ZhciA9PT0gJycgPyBTRVBBUkFUT1IgOiBuYW1lU29GYXIgKyBTVUJTRVBBUkFUT1I7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgbmV4dE5hbWUgPSBuZXh0TmFtZVByZWZpeCArIGdldENvbXBvbmVudEtleShjaGlsZCwgaSk7XG4gICAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihjaGlsZHJlbik7XG4gICAgICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKGNoaWxkcmVuKTtcbiAgICAgICAgICB2YXIgc3RlcDtcbiAgICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gY2hpbGRyZW4uZW50cmllcykge1xuICAgICAgICAgICAgdmFyIGlpID0gMDtcbiAgICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgY2hpbGQgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpaSsrKTtcbiAgICAgICAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGRpZFdhcm5BYm91dE1hcHMsICdVc2luZyBNYXBzIGFzIGNoaWxkcmVuIGlzIG5vdCB5ZXQgZnVsbHkgc3VwcG9ydGVkLiBJdCBpcyBhbiAnICsgJ2V4cGVyaW1lbnRhbCBmZWF0dXJlIHRoYXQgbWlnaHQgYmUgcmVtb3ZlZC4gQ29udmVydCBpdCB0byBhICcgKyAnc2VxdWVuY2UgLyBpdGVyYWJsZSBvZiBrZXllZCBSZWFjdEVsZW1lbnRzIGluc3RlYWQuJykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIGRpZFdhcm5BYm91dE1hcHMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICBjaGlsZCA9IGVudHJ5WzFdO1xuICAgICAgICAgICAgICAgIG5leHROYW1lID0gbmV4dE5hbWVQcmVmaXggKyBLZXlFc2NhcGVVdGlscy5lc2NhcGUoZW50cnlbMF0pICsgU1VCU0VQQVJBVE9SICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCAwKTtcbiAgICAgICAgICAgICAgICBzdWJ0cmVlQ291bnQgKz0gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGQsIG5leHROYW1lLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHZhciBhZGRlbmR1bSA9ICcnO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBhZGRlbmR1bSA9ICcgSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4sIHVzZSBhbiBhcnJheSAnICsgJ2luc3RlYWQgb3Igd3JhcCB0aGUgb2JqZWN0IHVzaW5nIGNyZWF0ZUZyYWdtZW50KG9iamVjdCkgZnJvbSB0aGUgJyArICdSZWFjdCBhZGQtb25zLic7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4uX2lzUmVhY3RFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGFkZGVuZHVtID0gJyBJdCBsb29rcyBsaWtlIHlvdVxcJ3JlIHVzaW5nIGFuIGVsZW1lbnQgY3JlYXRlZCBieSBhIGRpZmZlcmVudCAnICsgJ3ZlcnNpb24gb2YgUmVhY3QuIE1ha2Ugc3VyZSB0byB1c2Ugb25seSBvbmUgY29weSBvZiBSZWFjdC4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgdmFyIG5hbWUgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LmdldE5hbWUoKTtcbiAgICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBhZGRlbmR1bSArPSAnIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGNoaWxkcmVuU3RyaW5nID0gU3RyaW5nKGNoaWxkcmVuKTtcbiAgICAgICAgICAhZmFsc2UgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnT2JqZWN0cyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQgKGZvdW5kOiAlcykuJXMnLCBjaGlsZHJlblN0cmluZyA9PT0gJ1tvYmplY3QgT2JqZWN0XScgPyAnb2JqZWN0IHdpdGgga2V5cyB7JyArIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5qb2luKCcsICcpICsgJ30nIDogY2hpbGRyZW5TdHJpbmcsIGFkZGVuZHVtKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdWJ0cmVlQ291bnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpIHtcbiAgICAgIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkcmVuLCAnJywgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gdHJhdmVyc2VBbGxDaGlsZHJlbjtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYjZcIiwgW1wiYjBcIiwgXCJiNFwiLCBcIjQ4XCIsIFwiYjJcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBQb29sZWRDbGFzcyA9ICRfX3JlcXVpcmUoJ2IwJyk7XG4gIHZhciBSZWFjdEVsZW1lbnQgPSAkX19yZXF1aXJlKCdiNCcpO1xuICB2YXIgZW1wdHlGdW5jdGlvbiA9ICRfX3JlcXVpcmUoJzQ4Jyk7XG4gIHZhciB0cmF2ZXJzZUFsbENoaWxkcmVuID0gJF9fcmVxdWlyZSgnYjInKTtcbiAgdmFyIHR3b0FyZ3VtZW50UG9vbGVyID0gUG9vbGVkQ2xhc3MudHdvQXJndW1lbnRQb29sZXI7XG4gIHZhciBmb3VyQXJndW1lbnRQb29sZXIgPSBQb29sZWRDbGFzcy5mb3VyQXJndW1lbnRQb29sZXI7XG4gIHZhciB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCA9IC9cXC8rL2c7XG4gIGZ1bmN0aW9uIGVzY2FwZVVzZXJQcm92aWRlZEtleSh0ZXh0KSB7XG4gICAgcmV0dXJuICgnJyArIHRleHQpLnJlcGxhY2UodXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsICckJi8nKTtcbiAgfVxuICBmdW5jdGlvbiBGb3JFYWNoQm9va0tlZXBpbmcoZm9yRWFjaEZ1bmN0aW9uLCBmb3JFYWNoQ29udGV4dCkge1xuICAgIHRoaXMuZnVuYyA9IGZvckVhY2hGdW5jdGlvbjtcbiAgICB0aGlzLmNvbnRleHQgPSBmb3JFYWNoQ29udGV4dDtcbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgfVxuICBGb3JFYWNoQm9va0tlZXBpbmcucHJvdG90eXBlLmRlc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmZ1bmMgPSBudWxsO1xuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gIH07XG4gIFBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhGb3JFYWNoQm9va0tlZXBpbmcsIHR3b0FyZ3VtZW50UG9vbGVyKTtcbiAgZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkKGJvb2tLZWVwaW5nLCBjaGlsZCwgbmFtZSkge1xuICAgIHZhciBmdW5jID0gYm9va0tlZXBpbmcuZnVuYztcbiAgICB2YXIgY29udGV4dCA9IGJvb2tLZWVwaW5nLmNvbnRleHQ7XG4gICAgZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBib29rS2VlcGluZy5jb3VudCsrKTtcbiAgfVxuICBmdW5jdGlvbiBmb3JFYWNoQ2hpbGRyZW4oY2hpbGRyZW4sIGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCkge1xuICAgIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIHZhciB0cmF2ZXJzZUNvbnRleHQgPSBGb3JFYWNoQm9va0tlZXBpbmcuZ2V0UG9vbGVkKGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCk7XG4gICAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaFNpbmdsZUNoaWxkLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgIEZvckVhY2hCb29rS2VlcGluZy5yZWxlYXNlKHRyYXZlcnNlQ29udGV4dCk7XG4gIH1cbiAgZnVuY3Rpb24gTWFwQm9va0tlZXBpbmcobWFwUmVzdWx0LCBrZXlQcmVmaXgsIG1hcEZ1bmN0aW9uLCBtYXBDb250ZXh0KSB7XG4gICAgdGhpcy5yZXN1bHQgPSBtYXBSZXN1bHQ7XG4gICAgdGhpcy5rZXlQcmVmaXggPSBrZXlQcmVmaXg7XG4gICAgdGhpcy5mdW5jID0gbWFwRnVuY3Rpb247XG4gICAgdGhpcy5jb250ZXh0ID0gbWFwQ29udGV4dDtcbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgfVxuICBNYXBCb29rS2VlcGluZy5wcm90b3R5cGUuZGVzdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVzdWx0ID0gbnVsbDtcbiAgICB0aGlzLmtleVByZWZpeCA9IG51bGw7XG4gICAgdGhpcy5mdW5jID0gbnVsbDtcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgIHRoaXMuY291bnQgPSAwO1xuICB9O1xuICBQb29sZWRDbGFzcy5hZGRQb29saW5nVG8oTWFwQm9va0tlZXBpbmcsIGZvdXJBcmd1bWVudFBvb2xlcik7XG4gIGZ1bmN0aW9uIG1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQoYm9va0tlZXBpbmcsIGNoaWxkLCBjaGlsZEtleSkge1xuICAgIHZhciByZXN1bHQgPSBib29rS2VlcGluZy5yZXN1bHQ7XG4gICAgdmFyIGtleVByZWZpeCA9IGJvb2tLZWVwaW5nLmtleVByZWZpeDtcbiAgICB2YXIgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmM7XG4gICAgdmFyIGNvbnRleHQgPSBib29rS2VlcGluZy5jb250ZXh0O1xuICAgIHZhciBtYXBwZWRDaGlsZCA9IGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgYm9va0tlZXBpbmcuY291bnQrKyk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWFwcGVkQ2hpbGQpKSB7XG4gICAgICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKG1hcHBlZENoaWxkLCByZXN1bHQsIGNoaWxkS2V5LCBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQpO1xuICAgIH0gZWxzZSBpZiAobWFwcGVkQ2hpbGQgIT0gbnVsbCkge1xuICAgICAgaWYgKFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChtYXBwZWRDaGlsZCkpIHtcbiAgICAgICAgbWFwcGVkQ2hpbGQgPSBSZWFjdEVsZW1lbnQuY2xvbmVBbmRSZXBsYWNlS2V5KG1hcHBlZENoaWxkLCBrZXlQcmVmaXggKyAobWFwcGVkQ2hpbGQua2V5ICYmICghY2hpbGQgfHwgY2hpbGQua2V5ICE9PSBtYXBwZWRDaGlsZC5rZXkpID8gZXNjYXBlVXNlclByb3ZpZGVkS2V5KG1hcHBlZENoaWxkLmtleSkgKyAnLycgOiAnJykgKyBjaGlsZEtleSk7XG4gICAgICB9XG4gICAgICByZXN1bHQucHVzaChtYXBwZWRDaGlsZCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwoY2hpbGRyZW4sIGFycmF5LCBwcmVmaXgsIGZ1bmMsIGNvbnRleHQpIHtcbiAgICB2YXIgZXNjYXBlZFByZWZpeCA9ICcnO1xuICAgIGlmIChwcmVmaXggIT0gbnVsbCkge1xuICAgICAgZXNjYXBlZFByZWZpeCA9IGVzY2FwZVVzZXJQcm92aWRlZEtleShwcmVmaXgpICsgJy8nO1xuICAgIH1cbiAgICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gTWFwQm9va0tlZXBpbmcuZ2V0UG9vbGVkKGFycmF5LCBlc2NhcGVkUHJlZml4LCBmdW5jLCBjb250ZXh0KTtcbiAgICB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBtYXBTaW5nbGVDaGlsZEludG9Db250ZXh0LCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgIE1hcEJvb2tLZWVwaW5nLnJlbGVhc2UodHJhdmVyc2VDb250ZXh0KTtcbiAgfVxuICBmdW5jdGlvbiBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuYywgY29udGV4dCkge1xuICAgIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCByZXN1bHQsIG51bGwsIGZ1bmMsIGNvbnRleHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkRHVtbXkodHJhdmVyc2VDb250ZXh0LCBjaGlsZCwgbmFtZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIGNvdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaFNpbmdsZUNoaWxkRHVtbXksIG51bGwpO1xuICB9XG4gIGZ1bmN0aW9uIHRvQXJyYXkoY2hpbGRyZW4pIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbChjaGlsZHJlbiwgcmVzdWx0LCBudWxsLCBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgdmFyIFJlYWN0Q2hpbGRyZW4gPSB7XG4gICAgZm9yRWFjaDogZm9yRWFjaENoaWxkcmVuLFxuICAgIG1hcDogbWFwQ2hpbGRyZW4sXG4gICAgbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbDogbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbCxcbiAgICBjb3VudDogY291bnRDaGlsZHJlbixcbiAgICB0b0FycmF5OiB0b0FycmF5XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDaGlsZHJlbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJiN1wiLCBbXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHByb2Nlc3NpbmdDaGlsZENvbnRleHQgPSBmYWxzZTtcbiAgICAgIHZhciB3YXJuSW52YWxpZFNldFN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFwcm9jZXNzaW5nQ2hpbGRDb250ZXh0LCAnc2V0U3RhdGUoLi4uKTogQ2Fubm90IGNhbGwgc2V0U3RhdGUoKSBpbnNpZGUgZ2V0Q2hpbGRDb250ZXh0KCknKSA6IHZvaWQgMDtcbiAgICAgIH07XG4gICAgfVxuICAgIHZhciBSZWFjdEludmFsaWRTZXRTdGF0ZVdhcm5pbmdEZXZUb29sID0ge1xuICAgICAgb25CZWdpblByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBwcm9jZXNzaW5nQ2hpbGRDb250ZXh0ID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBvbkVuZFByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBwcm9jZXNzaW5nQ2hpbGRDb250ZXh0ID0gZmFsc2U7XG4gICAgICB9LFxuICAgICAgb25TZXRTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHdhcm5JbnZhbGlkU2V0U3RhdGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RJbnZhbGlkU2V0U3RhdGVXYXJuaW5nRGV2VG9vbDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYjhcIiwgW1wiYjdcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdEludmFsaWRTZXRTdGF0ZVdhcm5pbmdEZXZUb29sID0gJF9fcmVxdWlyZSgnYjcnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIGV2ZW50SGFuZGxlcnMgPSBbXTtcbiAgICB2YXIgaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50ID0ge307XG4gICAgZnVuY3Rpb24gZW1pdEV2ZW50KGhhbmRsZXJGdW5jdGlvbk5hbWUsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGV2ZW50SGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyW2hhbmRsZXJGdW5jdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICAgIGhhbmRsZXJbaGFuZGxlckZ1bmN0aW9uTmFtZV0oYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWhhbmRsZXJEb2VzVGhyb3dGb3JFdmVudFtoYW5kbGVyRnVuY3Rpb25OYW1lXSwgJ2V4Y2VwdGlvbiB0aHJvd24gYnkgZGV2dG9vbCB3aGlsZSBoYW5kbGluZyAlczogJXMnLCBoYW5kbGVyRnVuY3Rpb25OYW1lLCBlLm1lc3NhZ2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50W2hhbmRsZXJGdW5jdGlvbk5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgUmVhY3REZWJ1Z1Rvb2wgPSB7XG4gICAgICBhZGREZXZ0b29sOiBmdW5jdGlvbihkZXZ0b29sKSB7XG4gICAgICAgIGV2ZW50SGFuZGxlcnMucHVzaChkZXZ0b29sKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVEZXZ0b29sOiBmdW5jdGlvbihkZXZ0b29sKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChldmVudEhhbmRsZXJzW2ldID09PSBkZXZ0b29sKSB7XG4gICAgICAgICAgICBldmVudEhhbmRsZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbkJlZ2luUHJvY2Vzc2luZ0NoaWxkQ29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGVtaXRFdmVudCgnb25CZWdpblByb2Nlc3NpbmdDaGlsZENvbnRleHQnKTtcbiAgICAgIH0sXG4gICAgICBvbkVuZFByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uRW5kUHJvY2Vzc2luZ0NoaWxkQ29udGV4dCcpO1xuICAgICAgfSxcbiAgICAgIG9uU2V0U3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uU2V0U3RhdGUnKTtcbiAgICAgIH0sXG4gICAgICBvbk1vdW50Um9vdENvbXBvbmVudDogZnVuY3Rpb24oaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uTW91bnRSb290Q29tcG9uZW50JywgaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgICB9LFxuICAgICAgb25Nb3VudENvbXBvbmVudDogZnVuY3Rpb24oaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uTW91bnRDb21wb25lbnQnLCBpbnRlcm5hbEluc3RhbmNlKTtcbiAgICAgIH0sXG4gICAgICBvblVwZGF0ZUNvbXBvbmVudDogZnVuY3Rpb24oaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uVXBkYXRlQ29tcG9uZW50JywgaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgICB9LFxuICAgICAgb25Vbm1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICAgIGVtaXRFdmVudCgnb25Vbm1vdW50Q29tcG9uZW50JywgaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBSZWFjdERlYnVnVG9vbC5hZGREZXZ0b29sKFJlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2wpO1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3REZWJ1Z1Rvb2w7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImI5XCIsIFtcImI4XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgUmVhY3REZWJ1Z1Rvb2wgPSAkX19yZXF1aXJlKCdiOCcpO1xuICBtb2R1bGUuZXhwb3J0cyA9IHtkZWJ1Z1Rvb2w6IFJlYWN0RGVidWdUb29sfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJiYVwiLCBbXCJiYlwiLCBcImI5XCIsIFwiYmNcIiwgXCI5NFwiLCBcIjMwXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSAkX19yZXF1aXJlKCdiYicpO1xuICAgIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9ICRfX3JlcXVpcmUoJ2I5Jyk7XG4gICAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gJF9fcmVxdWlyZSgnYmMnKTtcbiAgICB2YXIgZW1wdHlPYmplY3QgPSAkX19yZXF1aXJlKCc5NCcpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICBmdW5jdGlvbiBSZWFjdENvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgICAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbiAgICB9XG4gICAgUmVhY3RDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB7fTtcbiAgICBSZWFjdENvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbihwYXJ0aWFsU3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICAhKHR5cGVvZiBwYXJ0aWFsU3RhdGUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBwYXJ0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgfHwgcGFydGlhbFN0YXRlID09IG51bGwpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3NldFN0YXRlKC4uLik6IHRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgJyArICdmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uU2V0U3RhdGUoKTtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcocGFydGlhbFN0YXRlICE9IG51bGwsICdzZXRTdGF0ZSguLi4pOiBZb3UgcGFzc2VkIGFuIHVuZGVmaW5lZCBvciBudWxsIHN0YXRlIG9iamVjdDsgJyArICdpbnN0ZWFkLCB1c2UgZm9yY2VVcGRhdGUoKS4nKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlU2V0U3RhdGUodGhpcywgcGFydGlhbFN0YXRlKTtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrLCAnc2V0U3RhdGUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0Q29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMpO1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlQ2FsbGJhY2sodGhpcywgY2FsbGJhY2ssICdmb3JjZVVwZGF0ZScpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBkZXByZWNhdGVkQVBJcyA9IHtcbiAgICAgICAgaXNNb3VudGVkOiBbJ2lzTW91bnRlZCcsICdJbnN0ZWFkLCBtYWtlIHN1cmUgdG8gY2xlYW4gdXAgc3Vic2NyaXB0aW9ucyBhbmQgcGVuZGluZyByZXF1ZXN0cyBpbiAnICsgJ2NvbXBvbmVudFdpbGxVbm1vdW50IHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzLiddLFxuICAgICAgICByZXBsYWNlU3RhdGU6IFsncmVwbGFjZVN0YXRlJywgJ1JlZmFjdG9yIHlvdXIgY29kZSB0byB1c2Ugc2V0U3RhdGUgaW5zdGVhZCAoc2VlICcgKyAnaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zMjM2KS4nXVxuICAgICAgfTtcbiAgICAgIHZhciBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcgPSBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmZvKSB7XG4gICAgICAgIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFjdENvbXBvbmVudC5wcm90b3R5cGUsIG1ldGhvZE5hbWUsIHtnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzKC4uLikgaXMgZGVwcmVjYXRlZCBpbiBwbGFpbiBKYXZhU2NyaXB0IFJlYWN0IGNsYXNzZXMuICVzJywgaW5mb1swXSwgaW5mb1sxXSkgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9fSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBmb3IgKHZhciBmbk5hbWUgaW4gZGVwcmVjYXRlZEFQSXMpIHtcbiAgICAgICAgaWYgKGRlcHJlY2F0ZWRBUElzLmhhc093blByb3BlcnR5KGZuTmFtZSkpIHtcbiAgICAgICAgICBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcoZm5OYW1lLCBkZXByZWNhdGVkQVBJc1tmbk5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q29tcG9uZW50O1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJiYlwiLCBbXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICBmdW5jdGlvbiB3YXJuVERaKHB1YmxpY0luc3RhbmNlLCBjYWxsZXJOYW1lKSB7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzKC4uLik6IENhbiBvbmx5IHVwZGF0ZSBhIG1vdW50ZWQgb3IgbW91bnRpbmcgY29tcG9uZW50LiAnICsgJ1RoaXMgdXN1YWxseSBtZWFucyB5b3UgY2FsbGVkICVzKCkgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4gJyArICdUaGlzIGlzIGEgbm8tb3AuIFBsZWFzZSBjaGVjayB0aGUgY29kZSBmb3IgdGhlICVzIGNvbXBvbmVudC4nLCBjYWxsZXJOYW1lLCBjYWxsZXJOYW1lLCBwdWJsaWNJbnN0YW5jZS5jb25zdHJ1Y3RvciAmJiBwdWJsaWNJbnN0YW5jZS5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCAnJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBSZWFjdE5vb3BVcGRhdGVRdWV1ZSA9IHtcbiAgICAgIGlzTW91bnRlZDogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSxcbiAgICAgIGVucXVldWVDYWxsYmFjazogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIGNhbGxiYWNrKSB7fSxcbiAgICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgd2FyblREWihwdWJsaWNJbnN0YW5jZSwgJ2ZvcmNlVXBkYXRlJyk7XG4gICAgICB9LFxuICAgICAgZW5xdWV1ZVJlcGxhY2VTdGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIGNvbXBsZXRlU3RhdGUpIHtcbiAgICAgICAgd2FyblREWihwdWJsaWNJbnN0YW5jZSwgJ3JlcGxhY2VTdGF0ZScpO1xuICAgICAgfSxcbiAgICAgIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSkge1xuICAgICAgICB3YXJuVERaKHB1YmxpY0luc3RhbmNlLCAnc2V0U3RhdGUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImJkXCIsIFtcIjZcIiwgXCJiYVwiLCBcImI0XCIsIFwiYmVcIiwgXCJiZlwiLCBcImJiXCIsIFwiOTRcIiwgXCIzMFwiLCBcIjU4XCIsIFwiZVwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIFJlYWN0Q29tcG9uZW50ID0gJF9fcmVxdWlyZSgnYmEnKTtcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gJF9fcmVxdWlyZSgnYjQnKTtcbiAgICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucyA9ICRfX3JlcXVpcmUoJ2JlJyk7XG4gICAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0gJF9fcmVxdWlyZSgnYmYnKTtcbiAgICB2YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSAkX19yZXF1aXJlKCdiYicpO1xuICAgIHZhciBlbXB0eU9iamVjdCA9ICRfX3JlcXVpcmUoJzk0Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIGtleU1pcnJvciA9ICRfX3JlcXVpcmUoJzU4Jyk7XG4gICAgdmFyIGtleU9mID0gJF9fcmVxdWlyZSgnZScpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgTUlYSU5TX0tFWSA9IGtleU9mKHttaXhpbnM6IG51bGx9KTtcbiAgICB2YXIgU3BlY1BvbGljeSA9IGtleU1pcnJvcih7XG4gICAgICBERUZJTkVfT05DRTogbnVsbCxcbiAgICAgIERFRklORV9NQU5ZOiBudWxsLFxuICAgICAgT1ZFUlJJREVfQkFTRTogbnVsbCxcbiAgICAgIERFRklORV9NQU5ZX01FUkdFRDogbnVsbFxuICAgIH0pO1xuICAgIHZhciBpbmplY3RlZE1peGlucyA9IFtdO1xuICAgIHZhciBSZWFjdENsYXNzSW50ZXJmYWNlID0ge1xuICAgICAgbWl4aW5zOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgc3RhdGljczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIHByb3BUeXBlczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIGNvbnRleHRUeXBlczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIGNoaWxkQ29udGV4dFR5cGVzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgZ2V0RGVmYXVsdFByb3BzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCxcbiAgICAgIGdldEluaXRpYWxTdGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQsXG4gICAgICBnZXRDaGlsZENvbnRleHQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VELFxuICAgICAgcmVuZGVyOiBTcGVjUG9saWN5LkRFRklORV9PTkNFLFxuICAgICAgY29tcG9uZW50V2lsbE1vdW50OiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgY29tcG9uZW50RGlkTW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlOiBTcGVjUG9saWN5LkRFRklORV9PTkNFLFxuICAgICAgY29tcG9uZW50V2lsbFVwZGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIGNvbXBvbmVudERpZFVwZGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgdXBkYXRlQ29tcG9uZW50OiBTcGVjUG9saWN5Lk9WRVJSSURFX0JBU0VcbiAgICB9O1xuICAgIHZhciBSRVNFUlZFRF9TUEVDX0tFWVMgPSB7XG4gICAgICBkaXNwbGF5TmFtZTogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGRpc3BsYXlOYW1lKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG4gICAgICB9LFxuICAgICAgbWl4aW5zOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgbWl4aW5zKSB7XG4gICAgICAgIGlmIChtaXhpbnMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIG1peGluc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2hpbGRDb250ZXh0VHlwZXM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBjaGlsZENvbnRleHRUeXBlcykge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgY2hpbGRDb250ZXh0VHlwZXMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY2hpbGRDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBDb25zdHJ1Y3Rvci5jaGlsZENvbnRleHRUeXBlcyA9IF9hc3NpZ24oe30sIENvbnN0cnVjdG9yLmNoaWxkQ29udGV4dFR5cGVzLCBjaGlsZENvbnRleHRUeXBlcyk7XG4gICAgICB9LFxuICAgICAgY29udGV4dFR5cGVzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgY29udGV4dFR5cGVzKSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCBjb250ZXh0VHlwZXMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgQ29uc3RydWN0b3IuY29udGV4dFR5cGVzID0gX2Fzc2lnbih7fSwgQ29uc3RydWN0b3IuY29udGV4dFR5cGVzLCBjb250ZXh0VHlwZXMpO1xuICAgICAgfSxcbiAgICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGdldERlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAoQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzID0gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24oQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLCBnZXREZWZhdWx0UHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcyA9IGdldERlZmF1bHRQcm9wcztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb3BUeXBlczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIHByb3BUeXBlcykge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgcHJvcFR5cGVzLCBSZWFjdFByb3BUeXBlTG9jYXRpb25zLnByb3ApO1xuICAgICAgICB9XG4gICAgICAgIENvbnN0cnVjdG9yLnByb3BUeXBlcyA9IF9hc3NpZ24oe30sIENvbnN0cnVjdG9yLnByb3BUeXBlcywgcHJvcFR5cGVzKTtcbiAgICAgIH0sXG4gICAgICBzdGF0aWNzOiBmdW5jdGlvbihDb25zdHJ1Y3Rvciwgc3RhdGljcykge1xuICAgICAgICBtaXhTdGF0aWNTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3RhdGljcyk7XG4gICAgICB9LFxuICAgICAgYXV0b2JpbmQ6IGZ1bmN0aW9uKCkge31cbiAgICB9O1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgdHlwZURlZiwgbG9jYXRpb24pIHtcbiAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIHR5cGVEZWYpIHtcbiAgICAgICAgaWYgKHR5cGVEZWYuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodHlwZW9mIHR5cGVEZWZbcHJvcE5hbWVdID09PSAnZnVuY3Rpb24nLCAnJXM6ICVzIHR5cGUgYCVzYCBpcyBpbnZhbGlkOyBpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSAnICsgJ1JlYWN0LlByb3BUeXBlcy4nLCBDb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCAnUmVhY3RDbGFzcycsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXSwgcHJvcE5hbWUpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlTWV0aG9kT3ZlcnJpZGUoaXNBbHJlYWR5RGVmaW5lZCwgbmFtZSkge1xuICAgICAgdmFyIHNwZWNQb2xpY3kgPSBSZWFjdENsYXNzSW50ZXJmYWNlLmhhc093blByb3BlcnR5KG5hbWUpID8gUmVhY3RDbGFzc0ludGVyZmFjZVtuYW1lXSA6IG51bGw7XG4gICAgICBpZiAoUmVhY3RDbGFzc01peGluLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICEoc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5PVkVSUklERV9CQVNFKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzSW50ZXJmYWNlOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gb3ZlcnJpZGUgJyArICdgJXNgIGZyb20geW91ciBjbGFzcyBzcGVjaWZpY2F0aW9uLiBFbnN1cmUgdGhhdCB5b3VyIG1ldGhvZCBuYW1lcyAnICsgJ2RvIG5vdCBvdmVybGFwIHdpdGggUmVhY3QgbWV0aG9kcy4nLCBuYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBpZiAoaXNBbHJlYWR5RGVmaW5lZCkge1xuICAgICAgICAhKHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTlkgfHwgc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3NJbnRlcmZhY2U6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBkZWZpbmUgJyArICdgJXNgIG9uIHlvdXIgY29tcG9uZW50IG1vcmUgdGhhbiBvbmNlLiBUaGlzIGNvbmZsaWN0IG1heSBiZSBkdWUgJyArICd0byBhIG1peGluLicsIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHNwZWMpIHtcbiAgICAgIGlmICghc3BlYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAhKHR5cGVvZiBzcGVjICE9PSAnZnVuY3Rpb24nKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3VcXCdyZSBhdHRlbXB0aW5nIHRvICcgKyAndXNlIGEgY29tcG9uZW50IGNsYXNzIG9yIGZ1bmN0aW9uIGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgJyArICdyZWd1bGFyIG9iamVjdC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAhIVJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChzcGVjKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3VcXCdyZSBhdHRlbXB0aW5nIHRvICcgKyAndXNlIGEgY29tcG9uZW50IGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgcmVndWxhciBvYmplY3QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIHByb3RvID0gQ29uc3RydWN0b3IucHJvdG90eXBlO1xuICAgICAgdmFyIGF1dG9CaW5kUGFpcnMgPSBwcm90by5fX3JlYWN0QXV0b0JpbmRQYWlycztcbiAgICAgIGlmIChzcGVjLmhhc093blByb3BlcnR5KE1JWElOU19LRVkpKSB7XG4gICAgICAgIFJFU0VSVkVEX1NQRUNfS0VZUy5taXhpbnMoQ29uc3RydWN0b3IsIHNwZWMubWl4aW5zKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIG5hbWUgaW4gc3BlYykge1xuICAgICAgICBpZiAoIXNwZWMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSA9PT0gTUlYSU5TX0tFWSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHNwZWNbbmFtZV07XG4gICAgICAgIHZhciBpc0FscmVhZHlEZWZpbmVkID0gcHJvdG8uaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgICAgIHZhbGlkYXRlTWV0aG9kT3ZlcnJpZGUoaXNBbHJlYWR5RGVmaW5lZCwgbmFtZSk7XG4gICAgICAgIGlmIChSRVNFUlZFRF9TUEVDX0tFWVMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICBSRVNFUlZFRF9TUEVDX0tFWVNbbmFtZV0oQ29uc3RydWN0b3IsIHByb3BlcnR5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaXNSZWFjdENsYXNzTWV0aG9kID0gUmVhY3RDbGFzc0ludGVyZmFjZS5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgICAgICAgICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgICB2YXIgc2hvdWxkQXV0b0JpbmQgPSBpc0Z1bmN0aW9uICYmICFpc1JlYWN0Q2xhc3NNZXRob2QgJiYgIWlzQWxyZWFkeURlZmluZWQgJiYgc3BlYy5hdXRvYmluZCAhPT0gZmFsc2U7XG4gICAgICAgICAgaWYgKHNob3VsZEF1dG9CaW5kKSB7XG4gICAgICAgICAgICBhdXRvQmluZFBhaXJzLnB1c2gobmFtZSwgcHJvcGVydHkpO1xuICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzQWxyZWFkeURlZmluZWQpIHtcbiAgICAgICAgICAgICAgdmFyIHNwZWNQb2xpY3kgPSBSZWFjdENsYXNzSW50ZXJmYWNlW25hbWVdO1xuICAgICAgICAgICAgICAhKGlzUmVhY3RDbGFzc01ldGhvZCAmJiAoc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQgfHwgc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWSkpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3M6IFVuZXhwZWN0ZWQgc3BlYyBwb2xpY3kgJXMgZm9yIGtleSAlcyAnICsgJ3doZW4gbWl4aW5nIGluIGNvbXBvbmVudCBzcGVjcy4nLCBzcGVjUG9saWN5LCBuYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIGlmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCkge1xuICAgICAgICAgICAgICAgIHByb3RvW25hbWVdID0gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24ocHJvdG9bbmFtZV0sIHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZKSB7XG4gICAgICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBjcmVhdGVDaGFpbmVkRnVuY3Rpb24ocHJvdG9bbmFtZV0sIHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSAnZnVuY3Rpb24nICYmIHNwZWMuZGlzcGxheU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgIHByb3RvW25hbWVdLmRpc3BsYXlOYW1lID0gc3BlYy5kaXNwbGF5TmFtZSArICdfJyArIG5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1peFN0YXRpY1NwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzdGF0aWNzKSB7XG4gICAgICBpZiAoIXN0YXRpY3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgbmFtZSBpbiBzdGF0aWNzKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHN0YXRpY3NbbmFtZV07XG4gICAgICAgIGlmICghc3RhdGljcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc1Jlc2VydmVkID0gbmFtZSBpbiBSRVNFUlZFRF9TUEVDX0tFWVM7XG4gICAgICAgICEhaXNSZXNlcnZlZCA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gZGVmaW5lIGEgcmVzZXJ2ZWQgJyArICdwcm9wZXJ0eSwgYCVzYCwgdGhhdCBzaG91bGRuXFwndCBiZSBvbiB0aGUgXCJzdGF0aWNzXCIga2V5LiBEZWZpbmUgaXQgJyArICdhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBpbnN0ZWFkOyBpdCB3aWxsIHN0aWxsIGJlIGFjY2Vzc2libGUgb24gdGhlICcgKyAnY29uc3RydWN0b3IuJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB2YXIgaXNJbmhlcml0ZWQgPSBuYW1lIGluIENvbnN0cnVjdG9yO1xuICAgICAgICAhIWlzSW5oZXJpdGVkID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3M6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBkZWZpbmUgJyArICdgJXNgIG9uIHlvdXIgY29tcG9uZW50IG1vcmUgdGhhbiBvbmNlLiBUaGlzIGNvbmZsaWN0IG1heSBiZSAnICsgJ2R1ZSB0byBhIG1peGluLicsIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgQ29uc3RydWN0b3JbbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhvbmUsIHR3bykge1xuICAgICAgIShvbmUgJiYgdHdvICYmIHR5cGVvZiBvbmUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB0d28gPT09ICdvYmplY3QnKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzKCk6IENhbm5vdCBtZXJnZSBub24tb2JqZWN0cy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdHdvKSB7XG4gICAgICAgIGlmICh0d28uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICEob25lW2tleV0gPT09IHVuZGVmaW5lZCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cygpOiAnICsgJ1RyaWVkIHRvIG1lcmdlIHR3byBvYmplY3RzIHdpdGggdGhlIHNhbWUga2V5OiBgJXNgLiBUaGlzIGNvbmZsaWN0ICcgKyAnbWF5IGJlIGR1ZSB0byBhIG1peGluOyBpbiBwYXJ0aWN1bGFyLCB0aGlzIG1heSBiZSBjYXVzZWQgYnkgdHdvICcgKyAnZ2V0SW5pdGlhbFN0YXRlKCkgb3IgZ2V0RGVmYXVsdFByb3BzKCkgbWV0aG9kcyByZXR1cm5pbmcgb2JqZWN0cyAnICsgJ3dpdGggY2xhc2hpbmcga2V5cy4nLCBrZXkpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBvbmVba2V5XSA9IHR3b1trZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb25lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVNZXJnZWRSZXN1bHRGdW5jdGlvbihvbmUsIHR3bykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZFJlc3VsdCgpIHtcbiAgICAgICAgdmFyIGEgPSBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgdmFyIGIgPSB0d28uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKGEgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9IGVsc2UgaWYgKGIgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjID0ge307XG4gICAgICAgIG1lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoYywgYSk7XG4gICAgICAgIG1lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoYywgYik7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uKG9uZSwgdHdvKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gY2hhaW5lZEZ1bmN0aW9uKCkge1xuICAgICAgICBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgdHdvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBiaW5kQXV0b0JpbmRNZXRob2QoY29tcG9uZW50LCBtZXRob2QpIHtcbiAgICAgIHZhciBib3VuZE1ldGhvZCA9IG1ldGhvZC5iaW5kKGNvbXBvbmVudCk7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRDb250ZXh0ID0gY29tcG9uZW50O1xuICAgICAgICBib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRNZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IG51bGw7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lO1xuICAgICAgICB2YXIgX2JpbmQgPSBib3VuZE1ldGhvZC5iaW5kO1xuICAgICAgICBib3VuZE1ldGhvZC5iaW5kID0gZnVuY3Rpb24obmV3VGhpcykge1xuICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgICBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLFxuICAgICAgICAgICAgICBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChuZXdUaGlzICE9PSBjb21wb25lbnQgJiYgbmV3VGhpcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdiaW5kKCk6IFJlYWN0IGNvbXBvbmVudCBtZXRob2RzIG1heSBvbmx5IGJlIGJvdW5kIHRvIHRoZSAnICsgJ2NvbXBvbmVudCBpbnN0YW5jZS4gU2VlICVzJywgY29tcG9uZW50TmFtZSkgOiB2b2lkIDA7XG4gICAgICAgICAgfSBlbHNlIGlmICghYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYmluZCgpOiBZb3UgYXJlIGJpbmRpbmcgYSBjb21wb25lbnQgbWV0aG9kIHRvIHRoZSBjb21wb25lbnQuICcgKyAnUmVhY3QgZG9lcyB0aGlzIGZvciB5b3UgYXV0b21hdGljYWxseSBpbiBhIGhpZ2gtcGVyZm9ybWFuY2UgJyArICd3YXksIHNvIHlvdSBjYW4gc2FmZWx5IHJlbW92ZSB0aGlzIGNhbGwuIFNlZSAlcycsIGNvbXBvbmVudE5hbWUpIDogdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIGJvdW5kTWV0aG9kO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcmVib3VuZE1ldGhvZCA9IF9iaW5kLmFwcGx5KGJvdW5kTWV0aG9kLCBhcmd1bWVudHMpO1xuICAgICAgICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQ29udGV4dCA9IGNvbXBvbmVudDtcbiAgICAgICAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZE1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IGFyZ3M7XG4gICAgICAgICAgcmV0dXJuIHJlYm91bmRNZXRob2Q7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gYm91bmRNZXRob2Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJpbmRBdXRvQmluZE1ldGhvZHMoY29tcG9uZW50KSB7XG4gICAgICB2YXIgcGFpcnMgPSBjb21wb25lbnQuX19yZWFjdEF1dG9CaW5kUGFpcnM7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIHZhciBhdXRvQmluZEtleSA9IHBhaXJzW2ldO1xuICAgICAgICB2YXIgbWV0aG9kID0gcGFpcnNbaSArIDFdO1xuICAgICAgICBjb21wb25lbnRbYXV0b0JpbmRLZXldID0gYmluZEF1dG9CaW5kTWV0aG9kKGNvbXBvbmVudCwgbWV0aG9kKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFJlYWN0Q2xhc3NNaXhpbiA9IHtcbiAgICAgIHJlcGxhY2VTdGF0ZTogZnVuY3Rpb24obmV3U3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlUmVwbGFjZVN0YXRlKHRoaXMsIG5ld1N0YXRlKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVDYWxsYmFjayh0aGlzLCBjYWxsYmFjaywgJ3JlcGxhY2VTdGF0ZScpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaXNNb3VudGVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlci5pc01vdW50ZWQodGhpcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgUmVhY3RDbGFzc0NvbXBvbmVudCA9IGZ1bmN0aW9uKCkge307XG4gICAgX2Fzc2lnbihSZWFjdENsYXNzQ29tcG9uZW50LnByb3RvdHlwZSwgUmVhY3RDb21wb25lbnQucHJvdG90eXBlLCBSZWFjdENsYXNzTWl4aW4pO1xuICAgIHZhciBSZWFjdENsYXNzID0ge1xuICAgICAgY3JlYXRlQ2xhc3M6IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICAgICAgdmFyIENvbnN0cnVjdG9yID0gZnVuY3Rpb24ocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodGhpcyBpbnN0YW5jZW9mIENvbnN0cnVjdG9yLCAnU29tZXRoaW5nIGlzIGNhbGxpbmcgYSBSZWFjdCBjb21wb25lbnQgZGlyZWN0bHkuIFVzZSBhIGZhY3Rvcnkgb3IgJyArICdKU1ggaW5zdGVhZC4gU2VlOiBodHRwczovL2ZiLm1lL3JlYWN0LWxlZ2FjeWZhY3RvcnknKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuX19yZWFjdEF1dG9CaW5kUGFpcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBiaW5kQXV0b0JpbmRNZXRob2RzKHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgICAgICAgIHZhciBpbml0aWFsU3RhdGUgPSB0aGlzLmdldEluaXRpYWxTdGF0ZSA/IHRoaXMuZ2V0SW5pdGlhbFN0YXRlKCkgOiBudWxsO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAoaW5pdGlhbFN0YXRlID09PSB1bmRlZmluZWQgJiYgdGhpcy5nZXRJbml0aWFsU3RhdGUuX2lzTW9ja0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICAgIGluaXRpYWxTdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICEodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaW5pdGlhbFN0YXRlKSkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMuZ2V0SW5pdGlhbFN0YXRlKCk6IG11c3QgcmV0dXJuIGFuIG9iamVjdCBvciBudWxsJywgQ29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgICAgIH07XG4gICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IG5ldyBSZWFjdENsYXNzQ29tcG9uZW50KCk7XG4gICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuX19yZWFjdEF1dG9CaW5kUGFpcnMgPSBbXTtcbiAgICAgICAgaW5qZWN0ZWRNaXhpbnMuZm9yRWFjaChtaXhTcGVjSW50b0NvbXBvbmVudC5iaW5kKG51bGwsIENvbnN0cnVjdG9yKSk7XG4gICAgICAgIG1peFNwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzcGVjKTtcbiAgICAgICAgaWYgKENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcykge1xuICAgICAgICAgIENvbnN0cnVjdG9yLmRlZmF1bHRQcm9wcyA9IENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcykge1xuICAgICAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChDb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0SW5pdGlhbFN0YXRlKSB7XG4gICAgICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0SW5pdGlhbFN0YXRlLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICFDb25zdHJ1Y3Rvci5wcm90b3R5cGUucmVuZGVyID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2NyZWF0ZUNsYXNzKC4uLik6IENsYXNzIHNwZWNpZmljYXRpb24gbXVzdCBpbXBsZW1lbnQgYSBgcmVuZGVyYCBtZXRob2QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29tcG9uZW50U2hvdWxkVXBkYXRlLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ2NvbXBvbmVudFNob3VsZFVwZGF0ZSgpLiBEaWQgeW91IG1lYW4gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk/ICcgKyAnVGhlIG5hbWUgaXMgcGhyYXNlZCBhcyBhIHF1ZXN0aW9uIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzICcgKyAnZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUuJywgc3BlYy5kaXNwbGF5TmFtZSB8fCAnQSBjb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghQ29uc3RydWN0b3IucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiBEaWQgeW91IG1lYW4gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpPycsIHNwZWMuZGlzcGxheU5hbWUgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgbWV0aG9kTmFtZSBpbiBSZWFjdENsYXNzSW50ZXJmYWNlKSB7XG4gICAgICAgICAgaWYgKCFDb25zdHJ1Y3Rvci5wcm90b3R5cGVbbWV0aG9kTmFtZV0pIHtcbiAgICAgICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICAgIH0sXG4gICAgICBpbmplY3Rpb246IHtpbmplY3RNaXhpbjogZnVuY3Rpb24obWl4aW4pIHtcbiAgICAgICAgICBpbmplY3RlZE1peGlucy5wdXNoKG1peGluKTtcbiAgICAgICAgfX1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDbGFzcztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYzBcIiwgW1wiYjRcIiwgXCJjMVwiLCBcImMyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJlYWN0RWxlbWVudCA9ICRfX3JlcXVpcmUoJ2I0Jyk7XG4gICAgdmFyIFJlYWN0RWxlbWVudFZhbGlkYXRvciA9ICRfX3JlcXVpcmUoJ2MxJyk7XG4gICAgdmFyIG1hcE9iamVjdCA9ICRfX3JlcXVpcmUoJ2MyJyk7XG4gICAgZnVuY3Rpb24gY3JlYXRlRE9NRmFjdG9yeSh0YWcpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRmFjdG9yeSh0YWcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5KHRhZyk7XG4gICAgfVxuICAgIHZhciBSZWFjdERPTUZhY3RvcmllcyA9IG1hcE9iamVjdCh7XG4gICAgICBhOiAnYScsXG4gICAgICBhYmJyOiAnYWJicicsXG4gICAgICBhZGRyZXNzOiAnYWRkcmVzcycsXG4gICAgICBhcmVhOiAnYXJlYScsXG4gICAgICBhcnRpY2xlOiAnYXJ0aWNsZScsXG4gICAgICBhc2lkZTogJ2FzaWRlJyxcbiAgICAgIGF1ZGlvOiAnYXVkaW8nLFxuICAgICAgYjogJ2InLFxuICAgICAgYmFzZTogJ2Jhc2UnLFxuICAgICAgYmRpOiAnYmRpJyxcbiAgICAgIGJkbzogJ2JkbycsXG4gICAgICBiaWc6ICdiaWcnLFxuICAgICAgYmxvY2txdW90ZTogJ2Jsb2NrcXVvdGUnLFxuICAgICAgYm9keTogJ2JvZHknLFxuICAgICAgYnI6ICdicicsXG4gICAgICBidXR0b246ICdidXR0b24nLFxuICAgICAgY2FudmFzOiAnY2FudmFzJyxcbiAgICAgIGNhcHRpb246ICdjYXB0aW9uJyxcbiAgICAgIGNpdGU6ICdjaXRlJyxcbiAgICAgIGNvZGU6ICdjb2RlJyxcbiAgICAgIGNvbDogJ2NvbCcsXG4gICAgICBjb2xncm91cDogJ2NvbGdyb3VwJyxcbiAgICAgIGRhdGE6ICdkYXRhJyxcbiAgICAgIGRhdGFsaXN0OiAnZGF0YWxpc3QnLFxuICAgICAgZGQ6ICdkZCcsXG4gICAgICBkZWw6ICdkZWwnLFxuICAgICAgZGV0YWlsczogJ2RldGFpbHMnLFxuICAgICAgZGZuOiAnZGZuJyxcbiAgICAgIGRpYWxvZzogJ2RpYWxvZycsXG4gICAgICBkaXY6ICdkaXYnLFxuICAgICAgZGw6ICdkbCcsXG4gICAgICBkdDogJ2R0JyxcbiAgICAgIGVtOiAnZW0nLFxuICAgICAgZW1iZWQ6ICdlbWJlZCcsXG4gICAgICBmaWVsZHNldDogJ2ZpZWxkc2V0JyxcbiAgICAgIGZpZ2NhcHRpb246ICdmaWdjYXB0aW9uJyxcbiAgICAgIGZpZ3VyZTogJ2ZpZ3VyZScsXG4gICAgICBmb290ZXI6ICdmb290ZXInLFxuICAgICAgZm9ybTogJ2Zvcm0nLFxuICAgICAgaDE6ICdoMScsXG4gICAgICBoMjogJ2gyJyxcbiAgICAgIGgzOiAnaDMnLFxuICAgICAgaDQ6ICdoNCcsXG4gICAgICBoNTogJ2g1JyxcbiAgICAgIGg2OiAnaDYnLFxuICAgICAgaGVhZDogJ2hlYWQnLFxuICAgICAgaGVhZGVyOiAnaGVhZGVyJyxcbiAgICAgIGhncm91cDogJ2hncm91cCcsXG4gICAgICBocjogJ2hyJyxcbiAgICAgIGh0bWw6ICdodG1sJyxcbiAgICAgIGk6ICdpJyxcbiAgICAgIGlmcmFtZTogJ2lmcmFtZScsXG4gICAgICBpbWc6ICdpbWcnLFxuICAgICAgaW5wdXQ6ICdpbnB1dCcsXG4gICAgICBpbnM6ICdpbnMnLFxuICAgICAga2JkOiAna2JkJyxcbiAgICAgIGtleWdlbjogJ2tleWdlbicsXG4gICAgICBsYWJlbDogJ2xhYmVsJyxcbiAgICAgIGxlZ2VuZDogJ2xlZ2VuZCcsXG4gICAgICBsaTogJ2xpJyxcbiAgICAgIGxpbms6ICdsaW5rJyxcbiAgICAgIG1haW46ICdtYWluJyxcbiAgICAgIG1hcDogJ21hcCcsXG4gICAgICBtYXJrOiAnbWFyaycsXG4gICAgICBtZW51OiAnbWVudScsXG4gICAgICBtZW51aXRlbTogJ21lbnVpdGVtJyxcbiAgICAgIG1ldGE6ICdtZXRhJyxcbiAgICAgIG1ldGVyOiAnbWV0ZXInLFxuICAgICAgbmF2OiAnbmF2JyxcbiAgICAgIG5vc2NyaXB0OiAnbm9zY3JpcHQnLFxuICAgICAgb2JqZWN0OiAnb2JqZWN0JyxcbiAgICAgIG9sOiAnb2wnLFxuICAgICAgb3B0Z3JvdXA6ICdvcHRncm91cCcsXG4gICAgICBvcHRpb246ICdvcHRpb24nLFxuICAgICAgb3V0cHV0OiAnb3V0cHV0JyxcbiAgICAgIHA6ICdwJyxcbiAgICAgIHBhcmFtOiAncGFyYW0nLFxuICAgICAgcGljdHVyZTogJ3BpY3R1cmUnLFxuICAgICAgcHJlOiAncHJlJyxcbiAgICAgIHByb2dyZXNzOiAncHJvZ3Jlc3MnLFxuICAgICAgcTogJ3EnLFxuICAgICAgcnA6ICdycCcsXG4gICAgICBydDogJ3J0JyxcbiAgICAgIHJ1Ynk6ICdydWJ5JyxcbiAgICAgIHM6ICdzJyxcbiAgICAgIHNhbXA6ICdzYW1wJyxcbiAgICAgIHNjcmlwdDogJ3NjcmlwdCcsXG4gICAgICBzZWN0aW9uOiAnc2VjdGlvbicsXG4gICAgICBzZWxlY3Q6ICdzZWxlY3QnLFxuICAgICAgc21hbGw6ICdzbWFsbCcsXG4gICAgICBzb3VyY2U6ICdzb3VyY2UnLFxuICAgICAgc3BhbjogJ3NwYW4nLFxuICAgICAgc3Ryb25nOiAnc3Ryb25nJyxcbiAgICAgIHN0eWxlOiAnc3R5bGUnLFxuICAgICAgc3ViOiAnc3ViJyxcbiAgICAgIHN1bW1hcnk6ICdzdW1tYXJ5JyxcbiAgICAgIHN1cDogJ3N1cCcsXG4gICAgICB0YWJsZTogJ3RhYmxlJyxcbiAgICAgIHRib2R5OiAndGJvZHknLFxuICAgICAgdGQ6ICd0ZCcsXG4gICAgICB0ZXh0YXJlYTogJ3RleHRhcmVhJyxcbiAgICAgIHRmb290OiAndGZvb3QnLFxuICAgICAgdGg6ICd0aCcsXG4gICAgICB0aGVhZDogJ3RoZWFkJyxcbiAgICAgIHRpbWU6ICd0aW1lJyxcbiAgICAgIHRpdGxlOiAndGl0bGUnLFxuICAgICAgdHI6ICd0cicsXG4gICAgICB0cmFjazogJ3RyYWNrJyxcbiAgICAgIHU6ICd1JyxcbiAgICAgIHVsOiAndWwnLFxuICAgICAgJ3Zhcic6ICd2YXInLFxuICAgICAgdmlkZW86ICd2aWRlbycsXG4gICAgICB3YnI6ICd3YnInLFxuICAgICAgY2lyY2xlOiAnY2lyY2xlJyxcbiAgICAgIGNsaXBQYXRoOiAnY2xpcFBhdGgnLFxuICAgICAgZGVmczogJ2RlZnMnLFxuICAgICAgZWxsaXBzZTogJ2VsbGlwc2UnLFxuICAgICAgZzogJ2cnLFxuICAgICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgICBsaW5lOiAnbGluZScsXG4gICAgICBsaW5lYXJHcmFkaWVudDogJ2xpbmVhckdyYWRpZW50JyxcbiAgICAgIG1hc2s6ICdtYXNrJyxcbiAgICAgIHBhdGg6ICdwYXRoJyxcbiAgICAgIHBhdHRlcm46ICdwYXR0ZXJuJyxcbiAgICAgIHBvbHlnb246ICdwb2x5Z29uJyxcbiAgICAgIHBvbHlsaW5lOiAncG9seWxpbmUnLFxuICAgICAgcmFkaWFsR3JhZGllbnQ6ICdyYWRpYWxHcmFkaWVudCcsXG4gICAgICByZWN0OiAncmVjdCcsXG4gICAgICBzdG9wOiAnc3RvcCcsXG4gICAgICBzdmc6ICdzdmcnLFxuICAgICAgdGV4dDogJ3RleHQnLFxuICAgICAgdHNwYW46ICd0c3BhbidcbiAgICB9LCBjcmVhdGVET01GYWN0b3J5KTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NRmFjdG9yaWVzO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJiZVwiLCBbXCI1OFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGtleU1pcnJvciA9ICRfX3JlcXVpcmUoJzU4Jyk7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0ga2V5TWlycm9yKHtcbiAgICBwcm9wOiBudWxsLFxuICAgIGNvbnRleHQ6IG51bGwsXG4gICAgY2hpbGRDb250ZXh0OiBudWxsXG4gIH0pO1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbnM7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYzFcIiwgW1wiYjRcIiwgXCJiZVwiLCBcImJmXCIsIFwiYjNcIiwgXCJiY1wiLCBcImI1XCIsIFwiMzBcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdEVsZW1lbnQgPSAkX19yZXF1aXJlKCdiNCcpO1xuICAgIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0gJF9fcmVxdWlyZSgnYmUnKTtcbiAgICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSAkX19yZXF1aXJlKCdiZicpO1xuICAgIHZhciBSZWFjdEN1cnJlbnRPd25lciA9ICRfX3JlcXVpcmUoJ2IzJyk7XG4gICAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gJF9fcmVxdWlyZSgnYmMnKTtcbiAgICB2YXIgZ2V0SXRlcmF0b3JGbiA9ICRfX3JlcXVpcmUoJ2I1Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIGZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpIHtcbiAgICAgIGlmIChSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgICAgIHZhciBuYW1lID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC5nZXROYW1lKCk7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICB2YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4gICAgdmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICAgICAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgdmFyIGFkZGVuZGEgPSBnZXRBZGRlbmRhRm9yS2V5VXNlKCd1bmlxdWVLZXknLCBlbGVtZW50LCBwYXJlbnRUeXBlKTtcbiAgICAgIGlmIChhZGRlbmRhID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRWFjaCBjaGlsZCBpbiBhbiBhcnJheSBvciBpdGVyYXRvciBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJyArICclcyVzJXMnLCBhZGRlbmRhLnBhcmVudE9yT3duZXIgfHwgJycsIGFkZGVuZGEuY2hpbGRPd25lciB8fCAnJywgYWRkZW5kYS51cmwgfHwgJycpIDogdm9pZCAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRBZGRlbmRhRm9yS2V5VXNlKG1lc3NhZ2VUeXBlLCBlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gICAgICB2YXIgYWRkZW5kdW0gPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKTtcbiAgICAgIGlmICghYWRkZW5kdW0pIHtcbiAgICAgICAgdmFyIHBhcmVudE5hbWUgPSB0eXBlb2YgcGFyZW50VHlwZSA9PT0gJ3N0cmluZycgPyBwYXJlbnRUeXBlIDogcGFyZW50VHlwZS5kaXNwbGF5TmFtZSB8fCBwYXJlbnRUeXBlLm5hbWU7XG4gICAgICAgIGlmIChwYXJlbnROYW1lKSB7XG4gICAgICAgICAgYWRkZW5kdW0gPSAnIENoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPCcgKyBwYXJlbnROYW1lICsgJz4uJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIG1lbW9pemVyID0gb3duZXJIYXNLZXlVc2VXYXJuaW5nW21lc3NhZ2VUeXBlXSB8fCAob3duZXJIYXNLZXlVc2VXYXJuaW5nW21lc3NhZ2VUeXBlXSA9IHt9KTtcbiAgICAgIGlmIChtZW1vaXplclthZGRlbmR1bV0pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBtZW1vaXplclthZGRlbmR1bV0gPSB0cnVlO1xuICAgICAgdmFyIGFkZGVuZGEgPSB7XG4gICAgICAgIHBhcmVudE9yT3duZXI6IGFkZGVuZHVtLFxuICAgICAgICB1cmw6ICcgU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsXG4gICAgICAgIGNoaWxkT3duZXI6IG51bGxcbiAgICAgIH07XG4gICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgICBhZGRlbmRhLmNoaWxkT3duZXIgPSAnIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tICcgKyBlbGVtZW50Ll9vd25lci5nZXROYW1lKCkgKyAnLic7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWRkZW5kYTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSwgcGFyZW50VHlwZSkge1xuICAgICAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuICAgICAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KGNoaWxkLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgIGlmIChub2RlLl9zdG9yZSkge1xuICAgICAgICAgIG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSkge1xuICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG4gICAgICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IG5vZGUuZW50cmllcykge1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KHN0ZXAudmFsdWUsIHBhcmVudFR5cGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKGNvbXBvbmVudE5hbWUsIHByb3BUeXBlcywgcHJvcHMsIGxvY2F0aW9uKSB7XG4gICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBwcm9wVHlwZXMpIHtcbiAgICAgICAgaWYgKHByb3BUeXBlcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICEodHlwZW9mIHByb3BUeXBlc1twcm9wTmFtZV0gPT09ICdmdW5jdGlvbicpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzOiAlcyB0eXBlIGAlc2AgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gJyArICdSZWFjdC5Qcm9wVHlwZXMuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICBlcnJvciA9IHByb3BUeXBlc1twcm9wTmFtZV0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbik7XG4gICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIGVycm9yID0gZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFlcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIEVycm9yLCAnJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcyBgJXNgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAlcy4gJyArICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICsgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lLCB0eXBlb2YgZXJyb3IpIDogdm9pZCAwO1xuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGFkZGVuZHVtID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ZhaWxlZCBwcm9wVHlwZTogJXMlcycsIGVycm9yLm1lc3NhZ2UsIGFkZGVuZHVtKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCkge1xuICAgICAgdmFyIGNvbXBvbmVudENsYXNzID0gZWxlbWVudC50eXBlO1xuICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnRDbGFzcyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbmFtZSA9IGNvbXBvbmVudENsYXNzLmRpc3BsYXlOYW1lIHx8IGNvbXBvbmVudENsYXNzLm5hbWU7XG4gICAgICBpZiAoY29tcG9uZW50Q2xhc3MucHJvcFR5cGVzKSB7XG4gICAgICAgIGNoZWNrUHJvcFR5cGVzKG5hbWUsIGNvbXBvbmVudENsYXNzLnByb3BUeXBlcywgZWxlbWVudC5wcm9wcywgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5wcm9wKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50Q2xhc3MuZ2V0RGVmYXVsdFByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGNvbXBvbmVudENsYXNzLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZCwgJ2dldERlZmF1bHRQcm9wcyBpcyBvbmx5IHVzZWQgb24gY2xhc3NpYyBSZWFjdC5jcmVhdGVDbGFzcyAnICsgJ2RlZmluaXRpb25zLiBVc2UgYSBzdGF0aWMgcHJvcGVydHkgbmFtZWQgYGRlZmF1bHRQcm9wc2AgaW5zdGVhZC4nKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFJlYWN0RWxlbWVudFZhbGlkYXRvciA9IHtcbiAgICAgIGNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKHR5cGUsIHByb3BzLCBjaGlsZHJlbikge1xuICAgICAgICB2YXIgdmFsaWRUeXBlID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh2YWxpZFR5cGUsICdSZWFjdC5jcmVhdGVFbGVtZW50OiB0eXBlIHNob3VsZCBub3QgYmUgbnVsbCwgdW5kZWZpbmVkLCBib29sZWFuLCBvciAnICsgJ251bWJlci4gSXQgc2hvdWxkIGJlIGEgc3RyaW5nIChmb3IgRE9NIGVsZW1lbnRzKSBvciBhIFJlYWN0Q2xhc3MgJyArICcoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKS4lcycsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpKSA6IHZvaWQgMDtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRWxlbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbGlkVHlwZSkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNbaV0sIHR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9LFxuICAgICAgY3JlYXRlRmFjdG9yeTogZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB2YXIgdmFsaWRhdGVkRmFjdG9yeSA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVFbGVtZW50LmJpbmQobnVsbCwgdHlwZSk7XG4gICAgICAgIHZhbGlkYXRlZEZhY3RvcnkudHlwZSA9IHR5cGU7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodmFsaWRhdGVkRmFjdG9yeSwgJ3R5cGUnLCB7XG4gICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRmFjdG9yeS50eXBlIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB0aGUgY2xhc3MgZGlyZWN0bHkgJyArICdiZWZvcmUgcGFzc2luZyBpdCB0byBjcmVhdGVGYWN0b3J5LicpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndHlwZScsIHt2YWx1ZTogdHlwZX0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZhY3Rvcnk7XG4gICAgICB9LFxuICAgICAgY2xvbmVFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBwcm9wcywgY2hpbGRyZW4pIHtcbiAgICAgICAgdmFyIG5ld0VsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY2xvbmVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCBuZXdFbGVtZW50LnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhbGlkYXRlUHJvcFR5cGVzKG5ld0VsZW1lbnQpO1xuICAgICAgICByZXR1cm4gbmV3RWxlbWVudDtcbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RFbGVtZW50VmFsaWRhdG9yO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJiZlwiLCBbXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSB7fTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSB7XG4gICAgICAgIHByb3A6ICdwcm9wJyxcbiAgICAgICAgY29udGV4dDogJ2NvbnRleHQnLFxuICAgICAgICBjaGlsZENvbnRleHQ6ICdjaGlsZCBjb250ZXh0J1xuICAgICAgfTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYjVcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBJVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcbiAgdmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IG1heWJlSXRlcmFibGUgJiYgKElURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF0pO1xuICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZ2V0SXRlcmF0b3JGbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJjM1wiLCBbXCJiNFwiLCBcImJmXCIsIFwiNDhcIiwgXCJiNVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFJlYWN0RWxlbWVudCA9ICRfX3JlcXVpcmUoJ2I0Jyk7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9ICRfX3JlcXVpcmUoJ2JmJyk7XG4gIHZhciBlbXB0eUZ1bmN0aW9uID0gJF9fcmVxdWlyZSgnNDgnKTtcbiAgdmFyIGdldEl0ZXJhdG9yRm4gPSAkX19yZXF1aXJlKCdiNScpO1xuICB2YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdhcnJheScpLFxuICAgIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG4gICAgZnVuYzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG4gICAgbnVtYmVyOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignbnVtYmVyJyksXG4gICAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG4gICAgc3RyaW5nOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3RyaW5nJyksXG4gICAgYW55OiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpLFxuICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcbiAgICBlbGVtZW50OiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSxcbiAgICBpbnN0YW5jZU9mOiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyLFxuICAgIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG4gICAgb2JqZWN0T2Y6IGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIsXG4gICAgb25lT2Y6IGNyZWF0ZUVudW1UeXBlQ2hlY2tlcixcbiAgICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG4gICAgc2hhcGU6IGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXJcbiAgfTtcbiAgZnVuY3Rpb24gaXMoeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKSB7XG4gICAgZnVuY3Rpb24gY2hlY2tUeXBlKGlzUmVxdWlyZWQsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICAgIGlmIChpc1JlcXVpcmVkKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignUmVxdWlyZWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCB3YXMgbm90IHNwZWNpZmllZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNoYWluZWRDaGVja1R5cGUgPSBjaGVja1R5cGUuYmluZChudWxsLCBmYWxzZSk7XG4gICAgY2hhaW5lZENoZWNrVHlwZS5pc1JlcXVpcmVkID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgdHJ1ZSk7XG4gICAgcmV0dXJuIGNoYWluZWRDaGVja1R5cGU7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoZXhwZWN0ZWRUeXBlKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gZXhwZWN0ZWRUeXBlKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICAgIHZhciBwcmVjaXNlVHlwZSA9IGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJlY2lzZVR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2AnICsgZXhwZWN0ZWRUeXBlICsgJ2AuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlQW55VHlwZUNoZWNrZXIoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMobnVsbCkpO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgYXJyYXlPZi4nKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScpO1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKCFSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQocHJvcHNbcHJvcE5hbWVdKSkge1xuICAgICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgc2luZ2xlIFJlYWN0RWxlbWVudC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICghKHByb3BzW3Byb3BOYW1lXSBpbnN0YW5jZW9mIGV4cGVjdGVkQ2xhc3MpKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICAgIHZhciBleHBlY3RlZENsYXNzTmFtZSA9IGV4cGVjdGVkQ2xhc3MubmFtZSB8fCBBTk9OWU1PVVM7XG4gICAgICAgIHZhciBhY3R1YWxDbGFzc05hbWUgPSBnZXRDbGFzc05hbWUocHJvcHNbcHJvcE5hbWVdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBhY3R1YWxDbGFzc05hbWUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2luc3RhbmNlIG9mIGAnICsgZXhwZWN0ZWRDbGFzc05hbWUgKyAnYC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIoZXhwZWN0ZWRWYWx1ZXMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhwZWN0ZWRWYWx1ZXMpKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlzKHByb3BWYWx1ZSwgZXhwZWN0ZWRWYWx1ZXNbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICB2YXIgdmFsdWVzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZXhwZWN0ZWRWYWx1ZXMpO1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHZhbHVlIGAnICsgcHJvcFZhbHVlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIG9uZSBvZiAnICsgdmFsdWVzU3RyaW5nICsgJy4nKSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgb2JqZWN0T2YuJyk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBvYmplY3QuJykpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHByb3BWYWx1ZSkge1xuICAgICAgICBpZiAocHJvcFZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSk7XG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIoYXJyYXlPZlR5cGVDaGVja2Vycykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheU9mVHlwZUNoZWNrZXJzKSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuICAgICAgICBpZiAoY2hlY2tlcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nKSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAoIWlzTm9kZShwcm9wc1twcm9wTmFtZV0pKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBSZWFjdE5vZGUuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc2hhcGVUeXBlcykge1xuICAgICAgICB2YXIgY2hlY2tlciA9IHNoYXBlVHlwZXNba2V5XTtcbiAgICAgICAgaWYgKCFjaGVja2VyKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gaXNOb2RlKHByb3BWYWx1ZSkge1xuICAgIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4gIXByb3BWYWx1ZTtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcFZhbHVlLmV2ZXJ5KGlzTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihwcm9wVmFsdWUpO1xuICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuICAgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICBpZiAoIWlzTm9kZShzdGVwLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldFByb3BUeXBlKHByb3BWYWx1ZSkge1xuICAgIHZhciBwcm9wVHlwZSA9IHR5cGVvZiBwcm9wVmFsdWU7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgcmV0dXJuICdhcnJheSc7XG4gICAgfVxuICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIHJldHVybiAnb2JqZWN0JztcbiAgICB9XG4gICAgcmV0dXJuIHByb3BUeXBlO1xuICB9XG4gIGZ1bmN0aW9uIGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSkge1xuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuICdkYXRlJztcbiAgICAgIH0gZWxzZSBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIHJldHVybiAncmVnZXhwJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BUeXBlO1xuICB9XG4gIGZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcbiAgICBpZiAoIXByb3BWYWx1ZS5jb25zdHJ1Y3RvciB8fCAhcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpIHtcbiAgICAgIHJldHVybiBBTk9OWU1PVVM7XG4gICAgfVxuICAgIHJldHVybiBwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImM0XCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICcxNS4wLjInO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImIzXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSB7Y3VycmVudDogbnVsbH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDdXJyZW50T3duZXI7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYmNcIiwgW1wiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gZmFsc2U7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3gnLCB7Z2V0OiBmdW5jdGlvbigpIHt9fSk7XG4gICAgICAgIGNhbkRlZmluZVByb3BlcnR5ID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gY2FuRGVmaW5lUHJvcGVydHk7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImI0XCIsIFtcIjZcIiwgXCJiM1wiLCBcIjIyXCIsIFwiYmNcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSAkX19yZXF1aXJlKCdiMycpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSAkX19yZXF1aXJlKCdiYycpO1xuICAgIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbFsnZm9yJ10gJiYgU3ltYm9sWydmb3InXSgncmVhY3QuZWxlbWVudCcpIHx8IDB4ZWFjNztcbiAgICB2YXIgUkVTRVJWRURfUFJPUFMgPSB7XG4gICAgICBrZXk6IHRydWUsXG4gICAgICByZWY6IHRydWUsXG4gICAgICBfX3NlbGY6IHRydWUsXG4gICAgICBfX3NvdXJjZTogdHJ1ZVxuICAgIH07XG4gICAgdmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duLFxuICAgICAgICBzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93bjtcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gZnVuY3Rpb24odHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgb3duZXIsIHByb3BzKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHJlZjogcmVmLFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIF9vd25lcjogb3duZXJcbiAgICAgIH07XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBlbGVtZW50Ll9zdG9yZSA9IHt9O1xuICAgICAgICBpZiAoY2FuRGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NlbGYnLCB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogc2VsZlxuICAgICAgICAgIH0pO1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NvdXJjZScsIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBzb3VyY2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBlbGVtZW50Ll9zZWxmID0gc2VsZjtcbiAgICAgICAgICBlbGVtZW50Ll9zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5mcmVlemUpIHtcbiAgICAgICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgICAgIE9iamVjdC5mcmVlemUoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH07XG4gICAgUmVhY3RFbGVtZW50LmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbih0eXBlLCBjb25maWcsIGNoaWxkcmVuKSB7XG4gICAgICB2YXIgcHJvcE5hbWU7XG4gICAgICB2YXIgcHJvcHMgPSB7fTtcbiAgICAgIHZhciBrZXkgPSBudWxsO1xuICAgICAgdmFyIHJlZiA9IG51bGw7XG4gICAgICB2YXIgc2VsZiA9IG51bGw7XG4gICAgICB2YXIgc291cmNlID0gbnVsbDtcbiAgICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHJlZiA9ICFjb25maWcuaGFzT3duUHJvcGVydHkoJ3JlZicpIHx8IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAncmVmJykuZ2V0ID8gbnVsbCA6IGNvbmZpZy5yZWY7XG4gICAgICAgICAga2V5ID0gIWNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgna2V5JykgfHwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQgPyBudWxsIDogJycgKyBjb25maWcua2V5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZiA9IGNvbmZpZy5yZWYgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcucmVmO1xuICAgICAgICAgIGtleSA9IGNvbmZpZy5rZXkgPT09IHVuZGVmaW5lZCA/IG51bGwgOiAnJyArIGNvbmZpZy5rZXk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZiA9IGNvbmZpZy5fX3NlbGYgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zZWxmO1xuICAgICAgICBzb3VyY2UgPSBjb25maWcuX19zb3VyY2UgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zb3VyY2U7XG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKSB7XG4gICAgICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICAgICAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgICAgIH1cbiAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuICAgICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvcHMuJCR0eXBlb2YgPT09ICd1bmRlZmluZWQnIHx8IHByb3BzLiQkdHlwZW9mICE9PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgICBpZiAoIXByb3BzLmhhc093blByb3BlcnR5KCdrZXknKSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAna2V5Jywge1xuICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24pIHtcbiAgICAgICAgICAgICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL2ZiLm1lL3JlYWN0LXNwZWNpYWwtcHJvcHMpJywgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgJiYgJ2Rpc3BsYXlOYW1lJyBpbiB0eXBlID8gdHlwZS5kaXNwbGF5TmFtZSA6ICdFbGVtZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghcHJvcHMuaGFzT3duUHJvcGVydHkoJ3JlZicpKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdyZWYnLCB7XG4gICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93bikge1xuICAgICAgICAgICAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclczogYHJlZmAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vZmIubWUvcmVhY3Qtc3BlY2lhbC1wcm9wcyknLCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiAnZGlzcGxheU5hbWUnIGluIHR5cGUgPyB0eXBlLmRpc3BsYXlOYW1lIDogJ0VsZW1lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xuICAgIH07XG4gICAgUmVhY3RFbGVtZW50LmNyZWF0ZUZhY3RvcnkgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgICB2YXIgZmFjdG9yeSA9IFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50LmJpbmQobnVsbCwgdHlwZSk7XG4gICAgICBmYWN0b3J5LnR5cGUgPSB0eXBlO1xuICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgfTtcbiAgICBSZWFjdEVsZW1lbnQuY2xvbmVBbmRSZXBsYWNlS2V5ID0gZnVuY3Rpb24ob2xkRWxlbWVudCwgbmV3S2V5KSB7XG4gICAgICB2YXIgbmV3RWxlbWVudCA9IFJlYWN0RWxlbWVudChvbGRFbGVtZW50LnR5cGUsIG5ld0tleSwgb2xkRWxlbWVudC5yZWYsIG9sZEVsZW1lbnQuX3NlbGYsIG9sZEVsZW1lbnQuX3NvdXJjZSwgb2xkRWxlbWVudC5fb3duZXIsIG9sZEVsZW1lbnQucHJvcHMpO1xuICAgICAgcmV0dXJuIG5ld0VsZW1lbnQ7XG4gICAgfTtcbiAgICBSZWFjdEVsZW1lbnQuY2xvbmVFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY29uZmlnLCBjaGlsZHJlbikge1xuICAgICAgdmFyIHByb3BOYW1lO1xuICAgICAgdmFyIHByb3BzID0gX2Fzc2lnbih7fSwgZWxlbWVudC5wcm9wcyk7XG4gICAgICB2YXIga2V5ID0gZWxlbWVudC5rZXk7XG4gICAgICB2YXIgcmVmID0gZWxlbWVudC5yZWY7XG4gICAgICB2YXIgc2VsZiA9IGVsZW1lbnQuX3NlbGY7XG4gICAgICB2YXIgc291cmNlID0gZWxlbWVudC5fc291cmNlO1xuICAgICAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5yZWYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gICAgICAgICAgb3duZXIgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBrZXkgPSAnJyArIGNvbmZpZy5rZXk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlZmF1bHRQcm9wcztcbiAgICAgICAgaWYgKGVsZW1lbnQudHlwZSAmJiBlbGVtZW50LnR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgICAgICAgZGVmYXVsdFByb3BzID0gZWxlbWVudC50eXBlLmRlZmF1bHRQcm9wcztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIGlmIChjb25maWdbcHJvcE5hbWVdID09PSB1bmRlZmluZWQgJiYgZGVmYXVsdFByb3BzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICAgIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZHJlbkxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNoaWxkQXJyYXlbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgICAgICB9XG4gICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQoZWxlbWVudC50eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpO1xuICAgIH07XG4gICAgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdEVsZW1lbnQ7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImM1XCIsIFtcImI0XCIsIFwiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gJF9fcmVxdWlyZSgnYjQnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICBmdW5jdGlvbiBvbmx5Q2hpbGQoY2hpbGRyZW4pIHtcbiAgICAgICFSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ29ubHlDaGlsZCBtdXN0IGJlIHBhc3NlZCBhIGNoaWxkcmVuIHdpdGggZXhhY3RseSBvbmUgY2hpbGQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IG9ubHlDaGlsZDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYzZcIiwgW1wiNlwiLCBcImI2XCIsIFwiYmFcIiwgXCJiZFwiLCBcImMwXCIsIFwiYjRcIiwgXCJjMVwiLCBcImMzXCIsIFwiYzRcIiwgXCJjNVwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIFJlYWN0Q2hpbGRyZW4gPSAkX19yZXF1aXJlKCdiNicpO1xuICAgIHZhciBSZWFjdENvbXBvbmVudCA9ICRfX3JlcXVpcmUoJ2JhJyk7XG4gICAgdmFyIFJlYWN0Q2xhc3MgPSAkX19yZXF1aXJlKCdiZCcpO1xuICAgIHZhciBSZWFjdERPTUZhY3RvcmllcyA9ICRfX3JlcXVpcmUoJ2MwJyk7XG4gICAgdmFyIFJlYWN0RWxlbWVudCA9ICRfX3JlcXVpcmUoJ2I0Jyk7XG4gICAgdmFyIFJlYWN0RWxlbWVudFZhbGlkYXRvciA9ICRfX3JlcXVpcmUoJ2MxJyk7XG4gICAgdmFyIFJlYWN0UHJvcFR5cGVzID0gJF9fcmVxdWlyZSgnYzMnKTtcbiAgICB2YXIgUmVhY3RWZXJzaW9uID0gJF9fcmVxdWlyZSgnYzQnKTtcbiAgICB2YXIgb25seUNoaWxkID0gJF9fcmVxdWlyZSgnYzUnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRWxlbWVudDtcbiAgICB2YXIgY3JlYXRlRmFjdG9yeSA9IFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5O1xuICAgIHZhciBjbG9uZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY2xvbmVFbGVtZW50O1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjcmVhdGVFbGVtZW50ID0gUmVhY3RFbGVtZW50VmFsaWRhdG9yLmNyZWF0ZUVsZW1lbnQ7XG4gICAgICBjcmVhdGVGYWN0b3J5ID0gUmVhY3RFbGVtZW50VmFsaWRhdG9yLmNyZWF0ZUZhY3Rvcnk7XG4gICAgICBjbG9uZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY2xvbmVFbGVtZW50O1xuICAgIH1cbiAgICB2YXIgX19zcHJlYWQgPSBfYXNzaWduO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgd2FybmVkID0gZmFsc2U7XG4gICAgICBfX3NwcmVhZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh3YXJuZWQsICdSZWFjdC5fX3NwcmVhZCBpcyBkZXByZWNhdGVkIGFuZCBzaG91bGQgbm90IGJlIHVzZWQuIFVzZSAnICsgJ09iamVjdC5hc3NpZ24gZGlyZWN0bHkgb3IgYW5vdGhlciBoZWxwZXIgZnVuY3Rpb24gd2l0aCBzaW1pbGFyICcgKyAnc2VtYW50aWNzLiBZb3UgbWF5IGJlIHNlZWluZyB0aGlzIHdhcm5pbmcgZHVlIHRvIHlvdXIgY29tcGlsZXIuICcgKyAnU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtc3ByZWFkLWRlcHJlY2F0aW9uIGZvciBtb3JlIGRldGFpbHMuJykgOiB2b2lkIDA7XG4gICAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBfYXNzaWduLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgUmVhY3QgPSB7XG4gICAgICBDaGlsZHJlbjoge1xuICAgICAgICBtYXA6IFJlYWN0Q2hpbGRyZW4ubWFwLFxuICAgICAgICBmb3JFYWNoOiBSZWFjdENoaWxkcmVuLmZvckVhY2gsXG4gICAgICAgIGNvdW50OiBSZWFjdENoaWxkcmVuLmNvdW50LFxuICAgICAgICB0b0FycmF5OiBSZWFjdENoaWxkcmVuLnRvQXJyYXksXG4gICAgICAgIG9ubHk6IG9ubHlDaGlsZFxuICAgICAgfSxcbiAgICAgIENvbXBvbmVudDogUmVhY3RDb21wb25lbnQsXG4gICAgICBjcmVhdGVFbGVtZW50OiBjcmVhdGVFbGVtZW50LFxuICAgICAgY2xvbmVFbGVtZW50OiBjbG9uZUVsZW1lbnQsXG4gICAgICBpc1ZhbGlkRWxlbWVudDogUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50LFxuICAgICAgUHJvcFR5cGVzOiBSZWFjdFByb3BUeXBlcyxcbiAgICAgIGNyZWF0ZUNsYXNzOiBSZWFjdENsYXNzLmNyZWF0ZUNsYXNzLFxuICAgICAgY3JlYXRlRmFjdG9yeTogY3JlYXRlRmFjdG9yeSxcbiAgICAgIGNyZWF0ZU1peGluOiBmdW5jdGlvbihtaXhpbikge1xuICAgICAgICByZXR1cm4gbWl4aW47XG4gICAgICB9LFxuICAgICAgRE9NOiBSZWFjdERPTUZhY3RvcmllcyxcbiAgICAgIHZlcnNpb246IFJlYWN0VmVyc2lvbixcbiAgICAgIF9fc3ByZWFkOiBfX3NwcmVhZFxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYzdcIiwgW1wiYzZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnYzYnKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJhZlwiLCBbXCJjN1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJ2M3Jyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYWRcIiwgW1wiYWZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIHZhciBfcmVhY3QgPSAkX19yZXF1aXJlKCdhZicpO1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9yZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xuICAgIHN1YnNjcmliZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgZGlzcGF0Y2g6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIGdldFN0YXRlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxuICB9KTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJjOFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBzaGFsbG93RXF1YWw7XG4gIGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gICAgaWYgKG9iakEgPT09IG9iakIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKTtcbiAgICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcbiAgICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFoYXNPd24uY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgb2JqQVtrZXlzQVtpXV0gIT09IG9iakJba2V5c0FbaV1dKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJjOVwiLCBbXCJjYVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB3cmFwQWN0aW9uQ3JlYXRvcnM7XG4gIHZhciBfcmVkdXggPSAkX19yZXF1aXJlKCdjYScpO1xuICBmdW5jdGlvbiB3cmFwQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZGlzcGF0Y2gpIHtcbiAgICAgIHJldHVybiAoMCwgX3JlZHV4LmJpbmRBY3Rpb25DcmVhdG9ycykoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYWVcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd2FybmluZztcbiAgZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiY2JcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBSRUFDVF9TVEFUSUNTID0ge1xuICAgIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcbiAgICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgZGlzcGxheU5hbWU6IHRydWUsXG4gICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIG1peGluczogdHJ1ZSxcbiAgICBwcm9wVHlwZXM6IHRydWUsXG4gICAgdHlwZTogdHJ1ZVxuICB9O1xuICB2YXIgS05PV05fU1RBVElDUyA9IHtcbiAgICBuYW1lOiB0cnVlLFxuICAgIGxlbmd0aDogdHJ1ZSxcbiAgICBwcm90b3R5cGU6IHRydWUsXG4gICAgY2FsbGVyOiB0cnVlLFxuICAgIGFyZ3VtZW50czogdHJ1ZSxcbiAgICBhcml0eTogdHJ1ZVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgc291cmNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgaWYgKCFSRUFDVF9TVEFUSUNTW2tleXNbaV1dICYmICFLTk9XTl9TVEFUSUNTW2tleXNbaV1dKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGFyZ2V0Q29tcG9uZW50W2tleXNbaV1dID0gc291cmNlQ29tcG9uZW50W2tleXNbaV1dO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge31cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJjY1wiLCBbXCJjYlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJ2NiJyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiY2RcIiwgW1wiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgICAgICB9XG4gICAgICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiY2VcIiwgW1wiY2RcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCdjZCcpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImNmXCIsIFtcImFmXCIsIFwiYWRcIiwgXCJjOFwiLCBcImM5XCIsIFwiYWVcIiwgXCJkMFwiLCBcImNjXCIsIFwiY2VcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuICAgIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gICAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb25uZWN0O1xuICAgIHZhciBfcmVhY3QgPSAkX19yZXF1aXJlKCdhZicpO1xuICAgIHZhciBfc3RvcmVTaGFwZSA9ICRfX3JlcXVpcmUoJ2FkJyk7XG4gICAgdmFyIF9zdG9yZVNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0b3JlU2hhcGUpO1xuICAgIHZhciBfc2hhbGxvd0VxdWFsID0gJF9fcmVxdWlyZSgnYzgnKTtcbiAgICB2YXIgX3NoYWxsb3dFcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaGFsbG93RXF1YWwpO1xuICAgIHZhciBfd3JhcEFjdGlvbkNyZWF0b3JzID0gJF9fcmVxdWlyZSgnYzknKTtcbiAgICB2YXIgX3dyYXBBY3Rpb25DcmVhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93cmFwQWN0aW9uQ3JlYXRvcnMpO1xuICAgIHZhciBfd2FybmluZyA9ICRfX3JlcXVpcmUoJ2FlJyk7XG4gICAgdmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuICAgIHZhciBfaXNQbGFpbk9iamVjdCA9ICRfX3JlcXVpcmUoJ2QwJyk7XG4gICAgdmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuICAgIHZhciBfaG9pc3ROb25SZWFjdFN0YXRpY3MgPSAkX19yZXF1aXJlKCdjYycpO1xuICAgIHZhciBfaG9pc3ROb25SZWFjdFN0YXRpY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9pc3ROb25SZWFjdFN0YXRpY3MpO1xuICAgIHZhciBfaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnY2UnKTtcbiAgICB2YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1wiZGVmYXVsdFwiOiBvYmp9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgICBpZiAoIXNlbGYpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgICAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgICAgIH1cbiAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge2NvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9fSk7XG4gICAgICBpZiAoc3VwZXJDbGFzcylcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gICAgfVxuICAgIHZhciBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gZGVmYXVsdE1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH07XG4gICAgdmFyIGRlZmF1bHRNYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gICAgICByZXR1cm4ge2Rpc3BhdGNoOiBkaXNwYXRjaH07XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdE1lcmdlUHJvcHMgPSBmdW5jdGlvbiBkZWZhdWx0TWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykge1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwYXJlbnRQcm9wcywgc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcyk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gV3JhcHBlZENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBXcmFwcGVkQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCc7XG4gICAgfVxuICAgIHZhciBlcnJvck9iamVjdCA9IHt2YWx1ZTogbnVsbH07XG4gICAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIGN0eCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGN0eCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGVycm9yT2JqZWN0LnZhbHVlID0gZTtcbiAgICAgICAgcmV0dXJuIGVycm9yT2JqZWN0O1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbmV4dFZlcnNpb24gPSAwO1xuICAgIGZ1bmN0aW9uIGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbM107XG4gICAgICB2YXIgc2hvdWxkU3Vic2NyaWJlID0gQm9vbGVhbihtYXBTdGF0ZVRvUHJvcHMpO1xuICAgICAgdmFyIG1hcFN0YXRlID0gbWFwU3RhdGVUb1Byb3BzIHx8IGRlZmF1bHRNYXBTdGF0ZVRvUHJvcHM7XG4gICAgICB2YXIgbWFwRGlzcGF0Y2ggPSB1bmRlZmluZWQ7XG4gICAgICBpZiAodHlwZW9mIG1hcERpc3BhdGNoVG9Qcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBtYXBEaXNwYXRjaCA9IG1hcERpc3BhdGNoVG9Qcm9wcztcbiAgICAgIH0gZWxzZSBpZiAoIW1hcERpc3BhdGNoVG9Qcm9wcykge1xuICAgICAgICBtYXBEaXNwYXRjaCA9IGRlZmF1bHRNYXBEaXNwYXRjaFRvUHJvcHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBEaXNwYXRjaCA9ICgwLCBfd3JhcEFjdGlvbkNyZWF0b3JzMltcImRlZmF1bHRcIl0pKG1hcERpc3BhdGNoVG9Qcm9wcyk7XG4gICAgICB9XG4gICAgICB2YXIgZmluYWxNZXJnZVByb3BzID0gbWVyZ2VQcm9wcyB8fCBkZWZhdWx0TWVyZ2VQcm9wcztcbiAgICAgIHZhciBfb3B0aW9ucyRwdXJlID0gb3B0aW9ucy5wdXJlO1xuICAgICAgdmFyIHB1cmUgPSBfb3B0aW9ucyRwdXJlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX29wdGlvbnMkcHVyZTtcbiAgICAgIHZhciBfb3B0aW9ucyR3aXRoUmVmID0gb3B0aW9ucy53aXRoUmVmO1xuICAgICAgdmFyIHdpdGhSZWYgPSBfb3B0aW9ucyR3aXRoUmVmID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9vcHRpb25zJHdpdGhSZWY7XG4gICAgICB2YXIgY2hlY2tNZXJnZWRFcXVhbHMgPSBwdXJlICYmIGZpbmFsTWVyZ2VQcm9wcyAhPT0gZGVmYXVsdE1lcmdlUHJvcHM7XG4gICAgICB2YXIgdmVyc2lvbiA9IG5leHRWZXJzaW9uKys7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gd3JhcFdpdGhDb25uZWN0KFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIGNvbm5lY3REaXNwbGF5TmFtZSA9ICdDb25uZWN0KCcgKyBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KSArICcpJztcbiAgICAgICAgZnVuY3Rpb24gY2hlY2tTdGF0ZVNoYXBlKHByb3BzLCBtZXRob2ROYW1lKSB7XG4gICAgICAgICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkocHJvcHMpKSB7XG4gICAgICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkobWV0aG9kTmFtZSArICcoKSBpbiAnICsgY29ubmVjdERpc3BsYXlOYW1lICsgJyBtdXN0IHJldHVybiBhIHBsYWluIG9iamVjdC4gJyArICgnSW5zdGVhZCByZWNlaXZlZCAnICsgcHJvcHMgKyAnLicpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY29tcHV0ZU1lcmdlZFByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIHBhcmVudFByb3BzKSB7XG4gICAgICAgICAgdmFyIG1lcmdlZFByb3BzID0gZmluYWxNZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIHBhcmVudFByb3BzKTtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1lcmdlZFByb3BzLCAnbWVyZ2VQcm9wcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbWVyZ2VkUHJvcHM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIENvbm5lY3QgPSBmdW5jdGlvbihfQ29tcG9uZW50KSB7XG4gICAgICAgICAgX2luaGVyaXRzKENvbm5lY3QsIF9Db21wb25lbnQpO1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiAhcHVyZSB8fCB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgfHwgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZDtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGZ1bmN0aW9uIENvbm5lY3QocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb25uZWN0KTtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuICAgICAgICAgICAgX3RoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgICAgICBfdGhpcy5zdG9yZSA9IHByb3BzLnN0b3JlIHx8IGNvbnRleHQuc3RvcmU7XG4gICAgICAgICAgICAoMCwgX2ludmFyaWFudDJbXCJkZWZhdWx0XCJdKShfdGhpcy5zdG9yZSwgJ0NvdWxkIG5vdCBmaW5kIFwic3RvcmVcIiBpbiBlaXRoZXIgdGhlIGNvbnRleHQgb3IgJyArICgncHJvcHMgb2YgXCInICsgY29ubmVjdERpc3BsYXlOYW1lICsgJ1wiLiAnKSArICdFaXRoZXIgd3JhcCB0aGUgcm9vdCBjb21wb25lbnQgaW4gYSA8UHJvdmlkZXI+LCAnICsgKCdvciBleHBsaWNpdGx5IHBhc3MgXCJzdG9yZVwiIGFzIGEgcHJvcCB0byBcIicgKyBjb25uZWN0RGlzcGxheU5hbWUgKyAnXCIuJykpO1xuICAgICAgICAgICAgdmFyIHN0b3JlU3RhdGUgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgX3RoaXMuc3RhdGUgPSB7c3RvcmVTdGF0ZTogc3RvcmVTdGF0ZX07XG4gICAgICAgICAgICBfdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgICAgfVxuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXB1dGVTdGF0ZVByb3BzID0gZnVuY3Rpb24gY29tcHV0ZVN0YXRlUHJvcHMoc3RvcmUsIHByb3BzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIHZhciBzdGF0ZVByb3BzID0gdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzID8gdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgcHJvcHMpIDogdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSk7XG4gICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBjaGVja1N0YXRlU2hhcGUoc3RhdGVQcm9wcywgJ21hcFN0YXRlVG9Qcm9wcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlUHJvcHM7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb25maWd1cmVGaW5hbE1hcFN0YXRlID0gZnVuY3Rpb24gY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBtYXBwZWRTdGF0ZSA9IG1hcFN0YXRlKHN0b3JlLmdldFN0YXRlKCksIHByb3BzKTtcbiAgICAgICAgICAgIHZhciBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkU3RhdGUgPT09ICdmdW5jdGlvbic7XG4gICAgICAgICAgICB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzID0gaXNGYWN0b3J5ID8gbWFwcGVkU3RhdGUgOiBtYXBTdGF0ZTtcbiAgICAgICAgICAgIHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMubGVuZ3RoICE9PSAxO1xuICAgICAgICAgICAgaWYgKGlzRmFjdG9yeSkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRlU3RhdGVQcm9wcyhzdG9yZSwgcHJvcHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZFN0YXRlLCAnbWFwU3RhdGVUb1Byb3BzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWFwcGVkU3RhdGU7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wdXRlRGlzcGF0Y2hQcm9wcyA9IGZ1bmN0aW9uIGNvbXB1dGVEaXNwYXRjaFByb3BzKHN0b3JlLCBwcm9wcykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2goc3RvcmUsIHByb3BzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuICAgICAgICAgICAgdmFyIGRpc3BhdGNoUHJvcHMgPSB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMgPyB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoLCBwcm9wcykgOiB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKTtcbiAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShkaXNwYXRjaFByb3BzLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2hQcm9wcztcbiAgICAgICAgICB9O1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2ggPSBmdW5jdGlvbiBjb25maWd1cmVGaW5hbE1hcERpc3BhdGNoKHN0b3JlLCBwcm9wcykge1xuICAgICAgICAgICAgdmFyIG1hcHBlZERpc3BhdGNoID0gbWFwRGlzcGF0Y2goc3RvcmUuZGlzcGF0Y2gsIHByb3BzKTtcbiAgICAgICAgICAgIHZhciBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkRGlzcGF0Y2ggPT09ICdmdW5jdGlvbic7XG4gICAgICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzID0gaXNGYWN0b3J5ID8gbWFwcGVkRGlzcGF0Y2ggOiBtYXBEaXNwYXRjaDtcbiAgICAgICAgICAgIHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMubGVuZ3RoICE9PSAxO1xuICAgICAgICAgICAgaWYgKGlzRmFjdG9yeSkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyhzdG9yZSwgcHJvcHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZERpc3BhdGNoLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWFwcGVkRGlzcGF0Y2g7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBDb25uZWN0LnByb3RvdHlwZS51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQoKSB7XG4gICAgICAgICAgICB2YXIgbmV4dFN0YXRlUHJvcHMgPSB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHRoaXMuc3RvcmUsIHRoaXMucHJvcHMpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGVQcm9wcyAmJiAoMCwgX3NoYWxsb3dFcXVhbDJbXCJkZWZhdWx0XCJdKShuZXh0U3RhdGVQcm9wcywgdGhpcy5zdGF0ZVByb3BzKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlUHJvcHMgPSBuZXh0U3RhdGVQcm9wcztcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH07XG4gICAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUudXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkID0gZnVuY3Rpb24gdXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkKCkge1xuICAgICAgICAgICAgdmFyIG5leHREaXNwYXRjaFByb3BzID0gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyh0aGlzLnN0b3JlLCB0aGlzLnByb3BzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc3BhdGNoUHJvcHMgJiYgKDAsIF9zaGFsbG93RXF1YWwyW1wiZGVmYXVsdFwiXSkobmV4dERpc3BhdGNoUHJvcHMsIHRoaXMuZGlzcGF0Y2hQcm9wcykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaFByb3BzID0gbmV4dERpc3BhdGNoUHJvcHM7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLnVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkKCkge1xuICAgICAgICAgICAgdmFyIG5leHRNZXJnZWRQcm9wcyA9IGNvbXB1dGVNZXJnZWRQcm9wcyh0aGlzLnN0YXRlUHJvcHMsIHRoaXMuZGlzcGF0Y2hQcm9wcywgdGhpcy5wcm9wcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5tZXJnZWRQcm9wcyAmJiBjaGVja01lcmdlZEVxdWFscyAmJiAoMCwgX3NoYWxsb3dFcXVhbDJbXCJkZWZhdWx0XCJdKShuZXh0TWVyZ2VkUHJvcHMsIHRoaXMubWVyZ2VkUHJvcHMpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWVyZ2VkUHJvcHMgPSBuZXh0TWVyZ2VkUHJvcHM7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLmlzU3Vic2NyaWJlZCA9IGZ1bmN0aW9uIGlzU3Vic2NyaWJlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy51bnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgICB9O1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLnRyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIHRyeVN1YnNjcmliZSgpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRTdWJzY3JpYmUgJiYgIXRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IHRoaXMuc3RvcmUuc3Vic2NyaWJlKHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUudHJ5VW5zdWJzY3JpYmUgPSBmdW5jdGlvbiB0cnlVbnN1YnNjcmliZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy50cnlTdWJzY3JpYmUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgaWYgKCFwdXJlIHx8ICEoMCwgX3NoYWxsb3dFcXVhbDJbXCJkZWZhdWx0XCJdKShuZXh0UHJvcHMsIHRoaXMucHJvcHMpKSB7XG4gICAgICAgICAgICAgIHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy50cnlVbnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5jbGVhckNhY2hlID0gZnVuY3Rpb24gY2xlYXJDYWNoZSgpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hQcm9wcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnN0YXRlUHJvcHMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tZXJnZWRQcm9wcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzID0gbnVsbDtcbiAgICAgICAgICB9O1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy51bnN1YnNjcmliZSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RvcmVTdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIHZhciBwcmV2U3RvcmVTdGF0ZSA9IHRoaXMuc3RhdGUuc3RvcmVTdGF0ZTtcbiAgICAgICAgICAgIGlmIChwdXJlICYmIHByZXZTdG9yZVN0YXRlID09PSBzdG9yZVN0YXRlKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwdXJlICYmICF0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMpIHtcbiAgICAgICAgICAgICAgdmFyIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IHRyeUNhdGNoKHRoaXMudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkLCB0aGlzKTtcbiAgICAgICAgICAgICAgaWYgKCFoYXZlU3RhdGVQcm9wc0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9PT0gZXJyb3JPYmplY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gZXJyb3JPYmplY3QudmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c3RvcmVTdGF0ZTogc3RvcmVTdGF0ZX0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUuZ2V0V3JhcHBlZEluc3RhbmNlID0gZnVuY3Rpb24gZ2V0V3JhcHBlZEluc3RhbmNlKCkge1xuICAgICAgICAgICAgKDAsIF9pbnZhcmlhbnQyW1wiZGVmYXVsdFwiXSkod2l0aFJlZiwgJ1RvIGFjY2VzcyB0aGUgd3JhcHBlZCBpbnN0YW5jZSwgeW91IG5lZWQgdG8gc3BlY2lmeSAnICsgJ3sgd2l0aFJlZjogdHJ1ZSB9IGFzIHRoZSBmb3VydGggYXJndW1lbnQgb2YgdGhlIGNvbm5lY3QoKSBjYWxsLicpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVmcy53cmFwcGVkSW5zdGFuY2U7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgaGF2ZU93blByb3BzQ2hhbmdlZCA9IHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZDtcbiAgICAgICAgICAgIHZhciBoYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQ7XG4gICAgICAgICAgICB2YXIgaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZDtcbiAgICAgICAgICAgIHZhciBzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3I7XG4gICAgICAgICAgICB2YXIgcmVuZGVyZWRFbGVtZW50ID0gdGhpcy5yZW5kZXJlZEVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgdGhyb3cgc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcyA9IHRydWU7XG4gICAgICAgICAgICBpZiAocHVyZSAmJiByZW5kZXJlZEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IGhhc1N0b3JlU3RhdGVDaGFuZ2VkIHx8IGhhdmVPd25Qcm9wc0NoYW5nZWQgJiYgdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzO1xuICAgICAgICAgICAgICBzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzID0gaGF2ZU93blByb3BzQ2hhbmdlZCAmJiB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCkge1xuICAgICAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaG91bGRVcGRhdGVTdGF0ZVByb3BzKSB7XG4gICAgICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcykge1xuICAgICAgICAgICAgICBoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCB8fCBoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQgfHwgaGF2ZU93blByb3BzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gdGhpcy51cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgJiYgcmVuZGVyZWRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2l0aFJlZikge1xuICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9ICgwLCBfcmVhY3QuY3JlYXRlRWxlbWVudCkoV3JhcHBlZENvbXBvbmVudCwgX2V4dGVuZHMoe30sIHRoaXMubWVyZ2VkUHJvcHMsIHtyZWY6ICd3cmFwcGVkSW5zdGFuY2UnfSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSAoMCwgX3JlYWN0LmNyZWF0ZUVsZW1lbnQpKFdyYXBwZWRDb21wb25lbnQsIHRoaXMubWVyZ2VkUHJvcHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZWRFbGVtZW50O1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIENvbm5lY3Q7XG4gICAgICAgIH0oX3JlYWN0LkNvbXBvbmVudCk7XG4gICAgICAgIENvbm5lY3QuZGlzcGxheU5hbWUgPSBjb25uZWN0RGlzcGxheU5hbWU7XG4gICAgICAgIENvbm5lY3QuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQ7XG4gICAgICAgIENvbm5lY3QuY29udGV4dFR5cGVzID0ge3N0b3JlOiBfc3RvcmVTaGFwZTJbXCJkZWZhdWx0XCJdfTtcbiAgICAgICAgQ29ubmVjdC5wcm9wVHlwZXMgPSB7c3RvcmU6IF9zdG9yZVNoYXBlMltcImRlZmF1bHRcIl19O1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudmVyc2lvbiA9PT0gdmVyc2lvbikge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICAgICAgdGhpcy50cnlTdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBfaG9pc3ROb25SZWFjdFN0YXRpY3MyW1wiZGVmYXVsdFwiXSkoQ29ubmVjdCwgV3JhcHBlZENvbXBvbmVudCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZDFcIiwgW1wiYWNcIiwgXCJjZlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgZXhwb3J0cy5jb25uZWN0ID0gZXhwb3J0cy5Qcm92aWRlciA9IHVuZGVmaW5lZDtcbiAgdmFyIF9Qcm92aWRlciA9ICRfX3JlcXVpcmUoJ2FjJyk7XG4gIHZhciBfUHJvdmlkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJvdmlkZXIpO1xuICB2YXIgX2Nvbm5lY3QgPSAkX19yZXF1aXJlKCdjZicpO1xuICB2YXIgX2Nvbm5lY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29ubmVjdCk7XG4gIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcImRlZmF1bHRcIjogb2JqfTtcbiAgfVxuICBleHBvcnRzLlByb3ZpZGVyID0gX1Byb3ZpZGVyMltcImRlZmF1bHRcIl07XG4gIGV4cG9ydHMuY29ubmVjdCA9IF9jb25uZWN0MltcImRlZmF1bHRcIl07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYTdcIiwgW1wiZDFcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCdkMScpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImQyXCIsIFtcImQzXCIsIFwiZDRcIiwgXCJkNVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgJGV4cG9ydCA9ICRfX3JlcXVpcmUoJ2QzJyksXG4gICAgICBjb3JlID0gJF9fcmVxdWlyZSgnZDQnKSxcbiAgICAgIGZhaWxzID0gJF9fcmVxdWlyZSgnZDUnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpIHtcbiAgICB2YXIgZm4gPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV0sXG4gICAgICAgIGV4cCA9IHt9O1xuICAgIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbigpIHtcbiAgICAgIGZuKDEpO1xuICAgIH0pLCAnT2JqZWN0JywgZXhwKTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJkNlwiLCBbXCJkN1wiLCBcImQyXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciB0b0lPYmplY3QgPSAkX19yZXF1aXJlKCdkNycpO1xuICAkX19yZXF1aXJlKCdkMicpKCdnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3InLCBmdW5jdGlvbigkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gICAgICByZXR1cm4gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0b0lPYmplY3QoaXQpLCBrZXkpO1xuICAgIH07XG4gIH0pO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImQ4XCIsIFtcImQ5XCIsIFwiZDZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyICQgPSAkX19yZXF1aXJlKCdkOScpO1xuICAkX19yZXF1aXJlKCdkNicpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gICAgcmV0dXJuICQuZ2V0RGVzYyhpdCwga2V5KTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJkYVwiLCBbXCJkOFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBcImRlZmF1bHRcIjogJF9fcmVxdWlyZSgnZDgnKSxcbiAgICBfX2VzTW9kdWxlOiB0cnVlXG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYThcIiwgW1wiZGFcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBfT2JqZWN0JGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9ICRfX3JlcXVpcmUoJ2RhJylbXCJkZWZhdWx0XCJdO1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHtcbiAgICB2YXIgX2FnYWluID0gdHJ1ZTtcbiAgICBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHtcbiAgICAgIHZhciBvYmplY3QgPSBfeCxcbiAgICAgICAgICBwcm9wZXJ0eSA9IF94MixcbiAgICAgICAgICByZWNlaXZlciA9IF94MztcbiAgICAgIF9hZ2FpbiA9IGZhbHNlO1xuICAgICAgaWYgKG9iamVjdCA9PT0gbnVsbClcbiAgICAgICAgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICAgICAgdmFyIGRlc2MgPSBfT2JqZWN0JGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTtcbiAgICAgIGlmIChkZXNjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO1xuICAgICAgICBpZiAocGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfeCA9IHBhcmVudDtcbiAgICAgICAgICBfeDIgPSBwcm9wZXJ0eTtcbiAgICAgICAgICBfeDMgPSByZWNlaXZlcjtcbiAgICAgICAgICBfYWdhaW4gPSB0cnVlO1xuICAgICAgICAgIGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgY29udGludWUgX2Z1bmN0aW9uO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7XG4gICAgICAgIHJldHVybiBkZXNjLnZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGdldHRlciA9IGRlc2MuZ2V0O1xuICAgICAgICBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImRiXCIsIFtcImQ5XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciAkID0gJF9fcmVxdWlyZSgnZDknKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCkge1xuICAgIHJldHVybiAkLmNyZWF0ZShQLCBEKTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJkY1wiLCBbXCJkYlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBcImRlZmF1bHRcIjogJF9fcmVxdWlyZSgnZGInKSxcbiAgICBfX2VzTW9kdWxlOiB0cnVlXG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZGRcIiwgW1wiZDNcIiwgXCJkZVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgJGV4cG9ydCA9ICRfX3JlcXVpcmUoJ2QzJyk7XG4gICRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge3NldFByb3RvdHlwZU9mOiAkX19yZXF1aXJlKCdkZScpLnNldH0pO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImRmXCIsIFtcImRkXCIsIFwiZDRcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgJF9fcmVxdWlyZSgnZGQnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCdkNCcpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJlMFwiLCBbXCJkZlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBcImRlZmF1bHRcIjogJF9fcmVxdWlyZSgnZGYnKSxcbiAgICBfX2VzTW9kdWxlOiB0cnVlXG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYTlcIiwgW1wiZGNcIiwgXCJlMFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIF9PYmplY3QkY3JlYXRlID0gJF9fcmVxdWlyZSgnZGMnKVtcImRlZmF1bHRcIl07XG4gIHZhciBfT2JqZWN0JHNldFByb3RvdHlwZU9mID0gJF9fcmVxdWlyZSgnZTAnKVtcImRlZmF1bHRcIl07XG4gIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24oc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgICB9XG4gICAgc3ViQ2xhc3MucHJvdG90eXBlID0gX09iamVjdCRjcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge2NvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH19KTtcbiAgICBpZiAoc3VwZXJDbGFzcylcbiAgICAgIF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPyBfT2JqZWN0JHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gIH07XG4gIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYWFcIiwgW1wiZTFcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBfT2JqZWN0JGRlZmluZVByb3BlcnR5ID0gJF9fcmVxdWlyZSgnZTEnKVtcImRlZmF1bHRcIl07XG4gIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKVxuICAgICAgICAgIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICBfT2JqZWN0JGRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgICBpZiAocHJvdG9Qcm9wcylcbiAgICAgICAgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgaWYgKHN0YXRpY1Byb3BzKVxuICAgICAgICBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgfTtcbiAgfSkoKTtcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJhYlwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbihpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gIH07XG4gIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXIoJzllJywgWydhOCcsICdhOScsICdhYScsICdhYicsICc5YyddLCBmdW5jdGlvbiAoX2V4cG9ydCkge1xuICB2YXIgX2dldCwgX2luaGVyaXRzLCBfY3JlYXRlQ2xhc3MsIF9jbGFzc0NhbGxDaGVjaywgUmVhY3QsIFByb3BUeXBlcywgQ29tcG9uZW50LCBMYXp5SW1nO1xuXG4gIHJldHVybiB7XG4gICAgc2V0dGVyczogW2Z1bmN0aW9uIChfYTgpIHtcbiAgICAgIF9nZXQgPSBfYThbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2E5KSB7XG4gICAgICBfaW5oZXJpdHMgPSBfYTlbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2FhKSB7XG4gICAgICBfY3JlYXRlQ2xhc3MgPSBfYWFbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2FiKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sgPSBfYWJbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgIFJlYWN0ID0gX2NbJ2RlZmF1bHQnXTtcbiAgICAgIFByb3BUeXBlcyA9IF9jLlByb3BUeXBlcztcbiAgICAgIENvbXBvbmVudCA9IF9jLkNvbXBvbmVudDtcbiAgICB9XSxcbiAgICBleGVjdXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgIExhenlJbWcgPSAoZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgICAgX2luaGVyaXRzKExhenlJbWcsIF9Db21wb25lbnQpO1xuXG4gICAgICAgIGZ1bmN0aW9uIExhenlJbWcoKSB7XG4gICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExhenlJbWcpO1xuXG4gICAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoTGF6eUltZy5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKExhenlJbWcsIFt7XG4gICAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50JyxcbiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGVkOiBmYWxzZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6ICdoYW5kbGVMb2FkJyxcbiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRlZDogdHJ1ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnaW1nJywge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLnN0YXRlLmlzTG9hZGVkID8gJ2xhenlsb2FkZWQnIDogJ2xhenlsb2FkJykgKyAnIGxhenlibHVyJyxcbiAgICAgICAgICAgICAgc3JjOiB0aGlzLnByb3BzLnNyYyxcbiAgICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUxvYWQoKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYWx0OiB0aGlzLnByb3BzLmFsdCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gTGF6eUltZztcbiAgICAgIH0pKENvbXBvbmVudCk7XG5cbiAgICAgIExhenlJbWcuZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBhbHQ6ICcnXG4gICAgICB9O1xuXG4gICAgICBMYXp5SW1nLnByb3BUeXBlcyA9IHtcbiAgICAgICAgc3JjOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgIGFsdDogUHJvcFR5cGVzLnN0cmluZ1xuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIExhenlJbWcpO1xuICAgIH1cbiAgfTtcbn0pO1xuJF9fU3lzdGVtLnJlZ2lzdGVyKCdhMScsIFsnOWMnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBSZWFjdCwgUHJvcFR5cGVzLCBTdmdJY29uO1xuICByZXR1cm4ge1xuICAgIHNldHRlcnM6IFtmdW5jdGlvbiAoX2MpIHtcbiAgICAgIFJlYWN0ID0gX2NbJ2RlZmF1bHQnXTtcbiAgICAgIFByb3BUeXBlcyA9IF9jLlByb3BUeXBlcztcbiAgICB9XSxcbiAgICBleGVjdXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBTdmdJY29uID0gZnVuY3Rpb24gU3ZnSWNvbihfcmVmKSB7XG4gICAgICAgIHZhciBpZCA9IF9yZWYuaWQ7XG4gICAgICAgIHZhciBsYWJlbCA9IF9yZWYubGFiZWw7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdzdmcnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaWNvbicsICdhcmlhLWhpZGRlbic6ICd0cnVlJywgJ2FyaWEtbGFiZWwnOiBsYWJlbCB9LFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3VzZScsIHsgeGxpbmtIcmVmOiAnc3ZnL2ljb25zLnN2ZyMnICsgaWQgfSlcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIFN2Z0ljb24uZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBsYWJlbDogJydcbiAgICAgIH07XG5cbiAgICAgIFN2Z0ljb24ucHJvcFR5cGVzID0ge1xuICAgICAgICBpZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZ1xuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIFN2Z0ljb24pO1xuICAgIH1cbiAgfTtcbn0pO1xuJF9fU3lzdGVtLnJlZ2lzdGVyKCdlMicsIFsnOWMnLCAnOWUnLCAnYTEnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBSZWFjdCwgUHJvcFR5cGVzLCBMYXp5SW1nLCBTdmdJY29uLCBnZXRNb250aCwgZm9ybWF0RGF0ZSwgRXZlbnRMaXN0SXRlbTtcbiAgcmV0dXJuIHtcbiAgICBzZXR0ZXJzOiBbZnVuY3Rpb24gKF9jKSB7XG4gICAgICBSZWFjdCA9IF9jWydkZWZhdWx0J107XG4gICAgICBQcm9wVHlwZXMgPSBfYy5Qcm9wVHlwZXM7XG4gICAgfSwgZnVuY3Rpb24gKF9lKSB7XG4gICAgICBMYXp5SW1nID0gX2VbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2ExKSB7XG4gICAgICBTdmdJY29uID0gX2ExWydkZWZhdWx0J107XG4gICAgfV0sXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZ2V0TW9udGggPSBmdW5jdGlvbiBnZXRNb250aChtb250aCkge1xuICAgICAgICB2YXIgbW9udGhzID0gWydKYW5laXJvJywgJ0ZldmVyZWlybycsICdNYXLDp28nLCAnQWJyaWwnLCAnTWFpbycsICdKdW5obycsICdKdWxobycsICdBZ29zdG8nLCAnU2V0ZW1icm8nLCAnT3V0dWJybycsICdOb3ZlbWJybycsICdEZXplbWJybyddO1xuICAgICAgICB2YXIgbSA9IG1vbnRocy5pbmRleE9mKG1vbnRoKSArIDE7XG4gICAgICAgIHJldHVybiAobSA8IDEwID8gJzAnIDogJycpICsgbTtcbiAgICAgIH07XG5cbiAgICAgIGZvcm1hdERhdGUgPSBmdW5jdGlvbiBmb3JtYXREYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIGRheSA9IF9yZWYuZGF5O1xuICAgICAgICB2YXIgbW9udGggPSBfcmVmLm1vbnRoO1xuICAgICAgICB2YXIgeWVhciA9IF9yZWYueWVhcjtcblxuICAgICAgICByZXR1cm4gZGF5ICsgJy8nICsgZ2V0TW9udGgobW9udGgpICsgJy8nICsgeWVhcjtcbiAgICAgIH07XG5cbiAgICAgIEV2ZW50TGlzdEl0ZW0gPSBmdW5jdGlvbiBFdmVudExpc3RJdGVtKF9yZWYyKSB7XG4gICAgICAgIHZhciB0aXRsZSA9IF9yZWYyLnRpdGxlO1xuICAgICAgICB2YXIgaW1hZ2UgPSBfcmVmMi5pbWFnZTtcbiAgICAgICAgdmFyIGxpbmsgPSBfcmVmMi5saW5rO1xuICAgICAgICB2YXIgZGF0ZSA9IF9yZWYyLmRhdGU7XG4gICAgICAgIHZhciBwcmljZSA9IF9yZWYyLnByaWNlO1xuICAgICAgICB2YXIgbG9jYXRpb24gPSBfcmVmMi5sb2NhdGlvbjtcbiAgICAgICAgdmFyIHNob3J0RGVzY3JpcHRpb24gPSBfcmVmMi5zaG9ydERlc2NyaXB0aW9uO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnYXJ0aWNsZScsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdldmVudCcgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdldmVudC1tZWRpYScsIGhyZWY6IGxpbmssIHRpdGxlOiAnVmVyIGV2ZW50bycgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGF6eUltZywgeyBzcmM6IGltYWdlIHx8ICdzdmcvbG9nby5zdmcnLCBhbHQ6IHRpdGxlIH0pXG4gICAgICAgICAgKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2V2ZW50LW1haW4nIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29udGVudCcsIGhyZWY6IGxpbmssIHRpdGxlOiAnVmVyIGV2ZW50bycgfSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnaDInLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgdGl0bGVcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAncCcsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBzaG9ydERlc2NyaXB0aW9uXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAhIWxpbmsgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2J0bi1saW5rJywgaHJlZjogbGluaywgdGFyZ2V0OiAnX2JsYW5rJywgdGl0bGU6ICdWaXNpdGFyIHNpdGUgb2ZpY2lhbCcgfSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTdmdJY29uLCB7IGlkOiAnbGluaycsIGxhYmVsOiAnTGluaycgfSksXG4gICAgICAgICAgICAgIGxpbmtcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAndWwnLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2V2ZW50LWxpc3QnIH0sXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2V2ZW50LWxpc3QtLWl0ZW0nIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTdmdJY29uLCB7IGlkOiAnZGF0ZScsIGxhYmVsOiAnRGF0YScgfSksXG4gICAgICAgICAgICAgICAgZm9ybWF0RGF0ZShkYXRlKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdldmVudC1saXN0LS1pdGVtJyB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3ZnSWNvbiwgeyBpZDogJ3ByaWNlJywgbGFiZWw6ICdQcmXDp28nIH0pLFxuICAgICAgICAgICAgICAgIHByaWNlXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICEhbG9jYXRpb24ubG9jYXRpb25VcmwgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnbGknLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZXZlbnQtbGlzdC0taXRlbScgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFN2Z0ljb24sIHsgaWQ6ICdsb2NhdGlvbicsIGxhYmVsOiAnTG9jYWwnIH0pLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICB7IGhyZWY6IGxvY2F0aW9uLmxvY2F0aW9uVXJsLCB0YXJnZXQ6ICdfYmxhbmsnIH0sXG4gICAgICAgICAgICAgICAgICBsb2NhdGlvbi5hZGRyZXNzICsgJyAtICcgKyBsb2NhdGlvbi5jaXR5ICsgJy8nICsgbG9jYXRpb24uc3RhdGVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICBFdmVudExpc3RJdGVtLmRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgZGF0ZToge1xuICAgICAgICAgIGRheTogJzAwJyxcbiAgICAgICAgICBtb250aDogJ3h4JyxcbiAgICAgICAgICB5ZWFyOiAnMDAwMCdcbiAgICAgICAgfSxcbiAgICAgICAgcHJpY2U6ICdHcsOhdGlzJyxcbiAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICBsb2NhdGlvblVybDogJydcbiAgICAgICAgfSxcbiAgICAgICAgc2hvcnREZXNjcmlwdGlvbjogJydcbiAgICAgIH07XG5cbiAgICAgIEV2ZW50TGlzdEl0ZW0ucHJvcFR5cGVzID0ge1xuICAgICAgICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICBpbWFnZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgbGluazogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgZGF0ZTogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICBkYXk6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICBtb250aDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgIHllYXI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxuICAgICAgICB9KS5pc1JlcXVpcmVkLFxuICAgICAgICBwcmljZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgbG9jYXRpb246IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgY2l0eTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICBzdGF0ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICBhZGRyZXNzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgIGxvY2F0aW9uVXJsOiBQcm9wVHlwZXMuc3RyaW5nXG4gICAgICAgIH0pLFxuICAgICAgICBzaG9ydERlc2NyaXB0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcbiAgICAgIH07XG5cbiAgICAgIF9leHBvcnQoJ2RlZmF1bHQnLCBFdmVudExpc3RJdGVtKTtcbiAgICB9XG4gIH07XG59KTtcbiRfX1N5c3RlbS5yZWdpc3RlcignZTMnLCBbJ2E0JywgJzljJywgJ2E3JywgJ2UyJ10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gIHZhciBfZXh0ZW5kcywgUmVhY3QsIFByb3BUeXBlcywgY29ubmVjdCwgRXZlbnRMaXN0SXRlbSwgUGFnZSwgbWFwU3RhdGVUb1Byb3BzO1xuXG4gIHJldHVybiB7XG4gICAgc2V0dGVyczogW2Z1bmN0aW9uIChfYTQpIHtcbiAgICAgIF9leHRlbmRzID0gX2E0WydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF9jKSB7XG4gICAgICBSZWFjdCA9IF9jWydkZWZhdWx0J107XG4gICAgICBQcm9wVHlwZXMgPSBfYy5Qcm9wVHlwZXM7XG4gICAgfSwgZnVuY3Rpb24gKF9hNykge1xuICAgICAgY29ubmVjdCA9IF9hNy5jb25uZWN0O1xuICAgIH0sIGZ1bmN0aW9uIChfZTIpIHtcbiAgICAgIEV2ZW50TGlzdEl0ZW0gPSBfZTJbJ2RlZmF1bHQnXTtcbiAgICB9XSxcbiAgICBleGVjdXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBpbXBvcnQgUGFnaW5hdGlvbiBmcm9tICcuLi8uLi9jb21wb25lbnRzL3BhZ2luYXRpb24vaW5kZXgnXG5cbiAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgUGFnZSA9IGZ1bmN0aW9uIFBhZ2UoX3JlZikge1xuICAgICAgICB2YXIgZXZlbnRzID0gX3JlZi5ldmVudHM7XG5cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3NlY3Rpb24nLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGFnZScgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2hlYWRlcicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3BhZ2UtaGVhZGVyJyB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2gzJyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0aXRsZScgfSxcbiAgICAgICAgICAgICAgJ1Byw7N4aW1vcyBFdmVudG9zJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgIWV2ZW50cy5sZW5ndGggJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwYWdlLXdyYXAnIH0sXG4gICAgICAgICAgICAnTmVuaHVtIGV2ZW50byBlbmNvbnRyYWRvJ1xuICAgICAgICAgICksXG4gICAgICAgICAgISFldmVudHMubGVuZ3RoICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGFnZS13cmFwJyB9LFxuICAgICAgICAgICAgZXZlbnRzLm1hcChmdW5jdGlvbiAocHJvcHMsIGluZGV4KSB7XG4gICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEV2ZW50TGlzdEl0ZW0sIF9leHRlbmRzKHsga2V5OiBpbmRleCB9LCBwcm9wcykpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICBQYWdlLnByb3BUeXBlcyA9IHtcbiAgICAgICAgZXZlbnRzOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZFxuICAgICAgfTtcblxuICAgICAgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gICAgICAgIHZhciBmaWx0ZXIgPSBzdGF0ZS5maWx0ZXI7XG5cbiAgICAgICAgdmFyIG1vbnRoc0ZpbHRlciA9IGZpbHRlci5tb250aHM7XG4gICAgICAgIHZhciBzdGF0ZUZpbHRlciA9IGZpbHRlci5zdGF0ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBldmVudHM6IHN0YXRlLmV2ZW50cy5ldmVudHMuZmlsdGVyKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKG1vbnRoc0ZpbHRlci5zZWxlY3RlZCAmJiBzdGF0ZUZpbHRlci5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuc2hvdWxkU2hvd0J5TW9udGggIT09IGZhbHNlICYmIGV2ZW50LnNob3VsZFNob3dCeVN0YXRlICE9PSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1vbnRoc0ZpbHRlci5zZWxlY3RlZCAmJiAhc3RhdGVGaWx0ZXIuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnNob3VsZFNob3dCeU1vbnRoICE9PSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFtb250aHNGaWx0ZXIuc2VsZWN0ZWQgJiYgc3RhdGVGaWx0ZXIuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnNob3VsZFNob3dCeVN0YXRlICE9PSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudC5zaG91bGRTaG93QnlUZXh0ICE9PSBmYWxzZTtcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzKShQYWdlKSk7XG4gICAgfVxuICB9O1xufSk7XG4vKiA8UGFnaW5hdGlvbiAvPiAqL1xuJF9fU3lzdGVtLnJlZ2lzdGVyKCdlNCcsIFsnOWMnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBSZWFjdCwgQXNpZGU7XG4gIHJldHVybiB7XG4gICAgc2V0dGVyczogW2Z1bmN0aW9uIChfYykge1xuICAgICAgUmVhY3QgPSBfY1snZGVmYXVsdCddO1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIEFzaWRlID0gZnVuY3Rpb24gQXNpZGUoKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdhc2lkZScsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdkaXNjbGFpbWVyJyB9LFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZGlzY2xhaW1lci1pbm5lcicgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdoMicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAndGl0bGUnIH0sXG4gICAgICAgICAgICAgICdDb25oZWNlIGFsZ3VtIGV2ZW50byBkZSBGcm9udC1FbmQgcXVlIG7Do28gZXN0w6EgbGlzdGFkbz8nXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vZ2l0aHViLmNvbS9mcm9udGVuZGJyL2V2ZW50b3MvaXNzdWVzJyxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdidG4nLFxuICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ0FudW5jaWFyIEV2ZW50bycsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdBbnVuY2llIHNldSBldmVudG8nIH0sXG4gICAgICAgICAgICAgICdBbnVuY2lhciBFdmVudG8nXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIEFzaWRlKTtcbiAgICB9XG4gIH07XG59KTtcbiRfX1N5c3RlbS5yZWdpc3RlcignZTUnLCBbJzljJywgJ2E1JywgJ2UzJywgJ2U0J10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgUmVhY3QsIEhlYWRlciwgUGFnZSwgQXNpZGUsIE1haW5Db250ZW50O1xuICByZXR1cm4ge1xuICAgIHNldHRlcnM6IFtmdW5jdGlvbiAoX2MpIHtcbiAgICAgIFJlYWN0ID0gX2NbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2E1KSB7XG4gICAgICBIZWFkZXIgPSBfYTVbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2UzKSB7XG4gICAgICBQYWdlID0gX2UzWydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF9lNCkge1xuICAgICAgQXNpZGUgPSBfZTRbJ2RlZmF1bHQnXTtcbiAgICB9XSxcbiAgICBleGVjdXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBNYWluQ29udGVudCA9IGZ1bmN0aW9uIE1haW5Db250ZW50KCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnbWFpbicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdtYWluJywgcm9sZTogJ21haW4nIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChIZWFkZXIsIG51bGwpLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFnZSwgbnVsbCksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChBc2lkZSwgbnVsbClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIF9leHBvcnQoJ2RlZmF1bHQnLCBNYWluQ29udGVudCk7XG4gICAgfVxuICB9O1xufSk7XG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNFwiLCBbXCIzMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBvbmVBcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGNvcHlGaWVsZHNGcm9tKSB7XG4gICAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gS2xhc3MuaW5zdGFuY2VQb29sLnBvcCgpO1xuICAgICAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBjb3B5RmllbGRzRnJvbSk7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgS2xhc3MoY29weUZpZWxkc0Zyb20pO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHR3b0FyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24oYTEsIGEyKSB7XG4gICAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gS2xhc3MuaW5zdGFuY2VQb29sLnBvcCgpO1xuICAgICAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IEtsYXNzKGExLCBhMik7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgdGhyZWVBcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGExLCBhMiwgYTMpIHtcbiAgICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGExLCBhMiwgYTMpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IEtsYXNzKGExLCBhMiwgYTMpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGZvdXJBcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGExLCBhMiwgYTMsIGE0KSB7XG4gICAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gS2xhc3MuaW5zdGFuY2VQb29sLnBvcCgpO1xuICAgICAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIsIGEzLCBhNCk7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgS2xhc3MoYTEsIGEyLCBhMywgYTQpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGZpdmVBcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICAgICAgdmFyIEtsYXNzID0gdGhpcztcbiAgICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICAgICAgS2xhc3MuY2FsbChpbnN0YW5jZSwgYTEsIGEyLCBhMywgYTQsIGE1KTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzLCBhNCwgYTUpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHN0YW5kYXJkUmVsZWFzZXIgPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgICAgdmFyIEtsYXNzID0gdGhpcztcbiAgICAgICEoaW5zdGFuY2UgaW5zdGFuY2VvZiBLbGFzcykgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnVHJ5aW5nIHRvIHJlbGVhc2UgYW4gaW5zdGFuY2UgaW50byBhIHBvb2wgb2YgYSBkaWZmZXJlbnQgdHlwZS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBpbnN0YW5jZS5kZXN0cnVjdG9yKCk7XG4gICAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCA8IEtsYXNzLnBvb2xTaXplKSB7XG4gICAgICAgIEtsYXNzLmluc3RhbmNlUG9vbC5wdXNoKGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBERUZBVUxUX1BPT0xfU0laRSA9IDEwO1xuICAgIHZhciBERUZBVUxUX1BPT0xFUiA9IG9uZUFyZ3VtZW50UG9vbGVyO1xuICAgIHZhciBhZGRQb29saW5nVG8gPSBmdW5jdGlvbihDb3B5Q29uc3RydWN0b3IsIHBvb2xlcikge1xuICAgICAgdmFyIE5ld0tsYXNzID0gQ29weUNvbnN0cnVjdG9yO1xuICAgICAgTmV3S2xhc3MuaW5zdGFuY2VQb29sID0gW107XG4gICAgICBOZXdLbGFzcy5nZXRQb29sZWQgPSBwb29sZXIgfHwgREVGQVVMVF9QT09MRVI7XG4gICAgICBpZiAoIU5ld0tsYXNzLnBvb2xTaXplKSB7XG4gICAgICAgIE5ld0tsYXNzLnBvb2xTaXplID0gREVGQVVMVF9QT09MX1NJWkU7XG4gICAgICB9XG4gICAgICBOZXdLbGFzcy5yZWxlYXNlID0gc3RhbmRhcmRSZWxlYXNlcjtcbiAgICAgIHJldHVybiBOZXdLbGFzcztcbiAgICB9O1xuICAgIHZhciBQb29sZWRDbGFzcyA9IHtcbiAgICAgIGFkZFBvb2xpbmdUbzogYWRkUG9vbGluZ1RvLFxuICAgICAgb25lQXJndW1lbnRQb29sZXI6IG9uZUFyZ3VtZW50UG9vbGVyLFxuICAgICAgdHdvQXJndW1lbnRQb29sZXI6IHR3b0FyZ3VtZW50UG9vbGVyLFxuICAgICAgdGhyZWVBcmd1bWVudFBvb2xlcjogdGhyZWVBcmd1bWVudFBvb2xlcixcbiAgICAgIGZvdXJBcmd1bWVudFBvb2xlcjogZm91ckFyZ3VtZW50UG9vbGVyLFxuICAgICAgZml2ZUFyZ3VtZW50UG9vbGVyOiBmaXZlQXJndW1lbnRQb29sZXJcbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUG9vbGVkQ2xhc3M7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjQwXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBmdW5jdGlvbiBlc2NhcGUoa2V5KSB7XG4gICAgdmFyIGVzY2FwZVJlZ2V4ID0gL1s9Ol0vZztcbiAgICB2YXIgZXNjYXBlckxvb2t1cCA9IHtcbiAgICAgICc9JzogJz0wJyxcbiAgICAgICc6JzogJz0yJ1xuICAgIH07XG4gICAgdmFyIGVzY2FwZWRTdHJpbmcgPSAoJycgKyBrZXkpLnJlcGxhY2UoZXNjYXBlUmVnZXgsIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgICByZXR1cm4gZXNjYXBlckxvb2t1cFttYXRjaF07XG4gICAgfSk7XG4gICAgcmV0dXJuICckJyArIGVzY2FwZWRTdHJpbmc7XG4gIH1cbiAgZnVuY3Rpb24gdW5lc2NhcGUoa2V5KSB7XG4gICAgdmFyIHVuZXNjYXBlUmVnZXggPSAvKD0wfD0yKS9nO1xuICAgIHZhciB1bmVzY2FwZXJMb29rdXAgPSB7XG4gICAgICAnPTAnOiAnPScsXG4gICAgICAnPTInOiAnOidcbiAgICB9O1xuICAgIHZhciBrZXlTdWJzdHJpbmcgPSBrZXlbMF0gPT09ICcuJyAmJiBrZXlbMV0gPT09ICckJyA/IGtleS5zdWJzdHJpbmcoMikgOiBrZXkuc3Vic3RyaW5nKDEpO1xuICAgIHJldHVybiAoJycgKyBrZXlTdWJzdHJpbmcpLnJlcGxhY2UodW5lc2NhcGVSZWdleCwgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHJldHVybiB1bmVzY2FwZXJMb29rdXBbbWF0Y2hdO1xuICAgIH0pO1xuICB9XG4gIHZhciBLZXlFc2NhcGVVdGlscyA9IHtcbiAgICBlc2NhcGU6IGVzY2FwZSxcbiAgICB1bmVzY2FwZTogdW5lc2NhcGVcbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBLZXlFc2NhcGVVdGlscztcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI0MlwiLCBbXCI0N1wiLCBcIjhkXCIsIFwiZTZcIiwgXCIzMFwiLCBcIjQwXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSAkX19yZXF1aXJlKCc0NycpO1xuICAgIHZhciBSZWFjdEVsZW1lbnQgPSAkX19yZXF1aXJlKCc4ZCcpO1xuICAgIHZhciBnZXRJdGVyYXRvckZuID0gJF9fcmVxdWlyZSgnZTYnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgS2V5RXNjYXBlVXRpbHMgPSAkX19yZXF1aXJlKCc0MCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgU0VQQVJBVE9SID0gJy4nO1xuICAgIHZhciBTVUJTRVBBUkFUT1IgPSAnOic7XG4gICAgdmFyIGRpZFdhcm5BYm91dE1hcHMgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnRLZXkoY29tcG9uZW50LCBpbmRleCkge1xuICAgICAgaWYgKGNvbXBvbmVudCAmJiB0eXBlb2YgY29tcG9uZW50ID09PSAnb2JqZWN0JyAmJiBjb21wb25lbnQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIEtleUVzY2FwZVV0aWxzLmVzY2FwZShjb21wb25lbnQua2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleC50b1N0cmluZygzNik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkcmVuLCBuYW1lU29GYXIsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGNoaWxkcmVuO1xuICAgICAgaWYgKHR5cGUgPT09ICd1bmRlZmluZWQnIHx8IHR5cGUgPT09ICdib29sZWFuJykge1xuICAgICAgICBjaGlsZHJlbiA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoY2hpbGRyZW4gPT09IG51bGwgfHwgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ251bWJlcicgfHwgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkge1xuICAgICAgICBjYWxsYmFjayh0cmF2ZXJzZUNvbnRleHQsIGNoaWxkcmVuLCBuYW1lU29GYXIgPT09ICcnID8gU0VQQVJBVE9SICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkcmVuLCAwKSA6IG5hbWVTb0Zhcik7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgICAgdmFyIGNoaWxkO1xuICAgICAgdmFyIG5leHROYW1lO1xuICAgICAgdmFyIHN1YnRyZWVDb3VudCA9IDA7XG4gICAgICB2YXIgbmV4dE5hbWVQcmVmaXggPSBuYW1lU29GYXIgPT09ICcnID8gU0VQQVJBVE9SIDogbmFtZVNvRmFyICsgU1VCU0VQQVJBVE9SO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgIG5leHROYW1lID0gbmV4dE5hbWVQcmVmaXggKyBnZXRDb21wb25lbnRLZXkoY2hpbGQsIGkpO1xuICAgICAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZCwgbmV4dE5hbWUsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4oY2hpbGRyZW4pO1xuICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChjaGlsZHJlbik7XG4gICAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IGNoaWxkcmVuLmVudHJpZXMpIHtcbiAgICAgICAgICAgIHZhciBpaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIGNoaWxkID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgbmV4dE5hbWUgPSBuZXh0TmFtZVByZWZpeCArIGdldENvbXBvbmVudEtleShjaGlsZCwgaWkrKyk7XG4gICAgICAgICAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZCwgbmV4dE5hbWUsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhkaWRXYXJuQWJvdXRNYXBzLCAnVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyBub3QgeWV0IGZ1bGx5IHN1cHBvcnRlZC4gSXQgaXMgYW4gJyArICdleHBlcmltZW50YWwgZmVhdHVyZSB0aGF0IG1pZ2h0IGJlIHJlbW92ZWQuIENvbnZlcnQgaXQgdG8gYSAnICsgJ3NlcXVlbmNlIC8gaXRlcmFibGUgb2Yga2V5ZWQgUmVhY3RFbGVtZW50cyBpbnN0ZWFkLicpIDogdm9pZCAwO1xuICAgICAgICAgICAgICBkaWRXYXJuQWJvdXRNYXBzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBlbnRyeVsxXTtcbiAgICAgICAgICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgS2V5RXNjYXBlVXRpbHMuZXNjYXBlKGVudHJ5WzBdKSArIFNVQlNFUEFSQVRPUiArIGdldENvbXBvbmVudEtleShjaGlsZCwgMCk7XG4gICAgICAgICAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICB2YXIgYWRkZW5kdW0gPSAnJztcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgYWRkZW5kdW0gPSAnIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuLCB1c2UgYW4gYXJyYXkgJyArICdpbnN0ZWFkIG9yIHdyYXAgdGhlIG9iamVjdCB1c2luZyBjcmVhdGVGcmFnbWVudChvYmplY3QpIGZyb20gdGhlICcgKyAnUmVhY3QgYWRkLW9ucy4nO1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLl9pc1JlYWN0RWxlbWVudCkge1xuICAgICAgICAgICAgICBhZGRlbmR1bSA9ICcgSXQgbG9va3MgbGlrZSB5b3VcXCdyZSB1c2luZyBhbiBlbGVtZW50IGNyZWF0ZWQgYnkgYSBkaWZmZXJlbnQgJyArICd2ZXJzaW9uIG9mIFJlYWN0LiBNYWtlIHN1cmUgdG8gdXNlIG9ubHkgb25lIGNvcHkgb2YgUmVhY3QuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIHZhciBuYW1lID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC5nZXROYW1lKCk7XG4gICAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgYWRkZW5kdW0gKz0gJyBDaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBjaGlsZHJlblN0cmluZyA9IFN0cmluZyhjaGlsZHJlbik7XG4gICAgICAgICAgIWZhbHNlID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ09iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogJXMpLiVzJywgY2hpbGRyZW5TdHJpbmcgPT09ICdbb2JqZWN0IE9iamVjdF0nID8gJ29iamVjdCB3aXRoIGtleXMgeycgKyBPYmplY3Qua2V5cyhjaGlsZHJlbikuam9pbignLCAnKSArICd9JyA6IGNoaWxkcmVuU3RyaW5nLCBhZGRlbmR1bSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3VidHJlZUNvdW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KSB7XG4gICAgICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZHJlbiwgJycsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IHRyYXZlcnNlQWxsQ2hpbGRyZW47XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjMyXCIsIFtcIjRcIiwgXCI4ZFwiLCBcIjQ4XCIsIFwiNDJcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBQb29sZWRDbGFzcyA9ICRfX3JlcXVpcmUoJzQnKTtcbiAgdmFyIFJlYWN0RWxlbWVudCA9ICRfX3JlcXVpcmUoJzhkJyk7XG4gIHZhciBlbXB0eUZ1bmN0aW9uID0gJF9fcmVxdWlyZSgnNDgnKTtcbiAgdmFyIHRyYXZlcnNlQWxsQ2hpbGRyZW4gPSAkX19yZXF1aXJlKCc0MicpO1xuICB2YXIgdHdvQXJndW1lbnRQb29sZXIgPSBQb29sZWRDbGFzcy50d29Bcmd1bWVudFBvb2xlcjtcbiAgdmFyIGZvdXJBcmd1bWVudFBvb2xlciA9IFBvb2xlZENsYXNzLmZvdXJBcmd1bWVudFBvb2xlcjtcbiAgdmFyIHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4ID0gL1xcLysvZztcbiAgZnVuY3Rpb24gZXNjYXBlVXNlclByb3ZpZGVkS2V5KHRleHQpIHtcbiAgICByZXR1cm4gKCcnICsgdGV4dCkucmVwbGFjZSh1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCwgJyQmLycpO1xuICB9XG4gIGZ1bmN0aW9uIEZvckVhY2hCb29rS2VlcGluZyhmb3JFYWNoRnVuY3Rpb24sIGZvckVhY2hDb250ZXh0KSB7XG4gICAgdGhpcy5mdW5jID0gZm9yRWFjaEZ1bmN0aW9uO1xuICAgIHRoaXMuY29udGV4dCA9IGZvckVhY2hDb250ZXh0O1xuICAgIHRoaXMuY291bnQgPSAwO1xuICB9XG4gIEZvckVhY2hCb29rS2VlcGluZy5wcm90b3R5cGUuZGVzdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZnVuYyA9IG51bGw7XG4gICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgfTtcbiAgUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKEZvckVhY2hCb29rS2VlcGluZywgdHdvQXJndW1lbnRQb29sZXIpO1xuICBmdW5jdGlvbiBmb3JFYWNoU2luZ2xlQ2hpbGQoYm9va0tlZXBpbmcsIGNoaWxkLCBuYW1lKSB7XG4gICAgdmFyIGZ1bmMgPSBib29rS2VlcGluZy5mdW5jO1xuICAgIHZhciBjb250ZXh0ID0gYm9va0tlZXBpbmcuY29udGV4dDtcbiAgICBmdW5jLmNhbGwoY29udGV4dCwgY2hpbGQsIGJvb2tLZWVwaW5nLmNvdW50KyspO1xuICB9XG4gIGZ1bmN0aW9uIGZvckVhY2hDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KSB7XG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG4gICAgdmFyIHRyYXZlcnNlQ29udGV4dCA9IEZvckVhY2hCb29rS2VlcGluZy5nZXRQb29sZWQoZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KTtcbiAgICB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBmb3JFYWNoU2luZ2xlQ2hpbGQsIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgRm9yRWFjaEJvb2tLZWVwaW5nLnJlbGVhc2UodHJhdmVyc2VDb250ZXh0KTtcbiAgfVxuICBmdW5jdGlvbiBNYXBCb29rS2VlcGluZyhtYXBSZXN1bHQsIGtleVByZWZpeCwgbWFwRnVuY3Rpb24sIG1hcENvbnRleHQpIHtcbiAgICB0aGlzLnJlc3VsdCA9IG1hcFJlc3VsdDtcbiAgICB0aGlzLmtleVByZWZpeCA9IGtleVByZWZpeDtcbiAgICB0aGlzLmZ1bmMgPSBtYXBGdW5jdGlvbjtcbiAgICB0aGlzLmNvbnRleHQgPSBtYXBDb250ZXh0O1xuICAgIHRoaXMuY291bnQgPSAwO1xuICB9XG4gIE1hcEJvb2tLZWVwaW5nLnByb3RvdHlwZS5kZXN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZXN1bHQgPSBudWxsO1xuICAgIHRoaXMua2V5UHJlZml4ID0gbnVsbDtcbiAgICB0aGlzLmZ1bmMgPSBudWxsO1xuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gIH07XG4gIFBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhNYXBCb29rS2VlcGluZywgZm91ckFyZ3VtZW50UG9vbGVyKTtcbiAgZnVuY3Rpb24gbWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dChib29rS2VlcGluZywgY2hpbGQsIGNoaWxkS2V5KSB7XG4gICAgdmFyIHJlc3VsdCA9IGJvb2tLZWVwaW5nLnJlc3VsdDtcbiAgICB2YXIga2V5UHJlZml4ID0gYm9va0tlZXBpbmcua2V5UHJlZml4O1xuICAgIHZhciBmdW5jID0gYm9va0tlZXBpbmcuZnVuYztcbiAgICB2YXIgY29udGV4dCA9IGJvb2tLZWVwaW5nLmNvbnRleHQ7XG4gICAgdmFyIG1hcHBlZENoaWxkID0gZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBib29rS2VlcGluZy5jb3VudCsrKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShtYXBwZWRDaGlsZCkpIHtcbiAgICAgIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwobWFwcGVkQ2hpbGQsIHJlc3VsdCwgY2hpbGRLZXksIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCk7XG4gICAgfSBlbHNlIGlmIChtYXBwZWRDaGlsZCAhPSBudWxsKSB7XG4gICAgICBpZiAoUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KG1hcHBlZENoaWxkKSkge1xuICAgICAgICBtYXBwZWRDaGlsZCA9IFJlYWN0RWxlbWVudC5jbG9uZUFuZFJlcGxhY2VLZXkobWFwcGVkQ2hpbGQsIGtleVByZWZpeCArIChtYXBwZWRDaGlsZC5rZXkgJiYgKCFjaGlsZCB8fCBjaGlsZC5rZXkgIT09IG1hcHBlZENoaWxkLmtleSkgPyBlc2NhcGVVc2VyUHJvdmlkZWRLZXkobWFwcGVkQ2hpbGQua2V5KSArICcvJyA6ICcnKSArIGNoaWxkS2V5KTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wdXNoKG1hcHBlZENoaWxkKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbChjaGlsZHJlbiwgYXJyYXksIHByZWZpeCwgZnVuYywgY29udGV4dCkge1xuICAgIHZhciBlc2NhcGVkUHJlZml4ID0gJyc7XG4gICAgaWYgKHByZWZpeCAhPSBudWxsKSB7XG4gICAgICBlc2NhcGVkUHJlZml4ID0gZXNjYXBlVXNlclByb3ZpZGVkS2V5KHByZWZpeCkgKyAnLyc7XG4gICAgfVxuICAgIHZhciB0cmF2ZXJzZUNvbnRleHQgPSBNYXBCb29rS2VlcGluZy5nZXRQb29sZWQoYXJyYXksIGVzY2FwZWRQcmVmaXgsIGZ1bmMsIGNvbnRleHQpO1xuICAgIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIG1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQsIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgTWFwQm9va0tlZXBpbmcucmVsZWFzZSh0cmF2ZXJzZUNvbnRleHQpO1xuICB9XG4gIGZ1bmN0aW9uIG1hcENoaWxkcmVuKGNoaWxkcmVuLCBmdW5jLCBjb250ZXh0KSB7XG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwoY2hpbGRyZW4sIHJlc3VsdCwgbnVsbCwgZnVuYywgY29udGV4dCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBmdW5jdGlvbiBmb3JFYWNoU2luZ2xlQ2hpbGREdW1teSh0cmF2ZXJzZUNvbnRleHQsIGNoaWxkLCBuYW1lKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gY291bnRDaGlsZHJlbihjaGlsZHJlbiwgY29udGV4dCkge1xuICAgIHJldHVybiB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBmb3JFYWNoU2luZ2xlQ2hpbGREdW1teSwgbnVsbCk7XG4gIH1cbiAgZnVuY3Rpb24gdG9BcnJheShjaGlsZHJlbikge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCByZXN1bHQsIG51bGwsIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICB2YXIgUmVhY3RDaGlsZHJlbiA9IHtcbiAgICBmb3JFYWNoOiBmb3JFYWNoQ2hpbGRyZW4sXG4gICAgbWFwOiBtYXBDaGlsZHJlbixcbiAgICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsOiBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsLFxuICAgIGNvdW50OiBjb3VudENoaWxkcmVuLFxuICAgIHRvQXJyYXk6IHRvQXJyYXlcbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdENoaWxkcmVuO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImRcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSB7XG4gICAgY2FuVXNlRE9NOiBjYW5Vc2VET00sXG4gICAgY2FuVXNlV29ya2VyczogdHlwZW9mIFdvcmtlciAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgY2FuVXNlRXZlbnRMaXN0ZW5lcnM6IGNhblVzZURPTSAmJiAhISh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciB8fCB3aW5kb3cuYXR0YWNoRXZlbnQpLFxuICAgIGNhblVzZVZpZXdwb3J0OiBjYW5Vc2VET00gJiYgISF3aW5kb3cuc2NyZWVuLFxuICAgIGlzSW5Xb3JrZXI6ICFjYW5Vc2VET01cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFeGVjdXRpb25FbnZpcm9ubWVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJlN1wiLCBbXCJkXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSAkX19yZXF1aXJlKCdkJyk7XG4gIHZhciBwZXJmb3JtYW5jZTtcbiAgaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIHBlcmZvcm1hbmNlID0gd2luZG93LnBlcmZvcm1hbmNlIHx8IHdpbmRvdy5tc1BlcmZvcm1hbmNlIHx8IHdpbmRvdy53ZWJraXRQZXJmb3JtYW5jZTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IHBlcmZvcm1hbmNlIHx8IHt9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImU4XCIsIFtcImU3XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgcGVyZm9ybWFuY2UgPSAkX19yZXF1aXJlKCdlNycpO1xuICB2YXIgcGVyZm9ybWFuY2VOb3c7XG4gIGlmIChwZXJmb3JtYW5jZS5ub3cpIHtcbiAgICBwZXJmb3JtYW5jZU5vdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcGVyZm9ybWFuY2VOb3cgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBEYXRlLm5vdygpO1xuICAgIH07XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBwZXJmb3JtYW5jZU5vdztcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJlOVwiLCBbXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHByb2Nlc3NpbmdDaGlsZENvbnRleHQgPSBmYWxzZTtcbiAgICAgIHZhciB3YXJuSW52YWxpZFNldFN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFwcm9jZXNzaW5nQ2hpbGRDb250ZXh0LCAnc2V0U3RhdGUoLi4uKTogQ2Fubm90IGNhbGwgc2V0U3RhdGUoKSBpbnNpZGUgZ2V0Q2hpbGRDb250ZXh0KCknKSA6IHZvaWQgMDtcbiAgICAgIH07XG4gICAgfVxuICAgIHZhciBSZWFjdEludmFsaWRTZXRTdGF0ZVdhcm5pbmdEZXZUb29sID0ge1xuICAgICAgb25CZWdpblByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBwcm9jZXNzaW5nQ2hpbGRDb250ZXh0ID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBvbkVuZFByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBwcm9jZXNzaW5nQ2hpbGRDb250ZXh0ID0gZmFsc2U7XG4gICAgICB9LFxuICAgICAgb25TZXRTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHdhcm5JbnZhbGlkU2V0U3RhdGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RJbnZhbGlkU2V0U3RhdGVXYXJuaW5nRGV2VG9vbDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZWFcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBoaXN0b3J5ID0gW107XG4gIHZhciBSZWFjdE5hdGl2ZU9wZXJhdGlvbkhpc3RvcnlEZXZ0b29sID0ge1xuICAgIG9uTmF0aXZlT3BlcmF0aW9uOiBmdW5jdGlvbihkZWJ1Z0lELCB0eXBlLCBwYXlsb2FkKSB7XG4gICAgICBoaXN0b3J5LnB1c2goe1xuICAgICAgICBpbnN0YW5jZUlEOiBkZWJ1Z0lELFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBwYXlsb2FkOiBwYXlsb2FkXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNsZWFySGlzdG9yeTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoUmVhY3ROYXRpdmVPcGVyYXRpb25IaXN0b3J5RGV2dG9vbC5fcHJldmVudENsZWFyaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGhpc3RvcnkgPSBbXTtcbiAgICB9LFxuICAgIGdldEhpc3Rvcnk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGhpc3Rvcnk7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0TmF0aXZlT3BlcmF0aW9uSGlzdG9yeURldnRvb2w7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZWJcIiwgW1wiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgdHJlZSA9IHt9O1xuICAgIHZhciByb290SURzID0gW107XG4gICAgZnVuY3Rpb24gdXBkYXRlVHJlZShpZCwgdXBkYXRlKSB7XG4gICAgICBpZiAoIXRyZWVbaWRdKSB7XG4gICAgICAgIHRyZWVbaWRdID0ge1xuICAgICAgICAgIHBhcmVudElEOiBudWxsLFxuICAgICAgICAgIG93bmVySUQ6IG51bGwsXG4gICAgICAgICAgdGV4dDogbnVsbCxcbiAgICAgICAgICBjaGlsZElEczogW10sXG4gICAgICAgICAgZGlzcGxheU5hbWU6ICdVbmtub3duJyxcbiAgICAgICAgICBpc01vdW50ZWQ6IGZhbHNlLFxuICAgICAgICAgIHVwZGF0ZUNvdW50OiAwXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB1cGRhdGUodHJlZVtpZF0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXJnZURlZXAoaWQpIHtcbiAgICAgIHZhciBpdGVtID0gdHJlZVtpZF07XG4gICAgICBpZiAoaXRlbSkge1xuICAgICAgICB2YXIgY2hpbGRJRHMgPSBpdGVtLmNoaWxkSURzO1xuICAgICAgICBkZWxldGUgdHJlZVtpZF07XG4gICAgICAgIGNoaWxkSURzLmZvckVhY2gocHVyZ2VEZWVwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wgPSB7XG4gICAgICBvblNldERpc3BsYXlOYW1lOiBmdW5jdGlvbihpZCwgZGlzcGxheU5hbWUpIHtcbiAgICAgICAgdXBkYXRlVHJlZShpZCwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG9uU2V0Q2hpbGRyZW46IGZ1bmN0aW9uKGlkLCBuZXh0Q2hpbGRJRHMpIHtcbiAgICAgICAgdXBkYXRlVHJlZShpZCwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHZhciBwcmV2Q2hpbGRJRHMgPSBpdGVtLmNoaWxkSURzO1xuICAgICAgICAgIGl0ZW0uY2hpbGRJRHMgPSBuZXh0Q2hpbGRJRHM7XG4gICAgICAgICAgbmV4dENoaWxkSURzLmZvckVhY2goZnVuY3Rpb24obmV4dENoaWxkSUQpIHtcbiAgICAgICAgICAgIHZhciBuZXh0Q2hpbGQgPSB0cmVlW25leHRDaGlsZElEXTtcbiAgICAgICAgICAgICFuZXh0Q2hpbGQgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgZGV2dG9vbCBldmVudHMgdG8gZmlyZSBmb3IgdGhlIGNoaWxkICcgKyAnYmVmb3JlIGl0cyBwYXJlbnQgaW5jbHVkZXMgaXQgaW4gb25TZXRDaGlsZHJlbigpLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICEobmV4dENoaWxkLmRpc3BsYXlOYW1lICE9IG51bGwpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIG9uU2V0RGlzcGxheU5hbWUoKSB0byBmaXJlIGZvciB0aGUgY2hpbGQgJyArICdiZWZvcmUgaXRzIHBhcmVudCBpbmNsdWRlcyBpdCBpbiBvblNldENoaWxkcmVuKCkuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgIShuZXh0Q2hpbGQuY2hpbGRJRHMgIT0gbnVsbCB8fCBuZXh0Q2hpbGQudGV4dCAhPSBudWxsKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBvblNldENoaWxkcmVuKCkgb3Igb25TZXRUZXh0KCkgdG8gZmlyZSBmb3IgdGhlIGNoaWxkICcgKyAnYmVmb3JlIGl0cyBwYXJlbnQgaW5jbHVkZXMgaXQgaW4gb25TZXRDaGlsZHJlbigpLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICFuZXh0Q2hpbGQuaXNNb3VudGVkID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIG9uTW91bnRDb21wb25lbnQoKSB0byBmaXJlIGZvciB0aGUgY2hpbGQgJyArICdiZWZvcmUgaXRzIHBhcmVudCBpbmNsdWRlcyBpdCBpbiBvblNldENoaWxkcmVuKCkuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHByZXZDaGlsZElEcy5pbmRleE9mKG5leHRDaGlsZElEKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgbmV4dENoaWxkLnBhcmVudElEID0gaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG9uU2V0T3duZXI6IGZ1bmN0aW9uKGlkLCBvd25lcklEKSB7XG4gICAgICAgIHVwZGF0ZVRyZWUoaWQsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXRlbS5vd25lcklEID0gb3duZXJJRDtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgb25TZXRUZXh0OiBmdW5jdGlvbihpZCwgdGV4dCkge1xuICAgICAgICB1cGRhdGVUcmVlKGlkLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0udGV4dCA9IHRleHQ7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG9uTW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHVwZGF0ZVRyZWUoaWQsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXRlbS5pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBvbk1vdW50Um9vdENvbXBvbmVudDogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgcm9vdElEcy5wdXNoKGlkKTtcbiAgICAgIH0sXG4gICAgICBvblVwZGF0ZUNvbXBvbmVudDogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgdXBkYXRlVHJlZShpZCwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtLnVwZGF0ZUNvdW50Kys7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG9uVW5tb3VudENvbXBvbmVudDogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgdXBkYXRlVHJlZShpZCwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtLmlzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcm9vdElEcyA9IHJvb3RJRHMuZmlsdGVyKGZ1bmN0aW9uKHJvb3RJRCkge1xuICAgICAgICAgIHJldHVybiByb290SUQgIT09IGlkO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBwdXJnZVVubW91bnRlZENvbXBvbmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5fcHJldmVudFB1cmdpbmcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmtleXModHJlZSkuZmlsdGVyKGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgcmV0dXJuICF0cmVlW2lkXS5pc01vdW50ZWQ7XG4gICAgICAgIH0pLmZvckVhY2gocHVyZ2VEZWVwKTtcbiAgICAgIH0sXG4gICAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHZhciBpdGVtID0gdHJlZVtpZF07XG4gICAgICAgIHJldHVybiBpdGVtID8gaXRlbS5pc01vdW50ZWQgOiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBnZXRDaGlsZElEczogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0cmVlW2lkXTtcbiAgICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLmNoaWxkSURzIDogW107XG4gICAgICB9LFxuICAgICAgZ2V0RGlzcGxheU5hbWU6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHZhciBpdGVtID0gdHJlZVtpZF07XG4gICAgICAgIHJldHVybiBpdGVtID8gaXRlbS5kaXNwbGF5TmFtZSA6ICdVbmtub3duJztcbiAgICAgIH0sXG4gICAgICBnZXRPd25lcklEOiBmdW5jdGlvbihpZCkge1xuICAgICAgICB2YXIgaXRlbSA9IHRyZWVbaWRdO1xuICAgICAgICByZXR1cm4gaXRlbSA/IGl0ZW0ub3duZXJJRCA6IG51bGw7XG4gICAgICB9LFxuICAgICAgZ2V0UGFyZW50SUQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHZhciBpdGVtID0gdHJlZVtpZF07XG4gICAgICAgIHJldHVybiBpdGVtID8gaXRlbS5wYXJlbnRJRCA6IG51bGw7XG4gICAgICB9LFxuICAgICAgZ2V0VGV4dDogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0cmVlW2lkXTtcbiAgICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLnRleHQgOiBudWxsO1xuICAgICAgfSxcbiAgICAgIGdldFVwZGF0ZUNvdW50OiBmdW5jdGlvbihpZCkge1xuICAgICAgICB2YXIgaXRlbSA9IHRyZWVbaWRdO1xuICAgICAgICByZXR1cm4gaXRlbSA/IGl0ZW0udXBkYXRlQ291bnQgOiAwO1xuICAgICAgfSxcbiAgICAgIGdldFJvb3RJRHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcm9vdElEcztcbiAgICAgIH0sXG4gICAgICBnZXRSZWdpc3RlcmVkSURzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRyZWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJlY1wiLCBbXCJkXCIsIFwiZThcIiwgXCIyMlwiLCBcImU5XCIsIFwiZWFcIiwgXCJlYlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9ICRfX3JlcXVpcmUoJ2QnKTtcbiAgICB2YXIgcGVyZm9ybWFuY2VOb3cgPSAkX19yZXF1aXJlKCdlOCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgZXZlbnRIYW5kbGVycyA9IFtdO1xuICAgIHZhciBoYW5kbGVyRG9lc1Rocm93Rm9yRXZlbnQgPSB7fTtcbiAgICBmdW5jdGlvbiBlbWl0RXZlbnQoaGFuZGxlckZ1bmN0aW9uTmFtZSwgYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSkge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgZXZlbnRIYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGhhbmRsZXJbaGFuZGxlckZ1bmN0aW9uTmFtZV0pIHtcbiAgICAgICAgICAgICAgaGFuZGxlcltoYW5kbGVyRnVuY3Rpb25OYW1lXShhcmcxLCBhcmcyLCBhcmczLCBhcmc0LCBhcmc1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50W2hhbmRsZXJGdW5jdGlvbk5hbWVdLCAnZXhjZXB0aW9uIHRocm93biBieSBkZXZ0b29sIHdoaWxlIGhhbmRsaW5nICVzOiAlcycsIGhhbmRsZXJGdW5jdGlvbk5hbWUsIGUubWVzc2FnZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICBoYW5kbGVyRG9lc1Rocm93Rm9yRXZlbnRbaGFuZGxlckZ1bmN0aW9uTmFtZV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBpc1Byb2ZpbGluZyA9IGZhbHNlO1xuICAgIHZhciBmbHVzaEhpc3RvcnkgPSBbXTtcbiAgICB2YXIgY3VycmVudEZsdXNoTmVzdGluZyA9IDA7XG4gICAgdmFyIGN1cnJlbnRGbHVzaE1lYXN1cmVtZW50cyA9IG51bGw7XG4gICAgdmFyIGN1cnJlbnRGbHVzaFN0YXJ0VGltZSA9IG51bGw7XG4gICAgdmFyIGN1cnJlbnRUaW1lckRlYnVnSUQgPSBudWxsO1xuICAgIHZhciBjdXJyZW50VGltZXJTdGFydFRpbWUgPSBudWxsO1xuICAgIHZhciBjdXJyZW50VGltZXJUeXBlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBjbGVhckhpc3RvcnkoKSB7XG4gICAgICBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sLnB1cmdlVW5tb3VudGVkQ29tcG9uZW50cygpO1xuICAgICAgUmVhY3ROYXRpdmVPcGVyYXRpb25IaXN0b3J5RGV2dG9vbC5jbGVhckhpc3RvcnkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VHJlZVNuYXBzaG90KHJlZ2lzdGVyZWRJRHMpIHtcbiAgICAgIHJldHVybiByZWdpc3RlcmVkSURzLnJlZHVjZShmdW5jdGlvbih0cmVlLCBpZCkge1xuICAgICAgICB2YXIgb3duZXJJRCA9IFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuZ2V0T3duZXJJRChpZCk7XG4gICAgICAgIHZhciBwYXJlbnRJRCA9IFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuZ2V0UGFyZW50SUQoaWQpO1xuICAgICAgICB0cmVlW2lkXSA9IHtcbiAgICAgICAgICBkaXNwbGF5TmFtZTogUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5nZXREaXNwbGF5TmFtZShpZCksXG4gICAgICAgICAgdGV4dDogUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5nZXRUZXh0KGlkKSxcbiAgICAgICAgICB1cGRhdGVDb3VudDogUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5nZXRVcGRhdGVDb3VudChpZCksXG4gICAgICAgICAgY2hpbGRJRHM6IFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuZ2V0Q2hpbGRJRHMoaWQpLFxuICAgICAgICAgIG93bmVySUQ6IG93bmVySUQgfHwgUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5nZXRPd25lcklEKHBhcmVudElEKSxcbiAgICAgICAgICBwYXJlbnRJRDogcGFyZW50SURcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRyZWU7XG4gICAgICB9LCB7fSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0TWVhc3VyZW1lbnRzKCkge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzU3RhcnRUaW1lID0gY3VycmVudEZsdXNoU3RhcnRUaW1lO1xuICAgICAgICB2YXIgcHJldmlvdXNNZWFzdXJlbWVudHMgPSBjdXJyZW50Rmx1c2hNZWFzdXJlbWVudHMgfHwgW107XG4gICAgICAgIHZhciBwcmV2aW91c09wZXJhdGlvbnMgPSBSZWFjdE5hdGl2ZU9wZXJhdGlvbkhpc3RvcnlEZXZ0b29sLmdldEhpc3RvcnkoKTtcbiAgICAgICAgaWYgKCFpc1Byb2ZpbGluZyB8fCBjdXJyZW50Rmx1c2hOZXN0aW5nID09PSAwKSB7XG4gICAgICAgICAgY3VycmVudEZsdXNoU3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgICBjdXJyZW50Rmx1c2hNZWFzdXJlbWVudHMgPSBudWxsO1xuICAgICAgICAgIGNsZWFySGlzdG9yeSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJldmlvdXNNZWFzdXJlbWVudHMubGVuZ3RoIHx8IHByZXZpb3VzT3BlcmF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcmVnaXN0ZXJlZElEcyA9IFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuZ2V0UmVnaXN0ZXJlZElEcygpO1xuICAgICAgICAgIGZsdXNoSGlzdG9yeS5wdXNoKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBwZXJmb3JtYW5jZU5vdygpIC0gcHJldmlvdXNTdGFydFRpbWUsXG4gICAgICAgICAgICBtZWFzdXJlbWVudHM6IHByZXZpb3VzTWVhc3VyZW1lbnRzIHx8IFtdLFxuICAgICAgICAgICAgb3BlcmF0aW9uczogcHJldmlvdXNPcGVyYXRpb25zIHx8IFtdLFxuICAgICAgICAgICAgdHJlZVNuYXBzaG90OiBnZXRUcmVlU25hcHNob3QocmVnaXN0ZXJlZElEcylcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjbGVhckhpc3RvcnkoKTtcbiAgICAgICAgY3VycmVudEZsdXNoU3RhcnRUaW1lID0gcGVyZm9ybWFuY2VOb3coKTtcbiAgICAgICAgY3VycmVudEZsdXNoTWVhc3VyZW1lbnRzID0gW107XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrRGVidWdJRChkZWJ1Z0lEKSB7XG4gICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhkZWJ1Z0lELCAnUmVhY3REZWJ1Z1Rvb2w6IGRlYnVnSUQgbWF5IG5vdCBiZSBlbXB0eS4nKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgdmFyIFJlYWN0RGVidWdUb29sID0ge1xuICAgICAgYWRkRGV2dG9vbDogZnVuY3Rpb24oZGV2dG9vbCkge1xuICAgICAgICBldmVudEhhbmRsZXJzLnB1c2goZGV2dG9vbCk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlRGV2dG9vbDogZnVuY3Rpb24oZGV2dG9vbCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50SGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVyc1tpXSA9PT0gZGV2dG9vbCkge1xuICAgICAgICAgICAgZXZlbnRIYW5kbGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYmVnaW5Qcm9maWxpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmIChpc1Byb2ZpbGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpc1Byb2ZpbGluZyA9IHRydWU7XG4gICAgICAgICAgZmx1c2hIaXN0b3J5Lmxlbmd0aCA9IDA7XG4gICAgICAgICAgcmVzZXRNZWFzdXJlbWVudHMoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVuZFByb2ZpbGluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKCFpc1Byb2ZpbGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpc1Byb2ZpbGluZyA9IGZhbHNlO1xuICAgICAgICAgIHJlc2V0TWVhc3VyZW1lbnRzKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXRGbHVzaEhpc3Rvcnk6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBmbHVzaEhpc3Rvcnk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbkJlZ2luRmx1c2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGN1cnJlbnRGbHVzaE5lc3RpbmcrKztcbiAgICAgICAgICByZXNldE1lYXN1cmVtZW50cygpO1xuICAgICAgICB9XG4gICAgICAgIGVtaXRFdmVudCgnb25CZWdpbkZsdXNoJyk7XG4gICAgICB9LFxuICAgICAgb25FbmRGbHVzaDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgcmVzZXRNZWFzdXJlbWVudHMoKTtcbiAgICAgICAgICBjdXJyZW50Rmx1c2hOZXN0aW5nLS07XG4gICAgICAgIH1cbiAgICAgICAgZW1pdEV2ZW50KCdvbkVuZEZsdXNoJyk7XG4gICAgICB9LFxuICAgICAgb25CZWdpbkxpZmVDeWNsZVRpbWVyOiBmdW5jdGlvbihkZWJ1Z0lELCB0aW1lclR5cGUpIHtcbiAgICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgICBlbWl0RXZlbnQoJ29uQmVnaW5MaWZlQ3ljbGVUaW1lcicsIGRlYnVnSUQsIHRpbWVyVHlwZSk7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGlzUHJvZmlsaW5nICYmIGN1cnJlbnRGbHVzaE5lc3RpbmcgPiAwKSB7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghY3VycmVudFRpbWVyVHlwZSwgJ1RoZXJlIGlzIGFuIGludGVybmFsIGVycm9yIGluIHRoZSBSZWFjdCBwZXJmb3JtYW5jZSBtZWFzdXJlbWVudCBjb2RlLiAnICsgJ0RpZCBub3QgZXhwZWN0ICVzIHRpbWVyIHRvIHN0YXJ0IHdoaWxlICVzIHRpbWVyIGlzIHN0aWxsIGluICcgKyAncHJvZ3Jlc3MgZm9yICVzIGluc3RhbmNlLicsIHRpbWVyVHlwZSwgY3VycmVudFRpbWVyVHlwZSB8fCAnbm8nLCBkZWJ1Z0lEID09PSBjdXJyZW50VGltZXJEZWJ1Z0lEID8gJ3RoZSBzYW1lJyA6ICdhbm90aGVyJykgOiB2b2lkIDA7XG4gICAgICAgICAgICBjdXJyZW50VGltZXJTdGFydFRpbWUgPSBwZXJmb3JtYW5jZU5vdygpO1xuICAgICAgICAgICAgY3VycmVudFRpbWVyRGVidWdJRCA9IGRlYnVnSUQ7XG4gICAgICAgICAgICBjdXJyZW50VGltZXJUeXBlID0gdGltZXJUeXBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uRW5kTGlmZUN5Y2xlVGltZXI6IGZ1bmN0aW9uKGRlYnVnSUQsIHRpbWVyVHlwZSkge1xuICAgICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGlzUHJvZmlsaW5nICYmIGN1cnJlbnRGbHVzaE5lc3RpbmcgPiAwKSB7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhjdXJyZW50VGltZXJUeXBlID09PSB0aW1lclR5cGUsICdUaGVyZSBpcyBhbiBpbnRlcm5hbCBlcnJvciBpbiB0aGUgUmVhY3QgcGVyZm9ybWFuY2UgbWVhc3VyZW1lbnQgY29kZS4gJyArICdXZSBkaWQgbm90IGV4cGVjdCAlcyB0aW1lciB0byBzdG9wIHdoaWxlICVzIHRpbWVyIGlzIHN0aWxsIGluICcgKyAncHJvZ3Jlc3MgZm9yICVzIGluc3RhbmNlLiBQbGVhc2UgcmVwb3J0IHRoaXMgYXMgYSBidWcgaW4gUmVhY3QuJywgdGltZXJUeXBlLCBjdXJyZW50VGltZXJUeXBlIHx8ICdubycsIGRlYnVnSUQgPT09IGN1cnJlbnRUaW1lckRlYnVnSUQgPyAndGhlIHNhbWUnIDogJ2Fub3RoZXInKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGN1cnJlbnRGbHVzaE1lYXN1cmVtZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgdGltZXJUeXBlOiB0aW1lclR5cGUsXG4gICAgICAgICAgICAgIGluc3RhbmNlSUQ6IGRlYnVnSUQsXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiBwZXJmb3JtYW5jZU5vdygpIC0gY3VycmVudFRpbWVyU3RhcnRUaW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lclN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgICAgICBjdXJyZW50VGltZXJEZWJ1Z0lEID0gbnVsbDtcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lclR5cGUgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbWl0RXZlbnQoJ29uRW5kTGlmZUN5Y2xlVGltZXInLCBkZWJ1Z0lELCB0aW1lclR5cGUpO1xuICAgICAgfSxcbiAgICAgIG9uQmVnaW5SZWNvbmNpbGVyVGltZXI6IGZ1bmN0aW9uKGRlYnVnSUQsIHRpbWVyVHlwZSkge1xuICAgICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICAgIGVtaXRFdmVudCgnb25CZWdpblJlY29uY2lsZXJUaW1lcicsIGRlYnVnSUQsIHRpbWVyVHlwZSk7XG4gICAgICB9LFxuICAgICAgb25FbmRSZWNvbmNpbGVyVGltZXI6IGZ1bmN0aW9uKGRlYnVnSUQsIHRpbWVyVHlwZSkge1xuICAgICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICAgIGVtaXRFdmVudCgnb25FbmRSZWNvbmNpbGVyVGltZXInLCBkZWJ1Z0lELCB0aW1lclR5cGUpO1xuICAgICAgfSxcbiAgICAgIG9uQmVnaW5Qcm9jZXNzaW5nQ2hpbGRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgZW1pdEV2ZW50KCdvbkJlZ2luUHJvY2Vzc2luZ0NoaWxkQ29udGV4dCcpO1xuICAgICAgfSxcbiAgICAgIG9uRW5kUHJvY2Vzc2luZ0NoaWxkQ29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGVtaXRFdmVudCgnb25FbmRQcm9jZXNzaW5nQ2hpbGRDb250ZXh0Jyk7XG4gICAgICB9LFxuICAgICAgb25OYXRpdmVPcGVyYXRpb246IGZ1bmN0aW9uKGRlYnVnSUQsIHR5cGUsIHBheWxvYWQpIHtcbiAgICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgICBlbWl0RXZlbnQoJ29uTmF0aXZlT3BlcmF0aW9uJywgZGVidWdJRCwgdHlwZSwgcGF5bG9hZCk7XG4gICAgICB9LFxuICAgICAgb25TZXRTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGVtaXRFdmVudCgnb25TZXRTdGF0ZScpO1xuICAgICAgfSxcbiAgICAgIG9uU2V0RGlzcGxheU5hbWU6IGZ1bmN0aW9uKGRlYnVnSUQsIGRpc3BsYXlOYW1lKSB7XG4gICAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgICAgZW1pdEV2ZW50KCdvblNldERpc3BsYXlOYW1lJywgZGVidWdJRCwgZGlzcGxheU5hbWUpO1xuICAgICAgfSxcbiAgICAgIG9uU2V0Q2hpbGRyZW46IGZ1bmN0aW9uKGRlYnVnSUQsIGNoaWxkRGVidWdJRHMpIHtcbiAgICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgICBlbWl0RXZlbnQoJ29uU2V0Q2hpbGRyZW4nLCBkZWJ1Z0lELCBjaGlsZERlYnVnSURzKTtcbiAgICAgIH0sXG4gICAgICBvblNldE93bmVyOiBmdW5jdGlvbihkZWJ1Z0lELCBvd25lckRlYnVnSUQpIHtcbiAgICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgICBlbWl0RXZlbnQoJ29uU2V0T3duZXInLCBkZWJ1Z0lELCBvd25lckRlYnVnSUQpO1xuICAgICAgfSxcbiAgICAgIG9uU2V0VGV4dDogZnVuY3Rpb24oZGVidWdJRCwgdGV4dCkge1xuICAgICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICAgIGVtaXRFdmVudCgnb25TZXRUZXh0JywgZGVidWdJRCwgdGV4dCk7XG4gICAgICB9LFxuICAgICAgb25Nb3VudFJvb3RDb21wb25lbnQ6IGZ1bmN0aW9uKGRlYnVnSUQpIHtcbiAgICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgICBlbWl0RXZlbnQoJ29uTW91bnRSb290Q29tcG9uZW50JywgZGVidWdJRCk7XG4gICAgICB9LFxuICAgICAgb25Nb3VudENvbXBvbmVudDogZnVuY3Rpb24oZGVidWdJRCkge1xuICAgICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICAgIGVtaXRFdmVudCgnb25Nb3VudENvbXBvbmVudCcsIGRlYnVnSUQpO1xuICAgICAgfSxcbiAgICAgIG9uVXBkYXRlQ29tcG9uZW50OiBmdW5jdGlvbihkZWJ1Z0lEKSB7XG4gICAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgICAgZW1pdEV2ZW50KCdvblVwZGF0ZUNvbXBvbmVudCcsIGRlYnVnSUQpO1xuICAgICAgfSxcbiAgICAgIG9uVW5tb3VudENvbXBvbmVudDogZnVuY3Rpb24oZGVidWdJRCkge1xuICAgICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICAgIGVtaXRFdmVudCgnb25Vbm1vdW50Q29tcG9uZW50JywgZGVidWdJRCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIFJlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2wgPSAkX19yZXF1aXJlKCdlOScpO1xuICAgICAgdmFyIFJlYWN0TmF0aXZlT3BlcmF0aW9uSGlzdG9yeURldnRvb2wgPSAkX19yZXF1aXJlKCdlYScpO1xuICAgICAgdmFyIFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wgPSAkX19yZXF1aXJlKCdlYicpO1xuICAgICAgUmVhY3REZWJ1Z1Rvb2wuYWRkRGV2dG9vbChSZWFjdEludmFsaWRTZXRTdGF0ZVdhcm5pbmdEZXZUb29sKTtcbiAgICAgIFJlYWN0RGVidWdUb29sLmFkZERldnRvb2woUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbCk7XG4gICAgICBSZWFjdERlYnVnVG9vbC5hZGREZXZ0b29sKFJlYWN0TmF0aXZlT3BlcmF0aW9uSGlzdG9yeURldnRvb2wpO1xuICAgICAgdmFyIHVybCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiB3aW5kb3cubG9jYXRpb24uaHJlZiB8fCAnJztcbiAgICAgIGlmICgvWz8mXXJlYWN0X3BlcmZcXGIvLnRlc3QodXJsKSkge1xuICAgICAgICBSZWFjdERlYnVnVG9vbC5iZWdpblByb2ZpbGluZygpO1xuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RGVidWdUb29sO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIyN1wiLCBbXCJlY1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFJlYWN0RGVidWdUb29sID0gJF9fcmVxdWlyZSgnZWMnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7ZGVidWdUb29sOiBSZWFjdERlYnVnVG9vbH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZWRcIiwgW1wiZWVcIiwgXCIyN1wiLCBcImVmXCIsIFwiOTRcIiwgXCIzMFwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0gJF9fcmVxdWlyZSgnZWUnKTtcbiAgICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSAkX19yZXF1aXJlKCcyNycpO1xuICAgIHZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9ICRfX3JlcXVpcmUoJ2VmJyk7XG4gICAgdmFyIGVtcHR5T2JqZWN0ID0gJF9fcmVxdWlyZSgnOTQnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgZnVuY3Rpb24gUmVhY3RDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gICAgfVxuICAgIFJlYWN0Q29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG4gICAgUmVhY3RDb21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24ocGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICAgICAgISh0eXBlb2YgcGFydGlhbFN0YXRlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgcGFydGlhbFN0YXRlID09PSAnZnVuY3Rpb24nIHx8IHBhcnRpYWxTdGF0ZSA9PSBudWxsKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdzZXRTdGF0ZSguLi4pOiB0YWtlcyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzIHRvIHVwZGF0ZSBvciBhICcgKyAnZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldFN0YXRlKCk7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHBhcnRpYWxTdGF0ZSAhPSBudWxsLCAnc2V0U3RhdGUoLi4uKTogWW91IHBhc3NlZCBhbiB1bmRlZmluZWQgb3IgbnVsbCBzdGF0ZSBvYmplY3Q7ICcgKyAnaW5zdGVhZCwgdXNlIGZvcmNlVXBkYXRlKCkuJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSk7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVDYWxsYmFjayh0aGlzLCBjYWxsYmFjaywgJ3NldFN0YXRlJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBSZWFjdENvbXBvbmVudC5wcm90b3R5cGUuZm9yY2VVcGRhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzKTtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrLCAnZm9yY2VVcGRhdGUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgZGVwcmVjYXRlZEFQSXMgPSB7XG4gICAgICAgIGlzTW91bnRlZDogWydpc01vdW50ZWQnLCAnSW5zdGVhZCwgbWFrZSBzdXJlIHRvIGNsZWFuIHVwIHN1YnNjcmlwdGlvbnMgYW5kIHBlbmRpbmcgcmVxdWVzdHMgaW4gJyArICdjb21wb25lbnRXaWxsVW5tb3VudCB0byBwcmV2ZW50IG1lbW9yeSBsZWFrcy4nXSxcbiAgICAgICAgcmVwbGFjZVN0YXRlOiBbJ3JlcGxhY2VTdGF0ZScsICdSZWZhY3RvciB5b3VyIGNvZGUgdG8gdXNlIHNldFN0YXRlIGluc3RlYWQgKHNlZSAnICsgJ2h0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMzIzNikuJ11cbiAgICAgIH07XG4gICAgICB2YXIgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nID0gZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5mbykge1xuICAgICAgICBpZiAoY2FuRGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhY3RDb21wb25lbnQucHJvdG90eXBlLCBtZXRob2ROYW1lLCB7Z2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclcyguLi4pIGlzIGRlcHJlY2F0ZWQgaW4gcGxhaW4gSmF2YVNjcmlwdCBSZWFjdCBjbGFzc2VzLiAlcycsIGluZm9bMF0sIGluZm9bMV0pIDogdm9pZCAwO1xuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfX0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZm9yICh2YXIgZm5OYW1lIGluIGRlcHJlY2F0ZWRBUElzKSB7XG4gICAgICAgIGlmIChkZXByZWNhdGVkQVBJcy5oYXNPd25Qcm9wZXJ0eShmbk5hbWUpKSB7XG4gICAgICAgICAgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKGZuTmFtZSwgZGVwcmVjYXRlZEFQSXNbZm5OYW1lXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdENvbXBvbmVudDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZWVcIiwgW1wiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgZnVuY3Rpb24gd2FyblREWihwdWJsaWNJbnN0YW5jZSwgY2FsbGVyTmFtZSkge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclcyguLi4pOiBDYW4gb25seSB1cGRhdGUgYSBtb3VudGVkIG9yIG1vdW50aW5nIGNvbXBvbmVudC4gJyArICdUaGlzIHVzdWFsbHkgbWVhbnMgeW91IGNhbGxlZCAlcygpIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuICcgKyAnVGhpcyBpcyBhIG5vLW9wLiBQbGVhc2UgY2hlY2sgdGhlIGNvZGUgZm9yIHRoZSAlcyBjb21wb25lbnQuJywgY2FsbGVyTmFtZSwgY2FsbGVyTmFtZSwgcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3IgJiYgcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJycpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSB7XG4gICAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBlbnF1ZXVlQ2FsbGJhY2s6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlLCBjYWxsYmFjaykge30sXG4gICAgICBlbnF1ZXVlRm9yY2VVcGRhdGU6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgIHdhcm5URFoocHVibGljSW5zdGFuY2UsICdmb3JjZVVwZGF0ZScpO1xuICAgICAgfSxcbiAgICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlLCBjb21wbGV0ZVN0YXRlKSB7XG4gICAgICAgIHdhcm5URFoocHVibGljSW5zdGFuY2UsICdyZXBsYWNlU3RhdGUnKTtcbiAgICAgIH0sXG4gICAgICBlbnF1ZXVlU2V0U3RhdGU6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlLCBwYXJ0aWFsU3RhdGUpIHtcbiAgICAgICAgd2FyblREWihwdWJsaWNJbnN0YW5jZSwgJ3NldFN0YXRlJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI5NFwiLCBbXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgZW1wdHlPYmplY3QgPSB7fTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbXB0eU9iamVjdCk7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZW1wdHlPYmplY3Q7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImVcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBrZXlPZiA9IGZ1bmN0aW9uKG9uZUtleU9iaikge1xuICAgIHZhciBrZXk7XG4gICAgZm9yIChrZXkgaW4gb25lS2V5T2JqKSB7XG4gICAgICBpZiAoIW9uZUtleU9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0ga2V5T2Y7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNjNcIiwgW1wiNlwiLCBcImVkXCIsIFwiOGRcIiwgXCIzYlwiLCBcIjkzXCIsIFwiZWVcIiwgXCI5NFwiLCBcIjMwXCIsIFwiNThcIiwgXCJlXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgICB2YXIgUmVhY3RDb21wb25lbnQgPSAkX19yZXF1aXJlKCdlZCcpO1xuICAgIHZhciBSZWFjdEVsZW1lbnQgPSAkX19yZXF1aXJlKCc4ZCcpO1xuICAgIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0gJF9fcmVxdWlyZSgnM2InKTtcbiAgICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSAkX19yZXF1aXJlKCc5MycpO1xuICAgIHZhciBSZWFjdE5vb3BVcGRhdGVRdWV1ZSA9ICRfX3JlcXVpcmUoJ2VlJyk7XG4gICAgdmFyIGVtcHR5T2JqZWN0ID0gJF9fcmVxdWlyZSgnOTQnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIga2V5TWlycm9yID0gJF9fcmVxdWlyZSgnNTgnKTtcbiAgICB2YXIga2V5T2YgPSAkX19yZXF1aXJlKCdlJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciBNSVhJTlNfS0VZID0ga2V5T2Yoe21peGluczogbnVsbH0pO1xuICAgIHZhciBTcGVjUG9saWN5ID0ga2V5TWlycm9yKHtcbiAgICAgIERFRklORV9PTkNFOiBudWxsLFxuICAgICAgREVGSU5FX01BTlk6IG51bGwsXG4gICAgICBPVkVSUklERV9CQVNFOiBudWxsLFxuICAgICAgREVGSU5FX01BTllfTUVSR0VEOiBudWxsXG4gICAgfSk7XG4gICAgdmFyIGluamVjdGVkTWl4aW5zID0gW107XG4gICAgdmFyIFJlYWN0Q2xhc3NJbnRlcmZhY2UgPSB7XG4gICAgICBtaXhpbnM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgICBzdGF0aWNzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgcHJvcFR5cGVzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgY29udGV4dFR5cGVzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgY2hpbGRDb250ZXh0VHlwZXM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgICBnZXREZWZhdWx0UHJvcHM6IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VELFxuICAgICAgZ2V0SW5pdGlhbFN0YXRlOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCxcbiAgICAgIGdldENoaWxkQ29udGV4dDogU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQsXG4gICAgICByZW5kZXI6IFNwZWNQb2xpY3kuREVGSU5FX09OQ0UsXG4gICAgICBjb21wb25lbnRXaWxsTW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgICBjb21wb25lbnREaWRNb3VudDogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgICBzaG91bGRDb21wb25lbnRVcGRhdGU6IFNwZWNQb2xpY3kuREVGSU5FX09OQ0UsXG4gICAgICBjb21wb25lbnRXaWxsVXBkYXRlOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgY29tcG9uZW50RGlkVXBkYXRlOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgY29tcG9uZW50V2lsbFVubW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgICB1cGRhdGVDb21wb25lbnQ6IFNwZWNQb2xpY3kuT1ZFUlJJREVfQkFTRVxuICAgIH07XG4gICAgdmFyIFJFU0VSVkVEX1NQRUNfS0VZUyA9IHtcbiAgICAgIGRpc3BsYXlOYW1lOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgZGlzcGxheU5hbWUpIHtcbiAgICAgICAgQ29uc3RydWN0b3IuZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZTtcbiAgICAgIH0sXG4gICAgICBtaXhpbnM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBtaXhpbnMpIHtcbiAgICAgICAgaWYgKG1peGlucykge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBtaXhTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3RvciwgbWl4aW5zW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjaGlsZENvbnRleHRUeXBlczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGNoaWxkQ29udGV4dFR5cGVzKSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCBjaGlsZENvbnRleHRUeXBlcywgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5jaGlsZENvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIENvbnN0cnVjdG9yLmNoaWxkQ29udGV4dFR5cGVzID0gX2Fzc2lnbih7fSwgQ29uc3RydWN0b3IuY2hpbGRDb250ZXh0VHlwZXMsIGNoaWxkQ29udGV4dFR5cGVzKTtcbiAgICAgIH0sXG4gICAgICBjb250ZXh0VHlwZXM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBjb250ZXh0VHlwZXMpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB2YWxpZGF0ZVR5cGVEZWYoQ29uc3RydWN0b3IsIGNvbnRleHRUeXBlcywgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBDb25zdHJ1Y3Rvci5jb250ZXh0VHlwZXMgPSBfYXNzaWduKHt9LCBDb25zdHJ1Y3Rvci5jb250ZXh0VHlwZXMsIGNvbnRleHRUeXBlcyk7XG4gICAgICB9LFxuICAgICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgICAgIGlmIChDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgICBDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMgPSBjcmVhdGVNZXJnZWRSZXN1bHRGdW5jdGlvbihDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMsIGdldERlZmF1bHRQcm9wcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzID0gZ2V0RGVmYXVsdFByb3BzO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcHJvcFR5cGVzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgcHJvcFR5cGVzKSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCBwcm9wVHlwZXMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMucHJvcCk7XG4gICAgICAgIH1cbiAgICAgICAgQ29uc3RydWN0b3IucHJvcFR5cGVzID0gX2Fzc2lnbih7fSwgQ29uc3RydWN0b3IucHJvcFR5cGVzLCBwcm9wVHlwZXMpO1xuICAgICAgfSxcbiAgICAgIHN0YXRpY3M6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBzdGF0aWNzKSB7XG4gICAgICAgIG1peFN0YXRpY1NwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzdGF0aWNzKTtcbiAgICAgIH0sXG4gICAgICBhdXRvYmluZDogZnVuY3Rpb24oKSB7fVxuICAgIH07XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCB0eXBlRGVmLCBsb2NhdGlvbikge1xuICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gdHlwZURlZikge1xuICAgICAgICBpZiAodHlwZURlZi5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh0eXBlb2YgdHlwZURlZltwcm9wTmFtZV0gPT09ICdmdW5jdGlvbicsICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgKyAnUmVhY3QuUHJvcFR5cGVzLicsIENvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8ICdSZWFjdENsYXNzJywgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dLCBwcm9wTmFtZSkgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVNZXRob2RPdmVycmlkZShpc0FscmVhZHlEZWZpbmVkLCBuYW1lKSB7XG4gICAgICB2YXIgc3BlY1BvbGljeSA9IFJlYWN0Q2xhc3NJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkobmFtZSkgPyBSZWFjdENsYXNzSW50ZXJmYWNlW25hbWVdIDogbnVsbDtcbiAgICAgIGlmIChSZWFjdENsYXNzTWl4aW4uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgIShzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5Lk9WRVJSSURFX0JBU0UpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3NJbnRlcmZhY2U6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBvdmVycmlkZSAnICsgJ2Alc2AgZnJvbSB5b3VyIGNsYXNzIHNwZWNpZmljYXRpb24uIEVuc3VyZSB0aGF0IHlvdXIgbWV0aG9kIG5hbWVzICcgKyAnZG8gbm90IG92ZXJsYXAgd2l0aCBSZWFjdCBtZXRob2RzLicsIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FscmVhZHlEZWZpbmVkKSB7XG4gICAgICAgICEoc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWSB8fCBzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzc0ludGVyZmFjZTogWW91IGFyZSBhdHRlbXB0aW5nIHRvIGRlZmluZSAnICsgJ2Alc2Agb24geW91ciBjb21wb25lbnQgbW9yZSB0aGFuIG9uY2UuIFRoaXMgY29uZmxpY3QgbWF5IGJlIGR1ZSAnICsgJ3RvIGEgbWl4aW4uJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBtaXhTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3BlYykge1xuICAgICAgaWYgKCFzcGVjKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgICEodHlwZW9mIHNwZWMgIT09ICdmdW5jdGlvbicpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3M6IFlvdVxcJ3JlIGF0dGVtcHRpbmcgdG8gJyArICd1c2UgYSBjb21wb25lbnQgY2xhc3Mgb3IgZnVuY3Rpb24gYXMgYSBtaXhpbi4gSW5zdGVhZCwganVzdCB1c2UgYSAnICsgJ3JlZ3VsYXIgb2JqZWN0LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICEhUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KHNwZWMpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3M6IFlvdVxcJ3JlIGF0dGVtcHRpbmcgdG8gJyArICd1c2UgYSBjb21wb25lbnQgYXMgYSBtaXhpbi4gSW5zdGVhZCwganVzdCB1c2UgYSByZWd1bGFyIG9iamVjdC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgcHJvdG8gPSBDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gICAgICB2YXIgYXV0b0JpbmRQYWlycyA9IHByb3RvLl9fcmVhY3RBdXRvQmluZFBhaXJzO1xuICAgICAgaWYgKHNwZWMuaGFzT3duUHJvcGVydHkoTUlYSU5TX0tFWSkpIHtcbiAgICAgICAgUkVTRVJWRURfU1BFQ19LRVlTLm1peGlucyhDb25zdHJ1Y3Rvciwgc3BlYy5taXhpbnMpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgbmFtZSBpbiBzcGVjKSB7XG4gICAgICAgIGlmICghc3BlYy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lID09PSBNSVhJTlNfS0VZKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb3BlcnR5ID0gc3BlY1tuYW1lXTtcbiAgICAgICAgdmFyIGlzQWxyZWFkeURlZmluZWQgPSBwcm90by5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgICAgICAgdmFsaWRhdGVNZXRob2RPdmVycmlkZShpc0FscmVhZHlEZWZpbmVkLCBuYW1lKTtcbiAgICAgICAgaWYgKFJFU0VSVkVEX1NQRUNfS0VZUy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgIFJFU0VSVkVEX1NQRUNfS0VZU1tuYW1lXShDb25zdHJ1Y3RvciwgcHJvcGVydHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBpc1JlYWN0Q2xhc3NNZXRob2QgPSBSZWFjdENsYXNzSW50ZXJmYWNlLmhhc093blByb3BlcnR5KG5hbWUpO1xuICAgICAgICAgIHZhciBpc0Z1bmN0aW9uID0gdHlwZW9mIHByb3BlcnR5ID09PSAnZnVuY3Rpb24nO1xuICAgICAgICAgIHZhciBzaG91bGRBdXRvQmluZCA9IGlzRnVuY3Rpb24gJiYgIWlzUmVhY3RDbGFzc01ldGhvZCAmJiAhaXNBbHJlYWR5RGVmaW5lZCAmJiBzcGVjLmF1dG9iaW5kICE9PSBmYWxzZTtcbiAgICAgICAgICBpZiAoc2hvdWxkQXV0b0JpbmQpIHtcbiAgICAgICAgICAgIGF1dG9CaW5kUGFpcnMucHVzaChuYW1lLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICBwcm90b1tuYW1lXSA9IHByb3BlcnR5O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaXNBbHJlYWR5RGVmaW5lZCkge1xuICAgICAgICAgICAgICB2YXIgc3BlY1BvbGljeSA9IFJlYWN0Q2xhc3NJbnRlcmZhY2VbbmFtZV07XG4gICAgICAgICAgICAgICEoaXNSZWFjdENsYXNzTWV0aG9kICYmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCB8fCBzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZKSkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzczogVW5leHBlY3RlZCBzcGVjIHBvbGljeSAlcyBmb3Iga2V5ICVzICcgKyAnd2hlbiBtaXhpbmcgaW4gY29tcG9uZW50IHNwZWNzLicsIHNwZWNQb2xpY3ksIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgaWYgKHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VEKSB7XG4gICAgICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBjcmVhdGVNZXJnZWRSZXN1bHRGdW5jdGlvbihwcm90b1tuYW1lXSwgcHJvcGVydHkpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTlkpIHtcbiAgICAgICAgICAgICAgICBwcm90b1tuYW1lXSA9IGNyZWF0ZUNoYWluZWRGdW5jdGlvbihwcm90b1tuYW1lXSwgcHJvcGVydHkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm90b1tuYW1lXSA9IHByb3BlcnR5O1xuICAgICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgPT09ICdmdW5jdGlvbicgJiYgc3BlYy5kaXNwbGF5TmFtZSkge1xuICAgICAgICAgICAgICAgICAgcHJvdG9bbmFtZV0uZGlzcGxheU5hbWUgPSBzcGVjLmRpc3BsYXlOYW1lICsgJ18nICsgbmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWl4U3RhdGljU3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHN0YXRpY3MpIHtcbiAgICAgIGlmICghc3RhdGljcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBuYW1lIGluIHN0YXRpY3MpIHtcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gc3RhdGljc1tuYW1lXTtcbiAgICAgICAgaWYgKCFzdGF0aWNzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzUmVzZXJ2ZWQgPSBuYW1lIGluIFJFU0VSVkVEX1NQRUNfS0VZUztcbiAgICAgICAgISFpc1Jlc2VydmVkID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3M6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBkZWZpbmUgYSByZXNlcnZlZCAnICsgJ3Byb3BlcnR5LCBgJXNgLCB0aGF0IHNob3VsZG5cXCd0IGJlIG9uIHRoZSBcInN0YXRpY3NcIiBrZXkuIERlZmluZSBpdCAnICsgJ2FzIGFuIGluc3RhbmNlIHByb3BlcnR5IGluc3RlYWQ7IGl0IHdpbGwgc3RpbGwgYmUgYWNjZXNzaWJsZSBvbiB0aGUgJyArICdjb25zdHJ1Y3Rvci4nLCBuYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIHZhciBpc0luaGVyaXRlZCA9IG5hbWUgaW4gQ29uc3RydWN0b3I7XG4gICAgICAgICEhaXNJbmhlcml0ZWQgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzczogWW91IGFyZSBhdHRlbXB0aW5nIHRvIGRlZmluZSAnICsgJ2Alc2Agb24geW91ciBjb21wb25lbnQgbW9yZSB0aGFuIG9uY2UuIFRoaXMgY29uZmxpY3QgbWF5IGJlICcgKyAnZHVlIHRvIGEgbWl4aW4uJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBDb25zdHJ1Y3RvcltuYW1lXSA9IHByb3BlcnR5O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzKG9uZSwgdHdvKSB7XG4gICAgICAhKG9uZSAmJiB0d28gJiYgdHlwZW9mIG9uZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHR3byA9PT0gJ29iamVjdCcpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ21lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoKTogQ2Fubm90IG1lcmdlIG5vbi1vYmplY3RzLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIGZvciAodmFyIGtleSBpbiB0d28pIHtcbiAgICAgICAgaWYgKHR3by5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgIShvbmVba2V5XSA9PT0gdW5kZWZpbmVkKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzKCk6ICcgKyAnVHJpZWQgdG8gbWVyZ2UgdHdvIG9iamVjdHMgd2l0aCB0aGUgc2FtZSBrZXk6IGAlc2AuIFRoaXMgY29uZmxpY3QgJyArICdtYXkgYmUgZHVlIHRvIGEgbWl4aW47IGluIHBhcnRpY3VsYXIsIHRoaXMgbWF5IGJlIGNhdXNlZCBieSB0d28gJyArICdnZXRJbml0aWFsU3RhdGUoKSBvciBnZXREZWZhdWx0UHJvcHMoKSBtZXRob2RzIHJldHVybmluZyBvYmplY3RzICcgKyAnd2l0aCBjbGFzaGluZyBrZXlzLicsIGtleSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIG9uZVtrZXldID0gdHdvW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvbmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZU1lcmdlZFJlc3VsdEZ1bmN0aW9uKG9uZSwgdHdvKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkUmVzdWx0KCkge1xuICAgICAgICB2YXIgYSA9IG9uZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB2YXIgYiA9IHR3by5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAoYSA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgIH0gZWxzZSBpZiAoYiA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGMgPSB7fTtcbiAgICAgICAgbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhjLCBhKTtcbiAgICAgICAgbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhjLCBiKTtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVDaGFpbmVkRnVuY3Rpb24ob25lLCB0d28pIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBjaGFpbmVkRnVuY3Rpb24oKSB7XG4gICAgICAgIG9uZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB0d28uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJpbmRBdXRvQmluZE1ldGhvZChjb21wb25lbnQsIG1ldGhvZCkge1xuICAgICAgdmFyIGJvdW5kTWV0aG9kID0gbWV0aG9kLmJpbmQoY29tcG9uZW50KTtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZENvbnRleHQgPSBjb21wb25lbnQ7XG4gICAgICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZE1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQXJndW1lbnRzID0gbnVsbDtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnQuY29uc3RydWN0b3IuZGlzcGxheU5hbWU7XG4gICAgICAgIHZhciBfYmluZCA9IGJvdW5kTWV0aG9kLmJpbmQ7XG4gICAgICAgIGJvdW5kTWV0aG9kLmJpbmQgPSBmdW5jdGlvbihuZXdUaGlzKSB7XG4gICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICAgIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksXG4gICAgICAgICAgICAgIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5ld1RoaXMgIT09IGNvbXBvbmVudCAmJiBuZXdUaGlzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2JpbmQoKTogUmVhY3QgY29tcG9uZW50IG1ldGhvZHMgbWF5IG9ubHkgYmUgYm91bmQgdG8gdGhlICcgKyAnY29tcG9uZW50IGluc3RhbmNlLiBTZWUgJXMnLCBjb21wb25lbnROYW1lKSA6IHZvaWQgMDtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFhcmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdiaW5kKCk6IFlvdSBhcmUgYmluZGluZyBhIGNvbXBvbmVudCBtZXRob2QgdG8gdGhlIGNvbXBvbmVudC4gJyArICdSZWFjdCBkb2VzIHRoaXMgZm9yIHlvdSBhdXRvbWF0aWNhbGx5IGluIGEgaGlnaC1wZXJmb3JtYW5jZSAnICsgJ3dheSwgc28geW91IGNhbiBzYWZlbHkgcmVtb3ZlIHRoaXMgY2FsbC4gU2VlICVzJywgY29tcG9uZW50TmFtZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4gYm91bmRNZXRob2Q7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciByZWJvdW5kTWV0aG9kID0gX2JpbmQuYXBwbHkoYm91bmRNZXRob2QsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgcmVib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRDb250ZXh0ID0gY29tcG9uZW50O1xuICAgICAgICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kTWV0aG9kID0gbWV0aG9kO1xuICAgICAgICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQXJndW1lbnRzID0gYXJncztcbiAgICAgICAgICByZXR1cm4gcmVib3VuZE1ldGhvZDtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBib3VuZE1ldGhvZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmluZEF1dG9CaW5kTWV0aG9kcyhjb21wb25lbnQpIHtcbiAgICAgIHZhciBwYWlycyA9IGNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRQYWlycztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgdmFyIGF1dG9CaW5kS2V5ID0gcGFpcnNbaV07XG4gICAgICAgIHZhciBtZXRob2QgPSBwYWlyc1tpICsgMV07XG4gICAgICAgIGNvbXBvbmVudFthdXRvQmluZEtleV0gPSBiaW5kQXV0b0JpbmRNZXRob2QoY29tcG9uZW50LCBtZXRob2QpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgUmVhY3RDbGFzc01peGluID0ge1xuICAgICAgcmVwbGFjZVN0YXRlOiBmdW5jdGlvbihuZXdTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVSZXBsYWNlU3RhdGUodGhpcywgbmV3U3RhdGUpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrLCAncmVwbGFjZVN0YXRlJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVyLmlzTW91bnRlZCh0aGlzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBSZWFjdENsYXNzQ29tcG9uZW50ID0gZnVuY3Rpb24oKSB7fTtcbiAgICBfYXNzaWduKFJlYWN0Q2xhc3NDb21wb25lbnQucHJvdG90eXBlLCBSZWFjdENvbXBvbmVudC5wcm90b3R5cGUsIFJlYWN0Q2xhc3NNaXhpbik7XG4gICAgdmFyIFJlYWN0Q2xhc3MgPSB7XG4gICAgICBjcmVhdGVDbGFzczogZnVuY3Rpb24oc3BlYykge1xuICAgICAgICB2YXIgQ29uc3RydWN0b3IgPSBmdW5jdGlvbihwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh0aGlzIGluc3RhbmNlb2YgQ29uc3RydWN0b3IsICdTb21ldGhpbmcgaXMgY2FsbGluZyBhIFJlYWN0IGNvbXBvbmVudCBkaXJlY3RseS4gVXNlIGEgZmFjdG9yeSBvciAnICsgJ0pTWCBpbnN0ZWFkLiBTZWU6IGh0dHBzOi8vZmIubWUvcmVhY3QtbGVnYWN5ZmFjdG9yeScpIDogdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5fX3JlYWN0QXV0b0JpbmRQYWlycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGJpbmRBdXRvQmluZE1ldGhvZHModGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgICAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgICAgdmFyIGluaXRpYWxTdGF0ZSA9IHRoaXMuZ2V0SW5pdGlhbFN0YXRlID8gdGhpcy5nZXRJbml0aWFsU3RhdGUoKSA6IG51bGw7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGlmIChpbml0aWFsU3RhdGUgPT09IHVuZGVmaW5lZCAmJiB0aGlzLmdldEluaXRpYWxTdGF0ZS5faXNNb2NrRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgaW5pdGlhbFN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgISh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpbml0aWFsU3RhdGUpKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcy5nZXRJbml0aWFsU3RhdGUoKTogbXVzdCByZXR1cm4gYW4gb2JqZWN0IG9yIG51bGwnLCBDb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gbmV3IFJlYWN0Q2xhc3NDb21wb25lbnQoKTtcbiAgICAgICAgQ29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29uc3RydWN0b3I7XG4gICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZS5fX3JlYWN0QXV0b0JpbmRQYWlycyA9IFtdO1xuICAgICAgICBpbmplY3RlZE1peGlucy5mb3JFYWNoKG1peFNwZWNJbnRvQ29tcG9uZW50LmJpbmQobnVsbCwgQ29uc3RydWN0b3IpKTtcbiAgICAgICAgbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHNwZWMpO1xuICAgICAgICBpZiAoQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgICAgICAgQ29uc3RydWN0b3IuZGVmYXVsdFByb3BzID0gQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAoQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgICAgICAgICBDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQgPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKENvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRJbml0aWFsU3RhdGUpIHtcbiAgICAgICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRJbml0aWFsU3RhdGUuaXNSZWFjdENsYXNzQXBwcm92ZWQgPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgIUNvbnN0cnVjdG9yLnByb3RvdHlwZS5yZW5kZXIgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnY3JlYXRlQ2xhc3MoLi4uKTogQ2xhc3Mgc3BlY2lmaWNhdGlvbiBtdXN0IGltcGxlbWVudCBhIGByZW5kZXJgIG1ldGhvZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIUNvbnN0cnVjdG9yLnByb3RvdHlwZS5jb21wb25lbnRTaG91bGRVcGRhdGUsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50U2hvdWxkVXBkYXRlKCkuIERpZCB5b3UgbWVhbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKT8gJyArICdUaGUgbmFtZSBpcyBwaHJhc2VkIGFzIGEgcXVlc3Rpb24gYmVjYXVzZSB0aGUgZnVuY3Rpb24gaXMgJyArICdleHBlY3RlZCB0byByZXR1cm4gYSB2YWx1ZS4nLCBzcGVjLmRpc3BsYXlOYW1lIHx8ICdBIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcywgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk/Jywgc3BlYy5kaXNwbGF5TmFtZSB8fCAnQSBjb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBtZXRob2ROYW1lIGluIFJlYWN0Q2xhc3NJbnRlcmZhY2UpIHtcbiAgICAgICAgICBpZiAoIUNvbnN0cnVjdG9yLnByb3RvdHlwZVttZXRob2ROYW1lXSkge1xuICAgICAgICAgICAgQ29uc3RydWN0b3IucHJvdG90eXBlW21ldGhvZE5hbWVdID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgICAgfSxcbiAgICAgIGluamVjdGlvbjoge2luamVjdE1peGluOiBmdW5jdGlvbihtaXhpbikge1xuICAgICAgICAgIGluamVjdGVkTWl4aW5zLnB1c2gobWl4aW4pO1xuICAgICAgICB9fVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdENsYXNzO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJjMlwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgZnVuY3Rpb24gbWFwT2JqZWN0KG9iamVjdCwgY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICBpZiAoIW9iamVjdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBuYW1lIGluIG9iamVjdCkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBuYW1lKSkge1xuICAgICAgICByZXN1bHRbbmFtZV0gPSBjYWxsYmFjay5jYWxsKGNvbnRleHQsIG9iamVjdFtuYW1lXSwgbmFtZSwgb2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IG1hcE9iamVjdDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJmMFwiLCBbXCI4ZFwiLCBcImYxXCIsIFwiYzJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gJF9fcmVxdWlyZSgnOGQnKTtcbiAgICB2YXIgUmVhY3RFbGVtZW50VmFsaWRhdG9yID0gJF9fcmVxdWlyZSgnZjEnKTtcbiAgICB2YXIgbWFwT2JqZWN0ID0gJF9fcmVxdWlyZSgnYzInKTtcbiAgICBmdW5jdGlvbiBjcmVhdGVET01GYWN0b3J5KHRhZykge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVGYWN0b3J5KHRhZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUmVhY3RFbGVtZW50LmNyZWF0ZUZhY3RvcnkodGFnKTtcbiAgICB9XG4gICAgdmFyIFJlYWN0RE9NRmFjdG9yaWVzID0gbWFwT2JqZWN0KHtcbiAgICAgIGE6ICdhJyxcbiAgICAgIGFiYnI6ICdhYmJyJyxcbiAgICAgIGFkZHJlc3M6ICdhZGRyZXNzJyxcbiAgICAgIGFyZWE6ICdhcmVhJyxcbiAgICAgIGFydGljbGU6ICdhcnRpY2xlJyxcbiAgICAgIGFzaWRlOiAnYXNpZGUnLFxuICAgICAgYXVkaW86ICdhdWRpbycsXG4gICAgICBiOiAnYicsXG4gICAgICBiYXNlOiAnYmFzZScsXG4gICAgICBiZGk6ICdiZGknLFxuICAgICAgYmRvOiAnYmRvJyxcbiAgICAgIGJpZzogJ2JpZycsXG4gICAgICBibG9ja3F1b3RlOiAnYmxvY2txdW90ZScsXG4gICAgICBib2R5OiAnYm9keScsXG4gICAgICBicjogJ2JyJyxcbiAgICAgIGJ1dHRvbjogJ2J1dHRvbicsXG4gICAgICBjYW52YXM6ICdjYW52YXMnLFxuICAgICAgY2FwdGlvbjogJ2NhcHRpb24nLFxuICAgICAgY2l0ZTogJ2NpdGUnLFxuICAgICAgY29kZTogJ2NvZGUnLFxuICAgICAgY29sOiAnY29sJyxcbiAgICAgIGNvbGdyb3VwOiAnY29sZ3JvdXAnLFxuICAgICAgZGF0YTogJ2RhdGEnLFxuICAgICAgZGF0YWxpc3Q6ICdkYXRhbGlzdCcsXG4gICAgICBkZDogJ2RkJyxcbiAgICAgIGRlbDogJ2RlbCcsXG4gICAgICBkZXRhaWxzOiAnZGV0YWlscycsXG4gICAgICBkZm46ICdkZm4nLFxuICAgICAgZGlhbG9nOiAnZGlhbG9nJyxcbiAgICAgIGRpdjogJ2RpdicsXG4gICAgICBkbDogJ2RsJyxcbiAgICAgIGR0OiAnZHQnLFxuICAgICAgZW06ICdlbScsXG4gICAgICBlbWJlZDogJ2VtYmVkJyxcbiAgICAgIGZpZWxkc2V0OiAnZmllbGRzZXQnLFxuICAgICAgZmlnY2FwdGlvbjogJ2ZpZ2NhcHRpb24nLFxuICAgICAgZmlndXJlOiAnZmlndXJlJyxcbiAgICAgIGZvb3RlcjogJ2Zvb3RlcicsXG4gICAgICBmb3JtOiAnZm9ybScsXG4gICAgICBoMTogJ2gxJyxcbiAgICAgIGgyOiAnaDInLFxuICAgICAgaDM6ICdoMycsXG4gICAgICBoNDogJ2g0JyxcbiAgICAgIGg1OiAnaDUnLFxuICAgICAgaDY6ICdoNicsXG4gICAgICBoZWFkOiAnaGVhZCcsXG4gICAgICBoZWFkZXI6ICdoZWFkZXInLFxuICAgICAgaGdyb3VwOiAnaGdyb3VwJyxcbiAgICAgIGhyOiAnaHInLFxuICAgICAgaHRtbDogJ2h0bWwnLFxuICAgICAgaTogJ2knLFxuICAgICAgaWZyYW1lOiAnaWZyYW1lJyxcbiAgICAgIGltZzogJ2ltZycsXG4gICAgICBpbnB1dDogJ2lucHV0JyxcbiAgICAgIGluczogJ2lucycsXG4gICAgICBrYmQ6ICdrYmQnLFxuICAgICAga2V5Z2VuOiAna2V5Z2VuJyxcbiAgICAgIGxhYmVsOiAnbGFiZWwnLFxuICAgICAgbGVnZW5kOiAnbGVnZW5kJyxcbiAgICAgIGxpOiAnbGknLFxuICAgICAgbGluazogJ2xpbmsnLFxuICAgICAgbWFpbjogJ21haW4nLFxuICAgICAgbWFwOiAnbWFwJyxcbiAgICAgIG1hcms6ICdtYXJrJyxcbiAgICAgIG1lbnU6ICdtZW51JyxcbiAgICAgIG1lbnVpdGVtOiAnbWVudWl0ZW0nLFxuICAgICAgbWV0YTogJ21ldGEnLFxuICAgICAgbWV0ZXI6ICdtZXRlcicsXG4gICAgICBuYXY6ICduYXYnLFxuICAgICAgbm9zY3JpcHQ6ICdub3NjcmlwdCcsXG4gICAgICBvYmplY3Q6ICdvYmplY3QnLFxuICAgICAgb2w6ICdvbCcsXG4gICAgICBvcHRncm91cDogJ29wdGdyb3VwJyxcbiAgICAgIG9wdGlvbjogJ29wdGlvbicsXG4gICAgICBvdXRwdXQ6ICdvdXRwdXQnLFxuICAgICAgcDogJ3AnLFxuICAgICAgcGFyYW06ICdwYXJhbScsXG4gICAgICBwaWN0dXJlOiAncGljdHVyZScsXG4gICAgICBwcmU6ICdwcmUnLFxuICAgICAgcHJvZ3Jlc3M6ICdwcm9ncmVzcycsXG4gICAgICBxOiAncScsXG4gICAgICBycDogJ3JwJyxcbiAgICAgIHJ0OiAncnQnLFxuICAgICAgcnVieTogJ3J1YnknLFxuICAgICAgczogJ3MnLFxuICAgICAgc2FtcDogJ3NhbXAnLFxuICAgICAgc2NyaXB0OiAnc2NyaXB0JyxcbiAgICAgIHNlY3Rpb246ICdzZWN0aW9uJyxcbiAgICAgIHNlbGVjdDogJ3NlbGVjdCcsXG4gICAgICBzbWFsbDogJ3NtYWxsJyxcbiAgICAgIHNvdXJjZTogJ3NvdXJjZScsXG4gICAgICBzcGFuOiAnc3BhbicsXG4gICAgICBzdHJvbmc6ICdzdHJvbmcnLFxuICAgICAgc3R5bGU6ICdzdHlsZScsXG4gICAgICBzdWI6ICdzdWInLFxuICAgICAgc3VtbWFyeTogJ3N1bW1hcnknLFxuICAgICAgc3VwOiAnc3VwJyxcbiAgICAgIHRhYmxlOiAndGFibGUnLFxuICAgICAgdGJvZHk6ICd0Ym9keScsXG4gICAgICB0ZDogJ3RkJyxcbiAgICAgIHRleHRhcmVhOiAndGV4dGFyZWEnLFxuICAgICAgdGZvb3Q6ICd0Zm9vdCcsXG4gICAgICB0aDogJ3RoJyxcbiAgICAgIHRoZWFkOiAndGhlYWQnLFxuICAgICAgdGltZTogJ3RpbWUnLFxuICAgICAgdGl0bGU6ICd0aXRsZScsXG4gICAgICB0cjogJ3RyJyxcbiAgICAgIHRyYWNrOiAndHJhY2snLFxuICAgICAgdTogJ3UnLFxuICAgICAgdWw6ICd1bCcsXG4gICAgICAndmFyJzogJ3ZhcicsXG4gICAgICB2aWRlbzogJ3ZpZGVvJyxcbiAgICAgIHdicjogJ3dicicsXG4gICAgICBjaXJjbGU6ICdjaXJjbGUnLFxuICAgICAgY2xpcFBhdGg6ICdjbGlwUGF0aCcsXG4gICAgICBkZWZzOiAnZGVmcycsXG4gICAgICBlbGxpcHNlOiAnZWxsaXBzZScsXG4gICAgICBnOiAnZycsXG4gICAgICBpbWFnZTogJ2ltYWdlJyxcbiAgICAgIGxpbmU6ICdsaW5lJyxcbiAgICAgIGxpbmVhckdyYWRpZW50OiAnbGluZWFyR3JhZGllbnQnLFxuICAgICAgbWFzazogJ21hc2snLFxuICAgICAgcGF0aDogJ3BhdGgnLFxuICAgICAgcGF0dGVybjogJ3BhdHRlcm4nLFxuICAgICAgcG9seWdvbjogJ3BvbHlnb24nLFxuICAgICAgcG9seWxpbmU6ICdwb2x5bGluZScsXG4gICAgICByYWRpYWxHcmFkaWVudDogJ3JhZGlhbEdyYWRpZW50JyxcbiAgICAgIHJlY3Q6ICdyZWN0JyxcbiAgICAgIHN0b3A6ICdzdG9wJyxcbiAgICAgIHN2ZzogJ3N2ZycsXG4gICAgICB0ZXh0OiAndGV4dCcsXG4gICAgICB0c3BhbjogJ3RzcGFuJ1xuICAgIH0sIGNyZWF0ZURPTUZhY3RvcnkpO1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01GYWN0b3JpZXM7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjU4XCIsIFtcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIGtleU1pcnJvciA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgdmFyIHJldCA9IHt9O1xuICAgICAgdmFyIGtleTtcbiAgICAgICEob2JqIGluc3RhbmNlb2YgT2JqZWN0ICYmICFBcnJheS5pc0FycmF5KG9iaikpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2tleU1pcnJvciguLi4pOiBBcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldFtrZXldID0ga2V5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0ga2V5TWlycm9yO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIzYlwiLCBbXCI1OFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGtleU1pcnJvciA9ICRfX3JlcXVpcmUoJzU4Jyk7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0ga2V5TWlycm9yKHtcbiAgICBwcm9wOiBudWxsLFxuICAgIGNvbnRleHQ6IG51bGwsXG4gICAgY2hpbGRDb250ZXh0OiBudWxsXG4gIH0pO1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbnM7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZjFcIiwgW1wiOGRcIiwgXCIzYlwiLCBcIjkzXCIsIFwiNDdcIiwgXCJlZlwiLCBcImU2XCIsIFwiMzBcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdEVsZW1lbnQgPSAkX19yZXF1aXJlKCc4ZCcpO1xuICAgIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0gJF9fcmVxdWlyZSgnM2InKTtcbiAgICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSAkX19yZXF1aXJlKCc5MycpO1xuICAgIHZhciBSZWFjdEN1cnJlbnRPd25lciA9ICRfX3JlcXVpcmUoJzQ3Jyk7XG4gICAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gJF9fcmVxdWlyZSgnZWYnKTtcbiAgICB2YXIgZ2V0SXRlcmF0b3JGbiA9ICRfX3JlcXVpcmUoJ2U2Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIGZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpIHtcbiAgICAgIGlmIChSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgICAgIHZhciBuYW1lID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC5nZXROYW1lKCk7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICB2YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4gICAgdmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICAgICAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgdmFyIGFkZGVuZGEgPSBnZXRBZGRlbmRhRm9yS2V5VXNlKCd1bmlxdWVLZXknLCBlbGVtZW50LCBwYXJlbnRUeXBlKTtcbiAgICAgIGlmIChhZGRlbmRhID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRWFjaCBjaGlsZCBpbiBhbiBhcnJheSBvciBpdGVyYXRvciBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJyArICclcyVzJXMnLCBhZGRlbmRhLnBhcmVudE9yT3duZXIgfHwgJycsIGFkZGVuZGEuY2hpbGRPd25lciB8fCAnJywgYWRkZW5kYS51cmwgfHwgJycpIDogdm9pZCAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRBZGRlbmRhRm9yS2V5VXNlKG1lc3NhZ2VUeXBlLCBlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gICAgICB2YXIgYWRkZW5kdW0gPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKTtcbiAgICAgIGlmICghYWRkZW5kdW0pIHtcbiAgICAgICAgdmFyIHBhcmVudE5hbWUgPSB0eXBlb2YgcGFyZW50VHlwZSA9PT0gJ3N0cmluZycgPyBwYXJlbnRUeXBlIDogcGFyZW50VHlwZS5kaXNwbGF5TmFtZSB8fCBwYXJlbnRUeXBlLm5hbWU7XG4gICAgICAgIGlmIChwYXJlbnROYW1lKSB7XG4gICAgICAgICAgYWRkZW5kdW0gPSAnIENoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPCcgKyBwYXJlbnROYW1lICsgJz4uJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIG1lbW9pemVyID0gb3duZXJIYXNLZXlVc2VXYXJuaW5nW21lc3NhZ2VUeXBlXSB8fCAob3duZXJIYXNLZXlVc2VXYXJuaW5nW21lc3NhZ2VUeXBlXSA9IHt9KTtcbiAgICAgIGlmIChtZW1vaXplclthZGRlbmR1bV0pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBtZW1vaXplclthZGRlbmR1bV0gPSB0cnVlO1xuICAgICAgdmFyIGFkZGVuZGEgPSB7XG4gICAgICAgIHBhcmVudE9yT3duZXI6IGFkZGVuZHVtLFxuICAgICAgICB1cmw6ICcgU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsXG4gICAgICAgIGNoaWxkT3duZXI6IG51bGxcbiAgICAgIH07XG4gICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgICBhZGRlbmRhLmNoaWxkT3duZXIgPSAnIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tICcgKyBlbGVtZW50Ll9vd25lci5nZXROYW1lKCkgKyAnLic7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWRkZW5kYTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSwgcGFyZW50VHlwZSkge1xuICAgICAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuICAgICAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KGNoaWxkLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgIGlmIChub2RlLl9zdG9yZSkge1xuICAgICAgICAgIG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSkge1xuICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG4gICAgICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IG5vZGUuZW50cmllcykge1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KHN0ZXAudmFsdWUsIHBhcmVudFR5cGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKGNvbXBvbmVudE5hbWUsIHByb3BUeXBlcywgcHJvcHMsIGxvY2F0aW9uKSB7XG4gICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBwcm9wVHlwZXMpIHtcbiAgICAgICAgaWYgKHByb3BUeXBlcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICEodHlwZW9mIHByb3BUeXBlc1twcm9wTmFtZV0gPT09ICdmdW5jdGlvbicpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzOiAlcyB0eXBlIGAlc2AgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gJyArICdSZWFjdC5Qcm9wVHlwZXMuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICBlcnJvciA9IHByb3BUeXBlc1twcm9wTmFtZV0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbik7XG4gICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIGVycm9yID0gZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFlcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIEVycm9yLCAnJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcyBgJXNgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAlcy4gJyArICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICsgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lLCB0eXBlb2YgZXJyb3IpIDogdm9pZCAwO1xuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGFkZGVuZHVtID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ZhaWxlZCBwcm9wVHlwZTogJXMlcycsIGVycm9yLm1lc3NhZ2UsIGFkZGVuZHVtKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCkge1xuICAgICAgdmFyIGNvbXBvbmVudENsYXNzID0gZWxlbWVudC50eXBlO1xuICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnRDbGFzcyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbmFtZSA9IGNvbXBvbmVudENsYXNzLmRpc3BsYXlOYW1lIHx8IGNvbXBvbmVudENsYXNzLm5hbWU7XG4gICAgICBpZiAoY29tcG9uZW50Q2xhc3MucHJvcFR5cGVzKSB7XG4gICAgICAgIGNoZWNrUHJvcFR5cGVzKG5hbWUsIGNvbXBvbmVudENsYXNzLnByb3BUeXBlcywgZWxlbWVudC5wcm9wcywgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5wcm9wKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50Q2xhc3MuZ2V0RGVmYXVsdFByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGNvbXBvbmVudENsYXNzLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZCwgJ2dldERlZmF1bHRQcm9wcyBpcyBvbmx5IHVzZWQgb24gY2xhc3NpYyBSZWFjdC5jcmVhdGVDbGFzcyAnICsgJ2RlZmluaXRpb25zLiBVc2UgYSBzdGF0aWMgcHJvcGVydHkgbmFtZWQgYGRlZmF1bHRQcm9wc2AgaW5zdGVhZC4nKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFJlYWN0RWxlbWVudFZhbGlkYXRvciA9IHtcbiAgICAgIGNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKHR5cGUsIHByb3BzLCBjaGlsZHJlbikge1xuICAgICAgICB2YXIgdmFsaWRUeXBlID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh2YWxpZFR5cGUsICdSZWFjdC5jcmVhdGVFbGVtZW50OiB0eXBlIHNob3VsZCBub3QgYmUgbnVsbCwgdW5kZWZpbmVkLCBib29sZWFuLCBvciAnICsgJ251bWJlci4gSXQgc2hvdWxkIGJlIGEgc3RyaW5nIChmb3IgRE9NIGVsZW1lbnRzKSBvciBhIFJlYWN0Q2xhc3MgJyArICcoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKS4lcycsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpKSA6IHZvaWQgMDtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRWxlbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbGlkVHlwZSkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNbaV0sIHR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9LFxuICAgICAgY3JlYXRlRmFjdG9yeTogZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB2YXIgdmFsaWRhdGVkRmFjdG9yeSA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVFbGVtZW50LmJpbmQobnVsbCwgdHlwZSk7XG4gICAgICAgIHZhbGlkYXRlZEZhY3RvcnkudHlwZSA9IHR5cGU7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodmFsaWRhdGVkRmFjdG9yeSwgJ3R5cGUnLCB7XG4gICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRmFjdG9yeS50eXBlIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB0aGUgY2xhc3MgZGlyZWN0bHkgJyArICdiZWZvcmUgcGFzc2luZyBpdCB0byBjcmVhdGVGYWN0b3J5LicpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndHlwZScsIHt2YWx1ZTogdHlwZX0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZhY3Rvcnk7XG4gICAgICB9LFxuICAgICAgY2xvbmVFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBwcm9wcywgY2hpbGRyZW4pIHtcbiAgICAgICAgdmFyIG5ld0VsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY2xvbmVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCBuZXdFbGVtZW50LnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhbGlkYXRlUHJvcFR5cGVzKG5ld0VsZW1lbnQpO1xuICAgICAgICByZXR1cm4gbmV3RWxlbWVudDtcbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RFbGVtZW50VmFsaWRhdG9yO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI5M1wiLCBbXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSB7fTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSB7XG4gICAgICAgIHByb3A6ICdwcm9wJyxcbiAgICAgICAgY29udGV4dDogJ2NvbnRleHQnLFxuICAgICAgICBjaGlsZENvbnRleHQ6ICdjaGlsZCBjb250ZXh0J1xuICAgICAgfTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZTZcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBJVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcbiAgdmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IG1heWJlSXRlcmFibGUgJiYgKElURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF0pO1xuICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZ2V0SXRlcmF0b3JGbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIzYVwiLCBbXCI4ZFwiLCBcIjkzXCIsIFwiNDhcIiwgXCJlNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFJlYWN0RWxlbWVudCA9ICRfX3JlcXVpcmUoJzhkJyk7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9ICRfX3JlcXVpcmUoJzkzJyk7XG4gIHZhciBlbXB0eUZ1bmN0aW9uID0gJF9fcmVxdWlyZSgnNDgnKTtcbiAgdmFyIGdldEl0ZXJhdG9yRm4gPSAkX19yZXF1aXJlKCdlNicpO1xuICB2YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdhcnJheScpLFxuICAgIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG4gICAgZnVuYzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG4gICAgbnVtYmVyOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignbnVtYmVyJyksXG4gICAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG4gICAgc3RyaW5nOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3RyaW5nJyksXG4gICAgYW55OiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpLFxuICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcbiAgICBlbGVtZW50OiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSxcbiAgICBpbnN0YW5jZU9mOiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyLFxuICAgIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG4gICAgb2JqZWN0T2Y6IGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIsXG4gICAgb25lT2Y6IGNyZWF0ZUVudW1UeXBlQ2hlY2tlcixcbiAgICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG4gICAgc2hhcGU6IGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXJcbiAgfTtcbiAgZnVuY3Rpb24gaXMoeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKSB7XG4gICAgZnVuY3Rpb24gY2hlY2tUeXBlKGlzUmVxdWlyZWQsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICAgIGlmIChpc1JlcXVpcmVkKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignUmVxdWlyZWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCB3YXMgbm90IHNwZWNpZmllZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNoYWluZWRDaGVja1R5cGUgPSBjaGVja1R5cGUuYmluZChudWxsLCBmYWxzZSk7XG4gICAgY2hhaW5lZENoZWNrVHlwZS5pc1JlcXVpcmVkID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgdHJ1ZSk7XG4gICAgcmV0dXJuIGNoYWluZWRDaGVja1R5cGU7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoZXhwZWN0ZWRUeXBlKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gZXhwZWN0ZWRUeXBlKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICAgIHZhciBwcmVjaXNlVHlwZSA9IGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJlY2lzZVR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2AnICsgZXhwZWN0ZWRUeXBlICsgJ2AuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlQW55VHlwZUNoZWNrZXIoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMobnVsbCkpO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgYXJyYXlPZi4nKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScpO1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKCFSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQocHJvcHNbcHJvcE5hbWVdKSkge1xuICAgICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgc2luZ2xlIFJlYWN0RWxlbWVudC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICghKHByb3BzW3Byb3BOYW1lXSBpbnN0YW5jZW9mIGV4cGVjdGVkQ2xhc3MpKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICAgIHZhciBleHBlY3RlZENsYXNzTmFtZSA9IGV4cGVjdGVkQ2xhc3MubmFtZSB8fCBBTk9OWU1PVVM7XG4gICAgICAgIHZhciBhY3R1YWxDbGFzc05hbWUgPSBnZXRDbGFzc05hbWUocHJvcHNbcHJvcE5hbWVdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBhY3R1YWxDbGFzc05hbWUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2luc3RhbmNlIG9mIGAnICsgZXhwZWN0ZWRDbGFzc05hbWUgKyAnYC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIoZXhwZWN0ZWRWYWx1ZXMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhwZWN0ZWRWYWx1ZXMpKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlzKHByb3BWYWx1ZSwgZXhwZWN0ZWRWYWx1ZXNbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICB2YXIgdmFsdWVzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZXhwZWN0ZWRWYWx1ZXMpO1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHZhbHVlIGAnICsgcHJvcFZhbHVlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIG9uZSBvZiAnICsgdmFsdWVzU3RyaW5nICsgJy4nKSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgb2JqZWN0T2YuJyk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBvYmplY3QuJykpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHByb3BWYWx1ZSkge1xuICAgICAgICBpZiAocHJvcFZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSk7XG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIoYXJyYXlPZlR5cGVDaGVja2Vycykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheU9mVHlwZUNoZWNrZXJzKSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuICAgICAgICBpZiAoY2hlY2tlcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nKSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAoIWlzTm9kZShwcm9wc1twcm9wTmFtZV0pKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBSZWFjdE5vZGUuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc2hhcGVUeXBlcykge1xuICAgICAgICB2YXIgY2hlY2tlciA9IHNoYXBlVHlwZXNba2V5XTtcbiAgICAgICAgaWYgKCFjaGVja2VyKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gaXNOb2RlKHByb3BWYWx1ZSkge1xuICAgIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4gIXByb3BWYWx1ZTtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcFZhbHVlLmV2ZXJ5KGlzTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihwcm9wVmFsdWUpO1xuICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuICAgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICBpZiAoIWlzTm9kZShzdGVwLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldFByb3BUeXBlKHByb3BWYWx1ZSkge1xuICAgIHZhciBwcm9wVHlwZSA9IHR5cGVvZiBwcm9wVmFsdWU7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgcmV0dXJuICdhcnJheSc7XG4gICAgfVxuICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIHJldHVybiAnb2JqZWN0JztcbiAgICB9XG4gICAgcmV0dXJuIHByb3BUeXBlO1xuICB9XG4gIGZ1bmN0aW9uIGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSkge1xuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuICdkYXRlJztcbiAgICAgIH0gZWxzZSBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIHJldHVybiAncmVnZXhwJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BUeXBlO1xuICB9XG4gIGZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcbiAgICBpZiAoIXByb3BWYWx1ZS5jb25zdHJ1Y3RvciB8fCAhcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpIHtcbiAgICAgIHJldHVybiBBTk9OWU1PVVM7XG4gICAgfVxuICAgIHJldHVybiBwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjk4XCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICcxNS4xLjAnO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImYyXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuICB2YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG4gIGZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuICAgIGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QodmFsKTtcbiAgfVxuICBmdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghT2JqZWN0LmFzc2lnbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTtcbiAgICAgIHRlc3QxWzVdID0gJ2RlJztcbiAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdGVzdDIgPSB7fTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICB0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG4gICAgICB9XG4gICAgICB2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiB0ZXN0MltuXTtcbiAgICAgIH0pO1xuICAgICAgaWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0ZXN0MyA9IHt9O1xuICAgICAgJ2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbihsZXR0ZXIpIHtcbiAgICAgICAgdGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcbiAgICAgIH0pO1xuICAgICAgaWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uKHRhcmdldCwgc291cmNlKSB7XG4gICAgdmFyIGZyb207XG4gICAgdmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcbiAgICB2YXIgc3ltYm9scztcbiAgICBmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuICAgICAgZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuICAgICAgZm9yICh2YXIga2V5IGluIGZyb20pIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuICAgICAgICAgIHRvW2tleV0gPSBmcm9tW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICAgIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG4gICAgICAgICAgICB0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0bztcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI2XCIsIFtcImYyXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnZjInKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI0N1wiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0ge2N1cnJlbnQ6IG51bGx9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q3VycmVudE93bmVyO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImVmXCIsIFtcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9IGZhbHNlO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB0cnkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICd4Jywge2dldDogZnVuY3Rpb24oKSB7fX0pO1xuICAgICAgICBjYW5EZWZpbmVQcm9wZXJ0eSA9IHRydWU7XG4gICAgICB9IGNhdGNoICh4KSB7fVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGNhbkRlZmluZVByb3BlcnR5O1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI4ZFwiLCBbXCI2XCIsIFwiNDdcIiwgXCIyMlwiLCBcImVmXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gJF9fcmVxdWlyZSgnNDcnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gJF9fcmVxdWlyZSgnZWYnKTtcbiAgICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2xbJ2ZvciddICYmIFN5bWJvbFsnZm9yJ10oJ3JlYWN0LmVsZW1lbnQnKSB8fCAweGVhYzc7XG4gICAgdmFyIFJFU0VSVkVEX1BST1BTID0ge1xuICAgICAga2V5OiB0cnVlLFxuICAgICAgcmVmOiB0cnVlLFxuICAgICAgX19zZWxmOiB0cnVlLFxuICAgICAgX19zb3VyY2U6IHRydWVcbiAgICB9O1xuICAgIHZhciBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bixcbiAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd247XG4gICAgdmFyIFJlYWN0RWxlbWVudCA9IGZ1bmN0aW9uKHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcykge1xuICAgICAgdmFyIGVsZW1lbnQgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9FTEVNRU5UX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICByZWY6IHJlZixcbiAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICBfb3duZXI6IG93bmVyXG4gICAgICB9O1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgZWxlbWVudC5fc3RvcmUgPSB7fTtcbiAgICAgICAgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQuX3N0b3JlLCAndmFsaWRhdGVkJywge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudCwgJ19zZWxmJywge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IHNlbGZcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudCwgJ19zb3VyY2UnLCB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogc291cmNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkID0gZmFsc2U7XG4gICAgICAgICAgZWxlbWVudC5fc2VsZiA9IHNlbGY7XG4gICAgICAgICAgZWxlbWVudC5fc291cmNlID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50LnByb3BzKTtcbiAgICAgICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICAgIFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24odHlwZSwgY29uZmlnLCBjaGlsZHJlbikge1xuICAgICAgdmFyIHByb3BOYW1lO1xuICAgICAgdmFyIHByb3BzID0ge307XG4gICAgICB2YXIga2V5ID0gbnVsbDtcbiAgICAgIHZhciByZWYgPSBudWxsO1xuICAgICAgdmFyIHNlbGYgPSBudWxsO1xuICAgICAgdmFyIHNvdXJjZSA9IG51bGw7XG4gICAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhjb25maWcuX19wcm90b19fID09IG51bGwgfHwgY29uZmlnLl9fcHJvdG9fXyA9PT0gT2JqZWN0LnByb3RvdHlwZSwgJ1JlYWN0LmNyZWF0ZUVsZW1lbnQoLi4uKTogRXhwZWN0ZWQgcHJvcHMgYXJndW1lbnQgdG8gYmUgYSBwbGFpbiBvYmplY3QuICcgKyAnUHJvcGVydGllcyBkZWZpbmVkIGluIGl0cyBwcm90b3R5cGUgY2hhaW4gd2lsbCBiZSBpZ25vcmVkLicpIDogdm9pZCAwO1xuICAgICAgICAgIHJlZiA9ICFjb25maWcuaGFzT3duUHJvcGVydHkoJ3JlZicpIHx8IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAncmVmJykuZ2V0ID8gbnVsbCA6IGNvbmZpZy5yZWY7XG4gICAgICAgICAga2V5ID0gIWNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgna2V5JykgfHwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQgPyBudWxsIDogJycgKyBjb25maWcua2V5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZiA9IGNvbmZpZy5yZWYgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcucmVmO1xuICAgICAgICAgIGtleSA9IGNvbmZpZy5rZXkgPT09IHVuZGVmaW5lZCA/IG51bGwgOiAnJyArIGNvbmZpZy5rZXk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZiA9IGNvbmZpZy5fX3NlbGYgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zZWxmO1xuICAgICAgICBzb3VyY2UgPSBjb25maWcuX19zb3VyY2UgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zb3VyY2U7XG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKSB7XG4gICAgICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICAgICAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgICAgIH1cbiAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuICAgICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvcHMuJCR0eXBlb2YgPT09ICd1bmRlZmluZWQnIHx8IHByb3BzLiQkdHlwZW9mICE9PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgICBpZiAoIXByb3BzLmhhc093blByb3BlcnR5KCdrZXknKSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAna2V5Jywge1xuICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24pIHtcbiAgICAgICAgICAgICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL2ZiLm1lL3JlYWN0LXNwZWNpYWwtcHJvcHMpJywgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgJiYgJ2Rpc3BsYXlOYW1lJyBpbiB0eXBlID8gdHlwZS5kaXNwbGF5TmFtZSA6ICdFbGVtZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghcHJvcHMuaGFzT3duUHJvcGVydHkoJ3JlZicpKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdyZWYnLCB7XG4gICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93bikge1xuICAgICAgICAgICAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclczogYHJlZmAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vZmIubWUvcmVhY3Qtc3BlY2lhbC1wcm9wcyknLCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiAnZGlzcGxheU5hbWUnIGluIHR5cGUgPyB0eXBlLmRpc3BsYXlOYW1lIDogJ0VsZW1lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xuICAgIH07XG4gICAgUmVhY3RFbGVtZW50LmNyZWF0ZUZhY3RvcnkgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgICB2YXIgZmFjdG9yeSA9IFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50LmJpbmQobnVsbCwgdHlwZSk7XG4gICAgICBmYWN0b3J5LnR5cGUgPSB0eXBlO1xuICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgfTtcbiAgICBSZWFjdEVsZW1lbnQuY2xvbmVBbmRSZXBsYWNlS2V5ID0gZnVuY3Rpb24ob2xkRWxlbWVudCwgbmV3S2V5KSB7XG4gICAgICB2YXIgbmV3RWxlbWVudCA9IFJlYWN0RWxlbWVudChvbGRFbGVtZW50LnR5cGUsIG5ld0tleSwgb2xkRWxlbWVudC5yZWYsIG9sZEVsZW1lbnQuX3NlbGYsIG9sZEVsZW1lbnQuX3NvdXJjZSwgb2xkRWxlbWVudC5fb3duZXIsIG9sZEVsZW1lbnQucHJvcHMpO1xuICAgICAgcmV0dXJuIG5ld0VsZW1lbnQ7XG4gICAgfTtcbiAgICBSZWFjdEVsZW1lbnQuY2xvbmVFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY29uZmlnLCBjaGlsZHJlbikge1xuICAgICAgdmFyIHByb3BOYW1lO1xuICAgICAgdmFyIHByb3BzID0gX2Fzc2lnbih7fSwgZWxlbWVudC5wcm9wcyk7XG4gICAgICB2YXIga2V5ID0gZWxlbWVudC5rZXk7XG4gICAgICB2YXIgcmVmID0gZWxlbWVudC5yZWY7XG4gICAgICB2YXIgc2VsZiA9IGVsZW1lbnQuX3NlbGY7XG4gICAgICB2YXIgc291cmNlID0gZWxlbWVudC5fc291cmNlO1xuICAgICAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhjb25maWcuX19wcm90b19fID09IG51bGwgfHwgY29uZmlnLl9fcHJvdG9fXyA9PT0gT2JqZWN0LnByb3RvdHlwZSwgJ1JlYWN0LmNsb25lRWxlbWVudCguLi4pOiBFeHBlY3RlZCBwcm9wcyBhcmd1bWVudCB0byBiZSBhIHBsYWluIG9iamVjdC4gJyArICdQcm9wZXJ0aWVzIGRlZmluZWQgaW4gaXRzIHByb3RvdHlwZSBjaGFpbiB3aWxsIGJlIGlnbm9yZWQuJykgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5yZWYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gICAgICAgICAgb3duZXIgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBrZXkgPSAnJyArIGNvbmZpZy5rZXk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlZmF1bHRQcm9wcztcbiAgICAgICAgaWYgKGVsZW1lbnQudHlwZSAmJiBlbGVtZW50LnR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgICAgICAgZGVmYXVsdFByb3BzID0gZWxlbWVudC50eXBlLmRlZmF1bHRQcm9wcztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIGlmIChjb25maWdbcHJvcE5hbWVdID09PSB1bmRlZmluZWQgJiYgZGVmYXVsdFByb3BzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICAgIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZHJlbkxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNoaWxkQXJyYXlbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgICAgICB9XG4gICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQoZWxlbWVudC50eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpO1xuICAgIH07XG4gICAgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdEVsZW1lbnQ7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjMwXCIsIFtcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgICAgfVxuICAgICAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZjNcIiwgW1wiOGRcIiwgXCIzMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdEVsZW1lbnQgPSAkX19yZXF1aXJlKCc4ZCcpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIGZ1bmN0aW9uIG9ubHlDaGlsZChjaGlsZHJlbikge1xuICAgICAgIVJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbikgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnb25seUNoaWxkIG11c3QgYmUgcGFzc2VkIGEgY2hpbGRyZW4gd2l0aCBleGFjdGx5IG9uZSBjaGlsZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gb25seUNoaWxkO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI0OFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fVxuICBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG4gIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKGZhbHNlKTtcbiAgZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWUgPSBtYWtlRW1wdHlGdW5jdGlvbih0cnVlKTtcbiAgZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcbiAgZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50ID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBlbXB0eUZ1bmN0aW9uO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjIyXCIsIFtcIjQ4XCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGVtcHR5RnVuY3Rpb24gPSAkX19yZXF1aXJlKCc0OCcpO1xuICAgIHZhciB3YXJuaW5nID0gZW1wdHlGdW5jdGlvbjtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgd2FybmluZyA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSxcbiAgICAgICAgICAgIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0LmluZGV4T2YoJ0ZhaWxlZCBDb21wb3NpdGUgcHJvcFR5cGU6ICcpID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IHdhcm5pbmc7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImY0XCIsIFtcIjZcIiwgXCIzMlwiLCBcImVkXCIsIFwiNjNcIiwgXCJmMFwiLCBcIjhkXCIsIFwiZjFcIiwgXCIzYVwiLCBcIjk4XCIsIFwiZjNcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICAgIHZhciBSZWFjdENoaWxkcmVuID0gJF9fcmVxdWlyZSgnMzInKTtcbiAgICB2YXIgUmVhY3RDb21wb25lbnQgPSAkX19yZXF1aXJlKCdlZCcpO1xuICAgIHZhciBSZWFjdENsYXNzID0gJF9fcmVxdWlyZSgnNjMnKTtcbiAgICB2YXIgUmVhY3RET01GYWN0b3JpZXMgPSAkX19yZXF1aXJlKCdmMCcpO1xuICAgIHZhciBSZWFjdEVsZW1lbnQgPSAkX19yZXF1aXJlKCc4ZCcpO1xuICAgIHZhciBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgPSAkX19yZXF1aXJlKCdmMScpO1xuICAgIHZhciBSZWFjdFByb3BUeXBlcyA9ICRfX3JlcXVpcmUoJzNhJyk7XG4gICAgdmFyIFJlYWN0VmVyc2lvbiA9ICRfX3JlcXVpcmUoJzk4Jyk7XG4gICAgdmFyIG9ubHlDaGlsZCA9ICRfX3JlcXVpcmUoJ2YzJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciBjcmVhdGVFbGVtZW50ID0gUmVhY3RFbGVtZW50LmNyZWF0ZUVsZW1lbnQ7XG4gICAgdmFyIGNyZWF0ZUZhY3RvcnkgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRmFjdG9yeTtcbiAgICB2YXIgY2xvbmVFbGVtZW50ID0gUmVhY3RFbGVtZW50LmNsb25lRWxlbWVudDtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgY3JlYXRlRWxlbWVudCA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVFbGVtZW50O1xuICAgICAgY3JlYXRlRmFjdG9yeSA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVGYWN0b3J5O1xuICAgICAgY2xvbmVFbGVtZW50ID0gUmVhY3RFbGVtZW50VmFsaWRhdG9yLmNsb25lRWxlbWVudDtcbiAgICB9XG4gICAgdmFyIF9fc3ByZWFkID0gX2Fzc2lnbjtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICAgICAgX19zcHJlYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcod2FybmVkLCAnUmVhY3QuX19zcHJlYWQgaXMgZGVwcmVjYXRlZCBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkLiBVc2UgJyArICdPYmplY3QuYXNzaWduIGRpcmVjdGx5IG9yIGFub3RoZXIgaGVscGVyIGZ1bmN0aW9uIHdpdGggc2ltaWxhciAnICsgJ3NlbWFudGljcy4gWW91IG1heSBiZSBzZWVpbmcgdGhpcyB3YXJuaW5nIGR1ZSB0byB5b3VyIGNvbXBpbGVyLiAnICsgJ1NlZSBodHRwczovL2ZiLm1lL3JlYWN0LXNwcmVhZC1kZXByZWNhdGlvbiBmb3IgbW9yZSBkZXRhaWxzLicpIDogdm9pZCAwO1xuICAgICAgICB3YXJuZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX2Fzc2lnbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIFJlYWN0ID0ge1xuICAgICAgQ2hpbGRyZW46IHtcbiAgICAgICAgbWFwOiBSZWFjdENoaWxkcmVuLm1hcCxcbiAgICAgICAgZm9yRWFjaDogUmVhY3RDaGlsZHJlbi5mb3JFYWNoLFxuICAgICAgICBjb3VudDogUmVhY3RDaGlsZHJlbi5jb3VudCxcbiAgICAgICAgdG9BcnJheTogUmVhY3RDaGlsZHJlbi50b0FycmF5LFxuICAgICAgICBvbmx5OiBvbmx5Q2hpbGRcbiAgICAgIH0sXG4gICAgICBDb21wb25lbnQ6IFJlYWN0Q29tcG9uZW50LFxuICAgICAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudCxcbiAgICAgIGNsb25lRWxlbWVudDogY2xvbmVFbGVtZW50LFxuICAgICAgaXNWYWxpZEVsZW1lbnQ6IFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudCxcbiAgICAgIFByb3BUeXBlczogUmVhY3RQcm9wVHlwZXMsXG4gICAgICBjcmVhdGVDbGFzczogUmVhY3RDbGFzcy5jcmVhdGVDbGFzcyxcbiAgICAgIGNyZWF0ZUZhY3Rvcnk6IGNyZWF0ZUZhY3RvcnksXG4gICAgICBjcmVhdGVNaXhpbjogZnVuY3Rpb24obWl4aW4pIHtcbiAgICAgICAgcmV0dXJuIG1peGluO1xuICAgICAgfSxcbiAgICAgIERPTTogUmVhY3RET01GYWN0b3JpZXMsXG4gICAgICB2ZXJzaW9uOiBSZWFjdFZlcnNpb24sXG4gICAgICBfX3NwcmVhZDogX19zcHJlYWRcbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3Q7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImY1XCIsIFtcImY0XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJ2Y0Jyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiOWNcIiwgW1wiZjVcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCdmNScpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyKCdmNicsIFsnOWMnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBSZWFjdCwgZm9vdGVyTGlua3MsIE1haW5Gb290ZXI7XG4gIHJldHVybiB7XG4gICAgc2V0dGVyczogW2Z1bmN0aW9uIChfYykge1xuICAgICAgUmVhY3QgPSBfY1snZGVmYXVsdCddO1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvb3RlckxpbmtzID0gW3tcbiAgICAgICAgaHJlZjogJ2h0dHBzOi8vZ2l0aHViLmNvbS9mcm9udGVuZGJyL2ZvcnVtJyxcbiAgICAgICAgdGl0bGU6ICdBY2Vzc28gbm9zc28gZsOzcnVtJyxcbiAgICAgICAgY29udGVudDogJ0bDs3J1bSdcbiAgICAgIH0sIHtcbiAgICAgICAgaHJlZjogJ2h0dHBzOi8vZ2l0aHViLmNvbS9mcm9udGVuZGJyL3ZhZ2FzJyxcbiAgICAgICAgdGl0bGU6ICdQdWJsaXF1ZSBvdSBlbmNvbnRyZSB1bWEgdmFnYScsXG4gICAgICAgIGNvbnRlbnQ6ICdWYWdhcydcbiAgICAgIH1dO1xuXG4gICAgICBNYWluRm9vdGVyID0gZnVuY3Rpb24gTWFpbkZvb3RlcigpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2Zvb3RlcicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdmb290ZXInLCByb2xlOiAnY29udGVudGluZm8nIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdmb290ZXItaW5uZXInIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjb250YWluZXItZmxleCcgfSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Zvb3Rlci1pbm5lci0tbWFpbicgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICdFc3NlIHByb2pldG8gw6kgdW1hIGluaWNpYXRpdmEgZGEgb3JnYW5pemHDp8OjbyAnLFxuICAgICAgICAgICAgICAgICAgJyAnLFxuICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgICAgICAgICB7IGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vZnJvbnRlbmRicicgfSxcbiAgICAgICAgICAgICAgICAgICAgJ0Zyb250LUVuZCBCcmFzaWwgZG8gR2l0SHViLidcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3VsJyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Zvb3Rlci1pbm5lci0tbmF2JyB9LFxuICAgICAgICAgICAgICAgIGZvb3RlckxpbmtzLm1hcChmdW5jdGlvbiAoX3JlZiwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBocmVmID0gX3JlZi5ocmVmO1xuICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gX3JlZi50aXRsZTtcbiAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gX3JlZi5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiBpbmRleCB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2J0bi1saW5rJywgaHJlZjogaHJlZiwgdGl0bGU6IHRpdGxlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgY29udGVudFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZm9vdGVyLWhvbGQnIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjb250YWluZXInIH0sXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgJ8KpIDIwMTYgJyxcbiAgICAgICAgICAgICAgICAnICcsXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgIHsgaHJlZjogJ2h0dHBzOi8vZ2l0aHViLmNvbS9mcm9udGVuZGJyLycgfSxcbiAgICAgICAgICAgICAgICAgICdGcm9udC1FbmQgQnJhc2lsJ1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIF9leHBvcnQoJ2RlZmF1bHQnLCBNYWluRm9vdGVyKTtcbiAgICB9XG4gIH07XG59KTtcbiRfX1N5c3RlbS5yZWdpc3RlcignZjcnLCBbJ2E4JywgJ2E5JywgJ2FhJywgJ2FiJywgJzljJywgJzliJywgJ2U1JywgJ2Y2J10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gIHZhciBfZ2V0LCBfaW5oZXJpdHMsIF9jcmVhdGVDbGFzcywgX2NsYXNzQ2FsbENoZWNrLCBSZWFjdCwgQ29tcG9uZW50LCBNYWluSGVhZGVyLCBNYWluQ29udGVudCwgTWFpbkZvb3RlciwgQXBwO1xuXG4gIHJldHVybiB7XG4gICAgc2V0dGVyczogW2Z1bmN0aW9uIChfYTgpIHtcbiAgICAgIF9nZXQgPSBfYThbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2E5KSB7XG4gICAgICBfaW5oZXJpdHMgPSBfYTlbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2FhKSB7XG4gICAgICBfY3JlYXRlQ2xhc3MgPSBfYWFbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2FiKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sgPSBfYWJbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgIFJlYWN0ID0gX2NbJ2RlZmF1bHQnXTtcbiAgICAgIENvbXBvbmVudCA9IF9jLkNvbXBvbmVudDtcbiAgICB9LCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgIE1haW5IZWFkZXIgPSBfYlsnZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfZTUpIHtcbiAgICAgIE1haW5Db250ZW50ID0gX2U1WydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF9mNikge1xuICAgICAgTWFpbkZvb3RlciA9IF9mNlsnZGVmYXVsdCddO1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgQXBwID0gKGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICAgIF9pbmhlcml0cyhBcHAsIF9Db21wb25lbnQpO1xuXG4gICAgICAgIGZ1bmN0aW9uIEFwcCgpIHtcbiAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXBwKTtcblxuICAgICAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFwcC5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKEFwcCwgW3tcbiAgICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWFpbkhlYWRlciwgbnVsbCksXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWFpbkNvbnRlbnQsIG51bGwpLFxuICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE1haW5Gb290ZXIsIG51bGwpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBBcHA7XG4gICAgICB9KShDb21wb25lbnQpO1xuXG4gICAgICBfZXhwb3J0KCdkZWZhdWx0JywgQXBwKTtcbiAgICB9XG4gIH07XG59KTtcbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJmOFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuICAgIHZhciByZXN1bHQ7XG4gICAgdmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcbiAgICAgICAgcmVzdWx0ID0gU3ltYm9sLm9ic2VydmFibGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcbiAgICAgICAgU3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImY5XCIsIFtcImY4XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJ2Y4JykoZ2xvYmFsIHx8IHdpbmRvdyB8fCB0aGlzKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJmYVwiLCBbXCJmOVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJ2Y5Jyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZmJcIiwgW1wiZDBcIiwgXCJmYVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHVuZGVmaW5lZDtcbiAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjcmVhdGVTdG9yZTtcbiAgdmFyIF9pc1BsYWluT2JqZWN0ID0gJF9fcmVxdWlyZSgnZDAnKTtcbiAgdmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuICB2YXIgX3N5bWJvbE9ic2VydmFibGUgPSAkX19yZXF1aXJlKCdmYScpO1xuICB2YXIgX3N5bWJvbE9ic2VydmFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sT2JzZXJ2YWJsZSk7XG4gIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcImRlZmF1bHRcIjogb2JqfTtcbiAgfVxuICB2YXIgQWN0aW9uVHlwZXMgPSBleHBvcnRzLkFjdGlvblR5cGVzID0ge0lOSVQ6ICdAQHJlZHV4L0lOSVQnfTtcbiAgZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuICAgIHZhciBfcmVmMjtcbiAgICBpZiAodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZW5oYW5jZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBlbmhhbmNlciA9IGluaXRpYWxTdGF0ZTtcbiAgICAgIGluaXRpYWxTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbmhhbmNlcihjcmVhdGVTdG9yZSkocmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuICAgIHZhciBjdXJyZW50UmVkdWNlciA9IHJlZHVjZXI7XG4gICAgdmFyIGN1cnJlbnRTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICB2YXIgY3VycmVudExpc3RlbmVycyA9IFtdO1xuICAgIHZhciBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycztcbiAgICB2YXIgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG4gICAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuICAgICAgICBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycy5zbGljZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICB2YXIgaXNTdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuICAgICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgIG5leHRMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoYWN0aW9uKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiAnICsgJ1VzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy4nKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgYWN0aW9uLnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiAnICsgJ0hhdmUgeW91IG1pc3NwZWxsZWQgYSBjb25zdGFudD8nKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlcnMgbWF5IG5vdCBkaXNwYXRjaCBhY3Rpb25zLicpO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG4gICAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRSZWR1Y2VyKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBsaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzID0gbmV4dExpc3RlbmVycztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxpc3RlbmVyc1tpXSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgbmV4dFJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRSZWR1Y2VyID0gbmV4dFJlZHVjZXI7XG4gICAgICBkaXNwYXRjaCh7dHlwZTogQWN0aW9uVHlwZXMuSU5JVH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvYnNlcnZhYmxlKCkge1xuICAgICAgdmFyIF9yZWY7XG4gICAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICByZXR1cm4gX3JlZiA9IHtzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBvYnNlcnZlU3RhdGUoKSB7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KGdldFN0YXRlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBvYnNlcnZlU3RhdGUoKTtcbiAgICAgICAgICB2YXIgdW5zdWJzY3JpYmUgPSBvdXRlclN1YnNjcmliZShvYnNlcnZlU3RhdGUpO1xuICAgICAgICAgIHJldHVybiB7dW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlfTtcbiAgICAgICAgfX0sIF9yZWZbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LCBfcmVmO1xuICAgIH1cbiAgICBkaXNwYXRjaCh7dHlwZTogQWN0aW9uVHlwZXMuSU5JVH0pO1xuICAgIHJldHVybiBfcmVmMiA9IHtcbiAgICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcbiAgICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuICAgICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgICAgcmVwbGFjZVJlZHVjZXI6IHJlcGxhY2VSZWR1Y2VyXG4gICAgfSwgX3JlZjJbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcbiAgfVxuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImZjXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIGZ1bmN0aW9uIGdldFByb3RvdHlwZSh2YWx1ZSkge1xuICAgIHJldHVybiBuYXRpdmVHZXRQcm90b3R5cGUoT2JqZWN0KHZhbHVlKSk7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZmRcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBpc0hvc3RPYmplY3Q7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZmVcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImQwXCIsIFtcImZjXCIsIFwiZmRcIiwgXCJmZVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgZ2V0UHJvdG90eXBlID0gJF9fcmVxdWlyZSgnZmMnKSxcbiAgICAgIGlzSG9zdE9iamVjdCA9ICRfX3JlcXVpcmUoJ2ZkJyksXG4gICAgICBpc09iamVjdExpa2UgPSAkX19yZXF1aXJlKCdmZScpO1xuICB2YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gIHZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG4gIHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG4gIHZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpICE9IG9iamVjdFRhZyB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gICAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZyk7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBpc1BsYWluT2JqZWN0O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImZmXCIsIFtcImZiXCIsIFwiZDBcIiwgXCIxMDBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICAgIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tYmluZVJlZHVjZXJzO1xuICAgIHZhciBfY3JlYXRlU3RvcmUgPSAkX19yZXF1aXJlKCdmYicpO1xuICAgIHZhciBfaXNQbGFpbk9iamVjdCA9ICRfX3JlcXVpcmUoJ2QwJyk7XG4gICAgdmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuICAgIHZhciBfd2FybmluZyA9ICRfX3JlcXVpcmUoJzEwMCcpO1xuICAgIHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcImRlZmF1bHRcIjogb2JqfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pIHtcbiAgICAgIHZhciBhY3Rpb25UeXBlID0gYWN0aW9uICYmIGFjdGlvbi50eXBlO1xuICAgICAgdmFyIGFjdGlvbk5hbWUgPSBhY3Rpb25UeXBlICYmICdcIicgKyBhY3Rpb25UeXBlLnRvU3RyaW5nKCkgKyAnXCInIHx8ICdhbiBhY3Rpb24nO1xuICAgICAgcmV0dXJuICdHaXZlbiBhY3Rpb24gJyArIGFjdGlvbk5hbWUgKyAnLCByZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQuICcgKyAnVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLic7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2UoaW5wdXRTdGF0ZSwgcmVkdWNlcnMsIGFjdGlvbikge1xuICAgICAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICAgICAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgPyAnaW5pdGlhbFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xuICAgICAgaWYgKHJlZHVjZXJLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuICAgICAgfVxuICAgICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoaW5wdXRTdGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuICdUaGUgJyArIGFyZ3VtZW50TmFtZSArICcgaGFzIHVuZXhwZWN0ZWQgdHlwZSBvZiBcIicgKyB7fS50b1N0cmluZy5jYWxsKGlucHV0U3RhdGUpLm1hdGNoKC9cXHMoW2EtenxBLVpdKykvKVsxXSArICdcIi4gRXhwZWN0ZWQgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyAnICsgKCdrZXlzOiBcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIicpO1xuICAgICAgfVxuICAgICAgdmFyIHVuZXhwZWN0ZWRLZXlzID0gT2JqZWN0LmtleXMoaW5wdXRTdGF0ZSkuZmlsdGVyKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gIXJlZHVjZXJzLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICB9KTtcbiAgICAgIGlmICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiAnVW5leHBlY3RlZCAnICsgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDEgPyAna2V5cycgOiAna2V5JykgKyAnICcgKyAoJ1wiJyArIHVuZXhwZWN0ZWRLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiIGZvdW5kIGluICcgKyBhcmd1bWVudE5hbWUgKyAnLiAnKSArICdFeHBlY3RlZCB0byBmaW5kIG9uZSBvZiB0aGUga25vd24gcmVkdWNlciBrZXlzIGluc3RlYWQ6ICcgKyAoJ1wiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiLiBVbmV4cGVjdGVkIGtleXMgd2lsbCBiZSBpZ25vcmVkLicpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2FuaXR5KHJlZHVjZXJzKSB7XG4gICAgICBPYmplY3Qua2V5cyhyZWR1Y2VycykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgdmFyIHJlZHVjZXIgPSByZWR1Y2Vyc1trZXldO1xuICAgICAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHt0eXBlOiBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVH0pO1xuICAgICAgICBpZiAodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uICcgKyAnSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0ICcgKyAnZXhwbGljaXRseSByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSAnICsgJ25vdCBiZSB1bmRlZmluZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHR5cGUgPSAnQEByZWR1eC9QUk9CRV9VTktOT1dOX0FDVElPTl8nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpLnNwbGl0KCcnKS5qb2luKCcuJyk7XG4gICAgICAgIGlmICh0eXBlb2YgcmVkdWNlcih1bmRlZmluZWQsIHt0eXBlOiB0eXBlfSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiAnICsgKCdEb25cXCd0IHRyeSB0byBoYW5kbGUgJyArIF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUICsgJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiICcpICsgJ25hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlICcgKyAnY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgJyArICdpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgJyArICdhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcbiAgICAgIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgICAgIHZhciBmaW5hbFJlZHVjZXJzID0ge307XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSByZWR1Y2VyS2V5c1tpXTtcbiAgICAgICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcbiAgICAgIHZhciBzYW5pdHlFcnJvcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGFzc2VydFJlZHVjZXJTYW5pdHkoZmluYWxSZWR1Y2Vycyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHNhbml0eUVycm9yID0gZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiBjb21iaW5hdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG4gICAgICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG4gICAgICAgIGlmIChzYW5pdHlFcnJvcikge1xuICAgICAgICAgIHRocm93IHNhbml0eUVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uKTtcbiAgICAgICAgICBpZiAod2FybmluZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSh3YXJuaW5nTWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHZhciBuZXh0U3RhdGUgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaW5hbFJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGtleSA9IGZpbmFsUmVkdWNlcktleXNbaV07XG4gICAgICAgICAgdmFyIHJlZHVjZXIgPSBmaW5hbFJlZHVjZXJzW2tleV07XG4gICAgICAgICAgdmFyIHByZXZpb3VzU3RhdGVGb3JLZXkgPSBzdGF0ZVtrZXldO1xuICAgICAgICAgIHZhciBuZXh0U3RhdGVGb3JLZXkgPSByZWR1Y2VyKHByZXZpb3VzU3RhdGVGb3JLZXksIGFjdGlvbik7XG4gICAgICAgICAgaWYgKHR5cGVvZiBuZXh0U3RhdGVGb3JLZXkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHRTdGF0ZVtrZXldID0gbmV4dFN0YXRlRm9yS2V5O1xuICAgICAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFzQ2hhbmdlZCA/IG5leHRTdGF0ZSA6IHN0YXRlO1xuICAgICAgfTtcbiAgICB9XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEwMVwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBiaW5kQWN0aW9uQ3JlYXRvcnM7XG4gIGZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKGFjdGlvbkNyZWF0b3IuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpIHtcbiAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyAhPT0gJ29iamVjdCcgfHwgYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkICcgKyAoYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgYWN0aW9uQ3JlYXRvcnMpICsgJy4gJyArICdEaWQgeW91IHdyaXRlIFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cIiBpbnN0ZWFkIG9mIFwiaW1wb3J0ICogYXMgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiPycpO1xuICAgIH1cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFjdGlvbkNyZWF0b3JzKTtcbiAgICB2YXIgYm91bmRBY3Rpb25DcmVhdG9ycyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICB2YXIgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV07XG4gICAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgYm91bmRBY3Rpb25DcmVhdG9yc1trZXldID0gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9ycztcbiAgfVxuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEwMlwiLCBbXCIxMDNcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGFwcGx5TWlkZGxld2FyZTtcbiAgdmFyIF9jb21wb3NlID0gJF9fcmVxdWlyZSgnMTAzJyk7XG4gIHZhciBfY29tcG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb3NlKTtcbiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1wiZGVmYXVsdFwiOiBvYmp9O1xuICB9XG4gIGZ1bmN0aW9uIGFwcGx5TWlkZGxld2FyZSgpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgbWlkZGxld2FyZXMgPSBBcnJheShfbGVuKSxcbiAgICAgICAgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oY3JlYXRlU3RvcmUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGVuaGFuY2VyKSB7XG4gICAgICAgIHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpO1xuICAgICAgICB2YXIgX2Rpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG4gICAgICAgIHZhciBjaGFpbiA9IFtdO1xuICAgICAgICB2YXIgbWlkZGxld2FyZUFQSSA9IHtcbiAgICAgICAgICBnZXRTdGF0ZTogc3RvcmUuZ2V0U3RhdGUsXG4gICAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIF9kaXNwYXRjaChhY3Rpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY2hhaW4gPSBtaWRkbGV3YXJlcy5tYXAoZnVuY3Rpb24obWlkZGxld2FyZSkge1xuICAgICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuICAgICAgICB9KTtcbiAgICAgICAgX2Rpc3BhdGNoID0gX2NvbXBvc2UyW1wiZGVmYXVsdFwiXS5hcHBseSh1bmRlZmluZWQsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RvcmUsIHtkaXNwYXRjaDogX2Rpc3BhdGNofSk7XG4gICAgICB9O1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMDNcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tcG9zZTtcbiAgZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgZnVuY3MgPSBBcnJheShfbGVuKSxcbiAgICAgICAgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGZ1bmNzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICBpZiAoZnVuY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiBhcmc7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbGFzdCA9IGZ1bmNzW2Z1bmNzLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgcmVzdCA9IGZ1bmNzLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgcmV0dXJuIHt2OiBmdW5jdGlvbiB2KCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3QucmVkdWNlUmlnaHQoZnVuY3Rpb24oY29tcG9zZWQsIGYpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGYoY29tcG9zZWQpO1xuICAgICAgICAgICAgfSwgbGFzdC5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICAgICAgICAgIH19O1xuICAgICAgfSgpO1xuICAgICAgaWYgKHR5cGVvZiBfcmV0ID09PSBcIm9iamVjdFwiKVxuICAgICAgICByZXR1cm4gX3JldC52O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEwMFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB3YXJuaW5nO1xuICBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMDRcIiwgW1wiZmJcIiwgXCJmZlwiLCBcIjEwMVwiLCBcIjEwMlwiLCBcIjEwM1wiLCBcIjEwMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gICAgZXhwb3J0cy5jb21wb3NlID0gZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBleHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IGV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gZXhwb3J0cy5jcmVhdGVTdG9yZSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgX2NyZWF0ZVN0b3JlID0gJF9fcmVxdWlyZSgnZmInKTtcbiAgICB2YXIgX2NyZWF0ZVN0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVN0b3JlKTtcbiAgICB2YXIgX2NvbWJpbmVSZWR1Y2VycyA9ICRfX3JlcXVpcmUoJ2ZmJyk7XG4gICAgdmFyIF9jb21iaW5lUmVkdWNlcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tYmluZVJlZHVjZXJzKTtcbiAgICB2YXIgX2JpbmRBY3Rpb25DcmVhdG9ycyA9ICRfX3JlcXVpcmUoJzEwMScpO1xuICAgIHZhciBfYmluZEFjdGlvbkNyZWF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpbmRBY3Rpb25DcmVhdG9ycyk7XG4gICAgdmFyIF9hcHBseU1pZGRsZXdhcmUgPSAkX19yZXF1aXJlKCcxMDInKTtcbiAgICB2YXIgX2FwcGx5TWlkZGxld2FyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcHBseU1pZGRsZXdhcmUpO1xuICAgIHZhciBfY29tcG9zZSA9ICRfX3JlcXVpcmUoJzEwMycpO1xuICAgIHZhciBfY29tcG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb3NlKTtcbiAgICB2YXIgX3dhcm5pbmcgPSAkX19yZXF1aXJlKCcxMDAnKTtcbiAgICB2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XCJkZWZhdWx0XCI6IG9ian07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQ3J1c2hlZCgpIHt9XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGlzQ3J1c2hlZC5uYW1lID09PSAnc3RyaW5nJyAmJiBpc0NydXNoZWQubmFtZSAhPT0gJ2lzQ3J1c2hlZCcpIHtcbiAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSgnWW91IGFyZSBjdXJyZW50bHkgdXNpbmcgbWluaWZpZWQgY29kZSBvdXRzaWRlIG9mIE5PREVfRU5WID09PSBcXCdwcm9kdWN0aW9uXFwnLiAnICsgJ1RoaXMgbWVhbnMgdGhhdCB5b3UgYXJlIHJ1bm5pbmcgYSBzbG93ZXIgZGV2ZWxvcG1lbnQgYnVpbGQgb2YgUmVkdXguICcgKyAnWW91IGNhbiB1c2UgbG9vc2UtZW52aWZ5IChodHRwczovL2dpdGh1Yi5jb20vemVydG9zaC9sb29zZS1lbnZpZnkpIGZvciBicm93c2VyaWZ5ICcgKyAnb3IgRGVmaW5lUGx1Z2luIGZvciB3ZWJwYWNrIChodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMwMDMwMDMxKSAnICsgJ3RvIGVuc3VyZSB5b3UgaGF2ZSB0aGUgY29ycmVjdCBjb2RlIGZvciB5b3VyIHByb2R1Y3Rpb24gYnVpbGQuJyk7XG4gICAgfVxuICAgIGV4cG9ydHMuY3JlYXRlU3RvcmUgPSBfY3JlYXRlU3RvcmUyW1wiZGVmYXVsdFwiXTtcbiAgICBleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IF9jb21iaW5lUmVkdWNlcnMyW1wiZGVmYXVsdFwiXTtcbiAgICBleHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IF9iaW5kQWN0aW9uQ3JlYXRvcnMyW1wiZGVmYXVsdFwiXTtcbiAgICBleHBvcnRzLmFwcGx5TWlkZGxld2FyZSA9IF9hcHBseU1pZGRsZXdhcmUyW1wiZGVmYXVsdFwiXTtcbiAgICBleHBvcnRzLmNvbXBvc2UgPSBfY29tcG9zZTJbXCJkZWZhdWx0XCJdO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJjYVwiLCBbXCIxMDRcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCcxMDQnKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMDVcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIGV4cG9ydHNbJ2RlZmF1bHQnXSA9IHRodW5rTWlkZGxld2FyZTtcbiAgZnVuY3Rpb24gdGh1bmtNaWRkbGV3YXJlKF9yZWYpIHtcbiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoO1xuICAgIHZhciBnZXRTdGF0ZSA9IF9yZWYuZ2V0U3RhdGU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG5leHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gYWN0aW9uKGRpc3BhdGNoLCBnZXRTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEwNlwiLCBbXCIxMDVcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCcxMDUnKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlcignMTA3JywgWycxMDYnLCAnMTA4JywgJ2E0JywgJ2NhJ10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gIHZhciB0aHVua01pZGRsZXdhcmUsIF90b0NvbnN1bWFibGVBcnJheSwgX2V4dGVuZHMsIGNyZWF0ZVN0b3JlLCBjb21wb3NlLCBhcHBseU1pZGRsZXdhcmUsIGNvbWJpbmVSZWR1Y2VycztcblxuICByZXR1cm4ge1xuICAgIHNldHRlcnM6IFtmdW5jdGlvbiAoXzIpIHtcbiAgICAgIHRodW5rTWlkZGxld2FyZSA9IF8yWydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF8pIHtcbiAgICAgIF90b0NvbnN1bWFibGVBcnJheSA9IF9bJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2E0KSB7XG4gICAgICBfZXh0ZW5kcyA9IF9hNFsnZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfY2EpIHtcbiAgICAgIGNyZWF0ZVN0b3JlID0gX2NhLmNyZWF0ZVN0b3JlO1xuICAgICAgY29tcG9zZSA9IF9jYS5jb21wb3NlO1xuICAgICAgYXBwbHlNaWRkbGV3YXJlID0gX2NhLmFwcGx5TWlkZGxld2FyZTtcbiAgICAgIGNvbWJpbmVSZWR1Y2VycyA9IF9jYS5jb21iaW5lUmVkdWNlcnM7XG4gICAgfV0sXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICBfZXhwb3J0KCdkZWZhdWx0JywgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIF9yZWYkaW5pdGlhbFN0YXRlID0gX3JlZi5pbml0aWFsU3RhdGU7XG4gICAgICAgIHZhciBpbml0aWFsU3RhdGUgPSBfcmVmJGluaXRpYWxTdGF0ZSA9PT0gdW5kZWZpbmVkID8ge30gOiBfcmVmJGluaXRpYWxTdGF0ZTtcbiAgICAgICAgdmFyIHJlZHVjZXJzID0gX3JlZi5yZWR1Y2VycztcbiAgICAgICAgdmFyIF9yZWYkbWlkZGxld2FyZXMgPSBfcmVmLm1pZGRsZXdhcmVzO1xuICAgICAgICB2YXIgbWlkZGxld2FyZXMgPSBfcmVmJG1pZGRsZXdhcmVzID09PSB1bmRlZmluZWQgPyBbXSA6IF9yZWYkbWlkZGxld2FyZXM7XG5cbiAgICAgICAgdmFyIHJvb3RSZWR1Y2VyID0gY29tYmluZVJlZHVjZXJzKF9leHRlbmRzKHt9LCByZWR1Y2VycykpO1xuICAgICAgICByZXR1cm4gY29tcG9zZShhcHBseU1pZGRsZXdhcmUuYXBwbHkodW5kZWZpbmVkLCBbdGh1bmtNaWRkbGV3YXJlXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KG1pZGRsZXdhcmVzKSkpKShjcmVhdGVTdG9yZSkocm9vdFJlZHVjZXIsIGluaXRpYWxTdGF0ZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KTtcbiRfX1N5c3RlbS5yZWdpc3RlcignMTA5JywgWydhNCcsICdhNiddLCBmdW5jdGlvbiAoX2V4cG9ydCkge1xuICB2YXIgX2V4dGVuZHMsIEZFVENIX0VWRU5UUywgRVZFTlRTX1NVQ0NFU1MsIEVWRU5UU19GQUlMRUQsIENIT09TRV9GSUxURVJfU0VMRUNULCBGSUxURVJfQllfVEVYVCwgaW5pdGlhbFN0YXRlLCBldmVudHM7XG5cbiAgcmV0dXJuIHtcbiAgICBzZXR0ZXJzOiBbZnVuY3Rpb24gKF9hNCkge1xuICAgICAgX2V4dGVuZHMgPSBfYTRbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2E2KSB7XG4gICAgICBGRVRDSF9FVkVOVFMgPSBfYTYuRkVUQ0hfRVZFTlRTO1xuICAgICAgRVZFTlRTX1NVQ0NFU1MgPSBfYTYuRVZFTlRTX1NVQ0NFU1M7XG4gICAgICBFVkVOVFNfRkFJTEVEID0gX2E2LkVWRU5UU19GQUlMRUQ7XG4gICAgICBDSE9PU0VfRklMVEVSX1NFTEVDVCA9IF9hNi5DSE9PU0VfRklMVEVSX1NFTEVDVDtcbiAgICAgIEZJTFRFUl9CWV9URVhUID0gX2E2LkZJTFRFUl9CWV9URVhUO1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgICBldmVudHM6IEFycmF5LmFwcGx5KG51bGwsIHsgbGVuZ3RoOiA1IH0pLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpdGxlOiAnLi4uJyxcbiAgICAgICAgICAgIGRhdGU6IHsgZGF5OiAwLCBtb250aDogJycsIHllYXI6IDAgfSxcbiAgICAgICAgICAgIGltYWdlOiAnJ1xuICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBpc0ZldGNoaW5nOiBmYWxzZVxuICAgICAgfTtcblxuICAgICAgZXZlbnRzID0gZnVuY3Rpb24gZXZlbnRzKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgICAgaWYgKHN0YXRlID09PSB1bmRlZmluZWQpIHN0YXRlID0gaW5pdGlhbFN0YXRlO1xuXG4gICAgICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIEZFVENIX0VWRU5UUzpcbiAgICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICAgICAgICAgICAgaXNGZXRjaGluZzogdHJ1ZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjYXNlIEVWRU5UU19TVUNDRVNTOlxuICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICBldmVudHM6IGFjdGlvbi5wYXlsb2FkLmV2ZW50cyxcbiAgICAgICAgICAgICAgaXNGZXRjaGluZzogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY2FzZSBFVkVOVFNfRkFJTEVEOlxuICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICBpc0ZldGNoaW5nOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjYXNlIENIT09TRV9GSUxURVJfU0VMRUNUOlxuICAgICAgICAgICAgdmFyIF9hY3Rpb24kcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICAgICAgICAgIGZpZWxkID0gX2FjdGlvbiRwYXlsb2FkLmZpZWxkLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gX2FjdGlvbiRwYXlsb2FkLnZhbHVlO1xuXG4gICAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgICAgICAgIGV2ZW50czogc3RhdGUuZXZlbnRzLm1hcChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hvdWxkU2hvd0J5TW9udGggPSBldmVudC5zaG91bGRTaG93QnlNb250aCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGV2ZW50LnNob3VsZFNob3dCeU1vbnRoO1xuICAgICAgICAgICAgICAgIHZhciBzaG91bGRTaG93QnlTdGF0ZSA9IGV2ZW50LnNob3VsZFNob3dCeVN0YXRlID09PSB1bmRlZmluZWQgPyB0cnVlIDogZXZlbnQuc2hvdWxkU2hvd0J5U3RhdGU7XG5cbiAgICAgICAgICAgICAgICBpZiAoZmllbGQgPT09ICdtb250aHMnKSB7XG4gICAgICAgICAgICAgICAgICBzaG91bGRTaG93QnlNb250aCA9ICF2YWx1ZSA/IHRydWUgOiBldmVudC5kYXRlLm1vbnRoID09PSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZmllbGQgPT09ICdzdGF0ZScpIHtcbiAgICAgICAgICAgICAgICAgIHNob3VsZFNob3dCeVN0YXRlID0gIXZhbHVlID8gdHJ1ZSA6IGV2ZW50LmxvY2F0aW9uLnN0YXRlID09PSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIGV2ZW50LCB7XG4gICAgICAgICAgICAgICAgICBzaG91bGRTaG93QnlNb250aDogc2hvdWxkU2hvd0J5TW9udGgsXG4gICAgICAgICAgICAgICAgICBzaG91bGRTaG93QnlTdGF0ZTogc2hvdWxkU2hvd0J5U3RhdGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY2FzZSBGSUxURVJfQllfVEVYVDpcbiAgICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICAgICAgICAgICAgZXZlbnRzOiBzdGF0ZS5ldmVudHMubWFwKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgZXZlbnQsIHtcbiAgICAgICAgICAgICAgICAgIHNob3VsZFNob3dCeVRleHQ6ICEhZXZlbnQudGl0bGUubWF0Y2gobmV3IFJlZ0V4cCgnJyArIGFjdGlvbi5wYXlsb2FkLnZhbHVlLCAnaScpKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIGV2ZW50cyk7XG4gICAgfVxuICB9O1xufSk7XG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTBhXCIsIFtcImQ5XCIsIFwiMTBiXCIsIFwiMTBjXCIsIFwiZDVcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyICQgPSAkX19yZXF1aXJlKCdkOScpLFxuICAgICAgdG9PYmplY3QgPSAkX19yZXF1aXJlKCcxMGInKSxcbiAgICAgIElPYmplY3QgPSAkX19yZXF1aXJlKCcxMGMnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCdkNScpKGZ1bmN0aW9uKCkge1xuICAgIHZhciBhID0gT2JqZWN0LmFzc2lnbixcbiAgICAgICAgQSA9IHt9LFxuICAgICAgICBCID0ge30sXG4gICAgICAgIFMgPSBTeW1ib2woKSxcbiAgICAgICAgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG4gICAgQVtTXSA9IDc7XG4gICAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbihrKSB7XG4gICAgICBCW2tdID0gaztcbiAgICB9KTtcbiAgICByZXR1cm4gYSh7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cyhhKHt9LCBCKSkuam9pbignJykgIT0gSztcbiAgfSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpIHtcbiAgICB2YXIgVCA9IHRvT2JqZWN0KHRhcmdldCksXG4gICAgICAgICQkID0gYXJndW1lbnRzLFxuICAgICAgICAkJGxlbiA9ICQkLmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSAxLFxuICAgICAgICBnZXRLZXlzID0gJC5nZXRLZXlzLFxuICAgICAgICBnZXRTeW1ib2xzID0gJC5nZXRTeW1ib2xzLFxuICAgICAgICBpc0VudW0gPSAkLmlzRW51bTtcbiAgICB3aGlsZSAoJCRsZW4gPiBpbmRleCkge1xuICAgICAgdmFyIFMgPSBJT2JqZWN0KCQkW2luZGV4KytdKSxcbiAgICAgICAgICBrZXlzID0gZ2V0U3ltYm9scyA/IGdldEtleXMoUykuY29uY2F0KGdldFN5bWJvbHMoUykpIDogZ2V0S2V5cyhTKSxcbiAgICAgICAgICBsZW5ndGggPSBrZXlzLmxlbmd0aCxcbiAgICAgICAgICBqID0gMCxcbiAgICAgICAgICBrZXk7XG4gICAgICB3aGlsZSAobGVuZ3RoID4gailcbiAgICAgICAgaWYgKGlzRW51bS5jYWxsKFMsIGtleSA9IGtleXNbaisrXSkpXG4gICAgICAgICAgVFtrZXldID0gU1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gVDtcbiAgfSA6IE9iamVjdC5hc3NpZ247XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTBkXCIsIFtcImQzXCIsIFwiMTBhXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciAkZXhwb3J0ID0gJF9fcmVxdWlyZSgnZDMnKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYsICdPYmplY3QnLCB7YXNzaWduOiAkX19yZXF1aXJlKCcxMGEnKX0pO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEwZVwiLCBbXCIxMGRcIiwgXCJkNFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAkX19yZXF1aXJlKCcxMGQnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCdkNCcpLk9iamVjdC5hc3NpZ247XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTBmXCIsIFtcIjEwZVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBcImRlZmF1bHRcIjogJF9fcmVxdWlyZSgnMTBlJyksXG4gICAgX19lc01vZHVsZTogdHJ1ZVxuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImE0XCIsIFtcIjEwZlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIF9PYmplY3QkYXNzaWduID0gJF9fcmVxdWlyZSgnMTBmJylbXCJkZWZhdWx0XCJdO1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9PYmplY3QkYXNzaWduIHx8IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMTBcIiwgW1wiZDlcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyICQgPSAkX19yZXF1aXJlKCdkOScpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpIHtcbiAgICByZXR1cm4gJC5zZXREZXNjKGl0LCBrZXksIGRlc2MpO1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImUxXCIsIFtcIjExMFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBcImRlZmF1bHRcIjogJF9fcmVxdWlyZSgnMTEwJyksXG4gICAgX19lc01vZHVsZTogdHJ1ZVxuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjExMVwiLCBbXCJlMVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIF9PYmplY3QkZGVmaW5lUHJvcGVydHkgPSAkX19yZXF1aXJlKCdlMScpW1wiZGVmYXVsdFwiXTtcbiAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbihvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgX09iamVjdCRkZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEwYlwiLCBbXCIxMTJcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGRlZmluZWQgPSAkX19yZXF1aXJlKCcxMTInKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCkge1xuICAgIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjExM1wiLCBbXCIxMTRcIiwgXCJkM1wiLCBcIjEwYlwiLCBcIjExNVwiLCBcIjExNlwiLCBcIjExN1wiLCBcIjExOFwiLCBcIjExOVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGN0eCA9ICRfX3JlcXVpcmUoJzExNCcpLFxuICAgICAgJGV4cG9ydCA9ICRfX3JlcXVpcmUoJ2QzJyksXG4gICAgICB0b09iamVjdCA9ICRfX3JlcXVpcmUoJzEwYicpLFxuICAgICAgY2FsbCA9ICRfX3JlcXVpcmUoJzExNScpLFxuICAgICAgaXNBcnJheUl0ZXIgPSAkX19yZXF1aXJlKCcxMTYnKSxcbiAgICAgIHRvTGVuZ3RoID0gJF9fcmVxdWlyZSgnMTE3JyksXG4gICAgICBnZXRJdGVyRm4gPSAkX19yZXF1aXJlKCcxMTgnKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhJF9fcmVxdWlyZSgnMTE5JykoZnVuY3Rpb24oaXRlcikge1xuICAgIEFycmF5LmZyb20oaXRlcik7XG4gIH0pLCAnQXJyYXknLCB7ZnJvbTogZnVuY3Rpb24gZnJvbShhcnJheUxpa2UpIHtcbiAgICAgIHZhciBPID0gdG9PYmplY3QoYXJyYXlMaWtlKSxcbiAgICAgICAgICBDID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheSxcbiAgICAgICAgICAkJCA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAkJGxlbiA9ICQkLmxlbmd0aCxcbiAgICAgICAgICBtYXBmbiA9ICQkbGVuID4gMSA/ICQkWzFdIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICBpdGVyRm4gPSBnZXRJdGVyRm4oTyksXG4gICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICBzdGVwLFxuICAgICAgICAgIGl0ZXJhdG9yO1xuICAgICAgaWYgKG1hcHBpbmcpXG4gICAgICAgIG1hcGZuID0gY3R4KG1hcGZuLCAkJGxlbiA+IDIgPyAkJFsyXSA6IHVuZGVmaW5lZCwgMik7XG4gICAgICBpZiAoaXRlckZuICE9IHVuZGVmaW5lZCAmJiAhKEMgPT0gQXJyYXkgJiYgaXNBcnJheUl0ZXIoaXRlckZuKSkpIHtcbiAgICAgICAgZm9yIChpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKE8pLCByZXN1bHQgPSBuZXcgQzsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOyBpbmRleCsrKSB7XG4gICAgICAgICAgcmVzdWx0W2luZGV4XSA9IG1hcHBpbmcgPyBjYWxsKGl0ZXJhdG9yLCBtYXBmbiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgICAgIGZvciAocmVzdWx0ID0gbmV3IEMobGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgICByZXN1bHRbaW5kZXhdID0gbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzdWx0Lmxlbmd0aCA9IGluZGV4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9fSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTFhXCIsIFtcIjExYlwiLCBcIjExM1wiLCBcImQ0XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gICRfX3JlcXVpcmUoJzExYicpO1xuICAkX19yZXF1aXJlKCcxMTMnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCdkNCcpLkFycmF5LmZyb207XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTFjXCIsIFtcIjExYVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBcImRlZmF1bHRcIjogJF9fcmVxdWlyZSgnMTFhJyksXG4gICAgX19lc01vZHVsZTogdHJ1ZVxuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEwOFwiLCBbXCIxMWNcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBfQXJyYXkkZnJvbSA9ICRfX3JlcXVpcmUoJzExYycpW1wiZGVmYXVsdFwiXTtcbiAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbihhcnIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCxcbiAgICAgICAgICBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspXG4gICAgICAgIGFycjJbaV0gPSBhcnJbaV07XG4gICAgICByZXR1cm4gYXJyMjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIF9BcnJheSRmcm9tKGFycik7XG4gICAgfVxuICB9O1xuICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjExZFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBcImZvcm1hdCBjanNcIjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMWVcIiwgW1wiMTFmXCIsIFwiMTEyXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciB0b0ludGVnZXIgPSAkX19yZXF1aXJlKCcxMWYnKSxcbiAgICAgIGRlZmluZWQgPSAkX19yZXF1aXJlKCcxMTInKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihUT19TVFJJTkcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odGhhdCwgcG9zKSB7XG4gICAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKSxcbiAgICAgICAgICBpID0gdG9JbnRlZ2VyKHBvcyksXG4gICAgICAgICAgbCA9IHMubGVuZ3RoLFxuICAgICAgICAgIGEsXG4gICAgICAgICAgYjtcbiAgICAgIGlmIChpIDwgMCB8fCBpID49IGwpXG4gICAgICAgIHJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZiA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYSA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgICB9O1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjExYlwiLCBbXCIxMWVcIiwgXCIxMjBcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciAkYXQgPSAkX19yZXF1aXJlKCcxMWUnKSh0cnVlKTtcbiAgJF9fcmVxdWlyZSgnMTIwJykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpIHtcbiAgICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTtcbiAgICB0aGlzLl9pID0gMDtcbiAgfSwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIE8gPSB0aGlzLl90LFxuICAgICAgICBpbmRleCA9IHRoaXMuX2ksXG4gICAgICAgIHBvaW50O1xuICAgIGlmIChpbmRleCA+PSBPLmxlbmd0aClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgIGRvbmU6IHRydWVcbiAgICAgIH07XG4gICAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuICAgIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogcG9pbnQsXG4gICAgICBkb25lOiBmYWxzZVxuICAgIH07XG4gIH0pO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEyMVwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge307XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTIyXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZG9uZSwgdmFsdWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZG9uZTogISFkb25lXG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMGNcIiwgW1wiMTIzXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBjb2YgPSAkX19yZXF1aXJlKCcxMjMnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KSB7XG4gICAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjExMlwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gICAgaWYgKGl0ID09IHVuZGVmaW5lZClcbiAgICAgIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgICByZXR1cm4gaXQ7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZDdcIiwgW1wiMTBjXCIsIFwiMTEyXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBJT2JqZWN0ID0gJF9fcmVxdWlyZSgnMTBjJyksXG4gICAgICBkZWZpbmVkID0gJF9fcmVxdWlyZSgnMTEyJyk7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpIHtcbiAgICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTI0XCIsIFtcImQ5XCIsIFwiMTI1XCIsIFwiMTI2XCIsIFwiMTI3XCIsIFwiMTI4XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgJCA9ICRfX3JlcXVpcmUoJ2Q5JyksXG4gICAgICBkZXNjcmlwdG9yID0gJF9fcmVxdWlyZSgnMTI1JyksXG4gICAgICBzZXRUb1N0cmluZ1RhZyA9ICRfX3JlcXVpcmUoJzEyNicpLFxuICAgICAgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgJF9fcmVxdWlyZSgnMTI3JykoSXRlcmF0b3JQcm90b3R5cGUsICRfX3JlcXVpcmUoJzEyOCcpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpIHtcbiAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSAkLmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwge25leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCl9KTtcbiAgICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMjBcIiwgW1wiMTI5XCIsIFwiZDNcIiwgXCIxMmFcIiwgXCIxMjdcIiwgXCIxMmJcIiwgXCIxMmNcIiwgXCIxMjRcIiwgXCIxMjZcIiwgXCJkOVwiLCBcIjEyOFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIExJQlJBUlkgPSAkX19yZXF1aXJlKCcxMjknKSxcbiAgICAgICRleHBvcnQgPSAkX19yZXF1aXJlKCdkMycpLFxuICAgICAgcmVkZWZpbmUgPSAkX19yZXF1aXJlKCcxMmEnKSxcbiAgICAgIGhpZGUgPSAkX19yZXF1aXJlKCcxMjcnKSxcbiAgICAgIGhhcyA9ICRfX3JlcXVpcmUoJzEyYicpLFxuICAgICAgSXRlcmF0b3JzID0gJF9fcmVxdWlyZSgnMTJjJyksXG4gICAgICAkaXRlckNyZWF0ZSA9ICRfX3JlcXVpcmUoJzEyNCcpLFxuICAgICAgc2V0VG9TdHJpbmdUYWcgPSAkX19yZXF1aXJlKCcxMjYnKSxcbiAgICAgIGdldFByb3RvID0gJF9fcmVxdWlyZSgnZDknKS5nZXRQcm90byxcbiAgICAgIElURVJBVE9SID0gJF9fcmVxdWlyZSgnMTI4JykoJ2l0ZXJhdG9yJyksXG4gICAgICBCVUdHWSA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKSxcbiAgICAgIEZGX0lURVJBVE9SID0gJ0BAaXRlcmF0b3InLFxuICAgICAgS0VZUyA9ICdrZXlzJyxcbiAgICAgIFZBTFVFUyA9ICd2YWx1ZXMnO1xuICB2YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCkge1xuICAgICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcbiAgICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24oa2luZCkge1xuICAgICAgaWYgKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKVxuICAgICAgICByZXR1cm4gcHJvdG9ba2luZF07XG4gICAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgICAgY2FzZSBLRVlTOlxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBrZXlzKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTtcbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlIFZBTFVFUzpcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTtcbiAgICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7XG4gICAgICB9O1xuICAgIH07XG4gICAgdmFyIFRBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJyxcbiAgICAgICAgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTLFxuICAgICAgICBWQUxVRVNfQlVHID0gZmFsc2UsXG4gICAgICAgIHByb3RvID0gQmFzZS5wcm90b3R5cGUsXG4gICAgICAgICRuYXRpdmUgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF0sXG4gICAgICAgICRkZWZhdWx0ID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVCksXG4gICAgICAgIG1ldGhvZHMsXG4gICAgICAgIGtleTtcbiAgICBpZiAoJG5hdGl2ZSkge1xuICAgICAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8oJGRlZmF1bHQuY2FsbChuZXcgQmFzZSkpO1xuICAgICAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG4gICAgICBpZiAoIUxJQlJBUlkgJiYgaGFzKHByb3RvLCBGRl9JVEVSQVRPUikpXG4gICAgICAgIGhpZGUoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgICAgIGlmIChERUZfVkFMVUVTICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKSB7XG4gICAgICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpIHtcbiAgICAgICAgICByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpIHtcbiAgICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gICAgfVxuICAgIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICAgIEl0ZXJhdG9yc1tUQUddID0gcmV0dXJuVGhpcztcbiAgICBpZiAoREVGQVVMVCkge1xuICAgICAgbWV0aG9kcyA9IHtcbiAgICAgICAgdmFsdWVzOiBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSxcbiAgICAgICAga2V5czogSVNfU0VUID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksXG4gICAgICAgIGVudHJpZXM6ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKVxuICAgICAgfTtcbiAgICAgIGlmIChGT1JDRUQpXG4gICAgICAgIGZvciAoa2V5IGluIG1ldGhvZHMpIHtcbiAgICAgICAgICBpZiAoIShrZXkgaW4gcHJvdG8pKVxuICAgICAgICAgICAgcmVkZWZpbmUocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgZWxzZVxuICAgICAgICAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gICAgfVxuICAgIHJldHVybiBtZXRob2RzO1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEyZFwiLCBbXCIxMjFcIiwgXCIxMjJcIiwgXCIxMmNcIiwgXCJkN1wiLCBcIjEyMFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGFkZFRvVW5zY29wYWJsZXMgPSAkX19yZXF1aXJlKCcxMjEnKSxcbiAgICAgIHN0ZXAgPSAkX19yZXF1aXJlKCcxMjInKSxcbiAgICAgIEl0ZXJhdG9ycyA9ICRfX3JlcXVpcmUoJzEyYycpLFxuICAgICAgdG9JT2JqZWN0ID0gJF9fcmVxdWlyZSgnZDcnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCcxMjAnKShBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24oaXRlcmF0ZWQsIGtpbmQpIHtcbiAgICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTtcbiAgICB0aGlzLl9pID0gMDtcbiAgICB0aGlzLl9rID0ga2luZDtcbiAgfSwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIE8gPSB0aGlzLl90LFxuICAgICAgICBraW5kID0gdGhpcy5fayxcbiAgICAgICAgaW5kZXggPSB0aGlzLl9pKys7XG4gICAgaWYgKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKSB7XG4gICAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHN0ZXAoMSk7XG4gICAgfVxuICAgIGlmIChraW5kID09ICdrZXlzJylcbiAgICAgIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgICBpZiAoa2luZCA9PSAndmFsdWVzJylcbiAgICAgIHJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG4gIH0sICd2YWx1ZXMnKTtcbiAgSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcbiAgYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuICBhZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbiAgYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEyZVwiLCBbXCIxMmRcIiwgXCIxMmNcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgJF9fcmVxdWlyZSgnMTJkJyk7XG4gIHZhciBJdGVyYXRvcnMgPSAkX19yZXF1aXJlKCcxMmMnKTtcbiAgSXRlcmF0b3JzLk5vZGVMaXN0ID0gSXRlcmF0b3JzLkhUTUxDb2xsZWN0aW9uID0gSXRlcmF0b3JzLkFycmF5O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEyOVwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IHRydWU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZDNcIiwgW1wiMTJmXCIsIFwiZDRcIiwgXCIxMTRcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGdsb2JhbCA9ICRfX3JlcXVpcmUoJzEyZicpLFxuICAgICAgY29yZSA9ICRfX3JlcXVpcmUoJ2Q0JyksXG4gICAgICBjdHggPSAkX19yZXF1aXJlKCcxMTQnKSxcbiAgICAgIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuICB2YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSkge1xuICAgIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GLFxuICAgICAgICBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HLFxuICAgICAgICBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TLFxuICAgICAgICBJU19QUk9UTyA9IHR5cGUgJiAkZXhwb3J0LlAsXG4gICAgICAgIElTX0JJTkQgPSB0eXBlICYgJGV4cG9ydC5CLFxuICAgICAgICBJU19XUkFQID0gdHlwZSAmICRleHBvcnQuVyxcbiAgICAgICAgZXhwb3J0cyA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pLFxuICAgICAgICB0YXJnZXQgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdLFxuICAgICAgICBrZXksXG4gICAgICAgIG93bixcbiAgICAgICAgb3V0O1xuICAgIGlmIChJU19HTE9CQUwpXG4gICAgICBzb3VyY2UgPSBuYW1lO1xuICAgIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYga2V5IGluIHRhcmdldDtcbiAgICAgIGlmIChvd24gJiYga2V5IGluIGV4cG9ydHMpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQykge1xuICAgICAgICB2YXIgRiA9IGZ1bmN0aW9uKHBhcmFtKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBDID8gbmV3IEMocGFyYW0pIDogQyhwYXJhbSk7XG4gICAgICAgIH07XG4gICAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgICAgcmV0dXJuIEY7XG4gICAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgICBpZiAoSVNfUFJPVE8pXG4gICAgICAgIChleHBvcnRzW1BST1RPVFlQRV0gfHwgKGV4cG9ydHNbUFJPVE9UWVBFXSA9IHt9KSlba2V5XSA9IG91dDtcbiAgICB9XG4gIH07XG4gICRleHBvcnQuRiA9IDE7XG4gICRleHBvcnQuRyA9IDI7XG4gICRleHBvcnQuUyA9IDQ7XG4gICRleHBvcnQuUCA9IDg7XG4gICRleHBvcnQuQiA9IDE2O1xuICAkZXhwb3J0LlcgPSAzMjtcbiAgbW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEzMFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBDb25zdHJ1Y3RvciwgbmFtZSkge1xuICAgIGlmICghKGl0IGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKVxuICAgICAgdGhyb3cgVHlwZUVycm9yKG5hbWUgKyBcIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciFcIik7XG4gICAgcmV0dXJuIGl0O1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjExNVwiLCBbXCIxMzFcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGFuT2JqZWN0ID0gJF9fcmVxdWlyZSgnMTMxJyk7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZW50cmllcyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgICBpZiAocmV0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgIGFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMTZcIiwgW1wiMTJjXCIsIFwiMTI4XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBJdGVyYXRvcnMgPSAkX19yZXF1aXJlKCcxMmMnKSxcbiAgICAgIElURVJBVE9SID0gJF9fcmVxdWlyZSgnMTI4JykoJ2l0ZXJhdG9yJyksXG4gICAgICBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gICAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMWZcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGNlaWwgPSBNYXRoLmNlaWwsXG4gICAgICBmbG9vciA9IE1hdGguZmxvb3I7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpIHtcbiAgICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMTdcIiwgW1wiMTFmXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciB0b0ludGVnZXIgPSAkX19yZXF1aXJlKCcxMWYnKSxcbiAgICAgIG1pbiA9IE1hdGgubWluO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gICAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTMyXCIsIFtcIjEyM1wiLCBcIjEyOFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgY29mID0gJF9fcmVxdWlyZSgnMTIzJyksXG4gICAgICBUQUcgPSAkX19yZXF1aXJlKCcxMjgnKSgndG9TdHJpbmdUYWcnKSxcbiAgICAgIEFSRyA9IGNvZihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cztcbiAgICAgIH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpIHtcbiAgICB2YXIgTyxcbiAgICAgICAgVCxcbiAgICAgICAgQjtcbiAgICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCcgOiB0eXBlb2YoVCA9IChPID0gT2JqZWN0KGl0KSlbVEFHXSkgPT0gJ3N0cmluZycgPyBUIDogQVJHID8gY29mKE8pIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCO1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEyY1wiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjExOFwiLCBbXCIxMzJcIiwgXCIxMjhcIiwgXCIxMmNcIiwgXCJkNFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgY2xhc3NvZiA9ICRfX3JlcXVpcmUoJzEzMicpLFxuICAgICAgSVRFUkFUT1IgPSAkX19yZXF1aXJlKCcxMjgnKSgnaXRlcmF0b3InKSxcbiAgICAgIEl0ZXJhdG9ycyA9ICRfX3JlcXVpcmUoJzEyYycpO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJ2Q0JykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbihpdCkge1xuICAgIGlmIChpdCAhPSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gaXRbSVRFUkFUT1JdIHx8IGl0WydAQGl0ZXJhdG9yJ10gfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMzNcIiwgW1wiMTE0XCIsIFwiMTE1XCIsIFwiMTE2XCIsIFwiMTMxXCIsIFwiMTE3XCIsIFwiMTE4XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBjdHggPSAkX19yZXF1aXJlKCcxMTQnKSxcbiAgICAgIGNhbGwgPSAkX19yZXF1aXJlKCcxMTUnKSxcbiAgICAgIGlzQXJyYXlJdGVyID0gJF9fcmVxdWlyZSgnMTE2JyksXG4gICAgICBhbk9iamVjdCA9ICRfX3JlcXVpcmUoJzEzMScpLFxuICAgICAgdG9MZW5ndGggPSAkX19yZXF1aXJlKCcxMTcnKSxcbiAgICAgIGdldEl0ZXJGbiA9ICRfX3JlcXVpcmUoJzExOCcpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBlbnRyaWVzLCBmbiwgdGhhdCkge1xuICAgIHZhciBpdGVyRm4gPSBnZXRJdGVyRm4oaXRlcmFibGUpLFxuICAgICAgICBmID0gY3R4KGZuLCB0aGF0LCBlbnRyaWVzID8gMiA6IDEpLFxuICAgICAgICBpbmRleCA9IDAsXG4gICAgICAgIGxlbmd0aCxcbiAgICAgICAgc3RlcCxcbiAgICAgICAgaXRlcmF0b3I7XG4gICAgaWYgKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJylcbiAgICAgIHRocm93IFR5cGVFcnJvcihpdGVyYWJsZSArICcgaXMgbm90IGl0ZXJhYmxlIScpO1xuICAgIGlmIChpc0FycmF5SXRlcihpdGVyRm4pKVxuICAgICAgZm9yIChsZW5ndGggPSB0b0xlbmd0aChpdGVyYWJsZS5sZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgICAgICBlbnRyaWVzID8gZihhbk9iamVjdChzdGVwID0gaXRlcmFibGVbaW5kZXhdKVswXSwgc3RlcFsxXSkgOiBmKGl0ZXJhYmxlW2luZGV4XSk7XG4gICAgICB9XG4gICAgZWxzZVxuICAgICAgZm9yIChpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKGl0ZXJhYmxlKTsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOyApIHtcbiAgICAgICAgY2FsbChpdGVyYXRvciwgZiwgc3RlcC52YWx1ZSwgZW50cmllcyk7XG4gICAgICB9XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZGVcIiwgW1wiZDlcIiwgXCIxMzRcIiwgXCIxMzFcIiwgXCIxMTRcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGdldERlc2MgPSAkX19yZXF1aXJlKCdkOScpLmdldERlc2MsXG4gICAgICBpc09iamVjdCA9ICRfX3JlcXVpcmUoJzEzNCcpLFxuICAgICAgYW5PYmplY3QgPSAkX19yZXF1aXJlKCcxMzEnKTtcbiAgdmFyIGNoZWNrID0gZnVuY3Rpb24oTywgcHJvdG8pIHtcbiAgICBhbk9iamVjdChPKTtcbiAgICBpZiAoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbClcbiAgICAgIHRocm93IFR5cGVFcnJvcihwcm90byArIFwiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlIVwiKTtcbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgc2V0OiBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgKCdfX3Byb3RvX18nIGluIHt9ID8gZnVuY3Rpb24odGVzdCwgYnVnZ3ksIHNldCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0ID0gJF9fcmVxdWlyZSgnMTE0JykoRnVuY3Rpb24uY2FsbCwgZ2V0RGVzYyhPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcbiAgICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGJ1Z2d5ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90bykge1xuICAgICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICAgIGlmIChidWdneSlcbiAgICAgICAgICBPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gICAgY2hlY2s6IGNoZWNrXG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTM1XCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmlzIHx8IGZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgICByZXR1cm4geCA9PT0geSA/IHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5IDogeCAhPSB4ICYmIHkgIT0geTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMzFcIiwgW1wiMTM0XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBpc09iamVjdCA9ICRfX3JlcXVpcmUoJzEzNCcpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gICAgaWYgKCFpc09iamVjdChpdCkpXG4gICAgICB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gICAgcmV0dXJuIGl0O1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEzNlwiLCBbXCIxMzFcIiwgXCIxMzdcIiwgXCIxMjhcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGFuT2JqZWN0ID0gJF9fcmVxdWlyZSgnMTMxJyksXG4gICAgICBhRnVuY3Rpb24gPSAkX19yZXF1aXJlKCcxMzcnKSxcbiAgICAgIFNQRUNJRVMgPSAkX19yZXF1aXJlKCcxMjgnKSgnc3BlY2llcycpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKE8sIEQpIHtcbiAgICB2YXIgQyA9IGFuT2JqZWN0KE8pLmNvbnN0cnVjdG9yLFxuICAgICAgICBTO1xuICAgIHJldHVybiBDID09PSB1bmRlZmluZWQgfHwgKFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXSkgPT0gdW5kZWZpbmVkID8gRCA6IGFGdW5jdGlvbihTKTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMzdcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCkge1xuICAgIGlmICh0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJylcbiAgICAgIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gICAgcmV0dXJuIGl0O1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjExNFwiLCBbXCIxMzdcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGFGdW5jdGlvbiA9ICRfX3JlcXVpcmUoJzEzNycpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpIHtcbiAgICBhRnVuY3Rpb24oZm4pO1xuICAgIGlmICh0aGF0ID09PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gZm47XG4gICAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICAgICAgfTtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICAgICAgfTtcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMzhcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgYXJncywgdGhhdCkge1xuICAgIHZhciB1biA9IHRoYXQgPT09IHVuZGVmaW5lZDtcbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiB1biA/IGZuKCkgOiBmbi5jYWxsKHRoYXQpO1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gdW4gPyBmbihhcmdzWzBdKSA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSk7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0pIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSkgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgY2FzZSA0OlxuICAgICAgICByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKSA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMzlcIiwgW1wiMTJmXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnMTJmJykuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEzNFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxM2FcIiwgW1wiMTM0XCIsIFwiMTJmXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBpc09iamVjdCA9ICRfX3JlcXVpcmUoJzEzNCcpLFxuICAgICAgZG9jdW1lbnQgPSAkX19yZXF1aXJlKCcxMmYnKS5kb2N1bWVudCxcbiAgICAgIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gICAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxM2JcIiwgW1wiMTE0XCIsIFwiMTM4XCIsIFwiMTM5XCIsIFwiMTNhXCIsIFwiMTJmXCIsIFwiMTIzXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICB2YXIgY3R4ID0gJF9fcmVxdWlyZSgnMTE0JyksXG4gICAgICAgIGludm9rZSA9ICRfX3JlcXVpcmUoJzEzOCcpLFxuICAgICAgICBodG1sID0gJF9fcmVxdWlyZSgnMTM5JyksXG4gICAgICAgIGNlbCA9ICRfX3JlcXVpcmUoJzEzYScpLFxuICAgICAgICBnbG9iYWwgPSAkX19yZXF1aXJlKCcxMmYnKSxcbiAgICAgICAgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzLFxuICAgICAgICBzZXRUYXNrID0gZ2xvYmFsLnNldEltbWVkaWF0ZSxcbiAgICAgICAgY2xlYXJUYXNrID0gZ2xvYmFsLmNsZWFySW1tZWRpYXRlLFxuICAgICAgICBNZXNzYWdlQ2hhbm5lbCA9IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCxcbiAgICAgICAgY291bnRlciA9IDAsXG4gICAgICAgIHF1ZXVlID0ge30sXG4gICAgICAgIE9OUkVBRFlTVEFURUNIQU5HRSA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnLFxuICAgICAgICBkZWZlcixcbiAgICAgICAgY2hhbm5lbCxcbiAgICAgICAgcG9ydDtcbiAgICB2YXIgcnVuID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaWQgPSArdGhpcztcbiAgICAgIGlmIChxdWV1ZS5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICAgICAgdmFyIGZuID0gcXVldWVbaWRdO1xuICAgICAgICBkZWxldGUgcXVldWVbaWRdO1xuICAgICAgICBmbigpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGxpc3RuZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgcnVuLmNhbGwoZXZlbnQuZGF0YSk7XG4gICAgfTtcbiAgICBpZiAoIXNldFRhc2sgfHwgIWNsZWFyVGFzaykge1xuICAgICAgc2V0VGFzayA9IGZ1bmN0aW9uIHNldEltbWVkaWF0ZShmbikge1xuICAgICAgICB2YXIgYXJncyA9IFtdLFxuICAgICAgICAgICAgaSA9IDE7XG4gICAgICAgIHdoaWxlIChhcmd1bWVudHMubGVuZ3RoID4gaSlcbiAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgICAgICBxdWV1ZVsrK2NvdW50ZXJdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaW52b2tlKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbiksIGFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgICBkZWZlcihjb3VudGVyKTtcbiAgICAgICAgcmV0dXJuIGNvdW50ZXI7XG4gICAgICB9O1xuICAgICAgY2xlYXJUYXNrID0gZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaWQpIHtcbiAgICAgICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgICAgIH07XG4gICAgICBpZiAoJF9fcmVxdWlyZSgnMTIzJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKSB7XG4gICAgICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGN0eChydW4sIGlkLCAxKSk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKE1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICAgIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWw7XG4gICAgICAgIHBvcnQgPSBjaGFubmVsLnBvcnQyO1xuICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpc3RuZXI7XG4gICAgICAgIGRlZmVyID0gY3R4KHBvcnQucG9zdE1lc3NhZ2UsIHBvcnQsIDEpO1xuICAgICAgfSBlbHNlIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lciAmJiB0eXBlb2YgcG9zdE1lc3NhZ2UgPT0gJ2Z1bmN0aW9uJyAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICAgICAgZGVmZXIgPSBmdW5jdGlvbihpZCkge1xuICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShpZCArICcnLCAnKicpO1xuICAgICAgICB9O1xuICAgICAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RuZXIsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAoT05SRUFEWVNUQVRFQ0hBTkdFIGluIGNlbCgnc2NyaXB0JykpIHtcbiAgICAgICAgZGVmZXIgPSBmdW5jdGlvbihpZCkge1xuICAgICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoY2VsKCdzY3JpcHQnKSlbT05SRUFEWVNUQVRFQ0hBTkdFXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgICAgIHJ1bi5jYWxsKGlkKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmZXIgPSBmdW5jdGlvbihpZCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoY3R4KHJ1biwgaWQsIDEpLCAwKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBzZXQ6IHNldFRhc2ssXG4gICAgICBjbGVhcjogY2xlYXJUYXNrXG4gICAgfTtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTIzXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxM2NcIiwgW1wiMTJmXCIsIFwiMTNiXCIsIFwiMTIzXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICB2YXIgZ2xvYmFsID0gJF9fcmVxdWlyZSgnMTJmJyksXG4gICAgICAgIG1hY3JvdGFzayA9ICRfX3JlcXVpcmUoJzEzYicpLnNldCxcbiAgICAgICAgT2JzZXJ2ZXIgPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixcbiAgICAgICAgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzLFxuICAgICAgICBQcm9taXNlID0gZ2xvYmFsLlByb21pc2UsXG4gICAgICAgIGlzTm9kZSA9ICRfX3JlcXVpcmUoJzEyMycpKHByb2Nlc3MpID09ICdwcm9jZXNzJyxcbiAgICAgICAgaGVhZCxcbiAgICAgICAgbGFzdCxcbiAgICAgICAgbm90aWZ5O1xuICAgIHZhciBmbHVzaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhcmVudCxcbiAgICAgICAgICBkb21haW4sXG4gICAgICAgICAgZm47XG4gICAgICBpZiAoaXNOb2RlICYmIChwYXJlbnQgPSBwcm9jZXNzLmRvbWFpbikpIHtcbiAgICAgICAgcHJvY2Vzcy5kb21haW4gPSBudWxsO1xuICAgICAgICBwYXJlbnQuZXhpdCgpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKGhlYWQpIHtcbiAgICAgICAgZG9tYWluID0gaGVhZC5kb21haW47XG4gICAgICAgIGZuID0gaGVhZC5mbjtcbiAgICAgICAgaWYgKGRvbWFpbilcbiAgICAgICAgICBkb21haW4uZW50ZXIoKTtcbiAgICAgICAgZm4oKTtcbiAgICAgICAgaWYgKGRvbWFpbilcbiAgICAgICAgICBkb21haW4uZXhpdCgpO1xuICAgICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgfVxuICAgICAgbGFzdCA9IHVuZGVmaW5lZDtcbiAgICAgIGlmIChwYXJlbnQpXG4gICAgICAgIHBhcmVudC5lbnRlcigpO1xuICAgIH07XG4gICAgaWYgKGlzTm9kZSkge1xuICAgICAgbm90aWZ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKE9ic2VydmVyKSB7XG4gICAgICB2YXIgdG9nZ2xlID0gMSxcbiAgICAgICAgICBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgbmV3IE9ic2VydmVyKGZsdXNoKS5vYnNlcnZlKG5vZGUsIHtjaGFyYWN0ZXJEYXRhOiB0cnVlfSk7XG4gICAgICBub3RpZnkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbm9kZS5kYXRhID0gdG9nZ2xlID0gLXRvZ2dsZTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSkge1xuICAgICAgbm90aWZ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZmx1c2gpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm90aWZ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG1hY3JvdGFzay5jYWxsKGdsb2JhbCwgZmx1c2gpO1xuICAgICAgfTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBhc2FwKGZuKSB7XG4gICAgICB2YXIgdGFzayA9IHtcbiAgICAgICAgZm46IGZuLFxuICAgICAgICBuZXh0OiB1bmRlZmluZWQsXG4gICAgICAgIGRvbWFpbjogaXNOb2RlICYmIHByb2Nlc3MuZG9tYWluXG4gICAgICB9O1xuICAgICAgaWYgKGxhc3QpXG4gICAgICAgIGxhc3QubmV4dCA9IHRhc2s7XG4gICAgICBpZiAoIWhlYWQpIHtcbiAgICAgICAgaGVhZCA9IHRhc2s7XG4gICAgICAgIG5vdGlmeSgpO1xuICAgICAgfVxuICAgICAgbGFzdCA9IHRhc2s7XG4gICAgfTtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTI1XCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSkge1xuICAgIHJldHVybiB7XG4gICAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuICAgICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgICAgd3JpdGFibGU6ICEoYml0bWFwICYgNCksXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9O1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEyN1wiLCBbXCJkOVwiLCBcIjEyNVwiLCBcIjEzZFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgJCA9ICRfX3JlcXVpcmUoJ2Q5JyksXG4gICAgICBjcmVhdGVEZXNjID0gJF9fcmVxdWlyZSgnMTI1Jyk7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnMTNkJykgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gJC5zZXREZXNjKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG4gIH0gOiBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTJhXCIsIFtcIjEyN1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJzEyNycpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEzZVwiLCBbXCIxMmFcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIHJlZGVmaW5lID0gJF9fcmVxdWlyZSgnMTJhJyk7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGFyZ2V0LCBzcmMpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gc3JjKVxuICAgICAgcmVkZWZpbmUodGFyZ2V0LCBrZXksIHNyY1trZXldKTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEyYlwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KSB7XG4gICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTI2XCIsIFtcImQ5XCIsIFwiMTJiXCIsIFwiMTI4XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBkZWYgPSAkX19yZXF1aXJlKCdkOScpLnNldERlc2MsXG4gICAgICBoYXMgPSAkX19yZXF1aXJlKCcxMmInKSxcbiAgICAgIFRBRyA9ICRfX3JlcXVpcmUoJzEyOCcpKCd0b1N0cmluZ1RhZycpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpIHtcbiAgICBpZiAoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSlcbiAgICAgIGRlZihpdCwgVEFHLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHRhZ1xuICAgICAgfSk7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZDlcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyICRPYmplY3QgPSBPYmplY3Q7XG4gIG1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNyZWF0ZTogJE9iamVjdC5jcmVhdGUsXG4gICAgZ2V0UHJvdG86ICRPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gICAgaXNFbnVtOiB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBnZXREZXNjOiAkT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgICBzZXREZXNjOiAkT2JqZWN0LmRlZmluZVByb3BlcnR5LFxuICAgIHNldERlc2NzOiAkT2JqZWN0LmRlZmluZVByb3BlcnRpZXMsXG4gICAgZ2V0S2V5czogJE9iamVjdC5rZXlzLFxuICAgIGdldE5hbWVzOiAkT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsXG4gICAgZ2V0U3ltYm9sczogJE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgZWFjaDogW10uZm9yRWFjaFxuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImQ1XCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gISFleGVjKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEzZFwiLCBbXCJkNVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICEkX19yZXF1aXJlKCdkNScpKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiA3O1xuICAgICAgfX0pLmEgIT0gNztcbiAgfSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTNmXCIsIFtcImQ0XCIsIFwiZDlcIiwgXCIxM2RcIiwgXCIxMjhcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBjb3JlID0gJF9fcmVxdWlyZSgnZDQnKSxcbiAgICAgICQgPSAkX19yZXF1aXJlKCdkOScpLFxuICAgICAgREVTQ1JJUFRPUlMgPSAkX19yZXF1aXJlKCcxM2QnKSxcbiAgICAgIFNQRUNJRVMgPSAkX19yZXF1aXJlKCcxMjgnKSgnc3BlY2llcycpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSkge1xuICAgIHZhciBDID0gY29yZVtLRVldO1xuICAgIGlmIChERVNDUklQVE9SUyAmJiBDICYmICFDW1NQRUNJRVNdKVxuICAgICAgJC5zZXREZXNjKEMsIFNQRUNJRVMsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxNDBcIiwgW1wiMTJmXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBnbG9iYWwgPSAkX19yZXF1aXJlKCcxMmYnKSxcbiAgICAgIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nLFxuICAgICAgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTQxXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBpZCA9IDAsXG4gICAgICBweCA9IE1hdGgucmFuZG9tKCk7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMmZcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbiAgaWYgKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpXG4gICAgX19nID0gZ2xvYmFsO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEyOFwiLCBbXCIxNDBcIiwgXCIxNDFcIiwgXCIxMmZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIHN0b3JlID0gJF9fcmVxdWlyZSgnMTQwJykoJ3drcycpLFxuICAgICAgdWlkID0gJF9fcmVxdWlyZSgnMTQxJyksXG4gICAgICBTeW1ib2wgPSAkX19yZXF1aXJlKCcxMmYnKS5TeW1ib2w7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPSBTeW1ib2wgJiYgU3ltYm9sW25hbWVdIHx8IChTeW1ib2wgfHwgdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTE5XCIsIFtcIjEyOFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgSVRFUkFUT1IgPSAkX19yZXF1aXJlKCcxMjgnKSgnaXRlcmF0b3InKSxcbiAgICAgIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTtcbiAgICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgIFNBRkVfQ0xPU0lORyA9IHRydWU7XG4gICAgfTtcbiAgICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbigpIHtcbiAgICAgIHRocm93IDI7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYywgc2tpcENsb3NpbmcpIHtcbiAgICBpZiAoIXNraXBDbG9zaW5nICYmICFTQUZFX0NMT1NJTkcpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHNhZmUgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgdmFyIGFyciA9IFs3XSxcbiAgICAgICAgICBpdGVyID0gYXJyW0lURVJBVE9SXSgpO1xuICAgICAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNhZmUgPSB0cnVlO1xuICAgICAgfTtcbiAgICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXI7XG4gICAgICB9O1xuICAgICAgZXhlYyhhcnIpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIHNhZmU7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTQyXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcbiAgdmFyIHF1ZXVlID0gW107XG4gIHZhciBkcmFpbmluZyA9IGZhbHNlO1xuICB2YXIgY3VycmVudFF1ZXVlO1xuICB2YXIgcXVldWVJbmRleCA9IC0xO1xuICBmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuKSB7XG4gICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgIHF1ZXVlID0gW107XG4gICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgfVxuICBwcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24oZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG4gIH1cbiAgSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG4gIH07XG4gIHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG4gIHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG4gIHByb2Nlc3MuZW52ID0ge307XG4gIHByb2Nlc3MuYXJndiA9IFtdO1xuICBwcm9jZXNzLnZlcnNpb24gPSAnJztcbiAgcHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuICBmdW5jdGlvbiBub29wKCkge31cbiAgcHJvY2Vzcy5vbiA9IG5vb3A7XG4gIHByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xuICBwcm9jZXNzLm9uY2UgPSBub29wO1xuICBwcm9jZXNzLm9mZiA9IG5vb3A7XG4gIHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xuICBwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG4gIHByb2Nlc3MuZW1pdCA9IG5vb3A7XG4gIHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gIH07XG4gIHByb2Nlc3MuY3dkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICcvJztcbiAgfTtcbiAgcHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gIH07XG4gIHByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gMDtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxNDNcIiwgW1wiMTQyXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnMTQyJyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTQ0XCIsIFtcIjE0M1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX1N5c3RlbS5fbm9kZVJlcXVpcmUgPyBwcm9jZXNzIDogJF9fcmVxdWlyZSgnMTQzJyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTZcIiwgW1wiMTQ0XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnMTQ0Jyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTQ1XCIsIFtcImQ5XCIsIFwiMTI5XCIsIFwiMTJmXCIsIFwiMTE0XCIsIFwiMTMyXCIsIFwiZDNcIiwgXCIxMzRcIiwgXCIxMzFcIiwgXCIxMzdcIiwgXCIxMzBcIiwgXCIxMzNcIiwgXCJkZVwiLCBcIjEzNVwiLCBcIjEyOFwiLCBcIjEzNlwiLCBcIjEzY1wiLCBcIjEzZFwiLCBcIjEzZVwiLCBcIjEyNlwiLCBcIjEzZlwiLCBcImQ0XCIsIFwiMTE5XCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyICQgPSAkX19yZXF1aXJlKCdkOScpLFxuICAgICAgICBMSUJSQVJZID0gJF9fcmVxdWlyZSgnMTI5JyksXG4gICAgICAgIGdsb2JhbCA9ICRfX3JlcXVpcmUoJzEyZicpLFxuICAgICAgICBjdHggPSAkX19yZXF1aXJlKCcxMTQnKSxcbiAgICAgICAgY2xhc3NvZiA9ICRfX3JlcXVpcmUoJzEzMicpLFxuICAgICAgICAkZXhwb3J0ID0gJF9fcmVxdWlyZSgnZDMnKSxcbiAgICAgICAgaXNPYmplY3QgPSAkX19yZXF1aXJlKCcxMzQnKSxcbiAgICAgICAgYW5PYmplY3QgPSAkX19yZXF1aXJlKCcxMzEnKSxcbiAgICAgICAgYUZ1bmN0aW9uID0gJF9fcmVxdWlyZSgnMTM3JyksXG4gICAgICAgIHN0cmljdE5ldyA9ICRfX3JlcXVpcmUoJzEzMCcpLFxuICAgICAgICBmb3JPZiA9ICRfX3JlcXVpcmUoJzEzMycpLFxuICAgICAgICBzZXRQcm90byA9ICRfX3JlcXVpcmUoJ2RlJykuc2V0LFxuICAgICAgICBzYW1lID0gJF9fcmVxdWlyZSgnMTM1JyksXG4gICAgICAgIFNQRUNJRVMgPSAkX19yZXF1aXJlKCcxMjgnKSgnc3BlY2llcycpLFxuICAgICAgICBzcGVjaWVzQ29uc3RydWN0b3IgPSAkX19yZXF1aXJlKCcxMzYnKSxcbiAgICAgICAgYXNhcCA9ICRfX3JlcXVpcmUoJzEzYycpLFxuICAgICAgICBQUk9NSVNFID0gJ1Byb21pc2UnLFxuICAgICAgICBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3MsXG4gICAgICAgIGlzTm9kZSA9IGNsYXNzb2YocHJvY2VzcykgPT0gJ3Byb2Nlc3MnLFxuICAgICAgICBQID0gZ2xvYmFsW1BST01JU0VdLFxuICAgICAgICBXcmFwcGVyO1xuICAgIHZhciB0ZXN0UmVzb2x2ZSA9IGZ1bmN0aW9uKHN1Yikge1xuICAgICAgdmFyIHRlc3QgPSBuZXcgUChmdW5jdGlvbigpIHt9KTtcbiAgICAgIGlmIChzdWIpXG4gICAgICAgIHRlc3QuY29uc3RydWN0b3IgPSBPYmplY3Q7XG4gICAgICByZXR1cm4gUC5yZXNvbHZlKHRlc3QpID09PSB0ZXN0O1xuICAgIH07XG4gICAgdmFyIFVTRV9OQVRJVkUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB3b3JrcyA9IGZhbHNlO1xuICAgICAgZnVuY3Rpb24gUDIoeCkge1xuICAgICAgICB2YXIgc2VsZiA9IG5ldyBQKHgpO1xuICAgICAgICBzZXRQcm90byhzZWxmLCBQMi5wcm90b3R5cGUpO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHdvcmtzID0gUCAmJiBQLnJlc29sdmUgJiYgdGVzdFJlc29sdmUoKTtcbiAgICAgICAgc2V0UHJvdG8oUDIsIFApO1xuICAgICAgICBQMi5wcm90b3R5cGUgPSAkLmNyZWF0ZShQLnByb3RvdHlwZSwge2NvbnN0cnVjdG9yOiB7dmFsdWU6IFAyfX0pO1xuICAgICAgICBpZiAoIShQMi5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKSB7fSkgaW5zdGFuY2VvZiBQMikpIHtcbiAgICAgICAgICB3b3JrcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3b3JrcyAmJiAkX19yZXF1aXJlKCcxM2QnKSkge1xuICAgICAgICAgIHZhciB0aGVuYWJsZVRoZW5Hb3R0ZW4gPSBmYWxzZTtcbiAgICAgICAgICBQLnJlc29sdmUoJC5zZXREZXNjKHt9LCAndGhlbicsIHtnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB0aGVuYWJsZVRoZW5Hb3R0ZW4gPSB0cnVlO1xuICAgICAgICAgICAgfX0pKTtcbiAgICAgICAgICB3b3JrcyA9IHRoZW5hYmxlVGhlbkdvdHRlbjtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB3b3JrcyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdvcmtzO1xuICAgIH0oKTtcbiAgICB2YXIgc2FtZUNvbnN0cnVjdG9yID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgaWYgKExJQlJBUlkgJiYgYSA9PT0gUCAmJiBiID09PSBXcmFwcGVyKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBzYW1lKGEsIGIpO1xuICAgIH07XG4gICAgdmFyIGdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oQykge1xuICAgICAgdmFyIFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXTtcbiAgICAgIHJldHVybiBTICE9IHVuZGVmaW5lZCA/IFMgOiBDO1xuICAgIH07XG4gICAgdmFyIGlzVGhlbmFibGUgPSBmdW5jdGlvbihpdCkge1xuICAgICAgdmFyIHRoZW47XG4gICAgICByZXR1cm4gaXNPYmplY3QoaXQpICYmIHR5cGVvZih0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbiAgICB9O1xuICAgIHZhciBQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uKEMpIHtcbiAgICAgIHZhciByZXNvbHZlLFxuICAgICAgICAgIHJlamVjdDtcbiAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBDKGZ1bmN0aW9uKCQkcmVzb2x2ZSwgJCRyZWplY3QpIHtcbiAgICAgICAgaWYgKHJlc29sdmUgIT09IHVuZGVmaW5lZCB8fCByZWplY3QgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ0JhZCBQcm9taXNlIGNvbnN0cnVjdG9yJyk7XG4gICAgICAgIHJlc29sdmUgPSAkJHJlc29sdmU7XG4gICAgICAgIHJlamVjdCA9ICQkcmVqZWN0O1xuICAgICAgfSk7XG4gICAgICB0aGlzLnJlc29sdmUgPSBhRnVuY3Rpb24ocmVzb2x2ZSksIHRoaXMucmVqZWN0ID0gYUZ1bmN0aW9uKHJlamVjdCk7XG4gICAgfTtcbiAgICB2YXIgcGVyZm9ybSA9IGZ1bmN0aW9uKGV4ZWMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGV4ZWMoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHtlcnJvcjogZX07XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgbm90aWZ5ID0gZnVuY3Rpb24ocmVjb3JkLCBpc1JlamVjdCkge1xuICAgICAgaWYgKHJlY29yZC5uKVxuICAgICAgICByZXR1cm47XG4gICAgICByZWNvcmQubiA9IHRydWU7XG4gICAgICB2YXIgY2hhaW4gPSByZWNvcmQuYztcbiAgICAgIGFzYXAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlY29yZC52LFxuICAgICAgICAgICAgb2sgPSByZWNvcmQucyA9PSAxLFxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgIHZhciBydW4gPSBmdW5jdGlvbihyZWFjdGlvbikge1xuICAgICAgICAgIHZhciBoYW5kbGVyID0gb2sgPyByZWFjdGlvbi5vayA6IHJlYWN0aW9uLmZhaWwsXG4gICAgICAgICAgICAgIHJlc29sdmUgPSByZWFjdGlvbi5yZXNvbHZlLFxuICAgICAgICAgICAgICByZWplY3QgPSByZWFjdGlvbi5yZWplY3QsXG4gICAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgICAgdGhlbjtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgaWYgKCFvaylcbiAgICAgICAgICAgICAgICByZWNvcmQuaCA9IHRydWU7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIgPT09IHRydWUgPyB2YWx1ZSA6IGhhbmRsZXIodmFsdWUpO1xuICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSByZWFjdGlvbi5wcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFR5cGVFcnJvcignUHJvbWlzZS1jaGFpbiBjeWNsZScpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGVuID0gaXNUaGVuYWJsZShyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgdGhlbi5jYWxsKHJlc3VsdCwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIHJlamVjdCh2YWx1ZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgd2hpbGUgKGNoYWluLmxlbmd0aCA+IGkpXG4gICAgICAgICAgcnVuKGNoYWluW2krK10pO1xuICAgICAgICBjaGFpbi5sZW5ndGggPSAwO1xuICAgICAgICByZWNvcmQubiA9IGZhbHNlO1xuICAgICAgICBpZiAoaXNSZWplY3QpXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gcmVjb3JkLnAsXG4gICAgICAgICAgICAgICAgaGFuZGxlcixcbiAgICAgICAgICAgICAgICBjb25zb2xlO1xuICAgICAgICAgICAgaWYgKGlzVW5oYW5kbGVkKHByb21pc2UpKSB7XG4gICAgICAgICAgICAgIGlmIChpc05vZGUpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVtaXQoJ3VuaGFuZGxlZFJlamVjdGlvbicsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYW5kbGVyID0gZ2xvYmFsLm9udW5oYW5kbGVkcmVqZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcih7XG4gICAgICAgICAgICAgICAgICBwcm9taXNlOiBwcm9taXNlLFxuICAgICAgICAgICAgICAgICAgcmVhc29uOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKChjb25zb2xlID0gZ2xvYmFsLmNvbnNvbGUpICYmIGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCB2YWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlY29yZC5hID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH0sIDEpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgaXNVbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICB2YXIgcmVjb3JkID0gcHJvbWlzZS5fZCxcbiAgICAgICAgICBjaGFpbiA9IHJlY29yZC5hIHx8IHJlY29yZC5jLFxuICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgIHJlYWN0aW9uO1xuICAgICAgaWYgKHJlY29yZC5oKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB3aGlsZSAoY2hhaW4ubGVuZ3RoID4gaSkge1xuICAgICAgICByZWFjdGlvbiA9IGNoYWluW2krK107XG4gICAgICAgIGlmIChyZWFjdGlvbi5mYWlsIHx8ICFpc1VuaGFuZGxlZChyZWFjdGlvbi5wcm9taXNlKSlcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHZhciAkcmVqZWN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0aGlzO1xuICAgICAgaWYgKHJlY29yZC5kKVxuICAgICAgICByZXR1cm47XG4gICAgICByZWNvcmQuZCA9IHRydWU7XG4gICAgICByZWNvcmQgPSByZWNvcmQuciB8fCByZWNvcmQ7XG4gICAgICByZWNvcmQudiA9IHZhbHVlO1xuICAgICAgcmVjb3JkLnMgPSAyO1xuICAgICAgcmVjb3JkLmEgPSByZWNvcmQuYy5zbGljZSgpO1xuICAgICAgbm90aWZ5KHJlY29yZCwgdHJ1ZSk7XG4gICAgfTtcbiAgICB2YXIgJHJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIHJlY29yZCA9IHRoaXMsXG4gICAgICAgICAgdGhlbjtcbiAgICAgIGlmIChyZWNvcmQuZClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgcmVjb3JkLmQgPSB0cnVlO1xuICAgICAgcmVjb3JkID0gcmVjb3JkLnIgfHwgcmVjb3JkO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHJlY29yZC5wID09PSB2YWx1ZSlcbiAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTtcbiAgICAgICAgaWYgKHRoZW4gPSBpc1RoZW5hYmxlKHZhbHVlKSkge1xuICAgICAgICAgIGFzYXAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IHtcbiAgICAgICAgICAgICAgcjogcmVjb3JkLFxuICAgICAgICAgICAgICBkOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgY3R4KCRyZXNvbHZlLCB3cmFwcGVyLCAxKSwgY3R4KCRyZWplY3QsIHdyYXBwZXIsIDEpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgJHJlamVjdC5jYWxsKHdyYXBwZXIsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlY29yZC52ID0gdmFsdWU7XG4gICAgICAgICAgcmVjb3JkLnMgPSAxO1xuICAgICAgICAgIG5vdGlmeShyZWNvcmQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAkcmVqZWN0LmNhbGwoe1xuICAgICAgICAgIHI6IHJlY29yZCxcbiAgICAgICAgICBkOiBmYWxzZVxuICAgICAgICB9LCBlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICghVVNFX05BVElWRSkge1xuICAgICAgUCA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICAgICAgYUZ1bmN0aW9uKGV4ZWN1dG9yKTtcbiAgICAgICAgdmFyIHJlY29yZCA9IHRoaXMuX2QgPSB7XG4gICAgICAgICAgcDogc3RyaWN0TmV3KHRoaXMsIFAsIFBST01JU0UpLFxuICAgICAgICAgIGM6IFtdLFxuICAgICAgICAgIGE6IHVuZGVmaW5lZCxcbiAgICAgICAgICBzOiAwLFxuICAgICAgICAgIGQ6IGZhbHNlLFxuICAgICAgICAgIHY6IHVuZGVmaW5lZCxcbiAgICAgICAgICBoOiBmYWxzZSxcbiAgICAgICAgICBuOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGV4ZWN1dG9yKGN0eCgkcmVzb2x2ZSwgcmVjb3JkLCAxKSwgY3R4KCRyZWplY3QsIHJlY29yZCwgMSkpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAkcmVqZWN0LmNhbGwocmVjb3JkLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgJF9fcmVxdWlyZSgnMTNlJykoUC5wcm90b3R5cGUsIHtcbiAgICAgICAgdGhlbjogZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgICAgIHZhciByZWFjdGlvbiA9IG5ldyBQcm9taXNlQ2FwYWJpbGl0eShzcGVjaWVzQ29uc3RydWN0b3IodGhpcywgUCkpLFxuICAgICAgICAgICAgICBwcm9taXNlID0gcmVhY3Rpb24ucHJvbWlzZSxcbiAgICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fZDtcbiAgICAgICAgICByZWFjdGlvbi5vayA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiB0cnVlO1xuICAgICAgICAgIHJlYWN0aW9uLmZhaWwgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICYmIG9uUmVqZWN0ZWQ7XG4gICAgICAgICAgcmVjb3JkLmMucHVzaChyZWFjdGlvbik7XG4gICAgICAgICAgaWYgKHJlY29yZC5hKVxuICAgICAgICAgICAgcmVjb3JkLmEucHVzaChyZWFjdGlvbik7XG4gICAgICAgICAgaWYgKHJlY29yZC5zKVxuICAgICAgICAgICAgbm90aWZ5KHJlY29yZCwgZmFsc2UpO1xuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9LFxuICAgICAgICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIG9uUmVqZWN0ZWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwge1Byb21pc2U6IFB9KTtcbiAgICAkX19yZXF1aXJlKCcxMjYnKShQLCBQUk9NSVNFKTtcbiAgICAkX19yZXF1aXJlKCcxM2YnKShQUk9NSVNFKTtcbiAgICBXcmFwcGVyID0gJF9fcmVxdWlyZSgnZDQnKVtQUk9NSVNFXTtcbiAgICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCBQUk9NSVNFLCB7cmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocikge1xuICAgICAgICB2YXIgY2FwYWJpbGl0eSA9IG5ldyBQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKSxcbiAgICAgICAgICAgICQkcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgICAgICQkcmVqZWN0KHIpO1xuICAgICAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICAgICAgfX0pO1xuICAgICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKCFVU0VfTkFUSVZFIHx8IHRlc3RSZXNvbHZlKHRydWUpKSwgUFJPTUlTRSwge3Jlc29sdmU6IGZ1bmN0aW9uIHJlc29sdmUoeCkge1xuICAgICAgICBpZiAoeCBpbnN0YW5jZW9mIFAgJiYgc2FtZUNvbnN0cnVjdG9yKHguY29uc3RydWN0b3IsIHRoaXMpKVxuICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB2YXIgY2FwYWJpbGl0eSA9IG5ldyBQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKSxcbiAgICAgICAgICAgICQkcmVzb2x2ZSA9IGNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgICAgICAgJCRyZXNvbHZlKHgpO1xuICAgICAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICAgICAgfX0pO1xuICAgICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIShVU0VfTkFUSVZFICYmICRfX3JlcXVpcmUoJzExOScpKGZ1bmN0aW9uKGl0ZXIpIHtcbiAgICAgIFAuYWxsKGl0ZXIpWydjYXRjaCddKGZ1bmN0aW9uKCkge30pO1xuICAgIH0pKSwgUFJPTUlTRSwge1xuICAgICAgYWxsOiBmdW5jdGlvbiBhbGwoaXRlcmFibGUpIHtcbiAgICAgICAgdmFyIEMgPSBnZXRDb25zdHJ1Y3Rvcih0aGlzKSxcbiAgICAgICAgICAgIGNhcGFiaWxpdHkgPSBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoQyksXG4gICAgICAgICAgICByZXNvbHZlID0gY2FwYWJpbGl0eS5yZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3QsXG4gICAgICAgICAgICB2YWx1ZXMgPSBbXTtcbiAgICAgICAgdmFyIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCB2YWx1ZXMucHVzaCwgdmFsdWVzKTtcbiAgICAgICAgICB2YXIgcmVtYWluaW5nID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICAgICAgcmVzdWx0cyA9IEFycmF5KHJlbWFpbmluZyk7XG4gICAgICAgICAgaWYgKHJlbWFpbmluZylcbiAgICAgICAgICAgICQuZWFjaC5jYWxsKHZhbHVlcywgZnVuY3Rpb24ocHJvbWlzZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgdmFyIGFscmVhZHlDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZClcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBhbHJlYWR5Q2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXN1bHRzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUocmVzdWx0cyk7XG4gICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFicnVwdClcbiAgICAgICAgICByZWplY3QoYWJydXB0LmVycm9yKTtcbiAgICAgICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgICAgIH0sXG4gICAgICByYWNlOiBmdW5jdGlvbiByYWNlKGl0ZXJhYmxlKSB7XG4gICAgICAgIHZhciBDID0gZ2V0Q29uc3RydWN0b3IodGhpcyksXG4gICAgICAgICAgICBjYXBhYmlsaXR5ID0gbmV3IFByb21pc2VDYXBhYmlsaXR5KEMpLFxuICAgICAgICAgICAgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgICAgIHZhciBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oY2FwYWJpbGl0eS5yZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFicnVwdClcbiAgICAgICAgICByZWplY3QoYWJydXB0LmVycm9yKTtcbiAgICAgICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZDRcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMS4yLjYnfTtcbiAgaWYgKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpXG4gICAgX19lID0gY29yZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxNDZcIiwgW1wiMTFkXCIsIFwiMTFiXCIsIFwiMTJlXCIsIFwiMTQ1XCIsIFwiZDRcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgJF9fcmVxdWlyZSgnMTFkJyk7XG4gICRfX3JlcXVpcmUoJzExYicpO1xuICAkX19yZXF1aXJlKCcxMmUnKTtcbiAgJF9fcmVxdWlyZSgnMTQ1Jyk7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnZDQnKS5Qcm9taXNlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjE0N1wiLCBbXCIxNDZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgXCJkZWZhdWx0XCI6ICRfX3JlcXVpcmUoJzE0NicpLFxuICAgIF9fZXNNb2R1bGU6IHRydWVcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxNDhcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgXCJmb3JtYXQgY2pzXCI7XG4gICFmdW5jdGlvbihlLCB0KSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgXCJmdW5jdGlvblwiID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShcImFqYXhcIiwgdCkgOiBcIm9iamVjdFwiID09IHR5cGVvZiBleHBvcnRzID8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gdCgpIDogZS5hamF4ID0gdCgpO1xuICB9KHRoaXMsIGZ1bmN0aW9uKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIGUoZSkge1xuICAgICAgdmFyIHIgPSBbXCJnZXRcIiwgXCJwb3N0XCIsIFwicHV0XCIsIFwiZGVsZXRlXCJdO1xuICAgICAgcmV0dXJuIGUgPSBlIHx8IHt9LCBlLmJhc2VVcmwgPSBlLmJhc2VVcmwgfHwgXCJcIiwgZS5tZXRob2QgJiYgZS51cmwgPyBuKGUubWV0aG9kLCBlLmJhc2VVcmwgKyBlLnVybCwgdChlLmRhdGEpLCBlKSA6IHIucmVkdWNlKGZ1bmN0aW9uKHIsIHUpIHtcbiAgICAgICAgcmV0dXJuIHJbdV0gPSBmdW5jdGlvbihyLCBvKSB7XG4gICAgICAgICAgcmV0dXJuIG4odSwgZS5iYXNlVXJsICsgciwgdChvKSwgZSk7XG4gICAgICAgIH0sIHI7XG4gICAgICB9LCB7fSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHQoZSkge1xuICAgICAgcmV0dXJuIGUgfHwgbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbihlLCB0LCBuLCB1KSB7XG4gICAgICB2YXIgYyA9IFtcInRoZW5cIiwgXCJjYXRjaFwiLCBcImFsd2F5c1wiXSxcbiAgICAgICAgICBzID0gYy5yZWR1Y2UoZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgcmV0dXJuIGVbdF0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlW3RdID0gbiwgZTtcbiAgICAgICAgICAgIH0sIGU7XG4gICAgICAgICAgfSwge30pLFxuICAgICAgICAgIGkgPSBuZXcgWE1MSHR0cFJlcXVlc3Q7XG4gICAgICByZXR1cm4gaS5vcGVuKGUsIHQsICEwKSwgcihpLCB1LmhlYWRlcnMpLCBpLmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsIG8ocywgaSksICExKSwgaS5zZW5kKGEobikpLCBzO1xuICAgIH1cbiAgICBmdW5jdGlvbiByKGUsIHQpIHtcbiAgICAgIHQgPSB0IHx8IHt9LCB1KHQpIHx8ICh0W1wiQ29udGVudC1UeXBlXCJdID0gXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiksIE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24obikge1xuICAgICAgICB0W25dICYmIGUuc2V0UmVxdWVzdEhlYWRlcihuLCB0W25dKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1KGUpIHtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhlKS5zb21lKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIFwiY29udGVudC10eXBlXCIgPT09IGUudG9Mb3dlckNhc2UoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvKGUsIHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBuKCkge1xuICAgICAgICB0LnJlYWR5U3RhdGUgPT09IHQuRE9ORSAmJiAodC5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCBuLCAhMSksIGUuYWx3YXlzLmFwcGx5KGUsIGModCkpLCB0LnN0YXR1cyA+PSAyMDAgJiYgdC5zdGF0dXMgPCAzMDAgPyBlLnRoZW4uYXBwbHkoZSwgYyh0KSkgOiBlW1wiY2F0Y2hcIl0uYXBwbHkoZSwgYyh0KSkpO1xuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYyhlKSB7XG4gICAgICB2YXIgdDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHQgPSBKU09OLnBhcnNlKGUucmVzcG9uc2VUZXh0KTtcbiAgICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgdCA9IGUucmVzcG9uc2VUZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIFt0LCBlXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYShlKSB7XG4gICAgICByZXR1cm4gcyhlKSA/IGkoZSkgOiBlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzKGUpIHtcbiAgICAgIHJldHVybiBcIltvYmplY3QgT2JqZWN0XVwiID09PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGkoZSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGUpLnJlZHVjZShmdW5jdGlvbih0LCBuKSB7XG4gICAgICAgIHZhciByID0gdCA/IHQgKyBcIiZcIiA6IFwiXCI7XG4gICAgICAgIHJldHVybiByICsgZihuKSArIFwiPVwiICsgZihlW25dKTtcbiAgICAgIH0sIFwiXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmKGUpIHtcbiAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSk7XG4gICAgfVxuICAgIHJldHVybiBlO1xuICB9KTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxNDlcIiwgW1wiMTQ4XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnMTQ4Jyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXIoJzInLCBbJzE0NycsICcxNDknLCAnYTYnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgdmFyIF9Qcm9taXNlLCBhamF4LCBGRVRDSF9FVkVOVFMsIEVWRU5UU19TVUNDRVNTLCBFVkVOVFNfRkFJTEVELCBwcmVwYXJlRmlsdGVyU2VsZWN0cywgZXZlbnRzU3VjY2VzcywgZXZlbnRzRmFpbGVkLCBmZXRjaEV2ZW50cztcblxuICByZXR1cm4ge1xuICAgIHNldHRlcnM6IFtmdW5jdGlvbiAoXykge1xuICAgICAgX1Byb21pc2UgPSBfWydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF8yKSB7XG4gICAgICBhamF4ID0gXzJbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2E2KSB7XG4gICAgICBGRVRDSF9FVkVOVFMgPSBfYTYuRkVUQ0hfRVZFTlRTO1xuICAgICAgRVZFTlRTX1NVQ0NFU1MgPSBfYTYuRVZFTlRTX1NVQ0NFU1M7XG4gICAgICBFVkVOVFNfRkFJTEVEID0gX2E2LkVWRU5UU19GQUlMRUQ7XG4gICAgICBwcmVwYXJlRmlsdGVyU2VsZWN0cyA9IF9hNi5wcmVwYXJlRmlsdGVyU2VsZWN0cztcbiAgICB9XSxcbiAgICBleGVjdXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgIGV2ZW50c1N1Y2Nlc3MgPSBmdW5jdGlvbiBldmVudHNTdWNjZXNzKGV2ZW50cykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IEVWRU5UU19TVUNDRVNTLFxuICAgICAgICAgIHBheWxvYWQ6IHsgZXZlbnRzOiBldmVudHMgfVxuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZXZlbnRzU3VjY2VzcycsIGV2ZW50c1N1Y2Nlc3MpO1xuXG4gICAgICBldmVudHNGYWlsZWQgPSBmdW5jdGlvbiBldmVudHNGYWlsZWQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogRVZFTlRTX0ZBSUxFRFxuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZXZlbnRzRmFpbGVkJywgZXZlbnRzRmFpbGVkKTtcblxuICAgICAgZmV0Y2hFdmVudHMgPSBmdW5jdGlvbiBmZXRjaEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCwgZ2V0U3RhdGUpIHtcbiAgICAgICAgICB2YXIgaXNGZXRjaGluZyA9IGdldFN0YXRlKCkuZXZlbnRzLmlzRmV0Y2hpbmc7XG5cbiAgICAgICAgICBpZiAoaXNGZXRjaGluZykge1xuICAgICAgICAgICAgcmV0dXJuIF9Qcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBGRVRDSF9FVkVOVFMgfSk7XG4gICAgICAgICAgYWpheCgpLmdldCgnZGF0YS9ldmVudHMuanNvbicpLnRoZW4oZnVuY3Rpb24gKGV2ZW50cykge1xuICAgICAgICAgICAgZGlzcGF0Y2goZXZlbnRzU3VjY2VzcyhldmVudHMpKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKHByZXBhcmVGaWx0ZXJTZWxlY3RzKGV2ZW50cykpO1xuICAgICAgICAgIH0pWydjYXRjaCddKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKGV2ZW50c0ZhaWxlZCgpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIF9leHBvcnQoJ2ZldGNoRXZlbnRzJywgZmV0Y2hFdmVudHMpO1xuICAgIH1cbiAgfTtcbn0pO1xuJF9fU3lzdGVtLnJlZ2lzdGVyKCcxNGEnLCBbJ2E2J10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgRklMTF9GSUxURVJfU0VMRUNUUywgQ0hPT1NFX0ZJTFRFUl9TRUxFQ1QsIEZJTFRFUl9CWV9URVhULCBmaWxsRmlsdGVyU2VsZWN0LCByZW1vdmVEdXBsaWNhdGVkRW50cmllcywgcHJlcGFyZUZpbHRlclNlbGVjdHMsIGNob29zZUZpbHRlclNlbGVjdCwgZmlsdGVyQnlUZXh0O1xuICByZXR1cm4ge1xuICAgIHNldHRlcnM6IFtmdW5jdGlvbiAoX2E2KSB7XG4gICAgICBGSUxMX0ZJTFRFUl9TRUxFQ1RTID0gX2E2LkZJTExfRklMVEVSX1NFTEVDVFM7XG4gICAgICBDSE9PU0VfRklMVEVSX1NFTEVDVCA9IF9hNi5DSE9PU0VfRklMVEVSX1NFTEVDVDtcbiAgICAgIEZJTFRFUl9CWV9URVhUID0gX2E2LkZJTFRFUl9CWV9URVhUO1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZpbGxGaWx0ZXJTZWxlY3QgPSBmdW5jdGlvbiBmaWxsRmlsdGVyU2VsZWN0KHNlbGVjdCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IEZJTExfRklMVEVSX1NFTEVDVFMsXG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgc2VsZWN0OiBzZWxlY3QsIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICByZW1vdmVEdXBsaWNhdGVkRW50cmllcyA9IGZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZWRFbnRyaWVzKGFsbEVudHJpZXMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBbXTtcbiAgICAgICAgYWxsRW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgIGlmIChvcHRpb25zLmluZGV4T2YoZW50cnkpID09PSAtMSkge1xuICAgICAgICAgICAgb3B0aW9ucy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICAgIH07XG5cbiAgICAgIHByZXBhcmVGaWx0ZXJTZWxlY3RzID0gZnVuY3Rpb24gcHJlcGFyZUZpbHRlclNlbGVjdHMoZXZlbnRzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcbiAgICAgICAgICB2YXIgYWxsTW9udGhzID0gZXZlbnRzLm1hcChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudC5kYXRlLm1vbnRoO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIGFsbFN0YXRlcyA9IGV2ZW50cy5tYXAoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQubG9jYXRpb24uc3RhdGU7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB2YXIgbW9udGhzID0gcmVtb3ZlRHVwbGljYXRlZEVudHJpZXMoYWxsTW9udGhzKS5tYXAoZnVuY3Rpb24gKG1vbnRoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0ZXh0OiBtb250aCxcbiAgICAgICAgICAgICAgdmFsdWU6IG1vbnRoXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIHN0YXRlcyA9IHJlbW92ZUR1cGxpY2F0ZWRFbnRyaWVzKGFsbFN0YXRlcykubWFwKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdGV4dDogc3RhdGUsXG4gICAgICAgICAgICAgIHZhbHVlOiBzdGF0ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGRpc3BhdGNoKGZpbGxGaWx0ZXJTZWxlY3QoJ21vbnRocycsIG1vbnRocykpO1xuICAgICAgICAgIGRpc3BhdGNoKGZpbGxGaWx0ZXJTZWxlY3QoJ3N0YXRlJywgc3RhdGVzKSk7XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICBfZXhwb3J0KCdwcmVwYXJlRmlsdGVyU2VsZWN0cycsIHByZXBhcmVGaWx0ZXJTZWxlY3RzKTtcblxuICAgICAgY2hvb3NlRmlsdGVyU2VsZWN0ID0gZnVuY3Rpb24gY2hvb3NlRmlsdGVyU2VsZWN0KHBheWxvYWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBDSE9PU0VfRklMVEVSX1NFTEVDVCxcbiAgICAgICAgICBwYXlsb2FkOiBwYXlsb2FkXG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICBfZXhwb3J0KCdjaG9vc2VGaWx0ZXJTZWxlY3QnLCBjaG9vc2VGaWx0ZXJTZWxlY3QpO1xuXG4gICAgICBmaWx0ZXJCeVRleHQgPSBmdW5jdGlvbiBmaWx0ZXJCeVRleHQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBGSUxURVJfQllfVEVYVCxcbiAgICAgICAgICBwYXlsb2FkOiB7IHZhbHVlOiB2YWx1ZSB9XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICBfZXhwb3J0KCdmaWx0ZXJCeVRleHQnLCBmaWx0ZXJCeVRleHQpO1xuICAgIH1cbiAgfTtcbn0pO1xuJF9fU3lzdGVtLnJlZ2lzdGVyKCdhNicsIFsnMicsICcxNGEnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBGRVRDSF9FVkVOVFMsIEVWRU5UU19TVUNDRVNTLCBFVkVOVFNfRkFJTEVELCBGSUxMX0ZJTFRFUl9TRUxFQ1RTLCBDSE9PU0VfRklMVEVSX1NFTEVDVCwgRklMVEVSX0JZX1RFWFQ7XG4gIHJldHVybiB7XG4gICAgc2V0dGVyczogW2Z1bmN0aW9uIChfKSB7XG4gICAgICB2YXIgX2V4cG9ydE9iaiA9IHt9O1xuICAgICAgX2V4cG9ydE9ialsnZmV0Y2hFdmVudHMnXSA9IF8uZmV0Y2hFdmVudHM7XG4gICAgICBfZXhwb3J0T2JqWydldmVudHNTdWNjZXNzJ10gPSBfLmV2ZW50c1N1Y2Nlc3M7XG4gICAgICBfZXhwb3J0T2JqWydldmVudHNGYWlsZWQnXSA9IF8uZXZlbnRzRmFpbGVkO1xuXG4gICAgICBfZXhwb3J0KF9leHBvcnRPYmopO1xuICAgIH0sIGZ1bmN0aW9uIChfYSkge1xuICAgICAgdmFyIF9leHBvcnRPYmoyID0ge307XG4gICAgICBfZXhwb3J0T2JqMlsncHJlcGFyZUZpbHRlclNlbGVjdHMnXSA9IF9hLnByZXBhcmVGaWx0ZXJTZWxlY3RzO1xuICAgICAgX2V4cG9ydE9iajJbJ2Nob29zZUZpbHRlclNlbGVjdCddID0gX2EuY2hvb3NlRmlsdGVyU2VsZWN0O1xuICAgICAgX2V4cG9ydE9iajJbJ2ZpbHRlckJ5VGV4dCddID0gX2EuZmlsdGVyQnlUZXh0O1xuXG4gICAgICBfZXhwb3J0KF9leHBvcnRPYmoyKTtcbiAgICB9XSxcbiAgICBleGVjdXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBGRVRDSF9FVkVOVFMgPSAnRkVUQ0hfRVZFTlRTJztcblxuICAgICAgX2V4cG9ydCgnRkVUQ0hfRVZFTlRTJywgRkVUQ0hfRVZFTlRTKTtcblxuICAgICAgRVZFTlRTX1NVQ0NFU1MgPSAnRVZFTlRTX1NVQ0NFU1MnO1xuXG4gICAgICBfZXhwb3J0KCdFVkVOVFNfU1VDQ0VTUycsIEVWRU5UU19TVUNDRVNTKTtcblxuICAgICAgRVZFTlRTX0ZBSUxFRCA9ICdFVkVOVFNfRkFJTEVEJztcblxuICAgICAgX2V4cG9ydCgnRVZFTlRTX0ZBSUxFRCcsIEVWRU5UU19GQUlMRUQpO1xuXG4gICAgICBGSUxMX0ZJTFRFUl9TRUxFQ1RTID0gJ0ZJTExfRklMVEVSX1NFTEVDVFMnO1xuXG4gICAgICBfZXhwb3J0KCdGSUxMX0ZJTFRFUl9TRUxFQ1RTJywgRklMTF9GSUxURVJfU0VMRUNUUyk7XG5cbiAgICAgIENIT09TRV9GSUxURVJfU0VMRUNUID0gJ0NIT09TRV9GSUxURVJfU0VMRUNUJztcblxuICAgICAgX2V4cG9ydCgnQ0hPT1NFX0ZJTFRFUl9TRUxFQ1QnLCBDSE9PU0VfRklMVEVSX1NFTEVDVCk7XG5cbiAgICAgIEZJTFRFUl9CWV9URVhUID0gJ0ZJTFRFUl9CWV9URVhUJztcblxuICAgICAgX2V4cG9ydCgnRklMVEVSX0JZX1RFWFQnLCBGSUxURVJfQllfVEVYVCk7XG4gICAgfVxuICB9O1xufSk7XG4kX19TeXN0ZW0ucmVnaXN0ZXIoJzE0YicsIFsnMTA4JywgJzExMScsICdhNCcsICdhNiddLCBmdW5jdGlvbiAoX2V4cG9ydCkge1xuICB2YXIgX3RvQ29uc3VtYWJsZUFycmF5LCBfZGVmaW5lUHJvcGVydHksIF9leHRlbmRzLCBGSUxMX0ZJTFRFUl9TRUxFQ1RTLCBDSE9PU0VfRklMVEVSX1NFTEVDVCwgRklMVEVSX0JZX1RFWFQsIGluaXRpYWxTdGF0ZSwgZmlsdGVyO1xuXG4gIHJldHVybiB7XG4gICAgc2V0dGVyczogW2Z1bmN0aW9uIChfMikge1xuICAgICAgX3RvQ29uc3VtYWJsZUFycmF5ID0gXzJbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoXykge1xuICAgICAgX2RlZmluZVByb3BlcnR5ID0gX1snZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYTQpIHtcbiAgICAgIF9leHRlbmRzID0gX2E0WydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF9hNikge1xuICAgICAgRklMTF9GSUxURVJfU0VMRUNUUyA9IF9hNi5GSUxMX0ZJTFRFUl9TRUxFQ1RTO1xuICAgICAgQ0hPT1NFX0ZJTFRFUl9TRUxFQ1QgPSBfYTYuQ0hPT1NFX0ZJTFRFUl9TRUxFQ1Q7XG4gICAgICBGSUxURVJfQllfVEVYVCA9IF9hNi5GSUxURVJfQllfVEVYVDtcbiAgICB9XSxcbiAgICBleGVjdXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgICAgbW9udGhzOiB7XG4gICAgICAgICAgaWNvbjogeyBpZDogJ2RhdGUnLCBsYWJlbDogJ0RhdGEnIH0sXG4gICAgICAgICAgbGFiZWw6ICdFc2NvbGhhIHVtIG3DqnMnLFxuICAgICAgICAgIHNlbGVjdGVkOiAnJyxcbiAgICAgICAgICBvcHRpb25zOiBbe1xuICAgICAgICAgICAgdGV4dDogJ0VzY29saGEgdW0gbcOqcycsIHZhbHVlOiAnJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG5cbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICBpY29uOiB7IGlkOiAnbG9jYXRpb24nLCBsYWJlbDogJ0VzdGFkbycgfSxcbiAgICAgICAgICBsYWJlbDogJ0VzY29saGEgdW0gZXN0YWRvJyxcbiAgICAgICAgICBzZWxlY3RlZDogJycsXG4gICAgICAgICAgb3B0aW9uczogW3tcbiAgICAgICAgICAgIHRleHQ6ICdFc2NvbGhhIHVtIGVzdGFkbycsIHZhbHVlOiAnJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2VhcmNoRmllbGQ6ICcnXG4gICAgICB9O1xuXG4gICAgICBmaWx0ZXIgPSBmdW5jdGlvbiBmaWx0ZXIoc3RhdGUsIGFjdGlvbikge1xuICAgICAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZCkgc3RhdGUgPSBpbml0aWFsU3RhdGU7XG5cbiAgICAgICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICAgIGNhc2UgRklMTF9GSUxURVJfU0VMRUNUUzpcbiAgICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgYWN0aW9uLnBheWxvYWQuc2VsZWN0LCBfZXh0ZW5kcyh7fSwgc3RhdGVbYWN0aW9uLnBheWxvYWQuc2VsZWN0XSwge1xuICAgICAgICAgICAgICBvcHRpb25zOiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHN0YXRlW2FjdGlvbi5wYXlsb2FkLnNlbGVjdF0ub3B0aW9ucyksIF90b0NvbnN1bWFibGVBcnJheShhY3Rpb24ucGF5bG9hZC5vcHRpb25zKSlcbiAgICAgICAgICAgIH0pKSk7XG5cbiAgICAgICAgICBjYXNlIENIT09TRV9GSUxURVJfU0VMRUNUOlxuICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwgX2RlZmluZVByb3BlcnR5KHt9LCBhY3Rpb24ucGF5bG9hZC5maWVsZCwgX2V4dGVuZHMoe30sIHN0YXRlW2FjdGlvbi5wYXlsb2FkLmZpZWxkXSwge1xuICAgICAgICAgICAgICBzZWxlY3RlZDogYWN0aW9uLnBheWxvYWQudmFsdWVcbiAgICAgICAgICAgIH0pKSk7XG5cbiAgICAgICAgICBjYXNlIEZJTFRFUl9CWV9URVhUOlxuICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICBzZWFyY2hGaWVsZDogYWN0aW9uLnBheWxvYWQudmFsdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgIH07XG5cbiAgICAgIF9leHBvcnQoJ2RlZmF1bHQnLCBmaWx0ZXIpO1xuICAgIH1cbiAgfTtcbn0pO1xuJF9fU3lzdGVtLnJlZ2lzdGVyKCcxNGMnLCBbJzEwOScsICcxNGInXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBldmVudHMsIGZpbHRlcjtcbiAgcmV0dXJuIHtcbiAgICBzZXR0ZXJzOiBbZnVuY3Rpb24gKF8pIHtcbiAgICAgIGV2ZW50cyA9IF9bJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgIGZpbHRlciA9IF9iWydkZWZhdWx0J107XG4gICAgfV0sXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIHsgZXZlbnRzOiBldmVudHMsIGZpbHRlcjogZmlsdGVyIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuJF9fU3lzdGVtLnJlZ2lzdGVyKCcxJywgWycxMDcnLCAnOWMnLCAnOWEnLCAnYTcnLCAnZjcnLCAnMTRjJ10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgY29uZmlndXJlU3RvcmUsIFJlYWN0LCByZW5kZXIsIFByb3ZpZGVyLCBBcHAsIHJlZHVjZXJzLCBzdG9yZTtcbiAgcmV0dXJuIHtcbiAgICBzZXR0ZXJzOiBbZnVuY3Rpb24gKF8pIHtcbiAgICAgIGNvbmZpZ3VyZVN0b3JlID0gX1snZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYykge1xuICAgICAgUmVhY3QgPSBfY1snZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYSkge1xuICAgICAgcmVuZGVyID0gX2EucmVuZGVyO1xuICAgIH0sIGZ1bmN0aW9uIChfYTcpIHtcbiAgICAgIFByb3ZpZGVyID0gX2E3LlByb3ZpZGVyO1xuICAgIH0sIGZ1bmN0aW9uIChfZjcpIHtcbiAgICAgIEFwcCA9IF9mN1snZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYzIpIHtcbiAgICAgIHJlZHVjZXJzID0gX2MyWydkZWZhdWx0J107XG4gICAgfV0sXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgc3RvcmUgPSBjb25maWd1cmVTdG9yZSh7IHJlZHVjZXJzOiByZWR1Y2VycyB9KTtcblxuICAgICAgcmVuZGVyKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFByb3ZpZGVyLFxuICAgICAgICB7IHN0b3JlOiBzdG9yZSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEFwcCwgbnVsbClcbiAgICAgICksIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWpzPVwiYXBwXCJdJykpO1xuXG4gICAgICBzdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhzdG9yZS5nZXRTdGF0ZSgpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xufSlcbihmdW5jdGlvbihmYWN0b3J5KSB7XG4gIGZhY3RvcnkoKTtcbn0pOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG52YXIgUG9vbGVkQ2xhc3MgPSByZXF1aXJlKCcuL1Bvb2xlZENsYXNzJyk7XG52YXIgZ2V0VGV4dENvbnRlbnRBY2Nlc3NvciA9IHJlcXVpcmUoJy4vZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcicpO1xuZnVuY3Rpb24gRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlKHJvb3QpIHtcbiAgdGhpcy5fcm9vdCA9IHJvb3Q7XG4gIHRoaXMuX3N0YXJ0VGV4dCA9IHRoaXMuZ2V0VGV4dCgpO1xuICB0aGlzLl9mYWxsYmFja1RleHQgPSBudWxsO1xufVxuX2Fzc2lnbihGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUucHJvdG90eXBlLCB7XG4gIGRlc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3Jvb3QgPSBudWxsO1xuICAgIHRoaXMuX3N0YXJ0VGV4dCA9IG51bGw7XG4gICAgdGhpcy5fZmFsbGJhY2tUZXh0ID0gbnVsbDtcbiAgfSxcbiAgZ2V0VGV4dDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCd2YWx1ZScgaW4gdGhpcy5fcm9vdCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Jvb3QudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9yb290W2dldFRleHRDb250ZW50QWNjZXNzb3IoKV07XG4gIH0sXG4gIGdldERhdGE6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9mYWxsYmFja1RleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9mYWxsYmFja1RleHQ7XG4gICAgfVxuICAgIHZhciBzdGFydDtcbiAgICB2YXIgc3RhcnRWYWx1ZSA9IHRoaXMuX3N0YXJ0VGV4dDtcbiAgICB2YXIgc3RhcnRMZW5ndGggPSBzdGFydFZhbHVlLmxlbmd0aDtcbiAgICB2YXIgZW5kO1xuICAgIHZhciBlbmRWYWx1ZSA9IHRoaXMuZ2V0VGV4dCgpO1xuICAgIHZhciBlbmRMZW5ndGggPSBlbmRWYWx1ZS5sZW5ndGg7XG4gICAgZm9yIChzdGFydCA9IDA7IHN0YXJ0IDwgc3RhcnRMZW5ndGg7IHN0YXJ0KyspIHtcbiAgICAgIGlmIChzdGFydFZhbHVlW3N0YXJ0XSAhPT0gZW5kVmFsdWVbc3RhcnRdKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbWluRW5kID0gc3RhcnRMZW5ndGggLSBzdGFydDtcbiAgICBmb3IgKGVuZCA9IDE7IGVuZCA8PSBtaW5FbmQ7IGVuZCsrKSB7XG4gICAgICBpZiAoc3RhcnRWYWx1ZVtzdGFydExlbmd0aCAtIGVuZF0gIT09IGVuZFZhbHVlW2VuZExlbmd0aCAtIGVuZF0pIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBzbGljZVRhaWwgPSBlbmQgPiAxID8gMSAtIGVuZCA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9mYWxsYmFja1RleHQgPSBlbmRWYWx1ZS5zbGljZShzdGFydCwgc2xpY2VUYWlsKTtcbiAgICByZXR1cm4gdGhpcy5fZmFsbGJhY2tUZXh0O1xuICB9XG59KTtcblBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUpO1xubW9kdWxlLmV4cG9ydHMgPSBGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGU7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljRXZlbnQnKTtcbnZhciBDb21wb3NpdGlvbkV2ZW50SW50ZXJmYWNlID0ge2RhdGE6IG51bGx9O1xuZnVuY3Rpb24gU3ludGhldGljQ29tcG9zaXRpb25FdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICByZXR1cm4gU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG59XG5TeW50aGV0aWNFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljQ29tcG9zaXRpb25FdmVudCwgQ29tcG9zaXRpb25FdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQ7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljRXZlbnQnKTtcbnZhciBJbnB1dEV2ZW50SW50ZXJmYWNlID0ge2RhdGE6IG51bGx9O1xuZnVuY3Rpb24gU3ludGhldGljSW5wdXRFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICByZXR1cm4gU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG59XG5TeW50aGV0aWNFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljSW5wdXRFdmVudCwgSW5wdXRFdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0lucHV0RXZlbnQ7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBFdmVudENvbnN0YW50cyA9IHJlcXVpcmUoJy4vRXZlbnRDb25zdGFudHMnKTtcbnZhciBFdmVudFByb3BhZ2F0b3JzID0gcmVxdWlyZSgnLi9FdmVudFByb3BhZ2F0b3JzJyk7XG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xudmFyIEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZSA9IHJlcXVpcmUoJy4vRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlJyk7XG52YXIgU3ludGhldGljQ29tcG9zaXRpb25FdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljQ29tcG9zaXRpb25FdmVudCcpO1xudmFyIFN5bnRoZXRpY0lucHV0RXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY0lucHV0RXZlbnQnKTtcbnZhciBrZXlPZiA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU9mJyk7XG52YXIgRU5EX0tFWUNPREVTID0gWzksIDEzLCAyNywgMzJdO1xudmFyIFNUQVJUX0tFWUNPREUgPSAyMjk7XG52YXIgY2FuVXNlQ29tcG9zaXRpb25FdmVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnQ29tcG9zaXRpb25FdmVudCcgaW4gd2luZG93O1xudmFyIGRvY3VtZW50TW9kZSA9IG51bGw7XG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICdkb2N1bWVudE1vZGUnIGluIGRvY3VtZW50KSB7XG4gIGRvY3VtZW50TW9kZSA9IGRvY3VtZW50LmRvY3VtZW50TW9kZTtcbn1cbnZhciBjYW5Vc2VUZXh0SW5wdXRFdmVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnVGV4dEV2ZW50JyBpbiB3aW5kb3cgJiYgIWRvY3VtZW50TW9kZSAmJiAhaXNQcmVzdG8oKTtcbnZhciB1c2VGYWxsYmFja0NvbXBvc2l0aW9uRGF0YSA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAoIWNhblVzZUNvbXBvc2l0aW9uRXZlbnQgfHwgZG9jdW1lbnRNb2RlICYmIGRvY3VtZW50TW9kZSA+IDggJiYgZG9jdW1lbnRNb2RlIDw9IDExKTtcbmZ1bmN0aW9uIGlzUHJlc3RvKCkge1xuICB2YXIgb3BlcmEgPSB3aW5kb3cub3BlcmE7XG4gIHJldHVybiB0eXBlb2Ygb3BlcmEgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvcGVyYS52ZXJzaW9uID09PSAnZnVuY3Rpb24nICYmIHBhcnNlSW50KG9wZXJhLnZlcnNpb24oKSwgMTApIDw9IDEyO1xufVxudmFyIFNQQUNFQkFSX0NPREUgPSAzMjtcbnZhciBTUEFDRUJBUl9DSEFSID0gU3RyaW5nLmZyb21DaGFyQ29kZShTUEFDRUJBUl9DT0RFKTtcbnZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbnZhciBldmVudFR5cGVzID0ge1xuICBiZWZvcmVJbnB1dDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7b25CZWZvcmVJbnB1dDogbnVsbH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkJlZm9yZUlucHV0Q2FwdHVyZTogbnVsbH0pXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFt0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kLCB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzLCB0b3BMZXZlbFR5cGVzLnRvcFRleHRJbnB1dCwgdG9wTGV2ZWxUeXBlcy50b3BQYXN0ZV1cbiAgfSxcbiAgY29tcG9zaXRpb25FbmQ6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ29tcG9zaXRpb25FbmQ6IG51bGx9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Db21wb3NpdGlvbkVuZENhcHR1cmU6IG51bGx9KVxuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BCbHVyLCB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kLCB0b3BMZXZlbFR5cGVzLnRvcEtleURvd24sIHRvcExldmVsVHlwZXMudG9wS2V5UHJlc3MsIHRvcExldmVsVHlwZXMudG9wS2V5VXAsIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duXVxuICB9LFxuICBjb21wb3NpdGlvblN0YXJ0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNvbXBvc2l0aW9uU3RhcnQ6IG51bGx9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Db21wb3NpdGlvblN0YXJ0Q2FwdHVyZTogbnVsbH0pXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFt0b3BMZXZlbFR5cGVzLnRvcEJsdXIsIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25TdGFydCwgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duLCB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzLCB0b3BMZXZlbFR5cGVzLnRvcEtleVVwLCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93bl1cbiAgfSxcbiAgY29tcG9zaXRpb25VcGRhdGU6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ29tcG9zaXRpb25VcGRhdGU6IG51bGx9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Db21wb3NpdGlvblVwZGF0ZUNhcHR1cmU6IG51bGx9KVxuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BCbHVyLCB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uVXBkYXRlLCB0b3BMZXZlbFR5cGVzLnRvcEtleURvd24sIHRvcExldmVsVHlwZXMudG9wS2V5UHJlc3MsIHRvcExldmVsVHlwZXMudG9wS2V5VXAsIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duXVxuICB9XG59O1xudmFyIGhhc1NwYWNlS2V5cHJlc3MgPSBmYWxzZTtcbmZ1bmN0aW9uIGlzS2V5cHJlc3NDb21tYW5kKG5hdGl2ZUV2ZW50KSB7XG4gIHJldHVybiAobmF0aXZlRXZlbnQuY3RybEtleSB8fCBuYXRpdmVFdmVudC5hbHRLZXkgfHwgbmF0aXZlRXZlbnQubWV0YUtleSkgJiYgIShuYXRpdmVFdmVudC5jdHJsS2V5ICYmIG5hdGl2ZUV2ZW50LmFsdEtleSk7XG59XG5mdW5jdGlvbiBnZXRDb21wb3NpdGlvbkV2ZW50VHlwZSh0b3BMZXZlbFR5cGUpIHtcbiAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25TdGFydDpcbiAgICAgIHJldHVybiBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQ7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kOlxuICAgICAgcmV0dXJuIGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQ7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uVXBkYXRlOlxuICAgICAgcmV0dXJuIGV2ZW50VHlwZXMuY29tcG9zaXRpb25VcGRhdGU7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duICYmIG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IFNUQVJUX0tFWUNPREU7XG59XG5mdW5jdGlvbiBpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlVcDpcbiAgICAgIHJldHVybiBFTkRfS0VZQ09ERVMuaW5kZXhPZihuYXRpdmVFdmVudC5rZXlDb2RlKSAhPT0gLTE7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleURvd246XG4gICAgICByZXR1cm4gbmF0aXZlRXZlbnQua2V5Q29kZSAhPT0gU1RBUlRfS0VZQ09ERTtcbiAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wS2V5UHJlc3M6XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93bjpcbiAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQmx1cjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgdmFyIGRldGFpbCA9IG5hdGl2ZUV2ZW50LmRldGFpbDtcbiAgaWYgKHR5cGVvZiBkZXRhaWwgPT09ICdvYmplY3QnICYmICdkYXRhJyBpbiBkZXRhaWwpIHtcbiAgICByZXR1cm4gZGV0YWlsLmRhdGE7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG52YXIgY3VycmVudENvbXBvc2l0aW9uID0gbnVsbDtcbmZ1bmN0aW9uIGV4dHJhY3RDb21wb3NpdGlvbkV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHZhciBldmVudFR5cGU7XG4gIHZhciBmYWxsYmFja0RhdGE7XG4gIGlmIChjYW5Vc2VDb21wb3NpdGlvbkV2ZW50KSB7XG4gICAgZXZlbnRUeXBlID0gZ2V0Q29tcG9zaXRpb25FdmVudFR5cGUodG9wTGV2ZWxUeXBlKTtcbiAgfSBlbHNlIGlmICghY3VycmVudENvbXBvc2l0aW9uKSB7XG4gICAgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpKSB7XG4gICAgICBldmVudFR5cGUgPSBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSkge1xuICAgIGV2ZW50VHlwZSA9IGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQ7XG4gIH1cbiAgaWYgKCFldmVudFR5cGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEpIHtcbiAgICBpZiAoIWN1cnJlbnRDb21wb3NpdGlvbiAmJiBldmVudFR5cGUgPT09IGV2ZW50VHlwZXMuY29tcG9zaXRpb25TdGFydCkge1xuICAgICAgY3VycmVudENvbXBvc2l0aW9uID0gRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlLmdldFBvb2xlZChuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgPT09IGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQpIHtcbiAgICAgIGlmIChjdXJyZW50Q29tcG9zaXRpb24pIHtcbiAgICAgICAgZmFsbGJhY2tEYXRhID0gY3VycmVudENvbXBvc2l0aW9uLmdldERhdGEoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdmFyIGV2ZW50ID0gU3ludGhldGljQ29tcG9zaXRpb25FdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICBpZiAoZmFsbGJhY2tEYXRhKSB7XG4gICAgZXZlbnQuZGF0YSA9IGZhbGxiYWNrRGF0YTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3VzdG9tRGF0YSA9IGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgIGlmIChjdXN0b21EYXRhICE9PSBudWxsKSB7XG4gICAgICBldmVudC5kYXRhID0gY3VzdG9tRGF0YTtcbiAgICB9XG4gIH1cbiAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgcmV0dXJuIGV2ZW50O1xufVxuZnVuY3Rpb24gZ2V0TmF0aXZlQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kOlxuICAgICAgcmV0dXJuIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlQcmVzczpcbiAgICAgIHZhciB3aGljaCA9IG5hdGl2ZUV2ZW50LndoaWNoO1xuICAgICAgaWYgKHdoaWNoICE9PSBTUEFDRUJBUl9DT0RFKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaGFzU3BhY2VLZXlwcmVzcyA9IHRydWU7XG4gICAgICByZXR1cm4gU1BBQ0VCQVJfQ0hBUjtcbiAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wVGV4dElucHV0OlxuICAgICAgdmFyIGNoYXJzID0gbmF0aXZlRXZlbnQuZGF0YTtcbiAgICAgIGlmIChjaGFycyA9PT0gU1BBQ0VCQVJfQ0hBUiAmJiBoYXNTcGFjZUtleXByZXNzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoYXJzO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgaWYgKGN1cnJlbnRDb21wb3NpdGlvbikge1xuICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25FbmQgfHwgaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpKSB7XG4gICAgICB2YXIgY2hhcnMgPSBjdXJyZW50Q29tcG9zaXRpb24uZ2V0RGF0YSgpO1xuICAgICAgRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlLnJlbGVhc2UoY3VycmVudENvbXBvc2l0aW9uKTtcbiAgICAgIGN1cnJlbnRDb21wb3NpdGlvbiA9IG51bGw7XG4gICAgICByZXR1cm4gY2hhcnM7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFBhc3RlOlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzOlxuICAgICAgaWYgKG5hdGl2ZUV2ZW50LndoaWNoICYmICFpc0tleXByZXNzQ29tbWFuZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUobmF0aXZlRXZlbnQud2hpY2gpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kOlxuICAgICAgcmV0dXJuIHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhID8gbnVsbCA6IG5hdGl2ZUV2ZW50LmRhdGE7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5mdW5jdGlvbiBleHRyYWN0QmVmb3JlSW5wdXRFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICB2YXIgY2hhcnM7XG4gIGlmIChjYW5Vc2VUZXh0SW5wdXRFdmVudCkge1xuICAgIGNoYXJzID0gZ2V0TmF0aXZlQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KTtcbiAgfSBlbHNlIHtcbiAgICBjaGFycyA9IGdldEZhbGxiYWNrQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KTtcbiAgfVxuICBpZiAoIWNoYXJzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGV2ZW50ID0gU3ludGhldGljSW5wdXRFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5iZWZvcmVJbnB1dCwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgZXZlbnQuZGF0YSA9IGNoYXJzO1xuICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICByZXR1cm4gZXZlbnQ7XG59XG52YXIgQmVmb3JlSW5wdXRFdmVudFBsdWdpbiA9IHtcbiAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyxcbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICByZXR1cm4gW2V4dHJhY3RDb21wb3NpdGlvbkV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSwgZXh0cmFjdEJlZm9yZUlucHV0RXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpXTtcbiAgfVxufTtcbm1vZHVsZS5leHBvcnRzID0gQmVmb3JlSW5wdXRFdmVudFBsdWdpbjtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgRXZlbnRDb25zdGFudHMgPSByZXF1aXJlKCcuL0V2ZW50Q29uc3RhbnRzJyk7XG4gIHZhciBFdmVudFBsdWdpbkh1YiA9IHJlcXVpcmUoJy4vRXZlbnRQbHVnaW5IdWInKTtcbiAgdmFyIEV2ZW50UHJvcGFnYXRvcnMgPSByZXF1aXJlKCcuL0V2ZW50UHJvcGFnYXRvcnMnKTtcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRUcmVlJyk7XG4gIHZhciBSZWFjdFVwZGF0ZXMgPSByZXF1aXJlKCcuL1JlYWN0VXBkYXRlcycpO1xuICB2YXIgU3ludGhldGljRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY0V2ZW50Jyk7XG4gIHZhciBnZXRFdmVudFRhcmdldCA9IHJlcXVpcmUoJy4vZ2V0RXZlbnRUYXJnZXQnKTtcbiAgdmFyIGlzRXZlbnRTdXBwb3J0ZWQgPSByZXF1aXJlKCcuL2lzRXZlbnRTdXBwb3J0ZWQnKTtcbiAgdmFyIGlzVGV4dElucHV0RWxlbWVudCA9IHJlcXVpcmUoJy4vaXNUZXh0SW5wdXRFbGVtZW50Jyk7XG4gIHZhciBrZXlPZiA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU9mJyk7XG4gIHZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbiAgdmFyIGV2ZW50VHlwZXMgPSB7Y2hhbmdlOiB7XG4gICAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25DaGFuZ2U6IG51bGx9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkNoYW5nZUNhcHR1cmU6IG51bGx9KVxuICAgICAgfSxcbiAgICAgIGRlcGVuZGVuY2llczogW3RvcExldmVsVHlwZXMudG9wQmx1ciwgdG9wTGV2ZWxUeXBlcy50b3BDaGFuZ2UsIHRvcExldmVsVHlwZXMudG9wQ2xpY2ssIHRvcExldmVsVHlwZXMudG9wRm9jdXMsIHRvcExldmVsVHlwZXMudG9wSW5wdXQsIHRvcExldmVsVHlwZXMudG9wS2V5RG93biwgdG9wTGV2ZWxUeXBlcy50b3BLZXlVcCwgdG9wTGV2ZWxUeXBlcy50b3BTZWxlY3Rpb25DaGFuZ2VdXG4gICAgfX07XG4gIHZhciBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgdmFyIGFjdGl2ZUVsZW1lbnRJbnN0ID0gbnVsbDtcbiAgdmFyIGFjdGl2ZUVsZW1lbnRWYWx1ZSA9IG51bGw7XG4gIHZhciBhY3RpdmVFbGVtZW50VmFsdWVQcm9wID0gbnVsbDtcbiAgZnVuY3Rpb24gc2hvdWxkVXNlQ2hhbmdlRXZlbnQoZWxlbSkge1xuICAgIHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBub2RlTmFtZSA9PT0gJ3NlbGVjdCcgfHwgbm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgZWxlbS50eXBlID09PSAnZmlsZSc7XG4gIH1cbiAgdmFyIGRvZXNDaGFuZ2VFdmVudEJ1YmJsZSA9IGZhbHNlO1xuICBpZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgZG9lc0NoYW5nZUV2ZW50QnViYmxlID0gaXNFdmVudFN1cHBvcnRlZCgnY2hhbmdlJykgJiYgKCEoJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQpIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDgpO1xuICB9XG4gIGZ1bmN0aW9uIG1hbnVhbERpc3BhdGNoQ2hhbmdlRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgICB2YXIgZXZlbnQgPSBTeW50aGV0aWNFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5jaGFuZ2UsIGFjdGl2ZUVsZW1lbnRJbnN0LCBuYXRpdmVFdmVudCwgZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpKTtcbiAgICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICAgIFJlYWN0VXBkYXRlcy5iYXRjaGVkVXBkYXRlcyhydW5FdmVudEluQmF0Y2gsIGV2ZW50KTtcbiAgfVxuICBmdW5jdGlvbiBydW5FdmVudEluQmF0Y2goZXZlbnQpIHtcbiAgICBFdmVudFBsdWdpbkh1Yi5lbnF1ZXVlRXZlbnRzKGV2ZW50KTtcbiAgICBFdmVudFBsdWdpbkh1Yi5wcm9jZXNzRXZlbnRRdWV1ZShmYWxzZSk7XG4gIH1cbiAgZnVuY3Rpb24gc3RhcnRXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4KHRhcmdldCwgdGFyZ2V0SW5zdCkge1xuICAgIGFjdGl2ZUVsZW1lbnQgPSB0YXJnZXQ7XG4gICAgYWN0aXZlRWxlbWVudEluc3QgPSB0YXJnZXRJbnN0O1xuICAgIGFjdGl2ZUVsZW1lbnQuYXR0YWNoRXZlbnQoJ29uY2hhbmdlJywgbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudCk7XG4gIH1cbiAgZnVuY3Rpb24gc3RvcFdhdGNoaW5nRm9yQ2hhbmdlRXZlbnRJRTgoKSB7XG4gICAgaWYgKCFhY3RpdmVFbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFjdGl2ZUVsZW1lbnQuZGV0YWNoRXZlbnQoJ29uY2hhbmdlJywgbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudCk7XG4gICAgYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gICAgYWN0aXZlRWxlbWVudEluc3QgPSBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpIHtcbiAgICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcENoYW5nZSkge1xuICAgICAgcmV0dXJuIHRhcmdldEluc3Q7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZUV2ZW50c0ZvckNoYW5nZUV2ZW50SUU4KHRvcExldmVsVHlwZSwgdGFyZ2V0LCB0YXJnZXRJbnN0KSB7XG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BGb2N1cykge1xuICAgICAgc3RvcFdhdGNoaW5nRm9yQ2hhbmdlRXZlbnRJRTgoKTtcbiAgICAgIHN0YXJ0V2F0Y2hpbmdGb3JDaGFuZ2VFdmVudElFOCh0YXJnZXQsIHRhcmdldEluc3QpO1xuICAgIH0gZWxzZSBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcEJsdXIpIHtcbiAgICAgIHN0b3BXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4KCk7XG4gICAgfVxuICB9XG4gIHZhciBpc0lucHV0RXZlbnRTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIGlzSW5wdXRFdmVudFN1cHBvcnRlZCA9IGlzRXZlbnRTdXBwb3J0ZWQoJ2lucHV0JykgJiYgKCEoJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQpIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDExKTtcbiAgfVxuICB2YXIgbmV3VmFsdWVQcm9wID0ge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYWN0aXZlRWxlbWVudFZhbHVlUHJvcC5nZXQuY2FsbCh0aGlzKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsKSB7XG4gICAgICBhY3RpdmVFbGVtZW50VmFsdWUgPSAnJyArIHZhbDtcbiAgICAgIGFjdGl2ZUVsZW1lbnRWYWx1ZVByb3Auc2V0LmNhbGwodGhpcywgdmFsKTtcbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIHN0YXJ0V2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSh0YXJnZXQsIHRhcmdldEluc3QpIHtcbiAgICBhY3RpdmVFbGVtZW50ID0gdGFyZ2V0O1xuICAgIGFjdGl2ZUVsZW1lbnRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgICBhY3RpdmVFbGVtZW50VmFsdWUgPSB0YXJnZXQudmFsdWU7XG4gICAgYWN0aXZlRWxlbWVudFZhbHVlUHJvcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgJ3ZhbHVlJyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFjdGl2ZUVsZW1lbnQsICd2YWx1ZScsIG5ld1ZhbHVlUHJvcCk7XG4gICAgaWYgKGFjdGl2ZUVsZW1lbnQuYXR0YWNoRXZlbnQpIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQuYXR0YWNoRXZlbnQoJ29ucHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSwgZmFsc2UpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpIHtcbiAgICBpZiAoIWFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVsZXRlIGFjdGl2ZUVsZW1lbnQudmFsdWU7XG4gICAgaWYgKGFjdGl2ZUVsZW1lbnQuZGV0YWNoRXZlbnQpIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQuZGV0YWNoRXZlbnQoJ29ucHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSwgZmFsc2UpO1xuICAgIH1cbiAgICBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGw7XG4gICAgYWN0aXZlRWxlbWVudFZhbHVlID0gbnVsbDtcbiAgICBhY3RpdmVFbGVtZW50VmFsdWVQcm9wID0gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVQcm9wZXJ0eUNoYW5nZShuYXRpdmVFdmVudCkge1xuICAgIGlmIChuYXRpdmVFdmVudC5wcm9wZXJ0eU5hbWUgIT09ICd2YWx1ZScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHZhbHVlID0gbmF0aXZlRXZlbnQuc3JjRWxlbWVudC52YWx1ZTtcbiAgICBpZiAodmFsdWUgPT09IGFjdGl2ZUVsZW1lbnRWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhY3RpdmVFbGVtZW50VmFsdWUgPSB2YWx1ZTtcbiAgICBtYW51YWxEaXNwYXRjaENoYW5nZUV2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgfVxuICBmdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpIHtcbiAgICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcElucHV0KSB7XG4gICAgICByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudElFKHRvcExldmVsVHlwZSwgdGFyZ2V0LCB0YXJnZXRJbnN0KSB7XG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BGb2N1cykge1xuICAgICAgc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKTtcbiAgICAgIHN0YXJ0V2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSh0YXJnZXQsIHRhcmdldEluc3QpO1xuICAgIH0gZWxzZSBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcEJsdXIpIHtcbiAgICAgIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50SUUodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0KSB7XG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BTZWxlY3Rpb25DaGFuZ2UgfHwgdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcEtleVVwIHx8IHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duKSB7XG4gICAgICBpZiAoYWN0aXZlRWxlbWVudCAmJiBhY3RpdmVFbGVtZW50LnZhbHVlICE9PSBhY3RpdmVFbGVtZW50VmFsdWUpIHtcbiAgICAgICAgYWN0aXZlRWxlbWVudFZhbHVlID0gYWN0aXZlRWxlbWVudC52YWx1ZTtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnRJbnN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzaG91bGRVc2VDbGlja0V2ZW50KGVsZW0pIHtcbiAgICByZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcgJiYgKGVsZW0udHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBlbGVtLnR5cGUgPT09ICdyYWRpbycpO1xuICB9XG4gIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JDbGlja0V2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCkge1xuICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wQ2xpY2spIHtcbiAgICAgIHJldHVybiB0YXJnZXRJbnN0O1xuICAgIH1cbiAgfVxuICB2YXIgQ2hhbmdlRXZlbnRQbHVnaW4gPSB7XG4gICAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyxcbiAgICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgdmFyIHRhcmdldE5vZGUgPSB0YXJnZXRJbnN0ID8gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UodGFyZ2V0SW5zdCkgOiB3aW5kb3c7XG4gICAgICB2YXIgZ2V0VGFyZ2V0SW5zdEZ1bmMsXG4gICAgICAgICAgaGFuZGxlRXZlbnRGdW5jO1xuICAgICAgaWYgKHNob3VsZFVzZUNoYW5nZUV2ZW50KHRhcmdldE5vZGUpKSB7XG4gICAgICAgIGlmIChkb2VzQ2hhbmdlRXZlbnRCdWJibGUpIHtcbiAgICAgICAgICBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVFdmVudEZ1bmMgPSBoYW5kbGVFdmVudHNGb3JDaGFuZ2VFdmVudElFODtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc1RleHRJbnB1dEVsZW1lbnQodGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgaWYgKGlzSW5wdXRFdmVudFN1cHBvcnRlZCkge1xuICAgICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRFdmVudElFO1xuICAgICAgICAgIGhhbmRsZUV2ZW50RnVuYyA9IGhhbmRsZUV2ZW50c0ZvcklucHV0RXZlbnRJRTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzaG91bGRVc2VDbGlja0V2ZW50KHRhcmdldE5vZGUpKSB7XG4gICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvckNsaWNrRXZlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoZ2V0VGFyZ2V0SW5zdEZ1bmMpIHtcbiAgICAgICAgdmFyIGluc3QgPSBnZXRUYXJnZXRJbnN0RnVuYyh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpO1xuICAgICAgICBpZiAoaW5zdCkge1xuICAgICAgICAgIHZhciBldmVudCA9IFN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChldmVudFR5cGVzLmNoYW5nZSwgaW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICAgICAgICBldmVudC50eXBlID0gJ2NoYW5nZSc7XG4gICAgICAgICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChoYW5kbGVFdmVudEZ1bmMpIHtcbiAgICAgICAgaGFuZGxlRXZlbnRGdW5jKHRvcExldmVsVHlwZSwgdGFyZ2V0Tm9kZSwgdGFyZ2V0SW5zdCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IENoYW5nZUV2ZW50UGx1Z2luO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBEZWZhdWx0RXZlbnRQbHVnaW5PcmRlclxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcblxuLyoqXG4gKiBNb2R1bGUgdGhhdCBpcyBpbmplY3RhYmxlIGludG8gYEV2ZW50UGx1Z2luSHViYCwgdGhhdCBzcGVjaWZpZXMgYVxuICogZGV0ZXJtaW5pc3RpYyBvcmRlcmluZyBvZiBgRXZlbnRQbHVnaW5gcy4gQSBjb252ZW5pZW50IHdheSB0byByZWFzb24gYWJvdXRcbiAqIHBsdWdpbnMsIHdpdGhvdXQgaGF2aW5nIHRvIHBhY2thZ2UgZXZlcnkgb25lIG9mIHRoZW0uIFRoaXMgaXMgYmV0dGVyIHRoYW5cbiAqIGhhdmluZyBwbHVnaW5zIGJlIG9yZGVyZWQgaW4gdGhlIHNhbWUgb3JkZXIgdGhhdCB0aGV5IGFyZSBpbmplY3RlZCBiZWNhdXNlXG4gKiB0aGF0IG9yZGVyaW5nIHdvdWxkIGJlIGluZmx1ZW5jZWQgYnkgdGhlIHBhY2thZ2luZyBvcmRlci5cbiAqIGBSZXNwb25kZXJFdmVudFBsdWdpbmAgbXVzdCBvY2N1ciBiZWZvcmUgYFNpbXBsZUV2ZW50UGx1Z2luYCBzbyB0aGF0XG4gKiBwcmV2ZW50aW5nIGRlZmF1bHQgb24gZXZlbnRzIGlzIGNvbnZlbmllbnQgaW4gYFNpbXBsZUV2ZW50UGx1Z2luYCBoYW5kbGVycy5cbiAqL1xudmFyIERlZmF1bHRFdmVudFBsdWdpbk9yZGVyID0gW2tleU9mKHsgUmVzcG9uZGVyRXZlbnRQbHVnaW46IG51bGwgfSksIGtleU9mKHsgU2ltcGxlRXZlbnRQbHVnaW46IG51bGwgfSksIGtleU9mKHsgVGFwRXZlbnRQbHVnaW46IG51bGwgfSksIGtleU9mKHsgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luOiBudWxsIH0pLCBrZXlPZih7IENoYW5nZUV2ZW50UGx1Z2luOiBudWxsIH0pLCBrZXlPZih7IFNlbGVjdEV2ZW50UGx1Z2luOiBudWxsIH0pLCBrZXlPZih7IEJlZm9yZUlucHV0RXZlbnRQbHVnaW46IG51bGwgfSldO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlZmF1bHRFdmVudFBsdWdpbk9yZGVyOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xudmFyIEV2ZW50UHJvcGFnYXRvcnMgPSByZXF1aXJlKCcuL0V2ZW50UHJvcGFnYXRvcnMnKTtcbnZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50VHJlZScpO1xudmFyIFN5bnRoZXRpY01vdXNlRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY01vdXNlRXZlbnQnKTtcbnZhciBrZXlPZiA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU9mJyk7XG52YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG52YXIgZXZlbnRUeXBlcyA9IHtcbiAgbW91c2VFbnRlcjoge1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6IGtleU9mKHtvbk1vdXNlRW50ZXI6IG51bGx9KSxcbiAgICBkZXBlbmRlbmNpZXM6IFt0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3V0LCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3Zlcl1cbiAgfSxcbiAgbW91c2VMZWF2ZToge1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6IGtleU9mKHtvbk1vdXNlTGVhdmU6IG51bGx9KSxcbiAgICBkZXBlbmRlbmNpZXM6IFt0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3V0LCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3Zlcl1cbiAgfVxufTtcbnZhciBFbnRlckxlYXZlRXZlbnRQbHVnaW4gPSB7XG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU92ZXIgJiYgKG5hdGl2ZUV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgbmF0aXZlRXZlbnQuZnJvbUVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRvcExldmVsVHlwZSAhPT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU91dCAmJiB0b3BMZXZlbFR5cGUgIT09IHRvcExldmVsVHlwZXMudG9wTW91c2VPdmVyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHdpbjtcbiAgICBpZiAobmF0aXZlRXZlbnRUYXJnZXQud2luZG93ID09PSBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgd2luID0gbmF0aXZlRXZlbnRUYXJnZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBkb2MgPSBuYXRpdmVFdmVudFRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgaWYgKGRvYykge1xuICAgICAgICB3aW4gPSBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbiA9IHdpbmRvdztcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGZyb207XG4gICAgdmFyIHRvO1xuICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wTW91c2VPdXQpIHtcbiAgICAgIGZyb20gPSB0YXJnZXRJbnN0O1xuICAgICAgdmFyIHJlbGF0ZWQgPSBuYXRpdmVFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LnRvRWxlbWVudDtcbiAgICAgIHRvID0gcmVsYXRlZCA/IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShyZWxhdGVkKSA6IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyb20gPSBudWxsO1xuICAgICAgdG8gPSB0YXJnZXRJbnN0O1xuICAgIH1cbiAgICBpZiAoZnJvbSA9PT0gdG8pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgZnJvbU5vZGUgPSBmcm9tID09IG51bGwgPyB3aW4gOiBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZShmcm9tKTtcbiAgICB2YXIgdG9Ob2RlID0gdG8gPT0gbnVsbCA/IHdpbiA6IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKHRvKTtcbiAgICB2YXIgbGVhdmUgPSBTeW50aGV0aWNNb3VzZUV2ZW50LmdldFBvb2xlZChldmVudFR5cGVzLm1vdXNlTGVhdmUsIGZyb20sIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgbGVhdmUudHlwZSA9ICdtb3VzZWxlYXZlJztcbiAgICBsZWF2ZS50YXJnZXQgPSBmcm9tTm9kZTtcbiAgICBsZWF2ZS5yZWxhdGVkVGFyZ2V0ID0gdG9Ob2RlO1xuICAgIHZhciBlbnRlciA9IFN5bnRoZXRpY01vdXNlRXZlbnQuZ2V0UG9vbGVkKGV2ZW50VHlwZXMubW91c2VFbnRlciwgdG8sIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgZW50ZXIudHlwZSA9ICdtb3VzZWVudGVyJztcbiAgICBlbnRlci50YXJnZXQgPSB0b05vZGU7XG4gICAgZW50ZXIucmVsYXRlZFRhcmdldCA9IGZyb21Ob2RlO1xuICAgIEV2ZW50UHJvcGFnYXRvcnMuYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzKGxlYXZlLCBlbnRlciwgZnJvbSwgdG8pO1xuICAgIHJldHVybiBbbGVhdmUsIGVudGVyXTtcbiAgfVxufTtcbm1vZHVsZS5leHBvcnRzID0gRW50ZXJMZWF2ZUV2ZW50UGx1Z2luO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgRE9NUHJvcGVydHkgPSByZXF1aXJlKCcuL0RPTVByb3BlcnR5Jyk7XG52YXIgTVVTVF9VU0VfUFJPUEVSVFkgPSBET01Qcm9wZXJ0eS5pbmplY3Rpb24uTVVTVF9VU0VfUFJPUEVSVFk7XG52YXIgSEFTX0JPT0xFQU5fVkFMVUUgPSBET01Qcm9wZXJ0eS5pbmplY3Rpb24uSEFTX0JPT0xFQU5fVkFMVUU7XG52YXIgSEFTX1NJREVfRUZGRUNUUyA9IERPTVByb3BlcnR5LmluamVjdGlvbi5IQVNfU0lERV9FRkZFQ1RTO1xudmFyIEhBU19OVU1FUklDX1ZBTFVFID0gRE9NUHJvcGVydHkuaW5qZWN0aW9uLkhBU19OVU1FUklDX1ZBTFVFO1xudmFyIEhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFID0gRE9NUHJvcGVydHkuaW5qZWN0aW9uLkhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFO1xudmFyIEhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUUgPSBET01Qcm9wZXJ0eS5pbmplY3Rpb24uSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRTtcbnZhciBIVE1MRE9NUHJvcGVydHlDb25maWcgPSB7XG4gIGlzQ3VzdG9tQXR0cmlidXRlOiBSZWdFeHAucHJvdG90eXBlLnRlc3QuYmluZChuZXcgUmVnRXhwKCdeKGRhdGF8YXJpYSktWycgKyBET01Qcm9wZXJ0eS5BVFRSSUJVVEVfTkFNRV9DSEFSICsgJ10qJCcpKSxcbiAgUHJvcGVydGllczoge1xuICAgIGFjY2VwdDogMCxcbiAgICBhY2NlcHRDaGFyc2V0OiAwLFxuICAgIGFjY2Vzc0tleTogMCxcbiAgICBhY3Rpb246IDAsXG4gICAgYWxsb3dGdWxsU2NyZWVuOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBhbGxvd1RyYW5zcGFyZW5jeTogMCxcbiAgICBhbHQ6IDAsXG4gICAgYXN5bmM6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGF1dG9Db21wbGV0ZTogMCxcbiAgICBhdXRvUGxheTogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgY2FwdHVyZTogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgY2VsbFBhZGRpbmc6IDAsXG4gICAgY2VsbFNwYWNpbmc6IDAsXG4gICAgY2hhclNldDogMCxcbiAgICBjaGFsbGVuZ2U6IDAsXG4gICAgY2hlY2tlZDogTVVTVF9VU0VfUFJPUEVSVFkgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBjaXRlOiAwLFxuICAgIGNsYXNzSUQ6IDAsXG4gICAgY2xhc3NOYW1lOiAwLFxuICAgIGNvbHM6IEhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFLFxuICAgIGNvbFNwYW46IDAsXG4gICAgY29udGVudDogMCxcbiAgICBjb250ZW50RWRpdGFibGU6IDAsXG4gICAgY29udGV4dE1lbnU6IDAsXG4gICAgY29udHJvbHM6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGNvb3JkczogMCxcbiAgICBjcm9zc09yaWdpbjogMCxcbiAgICBkYXRhOiAwLFxuICAgIGRhdGVUaW1lOiAwLFxuICAgICdkZWZhdWx0JzogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgZGVmZXI6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGRpcjogMCxcbiAgICBkaXNhYmxlZDogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgZG93bmxvYWQ6IEhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUUsXG4gICAgZHJhZ2dhYmxlOiAwLFxuICAgIGVuY1R5cGU6IDAsXG4gICAgZm9ybTogMCxcbiAgICBmb3JtQWN0aW9uOiAwLFxuICAgIGZvcm1FbmNUeXBlOiAwLFxuICAgIGZvcm1NZXRob2Q6IDAsXG4gICAgZm9ybU5vVmFsaWRhdGU6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGZvcm1UYXJnZXQ6IDAsXG4gICAgZnJhbWVCb3JkZXI6IDAsXG4gICAgaGVhZGVyczogMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgaGlkZGVuOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBoaWdoOiAwLFxuICAgIGhyZWY6IDAsXG4gICAgaHJlZkxhbmc6IDAsXG4gICAgaHRtbEZvcjogMCxcbiAgICBodHRwRXF1aXY6IDAsXG4gICAgaWNvbjogMCxcbiAgICBpZDogMCxcbiAgICBpbnB1dE1vZGU6IDAsXG4gICAgaW50ZWdyaXR5OiAwLFxuICAgIGlzOiAwLFxuICAgIGtleVBhcmFtczogMCxcbiAgICBrZXlUeXBlOiAwLFxuICAgIGtpbmQ6IDAsXG4gICAgbGFiZWw6IDAsXG4gICAgbGFuZzogMCxcbiAgICBsaXN0OiAwLFxuICAgIGxvb3A6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGxvdzogMCxcbiAgICBtYW5pZmVzdDogMCxcbiAgICBtYXJnaW5IZWlnaHQ6IDAsXG4gICAgbWFyZ2luV2lkdGg6IDAsXG4gICAgbWF4OiAwLFxuICAgIG1heExlbmd0aDogMCxcbiAgICBtZWRpYTogMCxcbiAgICBtZWRpYUdyb3VwOiAwLFxuICAgIG1ldGhvZDogMCxcbiAgICBtaW46IDAsXG4gICAgbWluTGVuZ3RoOiAwLFxuICAgIG11bHRpcGxlOiBNVVNUX1VTRV9QUk9QRVJUWSB8IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIG11dGVkOiBNVVNUX1VTRV9QUk9QRVJUWSB8IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIG5hbWU6IDAsXG4gICAgbm9uY2U6IDAsXG4gICAgbm9WYWxpZGF0ZTogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgb3BlbjogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgb3B0aW11bTogMCxcbiAgICBwYXR0ZXJuOiAwLFxuICAgIHBsYWNlaG9sZGVyOiAwLFxuICAgIHBvc3RlcjogMCxcbiAgICBwcmVsb2FkOiAwLFxuICAgIHByb2ZpbGU6IDAsXG4gICAgcmFkaW9Hcm91cDogMCxcbiAgICByZWFkT25seTogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgcmVsOiAwLFxuICAgIHJlcXVpcmVkOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICByZXZlcnNlZDogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgcm9sZTogMCxcbiAgICByb3dzOiBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSxcbiAgICByb3dTcGFuOiBIQVNfTlVNRVJJQ19WQUxVRSxcbiAgICBzYW5kYm94OiAwLFxuICAgIHNjb3BlOiAwLFxuICAgIHNjb3BlZDogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgc2Nyb2xsaW5nOiAwLFxuICAgIHNlYW1sZXNzOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBzZWxlY3RlZDogTVVTVF9VU0VfUFJPUEVSVFkgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBzaGFwZTogMCxcbiAgICBzaXplOiBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSxcbiAgICBzaXplczogMCxcbiAgICBzcGFuOiBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSxcbiAgICBzcGVsbENoZWNrOiAwLFxuICAgIHNyYzogMCxcbiAgICBzcmNEb2M6IDAsXG4gICAgc3JjTGFuZzogMCxcbiAgICBzcmNTZXQ6IDAsXG4gICAgc3RhcnQ6IEhBU19OVU1FUklDX1ZBTFVFLFxuICAgIHN0ZXA6IDAsXG4gICAgc3R5bGU6IDAsXG4gICAgc3VtbWFyeTogMCxcbiAgICB0YWJJbmRleDogMCxcbiAgICB0YXJnZXQ6IDAsXG4gICAgdGl0bGU6IDAsXG4gICAgdHlwZTogMCxcbiAgICB1c2VNYXA6IDAsXG4gICAgdmFsdWU6IE1VU1RfVVNFX1BST1BFUlRZIHwgSEFTX1NJREVfRUZGRUNUUyxcbiAgICB3aWR0aDogMCxcbiAgICB3bW9kZTogMCxcbiAgICB3cmFwOiAwLFxuICAgIGFib3V0OiAwLFxuICAgIGRhdGF0eXBlOiAwLFxuICAgIGlubGlzdDogMCxcbiAgICBwcmVmaXg6IDAsXG4gICAgcHJvcGVydHk6IDAsXG4gICAgcmVzb3VyY2U6IDAsXG4gICAgJ3R5cGVvZic6IDAsXG4gICAgdm9jYWI6IDAsXG4gICAgYXV0b0NhcGl0YWxpemU6IDAsXG4gICAgYXV0b0NvcnJlY3Q6IDAsXG4gICAgYXV0b1NhdmU6IDAsXG4gICAgY29sb3I6IDAsXG4gICAgaXRlbVByb3A6IDAsXG4gICAgaXRlbVNjb3BlOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBpdGVtVHlwZTogMCxcbiAgICBpdGVtSUQ6IDAsXG4gICAgaXRlbVJlZjogMCxcbiAgICByZXN1bHRzOiAwLFxuICAgIHNlY3VyaXR5OiAwLFxuICAgIHVuc2VsZWN0YWJsZTogMFxuICB9LFxuICBET01BdHRyaWJ1dGVOYW1lczoge1xuICAgIGFjY2VwdENoYXJzZXQ6ICdhY2NlcHQtY2hhcnNldCcsXG4gICAgY2xhc3NOYW1lOiAnY2xhc3MnLFxuICAgIGh0bWxGb3I6ICdmb3InLFxuICAgIGh0dHBFcXVpdjogJ2h0dHAtZXF1aXYnXG4gIH0sXG4gIERPTVByb3BlcnR5TmFtZXM6IHt9XG59O1xubW9kdWxlLmV4cG9ydHMgPSBIVE1MRE9NUHJvcGVydHlDb25maWc7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50VHJlZScpO1xudmFyIGZvY3VzTm9kZSA9IHJlcXVpcmUoJ2ZianMvbGliL2ZvY3VzTm9kZScpO1xudmFyIEF1dG9Gb2N1c1V0aWxzID0ge2ZvY3VzRE9NQ29tcG9uZW50OiBmdW5jdGlvbigpIHtcbiAgICBmb2N1c05vZGUoUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UodGhpcykpO1xuICB9fTtcbm1vZHVsZS5leHBvcnRzID0gQXV0b0ZvY3VzVXRpbHM7XG4iLCIvKiAqLyBcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG52YXIgX2h5cGhlblBhdHRlcm4gPSAvLSguKS9nO1xuXG4vKipcbiAqIENhbWVsY2FzZXMgYSBoeXBoZW5hdGVkIHN0cmluZywgZm9yIGV4YW1wbGU6XG4gKlxuICogICA+IGNhbWVsaXplKCdiYWNrZ3JvdW5kLWNvbG9yJylcbiAqICAgPCBcImJhY2tncm91bmRDb2xvclwiXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBjYW1lbGl6ZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKF9oeXBoZW5QYXR0ZXJuLCBmdW5jdGlvbiAoXywgY2hhcmFjdGVyKSB7XG4gICAgcmV0dXJuIGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjYW1lbGl6ZTsiLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBjYW1lbGl6ZSA9IHJlcXVpcmUoJy4vY2FtZWxpemUnKTtcbnZhciBtc1BhdHRlcm4gPSAvXi1tcy0vO1xuZnVuY3Rpb24gY2FtZWxpemVTdHlsZU5hbWUoc3RyaW5nKSB7XG4gIHJldHVybiBjYW1lbGl6ZShzdHJpbmcucmVwbGFjZShtc1BhdHRlcm4sICdtcy0nKSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGNhbWVsaXplU3R5bGVOYW1lO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIENTU1Byb3BlcnR5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENTUyBwcm9wZXJ0aWVzIHdoaWNoIGFjY2VwdCBudW1iZXJzIGJ1dCBhcmUgbm90IGluIHVuaXRzIG9mIFwicHhcIi5cbiAqL1xuXG52YXIgaXNVbml0bGVzc051bWJlciA9IHtcbiAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IHRydWUsXG4gIGJvcmRlckltYWdlT3V0c2V0OiB0cnVlLFxuICBib3JkZXJJbWFnZVNsaWNlOiB0cnVlLFxuICBib3JkZXJJbWFnZVdpZHRoOiB0cnVlLFxuICBib3hGbGV4OiB0cnVlLFxuICBib3hGbGV4R3JvdXA6IHRydWUsXG4gIGJveE9yZGluYWxHcm91cDogdHJ1ZSxcbiAgY29sdW1uQ291bnQ6IHRydWUsXG4gIGZsZXg6IHRydWUsXG4gIGZsZXhHcm93OiB0cnVlLFxuICBmbGV4UG9zaXRpdmU6IHRydWUsXG4gIGZsZXhTaHJpbms6IHRydWUsXG4gIGZsZXhOZWdhdGl2ZTogdHJ1ZSxcbiAgZmxleE9yZGVyOiB0cnVlLFxuICBncmlkUm93OiB0cnVlLFxuICBncmlkQ29sdW1uOiB0cnVlLFxuICBmb250V2VpZ2h0OiB0cnVlLFxuICBsaW5lQ2xhbXA6IHRydWUsXG4gIGxpbmVIZWlnaHQ6IHRydWUsXG4gIG9wYWNpdHk6IHRydWUsXG4gIG9yZGVyOiB0cnVlLFxuICBvcnBoYW5zOiB0cnVlLFxuICB0YWJTaXplOiB0cnVlLFxuICB3aWRvd3M6IHRydWUsXG4gIHpJbmRleDogdHJ1ZSxcbiAgem9vbTogdHJ1ZSxcblxuICAvLyBTVkctcmVsYXRlZCBwcm9wZXJ0aWVzXG4gIGZpbGxPcGFjaXR5OiB0cnVlLFxuICBmbG9vZE9wYWNpdHk6IHRydWUsXG4gIHN0b3BPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VEYXNoYXJyYXk6IHRydWUsXG4gIHN0cm9rZURhc2hvZmZzZXQ6IHRydWUsXG4gIHN0cm9rZU1pdGVybGltaXQ6IHRydWUsXG4gIHN0cm9rZU9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZVdpZHRoOiB0cnVlXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggdmVuZG9yLXNwZWNpZmljIHByZWZpeCwgZWc6IFdlYmtpdFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBzdHlsZSBuYW1lLCBlZzogdHJhbnNpdGlvbkR1cmF0aW9uXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHN0eWxlIG5hbWUgcHJlZml4ZWQgd2l0aCBgcHJlZml4YCwgcHJvcGVybHkgY2FtZWxDYXNlZCwgZWc6XG4gKiBXZWJraXRUcmFuc2l0aW9uRHVyYXRpb25cbiAqL1xuZnVuY3Rpb24gcHJlZml4S2V5KHByZWZpeCwga2V5KSB7XG4gIHJldHVybiBwcmVmaXggKyBrZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpO1xufVxuXG4vKipcbiAqIFN1cHBvcnQgc3R5bGUgbmFtZXMgdGhhdCBtYXkgY29tZSBwYXNzZWQgaW4gcHJlZml4ZWQgYnkgYWRkaW5nIHBlcm11dGF0aW9uc1xuICogb2YgdmVuZG9yIHByZWZpeGVzLlxuICovXG52YXIgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdtcycsICdNb3onLCAnTyddO1xuXG4vLyBVc2luZyBPYmplY3Qua2V5cyBoZXJlLCBvciBlbHNlIHRoZSB2YW5pbGxhIGZvci1pbiBsb29wIG1ha2VzIElFOCBnbyBpbnRvIGFuXG4vLyBpbmZpbml0ZSBsb29wLCBiZWNhdXNlIGl0IGl0ZXJhdGVzIG92ZXIgdGhlIG5ld2x5IGFkZGVkIHByb3BzIHRvby5cbk9iamVjdC5rZXlzKGlzVW5pdGxlc3NOdW1iZXIpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgcHJlZml4ZXMuZm9yRWFjaChmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgaXNVbml0bGVzc051bWJlcltwcmVmaXhLZXkocHJlZml4LCBwcm9wKV0gPSBpc1VuaXRsZXNzTnVtYmVyW3Byb3BdO1xuICB9KTtcbn0pO1xuXG4vKipcbiAqIE1vc3Qgc3R5bGUgcHJvcGVydGllcyBjYW4gYmUgdW5zZXQgYnkgZG9pbmcgLnN0eWxlW3Byb3BdID0gJycgYnV0IElFOFxuICogZG9lc24ndCBsaWtlIGRvaW5nIHRoYXQgd2l0aCBzaG9ydGhhbmQgcHJvcGVydGllcyBzbyBmb3IgdGhlIHByb3BlcnRpZXMgdGhhdFxuICogSUU4IGJyZWFrcyBvbiwgd2hpY2ggYXJlIGxpc3RlZCBoZXJlLCB3ZSBpbnN0ZWFkIHVuc2V0IGVhY2ggb2YgdGhlXG4gKiBpbmRpdmlkdWFsIHByb3BlcnRpZXMuIFNlZSBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMjM4NS5cbiAqIFRoZSA0LXZhbHVlICdjbG9jaycgcHJvcGVydGllcyBsaWtlIG1hcmdpbiwgcGFkZGluZywgYm9yZGVyLXdpZHRoIHNlZW0gdG9cbiAqIGJlaGF2ZSB3aXRob3V0IGFueSBwcm9ibGVtcy4gQ3VyaW91c2x5LCBsaXN0LXN0eWxlIHdvcmtzIHRvbyB3aXRob3V0IGFueVxuICogc3BlY2lhbCBwcm9kZGluZy5cbiAqL1xudmFyIHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9ucyA9IHtcbiAgYmFja2dyb3VuZDoge1xuICAgIGJhY2tncm91bmRBdHRhY2htZW50OiB0cnVlLFxuICAgIGJhY2tncm91bmRDb2xvcjogdHJ1ZSxcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6IHRydWUsXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uWDogdHJ1ZSxcbiAgICBiYWNrZ3JvdW5kUG9zaXRpb25ZOiB0cnVlLFxuICAgIGJhY2tncm91bmRSZXBlYXQ6IHRydWVcbiAgfSxcbiAgYmFja2dyb3VuZFBvc2l0aW9uOiB7XG4gICAgYmFja2dyb3VuZFBvc2l0aW9uWDogdHJ1ZSxcbiAgICBiYWNrZ3JvdW5kUG9zaXRpb25ZOiB0cnVlXG4gIH0sXG4gIGJvcmRlcjoge1xuICAgIGJvcmRlcldpZHRoOiB0cnVlLFxuICAgIGJvcmRlclN0eWxlOiB0cnVlLFxuICAgIGJvcmRlckNvbG9yOiB0cnVlXG4gIH0sXG4gIGJvcmRlckJvdHRvbToge1xuICAgIGJvcmRlckJvdHRvbVdpZHRoOiB0cnVlLFxuICAgIGJvcmRlckJvdHRvbVN0eWxlOiB0cnVlLFxuICAgIGJvcmRlckJvdHRvbUNvbG9yOiB0cnVlXG4gIH0sXG4gIGJvcmRlckxlZnQ6IHtcbiAgICBib3JkZXJMZWZ0V2lkdGg6IHRydWUsXG4gICAgYm9yZGVyTGVmdFN0eWxlOiB0cnVlLFxuICAgIGJvcmRlckxlZnRDb2xvcjogdHJ1ZVxuICB9LFxuICBib3JkZXJSaWdodDoge1xuICAgIGJvcmRlclJpZ2h0V2lkdGg6IHRydWUsXG4gICAgYm9yZGVyUmlnaHRTdHlsZTogdHJ1ZSxcbiAgICBib3JkZXJSaWdodENvbG9yOiB0cnVlXG4gIH0sXG4gIGJvcmRlclRvcDoge1xuICAgIGJvcmRlclRvcFdpZHRoOiB0cnVlLFxuICAgIGJvcmRlclRvcFN0eWxlOiB0cnVlLFxuICAgIGJvcmRlclRvcENvbG9yOiB0cnVlXG4gIH0sXG4gIGZvbnQ6IHtcbiAgICBmb250U3R5bGU6IHRydWUsXG4gICAgZm9udFZhcmlhbnQ6IHRydWUsXG4gICAgZm9udFdlaWdodDogdHJ1ZSxcbiAgICBmb250U2l6ZTogdHJ1ZSxcbiAgICBsaW5lSGVpZ2h0OiB0cnVlLFxuICAgIGZvbnRGYW1pbHk6IHRydWVcbiAgfSxcbiAgb3V0bGluZToge1xuICAgIG91dGxpbmVXaWR0aDogdHJ1ZSxcbiAgICBvdXRsaW5lU3R5bGU6IHRydWUsXG4gICAgb3V0bGluZUNvbG9yOiB0cnVlXG4gIH1cbn07XG5cbnZhciBDU1NQcm9wZXJ0eSA9IHtcbiAgaXNVbml0bGVzc051bWJlcjogaXNVbml0bGVzc051bWJlcixcbiAgc2hvcnRoYW5kUHJvcGVydHlFeHBhbnNpb25zOiBzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnNcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ1NTUHJvcGVydHk7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBDU1NQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vQ1NTUHJvcGVydHknKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBpc1VuaXRsZXNzTnVtYmVyID0gQ1NTUHJvcGVydHkuaXNVbml0bGVzc051bWJlcjtcbiAgdmFyIHN0eWxlV2FybmluZ3MgPSB7fTtcbiAgZnVuY3Rpb24gZGFuZ2Vyb3VzU3R5bGVWYWx1ZShuYW1lLCB2YWx1ZSwgY29tcG9uZW50KSB7XG4gICAgdmFyIGlzRW1wdHkgPSB2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8IHZhbHVlID09PSAnJztcbiAgICBpZiAoaXNFbXB0eSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICB2YXIgaXNOb25OdW1lcmljID0gaXNOYU4odmFsdWUpO1xuICAgIGlmIChpc05vbk51bWVyaWMgfHwgdmFsdWUgPT09IDAgfHwgaXNVbml0bGVzc051bWJlci5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBpc1VuaXRsZXNzTnVtYmVyW25hbWVdKSB7XG4gICAgICByZXR1cm4gJycgKyB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgICB2YXIgb3duZXIgPSBjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgICAgICB2YXIgb3duZXJOYW1lID0gb3duZXIgPyBvd25lci5nZXROYW1lKCkgOiBudWxsO1xuICAgICAgICAgIGlmIChvd25lck5hbWUgJiYgIXN0eWxlV2FybmluZ3Nbb3duZXJOYW1lXSkge1xuICAgICAgICAgICAgc3R5bGVXYXJuaW5nc1tvd25lck5hbWVdID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAob3duZXJOYW1lKSB7XG4gICAgICAgICAgICB2YXIgd2FybmluZ3MgPSBzdHlsZVdhcm5pbmdzW293bmVyTmFtZV07XG4gICAgICAgICAgICB3YXJuZWQgPSB3YXJuaW5nc1tuYW1lXTtcbiAgICAgICAgICAgIGlmICghd2FybmVkKSB7XG4gICAgICAgICAgICAgIHdhcm5pbmdzW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYSBgJXNgIHRhZyAob3duZXI6IGAlc2ApIHdhcyBwYXNzZWQgYSBudW1lcmljIHN0cmluZyB2YWx1ZSAnICsgJ2ZvciBDU1MgcHJvcGVydHkgYCVzYCAodmFsdWU6IGAlc2ApIHdoaWNoIHdpbGwgYmUgdHJlYXRlZCAnICsgJ2FzIGEgdW5pdGxlc3MgbnVtYmVyIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgUmVhY3QuJywgY29tcG9uZW50Ll9jdXJyZW50RWxlbWVudC50eXBlLCBvd25lck5hbWUgfHwgJ3Vua25vd24nLCBuYW1lLCB2YWx1ZSkgOiB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlICsgJ3B4JztcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGRhbmdlcm91c1N0eWxlVmFsdWU7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbnZhciBfdXBwZXJjYXNlUGF0dGVybiA9IC8oW0EtWl0pL2c7XG5cbi8qKlxuICogSHlwaGVuYXRlcyBhIGNhbWVsY2FzZWQgc3RyaW5nLCBmb3IgZXhhbXBsZTpcbiAqXG4gKiAgID4gaHlwaGVuYXRlKCdiYWNrZ3JvdW5kQ29sb3InKVxuICogICA8IFwiYmFja2dyb3VuZC1jb2xvclwiXG4gKlxuICogRm9yIENTUyBzdHlsZSBuYW1lcywgdXNlIGBoeXBoZW5hdGVTdHlsZU5hbWVgIGluc3RlYWQgd2hpY2ggd29ya3MgcHJvcGVybHlcbiAqIHdpdGggYWxsIHZlbmRvciBwcmVmaXhlcywgaW5jbHVkaW5nIGBtc2AuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBoeXBoZW5hdGUoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShfdXBwZXJjYXNlUGF0dGVybiwgJy0kMScpLnRvTG93ZXJDYXNlKCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaHlwaGVuYXRlOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIGh5cGhlbmF0ZSA9IHJlcXVpcmUoJy4vaHlwaGVuYXRlJyk7XG52YXIgbXNQYXR0ZXJuID0gL15tcy0vO1xuZnVuY3Rpb24gaHlwaGVuYXRlU3R5bGVOYW1lKHN0cmluZykge1xuICByZXR1cm4gaHlwaGVuYXRlKHN0cmluZykucmVwbGFjZShtc1BhdHRlcm4sICctbXMtJyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGh5cGhlbmF0ZVN0eWxlTmFtZTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBNZW1vaXplcyB0aGUgcmV0dXJuIHZhbHVlIG9mIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIG9uZSBzdHJpbmcgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge2Z1bmN0aW9ufVxuICovXG5cbmZ1bmN0aW9uIG1lbW9pemVTdHJpbmdPbmx5KGNhbGxiYWNrKSB7XG4gIHZhciBjYWNoZSA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gKHN0cmluZykge1xuICAgIGlmICghY2FjaGUuaGFzT3duUHJvcGVydHkoc3RyaW5nKSkge1xuICAgICAgY2FjaGVbc3RyaW5nXSA9IGNhbGxiYWNrLmNhbGwodGhpcywgc3RyaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlW3N0cmluZ107XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWVtb2l6ZVN0cmluZ09ubHk7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBDU1NQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vQ1NTUHJvcGVydHknKTtcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbiAgdmFyIFJlYWN0SW5zdHJ1bWVudGF0aW9uID0gcmVxdWlyZSgnLi9SZWFjdEluc3RydW1lbnRhdGlvbicpO1xuICB2YXIgY2FtZWxpemVTdHlsZU5hbWUgPSByZXF1aXJlKCdmYmpzL2xpYi9jYW1lbGl6ZVN0eWxlTmFtZScpO1xuICB2YXIgZGFuZ2Vyb3VzU3R5bGVWYWx1ZSA9IHJlcXVpcmUoJy4vZGFuZ2Vyb3VzU3R5bGVWYWx1ZScpO1xuICB2YXIgaHlwaGVuYXRlU3R5bGVOYW1lID0gcmVxdWlyZSgnZmJqcy9saWIvaHlwaGVuYXRlU3R5bGVOYW1lJyk7XG4gIHZhciBtZW1vaXplU3RyaW5nT25seSA9IHJlcXVpcmUoJ2ZianMvbGliL21lbW9pemVTdHJpbmdPbmx5Jyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgcHJvY2Vzc1N0eWxlTmFtZSA9IG1lbW9pemVTdHJpbmdPbmx5KGZ1bmN0aW9uKHN0eWxlTmFtZSkge1xuICAgIHJldHVybiBoeXBoZW5hdGVTdHlsZU5hbWUoc3R5bGVOYW1lKTtcbiAgfSk7XG4gIHZhciBoYXNTaG9ydGhhbmRQcm9wZXJ0eUJ1ZyA9IGZhbHNlO1xuICB2YXIgc3R5bGVGbG9hdEFjY2Vzc29yID0gJ2Nzc0Zsb2F0JztcbiAgaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIHZhciB0ZW1wU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTtcbiAgICB0cnkge1xuICAgICAgdGVtcFN0eWxlLmZvbnQgPSAnJztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBoYXNTaG9ydGhhbmRQcm9wZXJ0eUJ1ZyA9IHRydWU7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY3NzRmxvYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc3R5bGVGbG9hdEFjY2Vzc29yID0gJ3N0eWxlRmxvYXQnO1xuICAgIH1cbiAgfVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhciBiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4gPSAvXig/OndlYmtpdHxtb3p8bylbQS1aXS87XG4gICAgdmFyIGJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybiA9IC87XFxzKiQvO1xuICAgIHZhciB3YXJuZWRTdHlsZU5hbWVzID0ge307XG4gICAgdmFyIHdhcm5lZFN0eWxlVmFsdWVzID0ge307XG4gICAgdmFyIHdhcm5lZEZvck5hTlZhbHVlID0gZmFsc2U7XG4gICAgdmFyIHdhcm5IeXBoZW5hdGVkU3R5bGVOYW1lID0gZnVuY3Rpb24obmFtZSwgb3duZXIpIHtcbiAgICAgIGlmICh3YXJuZWRTdHlsZU5hbWVzLmhhc093blByb3BlcnR5KG5hbWUpICYmIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSA9IHRydWU7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ1Vuc3VwcG9ydGVkIHN0eWxlIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gJXM/JXMnLCBuYW1lLCBjYW1lbGl6ZVN0eWxlTmFtZShuYW1lKSwgY2hlY2tSZW5kZXJNZXNzYWdlKG93bmVyKSkgOiB2b2lkIDA7XG4gICAgfTtcbiAgICB2YXIgd2FybkJhZFZlbmRvcmVkU3R5bGVOYW1lID0gZnVuY3Rpb24obmFtZSwgb3duZXIpIHtcbiAgICAgIGlmICh3YXJuZWRTdHlsZU5hbWVzLmhhc093blByb3BlcnR5KG5hbWUpICYmIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSA9IHRydWU7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ1Vuc3VwcG9ydGVkIHZlbmRvci1wcmVmaXhlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzPyVzJywgbmFtZSwgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSksIGNoZWNrUmVuZGVyTWVzc2FnZShvd25lcikpIDogdm9pZCAwO1xuICAgIH07XG4gICAgdmFyIHdhcm5TdHlsZVZhbHVlV2l0aFNlbWljb2xvbiA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBvd25lcikge1xuICAgICAgaWYgKHdhcm5lZFN0eWxlVmFsdWVzLmhhc093blByb3BlcnR5KHZhbHVlKSAmJiB3YXJuZWRTdHlsZVZhbHVlc1t2YWx1ZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2FybmVkU3R5bGVWYWx1ZXNbdmFsdWVdID0gdHJ1ZTtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnU3R5bGUgcHJvcGVydHkgdmFsdWVzIHNob3VsZG5cXCd0IGNvbnRhaW4gYSBzZW1pY29sb24uJXMgJyArICdUcnkgXCIlczogJXNcIiBpbnN0ZWFkLicsIGNoZWNrUmVuZGVyTWVzc2FnZShvd25lciksIG5hbWUsIHZhbHVlLnJlcGxhY2UoYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuLCAnJykpIDogdm9pZCAwO1xuICAgIH07XG4gICAgdmFyIHdhcm5TdHlsZVZhbHVlSXNOYU4gPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgb3duZXIpIHtcbiAgICAgIGlmICh3YXJuZWRGb3JOYU5WYWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3YXJuZWRGb3JOYU5WYWx1ZSA9IHRydWU7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2BOYU5gIGlzIGFuIGludmFsaWQgdmFsdWUgZm9yIHRoZSBgJXNgIGNzcyBzdHlsZSBwcm9wZXJ0eS4lcycsIG5hbWUsIGNoZWNrUmVuZGVyTWVzc2FnZShvd25lcikpIDogdm9pZCAwO1xuICAgIH07XG4gICAgdmFyIGNoZWNrUmVuZGVyTWVzc2FnZSA9IGZ1bmN0aW9uKG93bmVyKSB7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH07XG4gICAgdmFyIHdhcm5WYWxpZFN0eWxlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGNvbXBvbmVudCkge1xuICAgICAgdmFyIG93bmVyO1xuICAgICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICBvd25lciA9IGNvbXBvbmVudC5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWUuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgICAgd2Fybkh5cGhlbmF0ZWRTdHlsZU5hbWUobmFtZSwgb3duZXIpO1xuICAgICAgfSBlbHNlIGlmIChiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4udGVzdChuYW1lKSkge1xuICAgICAgICB3YXJuQmFkVmVuZG9yZWRTdHlsZU5hbWUobmFtZSwgb3duZXIpO1xuICAgICAgfSBlbHNlIGlmIChiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgd2FyblN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uKG5hbWUsIHZhbHVlLCBvd25lcik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgd2FyblN0eWxlVmFsdWVJc05hTihuYW1lLCB2YWx1ZSwgb3duZXIpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgdmFyIENTU1Byb3BlcnR5T3BlcmF0aW9ucyA9IHtcbiAgICBjcmVhdGVNYXJrdXBGb3JTdHlsZXM6IGZ1bmN0aW9uKHN0eWxlcywgY29tcG9uZW50KSB7XG4gICAgICB2YXIgc2VyaWFsaXplZCA9ICcnO1xuICAgICAgZm9yICh2YXIgc3R5bGVOYW1lIGluIHN0eWxlcykge1xuICAgICAgICBpZiAoIXN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlVmFsdWUgPSBzdHlsZXNbc3R5bGVOYW1lXTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB3YXJuVmFsaWRTdHlsZShzdHlsZU5hbWUsIHN0eWxlVmFsdWUsIGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIHNlcmlhbGl6ZWQgKz0gcHJvY2Vzc1N0eWxlTmFtZShzdHlsZU5hbWUpICsgJzonO1xuICAgICAgICAgIHNlcmlhbGl6ZWQgKz0gZGFuZ2Vyb3VzU3R5bGVWYWx1ZShzdHlsZU5hbWUsIHN0eWxlVmFsdWUsIGNvbXBvbmVudCkgKyAnOyc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXJpYWxpemVkIHx8IG51bGw7XG4gICAgfSxcbiAgICBzZXRWYWx1ZUZvclN0eWxlczogZnVuY3Rpb24obm9kZSwgc3R5bGVzLCBjb21wb25lbnQpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihjb21wb25lbnQuX2RlYnVnSUQsICd1cGRhdGUgc3R5bGVzJywgc3R5bGVzKTtcbiAgICAgIH1cbiAgICAgIHZhciBzdHlsZSA9IG5vZGUuc3R5bGU7XG4gICAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gc3R5bGVzKSB7XG4gICAgICAgIGlmICghc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHdhcm5WYWxpZFN0eWxlKHN0eWxlTmFtZSwgc3R5bGVzW3N0eWxlTmFtZV0sIGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlVmFsdWUgPSBkYW5nZXJvdXNTdHlsZVZhbHVlKHN0eWxlTmFtZSwgc3R5bGVzW3N0eWxlTmFtZV0sIGNvbXBvbmVudCk7XG4gICAgICAgIGlmIChzdHlsZU5hbWUgPT09ICdmbG9hdCcgfHwgc3R5bGVOYW1lID09PSAnY3NzRmxvYXQnKSB7XG4gICAgICAgICAgc3R5bGVOYW1lID0gc3R5bGVGbG9hdEFjY2Vzc29yO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZVZhbHVlKSB7XG4gICAgICAgICAgc3R5bGVbc3R5bGVOYW1lXSA9IHN0eWxlVmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGV4cGFuc2lvbiA9IGhhc1Nob3J0aGFuZFByb3BlcnR5QnVnICYmIENTU1Byb3BlcnR5LnNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uc1tzdHlsZU5hbWVdO1xuICAgICAgICAgIGlmIChleHBhbnNpb24pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGl2aWR1YWxTdHlsZU5hbWUgaW4gZXhwYW5zaW9uKSB7XG4gICAgICAgICAgICAgIHN0eWxlW2luZGl2aWR1YWxTdHlsZU5hbWVdID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlW3N0eWxlTmFtZV0gPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gQ1NTUHJvcGVydHlPcGVyYXRpb25zO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgRE9NQ2hpbGRyZW5PcGVyYXRpb25zID0gcmVxdWlyZSgnLi9ET01DaGlsZHJlbk9wZXJhdGlvbnMnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRUcmVlJyk7XG4gIHZhciBSZWFjdERPTUlET3BlcmF0aW9ucyA9IHtkYW5nZXJvdXNseVByb2Nlc3NDaGlsZHJlblVwZGF0ZXM6IGZ1bmN0aW9uKHBhcmVudEluc3QsIHVwZGF0ZXMpIHtcbiAgICAgIHZhciBub2RlID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UocGFyZW50SW5zdCk7XG4gICAgICBET01DaGlsZHJlbk9wZXJhdGlvbnMucHJvY2Vzc1VwZGF0ZXMobm9kZSwgdXBkYXRlcyk7XG4gICAgfX07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01JRE9wZXJhdGlvbnM7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBET01DaGlsZHJlbk9wZXJhdGlvbnMgPSByZXF1aXJlKCcuL0RPTUNoaWxkcmVuT3BlcmF0aW9ucycpO1xuICB2YXIgUmVhY3RET01JRE9wZXJhdGlvbnMgPSByZXF1aXJlKCcuL1JlYWN0RE9NSURPcGVyYXRpb25zJyk7XG4gIHZhciBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCA9IHtcbiAgICBwcm9jZXNzQ2hpbGRyZW5VcGRhdGVzOiBSZWFjdERPTUlET3BlcmF0aW9ucy5kYW5nZXJvdXNseVByb2Nlc3NDaGlsZHJlblVwZGF0ZXMsXG4gICAgcmVwbGFjZU5vZGVXaXRoTWFya3VwOiBET01DaGlsZHJlbk9wZXJhdGlvbnMuZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAsXG4gICAgdW5tb3VudElERnJvbUVudmlyb25tZW50OiBmdW5jdGlvbihyb290Tm9kZUlEKSB7fVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIERpc2FibGVkSW5wdXRVdGlscyA9IHJlcXVpcmUoJy4vRGlzYWJsZWRJbnB1dFV0aWxzJyk7XG52YXIgUmVhY3RET01CdXR0b24gPSB7Z2V0TmF0aXZlUHJvcHM6IERpc2FibGVkSW5wdXRVdGlscy5nZXROYXRpdmVQcm9wc307XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NQnV0dG9uO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgRGlzYWJsZWRJbnB1dFV0aWxzID0gcmVxdWlyZSgnLi9EaXNhYmxlZElucHV0VXRpbHMnKTtcbiAgdmFyIERPTVByb3BlcnR5T3BlcmF0aW9ucyA9IHJlcXVpcmUoJy4vRE9NUHJvcGVydHlPcGVyYXRpb25zJyk7XG4gIHZhciBMaW5rZWRWYWx1ZVV0aWxzID0gcmVxdWlyZSgnLi9MaW5rZWRWYWx1ZVV0aWxzJyk7XG4gIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50VHJlZScpO1xuICB2YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZSgnLi9SZWFjdFVwZGF0ZXMnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIGRpZFdhcm5WYWx1ZUxpbmsgPSBmYWxzZTtcbiAgdmFyIGRpZFdhcm5DaGVja2VkTGluayA9IGZhbHNlO1xuICB2YXIgZGlkV2FyblZhbHVlTnVsbCA9IGZhbHNlO1xuICB2YXIgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gZmFsc2U7XG4gIHZhciBkaWRXYXJuQ2hlY2tlZERlZmF1bHRDaGVja2VkID0gZmFsc2U7XG4gIHZhciBkaWRXYXJuQ29udHJvbGxlZFRvVW5jb250cm9sbGVkID0gZmFsc2U7XG4gIHZhciBkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGZvcmNlVXBkYXRlSWZNb3VudGVkKCkge1xuICAgIGlmICh0aGlzLl9yb290Tm9kZUlEKSB7XG4gICAgICBSZWFjdERPTUlucHV0LnVwZGF0ZVdyYXBwZXIodGhpcyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHdhcm5JZlZhbHVlSXNOdWxsKHByb3BzKSB7XG4gICAgaWYgKHByb3BzICE9IG51bGwgJiYgcHJvcHMudmFsdWUgPT09IG51bGwgJiYgIWRpZFdhcm5WYWx1ZU51bGwpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYHZhbHVlYCBwcm9wIG9uIGBpbnB1dGAgc2hvdWxkIG5vdCBiZSBudWxsLiAnICsgJ0NvbnNpZGVyIHVzaW5nIHRoZSBlbXB0eSBzdHJpbmcgdG8gY2xlYXIgdGhlIGNvbXBvbmVudCBvciBgdW5kZWZpbmVkYCAnICsgJ2ZvciB1bmNvbnRyb2xsZWQgY29tcG9uZW50cy4nKSA6IHZvaWQgMDtcbiAgICAgIGRpZFdhcm5WYWx1ZU51bGwgPSB0cnVlO1xuICAgIH1cbiAgfVxuICB2YXIgUmVhY3RET01JbnB1dCA9IHtcbiAgICBnZXROYXRpdmVQcm9wczogZnVuY3Rpb24oaW5zdCwgcHJvcHMpIHtcbiAgICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgICAgdmFyIGNoZWNrZWQgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldENoZWNrZWQocHJvcHMpO1xuICAgICAgdmFyIG5hdGl2ZVByb3BzID0gX2Fzc2lnbih7dHlwZTogdW5kZWZpbmVkfSwgRGlzYWJsZWRJbnB1dFV0aWxzLmdldE5hdGl2ZVByb3BzKGluc3QsIHByb3BzKSwge1xuICAgICAgICBkZWZhdWx0Q2hlY2tlZDogdW5kZWZpbmVkLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgdmFsdWU6IHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6IGluc3QuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUsXG4gICAgICAgIGNoZWNrZWQ6IGNoZWNrZWQgIT0gbnVsbCA/IGNoZWNrZWQgOiBpbnN0Ll93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWQsXG4gICAgICAgIG9uQ2hhbmdlOiBpbnN0Ll93cmFwcGVyU3RhdGUub25DaGFuZ2VcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5hdGl2ZVByb3BzO1xuICAgIH0sXG4gICAgbW91bnRXcmFwcGVyOiBmdW5jdGlvbihpbnN0LCBwcm9wcykge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgTGlua2VkVmFsdWVVdGlscy5jaGVja1Byb3BUeXBlcygnaW5wdXQnLCBwcm9wcywgaW5zdC5fY3VycmVudEVsZW1lbnQuX293bmVyKTtcbiAgICAgICAgdmFyIG93bmVyID0gaW5zdC5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgICBpZiAocHJvcHMudmFsdWVMaW5rICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZUxpbmspIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2B2YWx1ZUxpbmtgIHByb3Agb24gYGlucHV0YCBpcyBkZXByZWNhdGVkOyBzZXQgYHZhbHVlYCBhbmQgYG9uQ2hhbmdlYCBpbnN0ZWFkLicpIDogdm9pZCAwO1xuICAgICAgICAgIGRpZFdhcm5WYWx1ZUxpbmsgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy5jaGVja2VkTGluayAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuQ2hlY2tlZExpbmspIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2BjaGVja2VkTGlua2AgcHJvcCBvbiBgaW5wdXRgIGlzIGRlcHJlY2F0ZWQ7IHNldCBgdmFsdWVgIGFuZCBgb25DaGFuZ2VgIGluc3RlYWQuJykgOiB2b2lkIDA7XG4gICAgICAgICAgZGlkV2FybkNoZWNrZWRMaW5rID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcHMuY2hlY2tlZCAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmRlZmF1bHRDaGVja2VkICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5DaGVja2VkRGVmYXVsdENoZWNrZWQpIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzIGNvbnRhaW5zIGFuIGlucHV0IG9mIHR5cGUgJXMgd2l0aCBib3RoIGNoZWNrZWQgYW5kIGRlZmF1bHRDaGVja2VkIHByb3BzLiAnICsgJ0lucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSBjaGVja2VkIHByb3AsIG9yIHRoZSBkZWZhdWx0Q2hlY2tlZCBwcm9wLCBidXQgbm90ICcgKyAnYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgJyArICdlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnLCBvd25lciAmJiBvd25lci5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JywgcHJvcHMudHlwZSkgOiB2b2lkIDA7XG4gICAgICAgICAgZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BzLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMgY29udGFpbnMgYW4gaW5wdXQgb2YgdHlwZSAlcyB3aXRoIGJvdGggdmFsdWUgYW5kIGRlZmF1bHRWYWx1ZSBwcm9wcy4gJyArICdJbnB1dCBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAnICsgJyhzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90ICcgKyAnYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgJyArICdlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnLCBvd25lciAmJiBvd25lci5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JywgcHJvcHMudHlwZSkgOiB2b2lkIDA7XG4gICAgICAgICAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcyk7XG4gICAgICB9XG4gICAgICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuICAgICAgaW5zdC5fd3JhcHBlclN0YXRlID0ge1xuICAgICAgICBpbml0aWFsQ2hlY2tlZDogcHJvcHMuZGVmYXVsdENoZWNrZWQgfHwgZmFsc2UsXG4gICAgICAgIGluaXRpYWxWYWx1ZTogZGVmYXVsdFZhbHVlICE9IG51bGwgPyBkZWZhdWx0VmFsdWUgOiBudWxsLFxuICAgICAgICBsaXN0ZW5lcnM6IG51bGwsXG4gICAgICAgIG9uQ2hhbmdlOiBfaGFuZGxlQ2hhbmdlLmJpbmQoaW5zdClcbiAgICAgIH07XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUuY29udHJvbGxlZCA9IHByb3BzLmNoZWNrZWQgIT09IHVuZGVmaW5lZCB8fCBwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlV3JhcHBlcjogZnVuY3Rpb24oaW5zdCkge1xuICAgICAgdmFyIHByb3BzID0gaW5zdC5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcyk7XG4gICAgICAgIHZhciBpbml0aWFsVmFsdWUgPSBpbnN0Ll93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWQgfHwgaW5zdC5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZTtcbiAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRDaGVja2VkIHx8IHByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgdmFyIGNvbnRyb2xsZWQgPSBwcm9wcy5jaGVja2VkICE9PSB1bmRlZmluZWQgfHwgcHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIG93bmVyID0gaW5zdC5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgICBpZiAoKGluaXRpYWxWYWx1ZSB8fCAhaW5zdC5fd3JhcHBlclN0YXRlLmNvbnRyb2xsZWQpICYmIGNvbnRyb2xsZWQgJiYgIWRpZFdhcm5VbmNvbnRyb2xsZWRUb0NvbnRyb2xsZWQpIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzIGlzIGNoYW5naW5nIGFuIHVuY29udHJvbGxlZCBpbnB1dCBvZiB0eXBlICVzIHRvIGJlIGNvbnRyb2xsZWQuICcgKyAnSW5wdXQgZWxlbWVudHMgc2hvdWxkIG5vdCBzd2l0Y2ggZnJvbSB1bmNvbnRyb2xsZWQgdG8gY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuICcgKyAnRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgY29tcG9uZW50LiBNb3JlIGluZm86IGh0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzJywgb3duZXIgJiYgb3duZXIuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcsIHByb3BzLnR5cGUpIDogdm9pZCAwO1xuICAgICAgICAgIGRpZFdhcm5VbmNvbnRyb2xsZWRUb0NvbnRyb2xsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnN0Ll93cmFwcGVyU3RhdGUuY29udHJvbGxlZCAmJiAoZGVmYXVsdFZhbHVlIHx8ICFjb250cm9sbGVkKSAmJiAhZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMgaXMgY2hhbmdpbmcgYSBjb250cm9sbGVkIGlucHV0IG9mIHR5cGUgJXMgdG8gYmUgdW5jb250cm9sbGVkLiAnICsgJ0lucHV0IGVsZW1lbnRzIHNob3VsZCBub3Qgc3dpdGNoIGZyb20gY29udHJvbGxlZCB0byB1bmNvbnRyb2xsZWQgKG9yIHZpY2UgdmVyc2EpLiAnICsgJ0RlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgJyArICdlbGVtZW50IGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIGNvbXBvbmVudC4gTW9yZSBpbmZvOiBodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycsIG93bmVyICYmIG93bmVyLmdldE5hbWUoKSB8fCAnQSBjb21wb25lbnQnLCBwcm9wcy50eXBlKSA6IHZvaWQgMDtcbiAgICAgICAgICBkaWRXYXJuQ29udHJvbGxlZFRvVW5jb250cm9sbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGNoZWNrZWQgPSBwcm9wcy5jaGVja2VkO1xuICAgICAgaWYgKGNoZWNrZWQgIT0gbnVsbCkge1xuICAgICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JQcm9wZXJ0eShSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KSwgJ2NoZWNrZWQnLCBjaGVja2VkIHx8IGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLnNldFZhbHVlRm9yUHJvcGVydHkoUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCksICd2YWx1ZScsICcnICsgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShldmVudCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgIHZhciByZXR1cm5WYWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZXhlY3V0ZU9uQ2hhbmdlKHByb3BzLCBldmVudCk7XG4gICAgUmVhY3RVcGRhdGVzLmFzYXAoZm9yY2VVcGRhdGVJZk1vdW50ZWQsIHRoaXMpO1xuICAgIHZhciBuYW1lID0gcHJvcHMubmFtZTtcbiAgICBpZiAocHJvcHMudHlwZSA9PT0gJ3JhZGlvJyAmJiBuYW1lICE9IG51bGwpIHtcbiAgICAgIHZhciByb290Tm9kZSA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKHRoaXMpO1xuICAgICAgdmFyIHF1ZXJ5Um9vdCA9IHJvb3ROb2RlO1xuICAgICAgd2hpbGUgKHF1ZXJ5Um9vdC5wYXJlbnROb2RlKSB7XG4gICAgICAgIHF1ZXJ5Um9vdCA9IHF1ZXJ5Um9vdC5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgdmFyIGdyb3VwID0gcXVlcnlSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9JyArIEpTT04uc3RyaW5naWZ5KCcnICsgbmFtZSkgKyAnXVt0eXBlPVwicmFkaW9cIl0nKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG90aGVyTm9kZSA9IGdyb3VwW2ldO1xuICAgICAgICBpZiAob3RoZXJOb2RlID09PSByb290Tm9kZSB8fCBvdGhlck5vZGUuZm9ybSAhPT0gcm9vdE5vZGUuZm9ybSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdGhlckluc3RhbmNlID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldEluc3RhbmNlRnJvbU5vZGUob3RoZXJOb2RlKTtcbiAgICAgICAgIW90aGVySW5zdGFuY2UgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RET01JbnB1dDogTWl4aW5nIFJlYWN0IGFuZCBub24tUmVhY3QgcmFkaW8gaW5wdXRzIHdpdGggdGhlICcgKyAnc2FtZSBgbmFtZWAgaXMgbm90IHN1cHBvcnRlZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIFJlYWN0VXBkYXRlcy5hc2FwKGZvcmNlVXBkYXRlSWZNb3VudGVkLCBvdGhlckluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01JbnB1dDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG4gIHZhciBSZWFjdENoaWxkcmVuID0gcmVxdWlyZSgnLi9SZWFjdENoaWxkcmVuJyk7XG4gIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50VHJlZScpO1xuICB2YXIgUmVhY3RET01TZWxlY3QgPSByZXF1aXJlKCcuL1JlYWN0RE9NU2VsZWN0Jyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgUmVhY3RET01PcHRpb24gPSB7XG4gICAgbW91bnRXcmFwcGVyOiBmdW5jdGlvbihpbnN0LCBwcm9wcywgbmF0aXZlUGFyZW50KSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhwcm9wcy5zZWxlY3RlZCA9PSBudWxsLCAnVXNlIHRoZSBgZGVmYXVsdFZhbHVlYCBvciBgdmFsdWVgIHByb3BzIG9uIDxzZWxlY3Q+IGluc3RlYWQgb2YgJyArICdzZXR0aW5nIGBzZWxlY3RlZGAgb24gPG9wdGlvbj4uJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICB2YXIgc2VsZWN0VmFsdWUgPSBudWxsO1xuICAgICAgaWYgKG5hdGl2ZVBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgIHZhciBzZWxlY3RQYXJlbnQgPSBuYXRpdmVQYXJlbnQ7XG4gICAgICAgIGlmIChzZWxlY3RQYXJlbnQuX3RhZyA9PT0gJ29wdGdyb3VwJykge1xuICAgICAgICAgIHNlbGVjdFBhcmVudCA9IHNlbGVjdFBhcmVudC5fbmF0aXZlUGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RQYXJlbnQgIT0gbnVsbCAmJiBzZWxlY3RQYXJlbnQuX3RhZyA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgICAgICBzZWxlY3RWYWx1ZSA9IFJlYWN0RE9NU2VsZWN0LmdldFNlbGVjdFZhbHVlQ29udGV4dChzZWxlY3RQYXJlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgc2VsZWN0ZWQgPSBudWxsO1xuICAgICAgaWYgKHNlbGVjdFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0VmFsdWUpKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCcnICsgc2VsZWN0VmFsdWVbaV0gPT09ICcnICsgcHJvcHMudmFsdWUpIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZWN0ZWQgPSAnJyArIHNlbGVjdFZhbHVlID09PSAnJyArIHByb3BzLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpbnN0Ll93cmFwcGVyU3RhdGUgPSB7c2VsZWN0ZWQ6IHNlbGVjdGVkfTtcbiAgICB9LFxuICAgIHBvc3RNb3VudFdyYXBwZXI6IGZ1bmN0aW9uKGluc3QpIHtcbiAgICAgIHZhciBwcm9wcyA9IGluc3QuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgICAgaWYgKHByb3BzLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KTtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcHJvcHMudmFsdWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0TmF0aXZlUHJvcHM6IGZ1bmN0aW9uKGluc3QsIHByb3BzKSB7XG4gICAgICB2YXIgbmF0aXZlUHJvcHMgPSBfYXNzaWduKHtcbiAgICAgICAgc2VsZWN0ZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICAgICAgfSwgcHJvcHMpO1xuICAgICAgaWYgKGluc3QuX3dyYXBwZXJTdGF0ZS5zZWxlY3RlZCAhPSBudWxsKSB7XG4gICAgICAgIG5hdGl2ZVByb3BzLnNlbGVjdGVkID0gaW5zdC5fd3JhcHBlclN0YXRlLnNlbGVjdGVkO1xuICAgICAgfVxuICAgICAgdmFyIGNvbnRlbnQgPSAnJztcbiAgICAgIFJlYWN0Q2hpbGRyZW4uZm9yRWFjaChwcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgaWYgKGNoaWxkID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGNoaWxkID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnRlbnQgKz0gY2hpbGQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdPbmx5IHN0cmluZ3MgYW5kIG51bWJlcnMgYXJlIHN1cHBvcnRlZCBhcyA8b3B0aW9uPiBjaGlsZHJlbi4nKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoY29udGVudCkge1xuICAgICAgICBuYXRpdmVQcm9wcy5jaGlsZHJlbiA9IGNvbnRlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlUHJvcHM7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NT3B0aW9uO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbiAgdmFyIERpc2FibGVkSW5wdXRVdGlscyA9IHJlcXVpcmUoJy4vRGlzYWJsZWRJbnB1dFV0aWxzJyk7XG4gIHZhciBMaW5rZWRWYWx1ZVV0aWxzID0gcmVxdWlyZSgnLi9MaW5rZWRWYWx1ZVV0aWxzJyk7XG4gIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50VHJlZScpO1xuICB2YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZSgnLi9SZWFjdFVwZGF0ZXMnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBkaWRXYXJuVmFsdWVMaW5rID0gZmFsc2U7XG4gIHZhciBkaWRXYXJuVmFsdWVOdWxsID0gZmFsc2U7XG4gIHZhciBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUgPSBmYWxzZTtcbiAgZnVuY3Rpb24gdXBkYXRlT3B0aW9uc0lmUGVuZGluZ1VwZGF0ZUFuZE1vdW50ZWQoKSB7XG4gICAgaWYgKHRoaXMuX3Jvb3ROb2RlSUQgJiYgdGhpcy5fd3JhcHBlclN0YXRlLnBlbmRpbmdVcGRhdGUpIHtcbiAgICAgIHRoaXMuX3dyYXBwZXJTdGF0ZS5wZW5kaW5nVXBkYXRlID0gZmFsc2U7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLl9jdXJyZW50RWxlbWVudC5wcm9wcztcbiAgICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgdXBkYXRlT3B0aW9ucyh0aGlzLCBCb29sZWFuKHByb3BzLm11bHRpcGxlKSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0ob3duZXIpIHtcbiAgICBpZiAob3duZXIpIHtcbiAgICAgIHZhciBuYW1lID0gb3duZXIuZ2V0TmFtZSgpO1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIGZ1bmN0aW9uIHdhcm5JZlZhbHVlSXNOdWxsKHByb3BzKSB7XG4gICAgaWYgKHByb3BzICE9IG51bGwgJiYgcHJvcHMudmFsdWUgPT09IG51bGwgJiYgIWRpZFdhcm5WYWx1ZU51bGwpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYHZhbHVlYCBwcm9wIG9uIGBzZWxlY3RgIHNob3VsZCBub3QgYmUgbnVsbC4gJyArICdDb25zaWRlciB1c2luZyB0aGUgZW1wdHkgc3RyaW5nIHRvIGNsZWFyIHRoZSBjb21wb25lbnQgb3IgYHVuZGVmaW5lZGAgJyArICdmb3IgdW5jb250cm9sbGVkIGNvbXBvbmVudHMuJykgOiB2b2lkIDA7XG4gICAgICBkaWRXYXJuVmFsdWVOdWxsID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgdmFyIHZhbHVlUHJvcE5hbWVzID0gWyd2YWx1ZScsICdkZWZhdWx0VmFsdWUnXTtcbiAgZnVuY3Rpb24gY2hlY2tTZWxlY3RQcm9wVHlwZXMoaW5zdCwgcHJvcHMpIHtcbiAgICB2YXIgb3duZXIgPSBpbnN0Ll9jdXJyZW50RWxlbWVudC5fb3duZXI7XG4gICAgTGlua2VkVmFsdWVVdGlscy5jaGVja1Byb3BUeXBlcygnc2VsZWN0JywgcHJvcHMsIG93bmVyKTtcbiAgICBpZiAocHJvcHMudmFsdWVMaW5rICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZUxpbmspIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYHZhbHVlTGlua2AgcHJvcCBvbiBgc2VsZWN0YCBpcyBkZXByZWNhdGVkOyBzZXQgYHZhbHVlYCBhbmQgYG9uQ2hhbmdlYCBpbnN0ZWFkLicpIDogdm9pZCAwO1xuICAgICAgZGlkV2FyblZhbHVlTGluayA9IHRydWU7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVQcm9wTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwcm9wTmFtZSA9IHZhbHVlUHJvcE5hbWVzW2ldO1xuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BzLm11bHRpcGxlKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKEFycmF5LmlzQXJyYXkocHJvcHNbcHJvcE5hbWVdKSwgJ1RoZSBgJXNgIHByb3Agc3VwcGxpZWQgdG8gPHNlbGVjdD4gbXVzdCBiZSBhbiBhcnJheSBpZiAnICsgJ2BtdWx0aXBsZWAgaXMgdHJ1ZS4lcycsIHByb3BOYW1lLCBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0ob3duZXIpKSA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFBcnJheS5pc0FycmF5KHByb3BzW3Byb3BOYW1lXSksICdUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYSBzY2FsYXIgJyArICd2YWx1ZSBpZiBgbXVsdGlwbGVgIGlzIGZhbHNlLiVzJywgcHJvcE5hbWUsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShvd25lcikpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKGluc3QsIG11bHRpcGxlLCBwcm9wVmFsdWUpIHtcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSxcbiAgICAgICAgaTtcbiAgICB2YXIgb3B0aW9ucyA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKGluc3QpLm9wdGlvbnM7XG4gICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICBzZWxlY3RlZFZhbHVlID0ge307XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNlbGVjdGVkVmFsdWVbJycgKyBwcm9wVmFsdWVbaV1dID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IHNlbGVjdGVkVmFsdWUuaGFzT3duUHJvcGVydHkob3B0aW9uc1tpXS52YWx1ZSk7XG4gICAgICAgIGlmIChvcHRpb25zW2ldLnNlbGVjdGVkICE9PSBzZWxlY3RlZCkge1xuICAgICAgICAgIG9wdGlvbnNbaV0uc2VsZWN0ZWQgPSBzZWxlY3RlZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3RlZFZhbHVlID0gJycgKyBwcm9wVmFsdWU7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAob3B0aW9uc1tpXS52YWx1ZSA9PT0gc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgIG9wdGlvbnNbaV0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIG9wdGlvbnNbMF0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB2YXIgUmVhY3RET01TZWxlY3QgPSB7XG4gICAgZ2V0TmF0aXZlUHJvcHM6IGZ1bmN0aW9uKGluc3QsIHByb3BzKSB7XG4gICAgICByZXR1cm4gX2Fzc2lnbih7fSwgRGlzYWJsZWRJbnB1dFV0aWxzLmdldE5hdGl2ZVByb3BzKGluc3QsIHByb3BzKSwge1xuICAgICAgICBvbkNoYW5nZTogaW5zdC5fd3JhcHBlclN0YXRlLm9uQ2hhbmdlLFxuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG1vdW50V3JhcHBlcjogZnVuY3Rpb24oaW5zdCwgcHJvcHMpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGNoZWNrU2VsZWN0UHJvcFR5cGVzKGluc3QsIHByb3BzKTtcbiAgICAgICAgd2FybklmVmFsdWVJc051bGwocHJvcHMpO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gTGlua2VkVmFsdWVVdGlscy5nZXRWYWx1ZShwcm9wcyk7XG4gICAgICBpbnN0Ll93cmFwcGVyU3RhdGUgPSB7XG4gICAgICAgIHBlbmRpbmdVcGRhdGU6IGZhbHNlLFxuICAgICAgICBpbml0aWFsVmFsdWU6IHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6IHByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgbGlzdGVuZXJzOiBudWxsLFxuICAgICAgICBvbkNoYW5nZTogX2hhbmRsZUNoYW5nZS5iaW5kKGluc3QpLFxuICAgICAgICB3YXNNdWx0aXBsZTogQm9vbGVhbihwcm9wcy5tdWx0aXBsZSlcbiAgICAgIH07XG4gICAgICBpZiAocHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5kZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnU2VsZWN0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBzZWxlY3QgJyArICdlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnKSA6IHZvaWQgMDtcbiAgICAgICAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFNlbGVjdFZhbHVlQ29udGV4dDogZnVuY3Rpb24oaW5zdCkge1xuICAgICAgcmV0dXJuIGluc3QuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU7XG4gICAgfSxcbiAgICBwb3N0VXBkYXRlV3JhcHBlcjogZnVuY3Rpb24oaW5zdCkge1xuICAgICAgdmFyIHByb3BzID0gaW5zdC5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcyk7XG4gICAgICB9XG4gICAgICBpbnN0Ll93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgdmFyIHdhc011bHRpcGxlID0gaW5zdC5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlO1xuICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlID0gQm9vbGVhbihwcm9wcy5tdWx0aXBsZSk7XG4gICAgICB2YXIgdmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldFZhbHVlKHByb3BzKTtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGluc3QuX3dyYXBwZXJTdGF0ZS5wZW5kaW5nVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIHVwZGF0ZU9wdGlvbnMoaW5zdCwgQm9vbGVhbihwcm9wcy5tdWx0aXBsZSksIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAod2FzTXVsdGlwbGUgIT09IEJvb2xlYW4ocHJvcHMubXVsdGlwbGUpKSB7XG4gICAgICAgIGlmIChwcm9wcy5kZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIHVwZGF0ZU9wdGlvbnMoaW5zdCwgQm9vbGVhbihwcm9wcy5tdWx0aXBsZSksIHByb3BzLmRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBkYXRlT3B0aW9ucyhpbnN0LCBCb29sZWFuKHByb3BzLm11bHRpcGxlKSwgcHJvcHMubXVsdGlwbGUgPyBbXSA6ICcnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShldmVudCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgIHZhciByZXR1cm5WYWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZXhlY3V0ZU9uQ2hhbmdlKHByb3BzLCBldmVudCk7XG4gICAgaWYgKHRoaXMuX3Jvb3ROb2RlSUQpIHtcbiAgICAgIHRoaXMuX3dyYXBwZXJTdGF0ZS5wZW5kaW5nVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgUmVhY3RVcGRhdGVzLmFzYXAodXBkYXRlT3B0aW9uc0lmUGVuZGluZ1VwZGF0ZUFuZE1vdW50ZWQsIHRoaXMpO1xuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NU2VsZWN0O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBEaXNhYmxlZElucHV0VXRpbHNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBkaXNhYmxlYWJsZU1vdXNlTGlzdGVuZXJOYW1lcyA9IHtcbiAgb25DbGljazogdHJ1ZSxcbiAgb25Eb3VibGVDbGljazogdHJ1ZSxcbiAgb25Nb3VzZURvd246IHRydWUsXG4gIG9uTW91c2VNb3ZlOiB0cnVlLFxuICBvbk1vdXNlVXA6IHRydWUsXG5cbiAgb25DbGlja0NhcHR1cmU6IHRydWUsXG4gIG9uRG91YmxlQ2xpY2tDYXB0dXJlOiB0cnVlLFxuICBvbk1vdXNlRG93bkNhcHR1cmU6IHRydWUsXG4gIG9uTW91c2VNb3ZlQ2FwdHVyZTogdHJ1ZSxcbiAgb25Nb3VzZVVwQ2FwdHVyZTogdHJ1ZVxufTtcblxuLyoqXG4gKiBJbXBsZW1lbnRzIGEgbmF0aXZlIGNvbXBvbmVudCB0aGF0IGRvZXMgbm90IHJlY2VpdmUgbW91c2UgZXZlbnRzXG4gKiB3aGVuIGBkaXNhYmxlZGAgaXMgc2V0LlxuICovXG52YXIgRGlzYWJsZWRJbnB1dFV0aWxzID0ge1xuICBnZXROYXRpdmVQcm9wczogZnVuY3Rpb24gKGluc3QsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH1cblxuICAgIC8vIENvcHkgdGhlIHByb3BzLCBleGNlcHQgdGhlIG1vdXNlIGxpc3RlbmVyc1xuICAgIHZhciBuYXRpdmVQcm9wcyA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgaWYgKCFkaXNhYmxlYWJsZU1vdXNlTGlzdGVuZXJOYW1lc1trZXldICYmIHByb3BzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgbmF0aXZlUHJvcHNba2V5XSA9IHByb3BzW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5hdGl2ZVByb3BzO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERpc2FibGVkSW5wdXRVdGlsczsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eScpO1xuICB2YXIgRXZlbnRQbHVnaW5SZWdpc3RyeSA9IHJlcXVpcmUoJy4vRXZlbnRQbHVnaW5SZWdpc3RyeScpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgcmVhY3RQcm9wcyA9IHtcbiAgICAgIGNoaWxkcmVuOiB0cnVlLFxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHRydWUsXG4gICAgICBrZXk6IHRydWUsXG4gICAgICByZWY6IHRydWVcbiAgICB9O1xuICAgIHZhciB3YXJuZWRQcm9wZXJ0aWVzID0ge307XG4gICAgdmFyIHdhcm5Vbmtub3duUHJvcGVydHkgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICBpZiAoRE9NUHJvcGVydHkucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSB8fCBET01Qcm9wZXJ0eS5pc0N1c3RvbUF0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocmVhY3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiByZWFjdFByb3BzW25hbWVdIHx8IHdhcm5lZFByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgd2FybmVkUHJvcGVydGllc1tuYW1lXSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gdHJ1ZTtcbiAgICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHZhciBzdGFuZGFyZE5hbWUgPSBET01Qcm9wZXJ0eS5pc0N1c3RvbUF0dHJpYnV0ZShsb3dlckNhc2VkTmFtZSkgPyBsb3dlckNhc2VkTmFtZSA6IERPTVByb3BlcnR5LmdldFBvc3NpYmxlU3RhbmRhcmROYW1lLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKSA/IERPTVByb3BlcnR5LmdldFBvc3NpYmxlU3RhbmRhcmROYW1lW2xvd2VyQ2FzZWROYW1lXSA6IG51bGw7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhzdGFuZGFyZE5hbWUgPT0gbnVsbCwgJ1Vua25vd24gRE9NIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gJXM/JywgbmFtZSwgc3RhbmRhcmROYW1lKSA6IHZvaWQgMDtcbiAgICAgIHZhciByZWdpc3RyYXRpb25OYW1lID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5wb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKSA/IEV2ZW50UGx1Z2luUmVnaXN0cnkucG9zc2libGVSZWdpc3RyYXRpb25OYW1lc1tsb3dlckNhc2VkTmFtZV0gOiBudWxsO1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcocmVnaXN0cmF0aW9uTmFtZSA9PSBudWxsLCAnVW5rbm93biBldmVudCBoYW5kbGVyIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gYCVzYD8nLCBuYW1lLCByZWdpc3RyYXRpb25OYW1lKSA6IHZvaWQgMDtcbiAgICB9O1xuICB9XG4gIHZhciBSZWFjdERPTVVua25vd25Qcm9wZXJ0eURldnRvb2wgPSB7XG4gICAgb25DcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eTogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHdhcm5Vbmtub3duUHJvcGVydHkobmFtZSk7XG4gICAgfSxcbiAgICBvblNldFZhbHVlRm9yUHJvcGVydHk6IGZ1bmN0aW9uKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgICB3YXJuVW5rbm93blByb3BlcnR5KG5hbWUpO1xuICAgIH0sXG4gICAgb25EZWxldGVWYWx1ZUZvclByb3BlcnR5OiBmdW5jdGlvbihub2RlLCBuYW1lKSB7XG4gICAgICB3YXJuVW5rbm93blByb3BlcnR5KG5hbWUpO1xuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTVVua25vd25Qcm9wZXJ0eURldnRvb2w7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBSZWFjdERPTVVua25vd25Qcm9wZXJ0eURldnRvb2wgPSByZXF1aXJlKCcuL1JlYWN0RE9NVW5rbm93blByb3BlcnR5RGV2dG9vbCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIGV2ZW50SGFuZGxlcnMgPSBbXTtcbiAgdmFyIGhhbmRsZXJEb2VzVGhyb3dGb3JFdmVudCA9IHt9O1xuICBmdW5jdGlvbiBlbWl0RXZlbnQoaGFuZGxlckZ1bmN0aW9uTmFtZSwgYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBldmVudEhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChoYW5kbGVyW2hhbmRsZXJGdW5jdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICBoYW5kbGVyW2hhbmRsZXJGdW5jdGlvbk5hbWVdKGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFoYW5kbGVyRG9lc1Rocm93Rm9yRXZlbnRbaGFuZGxlckZ1bmN0aW9uTmFtZV0sICdleGNlcHRpb24gdGhyb3duIGJ5IGRldnRvb2wgd2hpbGUgaGFuZGxpbmcgJXM6ICVzJywgaGFuZGxlckZ1bmN0aW9uTmFtZSwgZS5tZXNzYWdlKSA6IHZvaWQgMDtcbiAgICAgICAgICBoYW5kbGVyRG9lc1Rocm93Rm9yRXZlbnRbaGFuZGxlckZ1bmN0aW9uTmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgdmFyIFJlYWN0RE9NRGVidWdUb29sID0ge1xuICAgIGFkZERldnRvb2w6IGZ1bmN0aW9uKGRldnRvb2wpIHtcbiAgICAgIGV2ZW50SGFuZGxlcnMucHVzaChkZXZ0b29sKTtcbiAgICB9LFxuICAgIHJlbW92ZURldnRvb2w6IGZ1bmN0aW9uKGRldnRvb2wpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZXZlbnRIYW5kbGVyc1tpXSA9PT0gZGV2dG9vbCkge1xuICAgICAgICAgIGV2ZW50SGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgb25DcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eTogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIGVtaXRFdmVudCgnb25DcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eScsIG5hbWUsIHZhbHVlKTtcbiAgICB9LFxuICAgIG9uU2V0VmFsdWVGb3JQcm9wZXJ0eTogZnVuY3Rpb24obm9kZSwgbmFtZSwgdmFsdWUpIHtcbiAgICAgIGVtaXRFdmVudCgnb25TZXRWYWx1ZUZvclByb3BlcnR5Jywgbm9kZSwgbmFtZSwgdmFsdWUpO1xuICAgIH0sXG4gICAgb25EZWxldGVWYWx1ZUZvclByb3BlcnR5OiBmdW5jdGlvbihub2RlLCBuYW1lKSB7XG4gICAgICBlbWl0RXZlbnQoJ29uRGVsZXRlVmFsdWVGb3JQcm9wZXJ0eScsIG5vZGUsIG5hbWUpO1xuICAgIH1cbiAgfTtcbiAgUmVhY3RET01EZWJ1Z1Rvb2wuYWRkRGV2dG9vbChSZWFjdERPTVVua25vd25Qcm9wZXJ0eURldnRvb2wpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NRGVidWdUb29sO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIFJlYWN0RE9NRGVidWdUb29sID0gcmVxdWlyZSgnLi9SZWFjdERPTURlYnVnVG9vbCcpO1xubW9kdWxlLmV4cG9ydHMgPSB7ZGVidWdUb29sOiBSZWFjdERPTURlYnVnVG9vbH07XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIgPSByZXF1aXJlKCcuL2VzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlcicpO1xuZnVuY3Rpb24gcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXIodmFsdWUpIHtcbiAgcmV0dXJuICdcIicgKyBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIodmFsdWUpICsgJ1wiJztcbn1cbm1vZHVsZS5leHBvcnRzID0gcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXI7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eScpO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gcmVxdWlyZSgnLi9SZWFjdERPTUNvbXBvbmVudFRyZWUnKTtcbiAgdmFyIFJlYWN0RE9NSW5zdHJ1bWVudGF0aW9uID0gcmVxdWlyZSgnLi9SZWFjdERPTUluc3RydW1lbnRhdGlvbicpO1xuICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSByZXF1aXJlKCcuL1JlYWN0SW5zdHJ1bWVudGF0aW9uJyk7XG4gIHZhciBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3NlciA9IHJlcXVpcmUoJy4vcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXInKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBWQUxJRF9BVFRSSUJVVEVfTkFNRV9SRUdFWCA9IG5ldyBSZWdFeHAoJ15bJyArIERPTVByb3BlcnR5LkFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVIgKyAnXVsnICsgRE9NUHJvcGVydHkuQVRUUklCVVRFX05BTUVfQ0hBUiArICddKiQnKTtcbiAgdmFyIGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUgPSB7fTtcbiAgdmFyIHZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZSA9IHt9O1xuICBmdW5jdGlvbiBpc0F0dHJpYnV0ZU5hbWVTYWZlKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICBpZiAodmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUuaGFzT3duUHJvcGVydHkoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFZBTElEX0FUVFJJQlVURV9OQU1FX1JFR0VYLnRlc3QoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgIHZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZVthdHRyaWJ1dGVOYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZVthdHRyaWJ1dGVOYW1lXSA9IHRydWU7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lOiBgJXNgJywgYXR0cmlidXRlTmFtZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHNob3VsZElnbm9yZVZhbHVlKHByb3BlcnR5SW5mbywgdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCB8fCBwcm9wZXJ0eUluZm8uaGFzQm9vbGVhblZhbHVlICYmICF2YWx1ZSB8fCBwcm9wZXJ0eUluZm8uaGFzTnVtZXJpY1ZhbHVlICYmIGlzTmFOKHZhbHVlKSB8fCBwcm9wZXJ0eUluZm8uaGFzUG9zaXRpdmVOdW1lcmljVmFsdWUgJiYgdmFsdWUgPCAxIHx8IHByb3BlcnR5SW5mby5oYXNPdmVybG9hZGVkQm9vbGVhblZhbHVlICYmIHZhbHVlID09PSBmYWxzZTtcbiAgfVxuICB2YXIgRE9NUHJvcGVydHlPcGVyYXRpb25zID0ge1xuICAgIGNyZWF0ZU1hcmt1cEZvcklEOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIERPTVByb3BlcnR5LklEX0FUVFJJQlVURV9OQU1FICsgJz0nICsgcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXIoaWQpO1xuICAgIH0sXG4gICAgc2V0QXR0cmlidXRlRm9ySUQ6IGZ1bmN0aW9uKG5vZGUsIGlkKSB7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZShET01Qcm9wZXJ0eS5JRF9BVFRSSUJVVEVfTkFNRSwgaWQpO1xuICAgIH0sXG4gICAgY3JlYXRlTWFya3VwRm9yUm9vdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRE9NUHJvcGVydHkuUk9PVF9BVFRSSUJVVEVfTkFNRSArICc9XCJcIic7XG4gICAgfSxcbiAgICBzZXRBdHRyaWJ1dGVGb3JSb290OiBmdW5jdGlvbihub2RlKSB7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZShET01Qcm9wZXJ0eS5ST09UX0FUVFJJQlVURV9OQU1FLCAnJyk7XG4gICAgfSxcbiAgICBjcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eTogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0RE9NSW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkNyZWF0ZU1hcmt1cEZvclByb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wZXJ0eUluZm8gPSBET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KG5hbWUpID8gRE9NUHJvcGVydHkucHJvcGVydGllc1tuYW1lXSA6IG51bGw7XG4gICAgICBpZiAocHJvcGVydHlJbmZvKSB7XG4gICAgICAgIGlmIChzaG91bGRJZ25vcmVWYWx1ZShwcm9wZXJ0eUluZm8sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lO1xuICAgICAgICBpZiAocHJvcGVydHlJbmZvLmhhc0Jvb2xlYW5WYWx1ZSB8fCBwcm9wZXJ0eUluZm8uaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZSAmJiB2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGVOYW1lICsgJz1cIlwiJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0cmlidXRlTmFtZSArICc9JyArIHF1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoRE9NUHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hbWUgKyAnPScgKyBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3Nlcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGNyZWF0ZU1hcmt1cEZvckN1c3RvbUF0dHJpYnV0ZTogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmICghaXNBdHRyaWJ1dGVOYW1lU2FmZShuYW1lKSB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYW1lICsgJz0nICsgcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXIodmFsdWUpO1xuICAgIH0sXG4gICAgc2V0VmFsdWVGb3JQcm9wZXJ0eTogZnVuY3Rpb24obm9kZSwgbmFtZSwgdmFsdWUpIHtcbiAgICAgIHZhciBwcm9wZXJ0eUluZm8gPSBET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KG5hbWUpID8gRE9NUHJvcGVydHkucHJvcGVydGllc1tuYW1lXSA6IG51bGw7XG4gICAgICBpZiAocHJvcGVydHlJbmZvKSB7XG4gICAgICAgIHZhciBtdXRhdGlvbk1ldGhvZCA9IHByb3BlcnR5SW5mby5tdXRhdGlvbk1ldGhvZDtcbiAgICAgICAgaWYgKG11dGF0aW9uTWV0aG9kKSB7XG4gICAgICAgICAgbXV0YXRpb25NZXRob2Qobm9kZSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHNob3VsZElnbm9yZVZhbHVlKHByb3BlcnR5SW5mbywgdmFsdWUpKSB7XG4gICAgICAgICAgdGhpcy5kZWxldGVWYWx1ZUZvclByb3BlcnR5KG5vZGUsIG5hbWUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eUluZm8ubXVzdFVzZVByb3BlcnR5KSB7XG4gICAgICAgICAgdmFyIHByb3BOYW1lID0gcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZTtcbiAgICAgICAgICBpZiAoIXByb3BlcnR5SW5mby5oYXNTaWRlRWZmZWN0cyB8fCAnJyArIG5vZGVbcHJvcE5hbWVdICE9PSAnJyArIHZhbHVlKSB7XG4gICAgICAgICAgICBub2RlW3Byb3BOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lO1xuICAgICAgICAgIHZhciBuYW1lc3BhY2UgPSBwcm9wZXJ0eUluZm8uYXR0cmlidXRlTmFtZXNwYWNlO1xuICAgICAgICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlTlMobmFtZXNwYWNlLCBhdHRyaWJ1dGVOYW1lLCAnJyArIHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHByb3BlcnR5SW5mby5oYXNCb29sZWFuVmFsdWUgfHwgcHJvcGVydHlJbmZvLmhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWUgJiYgdmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsICcnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgJycgKyB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5zZXRWYWx1ZUZvckF0dHJpYnV0ZShub2RlLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0RE9NSW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldFZhbHVlRm9yUHJvcGVydHkobm9kZSwgbmFtZSwgdmFsdWUpO1xuICAgICAgICB2YXIgcGF5bG9hZCA9IHt9O1xuICAgICAgICBwYXlsb2FkW25hbWVdID0gdmFsdWU7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShub2RlKS5fZGVidWdJRCwgJ3VwZGF0ZSBhdHRyaWJ1dGUnLCBwYXlsb2FkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldFZhbHVlRm9yQXR0cmlidXRlOiBmdW5jdGlvbihub2RlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgaWYgKCFpc0F0dHJpYnV0ZU5hbWVTYWZlKG5hbWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgJycgKyB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YXIgcGF5bG9hZCA9IHt9O1xuICAgICAgICBwYXlsb2FkW25hbWVdID0gdmFsdWU7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShub2RlKS5fZGVidWdJRCwgJ3VwZGF0ZSBhdHRyaWJ1dGUnLCBwYXlsb2FkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRlbGV0ZVZhbHVlRm9yUHJvcGVydHk6IGZ1bmN0aW9uKG5vZGUsIG5hbWUpIHtcbiAgICAgIHZhciBwcm9wZXJ0eUluZm8gPSBET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KG5hbWUpID8gRE9NUHJvcGVydHkucHJvcGVydGllc1tuYW1lXSA6IG51bGw7XG4gICAgICBpZiAocHJvcGVydHlJbmZvKSB7XG4gICAgICAgIHZhciBtdXRhdGlvbk1ldGhvZCA9IHByb3BlcnR5SW5mby5tdXRhdGlvbk1ldGhvZDtcbiAgICAgICAgaWYgKG11dGF0aW9uTWV0aG9kKSB7XG4gICAgICAgICAgbXV0YXRpb25NZXRob2Qobm9kZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eUluZm8ubXVzdFVzZVByb3BlcnR5KSB7XG4gICAgICAgICAgdmFyIHByb3BOYW1lID0gcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZTtcbiAgICAgICAgICBpZiAocHJvcGVydHlJbmZvLmhhc0Jvb2xlYW5WYWx1ZSkge1xuICAgICAgICAgICAgbm9kZVtwcm9wTmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eUluZm8uaGFzU2lkZUVmZmVjdHMgfHwgJycgKyBub2RlW3Byb3BOYW1lXSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgbm9kZVtwcm9wTmFtZV0gPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUocHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgUmVhY3RET01JbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRGVsZXRlVmFsdWVGb3JQcm9wZXJ0eShub2RlLCBuYW1lKTtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRJbnN0YW5jZUZyb21Ob2RlKG5vZGUpLl9kZWJ1Z0lELCAncmVtb3ZlIGF0dHJpYnV0ZScsIG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBET01Qcm9wZXJ0eU9wZXJhdGlvbnM7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHJlcXVpcmUoJy4vUmVhY3RQcm9wVHlwZXMnKTtcbiAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbnMnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIGhhc1JlYWRPbmx5VmFsdWUgPSB7XG4gICAgJ2J1dHRvbic6IHRydWUsXG4gICAgJ2NoZWNrYm94JzogdHJ1ZSxcbiAgICAnaW1hZ2UnOiB0cnVlLFxuICAgICdoaWRkZW4nOiB0cnVlLFxuICAgICdyYWRpbyc6IHRydWUsXG4gICAgJ3Jlc2V0JzogdHJ1ZSxcbiAgICAnc3VibWl0JzogdHJ1ZVxuICB9O1xuICBmdW5jdGlvbiBfYXNzZXJ0U2luZ2xlTGluayhpbnB1dFByb3BzKSB7XG4gICAgIShpbnB1dFByb3BzLmNoZWNrZWRMaW5rID09IG51bGwgfHwgaW5wdXRQcm9wcy52YWx1ZUxpbmsgPT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHByb3ZpZGUgYSBjaGVja2VkTGluayBhbmQgYSB2YWx1ZUxpbmsuIElmIHlvdSB3YW50IHRvIHVzZSAnICsgJ2NoZWNrZWRMaW5rLCB5b3UgcHJvYmFibHkgZG9uXFwndCB3YW50IHRvIHVzZSB2YWx1ZUxpbmsgYW5kIHZpY2UgdmVyc2EuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB9XG4gIGZ1bmN0aW9uIF9hc3NlcnRWYWx1ZUxpbmsoaW5wdXRQcm9wcykge1xuICAgIF9hc3NlcnRTaW5nbGVMaW5rKGlucHV0UHJvcHMpO1xuICAgICEoaW5wdXRQcm9wcy52YWx1ZSA9PSBudWxsICYmIGlucHV0UHJvcHMub25DaGFuZ2UgPT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHByb3ZpZGUgYSB2YWx1ZUxpbmsgYW5kIGEgdmFsdWUgb3Igb25DaGFuZ2UgZXZlbnQuIElmIHlvdSB3YW50ICcgKyAndG8gdXNlIHZhbHVlIG9yIG9uQ2hhbmdlLCB5b3UgcHJvYmFibHkgZG9uXFwndCB3YW50IHRvIHVzZSB2YWx1ZUxpbmsuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB9XG4gIGZ1bmN0aW9uIF9hc3NlcnRDaGVja2VkTGluayhpbnB1dFByb3BzKSB7XG4gICAgX2Fzc2VydFNpbmdsZUxpbmsoaW5wdXRQcm9wcyk7XG4gICAgIShpbnB1dFByb3BzLmNoZWNrZWQgPT0gbnVsbCAmJiBpbnB1dFByb3BzLm9uQ2hhbmdlID09IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBwcm92aWRlIGEgY2hlY2tlZExpbmsgYW5kIGEgY2hlY2tlZCBwcm9wZXJ0eSBvciBvbkNoYW5nZSBldmVudC4gJyArICdJZiB5b3Ugd2FudCB0byB1c2UgY2hlY2tlZCBvciBvbkNoYW5nZSwgeW91IHByb2JhYmx5IGRvblxcJ3Qgd2FudCB0byAnICsgJ3VzZSBjaGVja2VkTGluaycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgfVxuICB2YXIgcHJvcFR5cGVzID0ge1xuICAgIHZhbHVlOiBmdW5jdGlvbihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICAgIGlmICghcHJvcHNbcHJvcE5hbWVdIHx8IGhhc1JlYWRPbmx5VmFsdWVbcHJvcHMudHlwZV0gfHwgcHJvcHMub25DaGFuZ2UgfHwgcHJvcHMucmVhZE9ubHkgfHwgcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdZb3UgcHJvdmlkZWQgYSBgdmFsdWVgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gJyArICdgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgZmllbGQuIElmICcgKyAndGhlIGZpZWxkIHNob3VsZCBiZSBtdXRhYmxlIHVzZSBgZGVmYXVsdFZhbHVlYC4gT3RoZXJ3aXNlLCAnICsgJ3NldCBlaXRoZXIgYG9uQ2hhbmdlYCBvciBgcmVhZE9ubHlgLicpO1xuICAgIH0sXG4gICAgY2hlY2tlZDogZnVuY3Rpb24ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICBpZiAoIXByb3BzW3Byb3BOYW1lXSB8fCBwcm9wcy5vbkNoYW5nZSB8fCBwcm9wcy5yZWFkT25seSB8fCBwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1lvdSBwcm92aWRlZCBhIGBjaGVja2VkYCBwcm9wIHRvIGEgZm9ybSBmaWVsZCB3aXRob3V0IGFuICcgKyAnYG9uQ2hhbmdlYCBoYW5kbGVyLiBUaGlzIHdpbGwgcmVuZGVyIGEgcmVhZC1vbmx5IGZpZWxkLiBJZiAnICsgJ3RoZSBmaWVsZCBzaG91bGQgYmUgbXV0YWJsZSB1c2UgYGRlZmF1bHRDaGVja2VkYC4gT3RoZXJ3aXNlLCAnICsgJ3NldCBlaXRoZXIgYG9uQ2hhbmdlYCBvciBgcmVhZE9ubHlgLicpO1xuICAgIH0sXG4gICAgb25DaGFuZ2U6IFJlYWN0UHJvcFR5cGVzLmZ1bmNcbiAgfTtcbiAgdmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuICBmdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0ob3duZXIpIHtcbiAgICBpZiAob3duZXIpIHtcbiAgICAgIHZhciBuYW1lID0gb3duZXIuZ2V0TmFtZSgpO1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHZhciBMaW5rZWRWYWx1ZVV0aWxzID0ge1xuICAgIGNoZWNrUHJvcFR5cGVzOiBmdW5jdGlvbih0YWdOYW1lLCBwcm9wcywgb3duZXIpIHtcbiAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIHByb3BUeXBlcykge1xuICAgICAgICBpZiAocHJvcFR5cGVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgIHZhciBlcnJvciA9IHByb3BUeXBlc1twcm9wTmFtZV0ocHJvcHMsIHByb3BOYW1lLCB0YWdOYW1lLCBSZWFjdFByb3BUeXBlTG9jYXRpb25zLnByb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgICAgbG9nZ2VkVHlwZUZhaWx1cmVzW2Vycm9yLm1lc3NhZ2VdID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgYWRkZW5kdW0gPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0ob3duZXIpO1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRmFpbGVkIGZvcm0gcHJvcFR5cGU6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFZhbHVlOiBmdW5jdGlvbihpbnB1dFByb3BzKSB7XG4gICAgICBpZiAoaW5wdXRQcm9wcy52YWx1ZUxpbmspIHtcbiAgICAgICAgX2Fzc2VydFZhbHVlTGluayhpbnB1dFByb3BzKTtcbiAgICAgICAgcmV0dXJuIGlucHV0UHJvcHMudmFsdWVMaW5rLnZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlucHV0UHJvcHMudmFsdWU7XG4gICAgfSxcbiAgICBnZXRDaGVja2VkOiBmdW5jdGlvbihpbnB1dFByb3BzKSB7XG4gICAgICBpZiAoaW5wdXRQcm9wcy5jaGVja2VkTGluaykge1xuICAgICAgICBfYXNzZXJ0Q2hlY2tlZExpbmsoaW5wdXRQcm9wcyk7XG4gICAgICAgIHJldHVybiBpbnB1dFByb3BzLmNoZWNrZWRMaW5rLnZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlucHV0UHJvcHMuY2hlY2tlZDtcbiAgICB9LFxuICAgIGV4ZWN1dGVPbkNoYW5nZTogZnVuY3Rpb24oaW5wdXRQcm9wcywgZXZlbnQpIHtcbiAgICAgIGlmIChpbnB1dFByb3BzLnZhbHVlTGluaykge1xuICAgICAgICBfYXNzZXJ0VmFsdWVMaW5rKGlucHV0UHJvcHMpO1xuICAgICAgICByZXR1cm4gaW5wdXRQcm9wcy52YWx1ZUxpbmsucmVxdWVzdENoYW5nZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChpbnB1dFByb3BzLmNoZWNrZWRMaW5rKSB7XG4gICAgICAgIF9hc3NlcnRDaGVja2VkTGluayhpbnB1dFByb3BzKTtcbiAgICAgICAgcmV0dXJuIGlucHV0UHJvcHMuY2hlY2tlZExpbmsucmVxdWVzdENoYW5nZShldmVudC50YXJnZXQuY2hlY2tlZCk7XG4gICAgICB9IGVsc2UgaWYgKGlucHV0UHJvcHMub25DaGFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0UHJvcHMub25DaGFuZ2UuY2FsbCh1bmRlZmluZWQsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gTGlua2VkVmFsdWVVdGlscztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG4gIHZhciBEaXNhYmxlZElucHV0VXRpbHMgPSByZXF1aXJlKCcuL0Rpc2FibGVkSW5wdXRVdGlscycpO1xuICB2YXIgRE9NUHJvcGVydHlPcGVyYXRpb25zID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eU9wZXJhdGlvbnMnKTtcbiAgdmFyIExpbmtlZFZhbHVlVXRpbHMgPSByZXF1aXJlKCcuL0xpbmtlZFZhbHVlVXRpbHMnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRUcmVlJyk7XG4gIHZhciBSZWFjdFVwZGF0ZXMgPSByZXF1aXJlKCcuL1JlYWN0VXBkYXRlcycpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgZGlkV2FyblZhbHVlTGluayA9IGZhbHNlO1xuICB2YXIgZGlkV2FyblZhbHVlTnVsbCA9IGZhbHNlO1xuICB2YXIgZGlkV2FyblZhbERlZmF1bHRWYWwgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZm9yY2VVcGRhdGVJZk1vdW50ZWQoKSB7XG4gICAgaWYgKHRoaXMuX3Jvb3ROb2RlSUQpIHtcbiAgICAgIFJlYWN0RE9NVGV4dGFyZWEudXBkYXRlV3JhcHBlcih0aGlzKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gd2FybklmVmFsdWVJc051bGwocHJvcHMpIHtcbiAgICBpZiAocHJvcHMgIT0gbnVsbCAmJiBwcm9wcy52YWx1ZSA9PT0gbnVsbCAmJiAhZGlkV2FyblZhbHVlTnVsbCkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdgdmFsdWVgIHByb3Agb24gYHRleHRhcmVhYCBzaG91bGQgbm90IGJlIG51bGwuICcgKyAnQ29uc2lkZXIgdXNpbmcgdGhlIGVtcHR5IHN0cmluZyB0byBjbGVhciB0aGUgY29tcG9uZW50IG9yIGB1bmRlZmluZWRgICcgKyAnZm9yIHVuY29udHJvbGxlZCBjb21wb25lbnRzLicpIDogdm9pZCAwO1xuICAgICAgZGlkV2FyblZhbHVlTnVsbCA9IHRydWU7XG4gICAgfVxuICB9XG4gIHZhciBSZWFjdERPTVRleHRhcmVhID0ge1xuICAgIGdldE5hdGl2ZVByb3BzOiBmdW5jdGlvbihpbnN0LCBwcm9wcykge1xuICAgICAgIShwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PSBudWxsKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgIGRvZXMgbm90IG1ha2Ugc2Vuc2Ugb24gPHRleHRhcmVhPi4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgbmF0aXZlUHJvcHMgPSBfYXNzaWduKHt9LCBEaXNhYmxlZElucHV0VXRpbHMuZ2V0TmF0aXZlUHJvcHMoaW5zdCwgcHJvcHMpLCB7XG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICBjaGlsZHJlbjogaW5zdC5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSxcbiAgICAgICAgb25DaGFuZ2U6IGluc3QuX3dyYXBwZXJTdGF0ZS5vbkNoYW5nZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmF0aXZlUHJvcHM7XG4gICAgfSxcbiAgICBtb3VudFdyYXBwZXI6IGZ1bmN0aW9uKGluc3QsIHByb3BzKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBMaW5rZWRWYWx1ZVV0aWxzLmNoZWNrUHJvcFR5cGVzKCd0ZXh0YXJlYScsIHByb3BzLCBpbnN0Ll9jdXJyZW50RWxlbWVudC5fb3duZXIpO1xuICAgICAgICBpZiAocHJvcHMudmFsdWVMaW5rICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZUxpbmspIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2B2YWx1ZUxpbmtgIHByb3Agb24gYHRleHRhcmVhYCBpcyBkZXByZWNhdGVkOyBzZXQgYHZhbHVlYCBhbmQgYG9uQ2hhbmdlYCBpbnN0ZWFkLicpIDogdm9pZCAwO1xuICAgICAgICAgIGRpZFdhcm5WYWx1ZUxpbmsgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuVmFsRGVmYXVsdFZhbCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnVGV4dGFyZWEgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgJyArICcoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCAnICsgJ2JvdGgpLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIHRleHRhcmVhICcgKyAnYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycpIDogdm9pZCAwO1xuICAgICAgICAgIGRpZFdhcm5WYWxEZWZhdWx0VmFsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcyk7XG4gICAgICB9XG4gICAgICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuICAgICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gICAgICBpZiAoY2hpbGRyZW4gIT0gbnVsbCkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnVXNlIHRoZSBgZGVmYXVsdFZhbHVlYCBvciBgdmFsdWVgIHByb3BzIGluc3RlYWQgb2Ygc2V0dGluZyAnICsgJ2NoaWxkcmVuIG9uIDx0ZXh0YXJlYT4uJykgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgIShkZWZhdWx0VmFsdWUgPT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnSWYgeW91IHN1cHBseSBgZGVmYXVsdFZhbHVlYCBvbiBhIDx0ZXh0YXJlYT4sIGRvIG5vdCBwYXNzIGNoaWxkcmVuLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgIShjaGlsZHJlbi5sZW5ndGggPD0gMSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnPHRleHRhcmVhPiBjYW4gb25seSBoYXZlIGF0IG1vc3Qgb25lIGNoaWxkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuWzBdO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9ICcnICsgY2hpbGRyZW47XG4gICAgICB9XG4gICAgICBpZiAoZGVmYXVsdFZhbHVlID09IG51bGwpIHtcbiAgICAgICAgZGVmYXVsdFZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldFZhbHVlKHByb3BzKTtcbiAgICAgIGluc3QuX3dyYXBwZXJTdGF0ZSA9IHtcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnJyArICh2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBkZWZhdWx0VmFsdWUpLFxuICAgICAgICBsaXN0ZW5lcnM6IG51bGwsXG4gICAgICAgIG9uQ2hhbmdlOiBfaGFuZGxlQ2hhbmdlLmJpbmQoaW5zdClcbiAgICAgIH07XG4gICAgfSxcbiAgICB1cGRhdGVXcmFwcGVyOiBmdW5jdGlvbihpbnN0KSB7XG4gICAgICB2YXIgcHJvcHMgPSBpbnN0Ll9jdXJyZW50RWxlbWVudC5wcm9wcztcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHdhcm5JZlZhbHVlSXNOdWxsKHByb3BzKTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLnNldFZhbHVlRm9yUHJvcGVydHkoUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCksICd2YWx1ZScsICcnICsgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShldmVudCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgIHZhciByZXR1cm5WYWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZXhlY3V0ZU9uQ2hhbmdlKHByb3BzLCBldmVudCk7XG4gICAgUmVhY3RVcGRhdGVzLmFzYXAoZm9yY2VVcGRhdGVJZk1vdW50ZWQsIHRoaXMpO1xuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NVGV4dGFyZWE7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBSZWFjdFJlY29uY2lsZXIgPSByZXF1aXJlKCcuL1JlYWN0UmVjb25jaWxlcicpO1xuICB2YXIgaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCcpO1xuICB2YXIgS2V5RXNjYXBlVXRpbHMgPSByZXF1aXJlKCcuL0tleUVzY2FwZVV0aWxzJyk7XG4gIHZhciBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQnKTtcbiAgdmFyIHRyYXZlcnNlQWxsQ2hpbGRyZW4gPSByZXF1aXJlKCcuL3RyYXZlcnNlQWxsQ2hpbGRyZW4nKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIGZ1bmN0aW9uIGluc3RhbnRpYXRlQ2hpbGQoY2hpbGRJbnN0YW5jZXMsIGNoaWxkLCBuYW1lKSB7XG4gICAgdmFyIGtleVVuaXF1ZSA9IGNoaWxkSW5zdGFuY2VzW25hbWVdID09PSB1bmRlZmluZWQ7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGtleVVuaXF1ZSwgJ2ZsYXR0ZW5DaGlsZHJlbiguLi4pOiBFbmNvdW50ZXJlZCB0d28gY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSBrZXksICcgKyAnYCVzYC4gQ2hpbGQga2V5cyBtdXN0IGJlIHVuaXF1ZTsgd2hlbiB0d28gY2hpbGRyZW4gc2hhcmUgYSBrZXksIG9ubHkgJyArICd0aGUgZmlyc3QgY2hpbGQgd2lsbCBiZSB1c2VkLicsIEtleUVzY2FwZVV0aWxzLnVuZXNjYXBlKG5hbWUpKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKGNoaWxkICE9IG51bGwgJiYga2V5VW5pcXVlKSB7XG4gICAgICBjaGlsZEluc3RhbmNlc1tuYW1lXSA9IGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQoY2hpbGQpO1xuICAgIH1cbiAgfVxuICB2YXIgUmVhY3RDaGlsZFJlY29uY2lsZXIgPSB7XG4gICAgaW5zdGFudGlhdGVDaGlsZHJlbjogZnVuY3Rpb24obmVzdGVkQ2hpbGROb2RlcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgIGlmIChuZXN0ZWRDaGlsZE5vZGVzID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRJbnN0YW5jZXMgPSB7fTtcbiAgICAgIHRyYXZlcnNlQWxsQ2hpbGRyZW4obmVzdGVkQ2hpbGROb2RlcywgaW5zdGFudGlhdGVDaGlsZCwgY2hpbGRJbnN0YW5jZXMpO1xuICAgICAgcmV0dXJuIGNoaWxkSW5zdGFuY2VzO1xuICAgIH0sXG4gICAgdXBkYXRlQ2hpbGRyZW46IGZ1bmN0aW9uKHByZXZDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCByZW1vdmVkTm9kZXMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICBpZiAoIW5leHRDaGlsZHJlbiAmJiAhcHJldkNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuYW1lO1xuICAgICAgdmFyIHByZXZDaGlsZDtcbiAgICAgIGZvciAobmFtZSBpbiBuZXh0Q2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKCFuZXh0Q2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2Q2hpbGQgPSBwcmV2Q2hpbGRyZW4gJiYgcHJldkNoaWxkcmVuW25hbWVdO1xuICAgICAgICB2YXIgcHJldkVsZW1lbnQgPSBwcmV2Q2hpbGQgJiYgcHJldkNoaWxkLl9jdXJyZW50RWxlbWVudDtcbiAgICAgICAgdmFyIG5leHRFbGVtZW50ID0gbmV4dENoaWxkcmVuW25hbWVdO1xuICAgICAgICBpZiAocHJldkNoaWxkICE9IG51bGwgJiYgc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQocHJldkVsZW1lbnQsIG5leHRFbGVtZW50KSkge1xuICAgICAgICAgIFJlYWN0UmVjb25jaWxlci5yZWNlaXZlQ29tcG9uZW50KHByZXZDaGlsZCwgbmV4dEVsZW1lbnQsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgICBuZXh0Q2hpbGRyZW5bbmFtZV0gPSBwcmV2Q2hpbGQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHByZXZDaGlsZCkge1xuICAgICAgICAgICAgcmVtb3ZlZE5vZGVzW25hbWVdID0gUmVhY3RSZWNvbmNpbGVyLmdldE5hdGl2ZU5vZGUocHJldkNoaWxkKTtcbiAgICAgICAgICAgIFJlYWN0UmVjb25jaWxlci51bm1vdW50Q29tcG9uZW50KHByZXZDaGlsZCwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbmV4dENoaWxkSW5zdGFuY2UgPSBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50KG5leHRFbGVtZW50KTtcbiAgICAgICAgICBuZXh0Q2hpbGRyZW5bbmFtZV0gPSBuZXh0Q2hpbGRJbnN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChuYW1lIGluIHByZXZDaGlsZHJlbikge1xuICAgICAgICBpZiAocHJldkNoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpICYmICEobmV4dENoaWxkcmVuICYmIG5leHRDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkpIHtcbiAgICAgICAgICBwcmV2Q2hpbGQgPSBwcmV2Q2hpbGRyZW5bbmFtZV07XG4gICAgICAgICAgcmVtb3ZlZE5vZGVzW25hbWVdID0gUmVhY3RSZWNvbmNpbGVyLmdldE5hdGl2ZU5vZGUocHJldkNoaWxkKTtcbiAgICAgICAgICBSZWFjdFJlY29uY2lsZXIudW5tb3VudENvbXBvbmVudChwcmV2Q2hpbGQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgdW5tb3VudENoaWxkcmVuOiBmdW5jdGlvbihyZW5kZXJlZENoaWxkcmVuLCBzYWZlbHkpIHtcbiAgICAgIGZvciAodmFyIG5hbWUgaW4gcmVuZGVyZWRDaGlsZHJlbikge1xuICAgICAgICBpZiAocmVuZGVyZWRDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgIHZhciByZW5kZXJlZENoaWxkID0gcmVuZGVyZWRDaGlsZHJlbltuYW1lXTtcbiAgICAgICAgICBSZWFjdFJlY29uY2lsZXIudW5tb3VudENvbXBvbmVudChyZW5kZXJlZENoaWxkLCBzYWZlbHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q2hpbGRSZWNvbmNpbGVyO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgS2V5RXNjYXBlVXRpbHMgPSByZXF1aXJlKCcuL0tleUVzY2FwZVV0aWxzJyk7XG4gIHZhciB0cmF2ZXJzZUFsbENoaWxkcmVuID0gcmVxdWlyZSgnLi90cmF2ZXJzZUFsbENoaWxkcmVuJyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICBmdW5jdGlvbiBmbGF0dGVuU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCh0cmF2ZXJzZUNvbnRleHQsIGNoaWxkLCBuYW1lKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRyYXZlcnNlQ29udGV4dDtcbiAgICB2YXIga2V5VW5pcXVlID0gcmVzdWx0W25hbWVdID09PSB1bmRlZmluZWQ7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGtleVVuaXF1ZSwgJ2ZsYXR0ZW5DaGlsZHJlbiguLi4pOiBFbmNvdW50ZXJlZCB0d28gY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSBrZXksICcgKyAnYCVzYC4gQ2hpbGQga2V5cyBtdXN0IGJlIHVuaXF1ZTsgd2hlbiB0d28gY2hpbGRyZW4gc2hhcmUgYSBrZXksIG9ubHkgJyArICd0aGUgZmlyc3QgY2hpbGQgd2lsbCBiZSB1c2VkLicsIEtleUVzY2FwZVV0aWxzLnVuZXNjYXBlKG5hbWUpKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKGtleVVuaXF1ZSAmJiBjaGlsZCAhPSBudWxsKSB7XG4gICAgICByZXN1bHRbbmFtZV0gPSBjaGlsZDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZmxhdHRlbkNoaWxkcmVuKGNoaWxkcmVuKSB7XG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGZsYXR0ZW5TaW5nbGVDaGlsZEludG9Db250ZXh0LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBmbGF0dGVuQ2hpbGRyZW47XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBSZWFjdENvbXBvbmVudEVudmlyb25tZW50ID0gcmVxdWlyZSgnLi9SZWFjdENvbXBvbmVudEVudmlyb25tZW50Jyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzID0gcmVxdWlyZSgnLi9SZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcycpO1xuICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKCcuL1JlYWN0Q3VycmVudE93bmVyJyk7XG4gIHZhciBSZWFjdFJlY29uY2lsZXIgPSByZXF1aXJlKCcuL1JlYWN0UmVjb25jaWxlcicpO1xuICB2YXIgUmVhY3RDaGlsZFJlY29uY2lsZXIgPSByZXF1aXJlKCcuL1JlYWN0Q2hpbGRSZWNvbmNpbGVyJyk7XG4gIHZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xuICB2YXIgZmxhdHRlbkNoaWxkcmVuID0gcmVxdWlyZSgnLi9mbGF0dGVuQ2hpbGRyZW4nKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICBmdW5jdGlvbiBtYWtlSW5zZXJ0TWFya3VwKG1hcmt1cCwgYWZ0ZXJOb2RlLCB0b0luZGV4KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLklOU0VSVF9NQVJLVVAsXG4gICAgICBjb250ZW50OiBtYXJrdXAsXG4gICAgICBmcm9tSW5kZXg6IG51bGwsXG4gICAgICBmcm9tTm9kZTogbnVsbCxcbiAgICAgIHRvSW5kZXg6IHRvSW5kZXgsXG4gICAgICBhZnRlck5vZGU6IGFmdGVyTm9kZVxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gbWFrZU1vdmUoY2hpbGQsIGFmdGVyTm9kZSwgdG9JbmRleCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5NT1ZFX0VYSVNUSU5HLFxuICAgICAgY29udGVudDogbnVsbCxcbiAgICAgIGZyb21JbmRleDogY2hpbGQuX21vdW50SW5kZXgsXG4gICAgICBmcm9tTm9kZTogUmVhY3RSZWNvbmNpbGVyLmdldE5hdGl2ZU5vZGUoY2hpbGQpLFxuICAgICAgdG9JbmRleDogdG9JbmRleCxcbiAgICAgIGFmdGVyTm9kZTogYWZ0ZXJOb2RlXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBtYWtlUmVtb3ZlKGNoaWxkLCBub2RlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLlJFTU9WRV9OT0RFLFxuICAgICAgY29udGVudDogbnVsbCxcbiAgICAgIGZyb21JbmRleDogY2hpbGQuX21vdW50SW5kZXgsXG4gICAgICBmcm9tTm9kZTogbm9kZSxcbiAgICAgIHRvSW5kZXg6IG51bGwsXG4gICAgICBhZnRlck5vZGU6IG51bGxcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIG1ha2VTZXRNYXJrdXAobWFya3VwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLlNFVF9NQVJLVVAsXG4gICAgICBjb250ZW50OiBtYXJrdXAsXG4gICAgICBmcm9tSW5kZXg6IG51bGwsXG4gICAgICBmcm9tTm9kZTogbnVsbCxcbiAgICAgIHRvSW5kZXg6IG51bGwsXG4gICAgICBhZnRlck5vZGU6IG51bGxcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIG1ha2VUZXh0Q29udGVudCh0ZXh0Q29udGVudCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5URVhUX0NPTlRFTlQsXG4gICAgICBjb250ZW50OiB0ZXh0Q29udGVudCxcbiAgICAgIGZyb21JbmRleDogbnVsbCxcbiAgICAgIGZyb21Ob2RlOiBudWxsLFxuICAgICAgdG9JbmRleDogbnVsbCxcbiAgICAgIGFmdGVyTm9kZTogbnVsbFxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZW5xdWV1ZShxdWV1ZSwgdXBkYXRlKSB7XG4gICAgaWYgKHVwZGF0ZSkge1xuICAgICAgcXVldWUgPSBxdWV1ZSB8fCBbXTtcbiAgICAgIHF1ZXVlLnB1c2godXBkYXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXVlO1xuICB9XG4gIGZ1bmN0aW9uIHByb2Nlc3NRdWV1ZShpbnN0LCB1cGRhdGVRdWV1ZSkge1xuICAgIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQucHJvY2Vzc0NoaWxkcmVuVXBkYXRlcyhpbnN0LCB1cGRhdGVRdWV1ZSk7XG4gIH1cbiAgdmFyIHNldENoaWxkcmVuRm9ySW5zdHJ1bWVudGF0aW9uID0gZW1wdHlGdW5jdGlvbjtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBzZXRDaGlsZHJlbkZvckluc3RydW1lbnRhdGlvbiA9IGZ1bmN0aW9uKGNoaWxkcmVuKSB7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRDaGlsZHJlbih0aGlzLl9kZWJ1Z0lELCBjaGlsZHJlbiA/IE9iamVjdC5rZXlzKGNoaWxkcmVuKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbltrZXldLl9kZWJ1Z0lEO1xuICAgICAgfSkgOiBbXSk7XG4gICAgfTtcbiAgfVxuICB2YXIgUmVhY3RNdWx0aUNoaWxkID0ge01peGluOiB7XG4gICAgICBfcmVjb25jaWxlckluc3RhbnRpYXRlQ2hpbGRyZW46IGZ1bmN0aW9uKG5lc3RlZENoaWxkcmVuLCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLmluc3RhbnRpYXRlQ2hpbGRyZW4obmVzdGVkQ2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVhY3RDaGlsZFJlY29uY2lsZXIuaW5zdGFudGlhdGVDaGlsZHJlbihuZXN0ZWRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIF9yZWNvbmNpbGVyVXBkYXRlQ2hpbGRyZW46IGZ1bmN0aW9uKHByZXZDaGlsZHJlbiwgbmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMsIHJlbW92ZWROb2RlcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIG5leHRDaGlsZHJlbjtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSB0aGlzLl9jdXJyZW50RWxlbWVudC5fb3duZXI7XG4gICAgICAgICAgICAgIG5leHRDaGlsZHJlbiA9IGZsYXR0ZW5DaGlsZHJlbihuZXh0TmVzdGVkQ2hpbGRyZW5FbGVtZW50cyk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLnVwZGF0ZUNoaWxkcmVuKHByZXZDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCByZW1vdmVkTm9kZXMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0Q2hpbGRyZW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5leHRDaGlsZHJlbiA9IGZsYXR0ZW5DaGlsZHJlbihuZXh0TmVzdGVkQ2hpbGRyZW5FbGVtZW50cyk7XG4gICAgICAgIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLnVwZGF0ZUNoaWxkcmVuKHByZXZDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCByZW1vdmVkTm9kZXMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIG5leHRDaGlsZHJlbjtcbiAgICAgIH0sXG4gICAgICBtb3VudENoaWxkcmVuOiBmdW5jdGlvbihuZXN0ZWRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5fcmVjb25jaWxlckluc3RhbnRpYXRlQ2hpbGRyZW4obmVzdGVkQ2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRDaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB2YXIgbW91bnRJbWFnZXMgPSBbXTtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBjaGlsZHJlbikge1xuICAgICAgICAgIGlmIChjaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5bbmFtZV07XG4gICAgICAgICAgICB2YXIgbW91bnRJbWFnZSA9IFJlYWN0UmVjb25jaWxlci5tb3VudENvbXBvbmVudChjaGlsZCwgdHJhbnNhY3Rpb24sIHRoaXMsIHRoaXMuX25hdGl2ZUNvbnRhaW5lckluZm8sIGNvbnRleHQpO1xuICAgICAgICAgICAgY2hpbGQuX21vdW50SW5kZXggPSBpbmRleCsrO1xuICAgICAgICAgICAgbW91bnRJbWFnZXMucHVzaChtb3VudEltYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBzZXRDaGlsZHJlbkZvckluc3RydW1lbnRhdGlvbi5jYWxsKHRoaXMsIGNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW91bnRJbWFnZXM7XG4gICAgICB9LFxuICAgICAgdXBkYXRlVGV4dENvbnRlbnQ6IGZ1bmN0aW9uKG5leHRDb250ZW50KSB7XG4gICAgICAgIHZhciBwcmV2Q2hpbGRyZW4gPSB0aGlzLl9yZW5kZXJlZENoaWxkcmVuO1xuICAgICAgICBSZWFjdENoaWxkUmVjb25jaWxlci51bm1vdW50Q2hpbGRyZW4ocHJldkNoaWxkcmVuLCBmYWxzZSk7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gcHJldkNoaWxkcmVuKSB7XG4gICAgICAgICAgaWYgKHByZXZDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgIWZhbHNlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZVRleHRDb250ZW50IGNhbGxlZCBvbiBub24tZW1wdHkgY29tcG9uZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVwZGF0ZXMgPSBbbWFrZVRleHRDb250ZW50KG5leHRDb250ZW50KV07XG4gICAgICAgIHByb2Nlc3NRdWV1ZSh0aGlzLCB1cGRhdGVzKTtcbiAgICAgIH0sXG4gICAgICB1cGRhdGVNYXJrdXA6IGZ1bmN0aW9uKG5leHRNYXJrdXApIHtcbiAgICAgICAgdmFyIHByZXZDaGlsZHJlbiA9IHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW47XG4gICAgICAgIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLnVubW91bnRDaGlsZHJlbihwcmV2Q2hpbGRyZW4sIGZhbHNlKTtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBwcmV2Q2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAocHJldkNoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAhZmFsc2UgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlVGV4dENvbnRlbnQgY2FsbGVkIG9uIG5vbi1lbXB0eSBjb21wb25lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdXBkYXRlcyA9IFttYWtlU2V0TWFya3VwKG5leHRNYXJrdXApXTtcbiAgICAgICAgcHJvY2Vzc1F1ZXVlKHRoaXMsIHVwZGF0ZXMpO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZUNoaWxkcmVuOiBmdW5jdGlvbihuZXh0TmVzdGVkQ2hpbGRyZW5FbGVtZW50cywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2hpbGRyZW4obmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICBfdXBkYXRlQ2hpbGRyZW46IGZ1bmN0aW9uKG5leHROZXN0ZWRDaGlsZHJlbkVsZW1lbnRzLCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgcHJldkNoaWxkcmVuID0gdGhpcy5fcmVuZGVyZWRDaGlsZHJlbjtcbiAgICAgICAgdmFyIHJlbW92ZWROb2RlcyA9IHt9O1xuICAgICAgICB2YXIgbmV4dENoaWxkcmVuID0gdGhpcy5fcmVjb25jaWxlclVwZGF0ZUNoaWxkcmVuKHByZXZDaGlsZHJlbiwgbmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMsIHJlbW92ZWROb2RlcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICBpZiAoIW5leHRDaGlsZHJlbiAmJiAhcHJldkNoaWxkcmVuKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cGRhdGVzID0gbnVsbDtcbiAgICAgICAgdmFyIG5hbWU7XG4gICAgICAgIHZhciBsYXN0SW5kZXggPSAwO1xuICAgICAgICB2YXIgbmV4dEluZGV4ID0gMDtcbiAgICAgICAgdmFyIGxhc3RQbGFjZWROb2RlID0gbnVsbDtcbiAgICAgICAgZm9yIChuYW1lIGluIG5leHRDaGlsZHJlbikge1xuICAgICAgICAgIGlmICghbmV4dENoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHByZXZDaGlsZCA9IHByZXZDaGlsZHJlbiAmJiBwcmV2Q2hpbGRyZW5bbmFtZV07XG4gICAgICAgICAgdmFyIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltuYW1lXTtcbiAgICAgICAgICBpZiAocHJldkNoaWxkID09PSBuZXh0Q2hpbGQpIHtcbiAgICAgICAgICAgIHVwZGF0ZXMgPSBlbnF1ZXVlKHVwZGF0ZXMsIHRoaXMubW92ZUNoaWxkKHByZXZDaGlsZCwgbGFzdFBsYWNlZE5vZGUsIG5leHRJbmRleCwgbGFzdEluZGV4KSk7XG4gICAgICAgICAgICBsYXN0SW5kZXggPSBNYXRoLm1heChwcmV2Q2hpbGQuX21vdW50SW5kZXgsIGxhc3RJbmRleCk7XG4gICAgICAgICAgICBwcmV2Q2hpbGQuX21vdW50SW5kZXggPSBuZXh0SW5kZXg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwcmV2Q2hpbGQpIHtcbiAgICAgICAgICAgICAgbGFzdEluZGV4ID0gTWF0aC5tYXgocHJldkNoaWxkLl9tb3VudEluZGV4LCBsYXN0SW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlcyA9IGVucXVldWUodXBkYXRlcywgdGhpcy5fbW91bnRDaGlsZEF0SW5kZXgobmV4dENoaWxkLCBsYXN0UGxhY2VkTm9kZSwgbmV4dEluZGV4LCB0cmFuc2FjdGlvbiwgY29udGV4dCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0SW5kZXgrKztcbiAgICAgICAgICBsYXN0UGxhY2VkTm9kZSA9IFJlYWN0UmVjb25jaWxlci5nZXROYXRpdmVOb2RlKG5leHRDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChuYW1lIGluIHJlbW92ZWROb2Rlcykge1xuICAgICAgICAgIGlmIChyZW1vdmVkTm9kZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgIHVwZGF0ZXMgPSBlbnF1ZXVlKHVwZGF0ZXMsIHRoaXMuX3VubW91bnRDaGlsZChwcmV2Q2hpbGRyZW5bbmFtZV0sIHJlbW92ZWROb2Rlc1tuYW1lXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlcykge1xuICAgICAgICAgIHByb2Nlc3NRdWV1ZSh0aGlzLCB1cGRhdGVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZW5kZXJlZENoaWxkcmVuID0gbmV4dENoaWxkcmVuO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHNldENoaWxkcmVuRm9ySW5zdHJ1bWVudGF0aW9uLmNhbGwodGhpcywgbmV4dENoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVubW91bnRDaGlsZHJlbjogZnVuY3Rpb24oc2FmZWx5KSB7XG4gICAgICAgIHZhciByZW5kZXJlZENoaWxkcmVuID0gdGhpcy5fcmVuZGVyZWRDaGlsZHJlbjtcbiAgICAgICAgUmVhY3RDaGlsZFJlY29uY2lsZXIudW5tb3VudENoaWxkcmVuKHJlbmRlcmVkQ2hpbGRyZW4sIHNhZmVseSk7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW4gPSBudWxsO1xuICAgICAgfSxcbiAgICAgIG1vdmVDaGlsZDogZnVuY3Rpb24oY2hpbGQsIGFmdGVyTm9kZSwgdG9JbmRleCwgbGFzdEluZGV4KSB7XG4gICAgICAgIGlmIChjaGlsZC5fbW91bnRJbmRleCA8IGxhc3RJbmRleCkge1xuICAgICAgICAgIHJldHVybiBtYWtlTW92ZShjaGlsZCwgYWZ0ZXJOb2RlLCB0b0luZGV4KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNyZWF0ZUNoaWxkOiBmdW5jdGlvbihjaGlsZCwgYWZ0ZXJOb2RlLCBtb3VudEltYWdlKSB7XG4gICAgICAgIHJldHVybiBtYWtlSW5zZXJ0TWFya3VwKG1vdW50SW1hZ2UsIGFmdGVyTm9kZSwgY2hpbGQuX21vdW50SW5kZXgpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZUNoaWxkOiBmdW5jdGlvbihjaGlsZCwgbm9kZSkge1xuICAgICAgICByZXR1cm4gbWFrZVJlbW92ZShjaGlsZCwgbm9kZSk7XG4gICAgICB9LFxuICAgICAgX21vdW50Q2hpbGRBdEluZGV4OiBmdW5jdGlvbihjaGlsZCwgYWZ0ZXJOb2RlLCBpbmRleCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIG1vdW50SW1hZ2UgPSBSZWFjdFJlY29uY2lsZXIubW91bnRDb21wb25lbnQoY2hpbGQsIHRyYW5zYWN0aW9uLCB0aGlzLCB0aGlzLl9uYXRpdmVDb250YWluZXJJbmZvLCBjb250ZXh0KTtcbiAgICAgICAgY2hpbGQuX21vdW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQ2hpbGQoY2hpbGQsIGFmdGVyTm9kZSwgbW91bnRJbWFnZSk7XG4gICAgICB9LFxuICAgICAgX3VubW91bnRDaGlsZDogZnVuY3Rpb24oY2hpbGQsIG5vZGUpIHtcbiAgICAgICAgdmFyIHVwZGF0ZSA9IHRoaXMucmVtb3ZlQ2hpbGQoY2hpbGQsIG5vZGUpO1xuICAgICAgICBjaGlsZC5fbW91bnRJbmRleCA9IG51bGw7XG4gICAgICAgIHJldHVybiB1cGRhdGU7XG4gICAgICB9XG4gICAgfX07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RNdWx0aUNoaWxkO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG52YXIgUG9vbGVkQ2xhc3MgPSByZXF1aXJlKCcuL1Bvb2xlZENsYXNzJyk7XG52YXIgVHJhbnNhY3Rpb24gPSByZXF1aXJlKCcuL1RyYW5zYWN0aW9uJyk7XG52YXIgVFJBTlNBQ1RJT05fV1JBUFBFUlMgPSBbXTtcbnZhciBub29wQ2FsbGJhY2tRdWV1ZSA9IHtlbnF1ZXVlOiBmdW5jdGlvbigpIHt9fTtcbmZ1bmN0aW9uIFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb24ocmVuZGVyVG9TdGF0aWNNYXJrdXApIHtcbiAgdGhpcy5yZWluaXRpYWxpemVUcmFuc2FjdGlvbigpO1xuICB0aGlzLnJlbmRlclRvU3RhdGljTWFya3VwID0gcmVuZGVyVG9TdGF0aWNNYXJrdXA7XG4gIHRoaXMudXNlQ3JlYXRlRWxlbWVudCA9IGZhbHNlO1xufVxudmFyIE1peGluID0ge1xuICBnZXRUcmFuc2FjdGlvbldyYXBwZXJzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gVFJBTlNBQ1RJT05fV1JBUFBFUlM7XG4gIH0sXG4gIGdldFJlYWN0TW91bnRSZWFkeTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5vb3BDYWxsYmFja1F1ZXVlO1xuICB9LFxuICBkZXN0cnVjdG9yOiBmdW5jdGlvbigpIHt9LFxuICBjaGVja3BvaW50OiBmdW5jdGlvbigpIHt9LFxuICByb2xsYmFjazogZnVuY3Rpb24oKSB7fVxufTtcbl9hc3NpZ24oUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFRyYW5zYWN0aW9uLk1peGluLCBNaXhpbik7XG5Qb29sZWRDbGFzcy5hZGRQb29saW5nVG8oUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbik7XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb247XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG4gIHZhciBBdXRvRm9jdXNVdGlscyA9IHJlcXVpcmUoJy4vQXV0b0ZvY3VzVXRpbHMnKTtcbiAgdmFyIENTU1Byb3BlcnR5T3BlcmF0aW9ucyA9IHJlcXVpcmUoJy4vQ1NTUHJvcGVydHlPcGVyYXRpb25zJyk7XG4gIHZhciBET01MYXp5VHJlZSA9IHJlcXVpcmUoJy4vRE9NTGF6eVRyZWUnKTtcbiAgdmFyIERPTU5hbWVzcGFjZXMgPSByZXF1aXJlKCcuL0RPTU5hbWVzcGFjZXMnKTtcbiAgdmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eScpO1xuICB2YXIgRE9NUHJvcGVydHlPcGVyYXRpb25zID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eU9wZXJhdGlvbnMnKTtcbiAgdmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xuICB2YXIgRXZlbnRQbHVnaW5IdWIgPSByZXF1aXJlKCcuL0V2ZW50UGx1Z2luSHViJyk7XG4gIHZhciBFdmVudFBsdWdpblJlZ2lzdHJ5ID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpblJlZ2lzdHJ5Jyk7XG4gIHZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCcuL1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlcicpO1xuICB2YXIgUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL1JlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50Jyk7XG4gIHZhciBSZWFjdERPTUJ1dHRvbiA9IHJlcXVpcmUoJy4vUmVhY3RET01CdXR0b24nKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50RmxhZ3MgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50RmxhZ3MnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRUcmVlJyk7XG4gIHZhciBSZWFjdERPTUlucHV0ID0gcmVxdWlyZSgnLi9SZWFjdERPTUlucHV0Jyk7XG4gIHZhciBSZWFjdERPTU9wdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RET01PcHRpb24nKTtcbiAgdmFyIFJlYWN0RE9NU2VsZWN0ID0gcmVxdWlyZSgnLi9SZWFjdERPTVNlbGVjdCcpO1xuICB2YXIgUmVhY3RET01UZXh0YXJlYSA9IHJlcXVpcmUoJy4vUmVhY3RET01UZXh0YXJlYScpO1xuICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSByZXF1aXJlKCcuL1JlYWN0SW5zdHJ1bWVudGF0aW9uJyk7XG4gIHZhciBSZWFjdE11bHRpQ2hpbGQgPSByZXF1aXJlKCcuL1JlYWN0TXVsdGlDaGlsZCcpO1xuICB2YXIgUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbicpO1xuICB2YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcbiAgdmFyIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlciA9IHJlcXVpcmUoJy4vZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyJyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgdmFyIGlzRXZlbnRTdXBwb3J0ZWQgPSByZXF1aXJlKCcuL2lzRXZlbnRTdXBwb3J0ZWQnKTtcbiAgdmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcbiAgdmFyIHNoYWxsb3dFcXVhbCA9IHJlcXVpcmUoJ2ZianMvbGliL3NoYWxsb3dFcXVhbCcpO1xuICB2YXIgdmFsaWRhdGVET01OZXN0aW5nID0gcmVxdWlyZSgnLi92YWxpZGF0ZURPTU5lc3RpbmcnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBGbGFncyA9IFJlYWN0RE9NQ29tcG9uZW50RmxhZ3M7XG4gIHZhciBkZWxldGVMaXN0ZW5lciA9IEV2ZW50UGx1Z2luSHViLmRlbGV0ZUxpc3RlbmVyO1xuICB2YXIgZ2V0Tm9kZSA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlO1xuICB2YXIgbGlzdGVuVG8gPSBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIubGlzdGVuVG87XG4gIHZhciByZWdpc3RyYXRpb25OYW1lTW9kdWxlcyA9IEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXM7XG4gIHZhciBDT05URU5UX1RZUEVTID0ge1xuICAgICdzdHJpbmcnOiB0cnVlLFxuICAgICdudW1iZXInOiB0cnVlXG4gIH07XG4gIHZhciBTVFlMRSA9IGtleU9mKHtzdHlsZTogbnVsbH0pO1xuICB2YXIgSFRNTCA9IGtleU9mKHtfX2h0bWw6IG51bGx9KTtcbiAgdmFyIFJFU0VSVkVEX1BST1BTID0ge1xuICAgIGNoaWxkcmVuOiBudWxsLFxuICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiBudWxsLFxuICAgIHN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZzogbnVsbFxuICB9O1xuICB2YXIgRE9DX0ZSQUdNRU5UX1RZUEUgPSAxMTtcbiAgZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKGludGVybmFsSW5zdGFuY2UpIHtcbiAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgdmFyIG93bmVyID0gaW50ZXJuYWxJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQuX293bmVyIHx8IG51bGw7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICcgVGhpcyBET00gbm9kZSB3YXMgcmVuZGVyZWQgYnkgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgZnVuY3Rpb24gZnJpZW5kbHlTdHJpbmdpZnkob2JqKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIHJldHVybiAnWycgKyBvYmoubWFwKGZyaWVuZGx5U3RyaW5naWZ5KS5qb2luKCcsICcpICsgJ10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBhaXJzID0gW107XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgdmFyIGtleUVzY2FwZWQgPSAvXlthLXokX11bXFx3JF9dKiQvaS50ZXN0KGtleSkgPyBrZXkgOiBKU09OLnN0cmluZ2lmeShrZXkpO1xuICAgICAgICAgICAgcGFpcnMucHVzaChrZXlFc2NhcGVkICsgJzogJyArIGZyaWVuZGx5U3RyaW5naWZ5KG9ialtrZXldKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAneycgKyBwYWlycy5qb2luKCcsICcpICsgJ30nO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuICdbZnVuY3Rpb24gb2JqZWN0XSc7XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcob2JqKTtcbiAgfVxuICB2YXIgc3R5bGVNdXRhdGlvbldhcm5pbmcgPSB7fTtcbiAgZnVuY3Rpb24gY2hlY2tBbmRXYXJuRm9yTXV0YXRlZFN0eWxlKHN0eWxlMSwgc3R5bGUyLCBjb21wb25lbnQpIHtcbiAgICBpZiAoc3R5bGUxID09IG51bGwgfHwgc3R5bGUyID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNoYWxsb3dFcXVhbChzdHlsZTEsIHN0eWxlMikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnQuX3RhZztcbiAgICB2YXIgb3duZXIgPSBjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICB2YXIgb3duZXJOYW1lO1xuICAgIGlmIChvd25lcikge1xuICAgICAgb3duZXJOYW1lID0gb3duZXIuZ2V0TmFtZSgpO1xuICAgIH1cbiAgICB2YXIgaGFzaCA9IG93bmVyTmFtZSArICd8JyArIGNvbXBvbmVudE5hbWU7XG4gICAgaWYgKHN0eWxlTXV0YXRpb25XYXJuaW5nLmhhc093blByb3BlcnR5KGhhc2gpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0eWxlTXV0YXRpb25XYXJuaW5nW2hhc2hdID0gdHJ1ZTtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2Alc2Agd2FzIHBhc3NlZCBhIHN0eWxlIG9iamVjdCB0aGF0IGhhcyBwcmV2aW91c2x5IGJlZW4gbXV0YXRlZC4gJyArICdNdXRhdGluZyBgc3R5bGVgIGlzIGRlcHJlY2F0ZWQuIENvbnNpZGVyIGNsb25pbmcgaXQgYmVmb3JlaGFuZC4gQ2hlY2sgJyArICd0aGUgYHJlbmRlcmAgJXMuIFByZXZpb3VzIHN0eWxlOiAlcy4gTXV0YXRlZCBzdHlsZTogJXMuJywgY29tcG9uZW50TmFtZSwgb3duZXIgPyAnb2YgYCcgKyBvd25lck5hbWUgKyAnYCcgOiAndXNpbmcgPCcgKyBjb21wb25lbnROYW1lICsgJz4nLCBmcmllbmRseVN0cmluZ2lmeShzdHlsZTEpLCBmcmllbmRseVN0cmluZ2lmeShzdHlsZTIpKSA6IHZvaWQgMDtcbiAgfVxuICBmdW5jdGlvbiBhc3NlcnRWYWxpZFByb3BzKGNvbXBvbmVudCwgcHJvcHMpIHtcbiAgICBpZiAoIXByb3BzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh2b2lkRWxlbWVudFRhZ3NbY29tcG9uZW50Ll90YWddKSB7XG4gICAgICAhKHByb3BzLmNoaWxkcmVuID09IG51bGwgJiYgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgPT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMgaXMgYSB2b2lkIGVsZW1lbnQgdGFnIGFuZCBtdXN0IG5vdCBoYXZlIGBjaGlsZHJlbmAgb3IgJyArICd1c2UgYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC4lcycsIGNvbXBvbmVudC5fdGFnLCBjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50Ll9vd25lciA/ICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgJyArIGNvbXBvbmVudC5fY3VycmVudEVsZW1lbnQuX293bmVyLmdldE5hbWUoKSArICcuJyA6ICcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCAhPSBudWxsKSB7XG4gICAgICAhKHByb3BzLmNoaWxkcmVuID09IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0NhbiBvbmx5IHNldCBvbmUgb2YgYGNoaWxkcmVuYCBvciBgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICEodHlwZW9mIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID09PSAnb2JqZWN0JyAmJiBIVE1MIGluIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgIG11c3QgYmUgaW4gdGhlIGZvcm0gYHtfX2h0bWw6IC4uLn1gLiAnICsgJ1BsZWFzZSB2aXNpdCBodHRwczovL2ZiLm1lL3JlYWN0LWludmFyaWFudC1kYW5nZXJvdXNseS1zZXQtaW5uZXItaHRtbCAnICsgJ2ZvciBtb3JlIGluZm9ybWF0aW9uLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHByb3BzLmlubmVySFRNTCA9PSBudWxsLCAnRGlyZWN0bHkgc2V0dGluZyBwcm9wZXJ0eSBgaW5uZXJIVE1MYCBpcyBub3QgcGVybWl0dGVkLiAnICsgJ0ZvciBtb3JlIGluZm9ybWF0aW9uLCBsb29rdXAgZG9jdW1lbnRhdGlvbiBvbiBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLicpIDogdm9pZCAwO1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcocHJvcHMuc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIHx8ICFwcm9wcy5jb250ZW50RWRpdGFibGUgfHwgcHJvcHMuY2hpbGRyZW4gPT0gbnVsbCwgJ0EgY29tcG9uZW50IGlzIGBjb250ZW50RWRpdGFibGVgIGFuZCBjb250YWlucyBgY2hpbGRyZW5gIG1hbmFnZWQgYnkgJyArICdSZWFjdC4gSXQgaXMgbm93IHlvdXIgcmVzcG9uc2liaWxpdHkgdG8gZ3VhcmFudGVlIHRoYXQgbm9uZSBvZiAnICsgJ3Rob3NlIG5vZGVzIGFyZSB1bmV4cGVjdGVkbHkgbW9kaWZpZWQgb3IgZHVwbGljYXRlZC4gVGhpcyBpcyAnICsgJ3Byb2JhYmx5IG5vdCBpbnRlbnRpb25hbC4nKSA6IHZvaWQgMDtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHByb3BzLm9uRm9jdXNJbiA9PSBudWxsICYmIHByb3BzLm9uRm9jdXNPdXQgPT0gbnVsbCwgJ1JlYWN0IHVzZXMgb25Gb2N1cyBhbmQgb25CbHVyIGluc3RlYWQgb2Ygb25Gb2N1c0luIGFuZCBvbkZvY3VzT3V0LiAnICsgJ0FsbCBSZWFjdCBldmVudHMgYXJlIG5vcm1hbGl6ZWQgdG8gYnViYmxlLCBzbyBvbkZvY3VzSW4gYW5kIG9uRm9jdXNPdXQgJyArICdhcmUgbm90IG5lZWRlZC9zdXBwb3J0ZWQgYnkgUmVhY3QuJykgOiB2b2lkIDA7XG4gICAgfVxuICAgICEocHJvcHMuc3R5bGUgPT0gbnVsbCB8fCB0eXBlb2YgcHJvcHMuc3R5bGUgPT09ICdvYmplY3QnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdUaGUgYHN0eWxlYCBwcm9wIGV4cGVjdHMgYSBtYXBwaW5nIGZyb20gc3R5bGUgcHJvcGVydGllcyB0byB2YWx1ZXMsICcgKyAnbm90IGEgc3RyaW5nLiBGb3IgZXhhbXBsZSwgc3R5bGU9e3ttYXJnaW5SaWdodDogc3BhY2luZyArIFxcJ2VtXFwnfX0gd2hlbiAnICsgJ3VzaW5nIEpTWC4lcycsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShjb21wb25lbnQpKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIH1cbiAgZnVuY3Rpb24gZW5xdWV1ZVB1dExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUsIGxpc3RlbmVyLCB0cmFuc2FjdGlvbikge1xuICAgIGlmICh0cmFuc2FjdGlvbiBpbnN0YW5jZW9mIFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHJlZ2lzdHJhdGlvbk5hbWUgIT09ICdvblNjcm9sbCcgfHwgaXNFdmVudFN1cHBvcnRlZCgnc2Nyb2xsJywgdHJ1ZSksICdUaGlzIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgdGhlIGBvblNjcm9sbGAgZXZlbnQnKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgdmFyIGNvbnRhaW5lckluZm8gPSBpbnN0Ll9uYXRpdmVDb250YWluZXJJbmZvO1xuICAgIHZhciBpc0RvY3VtZW50RnJhZ21lbnQgPSBjb250YWluZXJJbmZvLl9ub2RlICYmIGNvbnRhaW5lckluZm8uX25vZGUubm9kZVR5cGUgPT09IERPQ19GUkFHTUVOVF9UWVBFO1xuICAgIHZhciBkb2MgPSBpc0RvY3VtZW50RnJhZ21lbnQgPyBjb250YWluZXJJbmZvLl9ub2RlIDogY29udGFpbmVySW5mby5fb3duZXJEb2N1bWVudDtcbiAgICBsaXN0ZW5UbyhyZWdpc3RyYXRpb25OYW1lLCBkb2MpO1xuICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUocHV0TGlzdGVuZXIsIHtcbiAgICAgIGluc3Q6IGluc3QsXG4gICAgICByZWdpc3RyYXRpb25OYW1lOiByZWdpc3RyYXRpb25OYW1lLFxuICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHV0TGlzdGVuZXIoKSB7XG4gICAgdmFyIGxpc3RlbmVyVG9QdXQgPSB0aGlzO1xuICAgIEV2ZW50UGx1Z2luSHViLnB1dExpc3RlbmVyKGxpc3RlbmVyVG9QdXQuaW5zdCwgbGlzdGVuZXJUb1B1dC5yZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lclRvUHV0Lmxpc3RlbmVyKTtcbiAgfVxuICBmdW5jdGlvbiBvcHRpb25Qb3N0TW91bnQoKSB7XG4gICAgdmFyIGluc3QgPSB0aGlzO1xuICAgIFJlYWN0RE9NT3B0aW9uLnBvc3RNb3VudFdyYXBwZXIoaW5zdCk7XG4gIH1cbiAgdmFyIHNldENvbnRlbnRDaGlsZEZvckluc3RydW1lbnRhdGlvbiA9IGVtcHR5RnVuY3Rpb247XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgc2V0Q29udGVudENoaWxkRm9ySW5zdHJ1bWVudGF0aW9uID0gZnVuY3Rpb24oY29udGVudFRvVXNlKSB7XG4gICAgICB2YXIgZGVidWdJRCA9IHRoaXMuX2RlYnVnSUQ7XG4gICAgICB2YXIgY29udGVudERlYnVnSUQgPSBkZWJ1Z0lEICsgJyN0ZXh0JztcbiAgICAgIHRoaXMuX2NvbnRlbnREZWJ1Z0lEID0gY29udGVudERlYnVnSUQ7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXREaXNwbGF5TmFtZShjb250ZW50RGVidWdJRCwgJyN0ZXh0Jyk7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRUZXh0KGNvbnRlbnREZWJ1Z0lELCAnJyArIGNvbnRlbnRUb1VzZSk7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25Nb3VudENvbXBvbmVudChjb250ZW50RGVidWdJRCk7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRDaGlsZHJlbihkZWJ1Z0lELCBbY29udGVudERlYnVnSURdKTtcbiAgICB9O1xuICB9XG4gIHZhciBtZWRpYUV2ZW50cyA9IHtcbiAgICB0b3BBYm9ydDogJ2Fib3J0JyxcbiAgICB0b3BDYW5QbGF5OiAnY2FucGxheScsXG4gICAgdG9wQ2FuUGxheVRocm91Z2g6ICdjYW5wbGF5dGhyb3VnaCcsXG4gICAgdG9wRHVyYXRpb25DaGFuZ2U6ICdkdXJhdGlvbmNoYW5nZScsXG4gICAgdG9wRW1wdGllZDogJ2VtcHRpZWQnLFxuICAgIHRvcEVuY3J5cHRlZDogJ2VuY3J5cHRlZCcsXG4gICAgdG9wRW5kZWQ6ICdlbmRlZCcsXG4gICAgdG9wRXJyb3I6ICdlcnJvcicsXG4gICAgdG9wTG9hZGVkRGF0YTogJ2xvYWRlZGRhdGEnLFxuICAgIHRvcExvYWRlZE1ldGFkYXRhOiAnbG9hZGVkbWV0YWRhdGEnLFxuICAgIHRvcExvYWRTdGFydDogJ2xvYWRzdGFydCcsXG4gICAgdG9wUGF1c2U6ICdwYXVzZScsXG4gICAgdG9wUGxheTogJ3BsYXknLFxuICAgIHRvcFBsYXlpbmc6ICdwbGF5aW5nJyxcbiAgICB0b3BQcm9ncmVzczogJ3Byb2dyZXNzJyxcbiAgICB0b3BSYXRlQ2hhbmdlOiAncmF0ZWNoYW5nZScsXG4gICAgdG9wU2Vla2VkOiAnc2Vla2VkJyxcbiAgICB0b3BTZWVraW5nOiAnc2Vla2luZycsXG4gICAgdG9wU3RhbGxlZDogJ3N0YWxsZWQnLFxuICAgIHRvcFN1c3BlbmQ6ICdzdXNwZW5kJyxcbiAgICB0b3BUaW1lVXBkYXRlOiAndGltZXVwZGF0ZScsXG4gICAgdG9wVm9sdW1lQ2hhbmdlOiAndm9sdW1lY2hhbmdlJyxcbiAgICB0b3BXYWl0aW5nOiAnd2FpdGluZydcbiAgfTtcbiAgZnVuY3Rpb24gdHJhcEJ1YmJsZWRFdmVudHNMb2NhbCgpIHtcbiAgICB2YXIgaW5zdCA9IHRoaXM7XG4gICAgIWluc3QuX3Jvb3ROb2RlSUQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnTXVzdCBiZSBtb3VudGVkIHRvIHRyYXAgZXZlbnRzJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBub2RlID0gZ2V0Tm9kZShpbnN0KTtcbiAgICAhbm9kZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd0cmFwQnViYmxlZEV2ZW50KC4uLik6IFJlcXVpcmVzIG5vZGUgdG8gYmUgcmVuZGVyZWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHN3aXRjaCAoaW5zdC5fdGFnKSB7XG4gICAgICBjYXNlICdpZnJhbWUnOlxuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycyA9IFtSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcExvYWQsICdsb2FkJywgbm9kZSldO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgIGNhc2UgJ2F1ZGlvJzpcbiAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBldmVudCBpbiBtZWRpYUV2ZW50cykge1xuICAgICAgICAgIGlmIChtZWRpYUV2ZW50cy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcbiAgICAgICAgICAgIGluc3QuX3dyYXBwZXJTdGF0ZS5saXN0ZW5lcnMucHVzaChSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzW2V2ZW50XSwgbWVkaWFFdmVudHNbZXZlbnRdLCBub2RlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaW1nJzpcbiAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycyA9IFtSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcEVycm9yLCAnZXJyb3InLCBub2RlKSwgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnRyYXBCdWJibGVkRXZlbnQoRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcy50b3BMb2FkLCAnbG9hZCcsIG5vZGUpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmb3JtJzpcbiAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycyA9IFtSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcFJlc2V0LCAncmVzZXQnLCBub2RlKSwgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnRyYXBCdWJibGVkRXZlbnQoRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcy50b3BTdWJtaXQsICdzdWJtaXQnLCBub2RlKV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaW5wdXQnOlxuICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycyA9IFtSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcEludmFsaWQsICdpbnZhbGlkJywgbm9kZSldO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcG9zdFVwZGF0ZVNlbGVjdFdyYXBwZXIoKSB7XG4gICAgUmVhY3RET01TZWxlY3QucG9zdFVwZGF0ZVdyYXBwZXIodGhpcyk7XG4gIH1cbiAgdmFyIG9taXR0ZWRDbG9zZVRhZ3MgPSB7XG4gICAgJ2FyZWEnOiB0cnVlLFxuICAgICdiYXNlJzogdHJ1ZSxcbiAgICAnYnInOiB0cnVlLFxuICAgICdjb2wnOiB0cnVlLFxuICAgICdlbWJlZCc6IHRydWUsXG4gICAgJ2hyJzogdHJ1ZSxcbiAgICAnaW1nJzogdHJ1ZSxcbiAgICAnaW5wdXQnOiB0cnVlLFxuICAgICdrZXlnZW4nOiB0cnVlLFxuICAgICdsaW5rJzogdHJ1ZSxcbiAgICAnbWV0YSc6IHRydWUsXG4gICAgJ3BhcmFtJzogdHJ1ZSxcbiAgICAnc291cmNlJzogdHJ1ZSxcbiAgICAndHJhY2snOiB0cnVlLFxuICAgICd3YnInOiB0cnVlXG4gIH07XG4gIHZhciBuZXdsaW5lRWF0aW5nVGFncyA9IHtcbiAgICAnbGlzdGluZyc6IHRydWUsXG4gICAgJ3ByZSc6IHRydWUsXG4gICAgJ3RleHRhcmVhJzogdHJ1ZVxuICB9O1xuICB2YXIgdm9pZEVsZW1lbnRUYWdzID0gX2Fzc2lnbih7J21lbnVpdGVtJzogdHJ1ZX0sIG9taXR0ZWRDbG9zZVRhZ3MpO1xuICB2YXIgVkFMSURfVEFHX1JFR0VYID0gL15bYS16QS1aXVthLXpBLVo6X1xcLlxcLVxcZF0qJC87XG4gIHZhciB2YWxpZGF0ZWRUYWdDYWNoZSA9IHt9O1xuICB2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbiAgZnVuY3Rpb24gdmFsaWRhdGVEYW5nZXJvdXNUYWcodGFnKSB7XG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbGlkYXRlZFRhZ0NhY2hlLCB0YWcpKSB7XG4gICAgICAhVkFMSURfVEFHX1JFR0VYLnRlc3QodGFnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdJbnZhbGlkIHRhZzogJXMnLCB0YWcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHZhbGlkYXRlZFRhZ0NhY2hlW3RhZ10gPSB0cnVlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBpc0N1c3RvbUNvbXBvbmVudCh0YWdOYW1lLCBwcm9wcykge1xuICAgIHJldHVybiB0YWdOYW1lLmluZGV4T2YoJy0nKSA+PSAwIHx8IHByb3BzLmlzICE9IG51bGw7XG4gIH1cbiAgdmFyIGdsb2JhbElkQ291bnRlciA9IDE7XG4gIGZ1bmN0aW9uIFJlYWN0RE9NQ29tcG9uZW50KGVsZW1lbnQpIHtcbiAgICB2YXIgdGFnID0gZWxlbWVudC50eXBlO1xuICAgIHZhbGlkYXRlRGFuZ2Vyb3VzVGFnKHRhZyk7XG4gICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuX3RhZyA9IHRhZy50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMuX25hbWVzcGFjZVVSSSA9IG51bGw7XG4gICAgdGhpcy5fcmVuZGVyZWRDaGlsZHJlbiA9IG51bGw7XG4gICAgdGhpcy5fcHJldmlvdXNTdHlsZSA9IG51bGw7XG4gICAgdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgPSBudWxsO1xuICAgIHRoaXMuX25hdGl2ZU5vZGUgPSBudWxsO1xuICAgIHRoaXMuX25hdGl2ZVBhcmVudCA9IG51bGw7XG4gICAgdGhpcy5fcm9vdE5vZGVJRCA9IG51bGw7XG4gICAgdGhpcy5fZG9tSUQgPSBudWxsO1xuICAgIHRoaXMuX25hdGl2ZUNvbnRhaW5lckluZm8gPSBudWxsO1xuICAgIHRoaXMuX3dyYXBwZXJTdGF0ZSA9IG51bGw7XG4gICAgdGhpcy5fdG9wTGV2ZWxXcmFwcGVyID0gbnVsbDtcbiAgICB0aGlzLl9mbGFncyA9IDA7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHRoaXMuX2FuY2VzdG9ySW5mbyA9IG51bGw7XG4gICAgICB0aGlzLl9jb250ZW50RGVidWdJRCA9IG51bGw7XG4gICAgfVxuICB9XG4gIFJlYWN0RE9NQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gJ1JlYWN0RE9NQ29tcG9uZW50JztcbiAgUmVhY3RET01Db21wb25lbnQuTWl4aW4gPSB7XG4gICAgbW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIGNvbnRleHQpIHtcbiAgICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSBnbG9iYWxJZENvdW50ZXIrKztcbiAgICAgIHRoaXMuX2RvbUlEID0gbmF0aXZlQ29udGFpbmVySW5mby5faWRDb3VudGVyKys7XG4gICAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBuYXRpdmVQYXJlbnQ7XG4gICAgICB0aGlzLl9uYXRpdmVDb250YWluZXJJbmZvID0gbmF0aXZlQ29udGFpbmVySW5mbztcbiAgICAgIHZhciBwcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgICAgc3dpdGNoICh0aGlzLl90YWcpIHtcbiAgICAgICAgY2FzZSAnaWZyYW1lJzpcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgY2FzZSAnaW1nJzpcbiAgICAgICAgY2FzZSAnZm9ybSc6XG4gICAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgICAgY2FzZSAnYXVkaW8nOlxuICAgICAgICAgIHRoaXMuX3dyYXBwZXJTdGF0ZSA9IHtsaXN0ZW5lcnM6IG51bGx9O1xuICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUodHJhcEJ1YmJsZWRFdmVudHNMb2NhbCwgdGhpcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2J1dHRvbic6XG4gICAgICAgICAgcHJvcHMgPSBSZWFjdERPTUJ1dHRvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBwcm9wcywgbmF0aXZlUGFyZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaW5wdXQnOlxuICAgICAgICAgIFJlYWN0RE9NSW5wdXQubW91bnRXcmFwcGVyKHRoaXMsIHByb3BzLCBuYXRpdmVQYXJlbnQpO1xuICAgICAgICAgIHByb3BzID0gUmVhY3RET01JbnB1dC5nZXROYXRpdmVQcm9wcyh0aGlzLCBwcm9wcyk7XG4gICAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZSh0cmFwQnViYmxlZEV2ZW50c0xvY2FsLCB0aGlzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgICAgICBSZWFjdERPTU9wdGlvbi5tb3VudFdyYXBwZXIodGhpcywgcHJvcHMsIG5hdGl2ZVBhcmVudCk7XG4gICAgICAgICAgcHJvcHMgPSBSZWFjdERPTU9wdGlvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBwcm9wcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgUmVhY3RET01TZWxlY3QubW91bnRXcmFwcGVyKHRoaXMsIHByb3BzLCBuYXRpdmVQYXJlbnQpO1xuICAgICAgICAgIHByb3BzID0gUmVhY3RET01TZWxlY3QuZ2V0TmF0aXZlUHJvcHModGhpcywgcHJvcHMpO1xuICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUodHJhcEJ1YmJsZWRFdmVudHNMb2NhbCwgdGhpcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgICAgICBSZWFjdERPTVRleHRhcmVhLm1vdW50V3JhcHBlcih0aGlzLCBwcm9wcywgbmF0aXZlUGFyZW50KTtcbiAgICAgICAgICBwcm9wcyA9IFJlYWN0RE9NVGV4dGFyZWEuZ2V0TmF0aXZlUHJvcHModGhpcywgcHJvcHMpO1xuICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUodHJhcEJ1YmJsZWRFdmVudHNMb2NhbCwgdGhpcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBhc3NlcnRWYWxpZFByb3BzKHRoaXMsIHByb3BzKTtcbiAgICAgIHZhciBuYW1lc3BhY2VVUkk7XG4gICAgICB2YXIgcGFyZW50VGFnO1xuICAgICAgaWYgKG5hdGl2ZVBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgIG5hbWVzcGFjZVVSSSA9IG5hdGl2ZVBhcmVudC5fbmFtZXNwYWNlVVJJO1xuICAgICAgICBwYXJlbnRUYWcgPSBuYXRpdmVQYXJlbnQuX3RhZztcbiAgICAgIH0gZWxzZSBpZiAobmF0aXZlQ29udGFpbmVySW5mby5fdGFnKSB7XG4gICAgICAgIG5hbWVzcGFjZVVSSSA9IG5hdGl2ZUNvbnRhaW5lckluZm8uX25hbWVzcGFjZVVSSTtcbiAgICAgICAgcGFyZW50VGFnID0gbmF0aXZlQ29udGFpbmVySW5mby5fdGFnO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWVzcGFjZVVSSSA9PSBudWxsIHx8IG5hbWVzcGFjZVVSSSA9PT0gRE9NTmFtZXNwYWNlcy5zdmcgJiYgcGFyZW50VGFnID09PSAnZm9yZWlnbm9iamVjdCcpIHtcbiAgICAgICAgbmFtZXNwYWNlVVJJID0gRE9NTmFtZXNwYWNlcy5odG1sO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWVzcGFjZVVSSSA9PT0gRE9NTmFtZXNwYWNlcy5odG1sKSB7XG4gICAgICAgIGlmICh0aGlzLl90YWcgPT09ICdzdmcnKSB7XG4gICAgICAgICAgbmFtZXNwYWNlVVJJID0gRE9NTmFtZXNwYWNlcy5zdmc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fdGFnID09PSAnbWF0aCcpIHtcbiAgICAgICAgICBuYW1lc3BhY2VVUkkgPSBET01OYW1lc3BhY2VzLm1hdGhtbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fbmFtZXNwYWNlVVJJID0gbmFtZXNwYWNlVVJJO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIHBhcmVudEluZm87XG4gICAgICAgIGlmIChuYXRpdmVQYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgIHBhcmVudEluZm8gPSBuYXRpdmVQYXJlbnQuX2FuY2VzdG9ySW5mbztcbiAgICAgICAgfSBlbHNlIGlmIChuYXRpdmVDb250YWluZXJJbmZvLl90YWcpIHtcbiAgICAgICAgICBwYXJlbnRJbmZvID0gbmF0aXZlQ29udGFpbmVySW5mby5fYW5jZXN0b3JJbmZvO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRJbmZvKSB7XG4gICAgICAgICAgdmFsaWRhdGVET01OZXN0aW5nKHRoaXMuX3RhZywgdGhpcywgcGFyZW50SW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYW5jZXN0b3JJbmZvID0gdmFsaWRhdGVET01OZXN0aW5nLnVwZGF0ZWRBbmNlc3RvckluZm8ocGFyZW50SW5mbywgdGhpcy5fdGFnLCB0aGlzKTtcbiAgICAgIH1cbiAgICAgIHZhciBtb3VudEltYWdlO1xuICAgICAgaWYgKHRyYW5zYWN0aW9uLnVzZUNyZWF0ZUVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBuYXRpdmVDb250YWluZXJJbmZvLl9vd25lckRvY3VtZW50O1xuICAgICAgICB2YXIgZWw7XG4gICAgICAgIGlmIChuYW1lc3BhY2VVUkkgPT09IERPTU5hbWVzcGFjZXMuaHRtbCkge1xuICAgICAgICAgIGlmICh0aGlzLl90YWcgPT09ICdzY3JpcHQnKSB7XG4gICAgICAgICAgICB2YXIgZGl2ID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSAnPCcgKyB0eXBlICsgJz48LycgKyB0eXBlICsgJz4nO1xuICAgICAgICAgICAgZWwgPSBkaXYucmVtb3ZlQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbCA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlLCBwcm9wcy5pcyB8fCBudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWwgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2VVUkksIHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZS5wcmVjYWNoZU5vZGUodGhpcywgZWwpO1xuICAgICAgICB0aGlzLl9mbGFncyB8PSBGbGFncy5oYXNDYWNoZWRDaGlsZE5vZGVzO1xuICAgICAgICBpZiAoIXRoaXMuX25hdGl2ZVBhcmVudCkge1xuICAgICAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5zZXRBdHRyaWJ1dGVGb3JSb290KGVsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVET01Qcm9wZXJ0aWVzKG51bGwsIHByb3BzLCB0cmFuc2FjdGlvbik7XG4gICAgICAgIHZhciBsYXp5VHJlZSA9IERPTUxhenlUcmVlKGVsKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlSW5pdGlhbENoaWxkcmVuKHRyYW5zYWN0aW9uLCBwcm9wcywgY29udGV4dCwgbGF6eVRyZWUpO1xuICAgICAgICBtb3VudEltYWdlID0gbGF6eVRyZWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFnT3BlbiA9IHRoaXMuX2NyZWF0ZU9wZW5UYWdNYXJrdXBBbmRQdXRMaXN0ZW5lcnModHJhbnNhY3Rpb24sIHByb3BzKTtcbiAgICAgICAgdmFyIHRhZ0NvbnRlbnQgPSB0aGlzLl9jcmVhdGVDb250ZW50TWFya3VwKHRyYW5zYWN0aW9uLCBwcm9wcywgY29udGV4dCk7XG4gICAgICAgIGlmICghdGFnQ29udGVudCAmJiBvbWl0dGVkQ2xvc2VUYWdzW3RoaXMuX3RhZ10pIHtcbiAgICAgICAgICBtb3VudEltYWdlID0gdGFnT3BlbiArICcvPic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW91bnRJbWFnZSA9IHRhZ09wZW4gKyAnPicgKyB0YWdDb250ZW50ICsgJzwvJyArIHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGUgKyAnPic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodGhpcy5fdGFnKSB7XG4gICAgICAgIGNhc2UgJ2J1dHRvbic6XG4gICAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgICAgIGlmIChwcm9wcy5hdXRvRm9jdXMpIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoQXV0b0ZvY3VzVXRpbHMuZm9jdXNET01Db21wb25lbnQsIHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKG9wdGlvblBvc3RNb3VudCwgdGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbW91bnRJbWFnZTtcbiAgICB9LFxuICAgIF9jcmVhdGVPcGVuVGFnTWFya3VwQW5kUHV0TGlzdGVuZXJzOiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgcHJvcHMpIHtcbiAgICAgIHZhciByZXQgPSAnPCcgKyB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlO1xuICAgICAgZm9yICh2YXIgcHJvcEtleSBpbiBwcm9wcykge1xuICAgICAgICBpZiAoIXByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BLZXldO1xuICAgICAgICBpZiAocHJvcFZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgICBpZiAocHJvcFZhbHVlKSB7XG4gICAgICAgICAgICBlbnF1ZXVlUHV0TGlzdGVuZXIodGhpcywgcHJvcEtleSwgcHJvcFZhbHVlLCB0cmFuc2FjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAgICAgICAgaWYgKHByb3BWYWx1ZSkge1xuICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGUgPSBwcm9wVmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcHJvcFZhbHVlID0gdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgPSBfYXNzaWduKHt9LCBwcm9wcy5zdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9wVmFsdWUgPSBDU1NQcm9wZXJ0eU9wZXJhdGlvbnMuY3JlYXRlTWFya3VwRm9yU3R5bGVzKHByb3BWYWx1ZSwgdGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBtYXJrdXAgPSBudWxsO1xuICAgICAgICAgIGlmICh0aGlzLl90YWcgIT0gbnVsbCAmJiBpc0N1c3RvbUNvbXBvbmVudCh0aGlzLl90YWcsIHByb3BzKSkge1xuICAgICAgICAgICAgaWYgKCFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgICAgICBtYXJrdXAgPSBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuY3JlYXRlTWFya3VwRm9yQ3VzdG9tQXR0cmlidXRlKHByb3BLZXksIHByb3BWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hcmt1cCA9IERPTVByb3BlcnR5T3BlcmF0aW9ucy5jcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eShwcm9wS2V5LCBwcm9wVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWFya3VwKSB7XG4gICAgICAgICAgICByZXQgKz0gJyAnICsgbWFya3VwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRyYW5zYWN0aW9uLnJlbmRlclRvU3RhdGljTWFya3VwKSB7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuX25hdGl2ZVBhcmVudCkge1xuICAgICAgICByZXQgKz0gJyAnICsgRE9NUHJvcGVydHlPcGVyYXRpb25zLmNyZWF0ZU1hcmt1cEZvclJvb3QoKTtcbiAgICAgIH1cbiAgICAgIHJldCArPSAnICcgKyBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuY3JlYXRlTWFya3VwRm9ySUQodGhpcy5fZG9tSUQpO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuICAgIF9jcmVhdGVDb250ZW50TWFya3VwOiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgcHJvcHMsIGNvbnRleHQpIHtcbiAgICAgIHZhciByZXQgPSAnJztcbiAgICAgIHZhciBpbm5lckhUTUwgPSBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTDtcbiAgICAgIGlmIChpbm5lckhUTUwgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaW5uZXJIVE1MLl9faHRtbCAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0ID0gaW5uZXJIVE1MLl9faHRtbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNvbnRlbnRUb1VzZSA9IENPTlRFTlRfVFlQRVNbdHlwZW9mIHByb3BzLmNoaWxkcmVuXSA/IHByb3BzLmNoaWxkcmVuIDogbnVsbDtcbiAgICAgICAgdmFyIGNoaWxkcmVuVG9Vc2UgPSBjb250ZW50VG9Vc2UgIT0gbnVsbCA/IG51bGwgOiBwcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGNvbnRlbnRUb1VzZSAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0ID0gZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyKGNvbnRlbnRUb1VzZSk7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHNldENvbnRlbnRDaGlsZEZvckluc3RydW1lbnRhdGlvbi5jYWxsKHRoaXMsIGNvbnRlbnRUb1VzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkcmVuVG9Vc2UgIT0gbnVsbCkge1xuICAgICAgICAgIHZhciBtb3VudEltYWdlcyA9IHRoaXMubW91bnRDaGlsZHJlbihjaGlsZHJlblRvVXNlLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgICAgcmV0ID0gbW91bnRJbWFnZXMuam9pbignJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChuZXdsaW5lRWF0aW5nVGFnc1t0aGlzLl90YWddICYmIHJldC5jaGFyQXQoMCkgPT09ICdcXG4nKSB7XG4gICAgICAgIHJldHVybiAnXFxuJyArIHJldDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9XG4gICAgfSxcbiAgICBfY3JlYXRlSW5pdGlhbENoaWxkcmVuOiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgcHJvcHMsIGNvbnRleHQsIGxhenlUcmVlKSB7XG4gICAgICB2YXIgaW5uZXJIVE1MID0gcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw7XG4gICAgICBpZiAoaW5uZXJIVE1MICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlubmVySFRNTC5fX2h0bWwgIT0gbnVsbCkge1xuICAgICAgICAgIERPTUxhenlUcmVlLnF1ZXVlSFRNTChsYXp5VHJlZSwgaW5uZXJIVE1MLl9faHRtbCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjb250ZW50VG9Vc2UgPSBDT05URU5UX1RZUEVTW3R5cGVvZiBwcm9wcy5jaGlsZHJlbl0gPyBwcm9wcy5jaGlsZHJlbiA6IG51bGw7XG4gICAgICAgIHZhciBjaGlsZHJlblRvVXNlID0gY29udGVudFRvVXNlICE9IG51bGwgPyBudWxsIDogcHJvcHMuY2hpbGRyZW47XG4gICAgICAgIGlmIChjb250ZW50VG9Vc2UgIT0gbnVsbCkge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBzZXRDb250ZW50Q2hpbGRGb3JJbnN0cnVtZW50YXRpb24uY2FsbCh0aGlzLCBjb250ZW50VG9Vc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBET01MYXp5VHJlZS5xdWV1ZVRleHQobGF6eVRyZWUsIGNvbnRlbnRUb1VzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5Ub1VzZSAhPSBudWxsKSB7XG4gICAgICAgICAgdmFyIG1vdW50SW1hZ2VzID0gdGhpcy5tb3VudENoaWxkcmVuKGNoaWxkcmVuVG9Vc2UsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vdW50SW1hZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBET01MYXp5VHJlZS5xdWV1ZUNoaWxkKGxhenlUcmVlLCBtb3VudEltYWdlc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICByZWNlaXZlQ29tcG9uZW50OiBmdW5jdGlvbihuZXh0RWxlbWVudCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgIHZhciBwcmV2RWxlbWVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50O1xuICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBuZXh0RWxlbWVudDtcbiAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KHRyYW5zYWN0aW9uLCBwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQsIGNvbnRleHQpO1xuICAgIH0sXG4gICAgdXBkYXRlQ29tcG9uZW50OiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgcHJldkVsZW1lbnQsIG5leHRFbGVtZW50LCBjb250ZXh0KSB7XG4gICAgICB2YXIgbGFzdFByb3BzID0gcHJldkVsZW1lbnQucHJvcHM7XG4gICAgICB2YXIgbmV4dFByb3BzID0gdGhpcy5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICBzd2l0Y2ggKHRoaXMuX3RhZykge1xuICAgICAgICBjYXNlICdidXR0b24nOlxuICAgICAgICAgIGxhc3RQcm9wcyA9IFJlYWN0RE9NQnV0dG9uLmdldE5hdGl2ZVByb3BzKHRoaXMsIGxhc3RQcm9wcyk7XG4gICAgICAgICAgbmV4dFByb3BzID0gUmVhY3RET01CdXR0b24uZ2V0TmF0aXZlUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaW5wdXQnOlxuICAgICAgICAgIFJlYWN0RE9NSW5wdXQudXBkYXRlV3JhcHBlcih0aGlzKTtcbiAgICAgICAgICBsYXN0UHJvcHMgPSBSZWFjdERPTUlucHV0LmdldE5hdGl2ZVByb3BzKHRoaXMsIGxhc3RQcm9wcyk7XG4gICAgICAgICAgbmV4dFByb3BzID0gUmVhY3RET01JbnB1dC5nZXROYXRpdmVQcm9wcyh0aGlzLCBuZXh0UHJvcHMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdvcHRpb24nOlxuICAgICAgICAgIGxhc3RQcm9wcyA9IFJlYWN0RE9NT3B0aW9uLmdldE5hdGl2ZVByb3BzKHRoaXMsIGxhc3RQcm9wcyk7XG4gICAgICAgICAgbmV4dFByb3BzID0gUmVhY3RET01PcHRpb24uZ2V0TmF0aXZlUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgICBsYXN0UHJvcHMgPSBSZWFjdERPTVNlbGVjdC5nZXROYXRpdmVQcm9wcyh0aGlzLCBsYXN0UHJvcHMpO1xuICAgICAgICAgIG5leHRQcm9wcyA9IFJlYWN0RE9NU2VsZWN0LmdldE5hdGl2ZVByb3BzKHRoaXMsIG5leHRQcm9wcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgICAgICBSZWFjdERPTVRleHRhcmVhLnVwZGF0ZVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgbGFzdFByb3BzID0gUmVhY3RET01UZXh0YXJlYS5nZXROYXRpdmVQcm9wcyh0aGlzLCBsYXN0UHJvcHMpO1xuICAgICAgICAgIG5leHRQcm9wcyA9IFJlYWN0RE9NVGV4dGFyZWEuZ2V0TmF0aXZlUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGFzc2VydFZhbGlkUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgIHRoaXMuX3VwZGF0ZURPTVByb3BlcnRpZXMobGFzdFByb3BzLCBuZXh0UHJvcHMsIHRyYW5zYWN0aW9uKTtcbiAgICAgIHRoaXMuX3VwZGF0ZURPTUNoaWxkcmVuKGxhc3RQcm9wcywgbmV4dFByb3BzLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICBpZiAodGhpcy5fdGFnID09PSAnc2VsZWN0Jykge1xuICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKHBvc3RVcGRhdGVTZWxlY3RXcmFwcGVyLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIF91cGRhdGVET01Qcm9wZXJ0aWVzOiBmdW5jdGlvbihsYXN0UHJvcHMsIG5leHRQcm9wcywgdHJhbnNhY3Rpb24pIHtcbiAgICAgIHZhciBwcm9wS2V5O1xuICAgICAgdmFyIHN0eWxlTmFtZTtcbiAgICAgIHZhciBzdHlsZVVwZGF0ZXM7XG4gICAgICBmb3IgKHByb3BLZXkgaW4gbGFzdFByb3BzKSB7XG4gICAgICAgIGlmIChuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgfHwgIWxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSB8fCBsYXN0UHJvcHNbcHJvcEtleV0gPT0gbnVsbCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAgICAgIHZhciBsYXN0U3R5bGUgPSB0aGlzLl9wcmV2aW91c1N0eWxlQ29weTtcbiAgICAgICAgICBmb3IgKHN0eWxlTmFtZSBpbiBsYXN0U3R5bGUpIHtcbiAgICAgICAgICAgIGlmIChsYXN0U3R5bGUuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkge1xuICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXMgPSBzdHlsZVVwZGF0ZXMgfHwge307XG4gICAgICAgICAgICAgIHN0eWxlVXBkYXRlc1tzdHlsZU5hbWVdID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5ID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChyZWdpc3RyYXRpb25OYW1lTW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgIGlmIChsYXN0UHJvcHNbcHJvcEtleV0pIHtcbiAgICAgICAgICAgIGRlbGV0ZUxpc3RlbmVyKHRoaXMsIHByb3BLZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzW3Byb3BLZXldIHx8IERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKHByb3BLZXkpKSB7XG4gICAgICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLmRlbGV0ZVZhbHVlRm9yUHJvcGVydHkoZ2V0Tm9kZSh0aGlzKSwgcHJvcEtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAocHJvcEtleSBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgdmFyIG5leHRQcm9wID0gbmV4dFByb3BzW3Byb3BLZXldO1xuICAgICAgICB2YXIgbGFzdFByb3AgPSBwcm9wS2V5ID09PSBTVFlMRSA/IHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5IDogbGFzdFByb3BzICE9IG51bGwgPyBsYXN0UHJvcHNbcHJvcEtleV0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghbmV4dFByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpIHx8IG5leHRQcm9wID09PSBsYXN0UHJvcCB8fCBuZXh0UHJvcCA9PSBudWxsICYmIGxhc3RQcm9wID09IG51bGwpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgICAgICBpZiAobmV4dFByb3ApIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIGNoZWNrQW5kV2FybkZvck11dGF0ZWRTdHlsZSh0aGlzLl9wcmV2aW91c1N0eWxlQ29weSwgdGhpcy5fcHJldmlvdXNTdHlsZSwgdGhpcyk7XG4gICAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGUgPSBuZXh0UHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRQcm9wID0gdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgPSBfYXNzaWduKHt9LCBuZXh0UHJvcCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGxhc3RQcm9wKSB7XG4gICAgICAgICAgICBmb3IgKHN0eWxlTmFtZSBpbiBsYXN0UHJvcCkge1xuICAgICAgICAgICAgICBpZiAobGFzdFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJiAoIW5leHRQcm9wIHx8ICFuZXh0UHJvcC5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSkge1xuICAgICAgICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IHN0eWxlVXBkYXRlcyB8fCB7fTtcbiAgICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXNbc3R5bGVOYW1lXSA9ICcnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHN0eWxlTmFtZSBpbiBuZXh0UHJvcCkge1xuICAgICAgICAgICAgICBpZiAobmV4dFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJiBsYXN0UHJvcFtzdHlsZU5hbWVdICE9PSBuZXh0UHJvcFtzdHlsZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVVcGRhdGVzID0gc3R5bGVVcGRhdGVzIHx8IHt9O1xuICAgICAgICAgICAgICAgIHN0eWxlVXBkYXRlc1tzdHlsZU5hbWVdID0gbmV4dFByb3Bbc3R5bGVOYW1lXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHlsZVVwZGF0ZXMgPSBuZXh0UHJvcDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgICBpZiAobmV4dFByb3ApIHtcbiAgICAgICAgICAgIGVucXVldWVQdXRMaXN0ZW5lcih0aGlzLCBwcm9wS2V5LCBuZXh0UHJvcCwgdHJhbnNhY3Rpb24pO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGFzdFByb3ApIHtcbiAgICAgICAgICAgIGRlbGV0ZUxpc3RlbmVyKHRoaXMsIHByb3BLZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc0N1c3RvbUNvbXBvbmVudCh0aGlzLl90YWcsIG5leHRQcm9wcykpIHtcbiAgICAgICAgICBpZiAoIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JBdHRyaWJ1dGUoZ2V0Tm9kZSh0aGlzKSwgcHJvcEtleSwgbmV4dFByb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzW3Byb3BLZXldIHx8IERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKHByb3BLZXkpKSB7XG4gICAgICAgICAgdmFyIG5vZGUgPSBnZXROb2RlKHRoaXMpO1xuICAgICAgICAgIGlmIChuZXh0UHJvcCAhPSBudWxsKSB7XG4gICAgICAgICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JQcm9wZXJ0eShub2RlLCBwcm9wS2V5LCBuZXh0UHJvcCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5kZWxldGVWYWx1ZUZvclByb3BlcnR5KG5vZGUsIHByb3BLZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0eWxlVXBkYXRlcykge1xuICAgICAgICBDU1NQcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JTdHlsZXMoZ2V0Tm9kZSh0aGlzKSwgc3R5bGVVcGRhdGVzLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIF91cGRhdGVET01DaGlsZHJlbjogZnVuY3Rpb24obGFzdFByb3BzLCBuZXh0UHJvcHMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICB2YXIgbGFzdENvbnRlbnQgPSBDT05URU5UX1RZUEVTW3R5cGVvZiBsYXN0UHJvcHMuY2hpbGRyZW5dID8gbGFzdFByb3BzLmNoaWxkcmVuIDogbnVsbDtcbiAgICAgIHZhciBuZXh0Q29udGVudCA9IENPTlRFTlRfVFlQRVNbdHlwZW9mIG5leHRQcm9wcy5jaGlsZHJlbl0gPyBuZXh0UHJvcHMuY2hpbGRyZW4gOiBudWxsO1xuICAgICAgdmFyIGxhc3RIdG1sID0gbGFzdFByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICYmIGxhc3RQcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTC5fX2h0bWw7XG4gICAgICB2YXIgbmV4dEh0bWwgPSBuZXh0UHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgJiYgbmV4dFByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLl9faHRtbDtcbiAgICAgIHZhciBsYXN0Q2hpbGRyZW4gPSBsYXN0Q29udGVudCAhPSBudWxsID8gbnVsbCA6IGxhc3RQcm9wcy5jaGlsZHJlbjtcbiAgICAgIHZhciBuZXh0Q2hpbGRyZW4gPSBuZXh0Q29udGVudCAhPSBudWxsID8gbnVsbCA6IG5leHRQcm9wcy5jaGlsZHJlbjtcbiAgICAgIHZhciBsYXN0SGFzQ29udGVudE9ySHRtbCA9IGxhc3RDb250ZW50ICE9IG51bGwgfHwgbGFzdEh0bWwgIT0gbnVsbDtcbiAgICAgIHZhciBuZXh0SGFzQ29udGVudE9ySHRtbCA9IG5leHRDb250ZW50ICE9IG51bGwgfHwgbmV4dEh0bWwgIT0gbnVsbDtcbiAgICAgIGlmIChsYXN0Q2hpbGRyZW4gIT0gbnVsbCAmJiBuZXh0Q2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUNoaWxkcmVuKG51bGwsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgIH0gZWxzZSBpZiAobGFzdEhhc0NvbnRlbnRPckh0bWwgJiYgIW5leHRIYXNDb250ZW50T3JIdG1sKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dENvbnRlbnQoJycpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldENoaWxkcmVuKHRoaXMuX2RlYnVnSUQsIFtdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5leHRDb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGxhc3RDb250ZW50ICE9PSBuZXh0Q29udGVudCkge1xuICAgICAgICAgIHRoaXMudXBkYXRlVGV4dENvbnRlbnQoJycgKyBuZXh0Q29udGVudCk7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnREZWJ1Z0lEID0gdGhpcy5fZGVidWdJRCArICcjdGV4dCc7XG4gICAgICAgICAgICBzZXRDb250ZW50Q2hpbGRGb3JJbnN0cnVtZW50YXRpb24uY2FsbCh0aGlzLCBuZXh0Q29udGVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5leHRIdG1sICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGxhc3RIdG1sICE9PSBuZXh0SHRtbCkge1xuICAgICAgICAgIHRoaXMudXBkYXRlTWFya3VwKCcnICsgbmV4dEh0bWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uU2V0Q2hpbGRyZW4odGhpcy5fZGVidWdJRCwgW10pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5leHRDaGlsZHJlbiAhPSBudWxsKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnREZWJ1Z0lEKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25Vbm1vdW50Q29tcG9uZW50KHRoaXMuX2NvbnRlbnREZWJ1Z0lEKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnREZWJ1Z0lEID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVDaGlsZHJlbihuZXh0Q2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldE5hdGl2ZU5vZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGdldE5vZGUodGhpcyk7XG4gICAgfSxcbiAgICB1bm1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihzYWZlbHkpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5fdGFnKSB7XG4gICAgICAgIGNhc2UgJ2lmcmFtZSc6XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGNhc2UgJ2ltZyc6XG4gICAgICAgIGNhc2UgJ2Zvcm0nOlxuICAgICAgICBjYXNlICd2aWRlbyc6XG4gICAgICAgIGNhc2UgJ2F1ZGlvJzpcbiAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fd3JhcHBlclN0YXRlLmxpc3RlbmVycztcbiAgICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBsaXN0ZW5lcnNbaV0ucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgY2FzZSAnaGVhZCc6XG4gICAgICAgIGNhc2UgJ2JvZHknOlxuICAgICAgICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICc8JXM+IHRyaWVkIHRvIHVubW91bnQuIEJlY2F1c2Ugb2YgY3Jvc3MtYnJvd3NlciBxdWlya3MgaXQgaXMgJyArICdpbXBvc3NpYmxlIHRvIHVubW91bnQgc29tZSB0b3AtbGV2ZWwgY29tcG9uZW50cyAoZWcgPGh0bWw+LCAnICsgJzxoZWFkPiwgYW5kIDxib2R5PikgcmVsaWFibHkgYW5kIGVmZmljaWVudGx5LiBUbyBmaXggdGhpcywgaGF2ZSBhICcgKyAnc2luZ2xlIHRvcC1sZXZlbCBjb21wb25lbnQgdGhhdCBuZXZlciB1bm1vdW50cyByZW5kZXIgdGhlc2UgJyArICdlbGVtZW50cy4nLCB0aGlzLl90YWcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRoaXMudW5tb3VudENoaWxkcmVuKHNhZmVseSk7XG4gICAgICBSZWFjdERPTUNvbXBvbmVudFRyZWUudW5jYWNoZU5vZGUodGhpcyk7XG4gICAgICBFdmVudFBsdWdpbkh1Yi5kZWxldGVBbGxMaXN0ZW5lcnModGhpcyk7XG4gICAgICBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudC51bm1vdW50SURGcm9tRW52aXJvbm1lbnQodGhpcy5fcm9vdE5vZGVJRCk7XG4gICAgICB0aGlzLl9yb290Tm9kZUlEID0gbnVsbDtcbiAgICAgIHRoaXMuX2RvbUlEID0gbnVsbDtcbiAgICAgIHRoaXMuX3dyYXBwZXJTdGF0ZSA9IG51bGw7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudERlYnVnSUQpIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25Vbm1vdW50Q29tcG9uZW50KHRoaXMuX2NvbnRlbnREZWJ1Z0lEKTtcbiAgICAgICAgICB0aGlzLl9jb250ZW50RGVidWdJRCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFB1YmxpY0luc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBnZXROb2RlKHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgX2Fzc2lnbihSZWFjdERPTUNvbXBvbmVudC5wcm90b3R5cGUsIFJlYWN0RE9NQ29tcG9uZW50Lk1peGluLCBSZWFjdE11bHRpQ2hpbGQuTWl4aW4pO1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NQ29tcG9uZW50O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG52YXIgRE9NTGF6eVRyZWUgPSByZXF1aXJlKCcuL0RPTUxhenlUcmVlJyk7XG52YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gcmVxdWlyZSgnLi9SZWFjdERPTUNvbXBvbmVudFRyZWUnKTtcbnZhciBSZWFjdERPTUVtcHR5Q29tcG9uZW50ID0gZnVuY3Rpb24oaW5zdGFudGlhdGUpIHtcbiAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBudWxsO1xuICB0aGlzLl9uYXRpdmVOb2RlID0gbnVsbDtcbiAgdGhpcy5fbmF0aXZlUGFyZW50ID0gbnVsbDtcbiAgdGhpcy5fbmF0aXZlQ29udGFpbmVySW5mbyA9IG51bGw7XG4gIHRoaXMuX2RvbUlEID0gbnVsbDtcbn07XG5fYXNzaWduKFJlYWN0RE9NRW1wdHlDb21wb25lbnQucHJvdG90eXBlLCB7XG4gIG1vdW50Q29tcG9uZW50OiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCBjb250ZXh0KSB7XG4gICAgdmFyIGRvbUlEID0gbmF0aXZlQ29udGFpbmVySW5mby5faWRDb3VudGVyKys7XG4gICAgdGhpcy5fZG9tSUQgPSBkb21JRDtcbiAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBuYXRpdmVQYXJlbnQ7XG4gICAgdGhpcy5fbmF0aXZlQ29udGFpbmVySW5mbyA9IG5hdGl2ZUNvbnRhaW5lckluZm87XG4gICAgdmFyIG5vZGVWYWx1ZSA9ICcgcmVhY3QtZW1wdHk6ICcgKyB0aGlzLl9kb21JRCArICcgJztcbiAgICBpZiAodHJhbnNhY3Rpb24udXNlQ3JlYXRlRWxlbWVudCkge1xuICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBuYXRpdmVDb250YWluZXJJbmZvLl9vd25lckRvY3VtZW50O1xuICAgICAgdmFyIG5vZGUgPSBvd25lckRvY3VtZW50LmNyZWF0ZUNvbW1lbnQobm9kZVZhbHVlKTtcbiAgICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZS5wcmVjYWNoZU5vZGUodGhpcywgbm9kZSk7XG4gICAgICByZXR1cm4gRE9NTGF6eVRyZWUobm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0cmFuc2FjdGlvbi5yZW5kZXJUb1N0YXRpY01hcmt1cCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJzwhLS0nICsgbm9kZVZhbHVlICsgJy0tPic7XG4gICAgfVxuICB9LFxuICByZWNlaXZlQ29tcG9uZW50OiBmdW5jdGlvbigpIHt9LFxuICBnZXROYXRpdmVOb2RlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UodGhpcyk7XG4gIH0sXG4gIHVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKCkge1xuICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZS51bmNhY2hlTm9kZSh0aGlzKTtcbiAgfVxufSk7XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NRW1wdHlDb21wb25lbnQ7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICBmdW5jdGlvbiBnZXRMb3dlc3RDb21tb25BbmNlc3RvcihpbnN0QSwgaW5zdEIpIHtcbiAgICAhKCdfbmF0aXZlTm9kZScgaW4gaW5zdEEpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2dldE5vZGVGcm9tSW5zdGFuY2U6IEludmFsaWQgYXJndW1lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEoJ19uYXRpdmVOb2RlJyBpbiBpbnN0QikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZ2V0Tm9kZUZyb21JbnN0YW5jZTogSW52YWxpZCBhcmd1bWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGRlcHRoQSA9IDA7XG4gICAgZm9yICh2YXIgdGVtcEEgPSBpbnN0QTsgdGVtcEE7IHRlbXBBID0gdGVtcEEuX25hdGl2ZVBhcmVudCkge1xuICAgICAgZGVwdGhBKys7XG4gICAgfVxuICAgIHZhciBkZXB0aEIgPSAwO1xuICAgIGZvciAodmFyIHRlbXBCID0gaW5zdEI7IHRlbXBCOyB0ZW1wQiA9IHRlbXBCLl9uYXRpdmVQYXJlbnQpIHtcbiAgICAgIGRlcHRoQisrO1xuICAgIH1cbiAgICB3aGlsZSAoZGVwdGhBIC0gZGVwdGhCID4gMCkge1xuICAgICAgaW5zdEEgPSBpbnN0QS5fbmF0aXZlUGFyZW50O1xuICAgICAgZGVwdGhBLS07XG4gICAgfVxuICAgIHdoaWxlIChkZXB0aEIgLSBkZXB0aEEgPiAwKSB7XG4gICAgICBpbnN0QiA9IGluc3RCLl9uYXRpdmVQYXJlbnQ7XG4gICAgICBkZXB0aEItLTtcbiAgICB9XG4gICAgdmFyIGRlcHRoID0gZGVwdGhBO1xuICAgIHdoaWxlIChkZXB0aC0tKSB7XG4gICAgICBpZiAoaW5zdEEgPT09IGluc3RCKSB7XG4gICAgICAgIHJldHVybiBpbnN0QTtcbiAgICAgIH1cbiAgICAgIGluc3RBID0gaW5zdEEuX25hdGl2ZVBhcmVudDtcbiAgICAgIGluc3RCID0gaW5zdEIuX25hdGl2ZVBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gaXNBbmNlc3RvcihpbnN0QSwgaW5zdEIpIHtcbiAgICAhKCdfbmF0aXZlTm9kZScgaW4gaW5zdEEpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2lzQW5jZXN0b3I6IEludmFsaWQgYXJndW1lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEoJ19uYXRpdmVOb2RlJyBpbiBpbnN0QikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnaXNBbmNlc3RvcjogSW52YWxpZCBhcmd1bWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgd2hpbGUgKGluc3RCKSB7XG4gICAgICBpZiAoaW5zdEIgPT09IGluc3RBKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaW5zdEIgPSBpbnN0Qi5fbmF0aXZlUGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0UGFyZW50SW5zdGFuY2UoaW5zdCkge1xuICAgICEoJ19uYXRpdmVOb2RlJyBpbiBpbnN0KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdnZXRQYXJlbnRJbnN0YW5jZTogSW52YWxpZCBhcmd1bWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGluc3QuX25hdGl2ZVBhcmVudDtcbiAgfVxuICBmdW5jdGlvbiB0cmF2ZXJzZVR3b1BoYXNlKGluc3QsIGZuLCBhcmcpIHtcbiAgICB2YXIgcGF0aCA9IFtdO1xuICAgIHdoaWxlIChpbnN0KSB7XG4gICAgICBwYXRoLnB1c2goaW5zdCk7XG4gICAgICBpbnN0ID0gaW5zdC5fbmF0aXZlUGFyZW50O1xuICAgIH1cbiAgICB2YXIgaTtcbiAgICBmb3IgKGkgPSBwYXRoLmxlbmd0aDsgaS0tID4gMDsgKSB7XG4gICAgICBmbihwYXRoW2ldLCBmYWxzZSwgYXJnKTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZuKHBhdGhbaV0sIHRydWUsIGFyZyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHRyYXZlcnNlRW50ZXJMZWF2ZShmcm9tLCB0bywgZm4sIGFyZ0Zyb20sIGFyZ1RvKSB7XG4gICAgdmFyIGNvbW1vbiA9IGZyb20gJiYgdG8gPyBnZXRMb3dlc3RDb21tb25BbmNlc3Rvcihmcm9tLCB0bykgOiBudWxsO1xuICAgIHZhciBwYXRoRnJvbSA9IFtdO1xuICAgIHdoaWxlIChmcm9tICYmIGZyb20gIT09IGNvbW1vbikge1xuICAgICAgcGF0aEZyb20ucHVzaChmcm9tKTtcbiAgICAgIGZyb20gPSBmcm9tLl9uYXRpdmVQYXJlbnQ7XG4gICAgfVxuICAgIHZhciBwYXRoVG8gPSBbXTtcbiAgICB3aGlsZSAodG8gJiYgdG8gIT09IGNvbW1vbikge1xuICAgICAgcGF0aFRvLnB1c2godG8pO1xuICAgICAgdG8gPSB0by5fbmF0aXZlUGFyZW50O1xuICAgIH1cbiAgICB2YXIgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgcGF0aEZyb20ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZuKHBhdGhGcm9tW2ldLCB0cnVlLCBhcmdGcm9tKTtcbiAgICB9XG4gICAgZm9yIChpID0gcGF0aFRvLmxlbmd0aDsgaS0tID4gMDsgKSB7XG4gICAgICBmbihwYXRoVG9baV0sIGZhbHNlLCBhcmdUbyk7XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0ge1xuICAgIGlzQW5jZXN0b3I6IGlzQW5jZXN0b3IsXG4gICAgZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3I6IGdldExvd2VzdENvbW1vbkFuY2VzdG9yLFxuICAgIGdldFBhcmVudEluc3RhbmNlOiBnZXRQYXJlbnRJbnN0YW5jZSxcbiAgICB0cmF2ZXJzZVR3b1BoYXNlOiB0cmF2ZXJzZVR3b1BoYXNlLFxuICAgIHRyYXZlcnNlRW50ZXJMZWF2ZTogdHJhdmVyc2VFbnRlckxlYXZlXG4gIH07XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCcuL2ludmFyaWFudCcpO1xuICBmdW5jdGlvbiB0b0FycmF5KG9iaikge1xuICAgIHZhciBsZW5ndGggPSBvYmoubGVuZ3RoO1xuICAgICEoIUFycmF5LmlzQXJyYXkob2JqKSAmJiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3RvQXJyYXk6IEFycmF5LWxpa2Ugb2JqZWN0IGV4cGVjdGVkJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEodHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3RvQXJyYXk6IE9iamVjdCBuZWVkcyBhIGxlbmd0aCBwcm9wZXJ0eScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAhKGxlbmd0aCA9PT0gMCB8fCBsZW5ndGggLSAxIGluIG9iaikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndG9BcnJheTogT2JqZWN0IHNob3VsZCBoYXZlIGtleXMgZm9yIGluZGljZXMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgISh0eXBlb2Ygb2JqLmNhbGxlZSAhPT0gJ2Z1bmN0aW9uJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndG9BcnJheTogT2JqZWN0IGNhblxcJ3QgYmUgYGFyZ3VtZW50c2AuIFVzZSByZXN0IHBhcmFtcyAnICsgJyhmdW5jdGlvbiguLi5hcmdzKSB7fSkgb3IgQXJyYXkuZnJvbSgpIGluc3RlYWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmopO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gICAgdmFyIHJldCA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgICAgcmV0W2lpXSA9IG9ialtpaV07XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cbiAgZnVuY3Rpb24gaGFzQXJyYXlOYXR1cmUob2JqKSB7XG4gICAgcmV0dXJuICghIW9iaiAmJiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqID09ICdmdW5jdGlvbicpICYmICdsZW5ndGgnIGluIG9iaiAmJiAhKCdzZXRJbnRlcnZhbCcgaW4gb2JqKSAmJiB0eXBlb2Ygb2JqLm5vZGVUeXBlICE9ICdudW1iZXInICYmIChBcnJheS5pc0FycmF5KG9iaikgfHwgJ2NhbGxlZScgaW4gb2JqIHx8ICdpdGVtJyBpbiBvYmopKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVBcnJheUZyb21NaXhlZChvYmopIHtcbiAgICBpZiAoIWhhc0FycmF5TmF0dXJlKG9iaikpIHtcbiAgICAgIHJldHVybiBbb2JqXTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgcmV0dXJuIG9iai5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdG9BcnJheShvYmopO1xuICAgIH1cbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUFycmF5RnJvbU1peGVkO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG4gIHZhciBjcmVhdGVBcnJheUZyb21NaXhlZCA9IHJlcXVpcmUoJy4vY3JlYXRlQXJyYXlGcm9tTWl4ZWQnKTtcbiAgdmFyIGdldE1hcmt1cFdyYXAgPSByZXF1aXJlKCcuL2dldE1hcmt1cFdyYXAnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJy4vaW52YXJpYW50Jyk7XG4gIHZhciBkdW1teU5vZGUgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSA6IG51bGw7XG4gIHZhciBub2RlTmFtZVBhdHRlcm4gPSAvXlxccyo8KFxcdyspLztcbiAgZnVuY3Rpb24gZ2V0Tm9kZU5hbWUobWFya3VwKSB7XG4gICAgdmFyIG5vZGVOYW1lTWF0Y2ggPSBtYXJrdXAubWF0Y2gobm9kZU5hbWVQYXR0ZXJuKTtcbiAgICByZXR1cm4gbm9kZU5hbWVNYXRjaCAmJiBub2RlTmFtZU1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTm9kZXNGcm9tTWFya3VwKG1hcmt1cCwgaGFuZGxlU2NyaXB0KSB7XG4gICAgdmFyIG5vZGUgPSBkdW1teU5vZGU7XG4gICAgISEhZHVtbXlOb2RlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2NyZWF0ZU5vZGVzRnJvbU1hcmt1cCBkdW1teSBub3QgaW5pdGlhbGl6ZWQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIG5vZGVOYW1lID0gZ2V0Tm9kZU5hbWUobWFya3VwKTtcbiAgICB2YXIgd3JhcCA9IG5vZGVOYW1lICYmIGdldE1hcmt1cFdyYXAobm9kZU5hbWUpO1xuICAgIGlmICh3cmFwKSB7XG4gICAgICBub2RlLmlubmVySFRNTCA9IHdyYXBbMV0gKyBtYXJrdXAgKyB3cmFwWzJdO1xuICAgICAgdmFyIHdyYXBEZXB0aCA9IHdyYXBbMF07XG4gICAgICB3aGlsZSAod3JhcERlcHRoLS0pIHtcbiAgICAgICAgbm9kZSA9IG5vZGUubGFzdENoaWxkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLmlubmVySFRNTCA9IG1hcmt1cDtcbiAgICB9XG4gICAgdmFyIHNjcmlwdHMgPSBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcbiAgICBpZiAoc2NyaXB0cy5sZW5ndGgpIHtcbiAgICAgICFoYW5kbGVTY3JpcHQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnY3JlYXRlTm9kZXNGcm9tTWFya3VwKC4uLik6IFVuZXhwZWN0ZWQgPHNjcmlwdD4gZWxlbWVudCByZW5kZXJlZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBjcmVhdGVBcnJheUZyb21NaXhlZChzY3JpcHRzKS5mb3JFYWNoKGhhbmRsZVNjcmlwdCk7XG4gICAgfVxuICAgIHZhciBub2RlcyA9IEFycmF5LmZyb20obm9kZS5jaGlsZE5vZGVzKTtcbiAgICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpIHtcbiAgICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5sYXN0Q2hpbGQpO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZXM7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVOb2Rlc0Zyb21NYXJrdXA7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJy4vRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJy4vaW52YXJpYW50Jyk7XG4gIHZhciBkdW1teU5vZGUgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSA6IG51bGw7XG4gIHZhciBzaG91bGRXcmFwID0ge307XG4gIHZhciBzZWxlY3RXcmFwID0gWzEsICc8c2VsZWN0IG11bHRpcGxlPVwidHJ1ZVwiPicsICc8L3NlbGVjdD4nXTtcbiAgdmFyIHRhYmxlV3JhcCA9IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddO1xuICB2YXIgdHJXcmFwID0gWzMsICc8dGFibGU+PHRib2R5Pjx0cj4nLCAnPC90cj48L3Rib2R5PjwvdGFibGU+J107XG4gIHZhciBzdmdXcmFwID0gWzEsICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj4nLCAnPC9zdmc+J107XG4gIHZhciBtYXJrdXBXcmFwID0ge1xuICAgICcqJzogWzEsICc/PGRpdj4nLCAnPC9kaXY+J10sXG4gICAgJ2FyZWEnOiBbMSwgJzxtYXA+JywgJzwvbWFwPiddLFxuICAgICdjb2wnOiBbMiwgJzx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+JywgJzwvY29sZ3JvdXA+PC90YWJsZT4nXSxcbiAgICAnbGVnZW5kJzogWzEsICc8ZmllbGRzZXQ+JywgJzwvZmllbGRzZXQ+J10sXG4gICAgJ3BhcmFtJzogWzEsICc8b2JqZWN0PicsICc8L29iamVjdD4nXSxcbiAgICAndHInOiBbMiwgJzx0YWJsZT48dGJvZHk+JywgJzwvdGJvZHk+PC90YWJsZT4nXSxcbiAgICAnb3B0Z3JvdXAnOiBzZWxlY3RXcmFwLFxuICAgICdvcHRpb24nOiBzZWxlY3RXcmFwLFxuICAgICdjYXB0aW9uJzogdGFibGVXcmFwLFxuICAgICdjb2xncm91cCc6IHRhYmxlV3JhcCxcbiAgICAndGJvZHknOiB0YWJsZVdyYXAsXG4gICAgJ3Rmb290JzogdGFibGVXcmFwLFxuICAgICd0aGVhZCc6IHRhYmxlV3JhcCxcbiAgICAndGQnOiB0cldyYXAsXG4gICAgJ3RoJzogdHJXcmFwXG4gIH07XG4gIHZhciBzdmdFbGVtZW50cyA9IFsnY2lyY2xlJywgJ2NsaXBQYXRoJywgJ2RlZnMnLCAnZWxsaXBzZScsICdnJywgJ2ltYWdlJywgJ2xpbmUnLCAnbGluZWFyR3JhZGllbnQnLCAnbWFzaycsICdwYXRoJywgJ3BhdHRlcm4nLCAncG9seWdvbicsICdwb2x5bGluZScsICdyYWRpYWxHcmFkaWVudCcsICdyZWN0JywgJ3N0b3AnLCAndGV4dCcsICd0c3BhbiddO1xuICBzdmdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKG5vZGVOYW1lKSB7XG4gICAgbWFya3VwV3JhcFtub2RlTmFtZV0gPSBzdmdXcmFwO1xuICAgIHNob3VsZFdyYXBbbm9kZU5hbWVdID0gdHJ1ZTtcbiAgfSk7XG4gIGZ1bmN0aW9uIGdldE1hcmt1cFdyYXAobm9kZU5hbWUpIHtcbiAgICAhISFkdW1teU5vZGUgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnTWFya3VwIHdyYXBwaW5nIG5vZGUgbm90IGluaXRpYWxpemVkJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGlmICghbWFya3VwV3JhcC5oYXNPd25Qcm9wZXJ0eShub2RlTmFtZSkpIHtcbiAgICAgIG5vZGVOYW1lID0gJyonO1xuICAgIH1cbiAgICBpZiAoIXNob3VsZFdyYXAuaGFzT3duUHJvcGVydHkobm9kZU5hbWUpKSB7XG4gICAgICBpZiAobm9kZU5hbWUgPT09ICcqJykge1xuICAgICAgICBkdW1teU5vZGUuaW5uZXJIVE1MID0gJzxsaW5rIC8+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGR1bW15Tm9kZS5pbm5lckhUTUwgPSAnPCcgKyBub2RlTmFtZSArICc+PC8nICsgbm9kZU5hbWUgKyAnPic7XG4gICAgICB9XG4gICAgICBzaG91bGRXcmFwW25vZGVOYW1lXSA9ICFkdW1teU5vZGUuZmlyc3RDaGlsZDtcbiAgICB9XG4gICAgcmV0dXJuIHNob3VsZFdyYXBbbm9kZU5hbWVdID8gbWFya3VwV3JhcFtub2RlTmFtZV0gOiBudWxsO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZ2V0TWFya3VwV3JhcDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIERPTUxhenlUcmVlID0gcmVxdWlyZSgnLi9ET01MYXp5VHJlZScpO1xuICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuICB2YXIgY3JlYXRlTm9kZXNGcm9tTWFya3VwID0gcmVxdWlyZSgnZmJqcy9saWIvY3JlYXRlTm9kZXNGcm9tTWFya3VwJyk7XG4gIHZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xuICB2YXIgZ2V0TWFya3VwV3JhcCA9IHJlcXVpcmUoJ2ZianMvbGliL2dldE1hcmt1cFdyYXAnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgT1BFTl9UQUdfTkFNRV9FWFAgPSAvXig8W14gXFwvPl0rKS87XG4gIHZhciBSRVNVTFRfSU5ERVhfQVRUUiA9ICdkYXRhLWRhbmdlci1pbmRleCc7XG4gIGZ1bmN0aW9uIGdldE5vZGVOYW1lKG1hcmt1cCkge1xuICAgIHJldHVybiBtYXJrdXAuc3Vic3RyaW5nKDEsIG1hcmt1cC5pbmRleE9mKCcgJykpO1xuICB9XG4gIHZhciBEYW5nZXIgPSB7XG4gICAgZGFuZ2Vyb3VzbHlSZW5kZXJNYXJrdXA6IGZ1bmN0aW9uKG1hcmt1cExpc3QpIHtcbiAgICAgICFFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZGFuZ2Vyb3VzbHlSZW5kZXJNYXJrdXAoLi4uKTogQ2Fubm90IHJlbmRlciBtYXJrdXAgaW4gYSB3b3JrZXIgJyArICd0aHJlYWQuIE1ha2Ugc3VyZSBgd2luZG93YCBhbmQgYGRvY3VtZW50YCBhcmUgYXZhaWxhYmxlIGdsb2JhbGx5ICcgKyAnYmVmb3JlIHJlcXVpcmluZyBSZWFjdCB3aGVuIHVuaXQgdGVzdGluZyBvciB1c2UgJyArICdSZWFjdERPTVNlcnZlci5yZW5kZXJUb1N0cmluZyBmb3Igc2VydmVyIHJlbmRlcmluZy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgbm9kZU5hbWU7XG4gICAgICB2YXIgbWFya3VwQnlOb2RlTmFtZSA9IHt9O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrdXBMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICFtYXJrdXBMaXN0W2ldID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2Rhbmdlcm91c2x5UmVuZGVyTWFya3VwKC4uLik6IE1pc3NpbmcgbWFya3VwLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgbm9kZU5hbWUgPSBnZXROb2RlTmFtZShtYXJrdXBMaXN0W2ldKTtcbiAgICAgICAgbm9kZU5hbWUgPSBnZXRNYXJrdXBXcmFwKG5vZGVOYW1lKSA/IG5vZGVOYW1lIDogJyonO1xuICAgICAgICBtYXJrdXBCeU5vZGVOYW1lW25vZGVOYW1lXSA9IG1hcmt1cEJ5Tm9kZU5hbWVbbm9kZU5hbWVdIHx8IFtdO1xuICAgICAgICBtYXJrdXBCeU5vZGVOYW1lW25vZGVOYW1lXVtpXSA9IG1hcmt1cExpc3RbaV07XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0TGlzdCA9IFtdO1xuICAgICAgdmFyIHJlc3VsdExpc3RBc3NpZ25tZW50Q291bnQgPSAwO1xuICAgICAgZm9yIChub2RlTmFtZSBpbiBtYXJrdXBCeU5vZGVOYW1lKSB7XG4gICAgICAgIGlmICghbWFya3VwQnlOb2RlTmFtZS5oYXNPd25Qcm9wZXJ0eShub2RlTmFtZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWFya3VwTGlzdEJ5Tm9kZU5hbWUgPSBtYXJrdXBCeU5vZGVOYW1lW25vZGVOYW1lXTtcbiAgICAgICAgdmFyIHJlc3VsdEluZGV4O1xuICAgICAgICBmb3IgKHJlc3VsdEluZGV4IGluIG1hcmt1cExpc3RCeU5vZGVOYW1lKSB7XG4gICAgICAgICAgaWYgKG1hcmt1cExpc3RCeU5vZGVOYW1lLmhhc093blByb3BlcnR5KHJlc3VsdEluZGV4KSkge1xuICAgICAgICAgICAgdmFyIG1hcmt1cCA9IG1hcmt1cExpc3RCeU5vZGVOYW1lW3Jlc3VsdEluZGV4XTtcbiAgICAgICAgICAgIG1hcmt1cExpc3RCeU5vZGVOYW1lW3Jlc3VsdEluZGV4XSA9IG1hcmt1cC5yZXBsYWNlKE9QRU5fVEFHX05BTUVfRVhQLCAnJDEgJyArIFJFU1VMVF9JTkRFWF9BVFRSICsgJz1cIicgKyByZXN1bHRJbmRleCArICdcIiAnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbmRlck5vZGVzID0gY3JlYXRlTm9kZXNGcm9tTWFya3VwKG1hcmt1cExpc3RCeU5vZGVOYW1lLmpvaW4oJycpLCBlbXB0eUZ1bmN0aW9uKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZW5kZXJOb2Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgIHZhciByZW5kZXJOb2RlID0gcmVuZGVyTm9kZXNbal07XG4gICAgICAgICAgaWYgKHJlbmRlck5vZGUuaGFzQXR0cmlidXRlICYmIHJlbmRlck5vZGUuaGFzQXR0cmlidXRlKFJFU1VMVF9JTkRFWF9BVFRSKSkge1xuICAgICAgICAgICAgcmVzdWx0SW5kZXggPSArcmVuZGVyTm9kZS5nZXRBdHRyaWJ1dGUoUkVTVUxUX0lOREVYX0FUVFIpO1xuICAgICAgICAgICAgcmVuZGVyTm9kZS5yZW1vdmVBdHRyaWJ1dGUoUkVTVUxUX0lOREVYX0FUVFIpO1xuICAgICAgICAgICAgISFyZXN1bHRMaXN0Lmhhc093blByb3BlcnR5KHJlc3VsdEluZGV4KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEYW5nZXI6IEFzc2lnbmluZyB0byBhbiBhbHJlYWR5LW9jY3VwaWVkIHJlc3VsdCBpbmRleC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICByZXN1bHRMaXN0W3Jlc3VsdEluZGV4XSA9IHJlbmRlck5vZGU7XG4gICAgICAgICAgICByZXN1bHRMaXN0QXNzaWdubWVudENvdW50ICs9IDE7XG4gICAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdEYW5nZXI6IERpc2NhcmRpbmcgdW5leHBlY3RlZCBub2RlOicsIHJlbmRlck5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIShyZXN1bHRMaXN0QXNzaWdubWVudENvdW50ID09PSByZXN1bHRMaXN0Lmxlbmd0aCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRGFuZ2VyOiBEaWQgbm90IGFzc2lnbiB0byBldmVyeSBpbmRleCBvZiByZXN1bHRMaXN0LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICEocmVzdWx0TGlzdC5sZW5ndGggPT09IG1hcmt1cExpc3QubGVuZ3RoKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEYW5nZXI6IEV4cGVjdGVkIG1hcmt1cCB0byByZW5kZXIgJXMgbm9kZXMsIGJ1dCByZW5kZXJlZCAlcy4nLCBtYXJrdXBMaXN0Lmxlbmd0aCwgcmVzdWx0TGlzdC5sZW5ndGgpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiByZXN1bHRMaXN0O1xuICAgIH0sXG4gICAgZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXA6IGZ1bmN0aW9uKG9sZENoaWxkLCBtYXJrdXApIHtcbiAgICAgICFFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAoLi4uKTogQ2Fubm90IHJlbmRlciBtYXJrdXAgaW4gYSAnICsgJ3dvcmtlciB0aHJlYWQuIE1ha2Ugc3VyZSBgd2luZG93YCBhbmQgYGRvY3VtZW50YCBhcmUgYXZhaWxhYmxlICcgKyAnZ2xvYmFsbHkgYmVmb3JlIHJlcXVpcmluZyBSZWFjdCB3aGVuIHVuaXQgdGVzdGluZyBvciB1c2UgJyArICdSZWFjdERPTVNlcnZlci5yZW5kZXJUb1N0cmluZygpIGZvciBzZXJ2ZXIgcmVuZGVyaW5nLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICFtYXJrdXAgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAoLi4uKTogTWlzc2luZyBtYXJrdXAuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgIShvbGRDaGlsZC5ub2RlTmFtZSAhPT0gJ0hUTUwnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cCguLi4pOiBDYW5ub3QgcmVwbGFjZSBtYXJrdXAgb2YgdGhlICcgKyAnPGh0bWw+IG5vZGUuIFRoaXMgaXMgYmVjYXVzZSBicm93c2VyIHF1aXJrcyBtYWtlIHRoaXMgdW5yZWxpYWJsZSAnICsgJ2FuZC9vciBzbG93LiBJZiB5b3Ugd2FudCB0byByZW5kZXIgdG8gdGhlIHJvb3QgeW91IG11c3QgdXNlICcgKyAnc2VydmVyIHJlbmRlcmluZy4gU2VlIFJlYWN0RE9NU2VydmVyLnJlbmRlclRvU3RyaW5nKCkuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaWYgKHR5cGVvZiBtYXJrdXAgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciBuZXdDaGlsZCA9IGNyZWF0ZU5vZGVzRnJvbU1hcmt1cChtYXJrdXAsIGVtcHR5RnVuY3Rpb24pWzBdO1xuICAgICAgICBvbGRDaGlsZC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdDaGlsZCwgb2xkQ2hpbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgRE9NTGF6eVRyZWUucmVwbGFjZUNoaWxkV2l0aFRyZWUob2xkQ2hpbGQsIG1hcmt1cCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IERhbmdlcjtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBrZXlNaXJyb3IgPSByZXF1aXJlKCdmYmpzL2xpYi9rZXlNaXJyb3InKTtcblxuLyoqXG4gKiBXaGVuIGEgY29tcG9uZW50J3MgY2hpbGRyZW4gYXJlIHVwZGF0ZWQsIGEgc2VyaWVzIG9mIHVwZGF0ZSBjb25maWd1cmF0aW9uXG4gKiBvYmplY3RzIGFyZSBjcmVhdGVkIGluIG9yZGVyIHRvIGJhdGNoIGFuZCBzZXJpYWxpemUgdGhlIHJlcXVpcmVkIGNoYW5nZXMuXG4gKlxuICogRW51bWVyYXRlcyBhbGwgdGhlIHBvc3NpYmxlIHR5cGVzIG9mIHVwZGF0ZSBjb25maWd1cmF0aW9ucy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzID0ga2V5TWlycm9yKHtcbiAgSU5TRVJUX01BUktVUDogbnVsbCxcbiAgTU9WRV9FWElTVElORzogbnVsbCxcbiAgUkVNT1ZFX05PREU6IG51bGwsXG4gIFNFVF9NQVJLVVA6IG51bGwsXG4gIFRFWFRfQ09OVEVOVDogbnVsbFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXM7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBET01MYXp5VHJlZSA9IHJlcXVpcmUoJy4vRE9NTGF6eVRyZWUnKTtcbiAgdmFyIERhbmdlciA9IHJlcXVpcmUoJy4vRGFuZ2VyJyk7XG4gIHZhciBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcyA9IHJlcXVpcmUoJy4vUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRUcmVlJyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIGNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24gPSByZXF1aXJlKCcuL2NyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24nKTtcbiAgdmFyIHNldElubmVySFRNTCA9IHJlcXVpcmUoJy4vc2V0SW5uZXJIVE1MJyk7XG4gIHZhciBzZXRUZXh0Q29udGVudCA9IHJlcXVpcmUoJy4vc2V0VGV4dENvbnRlbnQnKTtcbiAgZnVuY3Rpb24gZ2V0Tm9kZUFmdGVyKHBhcmVudE5vZGUsIG5vZGUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgICAgbm9kZSA9IG5vZGVbMV07XG4gICAgfVxuICAgIHJldHVybiBub2RlID8gbm9kZS5uZXh0U2libGluZyA6IHBhcmVudE5vZGUuZmlyc3RDaGlsZDtcbiAgfVxuICB2YXIgaW5zZXJ0Q2hpbGRBdCA9IGNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24oZnVuY3Rpb24ocGFyZW50Tm9kZSwgY2hpbGROb2RlLCByZWZlcmVuY2VOb2RlKSB7XG4gICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2hpbGROb2RlLCByZWZlcmVuY2VOb2RlKTtcbiAgfSk7XG4gIGZ1bmN0aW9uIGluc2VydExhenlUcmVlQ2hpbGRBdChwYXJlbnROb2RlLCBjaGlsZFRyZWUsIHJlZmVyZW5jZU5vZGUpIHtcbiAgICBET01MYXp5VHJlZS5pbnNlcnRUcmVlQmVmb3JlKHBhcmVudE5vZGUsIGNoaWxkVHJlZSwgcmVmZXJlbmNlTm9kZSk7XG4gIH1cbiAgZnVuY3Rpb24gbW92ZUNoaWxkKHBhcmVudE5vZGUsIGNoaWxkTm9kZSwgcmVmZXJlbmNlTm9kZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkTm9kZSkpIHtcbiAgICAgIG1vdmVEZWxpbWl0ZWRUZXh0KHBhcmVudE5vZGUsIGNoaWxkTm9kZVswXSwgY2hpbGROb2RlWzFdLCByZWZlcmVuY2VOb2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zZXJ0Q2hpbGRBdChwYXJlbnROb2RlLCBjaGlsZE5vZGUsIHJlZmVyZW5jZU5vZGUpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiByZW1vdmVDaGlsZChwYXJlbnROb2RlLCBjaGlsZE5vZGUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZE5vZGUpKSB7XG4gICAgICB2YXIgY2xvc2luZ0NvbW1lbnQgPSBjaGlsZE5vZGVbMV07XG4gICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGVbMF07XG4gICAgICByZW1vdmVEZWxpbWl0ZWRUZXh0KHBhcmVudE5vZGUsIGNoaWxkTm9kZSwgY2xvc2luZ0NvbW1lbnQpO1xuICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbG9zaW5nQ29tbWVudCk7XG4gICAgfVxuICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2hpbGROb2RlKTtcbiAgfVxuICBmdW5jdGlvbiBtb3ZlRGVsaW1pdGVkVGV4dChwYXJlbnROb2RlLCBvcGVuaW5nQ29tbWVudCwgY2xvc2luZ0NvbW1lbnQsIHJlZmVyZW5jZU5vZGUpIHtcbiAgICB2YXIgbm9kZSA9IG9wZW5pbmdDb21tZW50O1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICB2YXIgbmV4dE5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgaW5zZXJ0Q2hpbGRBdChwYXJlbnROb2RlLCBub2RlLCByZWZlcmVuY2VOb2RlKTtcbiAgICAgIGlmIChub2RlID09PSBjbG9zaW5nQ29tbWVudCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBuZXh0Tm9kZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlRGVsaW1pdGVkVGV4dChwYXJlbnROb2RlLCBzdGFydE5vZGUsIGNsb3NpbmdDb21tZW50KSB7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHZhciBub2RlID0gc3RhcnROb2RlLm5leHRTaWJsaW5nO1xuICAgICAgaWYgKG5vZGUgPT09IGNsb3NpbmdDb21tZW50KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVwbGFjZURlbGltaXRlZFRleHQob3BlbmluZ0NvbW1lbnQsIGNsb3NpbmdDb21tZW50LCBzdHJpbmdUZXh0KSB7XG4gICAgdmFyIHBhcmVudE5vZGUgPSBvcGVuaW5nQ29tbWVudC5wYXJlbnROb2RlO1xuICAgIHZhciBub2RlQWZ0ZXJDb21tZW50ID0gb3BlbmluZ0NvbW1lbnQubmV4dFNpYmxpbmc7XG4gICAgaWYgKG5vZGVBZnRlckNvbW1lbnQgPT09IGNsb3NpbmdDb21tZW50KSB7XG4gICAgICBpZiAoc3RyaW5nVGV4dCkge1xuICAgICAgICBpbnNlcnRDaGlsZEF0KHBhcmVudE5vZGUsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0cmluZ1RleHQpLCBub2RlQWZ0ZXJDb21tZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN0cmluZ1RleHQpIHtcbiAgICAgICAgc2V0VGV4dENvbnRlbnQobm9kZUFmdGVyQ29tbWVudCwgc3RyaW5nVGV4dCk7XG4gICAgICAgIHJlbW92ZURlbGltaXRlZFRleHQocGFyZW50Tm9kZSwgbm9kZUFmdGVyQ29tbWVudCwgY2xvc2luZ0NvbW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtb3ZlRGVsaW1pdGVkVGV4dChwYXJlbnROb2RlLCBvcGVuaW5nQ29tbWVudCwgY2xvc2luZ0NvbW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRJbnN0YW5jZUZyb21Ob2RlKG9wZW5pbmdDb21tZW50KS5fZGVidWdJRCwgJ3JlcGxhY2UgdGV4dCcsIHN0cmluZ1RleHQpO1xuICAgIH1cbiAgfVxuICB2YXIgZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAgPSBEYW5nZXIuZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXA7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAgPSBmdW5jdGlvbihvbGRDaGlsZCwgbWFya3VwLCBwcmV2SW5zdGFuY2UpIHtcbiAgICAgIERhbmdlci5kYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cChvbGRDaGlsZCwgbWFya3VwKTtcbiAgICAgIGlmIChwcmV2SW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKHByZXZJbnN0YW5jZS5fZGVidWdJRCwgJ3JlcGxhY2Ugd2l0aCcsIG1hcmt1cC50b1N0cmluZygpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBuZXh0SW5zdGFuY2UgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShtYXJrdXAubm9kZSk7XG4gICAgICAgIGlmIChuZXh0SW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24obmV4dEluc3RhbmNlLl9kZWJ1Z0lELCAnbW91bnQnLCBtYXJrdXAudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHZhciBET01DaGlsZHJlbk9wZXJhdGlvbnMgPSB7XG4gICAgZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXA6IGRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwLFxuICAgIHJlcGxhY2VEZWxpbWl0ZWRUZXh0OiByZXBsYWNlRGVsaW1pdGVkVGV4dCxcbiAgICBwcm9jZXNzVXBkYXRlczogZnVuY3Rpb24ocGFyZW50Tm9kZSwgdXBkYXRlcykge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIHBhcmVudE5vZGVEZWJ1Z0lEID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldEluc3RhbmNlRnJvbU5vZGUocGFyZW50Tm9kZSkuX2RlYnVnSUQ7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHVwZGF0ZXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIHVwZGF0ZSA9IHVwZGF0ZXNba107XG4gICAgICAgIHN3aXRjaCAodXBkYXRlLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLklOU0VSVF9NQVJLVVA6XG4gICAgICAgICAgICBpbnNlcnRMYXp5VHJlZUNoaWxkQXQocGFyZW50Tm9kZSwgdXBkYXRlLmNvbnRlbnQsIGdldE5vZGVBZnRlcihwYXJlbnROb2RlLCB1cGRhdGUuYWZ0ZXJOb2RlKSk7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24ocGFyZW50Tm9kZURlYnVnSUQsICdpbnNlcnQgY2hpbGQnLCB7XG4gICAgICAgICAgICAgICAgdG9JbmRleDogdXBkYXRlLnRvSW5kZXgsXG4gICAgICAgICAgICAgICAgY29udGVudDogdXBkYXRlLmNvbnRlbnQudG9TdHJpbmcoKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuTU9WRV9FWElTVElORzpcbiAgICAgICAgICAgIG1vdmVDaGlsZChwYXJlbnROb2RlLCB1cGRhdGUuZnJvbU5vZGUsIGdldE5vZGVBZnRlcihwYXJlbnROb2RlLCB1cGRhdGUuYWZ0ZXJOb2RlKSk7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24ocGFyZW50Tm9kZURlYnVnSUQsICdtb3ZlIGNoaWxkJywge1xuICAgICAgICAgICAgICAgIGZyb21JbmRleDogdXBkYXRlLmZyb21JbmRleCxcbiAgICAgICAgICAgICAgICB0b0luZGV4OiB1cGRhdGUudG9JbmRleFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuU0VUX01BUktVUDpcbiAgICAgICAgICAgIHNldElubmVySFRNTChwYXJlbnROb2RlLCB1cGRhdGUuY29udGVudCk7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24ocGFyZW50Tm9kZURlYnVnSUQsICdyZXBsYWNlIGNoaWxkcmVuJywgdXBkYXRlLmNvbnRlbnQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLlRFWFRfQ09OVEVOVDpcbiAgICAgICAgICAgIHNldFRleHRDb250ZW50KHBhcmVudE5vZGUsIHVwZGF0ZS5jb250ZW50KTtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihwYXJlbnROb2RlRGVidWdJRCwgJ3JlcGxhY2UgdGV4dCcsIHVwZGF0ZS5jb250ZW50LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5SRU1PVkVfTk9ERTpcbiAgICAgICAgICAgIHJlbW92ZUNoaWxkKHBhcmVudE5vZGUsIHVwZGF0ZS5mcm9tTm9kZSk7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24ocGFyZW50Tm9kZURlYnVnSUQsICdyZW1vdmUgY2hpbGQnLCB7ZnJvbUluZGV4OiB1cGRhdGUuZnJvbUluZGV4fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBET01DaGlsZHJlbk9wZXJhdGlvbnM7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgRE9NQ2hpbGRyZW5PcGVyYXRpb25zID0gcmVxdWlyZSgnLi9ET01DaGlsZHJlbk9wZXJhdGlvbnMnKTtcbiAgdmFyIERPTUxhenlUcmVlID0gcmVxdWlyZSgnLi9ET01MYXp5VHJlZScpO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gcmVxdWlyZSgnLi9SZWFjdERPTUNvbXBvbmVudFRyZWUnKTtcbiAgdmFyIFJlYWN0SW5zdHJ1bWVudGF0aW9uID0gcmVxdWlyZSgnLi9SZWFjdEluc3RydW1lbnRhdGlvbicpO1xuICB2YXIgZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyID0gcmVxdWlyZSgnLi9lc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXInKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgdmFsaWRhdGVET01OZXN0aW5nID0gcmVxdWlyZSgnLi92YWxpZGF0ZURPTU5lc3RpbmcnKTtcbiAgdmFyIFJlYWN0RE9NVGV4dENvbXBvbmVudCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IHRleHQ7XG4gICAgdGhpcy5fc3RyaW5nVGV4dCA9ICcnICsgdGV4dDtcbiAgICB0aGlzLl9uYXRpdmVOb2RlID0gbnVsbDtcbiAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBudWxsO1xuICAgIHRoaXMuX2RvbUlEID0gbnVsbDtcbiAgICB0aGlzLl9tb3VudEluZGV4ID0gMDtcbiAgICB0aGlzLl9jbG9zaW5nQ29tbWVudCA9IG51bGw7XG4gICAgdGhpcy5fY29tbWVudE5vZGVzID0gbnVsbDtcbiAgfTtcbiAgX2Fzc2lnbihSZWFjdERPTVRleHRDb21wb25lbnQucHJvdG90eXBlLCB7XG4gICAgbW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIGNvbnRleHQpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldFRleHQodGhpcy5fZGVidWdJRCwgdGhpcy5fc3RyaW5nVGV4dCk7XG4gICAgICAgIHZhciBwYXJlbnRJbmZvO1xuICAgICAgICBpZiAobmF0aXZlUGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICBwYXJlbnRJbmZvID0gbmF0aXZlUGFyZW50Ll9hbmNlc3RvckluZm87XG4gICAgICAgIH0gZWxzZSBpZiAobmF0aXZlQ29udGFpbmVySW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgcGFyZW50SW5mbyA9IG5hdGl2ZUNvbnRhaW5lckluZm8uX2FuY2VzdG9ySW5mbztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50SW5mbykge1xuICAgICAgICAgIHZhbGlkYXRlRE9NTmVzdGluZygnI3RleHQnLCB0aGlzLCBwYXJlbnRJbmZvKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGRvbUlEID0gbmF0aXZlQ29udGFpbmVySW5mby5faWRDb3VudGVyKys7XG4gICAgICB2YXIgb3BlbmluZ1ZhbHVlID0gJyByZWFjdC10ZXh0OiAnICsgZG9tSUQgKyAnICc7XG4gICAgICB2YXIgY2xvc2luZ1ZhbHVlID0gJyAvcmVhY3QtdGV4dCAnO1xuICAgICAgdGhpcy5fZG9tSUQgPSBkb21JRDtcbiAgICAgIHRoaXMuX25hdGl2ZVBhcmVudCA9IG5hdGl2ZVBhcmVudDtcbiAgICAgIGlmICh0cmFuc2FjdGlvbi51c2VDcmVhdGVFbGVtZW50KSB7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gbmF0aXZlQ29udGFpbmVySW5mby5fb3duZXJEb2N1bWVudDtcbiAgICAgICAgdmFyIG9wZW5pbmdDb21tZW50ID0gb3duZXJEb2N1bWVudC5jcmVhdGVDb21tZW50KG9wZW5pbmdWYWx1ZSk7XG4gICAgICAgIHZhciBjbG9zaW5nQ29tbWVudCA9IG93bmVyRG9jdW1lbnQuY3JlYXRlQ29tbWVudChjbG9zaW5nVmFsdWUpO1xuICAgICAgICB2YXIgbGF6eVRyZWUgPSBET01MYXp5VHJlZShvd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7XG4gICAgICAgIERPTUxhenlUcmVlLnF1ZXVlQ2hpbGQobGF6eVRyZWUsIERPTUxhenlUcmVlKG9wZW5pbmdDb21tZW50KSk7XG4gICAgICAgIGlmICh0aGlzLl9zdHJpbmdUZXh0KSB7XG4gICAgICAgICAgRE9NTGF6eVRyZWUucXVldWVDaGlsZChsYXp5VHJlZSwgRE9NTGF6eVRyZWUob3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLl9zdHJpbmdUZXh0KSkpO1xuICAgICAgICB9XG4gICAgICAgIERPTUxhenlUcmVlLnF1ZXVlQ2hpbGQobGF6eVRyZWUsIERPTUxhenlUcmVlKGNsb3NpbmdDb21tZW50KSk7XG4gICAgICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZS5wcmVjYWNoZU5vZGUodGhpcywgb3BlbmluZ0NvbW1lbnQpO1xuICAgICAgICB0aGlzLl9jbG9zaW5nQ29tbWVudCA9IGNsb3NpbmdDb21tZW50O1xuICAgICAgICByZXR1cm4gbGF6eVRyZWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZXNjYXBlZFRleHQgPSBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIodGhpcy5fc3RyaW5nVGV4dCk7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbi5yZW5kZXJUb1N0YXRpY01hcmt1cCkge1xuICAgICAgICAgIHJldHVybiBlc2NhcGVkVGV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJzwhLS0nICsgb3BlbmluZ1ZhbHVlICsgJy0tPicgKyBlc2NhcGVkVGV4dCArICc8IS0tJyArIGNsb3NpbmdWYWx1ZSArICctLT4nO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVjZWl2ZUNvbXBvbmVudDogZnVuY3Rpb24obmV4dFRleHQsIHRyYW5zYWN0aW9uKSB7XG4gICAgICBpZiAobmV4dFRleHQgIT09IHRoaXMuX2N1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gbmV4dFRleHQ7XG4gICAgICAgIHZhciBuZXh0U3RyaW5nVGV4dCA9ICcnICsgbmV4dFRleHQ7XG4gICAgICAgIGlmIChuZXh0U3RyaW5nVGV4dCAhPT0gdGhpcy5fc3RyaW5nVGV4dCkge1xuICAgICAgICAgIHRoaXMuX3N0cmluZ1RleHQgPSBuZXh0U3RyaW5nVGV4dDtcbiAgICAgICAgICB2YXIgY29tbWVudE5vZGVzID0gdGhpcy5nZXROYXRpdmVOb2RlKCk7XG4gICAgICAgICAgRE9NQ2hpbGRyZW5PcGVyYXRpb25zLnJlcGxhY2VEZWxpbWl0ZWRUZXh0KGNvbW1lbnROb2Rlc1swXSwgY29tbWVudE5vZGVzWzFdLCBuZXh0U3RyaW5nVGV4dCk7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldFRleHQodGhpcy5fZGVidWdJRCwgbmV4dFN0cmluZ1RleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0TmF0aXZlTm9kZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbmF0aXZlTm9kZSA9IHRoaXMuX2NvbW1lbnROb2RlcztcbiAgICAgIGlmIChuYXRpdmVOb2RlKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVOb2RlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLl9jbG9zaW5nQ29tbWVudCkge1xuICAgICAgICB2YXIgb3BlbmluZ0NvbW1lbnQgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZSh0aGlzKTtcbiAgICAgICAgdmFyIG5vZGUgPSBvcGVuaW5nQ29tbWVudC5uZXh0U2libGluZztcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAhKG5vZGUgIT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnTWlzc2luZyBjbG9zaW5nIGNvbW1lbnQgZm9yIHRleHQgY29tcG9uZW50ICVzJywgdGhpcy5fZG9tSUQpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAmJiBub2RlLm5vZGVWYWx1ZSA9PT0gJyAvcmVhY3QtdGV4dCAnKSB7XG4gICAgICAgICAgICB0aGlzLl9jbG9zaW5nQ29tbWVudCA9IG5vZGU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5hdGl2ZU5vZGUgPSBbdGhpcy5fbmF0aXZlTm9kZSwgdGhpcy5fY2xvc2luZ0NvbW1lbnRdO1xuICAgICAgdGhpcy5fY29tbWVudE5vZGVzID0gbmF0aXZlTm9kZTtcbiAgICAgIHJldHVybiBuYXRpdmVOb2RlO1xuICAgIH0sXG4gICAgdW5tb3VudENvbXBvbmVudDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9jbG9zaW5nQ29tbWVudCA9IG51bGw7XG4gICAgICB0aGlzLl9jb21tZW50Tm9kZXMgPSBudWxsO1xuICAgICAgUmVhY3RET01Db21wb25lbnRUcmVlLnVuY2FjaGVOb2RlKHRoaXMpO1xuICAgIH1cbiAgfSk7XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01UZXh0Q29tcG9uZW50O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG52YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZSgnLi9SZWFjdFVwZGF0ZXMnKTtcbnZhciBUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vVHJhbnNhY3Rpb24nKTtcbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIFJFU0VUX0JBVENIRURfVVBEQVRFUyA9IHtcbiAgaW5pdGlhbGl6ZTogZW1wdHlGdW5jdGlvbixcbiAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgIFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3kuaXNCYXRjaGluZ1VwZGF0ZXMgPSBmYWxzZTtcbiAgfVxufTtcbnZhciBGTFVTSF9CQVRDSEVEX1VQREFURVMgPSB7XG4gIGluaXRpYWxpemU6IGVtcHR5RnVuY3Rpb24sXG4gIGNsb3NlOiBSZWFjdFVwZGF0ZXMuZmx1c2hCYXRjaGVkVXBkYXRlcy5iaW5kKFJlYWN0VXBkYXRlcylcbn07XG52YXIgVFJBTlNBQ1RJT05fV1JBUFBFUlMgPSBbRkxVU0hfQkFUQ0hFRF9VUERBVEVTLCBSRVNFVF9CQVRDSEVEX1VQREFURVNdO1xuZnVuY3Rpb24gUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneVRyYW5zYWN0aW9uKCkge1xuICB0aGlzLnJlaW5pdGlhbGl6ZVRyYW5zYWN0aW9uKCk7XG59XG5fYXNzaWduKFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3lUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFRyYW5zYWN0aW9uLk1peGluLCB7Z2V0VHJhbnNhY3Rpb25XcmFwcGVyczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFRSQU5TQUNUSU9OX1dSQVBQRVJTO1xuICB9fSk7XG52YXIgdHJhbnNhY3Rpb24gPSBuZXcgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneVRyYW5zYWN0aW9uKCk7XG52YXIgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneSA9IHtcbiAgaXNCYXRjaGluZ1VwZGF0ZXM6IGZhbHNlLFxuICBiYXRjaGVkVXBkYXRlczogZnVuY3Rpb24oY2FsbGJhY2ssIGEsIGIsIGMsIGQsIGUpIHtcbiAgICB2YXIgYWxyZWFkeUJhdGNoaW5nVXBkYXRlcyA9IFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3kuaXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcyA9IHRydWU7XG4gICAgaWYgKGFscmVhZHlCYXRjaGluZ1VwZGF0ZXMpIHtcbiAgICAgIGNhbGxiYWNrKGEsIGIsIGMsIGQsIGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2FjdGlvbi5wZXJmb3JtKGNhbGxiYWNrLCBudWxsLCBhLCBiLCBjLCBkLCBlKTtcbiAgICB9XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3k7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogR2V0cyB0aGUgc2Nyb2xsIHBvc2l0aW9uIG9mIHRoZSBzdXBwbGllZCBlbGVtZW50IG9yIHdpbmRvdy5cbiAqXG4gKiBUaGUgcmV0dXJuIHZhbHVlcyBhcmUgdW5ib3VuZGVkLCB1bmxpa2UgYGdldFNjcm9sbFBvc2l0aW9uYC4gVGhpcyBtZWFucyB0aGV5XG4gKiBtYXkgYmUgbmVnYXRpdmUgb3IgZXhjZWVkIHRoZSBlbGVtZW50IGJvdW5kYXJpZXMgKHdoaWNoIGlzIHBvc3NpYmxlIHVzaW5nXG4gKiBpbmVydGlhbCBzY3JvbGxpbmcpLlxuICpcbiAqIEBwYXJhbSB7RE9NV2luZG93fERPTUVsZW1lbnR9IHNjcm9sbGFibGVcbiAqIEByZXR1cm4ge29iamVjdH0gTWFwIHdpdGggYHhgIGFuZCBgeWAga2V5cy5cbiAqL1xuXG5mdW5jdGlvbiBnZXRVbmJvdW5kZWRTY3JvbGxQb3NpdGlvbihzY3JvbGxhYmxlKSB7XG4gIGlmIChzY3JvbGxhYmxlID09PSB3aW5kb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgeTogd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3BcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgeDogc2Nyb2xsYWJsZS5zY3JvbGxMZWZ0LFxuICAgIHk6IHNjcm9sbGFibGUuc2Nyb2xsVG9wXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0VW5ib3VuZGVkU2Nyb2xsUG9zaXRpb247IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ2ZianMvbGliL0V2ZW50TGlzdGVuZXInKTtcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbiAgdmFyIFBvb2xlZENsYXNzID0gcmVxdWlyZSgnLi9Qb29sZWRDbGFzcycpO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gcmVxdWlyZSgnLi9SZWFjdERPTUNvbXBvbmVudFRyZWUnKTtcbiAgdmFyIFJlYWN0VXBkYXRlcyA9IHJlcXVpcmUoJy4vUmVhY3RVcGRhdGVzJyk7XG4gIHZhciBnZXRFdmVudFRhcmdldCA9IHJlcXVpcmUoJy4vZ2V0RXZlbnRUYXJnZXQnKTtcbiAgdmFyIGdldFVuYm91bmRlZFNjcm9sbFBvc2l0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZ2V0VW5ib3VuZGVkU2Nyb2xsUG9zaXRpb24nKTtcbiAgZnVuY3Rpb24gZmluZFBhcmVudChpbnN0KSB7XG4gICAgd2hpbGUgKGluc3QuX25hdGl2ZVBhcmVudCkge1xuICAgICAgaW5zdCA9IGluc3QuX25hdGl2ZVBhcmVudDtcbiAgICB9XG4gICAgdmFyIHJvb3ROb2RlID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCk7XG4gICAgdmFyIGNvbnRhaW5lciA9IHJvb3ROb2RlLnBhcmVudE5vZGU7XG4gICAgcmV0dXJuIFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShjb250YWluZXIpO1xuICB9XG4gIGZ1bmN0aW9uIFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gICAgdGhpcy50b3BMZXZlbFR5cGUgPSB0b3BMZXZlbFR5cGU7XG4gICAgdGhpcy5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICAgIHRoaXMuYW5jZXN0b3JzID0gW107XG4gIH1cbiAgX2Fzc2lnbihUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcucHJvdG90eXBlLCB7ZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnRvcExldmVsVHlwZSA9IG51bGw7XG4gICAgICB0aGlzLm5hdGl2ZUV2ZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuYW5jZXN0b3JzLmxlbmd0aCA9IDA7XG4gICAgfX0pO1xuICBQb29sZWRDbGFzcy5hZGRQb29saW5nVG8oVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nLCBQb29sZWRDbGFzcy50d29Bcmd1bWVudFBvb2xlcik7XG4gIGZ1bmN0aW9uIGhhbmRsZVRvcExldmVsSW1wbChib29rS2VlcGluZykge1xuICAgIHZhciBuYXRpdmVFdmVudFRhcmdldCA9IGdldEV2ZW50VGFyZ2V0KGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50KTtcbiAgICB2YXIgdGFyZ2V0SW5zdCA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgdmFyIGFuY2VzdG9yID0gdGFyZ2V0SW5zdDtcbiAgICBkbyB7XG4gICAgICBib29rS2VlcGluZy5hbmNlc3RvcnMucHVzaChhbmNlc3Rvcik7XG4gICAgICBhbmNlc3RvciA9IGFuY2VzdG9yICYmIGZpbmRQYXJlbnQoYW5jZXN0b3IpO1xuICAgIH0gd2hpbGUgKGFuY2VzdG9yKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvb2tLZWVwaW5nLmFuY2VzdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGFyZ2V0SW5zdCA9IGJvb2tLZWVwaW5nLmFuY2VzdG9yc1tpXTtcbiAgICAgIFJlYWN0RXZlbnRMaXN0ZW5lci5faGFuZGxlVG9wTGV2ZWwoYm9va0tlZXBpbmcudG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBib29rS2VlcGluZy5uYXRpdmVFdmVudCwgZ2V0RXZlbnRUYXJnZXQoYm9va0tlZXBpbmcubmF0aXZlRXZlbnQpKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc2Nyb2xsVmFsdWVNb25pdG9yKGNiKSB7XG4gICAgdmFyIHNjcm9sbFBvc2l0aW9uID0gZ2V0VW5ib3VuZGVkU2Nyb2xsUG9zaXRpb24od2luZG93KTtcbiAgICBjYihzY3JvbGxQb3NpdGlvbik7XG4gIH1cbiAgdmFyIFJlYWN0RXZlbnRMaXN0ZW5lciA9IHtcbiAgICBfZW5hYmxlZDogdHJ1ZSxcbiAgICBfaGFuZGxlVG9wTGV2ZWw6IG51bGwsXG4gICAgV0lORE9XX0hBTkRMRTogRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gd2luZG93IDogbnVsbCxcbiAgICBzZXRIYW5kbGVUb3BMZXZlbDogZnVuY3Rpb24oaGFuZGxlVG9wTGV2ZWwpIHtcbiAgICAgIFJlYWN0RXZlbnRMaXN0ZW5lci5faGFuZGxlVG9wTGV2ZWwgPSBoYW5kbGVUb3BMZXZlbDtcbiAgICB9LFxuICAgIHNldEVuYWJsZWQ6IGZ1bmN0aW9uKGVuYWJsZWQpIHtcbiAgICAgIFJlYWN0RXZlbnRMaXN0ZW5lci5fZW5hYmxlZCA9ICEhZW5hYmxlZDtcbiAgICB9LFxuICAgIGlzRW5hYmxlZDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gUmVhY3RFdmVudExpc3RlbmVyLl9lbmFibGVkO1xuICAgIH0sXG4gICAgdHJhcEJ1YmJsZWRFdmVudDogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCBoYW5kbGVyQmFzZU5hbWUsIGhhbmRsZSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBoYW5kbGU7XG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gRXZlbnRMaXN0ZW5lci5saXN0ZW4oZWxlbWVudCwgaGFuZGxlckJhc2VOYW1lLCBSZWFjdEV2ZW50TGlzdGVuZXIuZGlzcGF0Y2hFdmVudC5iaW5kKG51bGwsIHRvcExldmVsVHlwZSkpO1xuICAgIH0sXG4gICAgdHJhcENhcHR1cmVkRXZlbnQ6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgaGFuZGxlckJhc2VOYW1lLCBoYW5kbGUpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gaGFuZGxlO1xuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEV2ZW50TGlzdGVuZXIuY2FwdHVyZShlbGVtZW50LCBoYW5kbGVyQmFzZU5hbWUsIFJlYWN0RXZlbnRMaXN0ZW5lci5kaXNwYXRjaEV2ZW50LmJpbmQobnVsbCwgdG9wTGV2ZWxUeXBlKSk7XG4gICAgfSxcbiAgICBtb25pdG9yU2Nyb2xsVmFsdWU6IGZ1bmN0aW9uKHJlZnJlc2gpIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IHNjcm9sbFZhbHVlTW9uaXRvci5iaW5kKG51bGwsIHJlZnJlc2gpO1xuICAgICAgRXZlbnRMaXN0ZW5lci5saXN0ZW4od2luZG93LCAnc2Nyb2xsJywgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgZGlzcGF0Y2hFdmVudDogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICAgICAgaWYgKCFSZWFjdEV2ZW50TGlzdGVuZXIuX2VuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGJvb2tLZWVwaW5nID0gVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nLmdldFBvb2xlZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIFJlYWN0VXBkYXRlcy5iYXRjaGVkVXBkYXRlcyhoYW5kbGVUb3BMZXZlbEltcGwsIGJvb2tLZWVwaW5nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZy5yZWxlYXNlKGJvb2tLZWVwaW5nKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RFdmVudExpc3RlbmVyO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eScpO1xudmFyIEV2ZW50UGx1Z2luSHViID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpbkh1YicpO1xudmFyIEV2ZW50UGx1Z2luVXRpbHMgPSByZXF1aXJlKCcuL0V2ZW50UGx1Z2luVXRpbHMnKTtcbnZhciBSZWFjdENvbXBvbmVudEVudmlyb25tZW50ID0gcmVxdWlyZSgnLi9SZWFjdENvbXBvbmVudEVudmlyb25tZW50Jyk7XG52YXIgUmVhY3RDbGFzcyA9IHJlcXVpcmUoJy4vUmVhY3RDbGFzcycpO1xudmFyIFJlYWN0RW1wdHlDb21wb25lbnQgPSByZXF1aXJlKCcuL1JlYWN0RW1wdHlDb21wb25lbnQnKTtcbnZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCcuL1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlcicpO1xudmFyIFJlYWN0TmF0aXZlQ29tcG9uZW50ID0gcmVxdWlyZSgnLi9SZWFjdE5hdGl2ZUNvbXBvbmVudCcpO1xudmFyIFJlYWN0VXBkYXRlcyA9IHJlcXVpcmUoJy4vUmVhY3RVcGRhdGVzJyk7XG52YXIgUmVhY3RJbmplY3Rpb24gPSB7XG4gIENvbXBvbmVudDogUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudC5pbmplY3Rpb24sXG4gIENsYXNzOiBSZWFjdENsYXNzLmluamVjdGlvbixcbiAgRE9NUHJvcGVydHk6IERPTVByb3BlcnR5LmluamVjdGlvbixcbiAgRW1wdHlDb21wb25lbnQ6IFJlYWN0RW1wdHlDb21wb25lbnQuaW5qZWN0aW9uLFxuICBFdmVudFBsdWdpbkh1YjogRXZlbnRQbHVnaW5IdWIuaW5qZWN0aW9uLFxuICBFdmVudFBsdWdpblV0aWxzOiBFdmVudFBsdWdpblV0aWxzLmluamVjdGlvbixcbiAgRXZlbnRFbWl0dGVyOiBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuaW5qZWN0aW9uLFxuICBOYXRpdmVDb21wb25lbnQ6IFJlYWN0TmF0aXZlQ29tcG9uZW50LmluamVjdGlvbixcbiAgVXBkYXRlczogUmVhY3RVcGRhdGVzLmluamVjdGlvblxufTtcbm1vZHVsZS5leHBvcnRzID0gUmVhY3RJbmplY3Rpb247XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xudmFyIENhbGxiYWNrUXVldWUgPSByZXF1aXJlKCcuL0NhbGxiYWNrUXVldWUnKTtcbnZhciBQb29sZWRDbGFzcyA9IHJlcXVpcmUoJy4vUG9vbGVkQ2xhc3MnKTtcbnZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCcuL1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlcicpO1xudmFyIFJlYWN0SW5wdXRTZWxlY3Rpb24gPSByZXF1aXJlKCcuL1JlYWN0SW5wdXRTZWxlY3Rpb24nKTtcbnZhciBUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vVHJhbnNhY3Rpb24nKTtcbnZhciBTRUxFQ1RJT05fUkVTVE9SQVRJT04gPSB7XG4gIGluaXRpYWxpemU6IFJlYWN0SW5wdXRTZWxlY3Rpb24uZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb24sXG4gIGNsb3NlOiBSZWFjdElucHV0U2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb25cbn07XG52YXIgRVZFTlRfU1VQUFJFU1NJT04gPSB7XG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdXJyZW50bHlFbmFibGVkID0gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmlzRW5hYmxlZCgpO1xuICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICByZXR1cm4gY3VycmVudGx5RW5hYmxlZDtcbiAgfSxcbiAgY2xvc2U6IGZ1bmN0aW9uKHByZXZpb3VzbHlFbmFibGVkKSB7XG4gICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnNldEVuYWJsZWQocHJldmlvdXNseUVuYWJsZWQpO1xuICB9XG59O1xudmFyIE9OX0RPTV9SRUFEWV9RVUVVRUlORyA9IHtcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZWFjdE1vdW50UmVhZHkucmVzZXQoKTtcbiAgfSxcbiAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVhY3RNb3VudFJlYWR5Lm5vdGlmeUFsbCgpO1xuICB9XG59O1xudmFyIFRSQU5TQUNUSU9OX1dSQVBQRVJTID0gW1NFTEVDVElPTl9SRVNUT1JBVElPTiwgRVZFTlRfU1VQUFJFU1NJT04sIE9OX0RPTV9SRUFEWV9RVUVVRUlOR107XG5mdW5jdGlvbiBSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uKHVzZUNyZWF0ZUVsZW1lbnQpIHtcbiAgdGhpcy5yZWluaXRpYWxpemVUcmFuc2FjdGlvbigpO1xuICB0aGlzLnJlbmRlclRvU3RhdGljTWFya3VwID0gZmFsc2U7XG4gIHRoaXMucmVhY3RNb3VudFJlYWR5ID0gQ2FsbGJhY2tRdWV1ZS5nZXRQb29sZWQobnVsbCk7XG4gIHRoaXMudXNlQ3JlYXRlRWxlbWVudCA9IHVzZUNyZWF0ZUVsZW1lbnQ7XG59XG52YXIgTWl4aW4gPSB7XG4gIGdldFRyYW5zYWN0aW9uV3JhcHBlcnM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBUUkFOU0FDVElPTl9XUkFQUEVSUztcbiAgfSxcbiAgZ2V0UmVhY3RNb3VudFJlYWR5OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFjdE1vdW50UmVhZHk7XG4gIH0sXG4gIGNoZWNrcG9pbnQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnJlYWN0TW91bnRSZWFkeS5jaGVja3BvaW50KCk7XG4gIH0sXG4gIHJvbGxiYWNrOiBmdW5jdGlvbihjaGVja3BvaW50KSB7XG4gICAgdGhpcy5yZWFjdE1vdW50UmVhZHkucm9sbGJhY2soY2hlY2twb2ludCk7XG4gIH0sXG4gIGRlc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgIENhbGxiYWNrUXVldWUucmVsZWFzZSh0aGlzLnJlYWN0TW91bnRSZWFkeSk7XG4gICAgdGhpcy5yZWFjdE1vdW50UmVhZHkgPSBudWxsO1xuICB9XG59O1xuX2Fzc2lnbihSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uLnByb3RvdHlwZSwgVHJhbnNhY3Rpb24uTWl4aW4sIE1peGluKTtcblBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uKTtcbm1vZHVsZS5leHBvcnRzID0gUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTVkdET01Qcm9wZXJ0eUNvbmZpZ1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIE5TID0ge1xuICB4bGluazogJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLFxuICB4bWw6ICdodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UnXG59O1xuXG4vLyBXZSB1c2UgYXR0cmlidXRlcyBmb3IgZXZlcnl0aGluZyBTVkcgc28gbGV0J3MgYXZvaWQgc29tZSBkdXBsaWNhdGlvbiBhbmQgcnVuXG4vLyBjb2RlIGluc3RlYWQuXG4vLyBUaGUgZm9sbG93aW5nIGFyZSBhbGwgc3BlY2lmaWVkIGluIHRoZSBIVE1MIGNvbmZpZyBhbHJlYWR5IHNvIHdlIGV4Y2x1ZGUgaGVyZS5cbi8vIC0gY2xhc3MgKGFzIGNsYXNzTmFtZSlcbi8vIC0gY29sb3Jcbi8vIC0gaGVpZ2h0XG4vLyAtIGlkXG4vLyAtIGxhbmdcbi8vIC0gbWF4XG4vLyAtIG1lZGlhXG4vLyAtIG1ldGhvZFxuLy8gLSBtaW5cbi8vIC0gbmFtZVxuLy8gLSBzdHlsZVxuLy8gLSB0YXJnZXRcbi8vIC0gdHlwZVxuLy8gLSB3aWR0aFxudmFyIEFUVFJTID0ge1xuICBhY2NlbnRIZWlnaHQ6ICdhY2NlbnQtaGVpZ2h0JyxcbiAgYWNjdW11bGF0ZTogMCxcbiAgYWRkaXRpdmU6IDAsXG4gIGFsaWdubWVudEJhc2VsaW5lOiAnYWxpZ25tZW50LWJhc2VsaW5lJyxcbiAgYWxsb3dSZW9yZGVyOiAnYWxsb3dSZW9yZGVyJyxcbiAgYWxwaGFiZXRpYzogMCxcbiAgYW1wbGl0dWRlOiAwLFxuICBhcmFiaWNGb3JtOiAnYXJhYmljLWZvcm0nLFxuICBhc2NlbnQ6IDAsXG4gIGF0dHJpYnV0ZU5hbWU6ICdhdHRyaWJ1dGVOYW1lJyxcbiAgYXR0cmlidXRlVHlwZTogJ2F0dHJpYnV0ZVR5cGUnLFxuICBhdXRvUmV2ZXJzZTogJ2F1dG9SZXZlcnNlJyxcbiAgYXppbXV0aDogMCxcbiAgYmFzZUZyZXF1ZW5jeTogJ2Jhc2VGcmVxdWVuY3knLFxuICBiYXNlUHJvZmlsZTogJ2Jhc2VQcm9maWxlJyxcbiAgYmFzZWxpbmVTaGlmdDogJ2Jhc2VsaW5lLXNoaWZ0JyxcbiAgYmJveDogMCxcbiAgYmVnaW46IDAsXG4gIGJpYXM6IDAsXG4gIGJ5OiAwLFxuICBjYWxjTW9kZTogJ2NhbGNNb2RlJyxcbiAgY2FwSGVpZ2h0OiAnY2FwLWhlaWdodCcsXG4gIGNsaXA6IDAsXG4gIGNsaXBQYXRoOiAnY2xpcC1wYXRoJyxcbiAgY2xpcFJ1bGU6ICdjbGlwLXJ1bGUnLFxuICBjbGlwUGF0aFVuaXRzOiAnY2xpcFBhdGhVbml0cycsXG4gIGNvbG9ySW50ZXJwb2xhdGlvbjogJ2NvbG9yLWludGVycG9sYXRpb24nLFxuICBjb2xvckludGVycG9sYXRpb25GaWx0ZXJzOiAnY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzJyxcbiAgY29sb3JQcm9maWxlOiAnY29sb3ItcHJvZmlsZScsXG4gIGNvbG9yUmVuZGVyaW5nOiAnY29sb3ItcmVuZGVyaW5nJyxcbiAgY29udGVudFNjcmlwdFR5cGU6ICdjb250ZW50U2NyaXB0VHlwZScsXG4gIGNvbnRlbnRTdHlsZVR5cGU6ICdjb250ZW50U3R5bGVUeXBlJyxcbiAgY3Vyc29yOiAwLFxuICBjeDogMCxcbiAgY3k6IDAsXG4gIGQ6IDAsXG4gIGRlY2VsZXJhdGU6IDAsXG4gIGRlc2NlbnQ6IDAsXG4gIGRpZmZ1c2VDb25zdGFudDogJ2RpZmZ1c2VDb25zdGFudCcsXG4gIGRpcmVjdGlvbjogMCxcbiAgZGlzcGxheTogMCxcbiAgZGl2aXNvcjogMCxcbiAgZG9taW5hbnRCYXNlbGluZTogJ2RvbWluYW50LWJhc2VsaW5lJyxcbiAgZHVyOiAwLFxuICBkeDogMCxcbiAgZHk6IDAsXG4gIGVkZ2VNb2RlOiAnZWRnZU1vZGUnLFxuICBlbGV2YXRpb246IDAsXG4gIGVuYWJsZUJhY2tncm91bmQ6ICdlbmFibGUtYmFja2dyb3VuZCcsXG4gIGVuZDogMCxcbiAgZXhwb25lbnQ6IDAsXG4gIGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQ6ICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJyxcbiAgZmlsbDogMCxcbiAgZmlsbE9wYWNpdHk6ICdmaWxsLW9wYWNpdHknLFxuICBmaWxsUnVsZTogJ2ZpbGwtcnVsZScsXG4gIGZpbHRlcjogMCxcbiAgZmlsdGVyUmVzOiAnZmlsdGVyUmVzJyxcbiAgZmlsdGVyVW5pdHM6ICdmaWx0ZXJVbml0cycsXG4gIGZsb29kQ29sb3I6ICdmbG9vZC1jb2xvcicsXG4gIGZsb29kT3BhY2l0eTogJ2Zsb29kLW9wYWNpdHknLFxuICBmb2N1c2FibGU6IDAsXG4gIGZvbnRGYW1pbHk6ICdmb250LWZhbWlseScsXG4gIGZvbnRTaXplOiAnZm9udC1zaXplJyxcbiAgZm9udFNpemVBZGp1c3Q6ICdmb250LXNpemUtYWRqdXN0JyxcbiAgZm9udFN0cmV0Y2g6ICdmb250LXN0cmV0Y2gnLFxuICBmb250U3R5bGU6ICdmb250LXN0eWxlJyxcbiAgZm9udFZhcmlhbnQ6ICdmb250LXZhcmlhbnQnLFxuICBmb250V2VpZ2h0OiAnZm9udC13ZWlnaHQnLFxuICBmb3JtYXQ6IDAsXG4gIGZyb206IDAsXG4gIGZ4OiAwLFxuICBmeTogMCxcbiAgZzE6IDAsXG4gIGcyOiAwLFxuICBnbHlwaE5hbWU6ICdnbHlwaC1uYW1lJyxcbiAgZ2x5cGhPcmllbnRhdGlvbkhvcml6b250YWw6ICdnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsJyxcbiAgZ2x5cGhPcmllbnRhdGlvblZlcnRpY2FsOiAnZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwnLFxuICBnbHlwaFJlZjogJ2dseXBoUmVmJyxcbiAgZ3JhZGllbnRUcmFuc2Zvcm06ICdncmFkaWVudFRyYW5zZm9ybScsXG4gIGdyYWRpZW50VW5pdHM6ICdncmFkaWVudFVuaXRzJyxcbiAgaGFuZ2luZzogMCxcbiAgaG9yaXpBZHZYOiAnaG9yaXotYWR2LXgnLFxuICBob3Jpek9yaWdpblg6ICdob3Jpei1vcmlnaW4teCcsXG4gIGlkZW9ncmFwaGljOiAwLFxuICBpbWFnZVJlbmRlcmluZzogJ2ltYWdlLXJlbmRlcmluZycsXG4gICdpbic6IDAsXG4gIGluMjogMCxcbiAgaW50ZXJjZXB0OiAwLFxuICBrOiAwLFxuICBrMTogMCxcbiAgazI6IDAsXG4gIGszOiAwLFxuICBrNDogMCxcbiAga2VybmVsTWF0cml4OiAna2VybmVsTWF0cml4JyxcbiAga2VybmVsVW5pdExlbmd0aDogJ2tlcm5lbFVuaXRMZW5ndGgnLFxuICBrZXJuaW5nOiAwLFxuICBrZXlQb2ludHM6ICdrZXlQb2ludHMnLFxuICBrZXlTcGxpbmVzOiAna2V5U3BsaW5lcycsXG4gIGtleVRpbWVzOiAna2V5VGltZXMnLFxuICBsZW5ndGhBZGp1c3Q6ICdsZW5ndGhBZGp1c3QnLFxuICBsZXR0ZXJTcGFjaW5nOiAnbGV0dGVyLXNwYWNpbmcnLFxuICBsaWdodGluZ0NvbG9yOiAnbGlnaHRpbmctY29sb3InLFxuICBsaW1pdGluZ0NvbmVBbmdsZTogJ2xpbWl0aW5nQ29uZUFuZ2xlJyxcbiAgbG9jYWw6IDAsXG4gIG1hcmtlckVuZDogJ21hcmtlci1lbmQnLFxuICBtYXJrZXJNaWQ6ICdtYXJrZXItbWlkJyxcbiAgbWFya2VyU3RhcnQ6ICdtYXJrZXItc3RhcnQnLFxuICBtYXJrZXJIZWlnaHQ6ICdtYXJrZXJIZWlnaHQnLFxuICBtYXJrZXJVbml0czogJ21hcmtlclVuaXRzJyxcbiAgbWFya2VyV2lkdGg6ICdtYXJrZXJXaWR0aCcsXG4gIG1hc2s6IDAsXG4gIG1hc2tDb250ZW50VW5pdHM6ICdtYXNrQ29udGVudFVuaXRzJyxcbiAgbWFza1VuaXRzOiAnbWFza1VuaXRzJyxcbiAgbWF0aGVtYXRpY2FsOiAwLFxuICBtb2RlOiAwLFxuICBudW1PY3RhdmVzOiAnbnVtT2N0YXZlcycsXG4gIG9mZnNldDogMCxcbiAgb3BhY2l0eTogMCxcbiAgb3BlcmF0b3I6IDAsXG4gIG9yZGVyOiAwLFxuICBvcmllbnQ6IDAsXG4gIG9yaWVudGF0aW9uOiAwLFxuICBvcmlnaW46IDAsXG4gIG92ZXJmbG93OiAwLFxuICBvdmVybGluZVBvc2l0aW9uOiAnb3ZlcmxpbmUtcG9zaXRpb24nLFxuICBvdmVybGluZVRoaWNrbmVzczogJ292ZXJsaW5lLXRoaWNrbmVzcycsXG4gIHBhaW50T3JkZXI6ICdwYWludC1vcmRlcicsXG4gIHBhbm9zZTE6ICdwYW5vc2UtMScsXG4gIHBhdGhMZW5ndGg6ICdwYXRoTGVuZ3RoJyxcbiAgcGF0dGVybkNvbnRlbnRVbml0czogJ3BhdHRlcm5Db250ZW50VW5pdHMnLFxuICBwYXR0ZXJuVHJhbnNmb3JtOiAncGF0dGVyblRyYW5zZm9ybScsXG4gIHBhdHRlcm5Vbml0czogJ3BhdHRlcm5Vbml0cycsXG4gIHBvaW50ZXJFdmVudHM6ICdwb2ludGVyLWV2ZW50cycsXG4gIHBvaW50czogMCxcbiAgcG9pbnRzQXRYOiAncG9pbnRzQXRYJyxcbiAgcG9pbnRzQXRZOiAncG9pbnRzQXRZJyxcbiAgcG9pbnRzQXRaOiAncG9pbnRzQXRaJyxcbiAgcHJlc2VydmVBbHBoYTogJ3ByZXNlcnZlQWxwaGEnLFxuICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiAncHJlc2VydmVBc3BlY3RSYXRpbycsXG4gIHByaW1pdGl2ZVVuaXRzOiAncHJpbWl0aXZlVW5pdHMnLFxuICByOiAwLFxuICByYWRpdXM6IDAsXG4gIHJlZlg6ICdyZWZYJyxcbiAgcmVmWTogJ3JlZlknLFxuICByZW5kZXJpbmdJbnRlbnQ6ICdyZW5kZXJpbmctaW50ZW50JyxcbiAgcmVwZWF0Q291bnQ6ICdyZXBlYXRDb3VudCcsXG4gIHJlcGVhdER1cjogJ3JlcGVhdER1cicsXG4gIHJlcXVpcmVkRXh0ZW5zaW9uczogJ3JlcXVpcmVkRXh0ZW5zaW9ucycsXG4gIHJlcXVpcmVkRmVhdHVyZXM6ICdyZXF1aXJlZEZlYXR1cmVzJyxcbiAgcmVzdGFydDogMCxcbiAgcmVzdWx0OiAwLFxuICByb3RhdGU6IDAsXG4gIHJ4OiAwLFxuICByeTogMCxcbiAgc2NhbGU6IDAsXG4gIHNlZWQ6IDAsXG4gIHNoYXBlUmVuZGVyaW5nOiAnc2hhcGUtcmVuZGVyaW5nJyxcbiAgc2xvcGU6IDAsXG4gIHNwYWNpbmc6IDAsXG4gIHNwZWN1bGFyQ29uc3RhbnQ6ICdzcGVjdWxhckNvbnN0YW50JyxcbiAgc3BlY3VsYXJFeHBvbmVudDogJ3NwZWN1bGFyRXhwb25lbnQnLFxuICBzcGVlZDogMCxcbiAgc3ByZWFkTWV0aG9kOiAnc3ByZWFkTWV0aG9kJyxcbiAgc3RhcnRPZmZzZXQ6ICdzdGFydE9mZnNldCcsXG4gIHN0ZERldmlhdGlvbjogJ3N0ZERldmlhdGlvbicsXG4gIHN0ZW1oOiAwLFxuICBzdGVtdjogMCxcbiAgc3RpdGNoVGlsZXM6ICdzdGl0Y2hUaWxlcycsXG4gIHN0b3BDb2xvcjogJ3N0b3AtY29sb3InLFxuICBzdG9wT3BhY2l0eTogJ3N0b3Atb3BhY2l0eScsXG4gIHN0cmlrZXRocm91Z2hQb3NpdGlvbjogJ3N0cmlrZXRocm91Z2gtcG9zaXRpb24nLFxuICBzdHJpa2V0aHJvdWdoVGhpY2tuZXNzOiAnc3RyaWtldGhyb3VnaC10aGlja25lc3MnLFxuICBzdHJpbmc6IDAsXG4gIHN0cm9rZTogMCxcbiAgc3Ryb2tlRGFzaGFycmF5OiAnc3Ryb2tlLWRhc2hhcnJheScsXG4gIHN0cm9rZURhc2hvZmZzZXQ6ICdzdHJva2UtZGFzaG9mZnNldCcsXG4gIHN0cm9rZUxpbmVjYXA6ICdzdHJva2UtbGluZWNhcCcsXG4gIHN0cm9rZUxpbmVqb2luOiAnc3Ryb2tlLWxpbmVqb2luJyxcbiAgc3Ryb2tlTWl0ZXJsaW1pdDogJ3N0cm9rZS1taXRlcmxpbWl0JyxcbiAgc3Ryb2tlT3BhY2l0eTogJ3N0cm9rZS1vcGFjaXR5JyxcbiAgc3Ryb2tlV2lkdGg6ICdzdHJva2Utd2lkdGgnLFxuICBzdXJmYWNlU2NhbGU6ICdzdXJmYWNlU2NhbGUnLFxuICBzeXN0ZW1MYW5ndWFnZTogJ3N5c3RlbUxhbmd1YWdlJyxcbiAgdGFibGVWYWx1ZXM6ICd0YWJsZVZhbHVlcycsXG4gIHRhcmdldFg6ICd0YXJnZXRYJyxcbiAgdGFyZ2V0WTogJ3RhcmdldFknLFxuICB0ZXh0QW5jaG9yOiAndGV4dC1hbmNob3InLFxuICB0ZXh0RGVjb3JhdGlvbjogJ3RleHQtZGVjb3JhdGlvbicsXG4gIHRleHRSZW5kZXJpbmc6ICd0ZXh0LXJlbmRlcmluZycsXG4gIHRleHRMZW5ndGg6ICd0ZXh0TGVuZ3RoJyxcbiAgdG86IDAsXG4gIHRyYW5zZm9ybTogMCxcbiAgdTE6IDAsXG4gIHUyOiAwLFxuICB1bmRlcmxpbmVQb3NpdGlvbjogJ3VuZGVybGluZS1wb3NpdGlvbicsXG4gIHVuZGVybGluZVRoaWNrbmVzczogJ3VuZGVybGluZS10aGlja25lc3MnLFxuICB1bmljb2RlOiAwLFxuICB1bmljb2RlQmlkaTogJ3VuaWNvZGUtYmlkaScsXG4gIHVuaWNvZGVSYW5nZTogJ3VuaWNvZGUtcmFuZ2UnLFxuICB1bml0c1BlckVtOiAndW5pdHMtcGVyLWVtJyxcbiAgdkFscGhhYmV0aWM6ICd2LWFscGhhYmV0aWMnLFxuICB2SGFuZ2luZzogJ3YtaGFuZ2luZycsXG4gIHZJZGVvZ3JhcGhpYzogJ3YtaWRlb2dyYXBoaWMnLFxuICB2TWF0aGVtYXRpY2FsOiAndi1tYXRoZW1hdGljYWwnLFxuICB2YWx1ZXM6IDAsXG4gIHZlY3RvckVmZmVjdDogJ3ZlY3Rvci1lZmZlY3QnLFxuICB2ZXJzaW9uOiAwLFxuICB2ZXJ0QWR2WTogJ3ZlcnQtYWR2LXknLFxuICB2ZXJ0T3JpZ2luWDogJ3ZlcnQtb3JpZ2luLXgnLFxuICB2ZXJ0T3JpZ2luWTogJ3ZlcnQtb3JpZ2luLXknLFxuICB2aWV3Qm94OiAndmlld0JveCcsXG4gIHZpZXdUYXJnZXQ6ICd2aWV3VGFyZ2V0JyxcbiAgdmlzaWJpbGl0eTogMCxcbiAgd2lkdGhzOiAwLFxuICB3b3JkU3BhY2luZzogJ3dvcmQtc3BhY2luZycsXG4gIHdyaXRpbmdNb2RlOiAnd3JpdGluZy1tb2RlJyxcbiAgeDogMCxcbiAgeEhlaWdodDogJ3gtaGVpZ2h0JyxcbiAgeDE6IDAsXG4gIHgyOiAwLFxuICB4Q2hhbm5lbFNlbGVjdG9yOiAneENoYW5uZWxTZWxlY3RvcicsXG4gIHhsaW5rQWN0dWF0ZTogJ3hsaW5rOmFjdHVhdGUnLFxuICB4bGlua0FyY3JvbGU6ICd4bGluazphcmNyb2xlJyxcbiAgeGxpbmtIcmVmOiAneGxpbms6aHJlZicsXG4gIHhsaW5rUm9sZTogJ3hsaW5rOnJvbGUnLFxuICB4bGlua1Nob3c6ICd4bGluazpzaG93JyxcbiAgeGxpbmtUaXRsZTogJ3hsaW5rOnRpdGxlJyxcbiAgeGxpbmtUeXBlOiAneGxpbms6dHlwZScsXG4gIHhtbEJhc2U6ICd4bWw6YmFzZScsXG4gIHhtbExhbmc6ICd4bWw6bGFuZycsXG4gIHhtbFNwYWNlOiAneG1sOnNwYWNlJyxcbiAgeTogMCxcbiAgeTE6IDAsXG4gIHkyOiAwLFxuICB5Q2hhbm5lbFNlbGVjdG9yOiAneUNoYW5uZWxTZWxlY3RvcicsXG4gIHo6IDAsXG4gIHpvb21BbmRQYW46ICd6b29tQW5kUGFuJ1xufTtcblxudmFyIFNWR0RPTVByb3BlcnR5Q29uZmlnID0ge1xuICBQcm9wZXJ0aWVzOiB7fSxcbiAgRE9NQXR0cmlidXRlTmFtZXNwYWNlczoge1xuICAgIHhsaW5rQWN0dWF0ZTogTlMueGxpbmssXG4gICAgeGxpbmtBcmNyb2xlOiBOUy54bGluayxcbiAgICB4bGlua0hyZWY6IE5TLnhsaW5rLFxuICAgIHhsaW5rUm9sZTogTlMueGxpbmssXG4gICAgeGxpbmtTaG93OiBOUy54bGluayxcbiAgICB4bGlua1RpdGxlOiBOUy54bGluayxcbiAgICB4bGlua1R5cGU6IE5TLnhsaW5rLFxuICAgIHhtbEJhc2U6IE5TLnhtbCxcbiAgICB4bWxMYW5nOiBOUy54bWwsXG4gICAgeG1sU3BhY2U6IE5TLnhtbFxuICB9LFxuICBET01BdHRyaWJ1dGVOYW1lczoge31cbn07XG5cbk9iamVjdC5rZXlzKEFUVFJTKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgU1ZHRE9NUHJvcGVydHlDb25maWcuUHJvcGVydGllc1trZXldID0gMDtcbiAgaWYgKEFUVFJTW2tleV0pIHtcbiAgICBTVkdET01Qcm9wZXJ0eUNvbmZpZy5ET01BdHRyaWJ1dGVOYW1lc1trZXldID0gQVRUUlNba2V5XTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU1ZHRE9NUHJvcGVydHlDb25maWc7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogR2l2ZW4gYW55IG5vZGUgcmV0dXJuIHRoZSBmaXJzdCBsZWFmIG5vZGUgd2l0aG91dCBjaGlsZHJlbi5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAqIEByZXR1cm4ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9XG4gKi9cblxuZnVuY3Rpb24gZ2V0TGVhZk5vZGUobm9kZSkge1xuICB3aGlsZSAobm9kZSAmJiBub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICBub2RlID0gbm9kZS5maXJzdENoaWxkO1xuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIEdldCB0aGUgbmV4dCBzaWJsaW5nIHdpdGhpbiBhIGNvbnRhaW5lci4gVGhpcyB3aWxsIHdhbGsgdXAgdGhlXG4gKiBET00gaWYgYSBub2RlJ3Mgc2libGluZ3MgaGF2ZSBiZWVuIGV4aGF1c3RlZC5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAqIEByZXR1cm4gez9ET01FbGVtZW50fERPTVRleHROb2RlfVxuICovXG5mdW5jdGlvbiBnZXRTaWJsaW5nTm9kZShub2RlKSB7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpIHtcbiAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICB9XG59XG5cbi8qKlxuICogR2V0IG9iamVjdCBkZXNjcmliaW5nIHRoZSBub2RlcyB3aGljaCBjb250YWluIGNoYXJhY3RlcnMgYXQgb2Zmc2V0LlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudHxET01UZXh0Tm9kZX0gcm9vdFxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFxuICogQHJldHVybiB7P29iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChyb290LCBvZmZzZXQpIHtcbiAgdmFyIG5vZGUgPSBnZXRMZWFmTm9kZShyb290KTtcbiAgdmFyIG5vZGVTdGFydCA9IDA7XG4gIHZhciBub2RlRW5kID0gMDtcblxuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICBub2RlRW5kID0gbm9kZVN0YXJ0ICsgbm9kZS50ZXh0Q29udGVudC5sZW5ndGg7XG5cbiAgICAgIGlmIChub2RlU3RhcnQgPD0gb2Zmc2V0ICYmIG5vZGVFbmQgPj0gb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICBvZmZzZXQ6IG9mZnNldCAtIG5vZGVTdGFydFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBub2RlU3RhcnQgPSBub2RlRW5kO1xuICAgIH1cblxuICAgIG5vZGUgPSBnZXRMZWFmTm9kZShnZXRTaWJsaW5nTm9kZShub2RlKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBnZXRUZXh0Q29udGVudEFjY2Vzc29yXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuXG52YXIgY29udGVudEtleSA9IG51bGw7XG5cbi8qKlxuICogR2V0cyB0aGUga2V5IHVzZWQgdG8gYWNjZXNzIHRleHQgY29udGVudCBvbiBhIERPTSBub2RlLlxuICpcbiAqIEByZXR1cm4gez9zdHJpbmd9IEtleSB1c2VkIHRvIGFjY2VzcyB0ZXh0IGNvbnRlbnQuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcigpIHtcbiAgaWYgKCFjb250ZW50S2V5ICYmIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIC8vIFByZWZlciB0ZXh0Q29udGVudCB0byBpbm5lclRleHQgYmVjYXVzZSBtYW55IGJyb3dzZXJzIHN1cHBvcnQgYm90aCBidXRcbiAgICAvLyBTVkcgPHRleHQ+IGVsZW1lbnRzIGRvbid0IHN1cHBvcnQgaW5uZXJUZXh0IGV2ZW4gd2hlbiA8ZGl2PiBkb2VzLlxuICAgIGNvbnRlbnRLZXkgPSAndGV4dENvbnRlbnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA/ICd0ZXh0Q29udGVudCcgOiAnaW5uZXJUZXh0JztcbiAgfVxuICByZXR1cm4gY29udGVudEtleTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRUZXh0Q29udGVudEFjY2Vzc29yOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbnZhciBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0ID0gcmVxdWlyZSgnLi9nZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0Jyk7XG52YXIgZ2V0VGV4dENvbnRlbnRBY2Nlc3NvciA9IHJlcXVpcmUoJy4vZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcicpO1xuZnVuY3Rpb24gaXNDb2xsYXBzZWQoYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KSB7XG4gIHJldHVybiBhbmNob3JOb2RlID09PSBmb2N1c05vZGUgJiYgYW5jaG9yT2Zmc2V0ID09PSBmb2N1c09mZnNldDtcbn1cbmZ1bmN0aW9uIGdldElFT2Zmc2V0cyhub2RlKSB7XG4gIHZhciBzZWxlY3Rpb24gPSBkb2N1bWVudC5zZWxlY3Rpb247XG4gIHZhciBzZWxlY3RlZFJhbmdlID0gc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gIHZhciBzZWxlY3RlZExlbmd0aCA9IHNlbGVjdGVkUmFuZ2UudGV4dC5sZW5ndGg7XG4gIHZhciBmcm9tU3RhcnQgPSBzZWxlY3RlZFJhbmdlLmR1cGxpY2F0ZSgpO1xuICBmcm9tU3RhcnQubW92ZVRvRWxlbWVudFRleHQobm9kZSk7XG4gIGZyb21TdGFydC5zZXRFbmRQb2ludCgnRW5kVG9TdGFydCcsIHNlbGVjdGVkUmFuZ2UpO1xuICB2YXIgc3RhcnRPZmZzZXQgPSBmcm9tU3RhcnQudGV4dC5sZW5ndGg7XG4gIHZhciBlbmRPZmZzZXQgPSBzdGFydE9mZnNldCArIHNlbGVjdGVkTGVuZ3RoO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBzdGFydE9mZnNldCxcbiAgICBlbmQ6IGVuZE9mZnNldFxuICB9O1xufVxuZnVuY3Rpb24gZ2V0TW9kZXJuT2Zmc2V0cyhub2RlKSB7XG4gIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uICYmIHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgaWYgKCFzZWxlY3Rpb24gfHwgc2VsZWN0aW9uLnJhbmdlQ291bnQgPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgYW5jaG9yTm9kZSA9IHNlbGVjdGlvbi5hbmNob3JOb2RlO1xuICB2YXIgYW5jaG9yT2Zmc2V0ID0gc2VsZWN0aW9uLmFuY2hvck9mZnNldDtcbiAgdmFyIGZvY3VzTm9kZSA9IHNlbGVjdGlvbi5mb2N1c05vZGU7XG4gIHZhciBmb2N1c09mZnNldCA9IHNlbGVjdGlvbi5mb2N1c09mZnNldDtcbiAgdmFyIGN1cnJlbnRSYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuICB0cnkge1xuICAgIGN1cnJlbnRSYW5nZS5zdGFydENvbnRhaW5lci5ub2RlVHlwZTtcbiAgICBjdXJyZW50UmFuZ2UuZW5kQ29udGFpbmVyLm5vZGVUeXBlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGlzU2VsZWN0aW9uQ29sbGFwc2VkID0gaXNDb2xsYXBzZWQoc2VsZWN0aW9uLmFuY2hvck5vZGUsIHNlbGVjdGlvbi5hbmNob3JPZmZzZXQsIHNlbGVjdGlvbi5mb2N1c05vZGUsIHNlbGVjdGlvbi5mb2N1c09mZnNldCk7XG4gIHZhciByYW5nZUxlbmd0aCA9IGlzU2VsZWN0aW9uQ29sbGFwc2VkID8gMCA6IGN1cnJlbnRSYW5nZS50b1N0cmluZygpLmxlbmd0aDtcbiAgdmFyIHRlbXBSYW5nZSA9IGN1cnJlbnRSYW5nZS5jbG9uZVJhbmdlKCk7XG4gIHRlbXBSYW5nZS5zZWxlY3ROb2RlQ29udGVudHMobm9kZSk7XG4gIHRlbXBSYW5nZS5zZXRFbmQoY3VycmVudFJhbmdlLnN0YXJ0Q29udGFpbmVyLCBjdXJyZW50UmFuZ2Uuc3RhcnRPZmZzZXQpO1xuICB2YXIgaXNUZW1wUmFuZ2VDb2xsYXBzZWQgPSBpc0NvbGxhcHNlZCh0ZW1wUmFuZ2Uuc3RhcnRDb250YWluZXIsIHRlbXBSYW5nZS5zdGFydE9mZnNldCwgdGVtcFJhbmdlLmVuZENvbnRhaW5lciwgdGVtcFJhbmdlLmVuZE9mZnNldCk7XG4gIHZhciBzdGFydCA9IGlzVGVtcFJhbmdlQ29sbGFwc2VkID8gMCA6IHRlbXBSYW5nZS50b1N0cmluZygpLmxlbmd0aDtcbiAgdmFyIGVuZCA9IHN0YXJ0ICsgcmFuZ2VMZW5ndGg7XG4gIHZhciBkZXRlY3Rpb25SYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gIGRldGVjdGlvblJhbmdlLnNldFN0YXJ0KGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCk7XG4gIGRldGVjdGlvblJhbmdlLnNldEVuZChmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KTtcbiAgdmFyIGlzQmFja3dhcmQgPSBkZXRlY3Rpb25SYW5nZS5jb2xsYXBzZWQ7XG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IGlzQmFja3dhcmQgPyBlbmQgOiBzdGFydCxcbiAgICBlbmQ6IGlzQmFja3dhcmQgPyBzdGFydCA6IGVuZFxuICB9O1xufVxuZnVuY3Rpb24gc2V0SUVPZmZzZXRzKG5vZGUsIG9mZnNldHMpIHtcbiAgdmFyIHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkuZHVwbGljYXRlKCk7XG4gIHZhciBzdGFydCxcbiAgICAgIGVuZDtcbiAgaWYgKG9mZnNldHMuZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IG9mZnNldHMuc3RhcnQ7XG4gICAgZW5kID0gc3RhcnQ7XG4gIH0gZWxzZSBpZiAob2Zmc2V0cy5zdGFydCA+IG9mZnNldHMuZW5kKSB7XG4gICAgc3RhcnQgPSBvZmZzZXRzLmVuZDtcbiAgICBlbmQgPSBvZmZzZXRzLnN0YXJ0O1xuICB9IGVsc2Uge1xuICAgIHN0YXJ0ID0gb2Zmc2V0cy5zdGFydDtcbiAgICBlbmQgPSBvZmZzZXRzLmVuZDtcbiAgfVxuICByYW5nZS5tb3ZlVG9FbGVtZW50VGV4dChub2RlKTtcbiAgcmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCBzdGFydCk7XG4gIHJhbmdlLnNldEVuZFBvaW50KCdFbmRUb1N0YXJ0JywgcmFuZ2UpO1xuICByYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXInLCBlbmQgLSBzdGFydCk7XG4gIHJhbmdlLnNlbGVjdCgpO1xufVxuZnVuY3Rpb24gc2V0TW9kZXJuT2Zmc2V0cyhub2RlLCBvZmZzZXRzKSB7XG4gIGlmICghd2luZG93LmdldFNlbGVjdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICB2YXIgbGVuZ3RoID0gbm9kZVtnZXRUZXh0Q29udGVudEFjY2Vzc29yKCldLmxlbmd0aDtcbiAgdmFyIHN0YXJ0ID0gTWF0aC5taW4ob2Zmc2V0cy5zdGFydCwgbGVuZ3RoKTtcbiAgdmFyIGVuZCA9IG9mZnNldHMuZW5kID09PSB1bmRlZmluZWQgPyBzdGFydCA6IE1hdGgubWluKG9mZnNldHMuZW5kLCBsZW5ndGgpO1xuICBpZiAoIXNlbGVjdGlvbi5leHRlbmQgJiYgc3RhcnQgPiBlbmQpIHtcbiAgICB2YXIgdGVtcCA9IGVuZDtcbiAgICBlbmQgPSBzdGFydDtcbiAgICBzdGFydCA9IHRlbXA7XG4gIH1cbiAgdmFyIHN0YXJ0TWFya2VyID0gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChub2RlLCBzdGFydCk7XG4gIHZhciBlbmRNYXJrZXIgPSBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0KG5vZGUsIGVuZCk7XG4gIGlmIChzdGFydE1hcmtlciAmJiBlbmRNYXJrZXIpIHtcbiAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHN0YXJ0TWFya2VyLm5vZGUsIHN0YXJ0TWFya2VyLm9mZnNldCk7XG4gICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgIGlmIChzdGFydCA+IGVuZCkge1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgIHNlbGVjdGlvbi5leHRlbmQoZW5kTWFya2VyLm5vZGUsIGVuZE1hcmtlci5vZmZzZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByYW5nZS5zZXRFbmQoZW5kTWFya2VyLm5vZGUsIGVuZE1hcmtlci5vZmZzZXQpO1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICB9XG4gIH1cbn1cbnZhciB1c2VJRU9mZnNldHMgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgJ3NlbGVjdGlvbicgaW4gZG9jdW1lbnQgJiYgISgnZ2V0U2VsZWN0aW9uJyBpbiB3aW5kb3cpO1xudmFyIFJlYWN0RE9NU2VsZWN0aW9uID0ge1xuICBnZXRPZmZzZXRzOiB1c2VJRU9mZnNldHMgPyBnZXRJRU9mZnNldHMgOiBnZXRNb2Rlcm5PZmZzZXRzLFxuICBzZXRPZmZzZXRzOiB1c2VJRU9mZnNldHMgPyBzZXRJRU9mZnNldHMgOiBzZXRNb2Rlcm5PZmZzZXRzXG59O1xubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTVNlbGVjdGlvbjtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgb2JqZWN0IGlzIGEgRE9NIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGlzTm9kZShvYmplY3QpIHtcbiAgcmV0dXJuICEhKG9iamVjdCAmJiAodHlwZW9mIE5vZGUgPT09ICdmdW5jdGlvbicgPyBvYmplY3QgaW5zdGFuY2VvZiBOb2RlIDogdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iamVjdC5ub2RlVHlwZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIG9iamVjdC5ub2RlTmFtZSA9PT0gJ3N0cmluZycpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc05vZGU7IiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgaXNOb2RlID0gcmVxdWlyZSgnLi9pc05vZGUnKTtcbmZ1bmN0aW9uIGlzVGV4dE5vZGUob2JqZWN0KSB7XG4gIHJldHVybiBpc05vZGUob2JqZWN0KSAmJiBvYmplY3Qubm9kZVR5cGUgPT0gMztcbn1cbm1vZHVsZS5leHBvcnRzID0gaXNUZXh0Tm9kZTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIGlzVGV4dE5vZGUgPSByZXF1aXJlKCcuL2lzVGV4dE5vZGUnKTtcbmZ1bmN0aW9uIGNvbnRhaW5zTm9kZShvdXRlck5vZGUsIGlubmVyTm9kZSkge1xuICBpZiAoIW91dGVyTm9kZSB8fCAhaW5uZXJOb2RlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKG91dGVyTm9kZSA9PT0gaW5uZXJOb2RlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoaXNUZXh0Tm9kZShvdXRlck5vZGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGlzVGV4dE5vZGUoaW5uZXJOb2RlKSkge1xuICAgIHJldHVybiBjb250YWluc05vZGUob3V0ZXJOb2RlLCBpbm5lck5vZGUucGFyZW50Tm9kZSk7XG4gIH0gZWxzZSBpZiAob3V0ZXJOb2RlLmNvbnRhaW5zKSB7XG4gICAgcmV0dXJuIG91dGVyTm9kZS5jb250YWlucyhpbm5lck5vZGUpO1xuICB9IGVsc2UgaWYgKG91dGVyTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikge1xuICAgIHJldHVybiAhIShvdXRlck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oaW5uZXJOb2RlKSAmIDE2KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gY29udGFpbnNOb2RlO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlIGlucHV0L3RleHRhcmVhIHRvIGZvY3VzXG4gKi9cblxuZnVuY3Rpb24gZm9jdXNOb2RlKG5vZGUpIHtcbiAgLy8gSUU4IGNhbiB0aHJvdyBcIkNhbid0IG1vdmUgZm9jdXMgdG8gdGhlIGNvbnRyb2wgYmVjYXVzZSBpdCBpcyBpbnZpc2libGUsXG4gIC8vIG5vdCBlbmFibGVkLCBvciBvZiBhIHR5cGUgdGhhdCBkb2VzIG5vdCBhY2NlcHQgdGhlIGZvY3VzLlwiIGZvciBhbGwga2luZHMgb2ZcbiAgLy8gcmVhc29ucyB0aGF0IGFyZSB0b28gZXhwZW5zaXZlIGFuZCBmcmFnaWxlIHRvIHRlc3QuXG4gIHRyeSB7XG4gICAgbm9kZS5mb2N1cygpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZvY3VzTm9kZTsiLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBSZWFjdERPTVNlbGVjdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RET01TZWxlY3Rpb24nKTtcbnZhciBjb250YWluc05vZGUgPSByZXF1aXJlKCdmYmpzL2xpYi9jb250YWluc05vZGUnKTtcbnZhciBmb2N1c05vZGUgPSByZXF1aXJlKCdmYmpzL2xpYi9mb2N1c05vZGUnKTtcbnZhciBnZXRBY3RpdmVFbGVtZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvZ2V0QWN0aXZlRWxlbWVudCcpO1xuZnVuY3Rpb24gaXNJbkRvY3VtZW50KG5vZGUpIHtcbiAgcmV0dXJuIGNvbnRhaW5zTm9kZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIG5vZGUpO1xufVxudmFyIFJlYWN0SW5wdXRTZWxlY3Rpb24gPSB7XG4gIGhhc1NlbGVjdGlvbkNhcGFiaWxpdGllczogZnVuY3Rpb24oZWxlbSkge1xuICAgIHZhciBub2RlTmFtZSA9IGVsZW0gJiYgZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIG5vZGVOYW1lICYmIChub2RlTmFtZSA9PT0gJ2lucHV0JyAmJiBlbGVtLnR5cGUgPT09ICd0ZXh0JyB8fCBub2RlTmFtZSA9PT0gJ3RleHRhcmVhJyB8fCBlbGVtLmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKTtcbiAgfSxcbiAgZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb2N1c2VkRWxlbSA9IGdldEFjdGl2ZUVsZW1lbnQoKTtcbiAgICByZXR1cm4ge1xuICAgICAgZm9jdXNlZEVsZW06IGZvY3VzZWRFbGVtLFxuICAgICAgc2VsZWN0aW9uUmFuZ2U6IFJlYWN0SW5wdXRTZWxlY3Rpb24uaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKGZvY3VzZWRFbGVtKSA/IFJlYWN0SW5wdXRTZWxlY3Rpb24uZ2V0U2VsZWN0aW9uKGZvY3VzZWRFbGVtKSA6IG51bGxcbiAgICB9O1xuICB9LFxuICByZXN0b3JlU2VsZWN0aW9uOiBmdW5jdGlvbihwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uKSB7XG4gICAgdmFyIGN1ckZvY3VzZWRFbGVtID0gZ2V0QWN0aXZlRWxlbWVudCgpO1xuICAgIHZhciBwcmlvckZvY3VzZWRFbGVtID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5mb2N1c2VkRWxlbTtcbiAgICB2YXIgcHJpb3JTZWxlY3Rpb25SYW5nZSA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uc2VsZWN0aW9uUmFuZ2U7XG4gICAgaWYgKGN1ckZvY3VzZWRFbGVtICE9PSBwcmlvckZvY3VzZWRFbGVtICYmIGlzSW5Eb2N1bWVudChwcmlvckZvY3VzZWRFbGVtKSkge1xuICAgICAgaWYgKFJlYWN0SW5wdXRTZWxlY3Rpb24uaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKHByaW9yRm9jdXNlZEVsZW0pKSB7XG4gICAgICAgIFJlYWN0SW5wdXRTZWxlY3Rpb24uc2V0U2VsZWN0aW9uKHByaW9yRm9jdXNlZEVsZW0sIHByaW9yU2VsZWN0aW9uUmFuZ2UpO1xuICAgICAgfVxuICAgICAgZm9jdXNOb2RlKHByaW9yRm9jdXNlZEVsZW0pO1xuICAgIH1cbiAgfSxcbiAgZ2V0U2VsZWN0aW9uOiBmdW5jdGlvbihpbnB1dCkge1xuICAgIHZhciBzZWxlY3Rpb247XG4gICAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gaW5wdXQpIHtcbiAgICAgIHNlbGVjdGlvbiA9IHtcbiAgICAgICAgc3RhcnQ6IGlucHV0LnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICBlbmQ6IGlucHV0LnNlbGVjdGlvbkVuZFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbiAmJiBpbnB1dC5ub2RlTmFtZSAmJiBpbnB1dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcbiAgICAgIGlmIChyYW5nZS5wYXJlbnRFbGVtZW50KCkgPT09IGlucHV0KSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IHtcbiAgICAgICAgICBzdGFydDogLXJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgLWlucHV0LnZhbHVlLmxlbmd0aCksXG4gICAgICAgICAgZW5kOiAtcmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgLWlucHV0LnZhbHVlLmxlbmd0aClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0aW9uID0gUmVhY3RET01TZWxlY3Rpb24uZ2V0T2Zmc2V0cyhpbnB1dCk7XG4gICAgfVxuICAgIHJldHVybiBzZWxlY3Rpb24gfHwge1xuICAgICAgc3RhcnQ6IDAsXG4gICAgICBlbmQ6IDBcbiAgICB9O1xuICB9LFxuICBzZXRTZWxlY3Rpb246IGZ1bmN0aW9uKGlucHV0LCBvZmZzZXRzKSB7XG4gICAgdmFyIHN0YXJ0ID0gb2Zmc2V0cy5zdGFydDtcbiAgICB2YXIgZW5kID0gb2Zmc2V0cy5lbmQ7XG4gICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlbmQgPSBzdGFydDtcbiAgICB9XG4gICAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gaW5wdXQpIHtcbiAgICAgIGlucHV0LnNlbGVjdGlvblN0YXJ0ID0gc3RhcnQ7XG4gICAgICBpbnB1dC5zZWxlY3Rpb25FbmQgPSBNYXRoLm1pbihlbmQsIGlucHV0LnZhbHVlLmxlbmd0aCk7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24gJiYgaW5wdXQubm9kZU5hbWUgJiYgaW5wdXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0Jykge1xuICAgICAgdmFyIHJhbmdlID0gaW5wdXQuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcbiAgICAgIHJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgc3RhcnQpO1xuICAgICAgcmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgZW5kIC0gc3RhcnQpO1xuICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RE9NU2VsZWN0aW9uLnNldE9mZnNldHMoaW5wdXQsIG9mZnNldHMpO1xuICAgIH1cbiAgfVxufTtcbm1vZHVsZS5leHBvcnRzID0gUmVhY3RJbnB1dFNlbGVjdGlvbjtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBmYi13d3cvdHlwZW9mLXVuZGVmaW5lZCAqL1xuXG4vKipcbiAqIFNhbWUgYXMgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBidXQgd3JhcHMgaW4gYSB0cnktY2F0Y2ggYmxvY2suIEluIElFIGl0IGlzXG4gKiBub3Qgc2FmZSB0byBjYWxsIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaWYgdGhlcmUgaXMgbm90aGluZyBmb2N1c2VkLlxuICpcbiAqIFRoZSBhY3RpdmVFbGVtZW50IHdpbGwgYmUgbnVsbCBvbmx5IGlmIHRoZSBkb2N1bWVudCBvciBkb2N1bWVudCBib2R5IGlzIG5vdFxuICogeWV0IGRlZmluZWQuXG4gKi9cbmZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoKSAvKj9ET01FbGVtZW50Ki97XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCB8fCBkb2N1bWVudC5ib2R5O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRBY3RpdmVFbGVtZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBpc1RleHRJbnB1dEVsZW1lbnRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQHNlZSBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS90aGUtaW5wdXQtZWxlbWVudC5odG1sI2lucHV0LXR5cGUtYXR0ci1zdW1tYXJ5XG4gKi9cblxudmFyIHN1cHBvcnRlZElucHV0VHlwZXMgPSB7XG4gICdjb2xvcic6IHRydWUsXG4gICdkYXRlJzogdHJ1ZSxcbiAgJ2RhdGV0aW1lJzogdHJ1ZSxcbiAgJ2RhdGV0aW1lLWxvY2FsJzogdHJ1ZSxcbiAgJ2VtYWlsJzogdHJ1ZSxcbiAgJ21vbnRoJzogdHJ1ZSxcbiAgJ251bWJlcic6IHRydWUsXG4gICdwYXNzd29yZCc6IHRydWUsXG4gICdyYW5nZSc6IHRydWUsXG4gICdzZWFyY2gnOiB0cnVlLFxuICAndGVsJzogdHJ1ZSxcbiAgJ3RleHQnOiB0cnVlLFxuICAndGltZSc6IHRydWUsXG4gICd1cmwnOiB0cnVlLFxuICAnd2Vlayc6IHRydWVcbn07XG5cbmZ1bmN0aW9uIGlzVGV4dElucHV0RWxlbWVudChlbGVtKSB7XG4gIHZhciBub2RlTmFtZSA9IGVsZW0gJiYgZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBub2RlTmFtZSAmJiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgc3VwcG9ydGVkSW5wdXRUeXBlc1tlbGVtLnR5cGVdIHx8IG5vZGVOYW1lID09PSAndGV4dGFyZWEnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1RleHRJbnB1dEVsZW1lbnQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKiBcbiAqL1xuXG4vKmVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogaW5saW5lZCBPYmplY3QuaXMgcG9seWZpbGwgdG8gYXZvaWQgcmVxdWlyaW5nIGNvbnN1bWVycyBzaGlwIHRoZWlyIG93blxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG4gKi9cbmZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuICBpZiAoeCA9PT0geSkge1xuICAgIC8vIFN0ZXBzIDEtNSwgNy0xMFxuICAgIC8vIFN0ZXBzIDYuYi02LmU6ICswICE9IC0wXG4gICAgcmV0dXJuIHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICB9IGVsc2Uge1xuICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG4gICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgfVxufVxuXG4vKipcbiAqIFBlcmZvcm1zIGVxdWFsaXR5IGJ5IGl0ZXJhdGluZyB0aHJvdWdoIGtleXMgb24gYW4gb2JqZWN0IGFuZCByZXR1cm5pbmcgZmFsc2VcbiAqIHdoZW4gYW55IGtleSBoYXMgdmFsdWVzIHdoaWNoIGFyZSBub3Qgc3RyaWN0bHkgZXF1YWwgYmV0d2VlbiB0aGUgYXJndW1lbnRzLlxuICogUmV0dXJucyB0cnVlIHdoZW4gdGhlIHZhbHVlcyBvZiBhbGwga2V5cyBhcmUgc3RyaWN0bHkgZXF1YWwuXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gIGlmIChpcyhvYmpBLCBvYmpCKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmpBICE9PSAnb2JqZWN0JyB8fCBvYmpBID09PSBudWxsIHx8IHR5cGVvZiBvYmpCICE9PSAnb2JqZWN0JyB8fCBvYmpCID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwob2JqQiwga2V5c0FbaV0pIHx8ICFpcyhvYmpBW2tleXNBW2ldXSwgb2JqQltrZXlzQVtpXV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hhbGxvd0VxdWFsOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xudmFyIEV2ZW50UHJvcGFnYXRvcnMgPSByZXF1aXJlKCcuL0V2ZW50UHJvcGFnYXRvcnMnKTtcbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG52YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gcmVxdWlyZSgnLi9SZWFjdERPTUNvbXBvbmVudFRyZWUnKTtcbnZhciBSZWFjdElucHV0U2VsZWN0aW9uID0gcmVxdWlyZSgnLi9SZWFjdElucHV0U2VsZWN0aW9uJyk7XG52YXIgU3ludGhldGljRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY0V2ZW50Jyk7XG52YXIgZ2V0QWN0aXZlRWxlbWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL2dldEFjdGl2ZUVsZW1lbnQnKTtcbnZhciBpc1RleHRJbnB1dEVsZW1lbnQgPSByZXF1aXJlKCcuL2lzVGV4dElucHV0RWxlbWVudCcpO1xudmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcbnZhciBzaGFsbG93RXF1YWwgPSByZXF1aXJlKCdmYmpzL2xpYi9zaGFsbG93RXF1YWwnKTtcbnZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbnZhciBza2lwU2VsZWN0aW9uQ2hhbmdlRXZlbnQgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIDw9IDExO1xudmFyIGV2ZW50VHlwZXMgPSB7c2VsZWN0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblNlbGVjdDogbnVsbH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblNlbGVjdENhcHR1cmU6IG51bGx9KVxuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BCbHVyLCB0b3BMZXZlbFR5cGVzLnRvcENvbnRleHRNZW51LCB0b3BMZXZlbFR5cGVzLnRvcEZvY3VzLCB0b3BMZXZlbFR5cGVzLnRvcEtleURvd24sIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duLCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlVXAsIHRvcExldmVsVHlwZXMudG9wU2VsZWN0aW9uQ2hhbmdlXVxuICB9fTtcbnZhciBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbnZhciBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGw7XG52YXIgbGFzdFNlbGVjdGlvbiA9IG51bGw7XG52YXIgbW91c2VEb3duID0gZmFsc2U7XG52YXIgaGFzTGlzdGVuZXIgPSBmYWxzZTtcbnZhciBPTl9TRUxFQ1RfS0VZID0ga2V5T2Yoe29uU2VsZWN0OiBudWxsfSk7XG5mdW5jdGlvbiBnZXRTZWxlY3Rpb24obm9kZSkge1xuICBpZiAoJ3NlbGVjdGlvblN0YXJ0JyBpbiBub2RlICYmIFJlYWN0SW5wdXRTZWxlY3Rpb24uaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKG5vZGUpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0OiBub2RlLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgZW5kOiBub2RlLnNlbGVjdGlvbkVuZFxuICAgIH07XG4gIH0gZWxzZSBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xuICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFuY2hvck5vZGU6IHNlbGVjdGlvbi5hbmNob3JOb2RlLFxuICAgICAgYW5jaG9yT2Zmc2V0OiBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0LFxuICAgICAgZm9jdXNOb2RlOiBzZWxlY3Rpb24uZm9jdXNOb2RlLFxuICAgICAgZm9jdXNPZmZzZXQ6IHNlbGVjdGlvbi5mb2N1c09mZnNldFxuICAgIH07XG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG4gICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhcmVudEVsZW1lbnQ6IHJhbmdlLnBhcmVudEVsZW1lbnQoKSxcbiAgICAgIHRleHQ6IHJhbmdlLnRleHQsXG4gICAgICB0b3A6IHJhbmdlLmJvdW5kaW5nVG9wLFxuICAgICAgbGVmdDogcmFuZ2UuYm91bmRpbmdMZWZ0XG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gY29uc3RydWN0U2VsZWN0RXZlbnQobmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIGlmIChtb3VzZURvd24gfHwgYWN0aXZlRWxlbWVudCA9PSBudWxsIHx8IGFjdGl2ZUVsZW1lbnQgIT09IGdldEFjdGl2ZUVsZW1lbnQoKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBjdXJyZW50U2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKGFjdGl2ZUVsZW1lbnQpO1xuICBpZiAoIWxhc3RTZWxlY3Rpb24gfHwgIXNoYWxsb3dFcXVhbChsYXN0U2VsZWN0aW9uLCBjdXJyZW50U2VsZWN0aW9uKSkge1xuICAgIGxhc3RTZWxlY3Rpb24gPSBjdXJyZW50U2VsZWN0aW9uO1xuICAgIHZhciBzeW50aGV0aWNFdmVudCA9IFN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChldmVudFR5cGVzLnNlbGVjdCwgYWN0aXZlRWxlbWVudEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgc3ludGhldGljRXZlbnQudHlwZSA9ICdzZWxlY3QnO1xuICAgIHN5bnRoZXRpY0V2ZW50LnRhcmdldCA9IGFjdGl2ZUVsZW1lbnQ7XG4gICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKHN5bnRoZXRpY0V2ZW50KTtcbiAgICByZXR1cm4gc3ludGhldGljRXZlbnQ7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG52YXIgU2VsZWN0RXZlbnRQbHVnaW4gPSB7XG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgaWYgKCFoYXNMaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciB0YXJnZXROb2RlID0gdGFyZ2V0SW5zdCA/IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKHRhcmdldEluc3QpIDogd2luZG93O1xuICAgIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRm9jdXM6XG4gICAgICAgIGlmIChpc1RleHRJbnB1dEVsZW1lbnQodGFyZ2V0Tm9kZSkgfHwgdGFyZ2V0Tm9kZS5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJykge1xuICAgICAgICAgIGFjdGl2ZUVsZW1lbnQgPSB0YXJnZXROb2RlO1xuICAgICAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgICAgICAgICBsYXN0U2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BCbHVyOlxuICAgICAgICBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgYWN0aXZlRWxlbWVudEluc3QgPSBudWxsO1xuICAgICAgICBsYXN0U2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duOlxuICAgICAgICBtb3VzZURvd24gPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDb250ZXh0TWVudTpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZVVwOlxuICAgICAgICBtb3VzZURvd24gPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdFNlbGVjdEV2ZW50KG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU2VsZWN0aW9uQ2hhbmdlOlxuICAgICAgICBpZiAoc2tpcFNlbGVjdGlvbkNoYW5nZUV2ZW50KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVVwOlxuICAgICAgICByZXR1cm4gY29uc3RydWN0U2VsZWN0RXZlbnQobmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGRpZFB1dExpc3RlbmVyOiBmdW5jdGlvbihpbnN0LCByZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lcikge1xuICAgIGlmIChyZWdpc3RyYXRpb25OYW1lID09PSBPTl9TRUxFQ1RfS0VZKSB7XG4gICAgICBoYXNMaXN0ZW5lciA9IHRydWU7XG4gICAgfVxuICB9XG59O1xubW9kdWxlLmV4cG9ydHMgPSBTZWxlY3RFdmVudFBsdWdpbjtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJy4vZW1wdHlGdW5jdGlvbicpO1xuICB2YXIgRXZlbnRMaXN0ZW5lciA9IHtcbiAgICBsaXN0ZW46IGZ1bmN0aW9uKHRhcmdldCwgZXZlbnRUeXBlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKHRhcmdldC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHtyZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBjYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICAgIH19O1xuICAgICAgfSBlbHNlIGlmICh0YXJnZXQuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgdGFyZ2V0LmF0dGFjaEV2ZW50KCdvbicgKyBldmVudFR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHtyZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGFyZ2V0LmRldGFjaEV2ZW50KCdvbicgKyBldmVudFR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICB9fTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNhcHR1cmU6IGZ1bmN0aW9uKHRhcmdldCwgZXZlbnRUeXBlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKHRhcmdldC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2ssIHRydWUpO1xuICAgICAgICByZXR1cm4ge3JlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgICB9fTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQXR0ZW1wdGVkIHRvIGxpc3RlbiB0byBldmVudHMgZHVyaW5nIHRoZSBjYXB0dXJlIHBoYXNlIG9uIGEgJyArICdicm93c2VyIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCB0aGUgY2FwdHVyZSBwaGFzZS4gWW91ciBhcHBsaWNhdGlvbiAnICsgJ3dpbGwgbm90IHJlY2VpdmUgc29tZSBldmVudHMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtyZW1vdmU6IGVtcHR5RnVuY3Rpb259O1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVnaXN0ZXJEZWZhdWx0OiBmdW5jdGlvbigpIHt9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRMaXN0ZW5lcjtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xuICB2YXIgRXZlbnRQbHVnaW5IdWIgPSByZXF1aXJlKCcuL0V2ZW50UGx1Z2luSHViJyk7XG4gIHZhciBFdmVudFBsdWdpblV0aWxzID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpblV0aWxzJyk7XG4gIHZhciBhY2N1bXVsYXRlSW50byA9IHJlcXVpcmUoJy4vYWNjdW11bGF0ZUludG8nKTtcbiAgdmFyIGZvckVhY2hBY2N1bXVsYXRlZCA9IHJlcXVpcmUoJy4vZm9yRWFjaEFjY3VtdWxhdGVkJyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgUHJvcGFnYXRpb25QaGFzZXMgPSBFdmVudENvbnN0YW50cy5Qcm9wYWdhdGlvblBoYXNlcztcbiAgdmFyIGdldExpc3RlbmVyID0gRXZlbnRQbHVnaW5IdWIuZ2V0TGlzdGVuZXI7XG4gIGZ1bmN0aW9uIGxpc3RlbmVyQXRQaGFzZShpbnN0LCBldmVudCwgcHJvcGFnYXRpb25QaGFzZSkge1xuICAgIHZhciByZWdpc3RyYXRpb25OYW1lID0gZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcHJvcGFnYXRpb25QaGFzZV07XG4gICAgcmV0dXJuIGdldExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpO1xuICB9XG4gIGZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMoaW5zdCwgdXB3YXJkcywgZXZlbnQpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoaW5zdCwgJ0Rpc3BhdGNoaW5nIGluc3QgbXVzdCBub3QgYmUgbnVsbCcpIDogdm9pZCAwO1xuICAgIH1cbiAgICB2YXIgcGhhc2UgPSB1cHdhcmRzID8gUHJvcGFnYXRpb25QaGFzZXMuYnViYmxlZCA6IFByb3BhZ2F0aW9uUGhhc2VzLmNhcHR1cmVkO1xuICAgIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyQXRQaGFzZShpbnN0LCBldmVudCwgcGhhc2UpO1xuICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzLCBsaXN0ZW5lcik7XG4gICAgICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBhY2N1bXVsYXRlSW50byhldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMsIGluc3QpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgICBFdmVudFBsdWdpblV0aWxzLnRyYXZlcnNlVHdvUGhhc2UoZXZlbnQuX3RhcmdldEluc3QsIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMsIGV2ZW50KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZVNraXBUYXJnZXQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgIHZhciB0YXJnZXRJbnN0ID0gZXZlbnQuX3RhcmdldEluc3Q7XG4gICAgICB2YXIgcGFyZW50SW5zdCA9IHRhcmdldEluc3QgPyBFdmVudFBsdWdpblV0aWxzLmdldFBhcmVudEluc3RhbmNlKHRhcmdldEluc3QpIDogbnVsbDtcbiAgICAgIEV2ZW50UGx1Z2luVXRpbHMudHJhdmVyc2VUd29QaGFzZShwYXJlbnRJbnN0LCBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzLCBldmVudCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGFjY3VtdWxhdGVEaXNwYXRjaGVzKGluc3QsIGlnbm9yZWREaXJlY3Rpb24sIGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICAgIHZhciByZWdpc3RyYXRpb25OYW1lID0gZXZlbnQuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZTtcbiAgICAgIHZhciBsaXN0ZW5lciA9IGdldExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpO1xuICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycywgbGlzdGVuZXIpO1xuICAgICAgICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBhY2N1bXVsYXRlSW50byhldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMsIGluc3QpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlc1NpbmdsZShldmVudCkge1xuICAgIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICBhY2N1bXVsYXRlRGlzcGF0Y2hlcyhldmVudC5fdGFyZ2V0SW5zdCwgbnVsbCwgZXZlbnQpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50cykge1xuICAgIGZvckVhY2hBY2N1bXVsYXRlZChldmVudHMsIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGUpO1xuICB9XG4gIGZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTa2lwVGFyZ2V0KGV2ZW50cykge1xuICAgIGZvckVhY2hBY2N1bXVsYXRlZChldmVudHMsIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGVTa2lwVGFyZ2V0KTtcbiAgfVxuICBmdW5jdGlvbiBhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXMobGVhdmUsIGVudGVyLCBmcm9tLCB0bykge1xuICAgIEV2ZW50UGx1Z2luVXRpbHMudHJhdmVyc2VFbnRlckxlYXZlKGZyb20sIHRvLCBhY2N1bXVsYXRlRGlzcGF0Y2hlcywgbGVhdmUsIGVudGVyKTtcbiAgfVxuICBmdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyhldmVudHMpIHtcbiAgICBmb3JFYWNoQWNjdW11bGF0ZWQoZXZlbnRzLCBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlc1NpbmdsZSk7XG4gIH1cbiAgdmFyIEV2ZW50UHJvcGFnYXRvcnMgPSB7XG4gICAgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlczogYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyxcbiAgICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2tpcFRhcmdldDogYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQsXG4gICAgYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXM6IGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzLFxuICAgIGFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlczogYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzXG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRQcm9wYWdhdG9ycztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljRXZlbnQnKTtcbnZhciBBbmltYXRpb25FdmVudEludGVyZmFjZSA9IHtcbiAgYW5pbWF0aW9uTmFtZTogbnVsbCxcbiAgZWxhcHNlZFRpbWU6IG51bGwsXG4gIHBzZXVkb0VsZW1lbnQ6IG51bGxcbn07XG5mdW5jdGlvbiBTeW50aGV0aWNBbmltYXRpb25FdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICByZXR1cm4gU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG59XG5TeW50aGV0aWNFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljQW5pbWF0aW9uRXZlbnQsIEFuaW1hdGlvbkV2ZW50SW50ZXJmYWNlKTtcbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljQW5pbWF0aW9uRXZlbnQ7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljRXZlbnQnKTtcbnZhciBDbGlwYm9hcmRFdmVudEludGVyZmFjZSA9IHtjbGlwYm9hcmREYXRhOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiAnY2xpcGJvYXJkRGF0YScgaW4gZXZlbnQgPyBldmVudC5jbGlwYm9hcmREYXRhIDogd2luZG93LmNsaXBib2FyZERhdGE7XG4gIH19O1xuZnVuY3Rpb24gU3ludGhldGljQ2xpcGJvYXJkRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgcmV0dXJuIFN5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xufVxuU3ludGhldGljRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50LCBDbGlwYm9hcmRFdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50O1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgU3ludGhldGljVUlFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljVUlFdmVudCcpO1xudmFyIEZvY3VzRXZlbnRJbnRlcmZhY2UgPSB7cmVsYXRlZFRhcmdldDogbnVsbH07XG5mdW5jdGlvbiBTeW50aGV0aWNGb2N1c0V2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHJldHVybiBTeW50aGV0aWNVSUV2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xufVxuU3ludGhldGljVUlFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljRm9jdXNFdmVudCwgRm9jdXNFdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0ZvY3VzRXZlbnQ7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBnZXRFdmVudENoYXJDb2RlID0gcmVxdWlyZSgnLi9nZXRFdmVudENoYXJDb2RlJyk7XG52YXIgbm9ybWFsaXplS2V5ID0ge1xuICAnRXNjJzogJ0VzY2FwZScsXG4gICdTcGFjZWJhcic6ICcgJyxcbiAgJ0xlZnQnOiAnQXJyb3dMZWZ0JyxcbiAgJ1VwJzogJ0Fycm93VXAnLFxuICAnUmlnaHQnOiAnQXJyb3dSaWdodCcsXG4gICdEb3duJzogJ0Fycm93RG93bicsXG4gICdEZWwnOiAnRGVsZXRlJyxcbiAgJ1dpbic6ICdPUycsXG4gICdNZW51JzogJ0NvbnRleHRNZW51JyxcbiAgJ0FwcHMnOiAnQ29udGV4dE1lbnUnLFxuICAnU2Nyb2xsJzogJ1Njcm9sbExvY2snLFxuICAnTW96UHJpbnRhYmxlS2V5JzogJ1VuaWRlbnRpZmllZCdcbn07XG52YXIgdHJhbnNsYXRlVG9LZXkgPSB7XG4gIDg6ICdCYWNrc3BhY2UnLFxuICA5OiAnVGFiJyxcbiAgMTI6ICdDbGVhcicsXG4gIDEzOiAnRW50ZXInLFxuICAxNjogJ1NoaWZ0JyxcbiAgMTc6ICdDb250cm9sJyxcbiAgMTg6ICdBbHQnLFxuICAxOTogJ1BhdXNlJyxcbiAgMjA6ICdDYXBzTG9jaycsXG4gIDI3OiAnRXNjYXBlJyxcbiAgMzI6ICcgJyxcbiAgMzM6ICdQYWdlVXAnLFxuICAzNDogJ1BhZ2VEb3duJyxcbiAgMzU6ICdFbmQnLFxuICAzNjogJ0hvbWUnLFxuICAzNzogJ0Fycm93TGVmdCcsXG4gIDM4OiAnQXJyb3dVcCcsXG4gIDM5OiAnQXJyb3dSaWdodCcsXG4gIDQwOiAnQXJyb3dEb3duJyxcbiAgNDU6ICdJbnNlcnQnLFxuICA0NjogJ0RlbGV0ZScsXG4gIDExMjogJ0YxJyxcbiAgMTEzOiAnRjInLFxuICAxMTQ6ICdGMycsXG4gIDExNTogJ0Y0JyxcbiAgMTE2OiAnRjUnLFxuICAxMTc6ICdGNicsXG4gIDExODogJ0Y3JyxcbiAgMTE5OiAnRjgnLFxuICAxMjA6ICdGOScsXG4gIDEyMTogJ0YxMCcsXG4gIDEyMjogJ0YxMScsXG4gIDEyMzogJ0YxMicsXG4gIDE0NDogJ051bUxvY2snLFxuICAxNDU6ICdTY3JvbGxMb2NrJyxcbiAgMjI0OiAnTWV0YSdcbn07XG5mdW5jdGlvbiBnZXRFdmVudEtleShuYXRpdmVFdmVudCkge1xuICBpZiAobmF0aXZlRXZlbnQua2V5KSB7XG4gICAgdmFyIGtleSA9IG5vcm1hbGl6ZUtleVtuYXRpdmVFdmVudC5rZXldIHx8IG5hdGl2ZUV2ZW50LmtleTtcbiAgICBpZiAoa2V5ICE9PSAnVW5pZGVudGlmaWVkJykge1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gIH1cbiAgaWYgKG5hdGl2ZUV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICB2YXIgY2hhckNvZGUgPSBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KTtcbiAgICByZXR1cm4gY2hhckNvZGUgPT09IDEzID8gJ0VudGVyJyA6IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpO1xuICB9XG4gIGlmIChuYXRpdmVFdmVudC50eXBlID09PSAna2V5ZG93bicgfHwgbmF0aXZlRXZlbnQudHlwZSA9PT0gJ2tleXVwJykge1xuICAgIHJldHVybiB0cmFuc2xhdGVUb0tleVtuYXRpdmVFdmVudC5rZXlDb2RlXSB8fCAnVW5pZGVudGlmaWVkJztcbiAgfVxuICByZXR1cm4gJyc7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGdldEV2ZW50S2V5O1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgU3ludGhldGljVUlFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljVUlFdmVudCcpO1xudmFyIGdldEV2ZW50Q2hhckNvZGUgPSByZXF1aXJlKCcuL2dldEV2ZW50Q2hhckNvZGUnKTtcbnZhciBnZXRFdmVudEtleSA9IHJlcXVpcmUoJy4vZ2V0RXZlbnRLZXknKTtcbnZhciBnZXRFdmVudE1vZGlmaWVyU3RhdGUgPSByZXF1aXJlKCcuL2dldEV2ZW50TW9kaWZpZXJTdGF0ZScpO1xudmFyIEtleWJvYXJkRXZlbnRJbnRlcmZhY2UgPSB7XG4gIGtleTogZ2V0RXZlbnRLZXksXG4gIGxvY2F0aW9uOiBudWxsLFxuICBjdHJsS2V5OiBudWxsLFxuICBzaGlmdEtleTogbnVsbCxcbiAgYWx0S2V5OiBudWxsLFxuICBtZXRhS2V5OiBudWxsLFxuICByZXBlYXQ6IG51bGwsXG4gIGxvY2FsZTogbnVsbCxcbiAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlLFxuICBjaGFyQ29kZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleXByZXNzJykge1xuICAgICAgcmV0dXJuIGdldEV2ZW50Q2hhckNvZGUoZXZlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSxcbiAga2V5Q29kZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcpIHtcbiAgICAgIHJldHVybiBldmVudC5rZXlDb2RlO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSxcbiAgd2hpY2g6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICAgIHJldHVybiBnZXRFdmVudENoYXJDb2RlKGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJyB8fCBldmVudC50eXBlID09PSAna2V5dXAnKSB7XG4gICAgICByZXR1cm4gZXZlbnQua2V5Q29kZTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbn07XG5mdW5jdGlvbiBTeW50aGV0aWNLZXlib2FyZEV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHJldHVybiBTeW50aGV0aWNVSUV2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xufVxuU3ludGhldGljVUlFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljS2V5Ym9hcmRFdmVudCwgS2V5Ym9hcmRFdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0tleWJvYXJkRXZlbnQ7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNNb3VzZUV2ZW50Jyk7XG52YXIgRHJhZ0V2ZW50SW50ZXJmYWNlID0ge2RhdGFUcmFuc2ZlcjogbnVsbH07XG5mdW5jdGlvbiBTeW50aGV0aWNEcmFnRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgcmV0dXJuIFN5bnRoZXRpY01vdXNlRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG59XG5TeW50aGV0aWNNb3VzZUV2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNEcmFnRXZlbnQsIERyYWdFdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0RyYWdFdmVudDtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIFN5bnRoZXRpY1VJRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY1VJRXZlbnQnKTtcbnZhciBnZXRFdmVudE1vZGlmaWVyU3RhdGUgPSByZXF1aXJlKCcuL2dldEV2ZW50TW9kaWZpZXJTdGF0ZScpO1xudmFyIFRvdWNoRXZlbnRJbnRlcmZhY2UgPSB7XG4gIHRvdWNoZXM6IG51bGwsXG4gIHRhcmdldFRvdWNoZXM6IG51bGwsXG4gIGNoYW5nZWRUb3VjaGVzOiBudWxsLFxuICBhbHRLZXk6IG51bGwsXG4gIG1ldGFLZXk6IG51bGwsXG4gIGN0cmxLZXk6IG51bGwsXG4gIHNoaWZ0S2V5OiBudWxsLFxuICBnZXRNb2RpZmllclN0YXRlOiBnZXRFdmVudE1vZGlmaWVyU3RhdGVcbn07XG5mdW5jdGlvbiBTeW50aGV0aWNUb3VjaEV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHJldHVybiBTeW50aGV0aWNVSUV2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xufVxuU3ludGhldGljVUlFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljVG91Y2hFdmVudCwgVG91Y2hFdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY1RvdWNoRXZlbnQ7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljRXZlbnQnKTtcbnZhciBUcmFuc2l0aW9uRXZlbnRJbnRlcmZhY2UgPSB7XG4gIHByb3BlcnR5TmFtZTogbnVsbCxcbiAgZWxhcHNlZFRpbWU6IG51bGwsXG4gIHBzZXVkb0VsZW1lbnQ6IG51bGxcbn07XG5mdW5jdGlvbiBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgcmV0dXJuIFN5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xufVxuU3ludGhldGljRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY1RyYW5zaXRpb25FdmVudCwgVHJhbnNpdGlvbkV2ZW50SW50ZXJmYWNlKTtcbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljVHJhbnNpdGlvbkV2ZW50O1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgUG9vbGVkQ2xhc3MgPSByZXF1aXJlKCcuL1Bvb2xlZENsYXNzJyk7XG4gIHZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIGRpZFdhcm5Gb3JBZGRlZE5ld1Byb3BlcnR5ID0gZmFsc2U7XG4gIHZhciBpc1Byb3h5U3VwcG9ydGVkID0gdHlwZW9mIFByb3h5ID09PSAnZnVuY3Rpb24nO1xuICB2YXIgc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMgPSBbJ2Rpc3BhdGNoQ29uZmlnJywgJ190YXJnZXRJbnN0JywgJ25hdGl2ZUV2ZW50JywgJ2lzRGVmYXVsdFByZXZlbnRlZCcsICdpc1Byb3BhZ2F0aW9uU3RvcHBlZCcsICdfZGlzcGF0Y2hMaXN0ZW5lcnMnLCAnX2Rpc3BhdGNoSW5zdGFuY2VzJ107XG4gIHZhciBFdmVudEludGVyZmFjZSA9IHtcbiAgICB0eXBlOiBudWxsLFxuICAgIHRhcmdldDogbnVsbCxcbiAgICBjdXJyZW50VGFyZ2V0OiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCxcbiAgICBldmVudFBoYXNlOiBudWxsLFxuICAgIGJ1YmJsZXM6IG51bGwsXG4gICAgY2FuY2VsYWJsZTogbnVsbCxcbiAgICB0aW1lU3RhbXA6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG4gICAgfSxcbiAgICBkZWZhdWx0UHJldmVudGVkOiBudWxsLFxuICAgIGlzVHJ1c3RlZDogbnVsbFxuICB9O1xuICBmdW5jdGlvbiBTeW50aGV0aWNFdmVudChkaXNwYXRjaENvbmZpZywgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgICAgZGVsZXRlIHRoaXMucHJldmVudERlZmF1bHQ7XG4gICAgICBkZWxldGUgdGhpcy5zdG9wUHJvcGFnYXRpb247XG4gICAgfVxuICAgIHRoaXMuZGlzcGF0Y2hDb25maWcgPSBkaXNwYXRjaENvbmZpZztcbiAgICB0aGlzLl90YXJnZXRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgICB0aGlzLm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgdmFyIEludGVyZmFjZSA9IHRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlO1xuICAgIGZvciAodmFyIHByb3BOYW1lIGluIEludGVyZmFjZSkge1xuICAgICAgaWYgKCFJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgZGVsZXRlIHRoaXNbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgICAgdmFyIG5vcm1hbGl6ZSA9IEludGVyZmFjZVtwcm9wTmFtZV07XG4gICAgICBpZiAobm9ybWFsaXplKSB7XG4gICAgICAgIHRoaXNbcHJvcE5hbWVdID0gbm9ybWFsaXplKG5hdGl2ZUV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcm9wTmFtZSA9PT0gJ3RhcmdldCcpIHtcbiAgICAgICAgICB0aGlzLnRhcmdldCA9IG5hdGl2ZUV2ZW50VGFyZ2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXNbcHJvcE5hbWVdID0gbmF0aXZlRXZlbnRbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBkZWZhdWx0UHJldmVudGVkID0gbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCAhPSBudWxsID8gbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCA6IG5hdGl2ZUV2ZW50LnJldHVyblZhbHVlID09PSBmYWxzZTtcbiAgICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2U7XG4gICAgfVxuICAgIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2U7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgX2Fzc2lnbihTeW50aGV0aWNFdmVudC5wcm90b3R5cGUsIHtcbiAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgdmFyIGV2ZW50ID0gdGhpcy5uYXRpdmVFdmVudDtcbiAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgICB9LFxuICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZXZlbnQgPSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgICB9LFxuICAgIHBlcnNpc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5pc1BlcnNpc3RlbnQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgICB9LFxuICAgIGlzUGVyc2lzdGVudDogZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlLFxuICAgIGRlc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIEludGVyZmFjZSA9IHRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlO1xuICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gSW50ZXJmYWNlKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIHByb3BOYW1lLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKHByb3BOYW1lLCBJbnRlcmZhY2VbcHJvcE5hbWVdKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpc1twcm9wTmFtZV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNob3VsZEJlUmVsZWFzZWRQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXNbc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXNbaV1dID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhciBub29wID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ25hdGl2ZUV2ZW50JywgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbignbmF0aXZlRXZlbnQnLCBudWxsKSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncHJldmVudERlZmF1bHQnLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKCdwcmV2ZW50RGVmYXVsdCcsIG5vb3ApKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdzdG9wUHJvcGFnYXRpb24nLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKCdzdG9wUHJvcGFnYXRpb24nLCBub29wKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgU3ludGhldGljRXZlbnQuSW50ZXJmYWNlID0gRXZlbnRJbnRlcmZhY2U7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGlzUHJveHlTdXBwb3J0ZWQpIHtcbiAgICAgIFN5bnRoZXRpY0V2ZW50ID0gbmV3IFByb3h5KFN5bnRoZXRpY0V2ZW50LCB7XG4gICAgICAgIGNvbnN0cnVjdDogZnVuY3Rpb24odGFyZ2V0LCBhcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHkodGFyZ2V0LCBPYmplY3QuY3JlYXRlKHRhcmdldC5wcm90b3R5cGUpLCBhcmdzKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKGNvbnN0cnVjdG9yLCB0aGF0LCBhcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm94eShjb25zdHJ1Y3Rvci5hcHBseSh0aGF0LCBhcmdzKSwge3NldDogZnVuY3Rpb24odGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAocHJvcCAhPT0gJ2lzUGVyc2lzdGVudCcgJiYgIXRhcmdldC5jb25zdHJ1Y3Rvci5JbnRlcmZhY2UuaGFzT3duUHJvcGVydHkocHJvcCkgJiYgc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMuaW5kZXhPZihwcm9wKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhkaWRXYXJuRm9yQWRkZWROZXdQcm9wZXJ0eSB8fCB0YXJnZXQuaXNQZXJzaXN0ZW50KCksICdUaGlzIHN5bnRoZXRpYyBldmVudCBpcyByZXVzZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuIElmIHlvdVxcJ3JlICcgKyAnc2VlaW5nIHRoaXMsIHlvdVxcJ3JlIGFkZGluZyBhIG5ldyBwcm9wZXJ0eSBpbiB0aGUgc3ludGhldGljIGV2ZW50IG9iamVjdC4gJyArICdUaGUgcHJvcGVydHkgaXMgbmV2ZXIgcmVsZWFzZWQuIFNlZSAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtZXZlbnQtcG9vbGluZyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBkaWRXYXJuRm9yQWRkZWROZXdQcm9wZXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfX0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgU3ludGhldGljRXZlbnQuYXVnbWVudENsYXNzID0gZnVuY3Rpb24oQ2xhc3MsIEludGVyZmFjZSkge1xuICAgIHZhciBTdXBlciA9IHRoaXM7XG4gICAgdmFyIEUgPSBmdW5jdGlvbigpIHt9O1xuICAgIEUucHJvdG90eXBlID0gU3VwZXIucHJvdG90eXBlO1xuICAgIHZhciBwcm90b3R5cGUgPSBuZXcgRSgpO1xuICAgIF9hc3NpZ24ocHJvdG90eXBlLCBDbGFzcy5wcm90b3R5cGUpO1xuICAgIENsYXNzLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgICBDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDbGFzcztcbiAgICBDbGFzcy5JbnRlcmZhY2UgPSBfYXNzaWduKHt9LCBTdXBlci5JbnRlcmZhY2UsIEludGVyZmFjZSk7XG4gICAgQ2xhc3MuYXVnbWVudENsYXNzID0gU3VwZXIuYXVnbWVudENsYXNzO1xuICAgIFBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhDbGFzcywgUG9vbGVkQ2xhc3MuZm91ckFyZ3VtZW50UG9vbGVyKTtcbiAgfTtcbiAgUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKFN5bnRoZXRpY0V2ZW50LCBQb29sZWRDbGFzcy5mb3VyQXJndW1lbnRQb29sZXIpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0V2ZW50O1xuICBmdW5jdGlvbiBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKHByb3BOYW1lLCBnZXRWYWwpIHtcbiAgICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiBnZXRWYWwgPT09ICdmdW5jdGlvbic7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHNldDogc2V0LFxuICAgICAgZ2V0OiBnZXRcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICAgIHZhciBhY3Rpb24gPSBpc0Z1bmN0aW9uID8gJ3NldHRpbmcgdGhlIG1ldGhvZCcgOiAnc2V0dGluZyB0aGUgcHJvcGVydHknO1xuICAgICAgd2FybihhY3Rpb24sICdUaGlzIGlzIGVmZmVjdGl2ZWx5IGEgbm8tb3AnKTtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBhY3Rpb24gPSBpc0Z1bmN0aW9uID8gJ2FjY2Vzc2luZyB0aGUgbWV0aG9kJyA6ICdhY2Nlc3NpbmcgdGhlIHByb3BlcnR5JztcbiAgICAgIHZhciByZXN1bHQgPSBpc0Z1bmN0aW9uID8gJ1RoaXMgaXMgYSBuby1vcCBmdW5jdGlvbicgOiAnVGhpcyBpcyBzZXQgdG8gbnVsbCc7XG4gICAgICB3YXJuKGFjdGlvbiwgcmVzdWx0KTtcbiAgICAgIHJldHVybiBnZXRWYWw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm4oYWN0aW9uLCByZXN1bHQpIHtcbiAgICAgIHZhciB3YXJuaW5nQ29uZGl0aW9uID0gZmFsc2U7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh3YXJuaW5nQ29uZGl0aW9uLCAnVGhpcyBzeW50aGV0aWMgZXZlbnQgaXMgcmV1c2VkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLiBJZiB5b3VcXCdyZSBzZWVpbmcgdGhpcywgJyArICd5b3VcXCdyZSAlcyBgJXNgIG9uIGEgcmVsZWFzZWQvbnVsbGlmaWVkIHN5bnRoZXRpYyBldmVudC4gJXMuICcgKyAnSWYgeW91IG11c3Qga2VlcCB0aGUgb3JpZ2luYWwgc3ludGhldGljIGV2ZW50IGFyb3VuZCwgdXNlIGV2ZW50LnBlcnNpc3QoKS4gJyArICdTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1ldmVudC1wb29saW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGFjdGlvbiwgcHJvcE5hbWUsIHJlc3VsdCkgOiB2b2lkIDA7XG4gICAgfVxuICB9XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldEV2ZW50VGFyZ2V0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEdldHMgdGhlIHRhcmdldCBub2RlIGZyb20gYSBuYXRpdmUgYnJvd3NlciBldmVudCBieSBhY2NvdW50aW5nIGZvclxuICogaW5jb25zaXN0ZW5jaWVzIGluIGJyb3dzZXIgRE9NIEFQSXMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7RE9NRXZlbnRUYXJnZXR9IFRhcmdldCBub2RlLlxuICovXG5cbmZ1bmN0aW9uIGdldEV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50KSB7XG4gIHZhciB0YXJnZXQgPSBuYXRpdmVFdmVudC50YXJnZXQgfHwgbmF0aXZlRXZlbnQuc3JjRWxlbWVudCB8fCB3aW5kb3c7XG5cbiAgLy8gTm9ybWFsaXplIFNWRyA8dXNlPiBlbGVtZW50IGV2ZW50cyAjNDk2M1xuICBpZiAodGFyZ2V0LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KSB7XG4gICAgdGFyZ2V0ID0gdGFyZ2V0LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50O1xuICB9XG5cbiAgLy8gU2FmYXJpIG1heSBmaXJlIGV2ZW50cyBvbiB0ZXh0IG5vZGVzIChOb2RlLlRFWFRfTk9ERSBpcyAzKS5cbiAgLy8gQHNlZSBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2V2ZW50c19wcm9wZXJ0aWVzLmh0bWxcbiAgcmV0dXJuIHRhcmdldC5ub2RlVHlwZSA9PT0gMyA/IHRhcmdldC5wYXJlbnROb2RlIDogdGFyZ2V0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEV2ZW50VGFyZ2V0OyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIFN5bnRoZXRpY0V2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNFdmVudCcpO1xudmFyIGdldEV2ZW50VGFyZ2V0ID0gcmVxdWlyZSgnLi9nZXRFdmVudFRhcmdldCcpO1xudmFyIFVJRXZlbnRJbnRlcmZhY2UgPSB7XG4gIHZpZXc6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnZpZXcpIHtcbiAgICAgIHJldHVybiBldmVudC52aWV3O1xuICAgIH1cbiAgICB2YXIgdGFyZ2V0ID0gZ2V0RXZlbnRUYXJnZXQoZXZlbnQpO1xuICAgIGlmICh0YXJnZXQgIT0gbnVsbCAmJiB0YXJnZXQud2luZG93ID09PSB0YXJnZXQpIHtcbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIHZhciBkb2MgPSB0YXJnZXQub3duZXJEb2N1bWVudDtcbiAgICBpZiAoZG9jKSB7XG4gICAgICByZXR1cm4gZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3c7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuICB9LFxuICBkZXRhaWw6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuIGV2ZW50LmRldGFpbCB8fCAwO1xuICB9XG59O1xuZnVuY3Rpb24gU3ludGhldGljVUlFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICByZXR1cm4gU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG59XG5TeW50aGV0aWNFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljVUlFdmVudCwgVUlFdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY1VJRXZlbnQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZ2V0RXZlbnRNb2RpZmllclN0YXRlXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFRyYW5zbGF0aW9uIGZyb20gbW9kaWZpZXIga2V5IHRvIHRoZSBhc3NvY2lhdGVkIHByb3BlcnR5IGluIHRoZSBldmVudC5cbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNrZXlzLU1vZGlmaWVyc1xuICovXG5cbnZhciBtb2RpZmllcktleVRvUHJvcCA9IHtcbiAgJ0FsdCc6ICdhbHRLZXknLFxuICAnQ29udHJvbCc6ICdjdHJsS2V5JyxcbiAgJ01ldGEnOiAnbWV0YUtleScsXG4gICdTaGlmdCc6ICdzaGlmdEtleSdcbn07XG5cbi8vIElFOCBkb2VzIG5vdCBpbXBsZW1lbnQgZ2V0TW9kaWZpZXJTdGF0ZSBzbyB3ZSBzaW1wbHkgbWFwIGl0IHRvIHRoZSBvbmx5XG4vLyBtb2RpZmllciBrZXlzIGV4cG9zZWQgYnkgdGhlIGV2ZW50IGl0c2VsZiwgZG9lcyBub3Qgc3VwcG9ydCBMb2NrLWtleXMuXG4vLyBDdXJyZW50bHksIGFsbCBtYWpvciBicm93c2VycyBleGNlcHQgQ2hyb21lIHNlZW1zIHRvIHN1cHBvcnQgTG9jay1rZXlzLlxuZnVuY3Rpb24gbW9kaWZpZXJTdGF0ZUdldHRlcihrZXlBcmcpIHtcbiAgdmFyIHN5bnRoZXRpY0V2ZW50ID0gdGhpcztcbiAgdmFyIG5hdGl2ZUV2ZW50ID0gc3ludGhldGljRXZlbnQubmF0aXZlRXZlbnQ7XG4gIGlmIChuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUV2ZW50LmdldE1vZGlmaWVyU3RhdGUoa2V5QXJnKTtcbiAgfVxuICB2YXIga2V5UHJvcCA9IG1vZGlmaWVyS2V5VG9Qcm9wW2tleUFyZ107XG4gIHJldHVybiBrZXlQcm9wID8gISFuYXRpdmVFdmVudFtrZXlQcm9wXSA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRFdmVudE1vZGlmaWVyU3RhdGUobmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIG1vZGlmaWVyU3RhdGVHZXR0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0RXZlbnRNb2RpZmllclN0YXRlOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIFN5bnRoZXRpY1VJRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY1VJRXZlbnQnKTtcbnZhciBWaWV3cG9ydE1ldHJpY3MgPSByZXF1aXJlKCcuL1ZpZXdwb3J0TWV0cmljcycpO1xudmFyIGdldEV2ZW50TW9kaWZpZXJTdGF0ZSA9IHJlcXVpcmUoJy4vZ2V0RXZlbnRNb2RpZmllclN0YXRlJyk7XG52YXIgTW91c2VFdmVudEludGVyZmFjZSA9IHtcbiAgc2NyZWVuWDogbnVsbCxcbiAgc2NyZWVuWTogbnVsbCxcbiAgY2xpZW50WDogbnVsbCxcbiAgY2xpZW50WTogbnVsbCxcbiAgY3RybEtleTogbnVsbCxcbiAgc2hpZnRLZXk6IG51bGwsXG4gIGFsdEtleTogbnVsbCxcbiAgbWV0YUtleTogbnVsbCxcbiAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlLFxuICBidXR0b246IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcbiAgICBpZiAoJ3doaWNoJyBpbiBldmVudCkge1xuICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9XG4gICAgcmV0dXJuIGJ1dHRvbiA9PT0gMiA/IDIgOiBidXR0b24gPT09IDQgPyAxIDogMDtcbiAgfSxcbiAgYnV0dG9uczogbnVsbCxcbiAgcmVsYXRlZFRhcmdldDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQucmVsYXRlZFRhcmdldCB8fCAoZXZlbnQuZnJvbUVsZW1lbnQgPT09IGV2ZW50LnNyY0VsZW1lbnQgPyBldmVudC50b0VsZW1lbnQgOiBldmVudC5mcm9tRWxlbWVudCk7XG4gIH0sXG4gIHBhZ2VYOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiAncGFnZVgnIGluIGV2ZW50ID8gZXZlbnQucGFnZVggOiBldmVudC5jbGllbnRYICsgVmlld3BvcnRNZXRyaWNzLmN1cnJlbnRTY3JvbGxMZWZ0O1xuICB9LFxuICBwYWdlWTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gJ3BhZ2VZJyBpbiBldmVudCA/IGV2ZW50LnBhZ2VZIDogZXZlbnQuY2xpZW50WSArIFZpZXdwb3J0TWV0cmljcy5jdXJyZW50U2Nyb2xsVG9wO1xuICB9XG59O1xuZnVuY3Rpb24gU3ludGhldGljTW91c2VFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICByZXR1cm4gU3ludGhldGljVUlFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbn1cblN5bnRoZXRpY1VJRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY01vdXNlRXZlbnQsIE1vdXNlRXZlbnRJbnRlcmZhY2UpO1xubW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNNb3VzZUV2ZW50O1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgU3ludGhldGljTW91c2VFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljTW91c2VFdmVudCcpO1xudmFyIFdoZWVsRXZlbnRJbnRlcmZhY2UgPSB7XG4gIGRlbHRhWDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gJ2RlbHRhWCcgaW4gZXZlbnQgPyBldmVudC5kZWx0YVggOiAnd2hlZWxEZWx0YVgnIGluIGV2ZW50ID8gLWV2ZW50LndoZWVsRGVsdGFYIDogMDtcbiAgfSxcbiAgZGVsdGFZOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiAnZGVsdGFZJyBpbiBldmVudCA/IGV2ZW50LmRlbHRhWSA6ICd3aGVlbERlbHRhWScgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YVkgOiAnd2hlZWxEZWx0YScgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YSA6IDA7XG4gIH0sXG4gIGRlbHRhWjogbnVsbCxcbiAgZGVsdGFNb2RlOiBudWxsXG59O1xuZnVuY3Rpb24gU3ludGhldGljV2hlZWxFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICByZXR1cm4gU3ludGhldGljTW91c2VFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbn1cblN5bnRoZXRpY01vdXNlRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY1doZWVsRXZlbnQsIFdoZWVsRXZlbnRJbnRlcmZhY2UpO1xubW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNXaGVlbEV2ZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldEV2ZW50Q2hhckNvZGVcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogYGNoYXJDb2RlYCByZXByZXNlbnRzIHRoZSBhY3R1YWwgXCJjaGFyYWN0ZXIgY29kZVwiIGFuZCBpcyBzYWZlIHRvIHVzZSB3aXRoXG4gKiBgU3RyaW5nLmZyb21DaGFyQ29kZWAuIEFzIHN1Y2gsIG9ubHkga2V5cyB0aGF0IGNvcnJlc3BvbmQgdG8gcHJpbnRhYmxlXG4gKiBjaGFyYWN0ZXJzIHByb2R1Y2UgYSB2YWxpZCBgY2hhckNvZGVgLCB0aGUgb25seSBleGNlcHRpb24gdG8gdGhpcyBpcyBFbnRlci5cbiAqIFRoZSBUYWIta2V5IGlzIGNvbnNpZGVyZWQgbm9uLXByaW50YWJsZSBhbmQgZG9lcyBub3QgaGF2ZSBhIGBjaGFyQ29kZWAsXG4gKiBwcmVzdW1hYmx5IGJlY2F1c2UgaXQgZG9lcyBub3QgcHJvZHVjZSBhIHRhYi1jaGFyYWN0ZXIgaW4gYnJvd3NlcnMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBOb3JtYWxpemVkIGBjaGFyQ29kZWAgcHJvcGVydHkuXG4gKi9cblxuZnVuY3Rpb24gZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkge1xuICB2YXIgY2hhckNvZGU7XG4gIHZhciBrZXlDb2RlID0gbmF0aXZlRXZlbnQua2V5Q29kZTtcblxuICBpZiAoJ2NoYXJDb2RlJyBpbiBuYXRpdmVFdmVudCkge1xuICAgIGNoYXJDb2RlID0gbmF0aXZlRXZlbnQuY2hhckNvZGU7XG5cbiAgICAvLyBGRiBkb2VzIG5vdCBzZXQgYGNoYXJDb2RlYCBmb3IgdGhlIEVudGVyLWtleSwgY2hlY2sgYWdhaW5zdCBga2V5Q29kZWAuXG4gICAgaWYgKGNoYXJDb2RlID09PSAwICYmIGtleUNvZGUgPT09IDEzKSB7XG4gICAgICBjaGFyQ29kZSA9IDEzO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJRTggZG9lcyBub3QgaW1wbGVtZW50IGBjaGFyQ29kZWAsIGJ1dCBga2V5Q29kZWAgaGFzIHRoZSBjb3JyZWN0IHZhbHVlLlxuICAgIGNoYXJDb2RlID0ga2V5Q29kZTtcbiAgfVxuXG4gIC8vIFNvbWUgbm9uLXByaW50YWJsZSBrZXlzIGFyZSByZXBvcnRlZCBpbiBgY2hhckNvZGVgL2BrZXlDb2RlYCwgZGlzY2FyZCB0aGVtLlxuICAvLyBNdXN0IG5vdCBkaXNjYXJkIHRoZSAobm9uLSlwcmludGFibGUgRW50ZXIta2V5LlxuICBpZiAoY2hhckNvZGUgPj0gMzIgfHwgY2hhckNvZGUgPT09IDEzKSB7XG4gICAgcmV0dXJuIGNoYXJDb2RlO1xuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0RXZlbnRDaGFyQ29kZTsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xuICB2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ2ZianMvbGliL0V2ZW50TGlzdGVuZXInKTtcbiAgdmFyIEV2ZW50UHJvcGFnYXRvcnMgPSByZXF1aXJlKCcuL0V2ZW50UHJvcGFnYXRvcnMnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRUcmVlJyk7XG4gIHZhciBTeW50aGV0aWNBbmltYXRpb25FdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljQW5pbWF0aW9uRXZlbnQnKTtcbiAgdmFyIFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNDbGlwYm9hcmRFdmVudCcpO1xuICB2YXIgU3ludGhldGljRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY0V2ZW50Jyk7XG4gIHZhciBTeW50aGV0aWNGb2N1c0V2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNGb2N1c0V2ZW50Jyk7XG4gIHZhciBTeW50aGV0aWNLZXlib2FyZEV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNLZXlib2FyZEV2ZW50Jyk7XG4gIHZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNNb3VzZUV2ZW50Jyk7XG4gIHZhciBTeW50aGV0aWNEcmFnRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY0RyYWdFdmVudCcpO1xuICB2YXIgU3ludGhldGljVG91Y2hFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljVG91Y2hFdmVudCcpO1xuICB2YXIgU3ludGhldGljVHJhbnNpdGlvbkV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQnKTtcbiAgdmFyIFN5bnRoZXRpY1VJRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY1VJRXZlbnQnKTtcbiAgdmFyIFN5bnRoZXRpY1doZWVsRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY1doZWVsRXZlbnQnKTtcbiAgdmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG4gIHZhciBnZXRFdmVudENoYXJDb2RlID0gcmVxdWlyZSgnLi9nZXRFdmVudENoYXJDb2RlJyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgdmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcbiAgdmFyIHRvcExldmVsVHlwZXMgPSBFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzO1xuICB2YXIgZXZlbnRUeXBlcyA9IHtcbiAgICBhYm9ydDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkFib3J0OiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25BYm9ydENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgYW5pbWF0aW9uRW5kOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQW5pbWF0aW9uRW5kOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25BbmltYXRpb25FbmRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGFuaW1hdGlvbkl0ZXJhdGlvbjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkFuaW1hdGlvbkl0ZXJhdGlvbjogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQW5pbWF0aW9uSXRlcmF0aW9uQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBhbmltYXRpb25TdGFydDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkFuaW1hdGlvblN0YXJ0OiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25BbmltYXRpb25TdGFydENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgYmx1cjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkJsdXI6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkJsdXJDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGNhblBsYXk6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25DYW5QbGF5OiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25DYW5QbGF5Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBjYW5QbGF5VGhyb3VnaDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNhblBsYXlUaHJvdWdoOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25DYW5QbGF5VGhyb3VnaENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgY2xpY2s6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25DbGljazogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQ2xpY2tDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGNvbnRleHRNZW51OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ29udGV4dE1lbnU6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkNvbnRleHRNZW51Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBjb3B5OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ29weTogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQ29weUNhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgY3V0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ3V0OiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25DdXRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGRvdWJsZUNsaWNrOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRG91YmxlQ2xpY2s6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRvdWJsZUNsaWNrQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBkcmFnOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJhZzogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRHJhZ0NhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgZHJhZ0VuZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyYWdFbmQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyYWdFbmRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGRyYWdFbnRlcjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyYWdFbnRlcjogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRHJhZ0VudGVyQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBkcmFnRXhpdDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyYWdFeGl0OiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25EcmFnRXhpdENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgZHJhZ0xlYXZlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJhZ0xlYXZlOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25EcmFnTGVhdmVDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGRyYWdPdmVyOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJhZ092ZXI6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyYWdPdmVyQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBkcmFnU3RhcnQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25EcmFnU3RhcnQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyYWdTdGFydENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgZHJvcDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyb3A6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyb3BDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGR1cmF0aW9uQ2hhbmdlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHVyYXRpb25DaGFuZ2U6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkR1cmF0aW9uQ2hhbmdlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBlbXB0aWVkOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRW1wdGllZDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRW1wdGllZENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgZW5jcnlwdGVkOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRW5jcnlwdGVkOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25FbmNyeXB0ZWRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGVuZGVkOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRW5kZWQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkVuZGVkQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBlcnJvcjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkVycm9yOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25FcnJvckNhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgZm9jdXM6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25Gb2N1czogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRm9jdXNDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGlucHV0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uSW5wdXQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbklucHV0Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBpbnZhbGlkOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uSW52YWxpZDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uSW52YWxpZENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAga2V5RG93bjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbktleURvd246IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbktleURvd25DYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGtleVByZXNzOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uS2V5UHJlc3M6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbktleVByZXNzQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBrZXlVcDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbktleVVwOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25LZXlVcENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgbG9hZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkxvYWQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkxvYWRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGxvYWRlZERhdGE6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25Mb2FkZWREYXRhOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Mb2FkZWREYXRhQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBsb2FkZWRNZXRhZGF0YToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkxvYWRlZE1ldGFkYXRhOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Mb2FkZWRNZXRhZGF0YUNhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgbG9hZFN0YXJ0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uTG9hZFN0YXJ0OiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Mb2FkU3RhcnRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIG1vdXNlRG93bjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbk1vdXNlRG93bjogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTW91c2VEb3duQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBtb3VzZU1vdmU6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25Nb3VzZU1vdmU6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbk1vdXNlTW92ZUNhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgbW91c2VPdXQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25Nb3VzZU91dDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTW91c2VPdXRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIG1vdXNlT3Zlcjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbk1vdXNlT3ZlcjogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTW91c2VPdmVyQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBtb3VzZVVwOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uTW91c2VVcDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTW91c2VVcENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgcGFzdGU6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25QYXN0ZTogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uUGFzdGVDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIHBhdXNlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uUGF1c2U6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblBhdXNlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBwbGF5OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uUGxheTogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uUGxheUNhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgcGxheWluZzoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblBsYXlpbmc6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblBsYXlpbmdDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIHByb2dyZXNzOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uUHJvZ3Jlc3M6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblByb2dyZXNzQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICByYXRlQ2hhbmdlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uUmF0ZUNoYW5nZTogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uUmF0ZUNoYW5nZUNhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgcmVzZXQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25SZXNldDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uUmVzZXRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIHNjcm9sbDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblNjcm9sbDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uU2Nyb2xsQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBzZWVrZWQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25TZWVrZWQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblNlZWtlZENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgc2Vla2luZzoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblNlZWtpbmc6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblNlZWtpbmdDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIHN0YWxsZWQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25TdGFsbGVkOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25TdGFsbGVkQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBzdWJtaXQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25TdWJtaXQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblN1Ym1pdENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgc3VzcGVuZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblN1c3BlbmQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblN1c3BlbmRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIHRpbWVVcGRhdGU6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25UaW1lVXBkYXRlOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25UaW1lVXBkYXRlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICB0b3VjaENhbmNlbDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblRvdWNoQ2FuY2VsOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Ub3VjaENhbmNlbENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgdG91Y2hFbmQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25Ub3VjaEVuZDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVG91Y2hFbmRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIHRvdWNoTW92ZToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblRvdWNoTW92ZTogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVG91Y2hNb3ZlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICB0b3VjaFN0YXJ0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uVG91Y2hTdGFydDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVG91Y2hTdGFydENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgdHJhbnNpdGlvbkVuZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblRyYW5zaXRpb25FbmQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblRyYW5zaXRpb25FbmRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIHZvbHVtZUNoYW5nZToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblZvbHVtZUNoYW5nZTogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVm9sdW1lQ2hhbmdlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICB3YWl0aW5nOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uV2FpdGluZzogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uV2FpdGluZ0NhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgd2hlZWw6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25XaGVlbDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uV2hlZWxDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19XG4gIH07XG4gIHZhciB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWcgPSB7XG4gICAgdG9wQWJvcnQ6IGV2ZW50VHlwZXMuYWJvcnQsXG4gICAgdG9wQW5pbWF0aW9uRW5kOiBldmVudFR5cGVzLmFuaW1hdGlvbkVuZCxcbiAgICB0b3BBbmltYXRpb25JdGVyYXRpb246IGV2ZW50VHlwZXMuYW5pbWF0aW9uSXRlcmF0aW9uLFxuICAgIHRvcEFuaW1hdGlvblN0YXJ0OiBldmVudFR5cGVzLmFuaW1hdGlvblN0YXJ0LFxuICAgIHRvcEJsdXI6IGV2ZW50VHlwZXMuYmx1cixcbiAgICB0b3BDYW5QbGF5OiBldmVudFR5cGVzLmNhblBsYXksXG4gICAgdG9wQ2FuUGxheVRocm91Z2g6IGV2ZW50VHlwZXMuY2FuUGxheVRocm91Z2gsXG4gICAgdG9wQ2xpY2s6IGV2ZW50VHlwZXMuY2xpY2ssXG4gICAgdG9wQ29udGV4dE1lbnU6IGV2ZW50VHlwZXMuY29udGV4dE1lbnUsXG4gICAgdG9wQ29weTogZXZlbnRUeXBlcy5jb3B5LFxuICAgIHRvcEN1dDogZXZlbnRUeXBlcy5jdXQsXG4gICAgdG9wRG91YmxlQ2xpY2s6IGV2ZW50VHlwZXMuZG91YmxlQ2xpY2ssXG4gICAgdG9wRHJhZzogZXZlbnRUeXBlcy5kcmFnLFxuICAgIHRvcERyYWdFbmQ6IGV2ZW50VHlwZXMuZHJhZ0VuZCxcbiAgICB0b3BEcmFnRW50ZXI6IGV2ZW50VHlwZXMuZHJhZ0VudGVyLFxuICAgIHRvcERyYWdFeGl0OiBldmVudFR5cGVzLmRyYWdFeGl0LFxuICAgIHRvcERyYWdMZWF2ZTogZXZlbnRUeXBlcy5kcmFnTGVhdmUsXG4gICAgdG9wRHJhZ092ZXI6IGV2ZW50VHlwZXMuZHJhZ092ZXIsXG4gICAgdG9wRHJhZ1N0YXJ0OiBldmVudFR5cGVzLmRyYWdTdGFydCxcbiAgICB0b3BEcm9wOiBldmVudFR5cGVzLmRyb3AsXG4gICAgdG9wRHVyYXRpb25DaGFuZ2U6IGV2ZW50VHlwZXMuZHVyYXRpb25DaGFuZ2UsXG4gICAgdG9wRW1wdGllZDogZXZlbnRUeXBlcy5lbXB0aWVkLFxuICAgIHRvcEVuY3J5cHRlZDogZXZlbnRUeXBlcy5lbmNyeXB0ZWQsXG4gICAgdG9wRW5kZWQ6IGV2ZW50VHlwZXMuZW5kZWQsXG4gICAgdG9wRXJyb3I6IGV2ZW50VHlwZXMuZXJyb3IsXG4gICAgdG9wRm9jdXM6IGV2ZW50VHlwZXMuZm9jdXMsXG4gICAgdG9wSW5wdXQ6IGV2ZW50VHlwZXMuaW5wdXQsXG4gICAgdG9wSW52YWxpZDogZXZlbnRUeXBlcy5pbnZhbGlkLFxuICAgIHRvcEtleURvd246IGV2ZW50VHlwZXMua2V5RG93bixcbiAgICB0b3BLZXlQcmVzczogZXZlbnRUeXBlcy5rZXlQcmVzcyxcbiAgICB0b3BLZXlVcDogZXZlbnRUeXBlcy5rZXlVcCxcbiAgICB0b3BMb2FkOiBldmVudFR5cGVzLmxvYWQsXG4gICAgdG9wTG9hZGVkRGF0YTogZXZlbnRUeXBlcy5sb2FkZWREYXRhLFxuICAgIHRvcExvYWRlZE1ldGFkYXRhOiBldmVudFR5cGVzLmxvYWRlZE1ldGFkYXRhLFxuICAgIHRvcExvYWRTdGFydDogZXZlbnRUeXBlcy5sb2FkU3RhcnQsXG4gICAgdG9wTW91c2VEb3duOiBldmVudFR5cGVzLm1vdXNlRG93bixcbiAgICB0b3BNb3VzZU1vdmU6IGV2ZW50VHlwZXMubW91c2VNb3ZlLFxuICAgIHRvcE1vdXNlT3V0OiBldmVudFR5cGVzLm1vdXNlT3V0LFxuICAgIHRvcE1vdXNlT3ZlcjogZXZlbnRUeXBlcy5tb3VzZU92ZXIsXG4gICAgdG9wTW91c2VVcDogZXZlbnRUeXBlcy5tb3VzZVVwLFxuICAgIHRvcFBhc3RlOiBldmVudFR5cGVzLnBhc3RlLFxuICAgIHRvcFBhdXNlOiBldmVudFR5cGVzLnBhdXNlLFxuICAgIHRvcFBsYXk6IGV2ZW50VHlwZXMucGxheSxcbiAgICB0b3BQbGF5aW5nOiBldmVudFR5cGVzLnBsYXlpbmcsXG4gICAgdG9wUHJvZ3Jlc3M6IGV2ZW50VHlwZXMucHJvZ3Jlc3MsXG4gICAgdG9wUmF0ZUNoYW5nZTogZXZlbnRUeXBlcy5yYXRlQ2hhbmdlLFxuICAgIHRvcFJlc2V0OiBldmVudFR5cGVzLnJlc2V0LFxuICAgIHRvcFNjcm9sbDogZXZlbnRUeXBlcy5zY3JvbGwsXG4gICAgdG9wU2Vla2VkOiBldmVudFR5cGVzLnNlZWtlZCxcbiAgICB0b3BTZWVraW5nOiBldmVudFR5cGVzLnNlZWtpbmcsXG4gICAgdG9wU3RhbGxlZDogZXZlbnRUeXBlcy5zdGFsbGVkLFxuICAgIHRvcFN1Ym1pdDogZXZlbnRUeXBlcy5zdWJtaXQsXG4gICAgdG9wU3VzcGVuZDogZXZlbnRUeXBlcy5zdXNwZW5kLFxuICAgIHRvcFRpbWVVcGRhdGU6IGV2ZW50VHlwZXMudGltZVVwZGF0ZSxcbiAgICB0b3BUb3VjaENhbmNlbDogZXZlbnRUeXBlcy50b3VjaENhbmNlbCxcbiAgICB0b3BUb3VjaEVuZDogZXZlbnRUeXBlcy50b3VjaEVuZCxcbiAgICB0b3BUb3VjaE1vdmU6IGV2ZW50VHlwZXMudG91Y2hNb3ZlLFxuICAgIHRvcFRvdWNoU3RhcnQ6IGV2ZW50VHlwZXMudG91Y2hTdGFydCxcbiAgICB0b3BUcmFuc2l0aW9uRW5kOiBldmVudFR5cGVzLnRyYW5zaXRpb25FbmQsXG4gICAgdG9wVm9sdW1lQ2hhbmdlOiBldmVudFR5cGVzLnZvbHVtZUNoYW5nZSxcbiAgICB0b3BXYWl0aW5nOiBldmVudFR5cGVzLndhaXRpbmcsXG4gICAgdG9wV2hlZWw6IGV2ZW50VHlwZXMud2hlZWxcbiAgfTtcbiAgZm9yICh2YXIgdHlwZSBpbiB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWcpIHtcbiAgICB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWdbdHlwZV0uZGVwZW5kZW5jaWVzID0gW3R5cGVdO1xuICB9XG4gIHZhciBPTl9DTElDS19LRVkgPSBrZXlPZih7b25DbGljazogbnVsbH0pO1xuICB2YXIgb25DbGlja0xpc3RlbmVycyA9IHt9O1xuICB2YXIgU2ltcGxlRXZlbnRQbHVnaW4gPSB7XG4gICAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyxcbiAgICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgdmFyIGRpc3BhdGNoQ29uZmlnID0gdG9wTGV2ZWxFdmVudHNUb0Rpc3BhdGNoQ29uZmlnW3RvcExldmVsVHlwZV07XG4gICAgICBpZiAoIWRpc3BhdGNoQ29uZmlnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdmFyIEV2ZW50Q29uc3RydWN0b3I7XG4gICAgICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQWJvcnQ6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDYW5QbGF5OlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ2FuUGxheVRocm91Z2g6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEdXJhdGlvbkNoYW5nZTpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEVtcHRpZWQ6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BFbmNyeXB0ZWQ6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BFbmRlZDpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEVycm9yOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wSW5wdXQ6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BJbnZhbGlkOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTG9hZDpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcExvYWRlZERhdGE6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BMb2FkZWRNZXRhZGF0YTpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcExvYWRTdGFydDpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFBhdXNlOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wUGxheTpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFBsYXlpbmc6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BQcm9ncmVzczpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFJhdGVDaGFuZ2U6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BSZXNldDpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFNlZWtlZDpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFNlZWtpbmc6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BTdGFsbGVkOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU3VibWl0OlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU3VzcGVuZDpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRpbWVVcGRhdGU6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BWb2x1bWVDaGFuZ2U6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BXYWl0aW5nOlxuICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNFdmVudDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzOlxuICAgICAgICAgIGlmIChnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wS2V5RG93bjpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVVwOlxuICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNLZXlib2FyZEV2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQmx1cjpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEZvY3VzOlxuICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNGb2N1c0V2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ2xpY2s6XG4gICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmJ1dHRvbiA9PT0gMikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ29udGV4dE1lbnU6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEb3VibGVDbGljazpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93bjpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlTW92ZTpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3V0OlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VPdmVyOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VVcDpcbiAgICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljTW91c2VFdmVudDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWc6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnRW5kOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRHJhZ0VudGVyOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRHJhZ0V4aXQ6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnTGVhdmU6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnT3ZlcjpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWdTdGFydDpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyb3A6XG4gICAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0RyYWdFdmVudDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoQ2FuY2VsOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wVG91Y2hFbmQ6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BUb3VjaE1vdmU6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BUb3VjaFN0YXJ0OlxuICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNUb3VjaEV2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQW5pbWF0aW9uRW5kOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQW5pbWF0aW9uSXRlcmF0aW9uOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQW5pbWF0aW9uU3RhcnQ6XG4gICAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wVHJhbnNpdGlvbkVuZDpcbiAgICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljVHJhbnNpdGlvbkV2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU2Nyb2xsOlxuICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNVSUV2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wV2hlZWw6XG4gICAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY1doZWVsRXZlbnQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDb3B5OlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ3V0OlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wUGFzdGU6XG4gICAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgIUV2ZW50Q29uc3RydWN0b3IgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnU2ltcGxlRXZlbnRQbHVnaW46IFVuaGFuZGxlZCBldmVudCB0eXBlLCBgJXNgLicsIHRvcExldmVsVHlwZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIGV2ZW50ID0gRXZlbnRDb25zdHJ1Y3Rvci5nZXRQb29sZWQoZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH0sXG4gICAgZGlkUHV0TGlzdGVuZXI6IGZ1bmN0aW9uKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZSA9PT0gT05fQ0xJQ0tfS0VZKSB7XG4gICAgICAgIHZhciBpZCA9IGluc3QuX3Jvb3ROb2RlSUQ7XG4gICAgICAgIHZhciBub2RlID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCk7XG4gICAgICAgIGlmICghb25DbGlja0xpc3RlbmVyc1tpZF0pIHtcbiAgICAgICAgICBvbkNsaWNrTGlzdGVuZXJzW2lkXSA9IEV2ZW50TGlzdGVuZXIubGlzdGVuKG5vZGUsICdjbGljaycsIGVtcHR5RnVuY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB3aWxsRGVsZXRlTGlzdGVuZXI6IGZ1bmN0aW9uKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lID09PSBPTl9DTElDS19LRVkpIHtcbiAgICAgICAgdmFyIGlkID0gaW5zdC5fcm9vdE5vZGVJRDtcbiAgICAgICAgb25DbGlja0xpc3RlbmVyc1tpZF0ucmVtb3ZlKCk7XG4gICAgICAgIGRlbGV0ZSBvbkNsaWNrTGlzdGVuZXJzW2lkXTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gU2ltcGxlRXZlbnRQbHVnaW47XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgQmVmb3JlSW5wdXRFdmVudFBsdWdpbiA9IHJlcXVpcmUoJy4vQmVmb3JlSW5wdXRFdmVudFBsdWdpbicpO1xudmFyIENoYW5nZUV2ZW50UGx1Z2luID0gcmVxdWlyZSgnLi9DaGFuZ2VFdmVudFBsdWdpbicpO1xudmFyIERlZmF1bHRFdmVudFBsdWdpbk9yZGVyID0gcmVxdWlyZSgnLi9EZWZhdWx0RXZlbnRQbHVnaW5PcmRlcicpO1xudmFyIEVudGVyTGVhdmVFdmVudFBsdWdpbiA9IHJlcXVpcmUoJy4vRW50ZXJMZWF2ZUV2ZW50UGx1Z2luJyk7XG52YXIgSFRNTERPTVByb3BlcnR5Q29uZmlnID0gcmVxdWlyZSgnLi9IVE1MRE9NUHJvcGVydHlDb25maWcnKTtcbnZhciBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCA9IHJlcXVpcmUoJy4vUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQnKTtcbnZhciBSZWFjdERPTUNvbXBvbmVudCA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnQnKTtcbnZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50VHJlZScpO1xudmFyIFJlYWN0RE9NRW1wdHlDb21wb25lbnQgPSByZXF1aXJlKCcuL1JlYWN0RE9NRW1wdHlDb21wb25lbnQnKTtcbnZhciBSZWFjdERPTVRyZWVUcmF2ZXJzYWwgPSByZXF1aXJlKCcuL1JlYWN0RE9NVHJlZVRyYXZlcnNhbCcpO1xudmFyIFJlYWN0RE9NVGV4dENvbXBvbmVudCA9IHJlcXVpcmUoJy4vUmVhY3RET01UZXh0Q29tcG9uZW50Jyk7XG52YXIgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneSA9IHJlcXVpcmUoJy4vUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneScpO1xudmFyIFJlYWN0RXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJy4vUmVhY3RFdmVudExpc3RlbmVyJyk7XG52YXIgUmVhY3RJbmplY3Rpb24gPSByZXF1aXJlKCcuL1JlYWN0SW5qZWN0aW9uJyk7XG52YXIgUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbicpO1xudmFyIFNWR0RPTVByb3BlcnR5Q29uZmlnID0gcmVxdWlyZSgnLi9TVkdET01Qcm9wZXJ0eUNvbmZpZycpO1xudmFyIFNlbGVjdEV2ZW50UGx1Z2luID0gcmVxdWlyZSgnLi9TZWxlY3RFdmVudFBsdWdpbicpO1xudmFyIFNpbXBsZUV2ZW50UGx1Z2luID0gcmVxdWlyZSgnLi9TaW1wbGVFdmVudFBsdWdpbicpO1xudmFyIGFscmVhZHlJbmplY3RlZCA9IGZhbHNlO1xuZnVuY3Rpb24gaW5qZWN0KCkge1xuICBpZiAoYWxyZWFkeUluamVjdGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFscmVhZHlJbmplY3RlZCA9IHRydWU7XG4gIFJlYWN0SW5qZWN0aW9uLkV2ZW50RW1pdHRlci5pbmplY3RSZWFjdEV2ZW50TGlzdGVuZXIoUmVhY3RFdmVudExpc3RlbmVyKTtcbiAgUmVhY3RJbmplY3Rpb24uRXZlbnRQbHVnaW5IdWIuaW5qZWN0RXZlbnRQbHVnaW5PcmRlcihEZWZhdWx0RXZlbnRQbHVnaW5PcmRlcik7XG4gIFJlYWN0SW5qZWN0aW9uLkV2ZW50UGx1Z2luVXRpbHMuaW5qZWN0Q29tcG9uZW50VHJlZShSZWFjdERPTUNvbXBvbmVudFRyZWUpO1xuICBSZWFjdEluamVjdGlvbi5FdmVudFBsdWdpblV0aWxzLmluamVjdFRyZWVUcmF2ZXJzYWwoUmVhY3RET01UcmVlVHJhdmVyc2FsKTtcbiAgUmVhY3RJbmplY3Rpb24uRXZlbnRQbHVnaW5IdWIuaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lKHtcbiAgICBTaW1wbGVFdmVudFBsdWdpbjogU2ltcGxlRXZlbnRQbHVnaW4sXG4gICAgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luOiBFbnRlckxlYXZlRXZlbnRQbHVnaW4sXG4gICAgQ2hhbmdlRXZlbnRQbHVnaW46IENoYW5nZUV2ZW50UGx1Z2luLFxuICAgIFNlbGVjdEV2ZW50UGx1Z2luOiBTZWxlY3RFdmVudFBsdWdpbixcbiAgICBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luOiBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luXG4gIH0pO1xuICBSZWFjdEluamVjdGlvbi5OYXRpdmVDb21wb25lbnQuaW5qZWN0R2VuZXJpY0NvbXBvbmVudENsYXNzKFJlYWN0RE9NQ29tcG9uZW50KTtcbiAgUmVhY3RJbmplY3Rpb24uTmF0aXZlQ29tcG9uZW50LmluamVjdFRleHRDb21wb25lbnRDbGFzcyhSZWFjdERPTVRleHRDb21wb25lbnQpO1xuICBSZWFjdEluamVjdGlvbi5ET01Qcm9wZXJ0eS5pbmplY3RET01Qcm9wZXJ0eUNvbmZpZyhIVE1MRE9NUHJvcGVydHlDb25maWcpO1xuICBSZWFjdEluamVjdGlvbi5ET01Qcm9wZXJ0eS5pbmplY3RET01Qcm9wZXJ0eUNvbmZpZyhTVkdET01Qcm9wZXJ0eUNvbmZpZyk7XG4gIFJlYWN0SW5qZWN0aW9uLkVtcHR5Q29tcG9uZW50LmluamVjdEVtcHR5Q29tcG9uZW50RmFjdG9yeShmdW5jdGlvbihpbnN0YW50aWF0ZSkge1xuICAgIHJldHVybiBuZXcgUmVhY3RET01FbXB0eUNvbXBvbmVudChpbnN0YW50aWF0ZSk7XG4gIH0pO1xuICBSZWFjdEluamVjdGlvbi5VcGRhdGVzLmluamVjdFJlY29uY2lsZVRyYW5zYWN0aW9uKFJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24pO1xuICBSZWFjdEluamVjdGlvbi5VcGRhdGVzLmluamVjdEJhdGNoaW5nU3RyYXRlZ3koUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneSk7XG4gIFJlYWN0SW5qZWN0aW9uLkNvbXBvbmVudC5pbmplY3RFbnZpcm9ubWVudChSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IHtpbmplY3Q6IGluamVjdH07XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gcmVxdWlyZSgnLi9SZWFjdEN1cnJlbnRPd25lcicpO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gcmVxdWlyZSgnLi9SZWFjdERPTUNvbXBvbmVudFRyZWUnKTtcbiAgdmFyIFJlYWN0SW5zdGFuY2VNYXAgPSByZXF1aXJlKCcuL1JlYWN0SW5zdGFuY2VNYXAnKTtcbiAgdmFyIGdldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUgPSByZXF1aXJlKCcuL2dldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgZnVuY3Rpb24gZmluZERPTU5vZGUoY29tcG9uZW50T3JFbGVtZW50KSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBvd25lciA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQ7XG4gICAgICBpZiAob3duZXIgIT09IG51bGwpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcob3duZXIuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyLCAnJXMgaXMgYWNjZXNzaW5nIGZpbmRET01Ob2RlIGluc2lkZSBpdHMgcmVuZGVyKCkuICcgKyAncmVuZGVyKCkgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuIEl0IHNob3VsZCAnICsgJ25ldmVyIGFjY2VzcyBzb21ldGhpbmcgdGhhdCByZXF1aXJlcyBzdGFsZSBkYXRhIGZyb20gdGhlIHByZXZpb3VzICcgKyAncmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgJyArICdjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4nLCBvd25lci5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgIG93bmVyLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb21wb25lbnRPckVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChjb21wb25lbnRPckVsZW1lbnQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIHJldHVybiBjb21wb25lbnRPckVsZW1lbnQ7XG4gICAgfVxuICAgIHZhciBpbnN0ID0gUmVhY3RJbnN0YW5jZU1hcC5nZXQoY29tcG9uZW50T3JFbGVtZW50KTtcbiAgICBpZiAoaW5zdCkge1xuICAgICAgaW5zdCA9IGdldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUoaW5zdCk7XG4gICAgICByZXR1cm4gaW5zdCA/IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKGluc3QpIDogbnVsbDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21wb25lbnRPckVsZW1lbnQucmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAhZmFsc2UgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZmluZERPTU5vZGUgd2FzIGNhbGxlZCBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9IGVsc2Uge1xuICAgICAgIWZhbHNlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0VsZW1lbnQgYXBwZWFycyB0byBiZSBuZWl0aGVyIFJlYWN0Q29tcG9uZW50IG5vciBET01Ob2RlIChrZXlzOiAlcyknLCBPYmplY3Qua2V5cyhjb21wb25lbnRPckVsZW1lbnQpKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZmluZERPTU5vZGU7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgUmVhY3ROb2RlVHlwZXMgPSByZXF1aXJlKCcuL1JlYWN0Tm9kZVR5cGVzJyk7XG5mdW5jdGlvbiBnZXROYXRpdmVDb21wb25lbnRGcm9tQ29tcG9zaXRlKGluc3QpIHtcbiAgdmFyIHR5cGU7XG4gIHdoaWxlICgodHlwZSA9IGluc3QuX3JlbmRlcmVkTm9kZVR5cGUpID09PSBSZWFjdE5vZGVUeXBlcy5DT01QT1NJVEUpIHtcbiAgICBpbnN0ID0gaW5zdC5fcmVuZGVyZWRDb21wb25lbnQ7XG4gIH1cbiAgaWYgKHR5cGUgPT09IFJlYWN0Tm9kZVR5cGVzLk5BVElWRSkge1xuICAgIHJldHVybiBpbnN0Ll9yZW5kZXJlZENvbXBvbmVudDtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBSZWFjdE5vZGVUeXBlcy5FTVBUWSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IGdldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGU7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgRE9NTmFtZXNwYWNlc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIERPTU5hbWVzcGFjZXMgPSB7XG4gIGh0bWw6ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJyxcbiAgbWF0aG1sOiAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCcsXG4gIHN2ZzogJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJ1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBET01OYW1lc3BhY2VzOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXJcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFU0NBUEVfTE9PS1VQID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc+JzogJyZndDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJ1wiJzogJyZxdW90OycsXG4gICdcXCcnOiAnJiN4Mjc7J1xufTtcblxudmFyIEVTQ0FQRV9SRUdFWCA9IC9bJj48XCInXS9nO1xuXG5mdW5jdGlvbiBlc2NhcGVyKG1hdGNoKSB7XG4gIHJldHVybiBFU0NBUEVfTE9PS1VQW21hdGNoXTtcbn1cblxuLyoqXG4gKiBFc2NhcGVzIHRleHQgdG8gcHJldmVudCBzY3JpcHRpbmcgYXR0YWNrcy5cbiAqXG4gKiBAcGFyYW0geyp9IHRleHQgVGV4dCB2YWx1ZSB0byBlc2NhcGUuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEFuIGVzY2FwZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIodGV4dCkge1xuICByZXR1cm4gKCcnICsgdGV4dCkucmVwbGFjZShFU0NBUEVfUkVHRVgsIGVzY2FwZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlcjsiLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG52YXIgZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyID0gcmVxdWlyZSgnLi9lc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXInKTtcbnZhciBzZXRJbm5lckhUTUwgPSByZXF1aXJlKCcuL3NldElubmVySFRNTCcpO1xudmFyIHNldFRleHRDb250ZW50ID0gZnVuY3Rpb24obm9kZSwgdGV4dCkge1xuICBub2RlLnRleHRDb250ZW50ID0gdGV4dDtcbn07XG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIGlmICghKCd0ZXh0Q29udGVudCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSkge1xuICAgIHNldFRleHRDb250ZW50ID0gZnVuY3Rpb24obm9kZSwgdGV4dCkge1xuICAgICAgc2V0SW5uZXJIVE1MKG5vZGUsIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3Nlcih0ZXh0KSk7XG4gICAgfTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRUZXh0Q29udGVudDtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIERPTU5hbWVzcGFjZXMgPSByZXF1aXJlKCcuL0RPTU5hbWVzcGFjZXMnKTtcbnZhciBjcmVhdGVNaWNyb3NvZnRVbnNhZmVMb2NhbEZ1bmN0aW9uID0gcmVxdWlyZSgnLi9jcmVhdGVNaWNyb3NvZnRVbnNhZmVMb2NhbEZ1bmN0aW9uJyk7XG52YXIgc2V0VGV4dENvbnRlbnQgPSByZXF1aXJlKCcuL3NldFRleHRDb250ZW50Jyk7XG52YXIgRUxFTUVOVF9OT0RFX1RZUEUgPSAxO1xudmFyIERPQ1VNRU5UX0ZSQUdNRU5UX05PREVfVFlQRSA9IDExO1xudmFyIGVuYWJsZUxhenkgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudC5kb2N1bWVudE1vZGUgPT09ICdudW1iZXInIHx8IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSAnc3RyaW5nJyAmJiAvXFxiRWRnZVxcL1xcZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbmZ1bmN0aW9uIGluc2VydFRyZWVDaGlsZHJlbih0cmVlKSB7XG4gIGlmICghZW5hYmxlTGF6eSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbm9kZSA9IHRyZWUubm9kZTtcbiAgdmFyIGNoaWxkcmVuID0gdHJlZS5jaGlsZHJlbjtcbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGluc2VydFRyZWVCZWZvcmUobm9kZSwgY2hpbGRyZW5baV0sIG51bGwpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0cmVlLmh0bWwgIT0gbnVsbCkge1xuICAgIG5vZGUuaW5uZXJIVE1MID0gdHJlZS5odG1sO1xuICB9IGVsc2UgaWYgKHRyZWUudGV4dCAhPSBudWxsKSB7XG4gICAgc2V0VGV4dENvbnRlbnQobm9kZSwgdHJlZS50ZXh0KTtcbiAgfVxufVxudmFyIGluc2VydFRyZWVCZWZvcmUgPSBjcmVhdGVNaWNyb3NvZnRVbnNhZmVMb2NhbEZ1bmN0aW9uKGZ1bmN0aW9uKHBhcmVudE5vZGUsIHRyZWUsIHJlZmVyZW5jZU5vZGUpIHtcbiAgaWYgKHRyZWUubm9kZS5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERV9UWVBFIHx8IHRyZWUubm9kZS5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFX1RZUEUgJiYgdHJlZS5ub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdvYmplY3QnICYmICh0cmVlLm5vZGUubmFtZXNwYWNlVVJJID09IG51bGwgfHwgdHJlZS5ub2RlLm5hbWVzcGFjZVVSSSA9PT0gRE9NTmFtZXNwYWNlcy5odG1sKSkge1xuICAgIGluc2VydFRyZWVDaGlsZHJlbih0cmVlKTtcbiAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZSh0cmVlLm5vZGUsIHJlZmVyZW5jZU5vZGUpO1xuICB9IGVsc2Uge1xuICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRyZWUubm9kZSwgcmVmZXJlbmNlTm9kZSk7XG4gICAgaW5zZXJ0VHJlZUNoaWxkcmVuKHRyZWUpO1xuICB9XG59KTtcbmZ1bmN0aW9uIHJlcGxhY2VDaGlsZFdpdGhUcmVlKG9sZE5vZGUsIG5ld1RyZWUpIHtcbiAgb2xkTm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdUcmVlLm5vZGUsIG9sZE5vZGUpO1xuICBpbnNlcnRUcmVlQ2hpbGRyZW4obmV3VHJlZSk7XG59XG5mdW5jdGlvbiBxdWV1ZUNoaWxkKHBhcmVudFRyZWUsIGNoaWxkVHJlZSkge1xuICBpZiAoZW5hYmxlTGF6eSkge1xuICAgIHBhcmVudFRyZWUuY2hpbGRyZW4ucHVzaChjaGlsZFRyZWUpO1xuICB9IGVsc2Uge1xuICAgIHBhcmVudFRyZWUubm9kZS5hcHBlbmRDaGlsZChjaGlsZFRyZWUubm9kZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHF1ZXVlSFRNTCh0cmVlLCBodG1sKSB7XG4gIGlmIChlbmFibGVMYXp5KSB7XG4gICAgdHJlZS5odG1sID0gaHRtbDtcbiAgfSBlbHNlIHtcbiAgICB0cmVlLm5vZGUuaW5uZXJIVE1MID0gaHRtbDtcbiAgfVxufVxuZnVuY3Rpb24gcXVldWVUZXh0KHRyZWUsIHRleHQpIHtcbiAgaWYgKGVuYWJsZUxhenkpIHtcbiAgICB0cmVlLnRleHQgPSB0ZXh0O1xuICB9IGVsc2Uge1xuICAgIHNldFRleHRDb250ZW50KHRyZWUubm9kZSwgdGV4dCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gdGhpcy5ub2RlLm5vZGVOYW1lO1xufVxuZnVuY3Rpb24gRE9NTGF6eVRyZWUobm9kZSkge1xuICByZXR1cm4ge1xuICAgIG5vZGU6IG5vZGUsXG4gICAgY2hpbGRyZW46IFtdLFxuICAgIGh0bWw6IG51bGwsXG4gICAgdGV4dDogbnVsbCxcbiAgICB0b1N0cmluZzogdG9TdHJpbmdcbiAgfTtcbn1cbkRPTUxhenlUcmVlLmluc2VydFRyZWVCZWZvcmUgPSBpbnNlcnRUcmVlQmVmb3JlO1xuRE9NTGF6eVRyZWUucmVwbGFjZUNoaWxkV2l0aFRyZWUgPSByZXBsYWNlQ2hpbGRXaXRoVHJlZTtcbkRPTUxhenlUcmVlLnF1ZXVlQ2hpbGQgPSBxdWV1ZUNoaWxkO1xuRE9NTGF6eVRyZWUucXVldWVIVE1MID0gcXVldWVIVE1MO1xuRE9NTGF6eVRyZWUucXVldWVUZXh0ID0gcXVldWVUZXh0O1xubW9kdWxlLmV4cG9ydHMgPSBET01MYXp5VHJlZTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBFdmVudFBsdWdpbk9yZGVyID0gbnVsbDtcbiAgdmFyIG5hbWVzVG9QbHVnaW5zID0ge307XG4gIGZ1bmN0aW9uIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCkge1xuICAgIGlmICghRXZlbnRQbHVnaW5PcmRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKHZhciBwbHVnaW5OYW1lIGluIG5hbWVzVG9QbHVnaW5zKSB7XG4gICAgICB2YXIgUGx1Z2luTW9kdWxlID0gbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV07XG4gICAgICB2YXIgcGx1Z2luSW5kZXggPSBFdmVudFBsdWdpbk9yZGVyLmluZGV4T2YocGx1Z2luTmFtZSk7XG4gICAgICAhKHBsdWdpbkluZGV4ID4gLTEpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IENhbm5vdCBpbmplY3QgZXZlbnQgcGx1Z2lucyB0aGF0IGRvIG5vdCBleGlzdCBpbiAnICsgJ3RoZSBwbHVnaW4gb3JkZXJpbmcsIGAlc2AuJywgcGx1Z2luTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaWYgKEV2ZW50UGx1Z2luUmVnaXN0cnkucGx1Z2luc1twbHVnaW5JbmRleF0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAhUGx1Z2luTW9kdWxlLmV4dHJhY3RFdmVudHMgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogRXZlbnQgcGx1Z2lucyBtdXN0IGltcGxlbWVudCBhbiBgZXh0cmFjdEV2ZW50c2AgJyArICdtZXRob2QsIGJ1dCBgJXNgIGRvZXMgbm90LicsIHBsdWdpbk5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIEV2ZW50UGx1Z2luUmVnaXN0cnkucGx1Z2luc1twbHVnaW5JbmRleF0gPSBQbHVnaW5Nb2R1bGU7XG4gICAgICB2YXIgcHVibGlzaGVkRXZlbnRzID0gUGx1Z2luTW9kdWxlLmV2ZW50VHlwZXM7XG4gICAgICBmb3IgKHZhciBldmVudE5hbWUgaW4gcHVibGlzaGVkRXZlbnRzKSB7XG4gICAgICAgICFwdWJsaXNoRXZlbnRGb3JQbHVnaW4ocHVibGlzaGVkRXZlbnRzW2V2ZW50TmFtZV0sIFBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpblJlZ2lzdHJ5OiBGYWlsZWQgdG8gcHVibGlzaCBldmVudCBgJXNgIGZvciBwbHVnaW4gYCVzYC4nLCBldmVudE5hbWUsIHBsdWdpbk5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVibGlzaEV2ZW50Rm9yUGx1Z2luKGRpc3BhdGNoQ29uZmlnLCBQbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSkge1xuICAgICEhRXZlbnRQbHVnaW5SZWdpc3RyeS5ldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MuaGFzT3duUHJvcGVydHkoZXZlbnROYW1lKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpbkh1YjogTW9yZSB0aGFuIG9uZSBwbHVnaW4gYXR0ZW1wdGVkIHRvIHB1Ymxpc2ggdGhlIHNhbWUgJyArICdldmVudCBuYW1lLCBgJXNgLicsIGV2ZW50TmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIEV2ZW50UGx1Z2luUmVnaXN0cnkuZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzW2V2ZW50TmFtZV0gPSBkaXNwYXRjaENvbmZpZztcbiAgICB2YXIgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMgPSBkaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcztcbiAgICBpZiAocGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgIGZvciAodmFyIHBoYXNlTmFtZSBpbiBwaGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgICAgICBpZiAocGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMuaGFzT3duUHJvcGVydHkocGhhc2VOYW1lKSkge1xuICAgICAgICAgIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lID0gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcGhhc2VOYW1lXTtcbiAgICAgICAgICBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShwaGFzZWRSZWdpc3RyYXRpb25OYW1lLCBQbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUoZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSwgUGx1Z2luTW9kdWxlLCBldmVudE5hbWUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShyZWdpc3RyYXRpb25OYW1lLCBQbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSkge1xuICAgICEhRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpbkh1YjogTW9yZSB0aGFuIG9uZSBwbHVnaW4gYXR0ZW1wdGVkIHRvIHB1Ymxpc2ggdGhlIHNhbWUgJyArICdyZWdpc3RyYXRpb24gbmFtZSwgYCVzYC4nLCByZWdpc3RyYXRpb25OYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSA9IFBsdWdpbk1vZHVsZTtcbiAgICBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXNbcmVnaXN0cmF0aW9uTmFtZV0gPSBQbHVnaW5Nb2R1bGUuZXZlbnRUeXBlc1tldmVudE5hbWVdLmRlcGVuZGVuY2llcztcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIGxvd2VyQ2FzZWROYW1lID0gcmVnaXN0cmF0aW9uTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgRXZlbnRQbHVnaW5SZWdpc3RyeS5wb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzW2xvd2VyQ2FzZWROYW1lXSA9IHJlZ2lzdHJhdGlvbk5hbWU7XG4gICAgfVxuICB9XG4gIHZhciBFdmVudFBsdWdpblJlZ2lzdHJ5ID0ge1xuICAgIHBsdWdpbnM6IFtdLFxuICAgIGV2ZW50TmFtZURpc3BhdGNoQ29uZmlnczoge30sXG4gICAgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXM6IHt9LFxuICAgIHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXM6IHt9LFxuICAgIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXM6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB7fSA6IG51bGwsXG4gICAgaW5qZWN0RXZlbnRQbHVnaW5PcmRlcjogZnVuY3Rpb24oSW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyKSB7XG4gICAgICAhIUV2ZW50UGx1Z2luT3JkZXIgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCBldmVudCBwbHVnaW4gb3JkZXJpbmcgbW9yZSB0aGFuICcgKyAnb25jZS4gWW91IGFyZSBsaWtlbHkgdHJ5aW5nIHRvIGxvYWQgbW9yZSB0aGFuIG9uZSBjb3B5IG9mIFJlYWN0LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIEV2ZW50UGx1Z2luT3JkZXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChJbmplY3RlZEV2ZW50UGx1Z2luT3JkZXIpO1xuICAgICAgcmVjb21wdXRlUGx1Z2luT3JkZXJpbmcoKTtcbiAgICB9LFxuICAgIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTogZnVuY3Rpb24oaW5qZWN0ZWROYW1lc1RvUGx1Z2lucykge1xuICAgICAgdmFyIGlzT3JkZXJpbmdEaXJ0eSA9IGZhbHNlO1xuICAgICAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBpbmplY3RlZE5hbWVzVG9QbHVnaW5zKSB7XG4gICAgICAgIGlmICghaW5qZWN0ZWROYW1lc1RvUGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShwbHVnaW5OYW1lKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBQbHVnaW5Nb2R1bGUgPSBpbmplY3RlZE5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdO1xuICAgICAgICBpZiAoIW5hbWVzVG9QbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbk5hbWUpIHx8IG5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdICE9PSBQbHVnaW5Nb2R1bGUpIHtcbiAgICAgICAgICAhIW5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IENhbm5vdCBpbmplY3QgdHdvIGRpZmZlcmVudCBldmVudCBwbHVnaW5zICcgKyAndXNpbmcgdGhlIHNhbWUgbmFtZSwgYCVzYC4nLCBwbHVnaW5OYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0gPSBQbHVnaW5Nb2R1bGU7XG4gICAgICAgICAgaXNPcmRlcmluZ0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzT3JkZXJpbmdEaXJ0eSkge1xuICAgICAgICByZWNvbXB1dGVQbHVnaW5PcmRlcmluZygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0UGx1Z2luTW9kdWxlRm9yRXZlbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgZGlzcGF0Y2hDb25maWcgPSBldmVudC5kaXNwYXRjaENvbmZpZztcbiAgICAgIGlmIChkaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICAgIHJldHVybiBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW2Rpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWVdIHx8IG51bGw7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBwaGFzZSBpbiBkaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgICAgICBpZiAoIWRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzLmhhc093blByb3BlcnR5KHBoYXNlKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBQbHVnaW5Nb2R1bGUgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW2Rpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3BoYXNlXV07XG4gICAgICAgIGlmIChQbHVnaW5Nb2R1bGUpIHtcbiAgICAgICAgICByZXR1cm4gUGx1Z2luTW9kdWxlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIF9yZXNldEV2ZW50UGx1Z2luczogZnVuY3Rpb24oKSB7XG4gICAgICBFdmVudFBsdWdpbk9yZGVyID0gbnVsbDtcbiAgICAgIGZvciAodmFyIHBsdWdpbk5hbWUgaW4gbmFtZXNUb1BsdWdpbnMpIHtcbiAgICAgICAgaWYgKG5hbWVzVG9QbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbk5hbWUpKSB7XG4gICAgICAgICAgZGVsZXRlIG5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBFdmVudFBsdWdpblJlZ2lzdHJ5LnBsdWdpbnMubGVuZ3RoID0gMDtcbiAgICAgIHZhciBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LmV2ZW50TmFtZURpc3BhdGNoQ29uZmlncztcbiAgICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MpIHtcbiAgICAgICAgaWYgKGV2ZW50TmFtZURpc3BhdGNoQ29uZmlncy5oYXNPd25Qcm9wZXJ0eShldmVudE5hbWUpKSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50TmFtZURpc3BhdGNoQ29uZmlnc1tldmVudE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzO1xuICAgICAgZm9yICh2YXIgcmVnaXN0cmF0aW9uTmFtZSBpbiByZWdpc3RyYXRpb25OYW1lTW9kdWxlcykge1xuICAgICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocmVnaXN0cmF0aW9uTmFtZSkpIHtcbiAgICAgICAgICBkZWxldGUgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhciBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5wb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzO1xuICAgICAgICBmb3IgKHZhciBsb3dlckNhc2VkTmFtZSBpbiBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgICAgICAgaWYgKHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMuaGFzT3duUHJvcGVydHkobG93ZXJDYXNlZE5hbWUpKSB7XG4gICAgICAgICAgICBkZWxldGUgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lc1tsb3dlckNhc2VkTmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50UGx1Z2luUmVnaXN0cnk7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIEV2ZW50Q29uc3RhbnRzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIga2V5TWlycm9yID0gcmVxdWlyZSgnZmJqcy9saWIva2V5TWlycm9yJyk7XG5cbnZhciBQcm9wYWdhdGlvblBoYXNlcyA9IGtleU1pcnJvcih7IGJ1YmJsZWQ6IG51bGwsIGNhcHR1cmVkOiBudWxsIH0pO1xuXG4vKipcbiAqIFR5cGVzIG9mIHJhdyBzaWduYWxzIGZyb20gdGhlIGJyb3dzZXIgY2F1Z2h0IGF0IHRoZSB0b3AgbGV2ZWwuXG4gKi9cbnZhciB0b3BMZXZlbFR5cGVzID0ga2V5TWlycm9yKHtcbiAgdG9wQWJvcnQ6IG51bGwsXG4gIHRvcEFuaW1hdGlvbkVuZDogbnVsbCxcbiAgdG9wQW5pbWF0aW9uSXRlcmF0aW9uOiBudWxsLFxuICB0b3BBbmltYXRpb25TdGFydDogbnVsbCxcbiAgdG9wQmx1cjogbnVsbCxcbiAgdG9wQ2FuUGxheTogbnVsbCxcbiAgdG9wQ2FuUGxheVRocm91Z2g6IG51bGwsXG4gIHRvcENoYW5nZTogbnVsbCxcbiAgdG9wQ2xpY2s6IG51bGwsXG4gIHRvcENvbXBvc2l0aW9uRW5kOiBudWxsLFxuICB0b3BDb21wb3NpdGlvblN0YXJ0OiBudWxsLFxuICB0b3BDb21wb3NpdGlvblVwZGF0ZTogbnVsbCxcbiAgdG9wQ29udGV4dE1lbnU6IG51bGwsXG4gIHRvcENvcHk6IG51bGwsXG4gIHRvcEN1dDogbnVsbCxcbiAgdG9wRG91YmxlQ2xpY2s6IG51bGwsXG4gIHRvcERyYWc6IG51bGwsXG4gIHRvcERyYWdFbmQ6IG51bGwsXG4gIHRvcERyYWdFbnRlcjogbnVsbCxcbiAgdG9wRHJhZ0V4aXQ6IG51bGwsXG4gIHRvcERyYWdMZWF2ZTogbnVsbCxcbiAgdG9wRHJhZ092ZXI6IG51bGwsXG4gIHRvcERyYWdTdGFydDogbnVsbCxcbiAgdG9wRHJvcDogbnVsbCxcbiAgdG9wRHVyYXRpb25DaGFuZ2U6IG51bGwsXG4gIHRvcEVtcHRpZWQ6IG51bGwsXG4gIHRvcEVuY3J5cHRlZDogbnVsbCxcbiAgdG9wRW5kZWQ6IG51bGwsXG4gIHRvcEVycm9yOiBudWxsLFxuICB0b3BGb2N1czogbnVsbCxcbiAgdG9wSW5wdXQ6IG51bGwsXG4gIHRvcEludmFsaWQ6IG51bGwsXG4gIHRvcEtleURvd246IG51bGwsXG4gIHRvcEtleVByZXNzOiBudWxsLFxuICB0b3BLZXlVcDogbnVsbCxcbiAgdG9wTG9hZDogbnVsbCxcbiAgdG9wTG9hZGVkRGF0YTogbnVsbCxcbiAgdG9wTG9hZGVkTWV0YWRhdGE6IG51bGwsXG4gIHRvcExvYWRTdGFydDogbnVsbCxcbiAgdG9wTW91c2VEb3duOiBudWxsLFxuICB0b3BNb3VzZU1vdmU6IG51bGwsXG4gIHRvcE1vdXNlT3V0OiBudWxsLFxuICB0b3BNb3VzZU92ZXI6IG51bGwsXG4gIHRvcE1vdXNlVXA6IG51bGwsXG4gIHRvcFBhc3RlOiBudWxsLFxuICB0b3BQYXVzZTogbnVsbCxcbiAgdG9wUGxheTogbnVsbCxcbiAgdG9wUGxheWluZzogbnVsbCxcbiAgdG9wUHJvZ3Jlc3M6IG51bGwsXG4gIHRvcFJhdGVDaGFuZ2U6IG51bGwsXG4gIHRvcFJlc2V0OiBudWxsLFxuICB0b3BTY3JvbGw6IG51bGwsXG4gIHRvcFNlZWtlZDogbnVsbCxcbiAgdG9wU2Vla2luZzogbnVsbCxcbiAgdG9wU2VsZWN0aW9uQ2hhbmdlOiBudWxsLFxuICB0b3BTdGFsbGVkOiBudWxsLFxuICB0b3BTdWJtaXQ6IG51bGwsXG4gIHRvcFN1c3BlbmQ6IG51bGwsXG4gIHRvcFRleHRJbnB1dDogbnVsbCxcbiAgdG9wVGltZVVwZGF0ZTogbnVsbCxcbiAgdG9wVG91Y2hDYW5jZWw6IG51bGwsXG4gIHRvcFRvdWNoRW5kOiBudWxsLFxuICB0b3BUb3VjaE1vdmU6IG51bGwsXG4gIHRvcFRvdWNoU3RhcnQ6IG51bGwsXG4gIHRvcFRyYW5zaXRpb25FbmQ6IG51bGwsXG4gIHRvcFZvbHVtZUNoYW5nZTogbnVsbCxcbiAgdG9wV2FpdGluZzogbnVsbCxcbiAgdG9wV2hlZWw6IG51bGxcbn0pO1xuXG52YXIgRXZlbnRDb25zdGFudHMgPSB7XG4gIHRvcExldmVsVHlwZXM6IHRvcExldmVsVHlwZXMsXG4gIFByb3BhZ2F0aW9uUGhhc2VzOiBQcm9wYWdhdGlvblBoYXNlc1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudENvbnN0YW50czsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xuICB2YXIgUmVhY3RFcnJvclV0aWxzID0gcmVxdWlyZSgnLi9SZWFjdEVycm9yVXRpbHMnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIENvbXBvbmVudFRyZWU7XG4gIHZhciBUcmVlVHJhdmVyc2FsO1xuICB2YXIgaW5qZWN0aW9uID0ge1xuICAgIGluamVjdENvbXBvbmVudFRyZWU6IGZ1bmN0aW9uKEluamVjdGVkKSB7XG4gICAgICBDb21wb25lbnRUcmVlID0gSW5qZWN0ZWQ7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhJbmplY3RlZCAmJiBJbmplY3RlZC5nZXROb2RlRnJvbUluc3RhbmNlICYmIEluamVjdGVkLmdldEluc3RhbmNlRnJvbU5vZGUsICdFdmVudFBsdWdpblV0aWxzLmluamVjdGlvbi5pbmplY3RDb21wb25lbnRUcmVlKC4uLik6IEluamVjdGVkICcgKyAnbW9kdWxlIGlzIG1pc3NpbmcgZ2V0Tm9kZUZyb21JbnN0YW5jZSBvciBnZXRJbnN0YW5jZUZyb21Ob2RlLicpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW5qZWN0VHJlZVRyYXZlcnNhbDogZnVuY3Rpb24oSW5qZWN0ZWQpIHtcbiAgICAgIFRyZWVUcmF2ZXJzYWwgPSBJbmplY3RlZDtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKEluamVjdGVkICYmIEluamVjdGVkLmlzQW5jZXN0b3IgJiYgSW5qZWN0ZWQuZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3IsICdFdmVudFBsdWdpblV0aWxzLmluamVjdGlvbi5pbmplY3RUcmVlVHJhdmVyc2FsKC4uLik6IEluamVjdGVkICcgKyAnbW9kdWxlIGlzIG1pc3NpbmcgaXNBbmNlc3RvciBvciBnZXRMb3dlc3RDb21tb25BbmNlc3Rvci4nKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbiAgZnVuY3Rpb24gaXNFbmRpc2godG9wTGV2ZWxUeXBlKSB7XG4gICAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZVVwIHx8IHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BUb3VjaEVuZCB8fCB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wVG91Y2hDYW5jZWw7XG4gIH1cbiAgZnVuY3Rpb24gaXNNb3ZlaXNoKHRvcExldmVsVHlwZSkge1xuICAgIHJldHVybiB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wTW91c2VNb3ZlIHx8IHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BUb3VjaE1vdmU7XG4gIH1cbiAgZnVuY3Rpb24gaXNTdGFydGlzaCh0b3BMZXZlbFR5cGUpIHtcbiAgICByZXR1cm4gdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93biB8fCB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wVG91Y2hTdGFydDtcbiAgfVxuICB2YXIgdmFsaWRhdGVFdmVudERpc3BhdGNoZXM7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgdmFyIGRpc3BhdGNoTGlzdGVuZXJzID0gZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzO1xuICAgICAgdmFyIGRpc3BhdGNoSW5zdGFuY2VzID0gZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzO1xuICAgICAgdmFyIGxpc3RlbmVyc0lzQXJyID0gQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVycyk7XG4gICAgICB2YXIgbGlzdGVuZXJzTGVuID0gbGlzdGVuZXJzSXNBcnIgPyBkaXNwYXRjaExpc3RlbmVycy5sZW5ndGggOiBkaXNwYXRjaExpc3RlbmVycyA/IDEgOiAwO1xuICAgICAgdmFyIGluc3RhbmNlc0lzQXJyID0gQXJyYXkuaXNBcnJheShkaXNwYXRjaEluc3RhbmNlcyk7XG4gICAgICB2YXIgaW5zdGFuY2VzTGVuID0gaW5zdGFuY2VzSXNBcnIgPyBkaXNwYXRjaEluc3RhbmNlcy5sZW5ndGggOiBkaXNwYXRjaEluc3RhbmNlcyA/IDEgOiAwO1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoaW5zdGFuY2VzSXNBcnIgPT09IGxpc3RlbmVyc0lzQXJyICYmIGluc3RhbmNlc0xlbiA9PT0gbGlzdGVuZXJzTGVuLCAnRXZlbnRQbHVnaW5VdGlsczogSW52YWxpZCBgZXZlbnRgLicpIDogdm9pZCAwO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGxpc3RlbmVyLCBpbnN0KSB7XG4gICAgdmFyIHR5cGUgPSBldmVudC50eXBlIHx8ICd1bmtub3duLWV2ZW50JztcbiAgICBldmVudC5jdXJyZW50VGFyZ2V0ID0gRXZlbnRQbHVnaW5VdGlscy5nZXROb2RlRnJvbUluc3RhbmNlKGluc3QpO1xuICAgIGlmIChzaW11bGF0ZWQpIHtcbiAgICAgIFJlYWN0RXJyb3JVdGlscy5pbnZva2VHdWFyZGVkQ2FsbGJhY2tXaXRoQ2F0Y2godHlwZSwgbGlzdGVuZXIsIGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjayh0eXBlLCBsaXN0ZW5lciwgZXZlbnQpO1xuICAgIH1cbiAgICBldmVudC5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXIoZXZlbnQsIHNpbXVsYXRlZCkge1xuICAgIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgICB2YXIgZGlzcGF0Y2hJbnN0YW5jZXMgPSBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXM7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzKGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGlzcGF0Y2hMaXN0ZW5lcnMpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BhdGNoTGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGRpc3BhdGNoTGlzdGVuZXJzW2ldLCBkaXNwYXRjaEluc3RhbmNlc1tpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkaXNwYXRjaExpc3RlbmVycykge1xuICAgICAgZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGRpc3BhdGNoTGlzdGVuZXJzLCBkaXNwYXRjaEluc3RhbmNlcyk7XG4gICAgfVxuICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IG51bGw7XG4gICAgZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzID0gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlSW1wbChldmVudCkge1xuICAgIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgICB2YXIgZGlzcGF0Y2hJbnN0YW5jZXMgPSBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXM7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzKGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGlzcGF0Y2hMaXN0ZW5lcnMpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BhdGNoTGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3BhdGNoTGlzdGVuZXJzW2ldKGV2ZW50LCBkaXNwYXRjaEluc3RhbmNlc1tpXSkpIHtcbiAgICAgICAgICByZXR1cm4gZGlzcGF0Y2hJbnN0YW5jZXNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRpc3BhdGNoTGlzdGVuZXJzKSB7XG4gICAgICBpZiAoZGlzcGF0Y2hMaXN0ZW5lcnMoZXZlbnQsIGRpc3BhdGNoSW5zdGFuY2VzKSkge1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2hJbnN0YW5jZXM7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlclN0b3BBdFRydWUoZXZlbnQpIHtcbiAgICB2YXIgcmV0ID0gZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZUltcGwoZXZlbnQpO1xuICAgIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IG51bGw7XG4gICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gbnVsbDtcbiAgICByZXR1cm4gcmV0O1xuICB9XG4gIGZ1bmN0aW9uIGV4ZWN1dGVEaXJlY3REaXNwYXRjaChldmVudCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyhldmVudCk7XG4gICAgfVxuICAgIHZhciBkaXNwYXRjaExpc3RlbmVyID0gZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzO1xuICAgIHZhciBkaXNwYXRjaEluc3RhbmNlID0gZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzO1xuICAgICEhQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVyKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdleGVjdXRlRGlyZWN0RGlzcGF0Y2goLi4uKTogSW52YWxpZCBgZXZlbnRgLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBldmVudC5jdXJyZW50VGFyZ2V0ID0gZGlzcGF0Y2hMaXN0ZW5lciA/IEV2ZW50UGx1Z2luVXRpbHMuZ2V0Tm9kZUZyb21JbnN0YW5jZShkaXNwYXRjaEluc3RhbmNlKSA6IG51bGw7XG4gICAgdmFyIHJlcyA9IGRpc3BhdGNoTGlzdGVuZXIgPyBkaXNwYXRjaExpc3RlbmVyKGV2ZW50KSA6IG51bGw7XG4gICAgZXZlbnQuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gbnVsbDtcbiAgICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBudWxsO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgZnVuY3Rpb24gaGFzRGlzcGF0Y2hlcyhldmVudCkge1xuICAgIHJldHVybiAhIWV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgfVxuICB2YXIgRXZlbnRQbHVnaW5VdGlscyA9IHtcbiAgICBpc0VuZGlzaDogaXNFbmRpc2gsXG4gICAgaXNNb3ZlaXNoOiBpc01vdmVpc2gsXG4gICAgaXNTdGFydGlzaDogaXNTdGFydGlzaCxcbiAgICBleGVjdXRlRGlyZWN0RGlzcGF0Y2g6IGV4ZWN1dGVEaXJlY3REaXNwYXRjaCxcbiAgICBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXI6IGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcixcbiAgICBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlOiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlLFxuICAgIGhhc0Rpc3BhdGNoZXM6IGhhc0Rpc3BhdGNoZXMsXG4gICAgZ2V0SW5zdGFuY2VGcm9tTm9kZTogZnVuY3Rpb24obm9kZSkge1xuICAgICAgcmV0dXJuIENvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShub2RlKTtcbiAgICB9LFxuICAgIGdldE5vZGVGcm9tSW5zdGFuY2U6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHJldHVybiBDb21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2Uobm9kZSk7XG4gICAgfSxcbiAgICBpc0FuY2VzdG9yOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICByZXR1cm4gVHJlZVRyYXZlcnNhbC5pc0FuY2VzdG9yKGEsIGIpO1xuICAgIH0sXG4gICAgZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3I6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiBUcmVlVHJhdmVyc2FsLmdldExvd2VzdENvbW1vbkFuY2VzdG9yKGEsIGIpO1xuICAgIH0sXG4gICAgZ2V0UGFyZW50SW5zdGFuY2U6IGZ1bmN0aW9uKGluc3QpIHtcbiAgICAgIHJldHVybiBUcmVlVHJhdmVyc2FsLmdldFBhcmVudEluc3RhbmNlKGluc3QpO1xuICAgIH0sXG4gICAgdHJhdmVyc2VUd29QaGFzZTogZnVuY3Rpb24odGFyZ2V0LCBmbiwgYXJnKSB7XG4gICAgICByZXR1cm4gVHJlZVRyYXZlcnNhbC50cmF2ZXJzZVR3b1BoYXNlKHRhcmdldCwgZm4sIGFyZyk7XG4gICAgfSxcbiAgICB0cmF2ZXJzZUVudGVyTGVhdmU6IGZ1bmN0aW9uKGZyb20sIHRvLCBmbiwgYXJnRnJvbSwgYXJnVG8pIHtcbiAgICAgIHJldHVybiBUcmVlVHJhdmVyc2FsLnRyYXZlcnNlRW50ZXJMZWF2ZShmcm9tLCB0bywgZm4sIGFyZ0Zyb20sIGFyZ1RvKTtcbiAgICB9LFxuICAgIGluamVjdGlvbjogaW5qZWN0aW9uXG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRQbHVnaW5VdGlscztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICBmdW5jdGlvbiBhY2N1bXVsYXRlSW50byhjdXJyZW50LCBuZXh0KSB7XG4gICAgIShuZXh0ICE9IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2FjY3VtdWxhdGVJbnRvKC4uLik6IEFjY3VtdWxhdGVkIGl0ZW1zIG11c3Qgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9XG4gICAgdmFyIGN1cnJlbnRJc0FycmF5ID0gQXJyYXkuaXNBcnJheShjdXJyZW50KTtcbiAgICB2YXIgbmV4dElzQXJyYXkgPSBBcnJheS5pc0FycmF5KG5leHQpO1xuICAgIGlmIChjdXJyZW50SXNBcnJheSAmJiBuZXh0SXNBcnJheSkge1xuICAgICAgY3VycmVudC5wdXNoLmFwcGx5KGN1cnJlbnQsIG5leHQpO1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGlmIChjdXJyZW50SXNBcnJheSkge1xuICAgICAgY3VycmVudC5wdXNoKG5leHQpO1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGlmIChuZXh0SXNBcnJheSkge1xuICAgICAgcmV0dXJuIFtjdXJyZW50XS5jb25jYXQobmV4dCk7XG4gICAgfVxuICAgIHJldHVybiBbY3VycmVudCwgbmV4dF07XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBhY2N1bXVsYXRlSW50bztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZm9yRWFjaEFjY3VtdWxhdGVkXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBwYXJhbSB7YXJyYXl9IGFyciBhbiBcImFjY3VtdWxhdGlvblwiIG9mIGl0ZW1zIHdoaWNoIGlzIGVpdGhlciBhbiBBcnJheSBvclxuICogYSBzaW5nbGUgaXRlbS4gVXNlZnVsIHdoZW4gcGFpcmVkIHdpdGggdGhlIGBhY2N1bXVsYXRlYCBtb2R1bGUuIFRoaXMgaXMgYVxuICogc2ltcGxlIHV0aWxpdHkgdGhhdCBhbGxvd3MgdXMgdG8gcmVhc29uIGFib3V0IGEgY29sbGVjdGlvbiBvZiBpdGVtcywgYnV0XG4gKiBoYW5kbGluZyB0aGUgY2FzZSB3aGVuIHRoZXJlIGlzIGV4YWN0bHkgb25lIGl0ZW0gKGFuZCB3ZSBkbyBub3QgbmVlZCB0b1xuICogYWxsb2NhdGUgYW4gYXJyYXkpLlxuICovXG5cbnZhciBmb3JFYWNoQWNjdW11bGF0ZWQgPSBmdW5jdGlvbiAoYXJyLCBjYiwgc2NvcGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGFyci5mb3JFYWNoKGNiLCBzY29wZSk7XG4gIH0gZWxzZSBpZiAoYXJyKSB7XG4gICAgY2IuY2FsbChzY29wZSwgYXJyKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmb3JFYWNoQWNjdW11bGF0ZWQ7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBFdmVudFBsdWdpblJlZ2lzdHJ5ID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpblJlZ2lzdHJ5Jyk7XG4gIHZhciBFdmVudFBsdWdpblV0aWxzID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpblV0aWxzJyk7XG4gIHZhciBSZWFjdEVycm9yVXRpbHMgPSByZXF1aXJlKCcuL1JlYWN0RXJyb3JVdGlscycpO1xuICB2YXIgYWNjdW11bGF0ZUludG8gPSByZXF1aXJlKCcuL2FjY3VtdWxhdGVJbnRvJyk7XG4gIHZhciBmb3JFYWNoQWNjdW11bGF0ZWQgPSByZXF1aXJlKCcuL2ZvckVhY2hBY2N1bXVsYXRlZCcpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBsaXN0ZW5lckJhbmsgPSB7fTtcbiAgdmFyIGV2ZW50UXVldWUgPSBudWxsO1xuICB2YXIgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlID0gZnVuY3Rpb24oZXZlbnQsIHNpbXVsYXRlZCkge1xuICAgIGlmIChldmVudCkge1xuICAgICAgRXZlbnRQbHVnaW5VdGlscy5leGVjdXRlRGlzcGF0Y2hlc0luT3JkZXIoZXZlbnQsIHNpbXVsYXRlZCk7XG4gICAgICBpZiAoIWV2ZW50LmlzUGVyc2lzdGVudCgpKSB7XG4gICAgICAgIGV2ZW50LmNvbnN0cnVjdG9yLnJlbGVhc2UoZXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZVNpbXVsYXRlZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlKGUsIHRydWUpO1xuICB9O1xuICB2YXIgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWwgPSBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZShlLCBmYWxzZSk7XG4gIH07XG4gIHZhciBFdmVudFBsdWdpbkh1YiA9IHtcbiAgICBpbmplY3Rpb246IHtcbiAgICAgIGluamVjdEV2ZW50UGx1Z2luT3JkZXI6IEV2ZW50UGx1Z2luUmVnaXN0cnkuaW5qZWN0RXZlbnRQbHVnaW5PcmRlcixcbiAgICAgIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTogRXZlbnRQbHVnaW5SZWdpc3RyeS5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWVcbiAgICB9LFxuICAgIHB1dExpc3RlbmVyOiBmdW5jdGlvbihpbnN0LCByZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lcikge1xuICAgICAgISh0eXBlb2YgbGlzdGVuZXIgPT09ICdmdW5jdGlvbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkICVzIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IHR5cGUgJXMnLCByZWdpc3RyYXRpb25OYW1lLCB0eXBlb2YgbGlzdGVuZXIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHZhciBiYW5rRm9yUmVnaXN0cmF0aW9uTmFtZSA9IGxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXSB8fCAobGlzdGVuZXJCYW5rW3JlZ2lzdHJhdGlvbk5hbWVdID0ge30pO1xuICAgICAgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWVbaW5zdC5fcm9vdE5vZGVJRF0gPSBsaXN0ZW5lcjtcbiAgICAgIHZhciBQbHVnaW5Nb2R1bGUgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICAgICAgaWYgKFBsdWdpbk1vZHVsZSAmJiBQbHVnaW5Nb2R1bGUuZGlkUHV0TGlzdGVuZXIpIHtcbiAgICAgICAgUGx1Z2luTW9kdWxlLmRpZFB1dExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUsIGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldExpc3RlbmVyOiBmdW5jdGlvbihpbnN0LCByZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICB2YXIgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWUgPSBsaXN0ZW5lckJhbmtbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgICByZXR1cm4gYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWUgJiYgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWVbaW5zdC5fcm9vdE5vZGVJRF07XG4gICAgfSxcbiAgICBkZWxldGVMaXN0ZW5lcjogZnVuY3Rpb24oaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgdmFyIFBsdWdpbk1vZHVsZSA9IEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgICBpZiAoUGx1Z2luTW9kdWxlICYmIFBsdWdpbk1vZHVsZS53aWxsRGVsZXRlTGlzdGVuZXIpIHtcbiAgICAgICAgUGx1Z2luTW9kdWxlLndpbGxEZWxldGVMaXN0ZW5lcihpbnN0LCByZWdpc3RyYXRpb25OYW1lKTtcbiAgICAgIH1cbiAgICAgIHZhciBiYW5rRm9yUmVnaXN0cmF0aW9uTmFtZSA9IGxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgICAgIGlmIChiYW5rRm9yUmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgICBkZWxldGUgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWVbaW5zdC5fcm9vdE5vZGVJRF07XG4gICAgICB9XG4gICAgfSxcbiAgICBkZWxldGVBbGxMaXN0ZW5lcnM6IGZ1bmN0aW9uKGluc3QpIHtcbiAgICAgIGZvciAodmFyIHJlZ2lzdHJhdGlvbk5hbWUgaW4gbGlzdGVuZXJCYW5rKSB7XG4gICAgICAgIGlmICghbGlzdGVuZXJCYW5rW3JlZ2lzdHJhdGlvbk5hbWVdW2luc3QuX3Jvb3ROb2RlSURdKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIFBsdWdpbk1vZHVsZSA9IEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgICAgIGlmIChQbHVnaW5Nb2R1bGUgJiYgUGx1Z2luTW9kdWxlLndpbGxEZWxldGVMaXN0ZW5lcikge1xuICAgICAgICAgIFBsdWdpbk1vZHVsZS53aWxsRGVsZXRlTGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXVtpbnN0Ll9yb290Tm9kZUlEXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgICB2YXIgZXZlbnRzO1xuICAgICAgdmFyIHBsdWdpbnMgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnBsdWdpbnM7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBsdWdpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBvc3NpYmxlUGx1Z2luID0gcGx1Z2luc1tpXTtcbiAgICAgICAgaWYgKHBvc3NpYmxlUGx1Z2luKSB7XG4gICAgICAgICAgdmFyIGV4dHJhY3RlZEV2ZW50cyA9IHBvc3NpYmxlUGx1Z2luLmV4dHJhY3RFdmVudHModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgICAgIGlmIChleHRyYWN0ZWRFdmVudHMpIHtcbiAgICAgICAgICAgIGV2ZW50cyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50cywgZXh0cmFjdGVkRXZlbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBldmVudHM7XG4gICAgfSxcbiAgICBlbnF1ZXVlRXZlbnRzOiBmdW5jdGlvbihldmVudHMpIHtcbiAgICAgIGlmIChldmVudHMpIHtcbiAgICAgICAgZXZlbnRRdWV1ZSA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50UXVldWUsIGV2ZW50cyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBwcm9jZXNzRXZlbnRRdWV1ZTogZnVuY3Rpb24oc2ltdWxhdGVkKSB7XG4gICAgICB2YXIgcHJvY2Vzc2luZ0V2ZW50UXVldWUgPSBldmVudFF1ZXVlO1xuICAgICAgZXZlbnRRdWV1ZSA9IG51bGw7XG4gICAgICBpZiAoc2ltdWxhdGVkKSB7XG4gICAgICAgIGZvckVhY2hBY2N1bXVsYXRlZChwcm9jZXNzaW5nRXZlbnRRdWV1ZSwgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlU2ltdWxhdGVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvckVhY2hBY2N1bXVsYXRlZChwcm9jZXNzaW5nRXZlbnRRdWV1ZSwgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWwpO1xuICAgICAgfVxuICAgICAgISFldmVudFF1ZXVlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3Byb2Nlc3NFdmVudFF1ZXVlKCk6IEFkZGl0aW9uYWwgZXZlbnRzIHdlcmUgZW5xdWV1ZWQgd2hpbGUgcHJvY2Vzc2luZyAnICsgJ2FuIGV2ZW50IHF1ZXVlLiBTdXBwb3J0IGZvciB0aGlzIGhhcyBub3QgeWV0IGJlZW4gaW1wbGVtZW50ZWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgUmVhY3RFcnJvclV0aWxzLnJldGhyb3dDYXVnaHRFcnJvcigpO1xuICAgIH0sXG4gICAgX19wdXJnZTogZnVuY3Rpb24oKSB7XG4gICAgICBsaXN0ZW5lckJhbmsgPSB7fTtcbiAgICB9LFxuICAgIF9fZ2V0TGlzdGVuZXJCYW5rOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBsaXN0ZW5lckJhbms7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50UGx1Z2luSHViO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIEV2ZW50UGx1Z2luSHViID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpbkh1YicpO1xuZnVuY3Rpb24gcnVuRXZlbnRRdWV1ZUluQmF0Y2goZXZlbnRzKSB7XG4gIEV2ZW50UGx1Z2luSHViLmVucXVldWVFdmVudHMoZXZlbnRzKTtcbiAgRXZlbnRQbHVnaW5IdWIucHJvY2Vzc0V2ZW50UXVldWUoZmFsc2UpO1xufVxudmFyIFJlYWN0RXZlbnRFbWl0dGVyTWl4aW4gPSB7aGFuZGxlVG9wTGV2ZWw6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgdmFyIGV2ZW50cyA9IEV2ZW50UGx1Z2luSHViLmV4dHJhY3RFdmVudHModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgIHJ1bkV2ZW50UXVldWVJbkJhdGNoKGV2ZW50cyk7XG4gIH19O1xubW9kdWxlLmV4cG9ydHMgPSBSZWFjdEV2ZW50RW1pdHRlck1peGluO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFZpZXdwb3J0TWV0cmljc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFZpZXdwb3J0TWV0cmljcyA9IHtcblxuICBjdXJyZW50U2Nyb2xsTGVmdDogMCxcblxuICBjdXJyZW50U2Nyb2xsVG9wOiAwLFxuXG4gIHJlZnJlc2hTY3JvbGxWYWx1ZXM6IGZ1bmN0aW9uIChzY3JvbGxQb3NpdGlvbikge1xuICAgIFZpZXdwb3J0TWV0cmljcy5jdXJyZW50U2Nyb2xsTGVmdCA9IHNjcm9sbFBvc2l0aW9uLng7XG4gICAgVmlld3BvcnRNZXRyaWNzLmN1cnJlbnRTY3JvbGxUb3AgPSBzY3JvbGxQb3NpdGlvbi55O1xuICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVmlld3BvcnRNZXRyaWNzOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcblxuLyoqXG4gKiBHZW5lcmF0ZSBhIG1hcHBpbmcgb2Ygc3RhbmRhcmQgdmVuZG9yIHByZWZpeGVzIHVzaW5nIHRoZSBkZWZpbmVkIHN0eWxlIHByb3BlcnR5IGFuZCBldmVudCBuYW1lLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZVByb3BcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cbmZ1bmN0aW9uIG1ha2VQcmVmaXhNYXAoc3R5bGVQcm9wLCBldmVudE5hbWUpIHtcbiAgdmFyIHByZWZpeGVzID0ge307XG5cbiAgcHJlZml4ZXNbc3R5bGVQcm9wLnRvTG93ZXJDYXNlKCldID0gZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHByZWZpeGVzWydXZWJraXQnICsgc3R5bGVQcm9wXSA9ICd3ZWJraXQnICsgZXZlbnROYW1lO1xuICBwcmVmaXhlc1snTW96JyArIHN0eWxlUHJvcF0gPSAnbW96JyArIGV2ZW50TmFtZTtcbiAgcHJlZml4ZXNbJ21zJyArIHN0eWxlUHJvcF0gPSAnTVMnICsgZXZlbnROYW1lO1xuICBwcmVmaXhlc1snTycgKyBzdHlsZVByb3BdID0gJ28nICsgZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgcmV0dXJuIHByZWZpeGVzO1xufVxuXG4vKipcbiAqIEEgbGlzdCBvZiBldmVudCBuYW1lcyB0byBhIGNvbmZpZ3VyYWJsZSBsaXN0IG9mIHZlbmRvciBwcmVmaXhlcy5cbiAqL1xudmFyIHZlbmRvclByZWZpeGVzID0ge1xuICBhbmltYXRpb25lbmQ6IG1ha2VQcmVmaXhNYXAoJ0FuaW1hdGlvbicsICdBbmltYXRpb25FbmQnKSxcbiAgYW5pbWF0aW9uaXRlcmF0aW9uOiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uSXRlcmF0aW9uJyksXG4gIGFuaW1hdGlvbnN0YXJ0OiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uU3RhcnQnKSxcbiAgdHJhbnNpdGlvbmVuZDogbWFrZVByZWZpeE1hcCgnVHJhbnNpdGlvbicsICdUcmFuc2l0aW9uRW5kJylcbn07XG5cbi8qKlxuICogRXZlbnQgbmFtZXMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBkZXRlY3RlZCBhbmQgcHJlZml4ZWQgKGlmIGFwcGxpY2FibGUpLlxuICovXG52YXIgcHJlZml4ZWRFdmVudE5hbWVzID0ge307XG5cbi8qKlxuICogRWxlbWVudCB0byBjaGVjayBmb3IgcHJlZml4ZXMgb24uXG4gKi9cbnZhciBzdHlsZSA9IHt9O1xuXG4vKipcbiAqIEJvb3RzdHJhcCBpZiBhIERPTSBleGlzdHMuXG4gKi9cbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTtcblxuICAvLyBPbiBzb21lIHBsYXRmb3JtcywgaW4gcGFydGljdWxhciBzb21lIHJlbGVhc2VzIG9mIEFuZHJvaWQgNC54LFxuICAvLyB0aGUgdW4tcHJlZml4ZWQgXCJhbmltYXRpb25cIiBhbmQgXCJ0cmFuc2l0aW9uXCIgcHJvcGVydGllcyBhcmUgZGVmaW5lZCBvbiB0aGVcbiAgLy8gc3R5bGUgb2JqZWN0IGJ1dCB0aGUgZXZlbnRzIHRoYXQgZmlyZSB3aWxsIHN0aWxsIGJlIHByZWZpeGVkLCBzbyB3ZSBuZWVkXG4gIC8vIHRvIGNoZWNrIGlmIHRoZSB1bi1wcmVmaXhlZCBldmVudHMgYXJlIHVzYWJsZSwgYW5kIGlmIG5vdCByZW1vdmUgdGhlbSBmcm9tIHRoZSBtYXAuXG4gIGlmICghKCdBbmltYXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25lbmQuYW5pbWF0aW9uO1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25pdGVyYXRpb24uYW5pbWF0aW9uO1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25zdGFydC5hbmltYXRpb247XG4gIH1cblxuICAvLyBTYW1lIGFzIGFib3ZlXG4gIGlmICghKCdUcmFuc2l0aW9uRXZlbnQnIGluIHdpbmRvdykpIHtcbiAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uO1xuICB9XG59XG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gZGV0ZXJtaW5lIHRoZSBjb3JyZWN0IHZlbmRvciBwcmVmaXhlZCBldmVudCBuYW1lLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKGV2ZW50TmFtZSkge1xuICBpZiAocHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV0pIHtcbiAgICByZXR1cm4gcHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV07XG4gIH0gZWxzZSBpZiAoIXZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV0pIHtcbiAgICByZXR1cm4gZXZlbnROYW1lO1xuICB9XG5cbiAgdmFyIHByZWZpeE1hcCA9IHZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV07XG5cbiAgZm9yICh2YXIgc3R5bGVQcm9wIGluIHByZWZpeE1hcCkge1xuICAgIGlmIChwcmVmaXhNYXAuaGFzT3duUHJvcGVydHkoc3R5bGVQcm9wKSAmJiBzdHlsZVByb3AgaW4gc3R5bGUpIHtcbiAgICAgIHJldHVybiBwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXSA9IHByZWZpeE1hcFtzdHlsZVByb3BdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAnJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaXNFdmVudFN1cHBvcnRlZFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcblxudmFyIHVzZUhhc0ZlYXR1cmU7XG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIHVzZUhhc0ZlYXR1cmUgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbiAmJiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlICYmXG4gIC8vIGFsd2F5cyByZXR1cm5zIHRydWUgaW4gbmV3ZXIgYnJvd3NlcnMgYXMgcGVyIHRoZSBzdGFuZGFyZC5cbiAgLy8gQHNlZSBodHRwOi8vZG9tLnNwZWMud2hhdHdnLm9yZy8jZG9tLWRvbWltcGxlbWVudGF0aW9uLWhhc2ZlYXR1cmVcbiAgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgnJywgJycpICE9PSB0cnVlO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhbiBldmVudCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgZXhlY3V0aW9uIGVudmlyb25tZW50LlxuICpcbiAqIE5PVEU6IFRoaXMgd2lsbCBub3Qgd29yayBjb3JyZWN0bHkgZm9yIG5vbi1nZW5lcmljIGV2ZW50cyBzdWNoIGFzIGBjaGFuZ2VgLFxuICogYHJlc2V0YCwgYGxvYWRgLCBgZXJyb3JgLCBhbmQgYHNlbGVjdGAuXG4gKlxuICogQm9ycm93cyBmcm9tIE1vZGVybml6ci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lU3VmZml4IEV2ZW50IG5hbWUsIGUuZy4gXCJjbGlja1wiLlxuICogQHBhcmFtIHs/Ym9vbGVhbn0gY2FwdHVyZSBDaGVjayBpZiB0aGUgY2FwdHVyZSBwaGFzZSBpcyBzdXBwb3J0ZWQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBzdXBwb3J0ZWQuXG4gKiBAaW50ZXJuYWxcbiAqIEBsaWNlbnNlIE1vZGVybml6ciAzLjAuMHByZSAoQ3VzdG9tIEJ1aWxkKSB8IE1JVFxuICovXG5mdW5jdGlvbiBpc0V2ZW50U3VwcG9ydGVkKGV2ZW50TmFtZVN1ZmZpeCwgY2FwdHVyZSkge1xuICBpZiAoIUV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSB8fCBjYXB0dXJlICYmICEoJ2FkZEV2ZW50TGlzdGVuZXInIGluIGRvY3VtZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBldmVudE5hbWUgPSAnb24nICsgZXZlbnROYW1lU3VmZml4O1xuICB2YXIgaXNTdXBwb3J0ZWQgPSBldmVudE5hbWUgaW4gZG9jdW1lbnQ7XG5cbiAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoZXZlbnROYW1lLCAncmV0dXJuOycpO1xuICAgIGlzU3VwcG9ydGVkID0gdHlwZW9mIGVsZW1lbnRbZXZlbnROYW1lXSA9PT0gJ2Z1bmN0aW9uJztcbiAgfVxuXG4gIGlmICghaXNTdXBwb3J0ZWQgJiYgdXNlSGFzRmVhdHVyZSAmJiBldmVudE5hbWVTdWZmaXggPT09ICd3aGVlbCcpIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBvbmx5IHdheSB0byB0ZXN0IHN1cHBvcnQgZm9yIHRoZSBgd2hlZWxgIGV2ZW50IGluIElFOSsuXG4gICAgaXNTdXBwb3J0ZWQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKCdFdmVudHMud2hlZWwnLCAnMy4wJyk7XG4gIH1cblxuICByZXR1cm4gaXNTdXBwb3J0ZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNFdmVudFN1cHBvcnRlZDsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG4gIHZhciBFdmVudENvbnN0YW50cyA9IHJlcXVpcmUoJy4vRXZlbnRDb25zdGFudHMnKTtcbiAgdmFyIEV2ZW50UGx1Z2luUmVnaXN0cnkgPSByZXF1aXJlKCcuL0V2ZW50UGx1Z2luUmVnaXN0cnknKTtcbiAgdmFyIFJlYWN0RXZlbnRFbWl0dGVyTWl4aW4gPSByZXF1aXJlKCcuL1JlYWN0RXZlbnRFbWl0dGVyTWl4aW4nKTtcbiAgdmFyIFZpZXdwb3J0TWV0cmljcyA9IHJlcXVpcmUoJy4vVmlld3BvcnRNZXRyaWNzJyk7XG4gIHZhciBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSA9IHJlcXVpcmUoJy4vZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUnKTtcbiAgdmFyIGlzRXZlbnRTdXBwb3J0ZWQgPSByZXF1aXJlKCcuL2lzRXZlbnRTdXBwb3J0ZWQnKTtcbiAgdmFyIGhhc0V2ZW50UGFnZVhZO1xuICB2YXIgYWxyZWFkeUxpc3RlbmluZ1RvID0ge307XG4gIHZhciBpc01vbml0b3JpbmdTY3JvbGxWYWx1ZSA9IGZhbHNlO1xuICB2YXIgcmVhY3RUb3BMaXN0ZW5lcnNDb3VudGVyID0gMDtcbiAgdmFyIHRvcEV2ZW50TWFwcGluZyA9IHtcbiAgICB0b3BBYm9ydDogJ2Fib3J0JyxcbiAgICB0b3BBbmltYXRpb25FbmQ6IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCdhbmltYXRpb25lbmQnKSB8fCAnYW5pbWF0aW9uZW5kJyxcbiAgICB0b3BBbmltYXRpb25JdGVyYXRpb246IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCdhbmltYXRpb25pdGVyYXRpb24nKSB8fCAnYW5pbWF0aW9uaXRlcmF0aW9uJyxcbiAgICB0b3BBbmltYXRpb25TdGFydDogZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoJ2FuaW1hdGlvbnN0YXJ0JykgfHwgJ2FuaW1hdGlvbnN0YXJ0JyxcbiAgICB0b3BCbHVyOiAnYmx1cicsXG4gICAgdG9wQ2FuUGxheTogJ2NhbnBsYXknLFxuICAgIHRvcENhblBsYXlUaHJvdWdoOiAnY2FucGxheXRocm91Z2gnLFxuICAgIHRvcENoYW5nZTogJ2NoYW5nZScsXG4gICAgdG9wQ2xpY2s6ICdjbGljaycsXG4gICAgdG9wQ29tcG9zaXRpb25FbmQ6ICdjb21wb3NpdGlvbmVuZCcsXG4gICAgdG9wQ29tcG9zaXRpb25TdGFydDogJ2NvbXBvc2l0aW9uc3RhcnQnLFxuICAgIHRvcENvbXBvc2l0aW9uVXBkYXRlOiAnY29tcG9zaXRpb251cGRhdGUnLFxuICAgIHRvcENvbnRleHRNZW51OiAnY29udGV4dG1lbnUnLFxuICAgIHRvcENvcHk6ICdjb3B5JyxcbiAgICB0b3BDdXQ6ICdjdXQnLFxuICAgIHRvcERvdWJsZUNsaWNrOiAnZGJsY2xpY2snLFxuICAgIHRvcERyYWc6ICdkcmFnJyxcbiAgICB0b3BEcmFnRW5kOiAnZHJhZ2VuZCcsXG4gICAgdG9wRHJhZ0VudGVyOiAnZHJhZ2VudGVyJyxcbiAgICB0b3BEcmFnRXhpdDogJ2RyYWdleGl0JyxcbiAgICB0b3BEcmFnTGVhdmU6ICdkcmFnbGVhdmUnLFxuICAgIHRvcERyYWdPdmVyOiAnZHJhZ292ZXInLFxuICAgIHRvcERyYWdTdGFydDogJ2RyYWdzdGFydCcsXG4gICAgdG9wRHJvcDogJ2Ryb3AnLFxuICAgIHRvcER1cmF0aW9uQ2hhbmdlOiAnZHVyYXRpb25jaGFuZ2UnLFxuICAgIHRvcEVtcHRpZWQ6ICdlbXB0aWVkJyxcbiAgICB0b3BFbmNyeXB0ZWQ6ICdlbmNyeXB0ZWQnLFxuICAgIHRvcEVuZGVkOiAnZW5kZWQnLFxuICAgIHRvcEVycm9yOiAnZXJyb3InLFxuICAgIHRvcEZvY3VzOiAnZm9jdXMnLFxuICAgIHRvcElucHV0OiAnaW5wdXQnLFxuICAgIHRvcEtleURvd246ICdrZXlkb3duJyxcbiAgICB0b3BLZXlQcmVzczogJ2tleXByZXNzJyxcbiAgICB0b3BLZXlVcDogJ2tleXVwJyxcbiAgICB0b3BMb2FkZWREYXRhOiAnbG9hZGVkZGF0YScsXG4gICAgdG9wTG9hZGVkTWV0YWRhdGE6ICdsb2FkZWRtZXRhZGF0YScsXG4gICAgdG9wTG9hZFN0YXJ0OiAnbG9hZHN0YXJ0JyxcbiAgICB0b3BNb3VzZURvd246ICdtb3VzZWRvd24nLFxuICAgIHRvcE1vdXNlTW92ZTogJ21vdXNlbW92ZScsXG4gICAgdG9wTW91c2VPdXQ6ICdtb3VzZW91dCcsXG4gICAgdG9wTW91c2VPdmVyOiAnbW91c2VvdmVyJyxcbiAgICB0b3BNb3VzZVVwOiAnbW91c2V1cCcsXG4gICAgdG9wUGFzdGU6ICdwYXN0ZScsXG4gICAgdG9wUGF1c2U6ICdwYXVzZScsXG4gICAgdG9wUGxheTogJ3BsYXknLFxuICAgIHRvcFBsYXlpbmc6ICdwbGF5aW5nJyxcbiAgICB0b3BQcm9ncmVzczogJ3Byb2dyZXNzJyxcbiAgICB0b3BSYXRlQ2hhbmdlOiAncmF0ZWNoYW5nZScsXG4gICAgdG9wU2Nyb2xsOiAnc2Nyb2xsJyxcbiAgICB0b3BTZWVrZWQ6ICdzZWVrZWQnLFxuICAgIHRvcFNlZWtpbmc6ICdzZWVraW5nJyxcbiAgICB0b3BTZWxlY3Rpb25DaGFuZ2U6ICdzZWxlY3Rpb25jaGFuZ2UnLFxuICAgIHRvcFN0YWxsZWQ6ICdzdGFsbGVkJyxcbiAgICB0b3BTdXNwZW5kOiAnc3VzcGVuZCcsXG4gICAgdG9wVGV4dElucHV0OiAndGV4dElucHV0JyxcbiAgICB0b3BUaW1lVXBkYXRlOiAndGltZXVwZGF0ZScsXG4gICAgdG9wVG91Y2hDYW5jZWw6ICd0b3VjaGNhbmNlbCcsXG4gICAgdG9wVG91Y2hFbmQ6ICd0b3VjaGVuZCcsXG4gICAgdG9wVG91Y2hNb3ZlOiAndG91Y2htb3ZlJyxcbiAgICB0b3BUb3VjaFN0YXJ0OiAndG91Y2hzdGFydCcsXG4gICAgdG9wVHJhbnNpdGlvbkVuZDogZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoJ3RyYW5zaXRpb25lbmQnKSB8fCAndHJhbnNpdGlvbmVuZCcsXG4gICAgdG9wVm9sdW1lQ2hhbmdlOiAndm9sdW1lY2hhbmdlJyxcbiAgICB0b3BXYWl0aW5nOiAnd2FpdGluZycsXG4gICAgdG9wV2hlZWw6ICd3aGVlbCdcbiAgfTtcbiAgdmFyIHRvcExpc3RlbmVyc0lES2V5ID0gJ19yZWFjdExpc3RlbmVyc0lEJyArIFN0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgyKTtcbiAgZnVuY3Rpb24gZ2V0TGlzdGVuaW5nRm9yRG9jdW1lbnQobW91bnRBdCkge1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vdW50QXQsIHRvcExpc3RlbmVyc0lES2V5KSkge1xuICAgICAgbW91bnRBdFt0b3BMaXN0ZW5lcnNJREtleV0gPSByZWFjdFRvcExpc3RlbmVyc0NvdW50ZXIrKztcbiAgICAgIGFscmVhZHlMaXN0ZW5pbmdUb1ttb3VudEF0W3RvcExpc3RlbmVyc0lES2V5XV0gPSB7fTtcbiAgICB9XG4gICAgcmV0dXJuIGFscmVhZHlMaXN0ZW5pbmdUb1ttb3VudEF0W3RvcExpc3RlbmVyc0lES2V5XV07XG4gIH1cbiAgdmFyIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlciA9IF9hc3NpZ24oe30sIFJlYWN0RXZlbnRFbWl0dGVyTWl4aW4sIHtcbiAgICBSZWFjdEV2ZW50TGlzdGVuZXI6IG51bGwsXG4gICAgaW5qZWN0aW9uOiB7aW5qZWN0UmVhY3RFdmVudExpc3RlbmVyOiBmdW5jdGlvbihSZWFjdEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgUmVhY3RFdmVudExpc3RlbmVyLnNldEhhbmRsZVRvcExldmVsKFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5oYW5kbGVUb3BMZXZlbCk7XG4gICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIgPSBSZWFjdEV2ZW50TGlzdGVuZXI7XG4gICAgICB9fSxcbiAgICBzZXRFbmFibGVkOiBmdW5jdGlvbihlbmFibGVkKSB7XG4gICAgICBpZiAoUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnNldEVuYWJsZWQoZW5hYmxlZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc0VuYWJsZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICEhKFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIgJiYgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci5pc0VuYWJsZWQoKSk7XG4gICAgfSxcbiAgICBsaXN0ZW5UbzogZnVuY3Rpb24ocmVnaXN0cmF0aW9uTmFtZSwgY29udGVudERvY3VtZW50SGFuZGxlKSB7XG4gICAgICB2YXIgbW91bnRBdCA9IGNvbnRlbnREb2N1bWVudEhhbmRsZTtcbiAgICAgIHZhciBpc0xpc3RlbmluZyA9IGdldExpc3RlbmluZ0ZvckRvY3VtZW50KG1vdW50QXQpO1xuICAgICAgdmFyIGRlcGVuZGVuY2llcyA9IEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgICAgIHZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBkZXBlbmRlbmN5ID0gZGVwZW5kZW5jaWVzW2ldO1xuICAgICAgICBpZiAoIShpc0xpc3RlbmluZy5oYXNPd25Qcm9wZXJ0eShkZXBlbmRlbmN5KSAmJiBpc0xpc3RlbmluZ1tkZXBlbmRlbmN5XSkpIHtcbiAgICAgICAgICBpZiAoZGVwZW5kZW5jeSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BXaGVlbCkge1xuICAgICAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ3doZWVsJykpIHtcbiAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KHRvcExldmVsVHlwZXMudG9wV2hlZWwsICd3aGVlbCcsIG1vdW50QXQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0V2ZW50U3VwcG9ydGVkKCdtb3VzZXdoZWVsJykpIHtcbiAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KHRvcExldmVsVHlwZXMudG9wV2hlZWwsICdtb3VzZXdoZWVsJywgbW91bnRBdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBCdWJibGVkRXZlbnQodG9wTGV2ZWxUeXBlcy50b3BXaGVlbCwgJ0RPTU1vdXNlU2Nyb2xsJywgbW91bnRBdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChkZXBlbmRlbmN5ID09PSB0b3BMZXZlbFR5cGVzLnRvcFNjcm9sbCkge1xuICAgICAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ3Njcm9sbCcsIHRydWUpKSB7XG4gICAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcENhcHR1cmVkRXZlbnQodG9wTGV2ZWxUeXBlcy50b3BTY3JvbGwsICdzY3JvbGwnLCBtb3VudEF0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcFNjcm9sbCwgJ3Njcm9sbCcsIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIuV0lORE9XX0hBTkRMRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChkZXBlbmRlbmN5ID09PSB0b3BMZXZlbFR5cGVzLnRvcEZvY3VzIHx8IGRlcGVuZGVuY3kgPT09IHRvcExldmVsVHlwZXMudG9wQmx1cikge1xuICAgICAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ2ZvY3VzJywgdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQ2FwdHVyZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcEZvY3VzLCAnZm9jdXMnLCBtb3VudEF0KTtcbiAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQ2FwdHVyZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcEJsdXIsICdibHVyJywgbW91bnRBdCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ2ZvY3VzaW4nKSkge1xuICAgICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBCdWJibGVkRXZlbnQodG9wTGV2ZWxUeXBlcy50b3BGb2N1cywgJ2ZvY3VzaW4nLCBtb3VudEF0KTtcbiAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KHRvcExldmVsVHlwZXMudG9wQmx1ciwgJ2ZvY3Vzb3V0JywgbW91bnRBdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc0xpc3RlbmluZ1t0b3BMZXZlbFR5cGVzLnRvcEJsdXJdID0gdHJ1ZTtcbiAgICAgICAgICAgIGlzTGlzdGVuaW5nW3RvcExldmVsVHlwZXMudG9wRm9jdXNdID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRvcEV2ZW50TWFwcGluZy5oYXNPd25Qcm9wZXJ0eShkZXBlbmRlbmN5KSkge1xuICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KGRlcGVuZGVuY3ksIHRvcEV2ZW50TWFwcGluZ1tkZXBlbmRlbmN5XSwgbW91bnRBdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlzTGlzdGVuaW5nW2RlcGVuZGVuY3ldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgdHJhcEJ1YmJsZWRFdmVudDogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCBoYW5kbGVyQmFzZU5hbWUsIGhhbmRsZSkge1xuICAgICAgcmV0dXJuIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgaGFuZGxlKTtcbiAgICB9LFxuICAgIHRyYXBDYXB0dXJlZEV2ZW50OiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgaGFuZGxlKSB7XG4gICAgICByZXR1cm4gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQ2FwdHVyZWRFdmVudCh0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgaGFuZGxlKTtcbiAgICB9LFxuICAgIGVuc3VyZVNjcm9sbFZhbHVlTW9uaXRvcmluZzogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoaGFzRXZlbnRQYWdlWFkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBoYXNFdmVudFBhZ2VYWSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50ICYmICdwYWdlWCcgaW4gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnQnKTtcbiAgICAgIH1cbiAgICAgIGlmICghaGFzRXZlbnRQYWdlWFkgJiYgIWlzTW9uaXRvcmluZ1Njcm9sbFZhbHVlKSB7XG4gICAgICAgIHZhciByZWZyZXNoID0gVmlld3BvcnRNZXRyaWNzLnJlZnJlc2hTY3JvbGxWYWx1ZXM7XG4gICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIubW9uaXRvclNjcm9sbFZhbHVlKHJlZnJlc2gpO1xuICAgICAgICBpc01vbml0b3JpbmdTY3JvbGxWYWx1ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXI7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgZnVuY3Rpb24gY2hlY2tNYXNrKHZhbHVlLCBiaXRtYXNrKSB7XG4gICAgcmV0dXJuICh2YWx1ZSAmIGJpdG1hc2spID09PSBiaXRtYXNrO1xuICB9XG4gIHZhciBET01Qcm9wZXJ0eUluamVjdGlvbiA9IHtcbiAgICBNVVNUX1VTRV9QUk9QRVJUWTogMHgxLFxuICAgIEhBU19TSURFX0VGRkVDVFM6IDB4MixcbiAgICBIQVNfQk9PTEVBTl9WQUxVRTogMHg0LFxuICAgIEhBU19OVU1FUklDX1ZBTFVFOiAweDgsXG4gICAgSEFTX1BPU0lUSVZFX05VTUVSSUNfVkFMVUU6IDB4MTAgfCAweDgsXG4gICAgSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRTogMHgyMCxcbiAgICBpbmplY3RET01Qcm9wZXJ0eUNvbmZpZzogZnVuY3Rpb24oZG9tUHJvcGVydHlDb25maWcpIHtcbiAgICAgIHZhciBJbmplY3Rpb24gPSBET01Qcm9wZXJ0eUluamVjdGlvbjtcbiAgICAgIHZhciBQcm9wZXJ0aWVzID0gZG9tUHJvcGVydHlDb25maWcuUHJvcGVydGllcyB8fCB7fTtcbiAgICAgIHZhciBET01BdHRyaWJ1dGVOYW1lc3BhY2VzID0gZG9tUHJvcGVydHlDb25maWcuRE9NQXR0cmlidXRlTmFtZXNwYWNlcyB8fCB7fTtcbiAgICAgIHZhciBET01BdHRyaWJ1dGVOYW1lcyA9IGRvbVByb3BlcnR5Q29uZmlnLkRPTUF0dHJpYnV0ZU5hbWVzIHx8IHt9O1xuICAgICAgdmFyIERPTVByb3BlcnR5TmFtZXMgPSBkb21Qcm9wZXJ0eUNvbmZpZy5ET01Qcm9wZXJ0eU5hbWVzIHx8IHt9O1xuICAgICAgdmFyIERPTU11dGF0aW9uTWV0aG9kcyA9IGRvbVByb3BlcnR5Q29uZmlnLkRPTU11dGF0aW9uTWV0aG9kcyB8fCB7fTtcbiAgICAgIGlmIChkb21Qcm9wZXJ0eUNvbmZpZy5pc0N1c3RvbUF0dHJpYnV0ZSkge1xuICAgICAgICBET01Qcm9wZXJ0eS5faXNDdXN0b21BdHRyaWJ1dGVGdW5jdGlvbnMucHVzaChkb21Qcm9wZXJ0eUNvbmZpZy5pc0N1c3RvbUF0dHJpYnV0ZSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBQcm9wZXJ0aWVzKSB7XG4gICAgICAgICEhRE9NUHJvcGVydHkucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnaW5qZWN0RE9NUHJvcGVydHlDb25maWcoLi4uKTogWW91XFwncmUgdHJ5aW5nIHRvIGluamVjdCBET00gcHJvcGVydHkgJyArICdcXCclc1xcJyB3aGljaCBoYXMgYWxyZWFkeSBiZWVuIGluamVjdGVkLiBZb3UgbWF5IGJlIGFjY2lkZW50YWxseSAnICsgJ2luamVjdGluZyB0aGUgc2FtZSBET00gcHJvcGVydHkgY29uZmlnIHR3aWNlLCBvciB5b3UgbWF5IGJlICcgKyAnaW5qZWN0aW5nIHR3byBjb25maWdzIHRoYXQgaGF2ZSBjb25mbGljdGluZyBwcm9wZXJ0eSBuYW1lcy4nLCBwcm9wTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB2YXIgbG93ZXJDYXNlZCA9IHByb3BOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHZhciBwcm9wQ29uZmlnID0gUHJvcGVydGllc1twcm9wTmFtZV07XG4gICAgICAgIHZhciBwcm9wZXJ0eUluZm8gPSB7XG4gICAgICAgICAgYXR0cmlidXRlTmFtZTogbG93ZXJDYXNlZCxcbiAgICAgICAgICBhdHRyaWJ1dGVOYW1lc3BhY2U6IG51bGwsXG4gICAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wTmFtZSxcbiAgICAgICAgICBtdXRhdGlvbk1ldGhvZDogbnVsbCxcbiAgICAgICAgICBtdXN0VXNlUHJvcGVydHk6IGNoZWNrTWFzayhwcm9wQ29uZmlnLCBJbmplY3Rpb24uTVVTVF9VU0VfUFJPUEVSVFkpLFxuICAgICAgICAgIGhhc1NpZGVFZmZlY3RzOiBjaGVja01hc2socHJvcENvbmZpZywgSW5qZWN0aW9uLkhBU19TSURFX0VGRkVDVFMpLFxuICAgICAgICAgIGhhc0Jvb2xlYW5WYWx1ZTogY2hlY2tNYXNrKHByb3BDb25maWcsIEluamVjdGlvbi5IQVNfQk9PTEVBTl9WQUxVRSksXG4gICAgICAgICAgaGFzTnVtZXJpY1ZhbHVlOiBjaGVja01hc2socHJvcENvbmZpZywgSW5qZWN0aW9uLkhBU19OVU1FUklDX1ZBTFVFKSxcbiAgICAgICAgICBoYXNQb3NpdGl2ZU51bWVyaWNWYWx1ZTogY2hlY2tNYXNrKHByb3BDb25maWcsIEluamVjdGlvbi5IQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSksXG4gICAgICAgICAgaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZTogY2hlY2tNYXNrKHByb3BDb25maWcsIEluamVjdGlvbi5IQVNfT1ZFUkxPQURFRF9CT09MRUFOX1ZBTFVFKVxuICAgICAgICB9O1xuICAgICAgICAhKHByb3BlcnR5SW5mby5tdXN0VXNlUHJvcGVydHkgfHwgIXByb3BlcnR5SW5mby5oYXNTaWRlRWZmZWN0cykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRE9NUHJvcGVydHk6IFByb3BlcnRpZXMgdGhhdCBoYXZlIHNpZGUgZWZmZWN0cyBtdXN0IHVzZSBwcm9wZXJ0eTogJXMnLCBwcm9wTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAhKHByb3BlcnR5SW5mby5oYXNCb29sZWFuVmFsdWUgKyBwcm9wZXJ0eUluZm8uaGFzTnVtZXJpY1ZhbHVlICsgcHJvcGVydHlJbmZvLmhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWUgPD0gMSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRE9NUHJvcGVydHk6IFZhbHVlIGNhbiBiZSBvbmUgb2YgYm9vbGVhbiwgb3ZlcmxvYWRlZCBib29sZWFuLCBvciAnICsgJ251bWVyaWMgdmFsdWUsIGJ1dCBub3QgYSBjb21iaW5hdGlvbjogJXMnLCBwcm9wTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIERPTVByb3BlcnR5LmdldFBvc3NpYmxlU3RhbmRhcmROYW1lW2xvd2VyQ2FzZWRdID0gcHJvcE5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKERPTUF0dHJpYnV0ZU5hbWVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gRE9NQXR0cmlidXRlTmFtZXNbcHJvcE5hbWVdO1xuICAgICAgICAgIHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZTtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgRE9NUHJvcGVydHkuZ2V0UG9zc2libGVTdGFuZGFyZE5hbWVbYXR0cmlidXRlTmFtZV0gPSBwcm9wTmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKERPTUF0dHJpYnV0ZU5hbWVzcGFjZXMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgcHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWVzcGFjZSA9IERPTUF0dHJpYnV0ZU5hbWVzcGFjZXNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChET01Qcm9wZXJ0eU5hbWVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgIHByb3BlcnR5SW5mby5wcm9wZXJ0eU5hbWUgPSBET01Qcm9wZXJ0eU5hbWVzW3Byb3BOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoRE9NTXV0YXRpb25NZXRob2RzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgIHByb3BlcnR5SW5mby5tdXRhdGlvbk1ldGhvZCA9IERPTU11dGF0aW9uTWV0aG9kc1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgRE9NUHJvcGVydHkucHJvcGVydGllc1twcm9wTmFtZV0gPSBwcm9wZXJ0eUluZm87XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2YXIgQVRUUklCVVRFX05BTUVfU1RBUlRfQ0hBUiA9ICc6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEJztcbiAgdmFyIERPTVByb3BlcnR5ID0ge1xuICAgIElEX0FUVFJJQlVURV9OQU1FOiAnZGF0YS1yZWFjdGlkJyxcbiAgICBST09UX0FUVFJJQlVURV9OQU1FOiAnZGF0YS1yZWFjdHJvb3QnLFxuICAgIEFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVI6IEFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVIsXG4gICAgQVRUUklCVVRFX05BTUVfQ0hBUjogQVRUUklCVVRFX05BTUVfU1RBUlRfQ0hBUiArICdcXFxcLS4wLTlcXFxcdUI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDAnLFxuICAgIHByb3BlcnRpZXM6IHt9LFxuICAgIGdldFBvc3NpYmxlU3RhbmRhcmROYW1lOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8ge30gOiBudWxsLFxuICAgIF9pc0N1c3RvbUF0dHJpYnV0ZUZ1bmN0aW9uczogW10sXG4gICAgaXNDdXN0b21BdHRyaWJ1dGU6IGZ1bmN0aW9uKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgRE9NUHJvcGVydHkuX2lzQ3VzdG9tQXR0cmlidXRlRnVuY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpc0N1c3RvbUF0dHJpYnV0ZUZuID0gRE9NUHJvcGVydHkuX2lzQ3VzdG9tQXR0cmlidXRlRnVuY3Rpb25zW2ldO1xuICAgICAgICBpZiAoaXNDdXN0b21BdHRyaWJ1dGVGbihhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBpbmplY3Rpb246IERPTVByb3BlcnR5SW5qZWN0aW9uXG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gRE9NUHJvcGVydHk7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RE9NQ29tcG9uZW50RmxhZ3NcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdERPTUNvbXBvbmVudEZsYWdzID0ge1xuICBoYXNDYWNoZWRDaGlsZE5vZGVzOiAxIDw8IDBcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RET01Db21wb25lbnRGbGFnczsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eScpO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRGbGFncyA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRGbGFncycpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBBVFRSX05BTUUgPSBET01Qcm9wZXJ0eS5JRF9BVFRSSUJVVEVfTkFNRTtcbiAgdmFyIEZsYWdzID0gUmVhY3RET01Db21wb25lbnRGbGFncztcbiAgdmFyIGludGVybmFsSW5zdGFuY2VLZXkgPSAnX19yZWFjdEludGVybmFsSW5zdGFuY2UkJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xuICBmdW5jdGlvbiBnZXRSZW5kZXJlZE5hdGl2ZU9yVGV4dEZyb21Db21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgdmFyIHJlbmRlcmVkO1xuICAgIHdoaWxlIChyZW5kZXJlZCA9IGNvbXBvbmVudC5fcmVuZGVyZWRDb21wb25lbnQpIHtcbiAgICAgIGNvbXBvbmVudCA9IHJlbmRlcmVkO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50O1xuICB9XG4gIGZ1bmN0aW9uIHByZWNhY2hlTm9kZShpbnN0LCBub2RlKSB7XG4gICAgdmFyIG5hdGl2ZUluc3QgPSBnZXRSZW5kZXJlZE5hdGl2ZU9yVGV4dEZyb21Db21wb25lbnQoaW5zdCk7XG4gICAgbmF0aXZlSW5zdC5fbmF0aXZlTm9kZSA9IG5vZGU7XG4gICAgbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IG5hdGl2ZUluc3Q7XG4gIH1cbiAgZnVuY3Rpb24gdW5jYWNoZU5vZGUoaW5zdCkge1xuICAgIHZhciBub2RlID0gaW5zdC5fbmF0aXZlTm9kZTtcbiAgICBpZiAobm9kZSkge1xuICAgICAgZGVsZXRlIG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV07XG4gICAgICBpbnN0Ll9uYXRpdmVOb2RlID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHJlY2FjaGVDaGlsZE5vZGVzKGluc3QsIG5vZGUpIHtcbiAgICBpZiAoaW5zdC5fZmxhZ3MgJiBGbGFncy5oYXNDYWNoZWRDaGlsZE5vZGVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjaGlsZHJlbiA9IGluc3QuX3JlbmRlcmVkQ2hpbGRyZW47XG4gICAgdmFyIGNoaWxkTm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICBvdXRlcjogZm9yICh2YXIgbmFtZSBpbiBjaGlsZHJlbikge1xuICAgICAgaWYgKCFjaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBjaGlsZEluc3QgPSBjaGlsZHJlbltuYW1lXTtcbiAgICAgIHZhciBjaGlsZElEID0gZ2V0UmVuZGVyZWROYXRpdmVPclRleHRGcm9tQ29tcG9uZW50KGNoaWxkSW5zdCkuX2RvbUlEO1xuICAgICAgaWYgKGNoaWxkSUQgPT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGZvciAoOyBjaGlsZE5vZGUgIT09IG51bGw7IGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5uZXh0U2libGluZykge1xuICAgICAgICBpZiAoY2hpbGROb2RlLm5vZGVUeXBlID09PSAxICYmIGNoaWxkTm9kZS5nZXRBdHRyaWJ1dGUoQVRUUl9OQU1FKSA9PT0gU3RyaW5nKGNoaWxkSUQpIHx8IGNoaWxkTm9kZS5ub2RlVHlwZSA9PT0gOCAmJiBjaGlsZE5vZGUubm9kZVZhbHVlID09PSAnIHJlYWN0LXRleHQ6ICcgKyBjaGlsZElEICsgJyAnIHx8IGNoaWxkTm9kZS5ub2RlVHlwZSA9PT0gOCAmJiBjaGlsZE5vZGUubm9kZVZhbHVlID09PSAnIHJlYWN0LWVtcHR5OiAnICsgY2hpbGRJRCArICcgJykge1xuICAgICAgICAgIHByZWNhY2hlTm9kZShjaGlsZEluc3QsIGNoaWxkTm9kZSk7XG4gICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdVbmFibGUgdG8gZmluZCBlbGVtZW50IHdpdGggSUQgJXMuJywgY2hpbGRJRCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH1cbiAgICBpbnN0Ll9mbGFncyB8PSBGbGFncy5oYXNDYWNoZWRDaGlsZE5vZGVzO1xuICB9XG4gIGZ1bmN0aW9uIGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKG5vZGUpIHtcbiAgICBpZiAobm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSkge1xuICAgICAgcmV0dXJuIG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV07XG4gICAgfVxuICAgIHZhciBwYXJlbnRzID0gW107XG4gICAgd2hpbGUgKCFub2RlW2ludGVybmFsSW5zdGFuY2VLZXldKSB7XG4gICAgICBwYXJlbnRzLnB1c2gobm9kZSk7XG4gICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNsb3Nlc3Q7XG4gICAgdmFyIGluc3Q7XG4gICAgZm9yICg7IG5vZGUgJiYgKGluc3QgPSBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldKTsgbm9kZSA9IHBhcmVudHMucG9wKCkpIHtcbiAgICAgIGNsb3Nlc3QgPSBpbnN0O1xuICAgICAgaWYgKHBhcmVudHMubGVuZ3RoKSB7XG4gICAgICAgIHByZWNhY2hlQ2hpbGROb2RlcyhpbnN0LCBub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsb3Nlc3Q7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0SW5zdGFuY2VGcm9tTm9kZShub2RlKSB7XG4gICAgdmFyIGluc3QgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShub2RlKTtcbiAgICBpZiAoaW5zdCAhPSBudWxsICYmIGluc3QuX25hdGl2ZU5vZGUgPT09IG5vZGUpIHtcbiAgICAgIHJldHVybiBpbnN0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KSB7XG4gICAgIShpbnN0Ll9uYXRpdmVOb2RlICE9PSB1bmRlZmluZWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2dldE5vZGVGcm9tSW5zdGFuY2U6IEludmFsaWQgYXJndW1lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGlmIChpbnN0Ll9uYXRpdmVOb2RlKSB7XG4gICAgICByZXR1cm4gaW5zdC5fbmF0aXZlTm9kZTtcbiAgICB9XG4gICAgdmFyIHBhcmVudHMgPSBbXTtcbiAgICB3aGlsZSAoIWluc3QuX25hdGl2ZU5vZGUpIHtcbiAgICAgIHBhcmVudHMucHVzaChpbnN0KTtcbiAgICAgICFpbnN0Ll9uYXRpdmVQYXJlbnQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3QgRE9NIHRyZWUgcm9vdCBzaG91bGQgYWx3YXlzIGhhdmUgYSBub2RlIHJlZmVyZW5jZS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBpbnN0ID0gaW5zdC5fbmF0aXZlUGFyZW50O1xuICAgIH1cbiAgICBmb3IgKDsgcGFyZW50cy5sZW5ndGg7IGluc3QgPSBwYXJlbnRzLnBvcCgpKSB7XG4gICAgICBwcmVjYWNoZUNoaWxkTm9kZXMoaW5zdCwgaW5zdC5fbmF0aXZlTm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0Ll9uYXRpdmVOb2RlO1xuICB9XG4gIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSB7XG4gICAgZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGU6IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlLFxuICAgIGdldEluc3RhbmNlRnJvbU5vZGU6IGdldEluc3RhbmNlRnJvbU5vZGUsXG4gICAgZ2V0Tm9kZUZyb21JbnN0YW5jZTogZ2V0Tm9kZUZyb21JbnN0YW5jZSxcbiAgICBwcmVjYWNoZUNoaWxkTm9kZXM6IHByZWNhY2hlQ2hpbGROb2RlcyxcbiAgICBwcmVjYWNoZU5vZGU6IHByZWNhY2hlTm9kZSxcbiAgICB1bmNhY2hlTm9kZTogdW5jYWNoZU5vZGVcbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUNvbXBvbmVudFRyZWU7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciB2YWxpZGF0ZURPTU5lc3RpbmcgPSBlbXB0eUZ1bmN0aW9uO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhciBzcGVjaWFsVGFncyA9IFsnYWRkcmVzcycsICdhcHBsZXQnLCAnYXJlYScsICdhcnRpY2xlJywgJ2FzaWRlJywgJ2Jhc2UnLCAnYmFzZWZvbnQnLCAnYmdzb3VuZCcsICdibG9ja3F1b3RlJywgJ2JvZHknLCAnYnInLCAnYnV0dG9uJywgJ2NhcHRpb24nLCAnY2VudGVyJywgJ2NvbCcsICdjb2xncm91cCcsICdkZCcsICdkZXRhaWxzJywgJ2RpcicsICdkaXYnLCAnZGwnLCAnZHQnLCAnZW1iZWQnLCAnZmllbGRzZXQnLCAnZmlnY2FwdGlvbicsICdmaWd1cmUnLCAnZm9vdGVyJywgJ2Zvcm0nLCAnZnJhbWUnLCAnZnJhbWVzZXQnLCAnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnLCAnaGVhZCcsICdoZWFkZXInLCAnaGdyb3VwJywgJ2hyJywgJ2h0bWwnLCAnaWZyYW1lJywgJ2ltZycsICdpbnB1dCcsICdpc2luZGV4JywgJ2xpJywgJ2xpbmsnLCAnbGlzdGluZycsICdtYWluJywgJ21hcnF1ZWUnLCAnbWVudScsICdtZW51aXRlbScsICdtZXRhJywgJ25hdicsICdub2VtYmVkJywgJ25vZnJhbWVzJywgJ25vc2NyaXB0JywgJ29iamVjdCcsICdvbCcsICdwJywgJ3BhcmFtJywgJ3BsYWludGV4dCcsICdwcmUnLCAnc2NyaXB0JywgJ3NlY3Rpb24nLCAnc2VsZWN0JywgJ3NvdXJjZScsICdzdHlsZScsICdzdW1tYXJ5JywgJ3RhYmxlJywgJ3Rib2R5JywgJ3RkJywgJ3RlbXBsYXRlJywgJ3RleHRhcmVhJywgJ3Rmb290JywgJ3RoJywgJ3RoZWFkJywgJ3RpdGxlJywgJ3RyJywgJ3RyYWNrJywgJ3VsJywgJ3dicicsICd4bXAnXTtcbiAgICB2YXIgaW5TY29wZVRhZ3MgPSBbJ2FwcGxldCcsICdjYXB0aW9uJywgJ2h0bWwnLCAndGFibGUnLCAndGQnLCAndGgnLCAnbWFycXVlZScsICdvYmplY3QnLCAndGVtcGxhdGUnLCAnZm9yZWlnbk9iamVjdCcsICdkZXNjJywgJ3RpdGxlJ107XG4gICAgdmFyIGJ1dHRvblNjb3BlVGFncyA9IGluU2NvcGVUYWdzLmNvbmNhdChbJ2J1dHRvbiddKTtcbiAgICB2YXIgaW1wbGllZEVuZFRhZ3MgPSBbJ2RkJywgJ2R0JywgJ2xpJywgJ29wdGlvbicsICdvcHRncm91cCcsICdwJywgJ3JwJywgJ3J0J107XG4gICAgdmFyIGVtcHR5QW5jZXN0b3JJbmZvID0ge1xuICAgICAgY3VycmVudDogbnVsbCxcbiAgICAgIGZvcm1UYWc6IG51bGwsXG4gICAgICBhVGFnSW5TY29wZTogbnVsbCxcbiAgICAgIGJ1dHRvblRhZ0luU2NvcGU6IG51bGwsXG4gICAgICBub2JyVGFnSW5TY29wZTogbnVsbCxcbiAgICAgIHBUYWdJbkJ1dHRvblNjb3BlOiBudWxsLFxuICAgICAgbGlzdEl0ZW1UYWdBdXRvY2xvc2luZzogbnVsbCxcbiAgICAgIGRsSXRlbVRhZ0F1dG9jbG9zaW5nOiBudWxsXG4gICAgfTtcbiAgICB2YXIgdXBkYXRlZEFuY2VzdG9ySW5mbyA9IGZ1bmN0aW9uKG9sZEluZm8sIHRhZywgaW5zdGFuY2UpIHtcbiAgICAgIHZhciBhbmNlc3RvckluZm8gPSBfYXNzaWduKHt9LCBvbGRJbmZvIHx8IGVtcHR5QW5jZXN0b3JJbmZvKTtcbiAgICAgIHZhciBpbmZvID0ge1xuICAgICAgICB0YWc6IHRhZyxcbiAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlXG4gICAgICB9O1xuICAgICAgaWYgKGluU2NvcGVUYWdzLmluZGV4T2YodGFnKSAhPT0gLTEpIHtcbiAgICAgICAgYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlID0gbnVsbDtcbiAgICAgICAgYW5jZXN0b3JJbmZvLmJ1dHRvblRhZ0luU2NvcGUgPSBudWxsO1xuICAgICAgICBhbmNlc3RvckluZm8ubm9iclRhZ0luU2NvcGUgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGJ1dHRvblNjb3BlVGFncy5pbmRleE9mKHRhZykgIT09IC0xKSB7XG4gICAgICAgIGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZSA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoc3BlY2lhbFRhZ3MuaW5kZXhPZih0YWcpICE9PSAtMSAmJiB0YWcgIT09ICdhZGRyZXNzJyAmJiB0YWcgIT09ICdkaXYnICYmIHRhZyAhPT0gJ3AnKSB7XG4gICAgICAgIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nID0gbnVsbDtcbiAgICAgICAgYW5jZXN0b3JJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGFuY2VzdG9ySW5mby5jdXJyZW50ID0gaW5mbztcbiAgICAgIGlmICh0YWcgPT09ICdmb3JtJykge1xuICAgICAgICBhbmNlc3RvckluZm8uZm9ybVRhZyA9IGluZm87XG4gICAgICB9XG4gICAgICBpZiAodGFnID09PSAnYScpIHtcbiAgICAgICAgYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlID0gaW5mbztcbiAgICAgIH1cbiAgICAgIGlmICh0YWcgPT09ICdidXR0b24nKSB7XG4gICAgICAgIGFuY2VzdG9ySW5mby5idXR0b25UYWdJblNjb3BlID0gaW5mbztcbiAgICAgIH1cbiAgICAgIGlmICh0YWcgPT09ICdub2JyJykge1xuICAgICAgICBhbmNlc3RvckluZm8ubm9iclRhZ0luU2NvcGUgPSBpbmZvO1xuICAgICAgfVxuICAgICAgaWYgKHRhZyA9PT0gJ3AnKSB7XG4gICAgICAgIGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZSA9IGluZm87XG4gICAgICB9XG4gICAgICBpZiAodGFnID09PSAnbGknKSB7XG4gICAgICAgIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nID0gaW5mbztcbiAgICAgIH1cbiAgICAgIGlmICh0YWcgPT09ICdkZCcgfHwgdGFnID09PSAnZHQnKSB7XG4gICAgICAgIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZyA9IGluZm87XG4gICAgICB9XG4gICAgICByZXR1cm4gYW5jZXN0b3JJbmZvO1xuICAgIH07XG4gICAgdmFyIGlzVGFnVmFsaWRXaXRoUGFyZW50ID0gZnVuY3Rpb24odGFnLCBwYXJlbnRUYWcpIHtcbiAgICAgIHN3aXRjaCAocGFyZW50VGFnKSB7XG4gICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ29wdGlvbicgfHwgdGFnID09PSAnb3B0Z3JvdXAnIHx8IHRhZyA9PT0gJyN0ZXh0JztcbiAgICAgICAgY2FzZSAnb3B0Z3JvdXAnOlxuICAgICAgICAgIHJldHVybiB0YWcgPT09ICdvcHRpb24nIHx8IHRhZyA9PT0gJyN0ZXh0JztcbiAgICAgICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgICAgICByZXR1cm4gdGFnID09PSAnI3RleHQnO1xuICAgICAgICBjYXNlICd0cic6XG4gICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ3RoJyB8fCB0YWcgPT09ICd0ZCcgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgICBjYXNlICd0Ym9keSc6XG4gICAgICAgIGNhc2UgJ3RoZWFkJzpcbiAgICAgICAgY2FzZSAndGZvb3QnOlxuICAgICAgICAgIHJldHVybiB0YWcgPT09ICd0cicgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgICBjYXNlICdjb2xncm91cCc6XG4gICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2NvbCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgICBjYXNlICd0YWJsZSc6XG4gICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2NhcHRpb24nIHx8IHRhZyA9PT0gJ2NvbGdyb3VwJyB8fCB0YWcgPT09ICd0Ym9keScgfHwgdGFnID09PSAndGZvb3QnIHx8IHRhZyA9PT0gJ3RoZWFkJyB8fCB0YWcgPT09ICdzdHlsZScgfHwgdGFnID09PSAnc2NyaXB0JyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG4gICAgICAgIGNhc2UgJ2hlYWQnOlxuICAgICAgICAgIHJldHVybiB0YWcgPT09ICdiYXNlJyB8fCB0YWcgPT09ICdiYXNlZm9udCcgfHwgdGFnID09PSAnYmdzb3VuZCcgfHwgdGFnID09PSAnbGluaycgfHwgdGFnID09PSAnbWV0YScgfHwgdGFnID09PSAndGl0bGUnIHx8IHRhZyA9PT0gJ25vc2NyaXB0JyB8fCB0YWcgPT09ICdub2ZyYW1lcycgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgICByZXR1cm4gdGFnID09PSAnaGVhZCcgfHwgdGFnID09PSAnYm9keSc7XG4gICAgICAgIGNhc2UgJyNkb2N1bWVudCc6XG4gICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2h0bWwnO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSAnaDEnOlxuICAgICAgICBjYXNlICdoMic6XG4gICAgICAgIGNhc2UgJ2gzJzpcbiAgICAgICAgY2FzZSAnaDQnOlxuICAgICAgICBjYXNlICdoNSc6XG4gICAgICAgIGNhc2UgJ2g2JzpcbiAgICAgICAgICByZXR1cm4gcGFyZW50VGFnICE9PSAnaDEnICYmIHBhcmVudFRhZyAhPT0gJ2gyJyAmJiBwYXJlbnRUYWcgIT09ICdoMycgJiYgcGFyZW50VGFnICE9PSAnaDQnICYmIHBhcmVudFRhZyAhPT0gJ2g1JyAmJiBwYXJlbnRUYWcgIT09ICdoNic7XG4gICAgICAgIGNhc2UgJ3JwJzpcbiAgICAgICAgY2FzZSAncnQnOlxuICAgICAgICAgIHJldHVybiBpbXBsaWVkRW5kVGFncy5pbmRleE9mKHBhcmVudFRhZykgPT09IC0xO1xuICAgICAgICBjYXNlICdib2R5JzpcbiAgICAgICAgY2FzZSAnY2FwdGlvbic6XG4gICAgICAgIGNhc2UgJ2NvbCc6XG4gICAgICAgIGNhc2UgJ2NvbGdyb3VwJzpcbiAgICAgICAgY2FzZSAnZnJhbWUnOlxuICAgICAgICBjYXNlICdoZWFkJzpcbiAgICAgICAgY2FzZSAnaHRtbCc6XG4gICAgICAgIGNhc2UgJ3Rib2R5JzpcbiAgICAgICAgY2FzZSAndGQnOlxuICAgICAgICBjYXNlICd0Zm9vdCc6XG4gICAgICAgIGNhc2UgJ3RoJzpcbiAgICAgICAgY2FzZSAndGhlYWQnOlxuICAgICAgICBjYXNlICd0cic6XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFRhZyA9PSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICB2YXIgZmluZEludmFsaWRBbmNlc3RvckZvclRhZyA9IGZ1bmN0aW9uKHRhZywgYW5jZXN0b3JJbmZvKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlICdhZGRyZXNzJzpcbiAgICAgICAgY2FzZSAnYXJ0aWNsZSc6XG4gICAgICAgIGNhc2UgJ2FzaWRlJzpcbiAgICAgICAgY2FzZSAnYmxvY2txdW90ZSc6XG4gICAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgIGNhc2UgJ2RldGFpbHMnOlxuICAgICAgICBjYXNlICdkaWFsb2cnOlxuICAgICAgICBjYXNlICdkaXInOlxuICAgICAgICBjYXNlICdkaXYnOlxuICAgICAgICBjYXNlICdkbCc6XG4gICAgICAgIGNhc2UgJ2ZpZWxkc2V0JzpcbiAgICAgICAgY2FzZSAnZmlnY2FwdGlvbic6XG4gICAgICAgIGNhc2UgJ2ZpZ3VyZSc6XG4gICAgICAgIGNhc2UgJ2Zvb3Rlcic6XG4gICAgICAgIGNhc2UgJ2hlYWRlcic6XG4gICAgICAgIGNhc2UgJ2hncm91cCc6XG4gICAgICAgIGNhc2UgJ21haW4nOlxuICAgICAgICBjYXNlICdtZW51JzpcbiAgICAgICAgY2FzZSAnbmF2JzpcbiAgICAgICAgY2FzZSAnb2wnOlxuICAgICAgICBjYXNlICdwJzpcbiAgICAgICAgY2FzZSAnc2VjdGlvbic6XG4gICAgICAgIGNhc2UgJ3N1bW1hcnknOlxuICAgICAgICBjYXNlICd1bCc6XG4gICAgICAgIGNhc2UgJ3ByZSc6XG4gICAgICAgIGNhc2UgJ2xpc3RpbmcnOlxuICAgICAgICBjYXNlICd0YWJsZSc6XG4gICAgICAgIGNhc2UgJ2hyJzpcbiAgICAgICAgY2FzZSAneG1wJzpcbiAgICAgICAgY2FzZSAnaDEnOlxuICAgICAgICBjYXNlICdoMic6XG4gICAgICAgIGNhc2UgJ2gzJzpcbiAgICAgICAgY2FzZSAnaDQnOlxuICAgICAgICBjYXNlICdoNSc6XG4gICAgICAgIGNhc2UgJ2g2JzpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlO1xuICAgICAgICBjYXNlICdmb3JtJzpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmZvcm1UYWcgfHwgYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlO1xuICAgICAgICBjYXNlICdsaSc6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nO1xuICAgICAgICBjYXNlICdkZCc6XG4gICAgICAgIGNhc2UgJ2R0JzpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nO1xuICAgICAgICBjYXNlICdidXR0b24nOlxuICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uYnV0dG9uVGFnSW5TY29wZTtcbiAgICAgICAgY2FzZSAnYSc6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5hVGFnSW5TY29wZTtcbiAgICAgICAgY2FzZSAnbm9icic6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5ub2JyVGFnSW5TY29wZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgdmFyIGZpbmRPd25lclN0YWNrID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHN0YWNrID0gW107XG4gICAgICBkbyB7XG4gICAgICAgIHN0YWNrLnB1c2goaW5zdGFuY2UpO1xuICAgICAgfSB3aGlsZSAoaW5zdGFuY2UgPSBpbnN0YW5jZS5fY3VycmVudEVsZW1lbnQuX293bmVyKTtcbiAgICAgIHN0YWNrLnJldmVyc2UoKTtcbiAgICAgIHJldHVybiBzdGFjaztcbiAgICB9O1xuICAgIHZhciBkaWRXYXJuID0ge307XG4gICAgdmFsaWRhdGVET01OZXN0aW5nID0gZnVuY3Rpb24oY2hpbGRUYWcsIGNoaWxkSW5zdGFuY2UsIGFuY2VzdG9ySW5mbykge1xuICAgICAgYW5jZXN0b3JJbmZvID0gYW5jZXN0b3JJbmZvIHx8IGVtcHR5QW5jZXN0b3JJbmZvO1xuICAgICAgdmFyIHBhcmVudEluZm8gPSBhbmNlc3RvckluZm8uY3VycmVudDtcbiAgICAgIHZhciBwYXJlbnRUYWcgPSBwYXJlbnRJbmZvICYmIHBhcmVudEluZm8udGFnO1xuICAgICAgdmFyIGludmFsaWRQYXJlbnQgPSBpc1RhZ1ZhbGlkV2l0aFBhcmVudChjaGlsZFRhZywgcGFyZW50VGFnKSA/IG51bGwgOiBwYXJlbnRJbmZvO1xuICAgICAgdmFyIGludmFsaWRBbmNlc3RvciA9IGludmFsaWRQYXJlbnQgPyBudWxsIDogZmluZEludmFsaWRBbmNlc3RvckZvclRhZyhjaGlsZFRhZywgYW5jZXN0b3JJbmZvKTtcbiAgICAgIHZhciBwcm9ibGVtYXRpYyA9IGludmFsaWRQYXJlbnQgfHwgaW52YWxpZEFuY2VzdG9yO1xuICAgICAgaWYgKHByb2JsZW1hdGljKSB7XG4gICAgICAgIHZhciBhbmNlc3RvclRhZyA9IHByb2JsZW1hdGljLnRhZztcbiAgICAgICAgdmFyIGFuY2VzdG9ySW5zdGFuY2UgPSBwcm9ibGVtYXRpYy5pbnN0YW5jZTtcbiAgICAgICAgdmFyIGNoaWxkT3duZXIgPSBjaGlsZEluc3RhbmNlICYmIGNoaWxkSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgICAgdmFyIGFuY2VzdG9yT3duZXIgPSBhbmNlc3Rvckluc3RhbmNlICYmIGFuY2VzdG9ySW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgICAgdmFyIGNoaWxkT3duZXJzID0gZmluZE93bmVyU3RhY2soY2hpbGRPd25lcik7XG4gICAgICAgIHZhciBhbmNlc3Rvck93bmVycyA9IGZpbmRPd25lclN0YWNrKGFuY2VzdG9yT3duZXIpO1xuICAgICAgICB2YXIgbWluU3RhY2tMZW4gPSBNYXRoLm1pbihjaGlsZE93bmVycy5sZW5ndGgsIGFuY2VzdG9yT3duZXJzLmxlbmd0aCk7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgZGVlcGVzdENvbW1vbiA9IC0xO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbWluU3RhY2tMZW47IGkrKykge1xuICAgICAgICAgIGlmIChjaGlsZE93bmVyc1tpXSA9PT0gYW5jZXN0b3JPd25lcnNbaV0pIHtcbiAgICAgICAgICAgIGRlZXBlc3RDb21tb24gPSBpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIFVOS05PV04gPSAnKHVua25vd24pJztcbiAgICAgICAgdmFyIGNoaWxkT3duZXJOYW1lcyA9IGNoaWxkT3duZXJzLnNsaWNlKGRlZXBlc3RDb21tb24gKyAxKS5tYXAoZnVuY3Rpb24oaW5zdCkge1xuICAgICAgICAgIHJldHVybiBpbnN0LmdldE5hbWUoKSB8fCBVTktOT1dOO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGFuY2VzdG9yT3duZXJOYW1lcyA9IGFuY2VzdG9yT3duZXJzLnNsaWNlKGRlZXBlc3RDb21tb24gKyAxKS5tYXAoZnVuY3Rpb24oaW5zdCkge1xuICAgICAgICAgIHJldHVybiBpbnN0LmdldE5hbWUoKSB8fCBVTktOT1dOO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG93bmVySW5mbyA9IFtdLmNvbmNhdChkZWVwZXN0Q29tbW9uICE9PSAtMSA/IGNoaWxkT3duZXJzW2RlZXBlc3RDb21tb25dLmdldE5hbWUoKSB8fCBVTktOT1dOIDogW10sIGFuY2VzdG9yT3duZXJOYW1lcywgYW5jZXN0b3JUYWcsIGludmFsaWRBbmNlc3RvciA/IFsnLi4uJ10gOiBbXSwgY2hpbGRPd25lck5hbWVzLCBjaGlsZFRhZykuam9pbignID4gJyk7XG4gICAgICAgIHZhciB3YXJuS2V5ID0gISFpbnZhbGlkUGFyZW50ICsgJ3wnICsgY2hpbGRUYWcgKyAnfCcgKyBhbmNlc3RvclRhZyArICd8JyArIG93bmVySW5mbztcbiAgICAgICAgaWYgKGRpZFdhcm5bd2FybktleV0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGlkV2Fyblt3YXJuS2V5XSA9IHRydWU7XG4gICAgICAgIHZhciB0YWdEaXNwbGF5TmFtZSA9IGNoaWxkVGFnO1xuICAgICAgICBpZiAoY2hpbGRUYWcgIT09ICcjdGV4dCcpIHtcbiAgICAgICAgICB0YWdEaXNwbGF5TmFtZSA9ICc8JyArIGNoaWxkVGFnICsgJz4nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnZhbGlkUGFyZW50KSB7XG4gICAgICAgICAgdmFyIGluZm8gPSAnJztcbiAgICAgICAgICBpZiAoYW5jZXN0b3JUYWcgPT09ICd0YWJsZScgJiYgY2hpbGRUYWcgPT09ICd0cicpIHtcbiAgICAgICAgICAgIGluZm8gKz0gJyBBZGQgYSA8dGJvZHk+IHRvIHlvdXIgY29kZSB0byBtYXRjaCB0aGUgRE9NIHRyZWUgZ2VuZXJhdGVkIGJ5ICcgKyAndGhlIGJyb3dzZXIuJztcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICd2YWxpZGF0ZURPTU5lc3RpbmcoLi4uKTogJXMgY2Fubm90IGFwcGVhciBhcyBhIGNoaWxkIG9mIDwlcz4uICcgKyAnU2VlICVzLiVzJywgdGFnRGlzcGxheU5hbWUsIGFuY2VzdG9yVGFnLCBvd25lckluZm8sIGluZm8pIDogdm9pZCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAndmFsaWRhdGVET01OZXN0aW5nKC4uLik6ICVzIGNhbm5vdCBhcHBlYXIgYXMgYSBkZXNjZW5kYW50IG9mICcgKyAnPCVzPi4gU2VlICVzLicsIHRhZ0Rpc3BsYXlOYW1lLCBhbmNlc3RvclRhZywgb3duZXJJbmZvKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdmFsaWRhdGVET01OZXN0aW5nLnVwZGF0ZWRBbmNlc3RvckluZm8gPSB1cGRhdGVkQW5jZXN0b3JJbmZvO1xuICAgIHZhbGlkYXRlRE9NTmVzdGluZy5pc1RhZ1ZhbGlkSW5Db250ZXh0ID0gZnVuY3Rpb24odGFnLCBhbmNlc3RvckluZm8pIHtcbiAgICAgIGFuY2VzdG9ySW5mbyA9IGFuY2VzdG9ySW5mbyB8fCBlbXB0eUFuY2VzdG9ySW5mbztcbiAgICAgIHZhciBwYXJlbnRJbmZvID0gYW5jZXN0b3JJbmZvLmN1cnJlbnQ7XG4gICAgICB2YXIgcGFyZW50VGFnID0gcGFyZW50SW5mbyAmJiBwYXJlbnRJbmZvLnRhZztcbiAgICAgIHJldHVybiBpc1RhZ1ZhbGlkV2l0aFBhcmVudCh0YWcsIHBhcmVudFRhZykgJiYgIWZpbmRJbnZhbGlkQW5jZXN0b3JGb3JUYWcodGFnLCBhbmNlc3RvckluZm8pO1xuICAgIH07XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSB2YWxpZGF0ZURPTU5lc3Rpbmc7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciB2YWxpZGF0ZURPTU5lc3RpbmcgPSByZXF1aXJlKCcuL3ZhbGlkYXRlRE9NTmVzdGluZycpO1xuICB2YXIgRE9DX05PREVfVFlQRSA9IDk7XG4gIGZ1bmN0aW9uIFJlYWN0RE9NQ29udGFpbmVySW5mbyh0b3BMZXZlbFdyYXBwZXIsIG5vZGUpIHtcbiAgICB2YXIgaW5mbyA9IHtcbiAgICAgIF90b3BMZXZlbFdyYXBwZXI6IHRvcExldmVsV3JhcHBlcixcbiAgICAgIF9pZENvdW50ZXI6IDEsXG4gICAgICBfb3duZXJEb2N1bWVudDogbm9kZSA/IG5vZGUubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUgPyBub2RlIDogbm9kZS5vd25lckRvY3VtZW50IDogbnVsbCxcbiAgICAgIF9ub2RlOiBub2RlLFxuICAgICAgX3RhZzogbm9kZSA/IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA6IG51bGwsXG4gICAgICBfbmFtZXNwYWNlVVJJOiBub2RlID8gbm9kZS5uYW1lc3BhY2VVUkkgOiBudWxsXG4gICAgfTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaW5mby5fYW5jZXN0b3JJbmZvID0gbm9kZSA/IHZhbGlkYXRlRE9NTmVzdGluZy51cGRhdGVkQW5jZXN0b3JJbmZvKG51bGwsIGluZm8uX3RhZywgbnVsbCkgOiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gaW5mbztcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NQ29udGFpbmVySW5mbztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RET01GZWF0dXJlRmxhZ3NcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdERPTUZlYXR1cmVGbGFncyA9IHtcbiAgdXNlQ3JlYXRlRWxlbWVudDogdHJ1ZVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUZlYXR1cmVGbGFnczsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgYWRsZXIzMlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIE1PRCA9IDY1NTIxO1xuXG4vLyBhZGxlcjMyIGlzIG5vdCBjcnlwdG9ncmFwaGljYWxseSBzdHJvbmcsIGFuZCBpcyBvbmx5IHVzZWQgdG8gc2FuaXR5IGNoZWNrIHRoYXRcbi8vIG1hcmt1cCBnZW5lcmF0ZWQgb24gdGhlIHNlcnZlciBtYXRjaGVzIHRoZSBtYXJrdXAgZ2VuZXJhdGVkIG9uIHRoZSBjbGllbnQuXG4vLyBUaGlzIGltcGxlbWVudGF0aW9uIChhIG1vZGlmaWVkIHZlcnNpb24gb2YgdGhlIFNoZWV0SlMgdmVyc2lvbikgaGFzIGJlZW4gb3B0aW1pemVkXG4vLyBmb3Igb3VyIHVzZSBjYXNlLCBhdCB0aGUgZXhwZW5zZSBvZiBjb25mb3JtaW5nIHRvIHRoZSBhZGxlcjMyIHNwZWNpZmljYXRpb25cbi8vIGZvciBub24tYXNjaWkgaW5wdXRzLlxuZnVuY3Rpb24gYWRsZXIzMihkYXRhKSB7XG4gIHZhciBhID0gMTtcbiAgdmFyIGIgPSAwO1xuICB2YXIgaSA9IDA7XG4gIHZhciBsID0gZGF0YS5sZW5ndGg7XG4gIHZhciBtID0gbCAmIH4weDM7XG4gIHdoaWxlIChpIDwgbSkge1xuICAgIHZhciBuID0gTWF0aC5taW4oaSArIDQwOTYsIG0pO1xuICAgIGZvciAoOyBpIDwgbjsgaSArPSA0KSB7XG4gICAgICBiICs9IChhICs9IGRhdGEuY2hhckNvZGVBdChpKSkgKyAoYSArPSBkYXRhLmNoYXJDb2RlQXQoaSArIDEpKSArIChhICs9IGRhdGEuY2hhckNvZGVBdChpICsgMikpICsgKGEgKz0gZGF0YS5jaGFyQ29kZUF0KGkgKyAzKSk7XG4gICAgfVxuICAgIGEgJT0gTU9EO1xuICAgIGIgJT0gTU9EO1xuICB9XG4gIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgYiArPSBhICs9IGRhdGEuY2hhckNvZGVBdChpKTtcbiAgfVxuICBhICU9IE1PRDtcbiAgYiAlPSBNT0Q7XG4gIHJldHVybiBhIHwgYiA8PCAxNjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhZGxlcjMyOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIGFkbGVyMzIgPSByZXF1aXJlKCcuL2FkbGVyMzInKTtcbnZhciBUQUdfRU5EID0gL1xcLz8+LztcbnZhciBDT01NRU5UX1NUQVJUID0gL148XFwhXFwtXFwtLztcbnZhciBSZWFjdE1hcmt1cENoZWNrc3VtID0ge1xuICBDSEVDS1NVTV9BVFRSX05BTUU6ICdkYXRhLXJlYWN0LWNoZWNrc3VtJyxcbiAgYWRkQ2hlY2tzdW1Ub01hcmt1cDogZnVuY3Rpb24obWFya3VwKSB7XG4gICAgdmFyIGNoZWNrc3VtID0gYWRsZXIzMihtYXJrdXApO1xuICAgIGlmIChDT01NRU5UX1NUQVJULnRlc3QobWFya3VwKSkge1xuICAgICAgcmV0dXJuIG1hcmt1cDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1hcmt1cC5yZXBsYWNlKFRBR19FTkQsICcgJyArIFJlYWN0TWFya3VwQ2hlY2tzdW0uQ0hFQ0tTVU1fQVRUUl9OQU1FICsgJz1cIicgKyBjaGVja3N1bSArICdcIiQmJyk7XG4gICAgfVxuICB9LFxuICBjYW5SZXVzZU1hcmt1cDogZnVuY3Rpb24obWFya3VwLCBlbGVtZW50KSB7XG4gICAgdmFyIGV4aXN0aW5nQ2hlY2tzdW0gPSBlbGVtZW50LmdldEF0dHJpYnV0ZShSZWFjdE1hcmt1cENoZWNrc3VtLkNIRUNLU1VNX0FUVFJfTkFNRSk7XG4gICAgZXhpc3RpbmdDaGVja3N1bSA9IGV4aXN0aW5nQ2hlY2tzdW0gJiYgcGFyc2VJbnQoZXhpc3RpbmdDaGVja3N1bSwgMTApO1xuICAgIHZhciBtYXJrdXBDaGVja3N1bSA9IGFkbGVyMzIobWFya3VwKTtcbiAgICByZXR1cm4gbWFya3VwQ2hlY2tzdW0gPT09IGV4aXN0aW5nQ2hlY2tzdW07XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0TWFya3VwQ2hlY2tzdW07XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgaW5qZWN0ZWQgPSBmYWxzZTtcbiAgdmFyIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQgPSB7XG4gICAgdW5tb3VudElERnJvbUVudmlyb25tZW50OiBudWxsLFxuICAgIHJlcGxhY2VOb2RlV2l0aE1hcmt1cDogbnVsbCxcbiAgICBwcm9jZXNzQ2hpbGRyZW5VcGRhdGVzOiBudWxsLFxuICAgIGluamVjdGlvbjoge2luamVjdEVudmlyb25tZW50OiBmdW5jdGlvbihlbnZpcm9ubWVudCkge1xuICAgICAgICAhIWluamVjdGVkID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50OiBpbmplY3RFbnZpcm9ubWVudCgpIGNhbiBvbmx5IGJlIGNhbGxlZCBvbmNlLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudC51bm1vdW50SURGcm9tRW52aXJvbm1lbnQgPSBlbnZpcm9ubWVudC51bm1vdW50SURGcm9tRW52aXJvbm1lbnQ7XG4gICAgICAgIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQucmVwbGFjZU5vZGVXaXRoTWFya3VwID0gZW52aXJvbm1lbnQucmVwbGFjZU5vZGVXaXRoTWFya3VwO1xuICAgICAgICBSZWFjdENvbXBvbmVudEVudmlyb25tZW50LnByb2Nlc3NDaGlsZHJlblVwZGF0ZXMgPSBlbnZpcm9ubWVudC5wcm9jZXNzQ2hpbGRyZW5VcGRhdGVzO1xuICAgICAgICBpbmplY3RlZCA9IHRydWU7XG4gICAgICB9fVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQ7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBjYXVnaHRFcnJvciA9IG51bGw7XG4gIGZ1bmN0aW9uIGludm9rZUd1YXJkZWRDYWxsYmFjayhuYW1lLCBmdW5jLCBhLCBiKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jKGEsIGIpO1xuICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgIGlmIChjYXVnaHRFcnJvciA9PT0gbnVsbCkge1xuICAgICAgICBjYXVnaHRFcnJvciA9IHg7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuICB2YXIgUmVhY3RFcnJvclV0aWxzID0ge1xuICAgIGludm9rZUd1YXJkZWRDYWxsYmFjazogaW52b2tlR3VhcmRlZENhbGxiYWNrLFxuICAgIGludm9rZUd1YXJkZWRDYWxsYmFja1dpdGhDYXRjaDogaW52b2tlR3VhcmRlZENhbGxiYWNrLFxuICAgIHJldGhyb3dDYXVnaHRFcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoY2F1Z2h0RXJyb3IpIHtcbiAgICAgICAgdmFyIGVycm9yID0gY2F1Z2h0RXJyb3I7XG4gICAgICAgIGNhdWdodEVycm9yID0gbnVsbDtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRpc3BhdGNoRXZlbnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciBmYWtlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3JlYWN0Jyk7XG4gICAgICBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrID0gZnVuY3Rpb24obmFtZSwgZnVuYywgYSwgYikge1xuICAgICAgICB2YXIgYm91bmRGdW5jID0gZnVuYy5iaW5kKG51bGwsIGEsIGIpO1xuICAgICAgICB2YXIgZXZ0VHlwZSA9ICdyZWFjdC0nICsgbmFtZTtcbiAgICAgICAgZmFrZU5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBib3VuZEZ1bmMsIGZhbHNlKTtcbiAgICAgICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICBldnQuaW5pdEV2ZW50KGV2dFR5cGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGZha2VOb2RlLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgICAgZmFrZU5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBib3VuZEZ1bmMsIGZhbHNlKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RFcnJvclV0aWxzO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgUmVhY3ROb2RlVHlwZXMgPSB7XG4gICAgTkFUSVZFOiAwLFxuICAgIENPTVBPU0lURTogMSxcbiAgICBFTVBUWTogMixcbiAgICBnZXRUeXBlOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICBpZiAobm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gUmVhY3ROb2RlVHlwZXMuRU1QVFk7XG4gICAgICB9IGVsc2UgaWYgKFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgICBpZiAodHlwZW9mIG5vZGUudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBSZWFjdE5vZGVUeXBlcy5DT01QT1NJVEU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFJlYWN0Tm9kZVR5cGVzLk5BVElWRTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIWZhbHNlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1VuZXhwZWN0ZWQgbm9kZTogJXMnLCBub2RlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Tm9kZVR5cGVzO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdEluc3RhbmNlTWFwXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIGBSZWFjdEluc3RhbmNlTWFwYCBtYWludGFpbnMgYSBtYXBwaW5nIGZyb20gYSBwdWJsaWMgZmFjaW5nIHN0YXRlZnVsXG4gKiBpbnN0YW5jZSAoa2V5KSBhbmQgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uICh2YWx1ZSkuIFRoaXMgYWxsb3dzIHB1YmxpY1xuICogbWV0aG9kcyB0byBhY2NlcHQgdGhlIHVzZXIgZmFjaW5nIGluc3RhbmNlIGFzIGFuIGFyZ3VtZW50IGFuZCBtYXAgdGhlbSBiYWNrXG4gKiB0byBpbnRlcm5hbCBtZXRob2RzLlxuICovXG5cbi8vIFRPRE86IFJlcGxhY2UgdGhpcyB3aXRoIEVTNjogdmFyIFJlYWN0SW5zdGFuY2VNYXAgPSBuZXcgTWFwKCk7XG5cbnZhciBSZWFjdEluc3RhbmNlTWFwID0ge1xuXG4gIC8qKlxuICAgKiBUaGlzIEFQSSBzaG91bGQgYmUgY2FsbGVkIGBkZWxldGVgIGJ1dCB3ZSdkIGhhdmUgdG8gbWFrZSBzdXJlIHRvIGFsd2F5c1xuICAgKiB0cmFuc2Zvcm0gdGhlc2UgdG8gc3RyaW5ncyBmb3IgSUUgc3VwcG9ydC4gV2hlbiB0aGlzIHRyYW5zZm9ybSBpcyBmdWxseVxuICAgKiBzdXBwb3J0ZWQgd2UgY2FuIHJlbmFtZSBpdC5cbiAgICovXG4gIHJlbW92ZTogZnVuY3Rpb24gKGtleSkge1xuICAgIGtleS5fcmVhY3RJbnRlcm5hbEluc3RhbmNlID0gdW5kZWZpbmVkO1xuICB9LFxuXG4gIGdldDogZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBrZXkuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZTtcbiAgfSxcblxuICBoYXM6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4ga2V5Ll9yZWFjdEludGVybmFsSW5zdGFuY2UgIT09IHVuZGVmaW5lZDtcbiAgfSxcblxuICBzZXQ6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAga2V5Ll9yZWFjdEludGVybmFsSW5zdGFuY2UgPSB2YWx1ZTtcbiAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0SW5zdGFuY2VNYXA7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgUG9vbGVkQ2xhc3MgPSByZXF1aXJlKCcuL1Bvb2xlZENsYXNzJyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgZnVuY3Rpb24gQ2FsbGJhY2tRdWV1ZSgpIHtcbiAgICB0aGlzLl9jYWxsYmFja3MgPSBudWxsO1xuICAgIHRoaXMuX2NvbnRleHRzID0gbnVsbDtcbiAgfVxuICBfYXNzaWduKENhbGxiYWNrUXVldWUucHJvdG90eXBlLCB7XG4gICAgZW5xdWV1ZTogZnVuY3Rpb24oY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCBbXTtcbiAgICAgIHRoaXMuX2NvbnRleHRzID0gdGhpcy5fY29udGV4dHMgfHwgW107XG4gICAgICB0aGlzLl9jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICB0aGlzLl9jb250ZXh0cy5wdXNoKGNvbnRleHQpO1xuICAgIH0sXG4gICAgbm90aWZ5QWxsOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3M7XG4gICAgICB2YXIgY29udGV4dHMgPSB0aGlzLl9jb250ZXh0cztcbiAgICAgIGlmIChjYWxsYmFja3MpIHtcbiAgICAgICAgIShjYWxsYmFja3MubGVuZ3RoID09PSBjb250ZXh0cy5sZW5ndGgpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ01pc21hdGNoZWQgbGlzdCBvZiBjb250ZXh0cyBpbiBjYWxsYmFjayBxdWV1ZScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29udGV4dHMgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNhbGxiYWNrc1tpXS5jYWxsKGNvbnRleHRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICAgICAgY29udGV4dHMubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNoZWNrcG9pbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrcyA/IHRoaXMuX2NhbGxiYWNrcy5sZW5ndGggOiAwO1xuICAgIH0sXG4gICAgcm9sbGJhY2s6IGZ1bmN0aW9uKGxlbikge1xuICAgICAgaWYgKHRoaXMuX2NhbGxiYWNrcykge1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MubGVuZ3RoID0gbGVuO1xuICAgICAgICB0aGlzLl9jb250ZXh0cy5sZW5ndGggPSBsZW47XG4gICAgICB9XG4gICAgfSxcbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9jYWxsYmFja3MgPSBudWxsO1xuICAgICAgdGhpcy5fY29udGV4dHMgPSBudWxsO1xuICAgIH0sXG4gICAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICB9KTtcbiAgUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKENhbGxiYWNrUXVldWUpO1xuICBtb2R1bGUuZXhwb3J0cyA9IENhbGxiYWNrUXVldWU7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RmVhdHVyZUZsYWdzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RGZWF0dXJlRmxhZ3MgPSB7XG4gIC8vIFdoZW4gdHJ1ZSwgY2FsbCBjb25zb2xlLnRpbWUoKSBiZWZvcmUgYW5kIC50aW1lRW5kKCkgYWZ0ZXIgZWFjaCB0b3AtbGV2ZWxcbiAgLy8gcmVuZGVyIChib3RoIGluaXRpYWwgcmVuZGVycyBhbmQgdXBkYXRlcykuIFVzZWZ1bCB3aGVuIGxvb2tpbmcgYXQgcHJvZC1tb2RlXG4gIC8vIHRpbWVsaW5lIHByb2ZpbGVzIGluIENocm9tZSwgZm9yIGV4YW1wbGUuXG4gIGxvZ1RvcExldmVsUmVuZGVyczogZmFsc2Vcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RGZWF0dXJlRmxhZ3M7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgdmFyIFJlYWN0T3duZXIgPSB7XG4gICAgaXNWYWxpZE93bmVyOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHJldHVybiAhIShvYmplY3QgJiYgdHlwZW9mIG9iamVjdC5hdHRhY2hSZWYgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iamVjdC5kZXRhY2hSZWYgPT09ICdmdW5jdGlvbicpO1xuICAgIH0sXG4gICAgYWRkQ29tcG9uZW50QXNSZWZUbzogZnVuY3Rpb24oY29tcG9uZW50LCByZWYsIG93bmVyKSB7XG4gICAgICAhUmVhY3RPd25lci5pc1ZhbGlkT3duZXIob3duZXIpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2FkZENvbXBvbmVudEFzUmVmVG8oLi4uKTogT25seSBhIFJlYWN0T3duZXIgY2FuIGhhdmUgcmVmcy4gWW91IG1pZ2h0ICcgKyAnYmUgYWRkaW5nIGEgcmVmIHRvIGEgY29tcG9uZW50IHRoYXQgd2FzIG5vdCBjcmVhdGVkIGluc2lkZSBhIGNvbXBvbmVudFxcJ3MgJyArICdgcmVuZGVyYCBtZXRob2QsIG9yIHlvdSBoYXZlIG11bHRpcGxlIGNvcGllcyBvZiBSZWFjdCBsb2FkZWQgJyArICcoZGV0YWlsczogaHR0cHM6Ly9mYi5tZS9yZWFjdC1yZWZzLW11c3QtaGF2ZS1vd25lcikuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgb3duZXIuYXR0YWNoUmVmKHJlZiwgY29tcG9uZW50KTtcbiAgICB9LFxuICAgIHJlbW92ZUNvbXBvbmVudEFzUmVmRnJvbTogZnVuY3Rpb24oY29tcG9uZW50LCByZWYsIG93bmVyKSB7XG4gICAgICAhUmVhY3RPd25lci5pc1ZhbGlkT3duZXIob3duZXIpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3JlbW92ZUNvbXBvbmVudEFzUmVmRnJvbSguLi4pOiBPbmx5IGEgUmVhY3RPd25lciBjYW4gaGF2ZSByZWZzLiBZb3UgbWlnaHQgJyArICdiZSByZW1vdmluZyBhIHJlZiB0byBhIGNvbXBvbmVudCB0aGF0IHdhcyBub3QgY3JlYXRlZCBpbnNpZGUgYSBjb21wb25lbnRcXCdzICcgKyAnYHJlbmRlcmAgbWV0aG9kLCBvciB5b3UgaGF2ZSBtdWx0aXBsZSBjb3BpZXMgb2YgUmVhY3QgbG9hZGVkICcgKyAnKGRldGFpbHM6IGh0dHBzOi8vZmIubWUvcmVhY3QtcmVmcy1tdXN0LWhhdmUtb3duZXIpLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHZhciBvd25lclB1YmxpY0luc3RhbmNlID0gb3duZXIuZ2V0UHVibGljSW5zdGFuY2UoKTtcbiAgICAgIGlmIChvd25lclB1YmxpY0luc3RhbmNlICYmIG93bmVyUHVibGljSW5zdGFuY2UucmVmc1tyZWZdID09PSBjb21wb25lbnQuZ2V0UHVibGljSW5zdGFuY2UoKSkge1xuICAgICAgICBvd25lci5kZXRhY2hSZWYocmVmKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RPd25lcjtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0T3duZXIgPSByZXF1aXJlKCcuL1JlYWN0T3duZXInKTtcbiAgdmFyIFJlYWN0UmVmID0ge307XG4gIGZ1bmN0aW9uIGF0dGFjaFJlZihyZWYsIGNvbXBvbmVudCwgb3duZXIpIHtcbiAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVmKGNvbXBvbmVudC5nZXRQdWJsaWNJbnN0YW5jZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgUmVhY3RPd25lci5hZGRDb21wb25lbnRBc1JlZlRvKGNvbXBvbmVudCwgcmVmLCBvd25lcik7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGRldGFjaFJlZihyZWYsIGNvbXBvbmVudCwgb3duZXIpIHtcbiAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVmKG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBSZWFjdE93bmVyLnJlbW92ZUNvbXBvbmVudEFzUmVmRnJvbShjb21wb25lbnQsIHJlZiwgb3duZXIpO1xuICAgIH1cbiAgfVxuICBSZWFjdFJlZi5hdHRhY2hSZWZzID0gZnVuY3Rpb24oaW5zdGFuY2UsIGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcmVmID0gZWxlbWVudC5yZWY7XG4gICAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICBhdHRhY2hSZWYocmVmLCBpbnN0YW5jZSwgZWxlbWVudC5fb3duZXIpO1xuICAgIH1cbiAgfTtcbiAgUmVhY3RSZWYuc2hvdWxkVXBkYXRlUmVmcyA9IGZ1bmN0aW9uKHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCkge1xuICAgIHZhciBwcmV2RW1wdHkgPSBwcmV2RWxlbWVudCA9PT0gbnVsbCB8fCBwcmV2RWxlbWVudCA9PT0gZmFsc2U7XG4gICAgdmFyIG5leHRFbXB0eSA9IG5leHRFbGVtZW50ID09PSBudWxsIHx8IG5leHRFbGVtZW50ID09PSBmYWxzZTtcbiAgICByZXR1cm4gKHByZXZFbXB0eSB8fCBuZXh0RW1wdHkgfHwgbmV4dEVsZW1lbnQuX293bmVyICE9PSBwcmV2RWxlbWVudC5fb3duZXIgfHwgbmV4dEVsZW1lbnQucmVmICE9PSBwcmV2RWxlbWVudC5yZWYpO1xuICB9O1xuICBSZWFjdFJlZi5kZXRhY2hSZWZzID0gZnVuY3Rpb24oaW5zdGFuY2UsIGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcmVmID0gZWxlbWVudC5yZWY7XG4gICAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICBkZXRhY2hSZWYocmVmLCBpbnN0YW5jZSwgZWxlbWVudC5fb3duZXIpO1xuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdFJlZjtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0UmVmID0gcmVxdWlyZSgnLi9SZWFjdFJlZicpO1xuICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSByZXF1aXJlKCcuL1JlYWN0SW5zdHJ1bWVudGF0aW9uJyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgZnVuY3Rpb24gYXR0YWNoUmVmcygpIHtcbiAgICBSZWFjdFJlZi5hdHRhY2hSZWZzKHRoaXMsIHRoaXMuX2N1cnJlbnRFbGVtZW50KTtcbiAgfVxuICB2YXIgUmVhY3RSZWNvbmNpbGVyID0ge1xuICAgIG1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCB0cmFuc2FjdGlvbiwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCBjb250ZXh0KSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luUmVjb25jaWxlclRpbWVyKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQsICdtb3VudENvbXBvbmVudCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgbWFya3VwID0gaW50ZXJuYWxJbnN0YW5jZS5tb3VudENvbXBvbmVudCh0cmFuc2FjdGlvbiwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCBjb250ZXh0KTtcbiAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9jdXJyZW50RWxlbWVudCAmJiBpbnRlcm5hbEluc3RhbmNlLl9jdXJyZW50RWxlbWVudC5yZWYgIT0gbnVsbCkge1xuICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKGF0dGFjaFJlZnMsIGludGVybmFsSW5zdGFuY2UpO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25FbmRSZWNvbmNpbGVyVGltZXIoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCwgJ21vdW50Q29tcG9uZW50Jyk7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTW91bnRDb21wb25lbnQoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXJrdXA7XG4gICAgfSxcbiAgICBnZXROYXRpdmVOb2RlOiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gaW50ZXJuYWxJbnN0YW5jZS5nZXROYXRpdmVOb2RlKCk7XG4gICAgfSxcbiAgICB1bm1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCBzYWZlbHkpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5SZWNvbmNpbGVyVGltZXIoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCwgJ3VubW91bnRDb21wb25lbnQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgUmVhY3RSZWYuZGV0YWNoUmVmcyhpbnRlcm5hbEluc3RhbmNlLCBpbnRlcm5hbEluc3RhbmNlLl9jdXJyZW50RWxlbWVudCk7XG4gICAgICBpbnRlcm5hbEluc3RhbmNlLnVubW91bnRDb21wb25lbnQoc2FmZWx5KTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kUmVjb25jaWxlclRpbWVyKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQsICd1bm1vdW50Q29tcG9uZW50Jyk7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uVW5tb3VudENvbXBvbmVudChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgcmVjZWl2ZUNvbXBvbmVudDogZnVuY3Rpb24oaW50ZXJuYWxJbnN0YW5jZSwgbmV4dEVsZW1lbnQsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcHJldkVsZW1lbnQgPSBpbnRlcm5hbEluc3RhbmNlLl9jdXJyZW50RWxlbWVudDtcbiAgICAgIGlmIChuZXh0RWxlbWVudCA9PT0gcHJldkVsZW1lbnQgJiYgY29udGV4dCA9PT0gaW50ZXJuYWxJbnN0YW5jZS5fY29udGV4dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luUmVjb25jaWxlclRpbWVyKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQsICdyZWNlaXZlQ29tcG9uZW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciByZWZzQ2hhbmdlZCA9IFJlYWN0UmVmLnNob3VsZFVwZGF0ZVJlZnMocHJldkVsZW1lbnQsIG5leHRFbGVtZW50KTtcbiAgICAgIGlmIChyZWZzQ2hhbmdlZCkge1xuICAgICAgICBSZWFjdFJlZi5kZXRhY2hSZWZzKGludGVybmFsSW5zdGFuY2UsIHByZXZFbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGludGVybmFsSW5zdGFuY2UucmVjZWl2ZUNvbXBvbmVudChuZXh0RWxlbWVudCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgaWYgKHJlZnNDaGFuZ2VkICYmIGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50ICYmIGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50LnJlZiAhPSBudWxsKSB7XG4gICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoYXR0YWNoUmVmcywgaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZFJlY29uY2lsZXJUaW1lcihpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lELCAncmVjZWl2ZUNvbXBvbmVudCcpO1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblVwZGF0ZUNvbXBvbmVudChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgcGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCB0cmFuc2FjdGlvbiwgdXBkYXRlQmF0Y2hOdW1iZXIpIHtcbiAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl91cGRhdGVCYXRjaE51bWJlciAhPT0gdXBkYXRlQmF0Y2hOdW1iZXIpIHtcbiAgICAgICAgIShpbnRlcm5hbEluc3RhbmNlLl91cGRhdGVCYXRjaE51bWJlciA9PSBudWxsIHx8IGludGVybmFsSW5zdGFuY2UuX3VwZGF0ZUJhdGNoTnVtYmVyID09PSB1cGRhdGVCYXRjaE51bWJlciArIDEpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3BlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeTogVW5leHBlY3RlZCBiYXRjaCBudW1iZXIgKGN1cnJlbnQgJXMsICcgKyAncGVuZGluZyAlcyknLCB1cGRhdGVCYXRjaE51bWJlciwgaW50ZXJuYWxJbnN0YW5jZS5fdXBkYXRlQmF0Y2hOdW1iZXIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpblJlY29uY2lsZXJUaW1lcihpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lELCAncGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGludGVybmFsSW5zdGFuY2UucGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5KHRyYW5zYWN0aW9uKTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kUmVjb25jaWxlclRpbWVyKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQsICdwZXJmb3JtVXBkYXRlSWZOZWNlc3NhcnknKTtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25VcGRhdGVDb21wb25lbnQoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RSZWNvbmNpbGVyO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBNaXhpbiA9IHtcbiAgICByZWluaXRpYWxpemVUcmFuc2FjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnRyYW5zYWN0aW9uV3JhcHBlcnMgPSB0aGlzLmdldFRyYW5zYWN0aW9uV3JhcHBlcnMoKTtcbiAgICAgIGlmICh0aGlzLndyYXBwZXJJbml0RGF0YSkge1xuICAgICAgICB0aGlzLndyYXBwZXJJbml0RGF0YS5sZW5ndGggPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy53cmFwcGVySW5pdERhdGEgPSBbXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2lzSW5UcmFuc2FjdGlvbiA9IGZhbHNlO1xuICAgIH0sXG4gICAgX2lzSW5UcmFuc2FjdGlvbjogZmFsc2UsXG4gICAgZ2V0VHJhbnNhY3Rpb25XcmFwcGVyczogbnVsbCxcbiAgICBpc0luVHJhbnNhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICEhdGhpcy5faXNJblRyYW5zYWN0aW9uO1xuICAgIH0sXG4gICAgcGVyZm9ybTogZnVuY3Rpb24obWV0aG9kLCBzY29wZSwgYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgISF0aGlzLmlzSW5UcmFuc2FjdGlvbigpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1RyYW5zYWN0aW9uLnBlcmZvcm0oLi4uKTogQ2Fubm90IGluaXRpYWxpemUgYSB0cmFuc2FjdGlvbiB3aGVuIHRoZXJlICcgKyAnaXMgYWxyZWFkeSBhbiBvdXRzdGFuZGluZyB0cmFuc2FjdGlvbi4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgZXJyb3JUaHJvd247XG4gICAgICB2YXIgcmV0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5faXNJblRyYW5zYWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgZXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVBbGwoMCk7XG4gICAgICAgIHJldCA9IG1ldGhvZC5jYWxsKHNjb3BlLCBhLCBiLCBjLCBkLCBlLCBmKTtcbiAgICAgICAgZXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB0aGlzLmNsb3NlQWxsKDApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlQWxsKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0aGlzLl9pc0luVHJhbnNhY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuICAgIGluaXRpYWxpemVBbGw6IGZ1bmN0aW9uKHN0YXJ0SW5kZXgpIHtcbiAgICAgIHZhciB0cmFuc2FjdGlvbldyYXBwZXJzID0gdGhpcy50cmFuc2FjdGlvbldyYXBwZXJzO1xuICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXg7IGkgPCB0cmFuc2FjdGlvbldyYXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0gdHJhbnNhY3Rpb25XcmFwcGVyc1tpXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLndyYXBwZXJJbml0RGF0YVtpXSA9IFRyYW5zYWN0aW9uLk9CU0VSVkVEX0VSUk9SO1xuICAgICAgICAgIHRoaXMud3JhcHBlckluaXREYXRhW2ldID0gd3JhcHBlci5pbml0aWFsaXplID8gd3JhcHBlci5pbml0aWFsaXplLmNhbGwodGhpcykgOiBudWxsO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmICh0aGlzLndyYXBwZXJJbml0RGF0YVtpXSA9PT0gVHJhbnNhY3Rpb24uT0JTRVJWRURfRVJST1IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUFsbChpICsgMSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHt9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjbG9zZUFsbDogZnVuY3Rpb24oc3RhcnRJbmRleCkge1xuICAgICAgIXRoaXMuaXNJblRyYW5zYWN0aW9uKCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnVHJhbnNhY3Rpb24uY2xvc2VBbGwoKTogQ2Fubm90IGNsb3NlIHRyYW5zYWN0aW9uIHdoZW4gbm9uZSBhcmUgb3Blbi4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgdHJhbnNhY3Rpb25XcmFwcGVycyA9IHRoaXMudHJhbnNhY3Rpb25XcmFwcGVycztcbiAgICAgIGZvciAodmFyIGkgPSBzdGFydEluZGV4OyBpIDwgdHJhbnNhY3Rpb25XcmFwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgd3JhcHBlciA9IHRyYW5zYWN0aW9uV3JhcHBlcnNbaV07XG4gICAgICAgIHZhciBpbml0RGF0YSA9IHRoaXMud3JhcHBlckluaXREYXRhW2ldO1xuICAgICAgICB2YXIgZXJyb3JUaHJvd247XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgIGlmIChpbml0RGF0YSAhPT0gVHJhbnNhY3Rpb24uT0JTRVJWRURfRVJST1IgJiYgd3JhcHBlci5jbG9zZSkge1xuICAgICAgICAgICAgd3JhcHBlci5jbG9zZS5jYWxsKHRoaXMsIGluaXREYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHRoaXMuY2xvc2VBbGwoaSArIDEpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMud3JhcHBlckluaXREYXRhLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9O1xuICB2YXIgVHJhbnNhY3Rpb24gPSB7XG4gICAgTWl4aW46IE1peGluLFxuICAgIE9CU0VSVkVEX0VSUk9SOiB7fVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFRyYW5zYWN0aW9uO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbiAgdmFyIENhbGxiYWNrUXVldWUgPSByZXF1aXJlKCcuL0NhbGxiYWNrUXVldWUnKTtcbiAgdmFyIFBvb2xlZENsYXNzID0gcmVxdWlyZSgnLi9Qb29sZWRDbGFzcycpO1xuICB2YXIgUmVhY3RGZWF0dXJlRmxhZ3MgPSByZXF1aXJlKCcuL1JlYWN0RmVhdHVyZUZsYWdzJyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIFJlYWN0UmVjb25jaWxlciA9IHJlcXVpcmUoJy4vUmVhY3RSZWNvbmNpbGVyJyk7XG4gIHZhciBUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vVHJhbnNhY3Rpb24nKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgZGlydHlDb21wb25lbnRzID0gW107XG4gIHZhciB1cGRhdGVCYXRjaE51bWJlciA9IDA7XG4gIHZhciBhc2FwQ2FsbGJhY2tRdWV1ZSA9IENhbGxiYWNrUXVldWUuZ2V0UG9vbGVkKCk7XG4gIHZhciBhc2FwRW5xdWV1ZWQgPSBmYWxzZTtcbiAgdmFyIGJhdGNoaW5nU3RyYXRlZ3kgPSBudWxsO1xuICBmdW5jdGlvbiBlbnN1cmVJbmplY3RlZCgpIHtcbiAgICAhKFJlYWN0VXBkYXRlcy5SZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uICYmIGJhdGNoaW5nU3RyYXRlZ3kpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlczogbXVzdCBpbmplY3QgYSByZWNvbmNpbGUgdHJhbnNhY3Rpb24gY2xhc3MgYW5kIGJhdGNoaW5nICcgKyAnc3RyYXRlZ3knKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIH1cbiAgdmFyIE5FU1RFRF9VUERBVEVTID0ge1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kaXJ0eUNvbXBvbmVudHNMZW5ndGggPSBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoO1xuICAgIH0sXG4gICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuZGlydHlDb21wb25lbnRzTGVuZ3RoICE9PSBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICAgIGRpcnR5Q29tcG9uZW50cy5zcGxpY2UoMCwgdGhpcy5kaXJ0eUNvbXBvbmVudHNMZW5ndGgpO1xuICAgICAgICBmbHVzaEJhdGNoZWRVcGRhdGVzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBVUERBVEVfUVVFVUVJTkcgPSB7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNhbGxiYWNrUXVldWUucmVzZXQoKTtcbiAgICB9LFxuICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuY2FsbGJhY2tRdWV1ZS5ub3RpZnlBbGwoKTtcbiAgICB9XG4gIH07XG4gIHZhciBUUkFOU0FDVElPTl9XUkFQUEVSUyA9IFtORVNURURfVVBEQVRFUywgVVBEQVRFX1FVRVVFSU5HXTtcbiAgZnVuY3Rpb24gUmVhY3RVcGRhdGVzRmx1c2hUcmFuc2FjdGlvbigpIHtcbiAgICB0aGlzLnJlaW5pdGlhbGl6ZVRyYW5zYWN0aW9uKCk7XG4gICAgdGhpcy5kaXJ0eUNvbXBvbmVudHNMZW5ndGggPSBudWxsO1xuICAgIHRoaXMuY2FsbGJhY2tRdWV1ZSA9IENhbGxiYWNrUXVldWUuZ2V0UG9vbGVkKCk7XG4gICAgdGhpcy5yZWNvbmNpbGVUcmFuc2FjdGlvbiA9IFJlYWN0VXBkYXRlcy5SZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uLmdldFBvb2xlZCh0cnVlKTtcbiAgfVxuICBfYXNzaWduKFJlYWN0VXBkYXRlc0ZsdXNoVHJhbnNhY3Rpb24ucHJvdG90eXBlLCBUcmFuc2FjdGlvbi5NaXhpbiwge1xuICAgIGdldFRyYW5zYWN0aW9uV3JhcHBlcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFRSQU5TQUNUSU9OX1dSQVBQRVJTO1xuICAgIH0sXG4gICAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRpcnR5Q29tcG9uZW50c0xlbmd0aCA9IG51bGw7XG4gICAgICBDYWxsYmFja1F1ZXVlLnJlbGVhc2UodGhpcy5jYWxsYmFja1F1ZXVlKTtcbiAgICAgIHRoaXMuY2FsbGJhY2tRdWV1ZSA9IG51bGw7XG4gICAgICBSZWFjdFVwZGF0ZXMuUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbi5yZWxlYXNlKHRoaXMucmVjb25jaWxlVHJhbnNhY3Rpb24pO1xuICAgICAgdGhpcy5yZWNvbmNpbGVUcmFuc2FjdGlvbiA9IG51bGw7XG4gICAgfSxcbiAgICBwZXJmb3JtOiBmdW5jdGlvbihtZXRob2QsIHNjb3BlLCBhKSB7XG4gICAgICByZXR1cm4gVHJhbnNhY3Rpb24uTWl4aW4ucGVyZm9ybS5jYWxsKHRoaXMsIHRoaXMucmVjb25jaWxlVHJhbnNhY3Rpb24ucGVyZm9ybSwgdGhpcy5yZWNvbmNpbGVUcmFuc2FjdGlvbiwgbWV0aG9kLCBzY29wZSwgYSk7XG4gICAgfVxuICB9KTtcbiAgUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKFJlYWN0VXBkYXRlc0ZsdXNoVHJhbnNhY3Rpb24pO1xuICBmdW5jdGlvbiBiYXRjaGVkVXBkYXRlcyhjYWxsYmFjaywgYSwgYiwgYywgZCwgZSkge1xuICAgIGVuc3VyZUluamVjdGVkKCk7XG4gICAgYmF0Y2hpbmdTdHJhdGVneS5iYXRjaGVkVXBkYXRlcyhjYWxsYmFjaywgYSwgYiwgYywgZCwgZSk7XG4gIH1cbiAgZnVuY3Rpb24gbW91bnRPcmRlckNvbXBhcmF0b3IoYzEsIGMyKSB7XG4gICAgcmV0dXJuIGMxLl9tb3VudE9yZGVyIC0gYzIuX21vdW50T3JkZXI7XG4gIH1cbiAgZnVuY3Rpb24gcnVuQmF0Y2hlZFVwZGF0ZXModHJhbnNhY3Rpb24pIHtcbiAgICB2YXIgbGVuID0gdHJhbnNhY3Rpb24uZGlydHlDb21wb25lbnRzTGVuZ3RoO1xuICAgICEobGVuID09PSBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBmbHVzaCB0cmFuc2FjdGlvblxcJ3Mgc3RvcmVkIGRpcnR5LWNvbXBvbmVudHMgbGVuZ3RoICglcykgdG8gJyArICdtYXRjaCBkaXJ0eS1jb21wb25lbnRzIGFycmF5IGxlbmd0aCAoJXMpLicsIGxlbiwgZGlydHlDb21wb25lbnRzLmxlbmd0aCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGRpcnR5Q29tcG9uZW50cy5zb3J0KG1vdW50T3JkZXJDb21wYXJhdG9yKTtcbiAgICB1cGRhdGVCYXRjaE51bWJlcisrO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBjb21wb25lbnQgPSBkaXJ0eUNvbXBvbmVudHNbaV07XG4gICAgICB2YXIgY2FsbGJhY2tzID0gY29tcG9uZW50Ll9wZW5kaW5nQ2FsbGJhY2tzO1xuICAgICAgY29tcG9uZW50Ll9wZW5kaW5nQ2FsbGJhY2tzID0gbnVsbDtcbiAgICAgIHZhciBtYXJrZXJOYW1lO1xuICAgICAgaWYgKFJlYWN0RmVhdHVyZUZsYWdzLmxvZ1RvcExldmVsUmVuZGVycykge1xuICAgICAgICB2YXIgbmFtZWRDb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgIGlmIChjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50LnByb3BzID09PSBjb21wb25lbnQuX3JlbmRlcmVkQ29tcG9uZW50Ll9jdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgIG5hbWVkQ29tcG9uZW50ID0gY29tcG9uZW50Ll9yZW5kZXJlZENvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgICBtYXJrZXJOYW1lID0gJ1JlYWN0IHVwZGF0ZTogJyArIG5hbWVkQ29tcG9uZW50LmdldE5hbWUoKTtcbiAgICAgICAgY29uc29sZS50aW1lKG1hcmtlck5hbWUpO1xuICAgICAgfVxuICAgICAgUmVhY3RSZWNvbmNpbGVyLnBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeShjb21wb25lbnQsIHRyYW5zYWN0aW9uLnJlY29uY2lsZVRyYW5zYWN0aW9uLCB1cGRhdGVCYXRjaE51bWJlcik7XG4gICAgICBpZiAobWFya2VyTmFtZSkge1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQobWFya2VyTmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2FsbGJhY2tzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdHJhbnNhY3Rpb24uY2FsbGJhY2tRdWV1ZS5lbnF1ZXVlKGNhbGxiYWNrc1tqXSwgY29tcG9uZW50LmdldFB1YmxpY0luc3RhbmNlKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhciBmbHVzaEJhdGNoZWRVcGRhdGVzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luRmx1c2goKTtcbiAgICB9XG4gICAgd2hpbGUgKGRpcnR5Q29tcG9uZW50cy5sZW5ndGggfHwgYXNhcEVucXVldWVkKSB7XG4gICAgICBpZiAoZGlydHlDb21wb25lbnRzLmxlbmd0aCkge1xuICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSBSZWFjdFVwZGF0ZXNGbHVzaFRyYW5zYWN0aW9uLmdldFBvb2xlZCgpO1xuICAgICAgICB0cmFuc2FjdGlvbi5wZXJmb3JtKHJ1bkJhdGNoZWRVcGRhdGVzLCBudWxsLCB0cmFuc2FjdGlvbik7XG4gICAgICAgIFJlYWN0VXBkYXRlc0ZsdXNoVHJhbnNhY3Rpb24ucmVsZWFzZSh0cmFuc2FjdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAoYXNhcEVucXVldWVkKSB7XG4gICAgICAgIGFzYXBFbnF1ZXVlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgcXVldWUgPSBhc2FwQ2FsbGJhY2tRdWV1ZTtcbiAgICAgICAgYXNhcENhbGxiYWNrUXVldWUgPSBDYWxsYmFja1F1ZXVlLmdldFBvb2xlZCgpO1xuICAgICAgICBxdWV1ZS5ub3RpZnlBbGwoKTtcbiAgICAgICAgQ2FsbGJhY2tRdWV1ZS5yZWxlYXNlKHF1ZXVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZEZsdXNoKCk7XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBlbnF1ZXVlVXBkYXRlKGNvbXBvbmVudCkge1xuICAgIGVuc3VyZUluamVjdGVkKCk7XG4gICAgaWYgKCFiYXRjaGluZ1N0cmF0ZWd5LmlzQmF0Y2hpbmdVcGRhdGVzKSB7XG4gICAgICBiYXRjaGluZ1N0cmF0ZWd5LmJhdGNoZWRVcGRhdGVzKGVucXVldWVVcGRhdGUsIGNvbXBvbmVudCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRpcnR5Q29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgaWYgKGNvbXBvbmVudC5fdXBkYXRlQmF0Y2hOdW1iZXIgPT0gbnVsbCkge1xuICAgICAgY29tcG9uZW50Ll91cGRhdGVCYXRjaE51bWJlciA9IHVwZGF0ZUJhdGNoTnVtYmVyICsgMTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgY29udGV4dCkge1xuICAgICFiYXRjaGluZ1N0cmF0ZWd5LmlzQmF0Y2hpbmdVcGRhdGVzID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlcy5hc2FwOiBDYW5cXCd0IGVucXVldWUgYW4gYXNhcCBjYWxsYmFjayBpbiBhIGNvbnRleHQgd2hlcmUnICsgJ3VwZGF0ZXMgYXJlIG5vdCBiZWluZyBiYXRjaGVkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBhc2FwQ2FsbGJhY2tRdWV1ZS5lbnF1ZXVlKGNhbGxiYWNrLCBjb250ZXh0KTtcbiAgICBhc2FwRW5xdWV1ZWQgPSB0cnVlO1xuICB9XG4gIHZhciBSZWFjdFVwZGF0ZXNJbmplY3Rpb24gPSB7XG4gICAgaW5qZWN0UmVjb25jaWxlVHJhbnNhY3Rpb246IGZ1bmN0aW9uKFJlY29uY2lsZVRyYW5zYWN0aW9uKSB7XG4gICAgICAhUmVjb25jaWxlVHJhbnNhY3Rpb24gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RVcGRhdGVzOiBtdXN0IHByb3ZpZGUgYSByZWNvbmNpbGUgdHJhbnNhY3Rpb24gY2xhc3MnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBSZWFjdFVwZGF0ZXMuUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbiA9IFJlY29uY2lsZVRyYW5zYWN0aW9uO1xuICAgIH0sXG4gICAgaW5qZWN0QmF0Y2hpbmdTdHJhdGVneTogZnVuY3Rpb24oX2JhdGNoaW5nU3RyYXRlZ3kpIHtcbiAgICAgICFfYmF0Y2hpbmdTdHJhdGVneSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdFVwZGF0ZXM6IG11c3QgcHJvdmlkZSBhIGJhdGNoaW5nIHN0cmF0ZWd5JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgISh0eXBlb2YgX2JhdGNoaW5nU3RyYXRlZ3kuYmF0Y2hlZFVwZGF0ZXMgPT09ICdmdW5jdGlvbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlczogbXVzdCBwcm92aWRlIGEgYmF0Y2hlZFVwZGF0ZXMoKSBmdW5jdGlvbicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICEodHlwZW9mIF9iYXRjaGluZ1N0cmF0ZWd5LmlzQmF0Y2hpbmdVcGRhdGVzID09PSAnYm9vbGVhbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlczogbXVzdCBwcm92aWRlIGFuIGlzQmF0Y2hpbmdVcGRhdGVzIGJvb2xlYW4gYXR0cmlidXRlJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgYmF0Y2hpbmdTdHJhdGVneSA9IF9iYXRjaGluZ1N0cmF0ZWd5O1xuICAgIH1cbiAgfTtcbiAgdmFyIFJlYWN0VXBkYXRlcyA9IHtcbiAgICBSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uOiBudWxsLFxuICAgIGJhdGNoZWRVcGRhdGVzOiBiYXRjaGVkVXBkYXRlcyxcbiAgICBlbnF1ZXVlVXBkYXRlOiBlbnF1ZXVlVXBkYXRlLFxuICAgIGZsdXNoQmF0Y2hlZFVwZGF0ZXM6IGZsdXNoQmF0Y2hlZFVwZGF0ZXMsXG4gICAgaW5qZWN0aW9uOiBSZWFjdFVwZGF0ZXNJbmplY3Rpb24sXG4gICAgYXNhcDogYXNhcFxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0VXBkYXRlcztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gcmVxdWlyZSgnLi9SZWFjdEN1cnJlbnRPd25lcicpO1xuICB2YXIgUmVhY3RJbnN0YW5jZU1hcCA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0YW5jZU1hcCcpO1xuICB2YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZSgnLi9SZWFjdFVwZGF0ZXMnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgZnVuY3Rpb24gZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgUmVhY3RVcGRhdGVzLmVucXVldWVVcGRhdGUoaW50ZXJuYWxJbnN0YW5jZSk7XG4gIH1cbiAgZnVuY3Rpb24gZm9ybWF0VW5leHBlY3RlZEFyZ3VtZW50KGFyZykge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIGFyZztcbiAgICBpZiAodHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgICB2YXIgZGlzcGxheU5hbWUgPSBhcmcuY29uc3RydWN0b3IgJiYgYXJnLmNvbnN0cnVjdG9yLm5hbWUgfHwgdHlwZTtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFyZyk7XG4gICAgaWYgKGtleXMubGVuZ3RoID4gMCAmJiBrZXlzLmxlbmd0aCA8IDIwKSB7XG4gICAgICByZXR1cm4gZGlzcGxheU5hbWUgKyAnIChrZXlzOiAnICsga2V5cy5qb2luKCcsICcpICsgJyknO1xuICAgIH1cbiAgICByZXR1cm4gZGlzcGxheU5hbWU7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0SW50ZXJuYWxJbnN0YW5jZVJlYWR5Rm9yVXBkYXRlKHB1YmxpY0luc3RhbmNlLCBjYWxsZXJOYW1lKSB7XG4gICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBSZWFjdEluc3RhbmNlTWFwLmdldChwdWJsaWNJbnN0YW5jZSk7XG4gICAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghY2FsbGVyTmFtZSwgJyVzKC4uLik6IENhbiBvbmx5IHVwZGF0ZSBhIG1vdW50ZWQgb3IgbW91bnRpbmcgY29tcG9uZW50LiAnICsgJ1RoaXMgdXN1YWxseSBtZWFucyB5b3UgY2FsbGVkICVzKCkgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4gJyArICdUaGlzIGlzIGEgbm8tb3AuIFBsZWFzZSBjaGVjayB0aGUgY29kZSBmb3IgdGhlICVzIGNvbXBvbmVudC4nLCBjYWxsZXJOYW1lLCBjYWxsZXJOYW1lLCBwdWJsaWNJbnN0YW5jZS5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSkgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPT0gbnVsbCwgJyVzKC4uLik6IENhbm5vdCB1cGRhdGUgZHVyaW5nIGFuIGV4aXN0aW5nIHN0YXRlIHRyYW5zaXRpb24gKHN1Y2ggYXMgJyArICd3aXRoaW4gYHJlbmRlcmAgb3IgYW5vdGhlciBjb21wb25lbnRcXCdzIGNvbnN0cnVjdG9yKS4gUmVuZGVyIG1ldGhvZHMgJyArICdzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uIG9mIHByb3BzIGFuZCBzdGF0ZTsgY29uc3RydWN0b3IgJyArICdzaWRlLWVmZmVjdHMgYXJlIGFuIGFudGktcGF0dGVybiwgYnV0IGNhbiBiZSBtb3ZlZCB0byAnICsgJ2Bjb21wb25lbnRXaWxsTW91bnRgLicsIGNhbGxlck5hbWUpIDogdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gaW50ZXJuYWxJbnN0YW5jZTtcbiAgfVxuICB2YXIgUmVhY3RVcGRhdGVRdWV1ZSA9IHtcbiAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YXIgb3duZXIgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50O1xuICAgICAgICBpZiAob3duZXIgIT09IG51bGwpIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhvd25lci5fd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIsICclcyBpcyBhY2Nlc3NpbmcgaXNNb3VudGVkIGluc2lkZSBpdHMgcmVuZGVyKCkgZnVuY3Rpb24uICcgKyAncmVuZGVyKCkgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuIEl0IHNob3VsZCAnICsgJ25ldmVyIGFjY2VzcyBzb21ldGhpbmcgdGhhdCByZXF1aXJlcyBzdGFsZSBkYXRhIGZyb20gdGhlIHByZXZpb3VzICcgKyAncmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgJyArICdjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4nLCBvd25lci5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgb3duZXIuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBSZWFjdEluc3RhbmNlTWFwLmdldChwdWJsaWNJbnN0YW5jZSk7XG4gICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICByZXR1cm4gISFpbnRlcm5hbEluc3RhbmNlLl9yZW5kZXJlZENvbXBvbmVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVucXVldWVDYWxsYmFjazogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgICBSZWFjdFVwZGF0ZVF1ZXVlLnZhbGlkYXRlQ2FsbGJhY2soY2FsbGJhY2ssIGNhbGxlck5hbWUpO1xuICAgICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBnZXRJbnRlcm5hbEluc3RhbmNlUmVhZHlGb3JVcGRhdGUocHVibGljSW5zdGFuY2UpO1xuICAgICAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MpIHtcbiAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MgPSBbY2FsbGJhY2tdO1xuICAgICAgfVxuICAgICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgICB9LFxuICAgIGVucXVldWVDYWxsYmFja0ludGVybmFsOiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MpIHtcbiAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MgPSBbY2FsbGJhY2tdO1xuICAgICAgfVxuICAgICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgICB9LFxuICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UpIHtcbiAgICAgIHZhciBpbnRlcm5hbEluc3RhbmNlID0gZ2V0SW50ZXJuYWxJbnN0YW5jZVJlYWR5Rm9yVXBkYXRlKHB1YmxpY0luc3RhbmNlLCAnZm9yY2VVcGRhdGUnKTtcbiAgICAgIGlmICghaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nRm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgICB9LFxuICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlLCBjb21wbGV0ZVN0YXRlKSB7XG4gICAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZShwdWJsaWNJbnN0YW5jZSwgJ3JlcGxhY2VTdGF0ZScpO1xuICAgICAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gW2NvbXBsZXRlU3RhdGVdO1xuICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ1JlcGxhY2VTdGF0ZSA9IHRydWU7XG4gICAgICBlbnF1ZXVlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpO1xuICAgIH0sXG4gICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSwgcGFydGlhbFN0YXRlKSB7XG4gICAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZShwdWJsaWNJbnN0YW5jZSwgJ3NldFN0YXRlJyk7XG4gICAgICBpZiAoIWludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHF1ZXVlID0gaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ1N0YXRlUXVldWUgfHwgKGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gW10pO1xuICAgICAgcXVldWUucHVzaChwYXJ0aWFsU3RhdGUpO1xuICAgICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgICB9LFxuICAgIGVucXVldWVFbGVtZW50SW50ZXJuYWw6IGZ1bmN0aW9uKGludGVybmFsSW5zdGFuY2UsIG5ld0VsZW1lbnQpIHtcbiAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdFbGVtZW50ID0gbmV3RWxlbWVudDtcbiAgICAgIGVucXVldWVVcGRhdGUoaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgfSxcbiAgICB2YWxpZGF0ZUNhbGxiYWNrOiBmdW5jdGlvbihjYWxsYmFjaywgY2FsbGVyTmFtZSkge1xuICAgICAgISghY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcyguLi4pOiBFeHBlY3RlZCB0aGUgbGFzdCBvcHRpb25hbCBgY2FsbGJhY2tgIGFyZ3VtZW50IHRvIGJlIGEgJyArICdmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMuJywgY2FsbGVyTmFtZSwgZm9ybWF0VW5leHBlY3RlZEFyZ3VtZW50KGNhbGxiYWNrKSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdFVwZGF0ZVF1ZXVlO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbiAgdmFyIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL1JlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQnKTtcbiAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gcmVxdWlyZSgnLi9SZWFjdEN1cnJlbnRPd25lcicpO1xuICB2YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbiAgdmFyIFJlYWN0RXJyb3JVdGlscyA9IHJlcXVpcmUoJy4vUmVhY3RFcnJvclV0aWxzJyk7XG4gIHZhciBSZWFjdEluc3RhbmNlTWFwID0gcmVxdWlyZSgnLi9SZWFjdEluc3RhbmNlTWFwJyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIFJlYWN0Tm9kZVR5cGVzID0gcmVxdWlyZSgnLi9SZWFjdE5vZGVUeXBlcycpO1xuICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucyA9IHJlcXVpcmUoJy4vUmVhY3RQcm9wVHlwZUxvY2F0aW9ucycpO1xuICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzJyk7XG4gIHZhciBSZWFjdFJlY29uY2lsZXIgPSByZXF1aXJlKCcuL1JlYWN0UmVjb25jaWxlcicpO1xuICB2YXIgUmVhY3RVcGRhdGVRdWV1ZSA9IHJlcXVpcmUoJy4vUmVhY3RVcGRhdGVRdWV1ZScpO1xuICB2YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eU9iamVjdCcpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIGZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShjb21wb25lbnQpIHtcbiAgICB2YXIgb3duZXIgPSBjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50Ll9vd25lciB8fCBudWxsO1xuICAgIGlmIChvd25lcikge1xuICAgICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICByZXR1cm4gJyBDaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgZnVuY3Rpb24gU3RhdGVsZXNzQ29tcG9uZW50KENvbXBvbmVudCkge31cbiAgU3RhdGVsZXNzQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgQ29tcG9uZW50ID0gUmVhY3RJbnN0YW5jZU1hcC5nZXQodGhpcykuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgdmFyIGVsZW1lbnQgPSBDb21wb25lbnQodGhpcy5wcm9wcywgdGhpcy5jb250ZXh0LCB0aGlzLnVwZGF0ZXIpO1xuICAgIHdhcm5JZkludmFsaWRFbGVtZW50KENvbXBvbmVudCwgZWxlbWVudCk7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH07XG4gIGZ1bmN0aW9uIHdhcm5JZkludmFsaWRFbGVtZW50KENvbXBvbmVudCwgZWxlbWVudCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IGZhbHNlIHx8IFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSwgJyVzKC4uLik6IEEgdmFsaWQgUmVhY3QgZWxlbWVudCAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZC4gWW91IG1heSBoYXZlICcgKyAncmV0dXJuZWQgdW5kZWZpbmVkLCBhbiBhcnJheSBvciBzb21lIG90aGVyIGludmFsaWQgb2JqZWN0LicsIENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGludm9rZUNvbXBvbmVudERpZE1vdW50V2l0aFRpbWVyKCkge1xuICAgIHZhciBwdWJsaWNJbnN0YW5jZSA9IHRoaXMuX2luc3RhbmNlO1xuICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkxpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnREaWRNb3VudCcpO1xuICAgIH1cbiAgICBwdWJsaWNJbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCgpO1xuICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25FbmRMaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50RGlkTW91bnQnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaW52b2tlQ29tcG9uZW50RGlkVXBkYXRlV2l0aFRpbWVyKHByZXZQcm9wcywgcHJldlN0YXRlLCBwcmV2Q29udGV4dCkge1xuICAgIHZhciBwdWJsaWNJbnN0YW5jZSA9IHRoaXMuX2luc3RhbmNlO1xuICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkxpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnREaWRVcGRhdGUnKTtcbiAgICB9XG4gICAgcHVibGljSW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlLCBwcmV2Q29udGV4dCk7XG4gICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnREaWRVcGRhdGUnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc2hvdWxkQ29uc3RydWN0KENvbXBvbmVudCkge1xuICAgIHJldHVybiBDb21wb25lbnQucHJvdG90eXBlICYmIENvbXBvbmVudC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudDtcbiAgfVxuICB2YXIgbmV4dE1vdW50SUQgPSAxO1xuICB2YXIgUmVhY3RDb21wb3NpdGVDb21wb25lbnRNaXhpbiA9IHtcbiAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSBudWxsO1xuICAgICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgdGhpcy5fbmF0aXZlUGFyZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX25hdGl2ZUNvbnRhaW5lckluZm8gPSBudWxsO1xuICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hOdW1iZXIgPSBudWxsO1xuICAgICAgdGhpcy5fcGVuZGluZ0VsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5fcGVuZGluZ1N0YXRlUXVldWUgPSBudWxsO1xuICAgICAgdGhpcy5fcGVuZGluZ1JlcGxhY2VTdGF0ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fcGVuZGluZ0ZvcmNlVXBkYXRlID0gZmFsc2U7XG4gICAgICB0aGlzLl9yZW5kZXJlZE5vZGVUeXBlID0gbnVsbDtcbiAgICAgIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX2NvbnRleHQgPSBudWxsO1xuICAgICAgdGhpcy5fbW91bnRPcmRlciA9IDA7XG4gICAgICB0aGlzLl90b3BMZXZlbFdyYXBwZXIgPSBudWxsO1xuICAgICAgdGhpcy5fcGVuZGluZ0NhbGxiYWNrcyA9IG51bGw7XG4gICAgICB0aGlzLl9jYWxsZWRDb21wb25lbnRXaWxsVW5tb3VudCA9IGZhbHNlO1xuICAgIH0sXG4gICAgbW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIGNvbnRleHQpIHtcbiAgICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgdGhpcy5fbW91bnRPcmRlciA9IG5leHRNb3VudElEKys7XG4gICAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBuYXRpdmVQYXJlbnQ7XG4gICAgICB0aGlzLl9uYXRpdmVDb250YWluZXJJbmZvID0gbmF0aXZlQ29udGFpbmVySW5mbztcbiAgICAgIHZhciBwdWJsaWNQcm9wcyA9IHRoaXMuX3Byb2Nlc3NQcm9wcyh0aGlzLl9jdXJyZW50RWxlbWVudC5wcm9wcyk7XG4gICAgICB2YXIgcHVibGljQ29udGV4dCA9IHRoaXMuX3Byb2Nlc3NDb250ZXh0KGNvbnRleHQpO1xuICAgICAgdmFyIENvbXBvbmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICB2YXIgaW5zdCA9IHRoaXMuX2NvbnN0cnVjdENvbXBvbmVudChwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCk7XG4gICAgICB2YXIgcmVuZGVyZWRFbGVtZW50O1xuICAgICAgaWYgKCFzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSAmJiAoaW5zdCA9PSBudWxsIHx8IGluc3QucmVuZGVyID09IG51bGwpKSB7XG4gICAgICAgIHJlbmRlcmVkRWxlbWVudCA9IGluc3Q7XG4gICAgICAgIHdhcm5JZkludmFsaWRFbGVtZW50KENvbXBvbmVudCwgcmVuZGVyZWRFbGVtZW50KTtcbiAgICAgICAgIShpbnN0ID09PSBudWxsIHx8IGluc3QgPT09IGZhbHNlIHx8IFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChpbnN0KSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMoLi4uKTogQSB2YWxpZCBSZWFjdCBlbGVtZW50IChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkLiBZb3UgbWF5IGhhdmUgJyArICdyZXR1cm5lZCB1bmRlZmluZWQsIGFuIGFycmF5IG9yIHNvbWUgb3RoZXIgaW52YWxpZCBvYmplY3QuJywgQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIGluc3QgPSBuZXcgU3RhdGVsZXNzQ29tcG9uZW50KENvbXBvbmVudCk7XG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoaW5zdC5yZW5kZXIgPT0gbnVsbCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKTogTm8gYHJlbmRlcmAgbWV0aG9kIGZvdW5kIG9uIHRoZSByZXR1cm5lZCBjb21wb25lbnQgJyArICdpbnN0YW5jZTogeW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBkZWZpbmUgYHJlbmRlcmAuJywgQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvcHNNdXRhdGVkID0gaW5zdC5wcm9wcyAhPT0gcHVibGljUHJvcHM7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhpbnN0LnByb3BzID09PSB1bmRlZmluZWQgfHwgIXByb3BzTXV0YXRlZCwgJyVzKC4uLik6IFdoZW4gY2FsbGluZyBzdXBlcigpIGluIGAlc2AsIG1ha2Ugc3VyZSB0byBwYXNzICcgKyAndXAgdGhlIHNhbWUgcHJvcHMgdGhhdCB5b3VyIGNvbXBvbmVudFxcJ3MgY29uc3RydWN0b3Igd2FzIHBhc3NlZC4nLCBjb21wb25lbnROYW1lLCBjb21wb25lbnROYW1lKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGluc3QucHJvcHMgPSBwdWJsaWNQcm9wcztcbiAgICAgIGluc3QuY29udGV4dCA9IHB1YmxpY0NvbnRleHQ7XG4gICAgICBpbnN0LnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgIGluc3QudXBkYXRlciA9IFJlYWN0VXBkYXRlUXVldWU7XG4gICAgICB0aGlzLl9pbnN0YW5jZSA9IGluc3Q7XG4gICAgICBSZWFjdEluc3RhbmNlTWFwLnNldChpbnN0LCB0aGlzKTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFpbnN0LmdldEluaXRpYWxTdGF0ZSB8fCBpbnN0LmdldEluaXRpYWxTdGF0ZS5pc1JlYWN0Q2xhc3NBcHByb3ZlZCwgJ2dldEluaXRpYWxTdGF0ZSB3YXMgZGVmaW5lZCBvbiAlcywgYSBwbGFpbiBKYXZhU2NyaXB0IGNsYXNzLiAnICsgJ1RoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGNsYXNzZXMgY3JlYXRlZCB1c2luZyBSZWFjdC5jcmVhdGVDbGFzcy4gJyArICdEaWQgeW91IG1lYW4gdG8gZGVmaW5lIGEgc3RhdGUgcHJvcGVydHkgaW5zdGVhZD8nLCB0aGlzLmdldE5hbWUoKSB8fCAnYSBjb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWluc3QuZ2V0RGVmYXVsdFByb3BzIHx8IGluc3QuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkLCAnZ2V0RGVmYXVsdFByb3BzIHdhcyBkZWZpbmVkIG9uICVzLCBhIHBsYWluIEphdmFTY3JpcHQgY2xhc3MuICcgKyAnVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiAnICsgJ1VzZSBhIHN0YXRpYyBwcm9wZXJ0eSB0byBkZWZpbmUgZGVmYXVsdFByb3BzIGluc3RlYWQuJywgdGhpcy5nZXROYW1lKCkgfHwgJ2EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFpbnN0LnByb3BUeXBlcywgJ3Byb3BUeXBlcyB3YXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcy4gVXNlIGEgc3RhdGljICcgKyAncHJvcGVydHkgdG8gZGVmaW5lIHByb3BUeXBlcyBpbnN0ZWFkLicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdhIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghaW5zdC5jb250ZXh0VHlwZXMsICdjb250ZXh0VHlwZXMgd2FzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgb24gJXMuIFVzZSBhICcgKyAnc3RhdGljIHByb3BlcnR5IHRvIGRlZmluZSBjb250ZXh0VHlwZXMgaW5zdGVhZC4nLCB0aGlzLmdldE5hbWUoKSB8fCAnYSBjb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodHlwZW9mIGluc3QuY29tcG9uZW50U2hvdWxkVXBkYXRlICE9PSAnZnVuY3Rpb24nLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ2NvbXBvbmVudFNob3VsZFVwZGF0ZSgpLiBEaWQgeW91IG1lYW4gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk/ICcgKyAnVGhlIG5hbWUgaXMgcGhyYXNlZCBhcyBhIHF1ZXN0aW9uIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzICcgKyAnZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUuJywgdGhpcy5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHR5cGVvZiBpbnN0LmNvbXBvbmVudERpZFVubW91bnQgIT09ICdmdW5jdGlvbicsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50RGlkVW5tb3VudCgpLiBCdXQgdGhlcmUgaXMgbm8gc3VjaCBsaWZlY3ljbGUgbWV0aG9kLiAnICsgJ0RpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsVW5tb3VudCgpPycsIHRoaXMuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh0eXBlb2YgaW5zdC5jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzICE9PSAnZnVuY3Rpb24nLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ2NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMoKS4gRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKT8nLCB0aGlzLmdldE5hbWUoKSB8fCAnQSBjb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHZhciBpbml0aWFsU3RhdGUgPSBpbnN0LnN0YXRlO1xuICAgICAgaWYgKGluaXRpYWxTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluc3Quc3RhdGUgPSBpbml0aWFsU3RhdGUgPSBudWxsO1xuICAgICAgfVxuICAgICAgISh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpbml0aWFsU3RhdGUpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcy5zdGF0ZTogbXVzdCBiZSBzZXQgdG8gYW4gb2JqZWN0IG9yIG51bGwnLCB0aGlzLmdldE5hbWUoKSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB0aGlzLl9wZW5kaW5nU3RhdGVRdWV1ZSA9IG51bGw7XG4gICAgICB0aGlzLl9wZW5kaW5nUmVwbGFjZVN0YXRlID0gZmFsc2U7XG4gICAgICB0aGlzLl9wZW5kaW5nRm9yY2VVcGRhdGUgPSBmYWxzZTtcbiAgICAgIHZhciBtYXJrdXA7XG4gICAgICBpZiAoaW5zdC51bnN0YWJsZV9oYW5kbGVFcnJvcikge1xuICAgICAgICBtYXJrdXAgPSB0aGlzLnBlcmZvcm1Jbml0aWFsTW91bnRXaXRoRXJyb3JIYW5kbGluZyhyZW5kZXJlZEVsZW1lbnQsIG5hdGl2ZVBhcmVudCwgbmF0aXZlQ29udGFpbmVySW5mbywgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFya3VwID0gdGhpcy5wZXJmb3JtSW5pdGlhbE1vdW50KHJlbmRlcmVkRWxlbWVudCwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICB9XG4gICAgICBpZiAoaW5zdC5jb21wb25lbnREaWRNb3VudCkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoaW52b2tlQ29tcG9uZW50RGlkTW91bnRXaXRoVGltZXIsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoaW5zdC5jb21wb25lbnREaWRNb3VudCwgaW5zdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXJrdXA7XG4gICAgfSxcbiAgICBfY29uc3RydWN0Q29tcG9uZW50OiBmdW5jdGlvbihwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHRoaXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnN0cnVjdENvbXBvbmVudFdpdGhvdXRPd25lcihwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25zdHJ1Y3RDb21wb25lbnRXaXRob3V0T3duZXIocHVibGljUHJvcHMsIHB1YmxpY0NvbnRleHQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgX2NvbnN0cnVjdENvbXBvbmVudFdpdGhvdXRPd25lcjogZnVuY3Rpb24ocHVibGljUHJvcHMsIHB1YmxpY0NvbnRleHQpIHtcbiAgICAgIHZhciBDb21wb25lbnQgPSB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlO1xuICAgICAgdmFyIGluc3RhbmNlT3JFbGVtZW50O1xuICAgICAgaWYgKHNob3VsZENvbnN0cnVjdChDb21wb25lbnQpKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2N0b3InKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2VPckVsZW1lbnQgPSBuZXcgQ29tcG9uZW50KHB1YmxpY1Byb3BzLCBwdWJsaWNDb250ZXh0LCBSZWFjdFVwZGF0ZVF1ZXVlKTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2N0b3InKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ3JlbmRlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZU9yRWxlbWVudCA9IENvbXBvbmVudChwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCwgUmVhY3RVcGRhdGVRdWV1ZSk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdyZW5kZXInKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnN0YW5jZU9yRWxlbWVudDtcbiAgICB9LFxuICAgIHBlcmZvcm1Jbml0aWFsTW91bnRXaXRoRXJyb3JIYW5kbGluZzogZnVuY3Rpb24ocmVuZGVyZWRFbGVtZW50LCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICB2YXIgbWFya3VwO1xuICAgICAgdmFyIGNoZWNrcG9pbnQgPSB0cmFuc2FjdGlvbi5jaGVja3BvaW50KCk7XG4gICAgICB0cnkge1xuICAgICAgICBtYXJrdXAgPSB0aGlzLnBlcmZvcm1Jbml0aWFsTW91bnQocmVuZGVyZWRFbGVtZW50LCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdHJhbnNhY3Rpb24ucm9sbGJhY2soY2hlY2twb2ludCk7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlLnVuc3RhYmxlX2hhbmRsZUVycm9yKGUpO1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1N0YXRlUXVldWUpIHtcbiAgICAgICAgICB0aGlzLl9pbnN0YW5jZS5zdGF0ZSA9IHRoaXMuX3Byb2Nlc3NQZW5kaW5nU3RhdGUodGhpcy5faW5zdGFuY2UucHJvcHMsIHRoaXMuX2luc3RhbmNlLmNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrcG9pbnQgPSB0cmFuc2FjdGlvbi5jaGVja3BvaW50KCk7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50LnVubW91bnRDb21wb25lbnQodHJ1ZSk7XG4gICAgICAgIHRyYW5zYWN0aW9uLnJvbGxiYWNrKGNoZWNrcG9pbnQpO1xuICAgICAgICBtYXJrdXAgPSB0aGlzLnBlcmZvcm1Jbml0aWFsTW91bnQocmVuZGVyZWRFbGVtZW50LCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXJrdXA7XG4gICAgfSxcbiAgICBwZXJmb3JtSW5pdGlhbE1vdW50OiBmdW5jdGlvbihyZW5kZXJlZEVsZW1lbnQsIG5hdGl2ZVBhcmVudCwgbmF0aXZlQ29udGFpbmVySW5mbywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgICBpZiAoaW5zdC5jb21wb25lbnRXaWxsTW91bnQpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50V2lsbE1vdW50Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluc3QuY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnRXaWxsTW91bnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlKSB7XG4gICAgICAgICAgaW5zdC5zdGF0ZSA9IHRoaXMuX3Byb2Nlc3NQZW5kaW5nU3RhdGUoaW5zdC5wcm9wcywgaW5zdC5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlbmRlcmVkRWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlbmRlcmVkRWxlbWVudCA9IHRoaXMuX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fcmVuZGVyZWROb2RlVHlwZSA9IFJlYWN0Tm9kZVR5cGVzLmdldFR5cGUocmVuZGVyZWRFbGVtZW50KTtcbiAgICAgIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50ID0gdGhpcy5faW5zdGFudGlhdGVSZWFjdENvbXBvbmVudChyZW5kZXJlZEVsZW1lbnQpO1xuICAgICAgdmFyIG1hcmt1cCA9IFJlYWN0UmVjb25jaWxlci5tb3VudENvbXBvbmVudCh0aGlzLl9yZW5kZXJlZENvbXBvbmVudCwgdHJhbnNhY3Rpb24sIG5hdGl2ZVBhcmVudCwgbmF0aXZlQ29udGFpbmVySW5mbywgdGhpcy5fcHJvY2Vzc0NoaWxkQ29udGV4dChjb250ZXh0KSk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldENoaWxkcmVuKHRoaXMuX2RlYnVnSUQsIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50Ll9kZWJ1Z0lEICE9PSAwID8gW3RoaXMuX3JlbmRlcmVkQ29tcG9uZW50Ll9kZWJ1Z0lEXSA6IFtdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1hcmt1cDtcbiAgICB9LFxuICAgIGdldE5hdGl2ZU5vZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFJlYWN0UmVjb25jaWxlci5nZXROYXRpdmVOb2RlKHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50KTtcbiAgICB9LFxuICAgIHVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKHNhZmVseSkge1xuICAgICAgaWYgKCF0aGlzLl9yZW5kZXJlZENvbXBvbmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgaW5zdCA9IHRoaXMuX2luc3RhbmNlO1xuICAgICAgaWYgKGluc3QuY29tcG9uZW50V2lsbFVubW91bnQgJiYgIWluc3QuX2NhbGxlZENvbXBvbmVudFdpbGxVbm1vdW50KSB7XG4gICAgICAgIGluc3QuX2NhbGxlZENvbXBvbmVudFdpbGxVbm1vdW50ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50V2lsbFVubW91bnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNhZmVseSkge1xuICAgICAgICAgIHZhciBuYW1lID0gdGhpcy5nZXROYW1lKCkgKyAnLmNvbXBvbmVudFdpbGxVbm1vdW50KCknO1xuICAgICAgICAgIFJlYWN0RXJyb3JVdGlscy5pbnZva2VHdWFyZGVkQ2FsbGJhY2sobmFtZSwgaW5zdC5jb21wb25lbnRXaWxsVW5tb3VudC5iaW5kKGluc3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnN0LmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2NvbXBvbmVudFdpbGxVbm1vdW50Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fcmVuZGVyZWRDb21wb25lbnQpIHtcbiAgICAgICAgUmVhY3RSZWNvbmNpbGVyLnVubW91bnRDb21wb25lbnQodGhpcy5fcmVuZGVyZWRDb21wb25lbnQsIHNhZmVseSk7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkTm9kZVR5cGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZENvbXBvbmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gbnVsbDtcbiAgICAgIHRoaXMuX3BlbmRpbmdSZXBsYWNlU3RhdGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3BlbmRpbmdGb3JjZVVwZGF0ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fcGVuZGluZ0NhbGxiYWNrcyA9IG51bGw7XG4gICAgICB0aGlzLl9wZW5kaW5nRWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSBudWxsO1xuICAgICAgdGhpcy5fdG9wTGV2ZWxXcmFwcGVyID0gbnVsbDtcbiAgICAgIFJlYWN0SW5zdGFuY2VNYXAucmVtb3ZlKGluc3QpO1xuICAgIH0sXG4gICAgX21hc2tDb250ZXh0OiBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICB2YXIgQ29tcG9uZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgIHZhciBjb250ZXh0VHlwZXMgPSBDb21wb25lbnQuY29udGV4dFR5cGVzO1xuICAgICAgaWYgKCFjb250ZXh0VHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xuICAgICAgfVxuICAgICAgdmFyIG1hc2tlZENvbnRleHQgPSB7fTtcbiAgICAgIGZvciAodmFyIGNvbnRleHROYW1lIGluIGNvbnRleHRUeXBlcykge1xuICAgICAgICBtYXNrZWRDb250ZXh0W2NvbnRleHROYW1lXSA9IGNvbnRleHRbY29udGV4dE5hbWVdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hc2tlZENvbnRleHQ7XG4gICAgfSxcbiAgICBfcHJvY2Vzc0NvbnRleHQ6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgIHZhciBtYXNrZWRDb250ZXh0ID0gdGhpcy5fbWFza0NvbnRleHQoY29udGV4dCk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YXIgQ29tcG9uZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgICAgaWYgKENvbXBvbmVudC5jb250ZXh0VHlwZXMpIHtcbiAgICAgICAgICB0aGlzLl9jaGVja1Byb3BUeXBlcyhDb21wb25lbnQuY29udGV4dFR5cGVzLCBtYXNrZWRDb250ZXh0LCBSZWFjdFByb3BUeXBlTG9jYXRpb25zLmNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFza2VkQ29udGV4dDtcbiAgICB9LFxuICAgIF9wcm9jZXNzQ2hpbGRDb250ZXh0OiBmdW5jdGlvbihjdXJyZW50Q29udGV4dCkge1xuICAgICAgdmFyIENvbXBvbmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICB2YXIgaW5zdCA9IHRoaXMuX2luc3RhbmNlO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5Qcm9jZXNzaW5nQ2hpbGRDb250ZXh0KCk7XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRDb250ZXh0ID0gaW5zdC5nZXRDaGlsZENvbnRleHQgJiYgaW5zdC5nZXRDaGlsZENvbnRleHQoKTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZFByb2Nlc3NpbmdDaGlsZENvbnRleHQoKTtcbiAgICAgIH1cbiAgICAgIGlmIChjaGlsZENvbnRleHQpIHtcbiAgICAgICAgISh0eXBlb2YgQ29tcG9uZW50LmNoaWxkQ29udGV4dFR5cGVzID09PSAnb2JqZWN0JykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMuZ2V0Q2hpbGRDb250ZXh0KCk6IGNoaWxkQ29udGV4dFR5cGVzIG11c3QgYmUgZGVmaW5lZCBpbiBvcmRlciB0byAnICsgJ3VzZSBnZXRDaGlsZENvbnRleHQoKS4nLCB0aGlzLmdldE5hbWUoKSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5fY2hlY2tQcm9wVHlwZXMoQ29tcG9uZW50LmNoaWxkQ29udGV4dFR5cGVzLCBjaGlsZENvbnRleHQsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY2hpbGRDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBuYW1lIGluIGNoaWxkQ29udGV4dCkge1xuICAgICAgICAgICEobmFtZSBpbiBDb21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXMpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzLmdldENoaWxkQ29udGV4dCgpOiBrZXkgXCIlc1wiIGlzIG5vdCBkZWZpbmVkIGluIGNoaWxkQ29udGV4dFR5cGVzLicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcsIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2Fzc2lnbih7fSwgY3VycmVudENvbnRleHQsIGNoaWxkQ29udGV4dCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3VycmVudENvbnRleHQ7XG4gICAgfSxcbiAgICBfcHJvY2Vzc1Byb3BzOiBmdW5jdGlvbihuZXdQcm9wcykge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIENvbXBvbmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICAgIGlmIChDb21wb25lbnQucHJvcFR5cGVzKSB7XG4gICAgICAgICAgdGhpcy5fY2hlY2tQcm9wVHlwZXMoQ29tcG9uZW50LnByb3BUeXBlcywgbmV3UHJvcHMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMucHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdQcm9wcztcbiAgICB9LFxuICAgIF9jaGVja1Byb3BUeXBlczogZnVuY3Rpb24ocHJvcFR5cGVzLCBwcm9wcywgbG9jYXRpb24pIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gdGhpcy5nZXROYW1lKCk7XG4gICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBwcm9wVHlwZXMpIHtcbiAgICAgICAgaWYgKHByb3BUeXBlcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICEodHlwZW9mIHByb3BUeXBlc1twcm9wTmFtZV0gPT09ICdmdW5jdGlvbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzOiAlcyB0eXBlIGAlc2AgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5ICcgKyAnZnJvbSBSZWFjdC5Qcm9wVHlwZXMuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICBlcnJvciA9IHByb3BUeXBlc1twcm9wTmFtZV0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbik7XG4gICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIGVycm9yID0gZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICB2YXIgYWRkZW5kdW0gPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0odGhpcyk7XG4gICAgICAgICAgICBpZiAobG9jYXRpb24gPT09IFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMucHJvcCkge1xuICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ZhaWxlZCBDb21wb3NpdGUgcHJvcFR5cGU6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiB2b2lkIDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ZhaWxlZCBDb250ZXh0IFR5cGVzOiAlcyVzJywgZXJyb3IubWVzc2FnZSwgYWRkZW5kdW0pIDogdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgcmVjZWl2ZUNvbXBvbmVudDogZnVuY3Rpb24obmV4dEVsZW1lbnQsIHRyYW5zYWN0aW9uLCBuZXh0Q29udGV4dCkge1xuICAgICAgdmFyIHByZXZFbGVtZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQ7XG4gICAgICB2YXIgcHJldkNvbnRleHQgPSB0aGlzLl9jb250ZXh0O1xuICAgICAgdGhpcy5fcGVuZGluZ0VsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQodHJhbnNhY3Rpb24sIHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCwgcHJldkNvbnRleHQsIG5leHRDb250ZXh0KTtcbiAgICB9LFxuICAgIHBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeTogZnVuY3Rpb24odHJhbnNhY3Rpb24pIHtcbiAgICAgIGlmICh0aGlzLl9wZW5kaW5nRWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgIFJlYWN0UmVjb25jaWxlci5yZWNlaXZlQ29tcG9uZW50KHRoaXMsIHRoaXMuX3BlbmRpbmdFbGVtZW50LCB0cmFuc2FjdGlvbiwgdGhpcy5fY29udGV4dCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlICE9PSBudWxsIHx8IHRoaXMuX3BlbmRpbmdGb3JjZVVwZGF0ZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudCh0cmFuc2FjdGlvbiwgdGhpcy5fY3VycmVudEVsZW1lbnQsIHRoaXMuX2N1cnJlbnRFbGVtZW50LCB0aGlzLl9jb250ZXh0LCB0aGlzLl9jb250ZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoTnVtYmVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZUNvbXBvbmVudDogZnVuY3Rpb24odHJhbnNhY3Rpb24sIHByZXZQYXJlbnRFbGVtZW50LCBuZXh0UGFyZW50RWxlbWVudCwgcHJldlVubWFza2VkQ29udGV4dCwgbmV4dFVubWFza2VkQ29udGV4dCkge1xuICAgICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICAgIHZhciB3aWxsUmVjZWl2ZSA9IGZhbHNlO1xuICAgICAgdmFyIG5leHRDb250ZXh0O1xuICAgICAgdmFyIG5leHRQcm9wcztcbiAgICAgIGlmICh0aGlzLl9jb250ZXh0ID09PSBuZXh0VW5tYXNrZWRDb250ZXh0KSB7XG4gICAgICAgIG5leHRDb250ZXh0ID0gaW5zdC5jb250ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dENvbnRleHQgPSB0aGlzLl9wcm9jZXNzQ29udGV4dChuZXh0VW5tYXNrZWRDb250ZXh0KTtcbiAgICAgICAgd2lsbFJlY2VpdmUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZQYXJlbnRFbGVtZW50ID09PSBuZXh0UGFyZW50RWxlbWVudCkge1xuICAgICAgICBuZXh0UHJvcHMgPSBuZXh0UGFyZW50RWxlbWVudC5wcm9wcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRQcm9wcyA9IHRoaXMuX3Byb2Nlc3NQcm9wcyhuZXh0UGFyZW50RWxlbWVudC5wcm9wcyk7XG4gICAgICAgIHdpbGxSZWNlaXZlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh3aWxsUmVjZWl2ZSAmJiBpbnN0LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnN0LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzLCBuZXh0Q29udGV4dCk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgbmV4dFN0YXRlID0gdGhpcy5fcHJvY2Vzc1BlbmRpbmdTdGF0ZShuZXh0UHJvcHMsIG5leHRDb250ZXh0KTtcbiAgICAgIHZhciBzaG91bGRVcGRhdGUgPSB0cnVlO1xuICAgICAgaWYgKCF0aGlzLl9wZW5kaW5nRm9yY2VVcGRhdGUgJiYgaW5zdC5zaG91bGRDb21wb25lbnRVcGRhdGUpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNob3VsZFVwZGF0ZSA9IGluc3Quc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlLCBuZXh0Q29udGV4dCk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdzaG91bGRDb21wb25lbnRVcGRhdGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHNob3VsZFVwZGF0ZSAhPT0gdW5kZWZpbmVkLCAnJXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk6IFJldHVybmVkIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIGEgJyArICdib29sZWFuIHZhbHVlLiBNYWtlIHN1cmUgdG8gcmV0dXJuIHRydWUgb3IgZmFsc2UuJywgdGhpcy5nZXROYW1lKCkgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICB0aGlzLl91cGRhdGVCYXRjaE51bWJlciA9IG51bGw7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdGb3JjZVVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wZXJmb3JtQ29tcG9uZW50VXBkYXRlKG5leHRQYXJlbnRFbGVtZW50LCBuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQsIHRyYW5zYWN0aW9uLCBuZXh0VW5tYXNrZWRDb250ZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gbmV4dFBhcmVudEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBuZXh0VW5tYXNrZWRDb250ZXh0O1xuICAgICAgICBpbnN0LnByb3BzID0gbmV4dFByb3BzO1xuICAgICAgICBpbnN0LnN0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgICBpbnN0LmNvbnRleHQgPSBuZXh0Q29udGV4dDtcbiAgICAgIH1cbiAgICB9LFxuICAgIF9wcm9jZXNzUGVuZGluZ1N0YXRlOiBmdW5jdGlvbihwcm9wcywgY29udGV4dCkge1xuICAgICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICAgIHZhciBxdWV1ZSA9IHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlO1xuICAgICAgdmFyIHJlcGxhY2UgPSB0aGlzLl9wZW5kaW5nUmVwbGFjZVN0YXRlO1xuICAgICAgdGhpcy5fcGVuZGluZ1JlcGxhY2VTdGF0ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fcGVuZGluZ1N0YXRlUXVldWUgPSBudWxsO1xuICAgICAgaWYgKCFxdWV1ZSkge1xuICAgICAgICByZXR1cm4gaW5zdC5zdGF0ZTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXBsYWNlICYmIHF1ZXVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gcXVldWVbMF07XG4gICAgICB9XG4gICAgICB2YXIgbmV4dFN0YXRlID0gX2Fzc2lnbih7fSwgcmVwbGFjZSA/IHF1ZXVlWzBdIDogaW5zdC5zdGF0ZSk7XG4gICAgICBmb3IgKHZhciBpID0gcmVwbGFjZSA/IDEgOiAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnRpYWwgPSBxdWV1ZVtpXTtcbiAgICAgICAgX2Fzc2lnbihuZXh0U3RhdGUsIHR5cGVvZiBwYXJ0aWFsID09PSAnZnVuY3Rpb24nID8gcGFydGlhbC5jYWxsKGluc3QsIG5leHRTdGF0ZSwgcHJvcHMsIGNvbnRleHQpIDogcGFydGlhbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dFN0YXRlO1xuICAgIH0sXG4gICAgX3BlcmZvcm1Db21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uKG5leHRFbGVtZW50LCBuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQsIHRyYW5zYWN0aW9uLCB1bm1hc2tlZENvbnRleHQpIHtcbiAgICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgICB2YXIgaGFzQ29tcG9uZW50RGlkVXBkYXRlID0gQm9vbGVhbihpbnN0LmNvbXBvbmVudERpZFVwZGF0ZSk7XG4gICAgICB2YXIgcHJldlByb3BzO1xuICAgICAgdmFyIHByZXZTdGF0ZTtcbiAgICAgIHZhciBwcmV2Q29udGV4dDtcbiAgICAgIGlmIChoYXNDb21wb25lbnREaWRVcGRhdGUpIHtcbiAgICAgICAgcHJldlByb3BzID0gaW5zdC5wcm9wcztcbiAgICAgICAgcHJldlN0YXRlID0gaW5zdC5zdGF0ZTtcbiAgICAgICAgcHJldkNvbnRleHQgPSBpbnN0LmNvbnRleHQ7XG4gICAgICB9XG4gICAgICBpZiAoaW5zdC5jb21wb25lbnRXaWxsVXBkYXRlKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2NvbXBvbmVudFdpbGxVcGRhdGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5zdC5jb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlLCBuZXh0Q29udGV4dCk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnRXaWxsVXBkYXRlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IG5leHRFbGVtZW50O1xuICAgICAgdGhpcy5fY29udGV4dCA9IHVubWFza2VkQ29udGV4dDtcbiAgICAgIGluc3QucHJvcHMgPSBuZXh0UHJvcHM7XG4gICAgICBpbnN0LnN0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgaW5zdC5jb250ZXh0ID0gbmV4dENvbnRleHQ7XG4gICAgICB0aGlzLl91cGRhdGVSZW5kZXJlZENvbXBvbmVudCh0cmFuc2FjdGlvbiwgdW5tYXNrZWRDb250ZXh0KTtcbiAgICAgIGlmIChoYXNDb21wb25lbnREaWRVcGRhdGUpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKGludm9rZUNvbXBvbmVudERpZFVwZGF0ZVdpdGhUaW1lci5iaW5kKHRoaXMsIHByZXZQcm9wcywgcHJldlN0YXRlLCBwcmV2Q29udGV4dCksIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoaW5zdC5jb21wb25lbnREaWRVcGRhdGUuYmluZChpbnN0LCBwcmV2UHJvcHMsIHByZXZTdGF0ZSwgcHJldkNvbnRleHQpLCBpbnN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgX3VwZGF0ZVJlbmRlcmVkQ29tcG9uZW50OiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgdmFyIHByZXZDb21wb25lbnRJbnN0YW5jZSA9IHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50O1xuICAgICAgdmFyIHByZXZSZW5kZXJlZEVsZW1lbnQgPSBwcmV2Q29tcG9uZW50SW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50O1xuICAgICAgdmFyIG5leHRSZW5kZXJlZEVsZW1lbnQgPSB0aGlzLl9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnQoKTtcbiAgICAgIGlmIChzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudChwcmV2UmVuZGVyZWRFbGVtZW50LCBuZXh0UmVuZGVyZWRFbGVtZW50KSkge1xuICAgICAgICBSZWFjdFJlY29uY2lsZXIucmVjZWl2ZUNvbXBvbmVudChwcmV2Q29tcG9uZW50SW5zdGFuY2UsIG5leHRSZW5kZXJlZEVsZW1lbnQsIHRyYW5zYWN0aW9uLCB0aGlzLl9wcm9jZXNzQ2hpbGRDb250ZXh0KGNvbnRleHQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBvbGROYXRpdmVOb2RlID0gUmVhY3RSZWNvbmNpbGVyLmdldE5hdGl2ZU5vZGUocHJldkNvbXBvbmVudEluc3RhbmNlKTtcbiAgICAgICAgUmVhY3RSZWNvbmNpbGVyLnVubW91bnRDb21wb25lbnQocHJldkNvbXBvbmVudEluc3RhbmNlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkTm9kZVR5cGUgPSBSZWFjdE5vZGVUeXBlcy5nZXRUeXBlKG5leHRSZW5kZXJlZEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZENvbXBvbmVudCA9IHRoaXMuX2luc3RhbnRpYXRlUmVhY3RDb21wb25lbnQobmV4dFJlbmRlcmVkRWxlbWVudCk7XG4gICAgICAgIHZhciBuZXh0TWFya3VwID0gUmVhY3RSZWNvbmNpbGVyLm1vdW50Q29tcG9uZW50KHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50LCB0cmFuc2FjdGlvbiwgdGhpcy5fbmF0aXZlUGFyZW50LCB0aGlzLl9uYXRpdmVDb250YWluZXJJbmZvLCB0aGlzLl9wcm9jZXNzQ2hpbGRDb250ZXh0KGNvbnRleHQpKTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uU2V0Q2hpbGRyZW4odGhpcy5fZGVidWdJRCwgdGhpcy5fcmVuZGVyZWRDb21wb25lbnQuX2RlYnVnSUQgIT09IDAgPyBbdGhpcy5fcmVuZGVyZWRDb21wb25lbnQuX2RlYnVnSURdIDogW10pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXBsYWNlTm9kZVdpdGhNYXJrdXAob2xkTmF0aXZlTm9kZSwgbmV4dE1hcmt1cCwgcHJldkNvbXBvbmVudEluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIF9yZXBsYWNlTm9kZVdpdGhNYXJrdXA6IGZ1bmN0aW9uKG9sZE5hdGl2ZU5vZGUsIG5leHRNYXJrdXAsIHByZXZJbnN0YW5jZSkge1xuICAgICAgUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudC5yZXBsYWNlTm9kZVdpdGhNYXJrdXAob2xkTmF0aXZlTm9kZSwgbmV4dE1hcmt1cCwgcHJldkluc3RhbmNlKTtcbiAgICB9LFxuICAgIF9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnRXaXRob3V0T3duZXJPckNvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAncmVuZGVyJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciByZW5kZXJlZENvbXBvbmVudCA9IGluc3QucmVuZGVyKCk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdyZW5kZXInKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKHJlbmRlcmVkQ29tcG9uZW50ID09PSB1bmRlZmluZWQgJiYgaW5zdC5yZW5kZXIuX2lzTW9ja0Z1bmN0aW9uKSB7XG4gICAgICAgICAgcmVuZGVyZWRDb21wb25lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVuZGVyZWRDb21wb25lbnQ7XG4gICAgfSxcbiAgICBfcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZW5kZXJlZENvbXBvbmVudDtcbiAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSB0aGlzO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVuZGVyZWRDb21wb25lbnQgPSB0aGlzLl9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnRXaXRob3V0T3duZXJPckNvbnRleHQoKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgIShyZW5kZXJlZENvbXBvbmVudCA9PT0gbnVsbCB8fCByZW5kZXJlZENvbXBvbmVudCA9PT0gZmFsc2UgfHwgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KHJlbmRlcmVkQ29tcG9uZW50KSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMucmVuZGVyKCk6IEEgdmFsaWQgUmVhY3QgZWxlbWVudCAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZC4gWW91IG1heSBoYXZlICcgKyAncmV0dXJuZWQgdW5kZWZpbmVkLCBhbiBhcnJheSBvciBzb21lIG90aGVyIGludmFsaWQgb2JqZWN0LicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiByZW5kZXJlZENvbXBvbmVudDtcbiAgICB9LFxuICAgIGF0dGFjaFJlZjogZnVuY3Rpb24ocmVmLCBjb21wb25lbnQpIHtcbiAgICAgIHZhciBpbnN0ID0gdGhpcy5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgICAgIShpbnN0ICE9IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1N0YXRlbGVzcyBmdW5jdGlvbiBjb21wb25lbnRzIGNhbm5vdCBoYXZlIHJlZnMuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIHB1YmxpY0NvbXBvbmVudEluc3RhbmNlID0gY29tcG9uZW50LmdldFB1YmxpY0luc3RhbmNlKCk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudCAmJiBjb21wb25lbnQuZ2V0TmFtZSA/IGNvbXBvbmVudC5nZXROYW1lKCkgOiAnYSBjb21wb25lbnQnO1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhwdWJsaWNDb21wb25lbnRJbnN0YW5jZSAhPSBudWxsLCAnU3RhdGVsZXNzIGZ1bmN0aW9uIGNvbXBvbmVudHMgY2Fubm90IGJlIGdpdmVuIHJlZnMgJyArICcoU2VlIHJlZiBcIiVzXCIgaW4gJXMgY3JlYXRlZCBieSAlcykuICcgKyAnQXR0ZW1wdHMgdG8gYWNjZXNzIHRoaXMgcmVmIHdpbGwgZmFpbC4nLCByZWYsIGNvbXBvbmVudE5hbWUsIHRoaXMuZ2V0TmFtZSgpKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHZhciByZWZzID0gaW5zdC5yZWZzID09PSBlbXB0eU9iamVjdCA/IGluc3QucmVmcyA9IHt9IDogaW5zdC5yZWZzO1xuICAgICAgcmVmc1tyZWZdID0gcHVibGljQ29tcG9uZW50SW5zdGFuY2U7XG4gICAgfSxcbiAgICBkZXRhY2hSZWY6IGZ1bmN0aW9uKHJlZikge1xuICAgICAgdmFyIHJlZnMgPSB0aGlzLmdldFB1YmxpY0luc3RhbmNlKCkucmVmcztcbiAgICAgIGRlbGV0ZSByZWZzW3JlZl07XG4gICAgfSxcbiAgICBnZXROYW1lOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0eXBlID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgIHZhciBjb25zdHJ1Y3RvciA9IHRoaXMuX2luc3RhbmNlICYmIHRoaXMuX2luc3RhbmNlLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgY29uc3RydWN0b3IgJiYgY29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IGNvbnN0cnVjdG9yICYmIGNvbnN0cnVjdG9yLm5hbWUgfHwgbnVsbDtcbiAgICB9LFxuICAgIGdldFB1YmxpY0luc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgICBpZiAoaW5zdCBpbnN0YW5jZW9mIFN0YXRlbGVzc0NvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnN0O1xuICAgIH0sXG4gICAgX2luc3RhbnRpYXRlUmVhY3RDb21wb25lbnQ6IG51bGxcbiAgfTtcbiAgdmFyIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50ID0ge01peGluOiBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudE1peGlufTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RFbXB0eUNvbXBvbmVudFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGVtcHR5Q29tcG9uZW50RmFjdG9yeTtcblxudmFyIFJlYWN0RW1wdHlDb21wb25lbnRJbmplY3Rpb24gPSB7XG4gIGluamVjdEVtcHR5Q29tcG9uZW50RmFjdG9yeTogZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICBlbXB0eUNvbXBvbmVudEZhY3RvcnkgPSBmYWN0b3J5O1xuICB9XG59O1xuXG52YXIgUmVhY3RFbXB0eUNvbXBvbmVudCA9IHtcbiAgY3JlYXRlOiBmdW5jdGlvbiAoaW5zdGFudGlhdGUpIHtcbiAgICByZXR1cm4gZW1wdHlDb21wb25lbnRGYWN0b3J5KGluc3RhbnRpYXRlKTtcbiAgfVxufTtcblxuUmVhY3RFbXB0eUNvbXBvbmVudC5pbmplY3Rpb24gPSBSZWFjdEVtcHR5Q29tcG9uZW50SW5qZWN0aW9uO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RW1wdHlDb21wb25lbnQ7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBhdXRvR2VuZXJhdGVXcmFwcGVyQ2xhc3MgPSBudWxsO1xuICB2YXIgZ2VuZXJpY0NvbXBvbmVudENsYXNzID0gbnVsbDtcbiAgdmFyIHRhZ1RvQ29tcG9uZW50Q2xhc3MgPSB7fTtcbiAgdmFyIHRleHRDb21wb25lbnRDbGFzcyA9IG51bGw7XG4gIHZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudEluamVjdGlvbiA9IHtcbiAgICBpbmplY3RHZW5lcmljQ29tcG9uZW50Q2xhc3M6IGZ1bmN0aW9uKGNvbXBvbmVudENsYXNzKSB7XG4gICAgICBnZW5lcmljQ29tcG9uZW50Q2xhc3MgPSBjb21wb25lbnRDbGFzcztcbiAgICB9LFxuICAgIGluamVjdFRleHRDb21wb25lbnRDbGFzczogZnVuY3Rpb24oY29tcG9uZW50Q2xhc3MpIHtcbiAgICAgIHRleHRDb21wb25lbnRDbGFzcyA9IGNvbXBvbmVudENsYXNzO1xuICAgIH0sXG4gICAgaW5qZWN0Q29tcG9uZW50Q2xhc3NlczogZnVuY3Rpb24oY29tcG9uZW50Q2xhc3Nlcykge1xuICAgICAgX2Fzc2lnbih0YWdUb0NvbXBvbmVudENsYXNzLCBjb21wb25lbnRDbGFzc2VzKTtcbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIGdldENvbXBvbmVudENsYXNzRm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgaWYgKHR5cGVvZiBlbGVtZW50LnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnR5cGU7XG4gICAgfVxuICAgIHZhciB0YWcgPSBlbGVtZW50LnR5cGU7XG4gICAgdmFyIGNvbXBvbmVudENsYXNzID0gdGFnVG9Db21wb25lbnRDbGFzc1t0YWddO1xuICAgIGlmIChjb21wb25lbnRDbGFzcyA9PSBudWxsKSB7XG4gICAgICB0YWdUb0NvbXBvbmVudENsYXNzW3RhZ10gPSBjb21wb25lbnRDbGFzcyA9IGF1dG9HZW5lcmF0ZVdyYXBwZXJDbGFzcyh0YWcpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50Q2xhc3M7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlSW50ZXJuYWxDb21wb25lbnQoZWxlbWVudCkge1xuICAgICFnZW5lcmljQ29tcG9uZW50Q2xhc3MgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnVGhlcmUgaXMgbm8gcmVnaXN0ZXJlZCBjb21wb25lbnQgZm9yIHRoZSB0YWcgJXMnLCBlbGVtZW50LnR5cGUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gbmV3IGdlbmVyaWNDb21wb25lbnRDbGFzcyhlbGVtZW50KTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZUZvclRleHQodGV4dCkge1xuICAgIHJldHVybiBuZXcgdGV4dENvbXBvbmVudENsYXNzKHRleHQpO1xuICB9XG4gIGZ1bmN0aW9uIGlzVGV4dENvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICByZXR1cm4gY29tcG9uZW50IGluc3RhbmNlb2YgdGV4dENvbXBvbmVudENsYXNzO1xuICB9XG4gIHZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudCA9IHtcbiAgICBnZXRDb21wb25lbnRDbGFzc0ZvckVsZW1lbnQ6IGdldENvbXBvbmVudENsYXNzRm9yRWxlbWVudCxcbiAgICBjcmVhdGVJbnRlcm5hbENvbXBvbmVudDogY3JlYXRlSW50ZXJuYWxDb21wb25lbnQsXG4gICAgY3JlYXRlSW5zdGFuY2VGb3JUZXh0OiBjcmVhdGVJbnN0YW5jZUZvclRleHQsXG4gICAgaXNUZXh0Q29tcG9uZW50OiBpc1RleHRDb21wb25lbnQsXG4gICAgaW5qZWN0aW9uOiBSZWFjdE5hdGl2ZUNvbXBvbmVudEluamVjdGlvblxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0TmF0aXZlQ29tcG9uZW50O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbiAgdmFyIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50ID0gcmVxdWlyZSgnLi9SZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcpO1xuICB2YXIgUmVhY3RFbXB0eUNvbXBvbmVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbXB0eUNvbXBvbmVudCcpO1xuICB2YXIgUmVhY3ROYXRpdmVDb21wb25lbnQgPSByZXF1aXJlKCcuL1JlYWN0TmF0aXZlQ29tcG9uZW50Jyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50V3JhcHBlciA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB0aGlzLmNvbnN0cnVjdChlbGVtZW50KTtcbiAgfTtcbiAgX2Fzc2lnbihSZWFjdENvbXBvc2l0ZUNvbXBvbmVudFdyYXBwZXIucHJvdG90eXBlLCBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudC5NaXhpbiwge19pbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50OiBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50fSk7XG4gIGZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShvd25lcikge1xuICAgIGlmIChvd25lcikge1xuICAgICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICByZXR1cm4gJyBDaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUoaW5zdGFuY2UpIHtcbiAgICB2YXIgZWxlbWVudCA9IGluc3RhbmNlLl9jdXJyZW50RWxlbWVudDtcbiAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyNlbXB0eSc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGVsZW1lbnQgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gJyN0ZXh0JztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50LnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC50eXBlO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuZ2V0TmFtZSkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlLmdldE5hbWUoKSB8fCAnVW5rbm93bic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnR5cGUuZGlzcGxheU5hbWUgfHwgZWxlbWVudC50eXBlLm5hbWUgfHwgJ1Vua25vd24nO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBpc0ludGVybmFsQ29tcG9uZW50VHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB0eXBlLnByb3RvdHlwZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHR5cGUucHJvdG90eXBlLm1vdW50Q29tcG9uZW50ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB0eXBlLnByb3RvdHlwZS5yZWNlaXZlQ29tcG9uZW50ID09PSAnZnVuY3Rpb24nO1xuICB9XG4gIHZhciBuZXh0RGVidWdJRCA9IDE7XG4gIGZ1bmN0aW9uIGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQobm9kZSkge1xuICAgIHZhciBpbnN0YW5jZTtcbiAgICB2YXIgaXNFbXB0eSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gZmFsc2U7XG4gICAgaWYgKGlzRW1wdHkpIHtcbiAgICAgIGluc3RhbmNlID0gUmVhY3RFbXB0eUNvbXBvbmVudC5jcmVhdGUoaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygbm9kZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gbm9kZTtcbiAgICAgICEoZWxlbWVudCAmJiAodHlwZW9mIGVsZW1lbnQudHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgZWxlbWVudC50eXBlID09PSAnc3RyaW5nJykpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0VsZW1lbnQgdHlwZSBpcyBpbnZhbGlkOiBleHBlY3RlZCBhIHN0cmluZyAoZm9yIGJ1aWx0LWluIGNvbXBvbmVudHMpICcgKyAnb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKSBidXQgZ290OiAlcy4lcycsIGVsZW1lbnQudHlwZSA9PSBudWxsID8gZWxlbWVudC50eXBlIDogdHlwZW9mIGVsZW1lbnQudHlwZSwgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKGVsZW1lbnQuX293bmVyKSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGluc3RhbmNlID0gUmVhY3ROYXRpdmVDb21wb25lbnQuY3JlYXRlSW50ZXJuYWxDb21wb25lbnQoZWxlbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKGlzSW50ZXJuYWxDb21wb25lbnRUeXBlKGVsZW1lbnQudHlwZSkpIHtcbiAgICAgICAgaW5zdGFuY2UgPSBuZXcgZWxlbWVudC50eXBlKGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UgPSBuZXcgUmVhY3RDb21wb3NpdGVDb21wb25lbnRXcmFwcGVyKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG5vZGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBub2RlID09PSAnbnVtYmVyJykge1xuICAgICAgaW5zdGFuY2UgPSBSZWFjdE5hdGl2ZUNvbXBvbmVudC5jcmVhdGVJbnN0YW5jZUZvclRleHQobm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFbmNvdW50ZXJlZCBpbnZhbGlkIFJlYWN0IG5vZGUgb2YgdHlwZSAlcycsIHR5cGVvZiBub2RlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh0eXBlb2YgaW5zdGFuY2UubW91bnRDb21wb25lbnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGluc3RhbmNlLnJlY2VpdmVDb21wb25lbnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGluc3RhbmNlLmdldE5hdGl2ZU5vZGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGluc3RhbmNlLnVubW91bnRDb21wb25lbnQgPT09ICdmdW5jdGlvbicsICdPbmx5IFJlYWN0IENvbXBvbmVudHMgY2FuIGJlIG1vdW50ZWQuJykgOiB2b2lkIDA7XG4gICAgfVxuICAgIGluc3RhbmNlLl9tb3VudEluZGV4ID0gMDtcbiAgICBpbnN0YW5jZS5fbW91bnRJbWFnZSA9IG51bGw7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGluc3RhbmNlLl9pc093bmVyTmVjZXNzYXJ5ID0gZmFsc2U7XG4gICAgICBpbnN0YW5jZS5fd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBkZWJ1Z0lEID0gaXNFbXB0eSA/IDAgOiBuZXh0RGVidWdJRCsrO1xuICAgICAgaW5zdGFuY2UuX2RlYnVnSUQgPSBkZWJ1Z0lEO1xuICAgICAgaWYgKGRlYnVnSUQgIT09IDApIHtcbiAgICAgICAgdmFyIGRpc3BsYXlOYW1lID0gZ2V0RGlzcGxheU5hbWUoaW5zdGFuY2UpO1xuICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXREaXNwbGF5TmFtZShkZWJ1Z0lELCBkaXNwbGF5TmFtZSk7XG4gICAgICAgIHZhciBvd25lciA9IG5vZGUgJiYgbm9kZS5fb3duZXI7XG4gICAgICAgIGlmIChvd25lcikge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldE93bmVyKGRlYnVnSUQsIG93bmVyLl9kZWJ1Z0lEKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucykge1xuICAgICAgICBPYmplY3QucHJldmVudEV4dGVuc2lvbnMoaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBjcmVhdGVNaWNyb3NvZnRVbnNhZmVMb2NhbEZ1bmN0aW9uXG4gKi9cblxuLyogZ2xvYmFscyBNU0FwcCAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlIGEgZnVuY3Rpb24gd2hpY2ggaGFzICd1bnNhZmUnIHByaXZpbGVnZXMgKHJlcXVpcmVkIGJ5IHdpbmRvd3M4IGFwcHMpXG4gKi9cblxudmFyIGNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24gPSBmdW5jdGlvbiAoZnVuYykge1xuICBpZiAodHlwZW9mIE1TQXBwICE9PSAndW5kZWZpbmVkJyAmJiBNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYXJnMCwgYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgTVNBcHAuZXhlY1Vuc2FmZUxvY2FsRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuYyhhcmcwLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbjsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbiAgdmFyIFdISVRFU1BBQ0VfVEVTVCA9IC9eWyBcXHJcXG5cXHRcXGZdLztcbiAgdmFyIE5PTlZJU0lCTEVfVEVTVCA9IC88KCEtLXxsaW5rfG5vc2NyaXB0fG1ldGF8c2NyaXB0fHN0eWxlKVsgXFxyXFxuXFx0XFxmXFwvPl0vO1xuICB2YXIgY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbiA9IHJlcXVpcmUoJy4vY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbicpO1xuICB2YXIgc2V0SW5uZXJIVE1MID0gY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbihub2RlLCBodG1sKSB7XG4gICAgbm9kZS5pbm5lckhUTUwgPSBodG1sO1xuICB9KTtcbiAgaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIHZhciB0ZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRlc3RFbGVtZW50LmlubmVySFRNTCA9ICcgJztcbiAgICBpZiAodGVzdEVsZW1lbnQuaW5uZXJIVE1MID09PSAnJykge1xuICAgICAgc2V0SW5uZXJIVE1MID0gZnVuY3Rpb24obm9kZSwgaHRtbCkge1xuICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChub2RlLCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoV0hJVEVTUEFDRV9URVNULnRlc3QoaHRtbCkgfHwgaHRtbFswXSA9PT0gJzwnICYmIE5PTlZJU0lCTEVfVEVTVC50ZXN0KGh0bWwpKSB7XG4gICAgICAgICAgbm9kZS5pbm5lckhUTUwgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RkVGRikgKyBodG1sO1xuICAgICAgICAgIHZhciB0ZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgICBpZiAodGV4dE5vZGUuZGF0YS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQodGV4dE5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0Tm9kZS5kZWxldGVEYXRhKDAsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIHRlc3RFbGVtZW50ID0gbnVsbDtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IHNldElubmVySFRNTDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogR2l2ZW4gYSBgcHJldkVsZW1lbnRgIGFuZCBgbmV4dEVsZW1lbnRgLCBkZXRlcm1pbmVzIGlmIHRoZSBleGlzdGluZ1xuICogaW5zdGFuY2Ugc2hvdWxkIGJlIHVwZGF0ZWQgYXMgb3Bwb3NlZCB0byBiZWluZyBkZXN0cm95ZWQgb3IgcmVwbGFjZWQgYnkgYSBuZXdcbiAqIGluc3RhbmNlLiBCb3RoIGFyZ3VtZW50cyBhcmUgZWxlbWVudHMuIFRoaXMgZW5zdXJlcyB0aGF0IHRoaXMgbG9naWMgY2FuXG4gKiBvcGVyYXRlIG9uIHN0YXRlbGVzcyB0cmVlcyB3aXRob3V0IGFueSBiYWNraW5nIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gcHJldkVsZW1lbnRcbiAqIEBwYXJhbSB7P29iamVjdH0gbmV4dEVsZW1lbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV4aXN0aW5nIGluc3RhbmNlIHNob3VsZCBiZSB1cGRhdGVkLlxuICogQHByb3RlY3RlZFxuICovXG5cbmZ1bmN0aW9uIHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50KHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCkge1xuICB2YXIgcHJldkVtcHR5ID0gcHJldkVsZW1lbnQgPT09IG51bGwgfHwgcHJldkVsZW1lbnQgPT09IGZhbHNlO1xuICB2YXIgbmV4dEVtcHR5ID0gbmV4dEVsZW1lbnQgPT09IG51bGwgfHwgbmV4dEVsZW1lbnQgPT09IGZhbHNlO1xuICBpZiAocHJldkVtcHR5IHx8IG5leHRFbXB0eSkge1xuICAgIHJldHVybiBwcmV2RW1wdHkgPT09IG5leHRFbXB0eTtcbiAgfVxuXG4gIHZhciBwcmV2VHlwZSA9IHR5cGVvZiBwcmV2RWxlbWVudDtcbiAgdmFyIG5leHRUeXBlID0gdHlwZW9mIG5leHRFbGVtZW50O1xuICBpZiAocHJldlR5cGUgPT09ICdzdHJpbmcnIHx8IHByZXZUeXBlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBuZXh0VHlwZSA9PT0gJ3N0cmluZycgfHwgbmV4dFR5cGUgPT09ICdudW1iZXInO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXh0VHlwZSA9PT0gJ29iamVjdCcgJiYgcHJldkVsZW1lbnQudHlwZSA9PT0gbmV4dEVsZW1lbnQudHlwZSAmJiBwcmV2RWxlbWVudC5rZXkgPT09IG5leHRFbGVtZW50LmtleTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50OyIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgRE9NTGF6eVRyZWUgPSByZXF1aXJlKCcuL0RPTUxhenlUcmVlJyk7XG4gIHZhciBET01Qcm9wZXJ0eSA9IHJlcXVpcmUoJy4vRE9NUHJvcGVydHknKTtcbiAgdmFyIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJy4vUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyJyk7XG4gIHZhciBSZWFjdEN1cnJlbnRPd25lciA9IHJlcXVpcmUoJy4vUmVhY3RDdXJyZW50T3duZXInKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRUcmVlJyk7XG4gIHZhciBSZWFjdERPTUNvbnRhaW5lckluZm8gPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29udGFpbmVySW5mbycpO1xuICB2YXIgUmVhY3RET01GZWF0dXJlRmxhZ3MgPSByZXF1aXJlKCcuL1JlYWN0RE9NRmVhdHVyZUZsYWdzJyk7XG4gIHZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudCcpO1xuICB2YXIgUmVhY3RGZWF0dXJlRmxhZ3MgPSByZXF1aXJlKCcuL1JlYWN0RmVhdHVyZUZsYWdzJyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIFJlYWN0TWFya3VwQ2hlY2tzdW0gPSByZXF1aXJlKCcuL1JlYWN0TWFya3VwQ2hlY2tzdW0nKTtcbiAgdmFyIFJlYWN0UmVjb25jaWxlciA9IHJlcXVpcmUoJy4vUmVhY3RSZWNvbmNpbGVyJyk7XG4gIHZhciBSZWFjdFVwZGF0ZVF1ZXVlID0gcmVxdWlyZSgnLi9SZWFjdFVwZGF0ZVF1ZXVlJyk7XG4gIHZhciBSZWFjdFVwZGF0ZXMgPSByZXF1aXJlKCcuL1JlYWN0VXBkYXRlcycpO1xuICB2YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eU9iamVjdCcpO1xuICB2YXIgaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCcpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBzZXRJbm5lckhUTUwgPSByZXF1aXJlKCcuL3NldElubmVySFRNTCcpO1xuICB2YXIgc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQgPSByZXF1aXJlKCcuL3Nob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50Jyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgQVRUUl9OQU1FID0gRE9NUHJvcGVydHkuSURfQVRUUklCVVRFX05BTUU7XG4gIHZhciBST09UX0FUVFJfTkFNRSA9IERPTVByb3BlcnR5LlJPT1RfQVRUUklCVVRFX05BTUU7XG4gIHZhciBFTEVNRU5UX05PREVfVFlQRSA9IDE7XG4gIHZhciBET0NfTk9ERV9UWVBFID0gOTtcbiAgdmFyIERPQ1VNRU5UX0ZSQUdNRU5UX05PREVfVFlQRSA9IDExO1xuICB2YXIgaW5zdGFuY2VzQnlSZWFjdFJvb3RJRCA9IHt9O1xuICBmdW5jdGlvbiBmaXJzdERpZmZlcmVuY2VJbmRleChzdHJpbmcxLCBzdHJpbmcyKSB7XG4gICAgdmFyIG1pbkxlbiA9IE1hdGgubWluKHN0cmluZzEubGVuZ3RoLCBzdHJpbmcyLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaW5MZW47IGkrKykge1xuICAgICAgaWYgKHN0cmluZzEuY2hhckF0KGkpICE9PSBzdHJpbmcyLmNoYXJBdChpKSkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZzEubGVuZ3RoID09PSBzdHJpbmcyLmxlbmd0aCA/IC0xIDogbWluTGVuO1xuICB9XG4gIGZ1bmN0aW9uIGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUpIHtcbiAgICAgIHJldHVybiBjb250YWluZXIuZG9jdW1lbnRFbGVtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY29udGFpbmVyLmZpcnN0Q2hpbGQ7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGludGVybmFsR2V0SUQobm9kZSkge1xuICAgIHJldHVybiBub2RlLmdldEF0dHJpYnV0ZSAmJiBub2RlLmdldEF0dHJpYnV0ZShBVFRSX05BTUUpIHx8ICcnO1xuICB9XG4gIGZ1bmN0aW9uIG1vdW50Q29tcG9uZW50SW50b05vZGUod3JhcHBlckluc3RhbmNlLCBjb250YWluZXIsIHRyYW5zYWN0aW9uLCBzaG91bGRSZXVzZU1hcmt1cCwgY29udGV4dCkge1xuICAgIHZhciBtYXJrZXJOYW1lO1xuICAgIGlmIChSZWFjdEZlYXR1cmVGbGFncy5sb2dUb3BMZXZlbFJlbmRlcnMpIHtcbiAgICAgIHZhciB3cmFwcGVkRWxlbWVudCA9IHdyYXBwZXJJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICB2YXIgdHlwZSA9IHdyYXBwZWRFbGVtZW50LnR5cGU7XG4gICAgICBtYXJrZXJOYW1lID0gJ1JlYWN0IG1vdW50OiAnICsgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IHR5cGUgOiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSk7XG4gICAgICBjb25zb2xlLnRpbWUobWFya2VyTmFtZSk7XG4gICAgfVxuICAgIHZhciBtYXJrdXAgPSBSZWFjdFJlY29uY2lsZXIubW91bnRDb21wb25lbnQod3JhcHBlckluc3RhbmNlLCB0cmFuc2FjdGlvbiwgbnVsbCwgUmVhY3RET01Db250YWluZXJJbmZvKHdyYXBwZXJJbnN0YW5jZSwgY29udGFpbmVyKSwgY29udGV4dCk7XG4gICAgaWYgKG1hcmtlck5hbWUpIHtcbiAgICAgIGNvbnNvbGUudGltZUVuZChtYXJrZXJOYW1lKTtcbiAgICB9XG4gICAgd3JhcHBlckluc3RhbmNlLl9yZW5kZXJlZENvbXBvbmVudC5fdG9wTGV2ZWxXcmFwcGVyID0gd3JhcHBlckluc3RhbmNlO1xuICAgIFJlYWN0TW91bnQuX21vdW50SW1hZ2VJbnRvTm9kZShtYXJrdXAsIGNvbnRhaW5lciwgd3JhcHBlckluc3RhbmNlLCBzaG91bGRSZXVzZU1hcmt1cCwgdHJhbnNhY3Rpb24pO1xuICB9XG4gIGZ1bmN0aW9uIGJhdGNoZWRNb3VudENvbXBvbmVudEludG9Ob2RlKGNvbXBvbmVudEluc3RhbmNlLCBjb250YWluZXIsIHNob3VsZFJldXNlTWFya3VwLCBjb250ZXh0KSB7XG4gICAgdmFyIHRyYW5zYWN0aW9uID0gUmVhY3RVcGRhdGVzLlJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24uZ2V0UG9vbGVkKCFzaG91bGRSZXVzZU1hcmt1cCAmJiBSZWFjdERPTUZlYXR1cmVGbGFncy51c2VDcmVhdGVFbGVtZW50KTtcbiAgICB0cmFuc2FjdGlvbi5wZXJmb3JtKG1vdW50Q29tcG9uZW50SW50b05vZGUsIG51bGwsIGNvbXBvbmVudEluc3RhbmNlLCBjb250YWluZXIsIHRyYW5zYWN0aW9uLCBzaG91bGRSZXVzZU1hcmt1cCwgY29udGV4dCk7XG4gICAgUmVhY3RVcGRhdGVzLlJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24ucmVsZWFzZSh0cmFuc2FjdGlvbik7XG4gIH1cbiAgZnVuY3Rpb24gdW5tb3VudENvbXBvbmVudEZyb21Ob2RlKGluc3RhbmNlLCBjb250YWluZXIsIHNhZmVseSkge1xuICAgIFJlYWN0UmVjb25jaWxlci51bm1vdW50Q29tcG9uZW50KGluc3RhbmNlLCBzYWZlbHkpO1xuICAgIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUpIHtcbiAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lci5kb2N1bWVudEVsZW1lbnQ7XG4gICAgfVxuICAgIHdoaWxlIChjb250YWluZXIubGFzdENoaWxkKSB7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY29udGFpbmVyLmxhc3RDaGlsZCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGhhc05vblJvb3RSZWFjdENoaWxkKGNvbnRhaW5lcikge1xuICAgIHZhciByb290RWwgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICBpZiAocm9vdEVsKSB7XG4gICAgICB2YXIgaW5zdCA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRJbnN0YW5jZUZyb21Ob2RlKHJvb3RFbCk7XG4gICAgICByZXR1cm4gISEoaW5zdCAmJiBpbnN0Ll9uYXRpdmVQYXJlbnQpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXROYXRpdmVSb290SW5zdGFuY2VJbkNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICB2YXIgcm9vdEVsID0gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgdmFyIHByZXZOYXRpdmVJbnN0YW5jZSA9IHJvb3RFbCAmJiBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShyb290RWwpO1xuICAgIHJldHVybiBwcmV2TmF0aXZlSW5zdGFuY2UgJiYgIXByZXZOYXRpdmVJbnN0YW5jZS5fbmF0aXZlUGFyZW50ID8gcHJldk5hdGl2ZUluc3RhbmNlIDogbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBnZXRUb3BMZXZlbFdyYXBwZXJJbkNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICB2YXIgcm9vdCA9IGdldE5hdGl2ZVJvb3RJbnN0YW5jZUluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgcmV0dXJuIHJvb3QgPyByb290Ll9uYXRpdmVDb250YWluZXJJbmZvLl90b3BMZXZlbFdyYXBwZXIgOiBudWxsO1xuICB9XG4gIHZhciB0b3BMZXZlbFJvb3RDb3VudGVyID0gMTtcbiAgdmFyIFRvcExldmVsV3JhcHBlciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucm9vdElEID0gdG9wTGV2ZWxSb290Q291bnRlcisrO1xuICB9O1xuICBUb3BMZXZlbFdyYXBwZXIucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB7fTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBUb3BMZXZlbFdyYXBwZXIuZGlzcGxheU5hbWUgPSAnVG9wTGV2ZWxXcmFwcGVyJztcbiAgfVxuICBUb3BMZXZlbFdyYXBwZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzO1xuICB9O1xuICB2YXIgUmVhY3RNb3VudCA9IHtcbiAgICBUb3BMZXZlbFdyYXBwZXI6IFRvcExldmVsV3JhcHBlcixcbiAgICBfaW5zdGFuY2VzQnlSZWFjdFJvb3RJRDogaW5zdGFuY2VzQnlSZWFjdFJvb3RJRCxcbiAgICBzY3JvbGxNb25pdG9yOiBmdW5jdGlvbihjb250YWluZXIsIHJlbmRlckNhbGxiYWNrKSB7XG4gICAgICByZW5kZXJDYWxsYmFjaygpO1xuICAgIH0sXG4gICAgX3VwZGF0ZVJvb3RDb21wb25lbnQ6IGZ1bmN0aW9uKHByZXZDb21wb25lbnQsIG5leHRFbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgICBSZWFjdE1vdW50LnNjcm9sbE1vbml0b3IoY29udGFpbmVyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgUmVhY3RVcGRhdGVRdWV1ZS5lbnF1ZXVlRWxlbWVudEludGVybmFsKHByZXZDb21wb25lbnQsIG5leHRFbGVtZW50KTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgUmVhY3RVcGRhdGVRdWV1ZS5lbnF1ZXVlQ2FsbGJhY2tJbnRlcm5hbChwcmV2Q29tcG9uZW50LCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHByZXZDb21wb25lbnQ7XG4gICAgfSxcbiAgICBfcmVuZGVyTmV3Um9vdENvbXBvbmVudDogZnVuY3Rpb24obmV4dEVsZW1lbnQsIGNvbnRhaW5lciwgc2hvdWxkUmV1c2VNYXJrdXAsIGNvbnRleHQpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luRmx1c2goKTtcbiAgICAgIH1cbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPT0gbnVsbCwgJ19yZW5kZXJOZXdSb290Q29tcG9uZW50KCk6IFJlbmRlciBtZXRob2RzIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gJyArICdvZiBwcm9wcyBhbmQgc3RhdGU7IHRyaWdnZXJpbmcgbmVzdGVkIGNvbXBvbmVudCB1cGRhdGVzIGZyb20gJyArICdyZW5kZXIgaXMgbm90IGFsbG93ZWQuIElmIG5lY2Vzc2FyeSwgdHJpZ2dlciBuZXN0ZWQgdXBkYXRlcyBpbiAnICsgJ2NvbXBvbmVudERpZFVwZGF0ZS4gQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgJXMuJywgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LmdldE5hbWUoKSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICEoY29udGFpbmVyICYmIChjb250YWluZXIubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERV9UWVBFIHx8IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ1VNRU5UX0ZSQUdNRU5UX05PREVfVFlQRSkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ19yZWdpc3RlckNvbXBvbmVudCguLi4pOiBUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5lbnN1cmVTY3JvbGxWYWx1ZU1vbml0b3JpbmcoKTtcbiAgICAgIHZhciBjb21wb25lbnRJbnN0YW5jZSA9IGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQobmV4dEVsZW1lbnQpO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgY29tcG9uZW50SW5zdGFuY2UuX2RlYnVnSUQgPSAwO1xuICAgICAgfVxuICAgICAgUmVhY3RVcGRhdGVzLmJhdGNoZWRVcGRhdGVzKGJhdGNoZWRNb3VudENvbXBvbmVudEludG9Ob2RlLCBjb21wb25lbnRJbnN0YW5jZSwgY29udGFpbmVyLCBzaG91bGRSZXVzZU1hcmt1cCwgY29udGV4dCk7XG4gICAgICB2YXIgd3JhcHBlcklEID0gY29tcG9uZW50SW5zdGFuY2UuX2luc3RhbmNlLnJvb3RJRDtcbiAgICAgIGluc3RhbmNlc0J5UmVhY3RSb290SURbd3JhcHBlcklEXSA9IGNvbXBvbmVudEluc3RhbmNlO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTW91bnRSb290Q29tcG9uZW50KGNvbXBvbmVudEluc3RhbmNlLl9yZW5kZXJlZENvbXBvbmVudC5fZGVidWdJRCk7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZEZsdXNoKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29tcG9uZW50SW5zdGFuY2U7XG4gICAgfSxcbiAgICByZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjogZnVuY3Rpb24ocGFyZW50Q29tcG9uZW50LCBuZXh0RWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgICAgIShwYXJlbnRDb21wb25lbnQgIT0gbnVsbCAmJiBwYXJlbnRDb21wb25lbnQuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSAhPSBudWxsKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdwYXJlbnRDb21wb25lbnQgbXVzdCBiZSBhIHZhbGlkIFJlYWN0IENvbXBvbmVudCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiBSZWFjdE1vdW50Ll9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihwYXJlbnRDb21wb25lbnQsIG5leHRFbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIF9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjogZnVuY3Rpb24ocGFyZW50Q29tcG9uZW50LCBuZXh0RWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgICAgUmVhY3RVcGRhdGVRdWV1ZS52YWxpZGF0ZUNhbGxiYWNrKGNhbGxiYWNrLCAnUmVhY3RET00ucmVuZGVyJyk7XG4gICAgICAhUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KG5leHRFbGVtZW50KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdERPTS5yZW5kZXIoKTogSW52YWxpZCBjb21wb25lbnQgZWxlbWVudC4lcycsIHR5cGVvZiBuZXh0RWxlbWVudCA9PT0gJ3N0cmluZycgPyAnIEluc3RlYWQgb2YgcGFzc2luZyBhIHN0cmluZyBsaWtlIFxcJ2RpdlxcJywgcGFzcyAnICsgJ1JlYWN0LmNyZWF0ZUVsZW1lbnQoXFwnZGl2XFwnKSBvciA8ZGl2IC8+LicgOiB0eXBlb2YgbmV4dEVsZW1lbnQgPT09ICdmdW5jdGlvbicgPyAnIEluc3RlYWQgb2YgcGFzc2luZyBhIGNsYXNzIGxpa2UgRm9vLCBwYXNzICcgKyAnUmVhY3QuY3JlYXRlRWxlbWVudChGb28pIG9yIDxGb28gLz4uJyA6IG5leHRFbGVtZW50ICE9IG51bGwgJiYgbmV4dEVsZW1lbnQucHJvcHMgIT09IHVuZGVmaW5lZCA/ICcgVGhpcyBtYXkgYmUgY2F1c2VkIGJ5IHVuaW50ZW50aW9uYWxseSBsb2FkaW5nIHR3byBpbmRlcGVuZGVudCAnICsgJ2NvcGllcyBvZiBSZWFjdC4nIDogJycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFjb250YWluZXIgfHwgIWNvbnRhaW5lci50YWdOYW1lIHx8IGNvbnRhaW5lci50YWdOYW1lLnRvVXBwZXJDYXNlKCkgIT09ICdCT0RZJywgJ3JlbmRlcigpOiBSZW5kZXJpbmcgY29tcG9uZW50cyBkaXJlY3RseSBpbnRvIGRvY3VtZW50LmJvZHkgaXMgJyArICdkaXNjb3VyYWdlZCwgc2luY2UgaXRzIGNoaWxkcmVuIGFyZSBvZnRlbiBtYW5pcHVsYXRlZCBieSB0aGlyZC1wYXJ0eSAnICsgJ3NjcmlwdHMgYW5kIGJyb3dzZXIgZXh0ZW5zaW9ucy4gVGhpcyBtYXkgbGVhZCB0byBzdWJ0bGUgJyArICdyZWNvbmNpbGlhdGlvbiBpc3N1ZXMuIFRyeSByZW5kZXJpbmcgaW50byBhIGNvbnRhaW5lciBlbGVtZW50IGNyZWF0ZWQgJyArICdmb3IgeW91ciBhcHAuJykgOiB2b2lkIDA7XG4gICAgICB2YXIgbmV4dFdyYXBwZWRFbGVtZW50ID0gUmVhY3RFbGVtZW50KFRvcExldmVsV3JhcHBlciwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbmV4dEVsZW1lbnQpO1xuICAgICAgdmFyIHByZXZDb21wb25lbnQgPSBnZXRUb3BMZXZlbFdyYXBwZXJJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgaWYgKHByZXZDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIHByZXZXcmFwcGVkRWxlbWVudCA9IHByZXZDb21wb25lbnQuX2N1cnJlbnRFbGVtZW50O1xuICAgICAgICB2YXIgcHJldkVsZW1lbnQgPSBwcmV2V3JhcHBlZEVsZW1lbnQucHJvcHM7XG4gICAgICAgIGlmIChzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudChwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQpKSB7XG4gICAgICAgICAgdmFyIHB1YmxpY0luc3QgPSBwcmV2Q29tcG9uZW50Ll9yZW5kZXJlZENvbXBvbmVudC5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgICAgICAgIHZhciB1cGRhdGVkQ2FsbGJhY2sgPSBjYWxsYmFjayAmJiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwocHVibGljSW5zdCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBSZWFjdE1vdW50Ll91cGRhdGVSb290Q29tcG9uZW50KHByZXZDb21wb25lbnQsIG5leHRXcmFwcGVkRWxlbWVudCwgY29udGFpbmVyLCB1cGRhdGVkQ2FsbGJhY2spO1xuICAgICAgICAgIHJldHVybiBwdWJsaWNJbnN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFJlYWN0TW91bnQudW5tb3VudENvbXBvbmVudEF0Tm9kZShjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgcmVhY3RSb290RWxlbWVudCA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgdmFyIGNvbnRhaW5lckhhc1JlYWN0TWFya3VwID0gcmVhY3RSb290RWxlbWVudCAmJiAhIWludGVybmFsR2V0SUQocmVhY3RSb290RWxlbWVudCk7XG4gICAgICB2YXIgY29udGFpbmVySGFzTm9uUm9vdFJlYWN0Q2hpbGQgPSBoYXNOb25Sb290UmVhY3RDaGlsZChjb250YWluZXIpO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWNvbnRhaW5lckhhc05vblJvb3RSZWFjdENoaWxkLCAncmVuZGVyKC4uLik6IFJlcGxhY2luZyBSZWFjdC1yZW5kZXJlZCBjaGlsZHJlbiB3aXRoIGEgbmV3IHJvb3QgJyArICdjb21wb25lbnQuIElmIHlvdSBpbnRlbmRlZCB0byB1cGRhdGUgdGhlIGNoaWxkcmVuIG9mIHRoaXMgbm9kZSwgJyArICd5b3Ugc2hvdWxkIGluc3RlYWQgaGF2ZSB0aGUgZXhpc3RpbmcgY2hpbGRyZW4gdXBkYXRlIHRoZWlyIHN0YXRlICcgKyAnYW5kIHJlbmRlciB0aGUgbmV3IGNvbXBvbmVudHMgaW5zdGVhZCBvZiBjYWxsaW5nIFJlYWN0RE9NLnJlbmRlci4nKSA6IHZvaWQgMDtcbiAgICAgICAgaWYgKCFjb250YWluZXJIYXNSZWFjdE1hcmt1cCB8fCByZWFjdFJvb3RFbGVtZW50Lm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgdmFyIHJvb3RFbGVtZW50U2libGluZyA9IHJlYWN0Um9vdEVsZW1lbnQ7XG4gICAgICAgICAgd2hpbGUgKHJvb3RFbGVtZW50U2libGluZykge1xuICAgICAgICAgICAgaWYgKGludGVybmFsR2V0SUQocm9vdEVsZW1lbnRTaWJsaW5nKSkge1xuICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ3JlbmRlcigpOiBUYXJnZXQgbm9kZSBoYXMgbWFya3VwIHJlbmRlcmVkIGJ5IFJlYWN0LCBidXQgdGhlcmUgJyArICdhcmUgdW5yZWxhdGVkIG5vZGVzIGFzIHdlbGwuIFRoaXMgaXMgbW9zdCBjb21tb25seSBjYXVzZWQgYnkgJyArICd3aGl0ZS1zcGFjZSBpbnNlcnRlZCBhcm91bmQgc2VydmVyLXJlbmRlcmVkIG1hcmt1cC4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb290RWxlbWVudFNpYmxpbmcgPSByb290RWxlbWVudFNpYmxpbmcubmV4dFNpYmxpbmc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgc2hvdWxkUmV1c2VNYXJrdXAgPSBjb250YWluZXJIYXNSZWFjdE1hcmt1cCAmJiAhcHJldkNvbXBvbmVudCAmJiAhY29udGFpbmVySGFzTm9uUm9vdFJlYWN0Q2hpbGQ7XG4gICAgICB2YXIgY29tcG9uZW50ID0gUmVhY3RNb3VudC5fcmVuZGVyTmV3Um9vdENvbXBvbmVudChuZXh0V3JhcHBlZEVsZW1lbnQsIGNvbnRhaW5lciwgc2hvdWxkUmV1c2VNYXJrdXAsIHBhcmVudENvbXBvbmVudCAhPSBudWxsID8gcGFyZW50Q29tcG9uZW50Ll9yZWFjdEludGVybmFsSW5zdGFuY2UuX3Byb2Nlc3NDaGlsZENvbnRleHQocGFyZW50Q29tcG9uZW50Ll9yZWFjdEludGVybmFsSW5zdGFuY2UuX2NvbnRleHQpIDogZW1wdHlPYmplY3QpLl9yZW5kZXJlZENvbXBvbmVudC5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwoY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKG5leHRFbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gUmVhY3RNb3VudC5fcmVuZGVyU3VidHJlZUludG9Db250YWluZXIobnVsbCwgbmV4dEVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgdW5tb3VudENvbXBvbmVudEF0Tm9kZTogZnVuY3Rpb24oY29udGFpbmVyKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID09IG51bGwsICd1bm1vdW50Q29tcG9uZW50QXROb2RlKCk6IFJlbmRlciBtZXRob2RzIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gJyArICdvZiBwcm9wcyBhbmQgc3RhdGU7IHRyaWdnZXJpbmcgbmVzdGVkIGNvbXBvbmVudCB1cGRhdGVzIGZyb20gcmVuZGVyICcgKyAnaXMgbm90IGFsbG93ZWQuIElmIG5lY2Vzc2FyeSwgdHJpZ2dlciBuZXN0ZWQgdXBkYXRlcyBpbiAnICsgJ2NvbXBvbmVudERpZFVwZGF0ZS4gQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgJXMuJywgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LmdldE5hbWUoKSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICEoY29udGFpbmVyICYmIChjb250YWluZXIubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERV9UWVBFIHx8IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ1VNRU5UX0ZSQUdNRU5UX05PREVfVFlQRSkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VubW91bnRDb21wb25lbnRBdE5vZGUoLi4uKTogVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgcHJldkNvbXBvbmVudCA9IGdldFRvcExldmVsV3JhcHBlckluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgICBpZiAoIXByZXZDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lckhhc05vblJvb3RSZWFjdENoaWxkID0gaGFzTm9uUm9vdFJlYWN0Q2hpbGQoY29udGFpbmVyKTtcbiAgICAgICAgdmFyIGlzQ29udGFpbmVyUmVhY3RSb290ID0gY29udGFpbmVyLm5vZGVUeXBlID09PSAxICYmIGNvbnRhaW5lci5oYXNBdHRyaWJ1dGUoUk9PVF9BVFRSX05BTUUpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFjb250YWluZXJIYXNOb25Sb290UmVhY3RDaGlsZCwgJ3VubW91bnRDb21wb25lbnRBdE5vZGUoKTogVGhlIG5vZGUgeW91XFwncmUgYXR0ZW1wdGluZyB0byB1bm1vdW50ICcgKyAnd2FzIHJlbmRlcmVkIGJ5IFJlYWN0IGFuZCBpcyBub3QgYSB0b3AtbGV2ZWwgY29udGFpbmVyLiAlcycsIGlzQ29udGFpbmVyUmVhY3RSb290ID8gJ1lvdSBtYXkgaGF2ZSBhY2NpZGVudGFsbHkgcGFzc2VkIGluIGEgUmVhY3Qgcm9vdCBub2RlIGluc3RlYWQgJyArICdvZiBpdHMgY29udGFpbmVyLicgOiAnSW5zdGVhZCwgaGF2ZSB0aGUgcGFyZW50IGNvbXBvbmVudCB1cGRhdGUgaXRzIHN0YXRlIGFuZCAnICsgJ3JlcmVuZGVyIGluIG9yZGVyIHRvIHJlbW92ZSB0aGlzIGNvbXBvbmVudC4nKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBkZWxldGUgaW5zdGFuY2VzQnlSZWFjdFJvb3RJRFtwcmV2Q29tcG9uZW50Ll9pbnN0YW5jZS5yb290SURdO1xuICAgICAgUmVhY3RVcGRhdGVzLmJhdGNoZWRVcGRhdGVzKHVubW91bnRDb21wb25lbnRGcm9tTm9kZSwgcHJldkNvbXBvbmVudCwgY29udGFpbmVyLCBmYWxzZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIF9tb3VudEltYWdlSW50b05vZGU6IGZ1bmN0aW9uKG1hcmt1cCwgY29udGFpbmVyLCBpbnN0YW5jZSwgc2hvdWxkUmV1c2VNYXJrdXAsIHRyYW5zYWN0aW9uKSB7XG4gICAgICAhKGNvbnRhaW5lciAmJiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUgfHwgY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFX1RZUEUpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdtb3VudENvbXBvbmVudEludG9Ob2RlKC4uLik6IFRhcmdldCBjb250YWluZXIgaXMgbm90IHZhbGlkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIGlmIChzaG91bGRSZXVzZU1hcmt1cCkge1xuICAgICAgICB2YXIgcm9vdEVsZW1lbnQgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgaWYgKFJlYWN0TWFya3VwQ2hlY2tzdW0uY2FuUmV1c2VNYXJrdXAobWFya3VwLCByb290RWxlbWVudCkpIHtcbiAgICAgICAgICBSZWFjdERPTUNvbXBvbmVudFRyZWUucHJlY2FjaGVOb2RlKGluc3RhbmNlLCByb290RWxlbWVudCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBjaGVja3N1bSA9IHJvb3RFbGVtZW50LmdldEF0dHJpYnV0ZShSZWFjdE1hcmt1cENoZWNrc3VtLkNIRUNLU1VNX0FUVFJfTkFNRSk7XG4gICAgICAgICAgcm9vdEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFJlYWN0TWFya3VwQ2hlY2tzdW0uQ0hFQ0tTVU1fQVRUUl9OQU1FKTtcbiAgICAgICAgICB2YXIgcm9vdE1hcmt1cCA9IHJvb3RFbGVtZW50Lm91dGVySFRNTDtcbiAgICAgICAgICByb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoUmVhY3RNYXJrdXBDaGVja3N1bS5DSEVDS1NVTV9BVFRSX05BTUUsIGNoZWNrc3VtKTtcbiAgICAgICAgICB2YXIgbm9ybWFsaXplZE1hcmt1cCA9IG1hcmt1cDtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZXI7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREVfVFlQRSkge1xuICAgICAgICAgICAgICBub3JtYWxpemVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgIG5vcm1hbGl6ZXIuaW5uZXJIVE1MID0gbWFya3VwO1xuICAgICAgICAgICAgICBub3JtYWxpemVkTWFya3VwID0gbm9ybWFsaXplci5pbm5lckhUTUw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBub3JtYWxpemVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm9ybWFsaXplcik7XG4gICAgICAgICAgICAgIG5vcm1hbGl6ZXIuY29udGVudERvY3VtZW50LndyaXRlKG1hcmt1cCk7XG4gICAgICAgICAgICAgIG5vcm1hbGl6ZWRNYXJrdXAgPSBub3JtYWxpemVyLmNvbnRlbnREb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MO1xuICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG5vcm1hbGl6ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZGlmZkluZGV4ID0gZmlyc3REaWZmZXJlbmNlSW5kZXgobm9ybWFsaXplZE1hcmt1cCwgcm9vdE1hcmt1cCk7XG4gICAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSAnIChjbGllbnQpICcgKyBub3JtYWxpemVkTWFya3VwLnN1YnN0cmluZyhkaWZmSW5kZXggLSAyMCwgZGlmZkluZGV4ICsgMjApICsgJ1xcbiAoc2VydmVyKSAnICsgcm9vdE1hcmt1cC5zdWJzdHJpbmcoZGlmZkluZGV4IC0gMjAsIGRpZmZJbmRleCArIDIwKTtcbiAgICAgICAgICAhKGNvbnRhaW5lci5ub2RlVHlwZSAhPT0gRE9DX05PREVfVFlQRSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnWW91XFwncmUgdHJ5aW5nIHRvIHJlbmRlciBhIGNvbXBvbmVudCB0byB0aGUgZG9jdW1lbnQgdXNpbmcgJyArICdzZXJ2ZXIgcmVuZGVyaW5nIGJ1dCB0aGUgY2hlY2tzdW0gd2FzIGludmFsaWQuIFRoaXMgdXN1YWxseSAnICsgJ21lYW5zIHlvdSByZW5kZXJlZCBhIGRpZmZlcmVudCBjb21wb25lbnQgdHlwZSBvciBwcm9wcyBvbiAnICsgJ3RoZSBjbGllbnQgZnJvbSB0aGUgb25lIG9uIHRoZSBzZXJ2ZXIsIG9yIHlvdXIgcmVuZGVyKCkgJyArICdtZXRob2RzIGFyZSBpbXB1cmUuIFJlYWN0IGNhbm5vdCBoYW5kbGUgdGhpcyBjYXNlIGR1ZSB0byAnICsgJ2Nyb3NzLWJyb3dzZXIgcXVpcmtzIGJ5IHJlbmRlcmluZyBhdCB0aGUgZG9jdW1lbnQgcm9vdC4gWW91ICcgKyAnc2hvdWxkIGxvb2sgZm9yIGVudmlyb25tZW50IGRlcGVuZGVudCBjb2RlIGluIHlvdXIgY29tcG9uZW50cyAnICsgJ2FuZCBlbnN1cmUgdGhlIHByb3BzIGFyZSB0aGUgc2FtZSBjbGllbnQgYW5kIHNlcnZlciBzaWRlOlxcbiVzJywgZGlmZmVyZW5jZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ1JlYWN0IGF0dGVtcHRlZCB0byByZXVzZSBtYXJrdXAgaW4gYSBjb250YWluZXIgYnV0IHRoZSAnICsgJ2NoZWNrc3VtIHdhcyBpbnZhbGlkLiBUaGlzIGdlbmVyYWxseSBtZWFucyB0aGF0IHlvdSBhcmUgJyArICd1c2luZyBzZXJ2ZXIgcmVuZGVyaW5nIGFuZCB0aGUgbWFya3VwIGdlbmVyYXRlZCBvbiB0aGUgJyArICdzZXJ2ZXIgd2FzIG5vdCB3aGF0IHRoZSBjbGllbnQgd2FzIGV4cGVjdGluZy4gUmVhY3QgaW5qZWN0ZWQgJyArICduZXcgbWFya3VwIHRvIGNvbXBlbnNhdGUgd2hpY2ggd29ya3MgYnV0IHlvdSBoYXZlIGxvc3QgbWFueSAnICsgJ29mIHRoZSBiZW5lZml0cyBvZiBzZXJ2ZXIgcmVuZGVyaW5nLiBJbnN0ZWFkLCBmaWd1cmUgb3V0ICcgKyAnd2h5IHRoZSBtYXJrdXAgYmVpbmcgZ2VuZXJhdGVkIGlzIGRpZmZlcmVudCBvbiB0aGUgY2xpZW50ICcgKyAnb3Igc2VydmVyOlxcbiVzJywgZGlmZmVyZW5jZSkgOiB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAhKGNvbnRhaW5lci5ub2RlVHlwZSAhPT0gRE9DX05PREVfVFlQRSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnWW91XFwncmUgdHJ5aW5nIHRvIHJlbmRlciBhIGNvbXBvbmVudCB0byB0aGUgZG9jdW1lbnQgYnV0ICcgKyAneW91IGRpZG5cXCd0IHVzZSBzZXJ2ZXIgcmVuZGVyaW5nLiBXZSBjYW5cXCd0IGRvIHRoaXMgJyArICd3aXRob3V0IHVzaW5nIHNlcnZlciByZW5kZXJpbmcgZHVlIHRvIGNyb3NzLWJyb3dzZXIgcXVpcmtzLiAnICsgJ1NlZSBSZWFjdERPTVNlcnZlci5yZW5kZXJUb1N0cmluZygpIGZvciBzZXJ2ZXIgcmVuZGVyaW5nLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIGlmICh0cmFuc2FjdGlvbi51c2VDcmVhdGVFbGVtZW50KSB7XG4gICAgICAgIHdoaWxlIChjb250YWluZXIubGFzdENoaWxkKSB7XG4gICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5sYXN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIERPTUxhenlUcmVlLmluc2VydFRyZWVCZWZvcmUoY29udGFpbmVyLCBtYXJrdXAsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SW5uZXJIVE1MKGNvbnRhaW5lciwgbWFya3VwKTtcbiAgICAgICAgUmVhY3RET01Db21wb25lbnRUcmVlLnByZWNhY2hlTm9kZShpbnN0YW5jZSwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIG5hdGl2ZU5vZGUgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIGlmIChuYXRpdmVOb2RlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKG5hdGl2ZU5vZGUuX2RlYnVnSUQsICdtb3VudCcsIG1hcmt1cC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdE1vdW50O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIFJlYWN0TW91bnQgPSByZXF1aXJlKCcuL1JlYWN0TW91bnQnKTtcbm1vZHVsZS5leHBvcnRzID0gUmVhY3RNb3VudC5yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gcmVxdWlyZSgnLi9SZWFjdERPTUNvbXBvbmVudFRyZWUnKTtcbiAgdmFyIFJlYWN0RGVmYXVsdEluamVjdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3REZWZhdWx0SW5qZWN0aW9uJyk7XG4gIHZhciBSZWFjdE1vdW50ID0gcmVxdWlyZSgnLi9SZWFjdE1vdW50Jyk7XG4gIHZhciBSZWFjdFJlY29uY2lsZXIgPSByZXF1aXJlKCcuL1JlYWN0UmVjb25jaWxlcicpO1xuICB2YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZSgnLi9SZWFjdFVwZGF0ZXMnKTtcbiAgdmFyIFJlYWN0VmVyc2lvbiA9IHJlcXVpcmUoJy4vUmVhY3RWZXJzaW9uJyk7XG4gIHZhciBmaW5kRE9NTm9kZSA9IHJlcXVpcmUoJy4vZmluZERPTU5vZGUnKTtcbiAgdmFyIGdldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUgPSByZXF1aXJlKCcuL2dldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUnKTtcbiAgdmFyIHJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyID0gcmVxdWlyZSgnLi9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcicpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgUmVhY3REZWZhdWx0SW5qZWN0aW9uLmluamVjdCgpO1xuICB2YXIgUmVhY3QgPSB7XG4gICAgZmluZERPTU5vZGU6IGZpbmRET01Ob2RlLFxuICAgIHJlbmRlcjogUmVhY3RNb3VudC5yZW5kZXIsXG4gICAgdW5tb3VudENvbXBvbmVudEF0Tm9kZTogUmVhY3RNb3VudC51bm1vdW50Q29tcG9uZW50QXROb2RlLFxuICAgIHZlcnNpb246IFJlYWN0VmVyc2lvbixcbiAgICB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlczogUmVhY3RVcGRhdGVzLmJhdGNoZWRVcGRhdGVzLFxuICAgIHVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyOiByZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lclxuICB9O1xuICBpZiAodHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5pbmplY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uaW5qZWN0KHtcbiAgICAgIENvbXBvbmVudFRyZWU6IHtcbiAgICAgICAgZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGU6IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZSxcbiAgICAgICAgZ2V0Tm9kZUZyb21JbnN0YW5jZTogZnVuY3Rpb24oaW5zdCkge1xuICAgICAgICAgIGlmIChpbnN0Ll9yZW5kZXJlZENvbXBvbmVudCkge1xuICAgICAgICAgICAgaW5zdCA9IGdldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUoaW5zdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbnN0KSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIE1vdW50OiBSZWFjdE1vdW50LFxuICAgICAgUmVjb25jaWxlcjogUmVhY3RSZWNvbmNpbGVyXG4gICAgfSk7XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuICAgIGlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgd2luZG93LnRvcCA9PT0gd2luZG93LnNlbGYpIHtcbiAgICAgIGlmICh0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSA+IC0xICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRWRnZScpID09PSAtMSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA+IC0xKSB7XG4gICAgICAgICAgdmFyIHNob3dGaWxlVXJsTWVzc2FnZSA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKCdodHRwJykgPT09IC0xICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID09PSAtMTtcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKCdEb3dubG9hZCB0aGUgUmVhY3QgRGV2VG9vbHMgJyArIChzaG93RmlsZVVybE1lc3NhZ2UgPyAnYW5kIHVzZSBhbiBIVFRQIHNlcnZlciAoaW5zdGVhZCBvZiBhIGZpbGU6IFVSTCkgJyA6ICcnKSArICdmb3IgYSBiZXR0ZXIgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZTogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWRldnRvb2xzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciB0ZXN0RnVuYyA9IGZ1bmN0aW9uIHRlc3RGbigpIHt9O1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoKHRlc3RGdW5jLm5hbWUgfHwgdGVzdEZ1bmMudG9TdHJpbmcoKSkuaW5kZXhPZigndGVzdEZuJykgIT09IC0xLCAnSXQgbG9va3MgbGlrZSB5b3VcXCdyZSB1c2luZyBhIG1pbmlmaWVkIGNvcHkgb2YgdGhlIGRldmVsb3BtZW50IGJ1aWxkICcgKyAnb2YgUmVhY3QuIFdoZW4gZGVwbG95aW5nIFJlYWN0IGFwcHMgdG8gcHJvZHVjdGlvbiwgbWFrZSBzdXJlIHRvIHVzZSAnICsgJ3RoZSBwcm9kdWN0aW9uIGJ1aWxkIHdoaWNoIHNraXBzIGRldmVsb3BtZW50IHdhcm5pbmdzIGFuZCBpcyBmYXN0ZXIuICcgKyAnU2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtbWluaWZpY2F0aW9uIGZvciBtb3JlIGRldGFpbHMuJykgOiB2b2lkIDA7XG4gICAgICB2YXIgaWVDb21wYXRpYmlsaXR5TW9kZSA9IGRvY3VtZW50LmRvY3VtZW50TW9kZSAmJiBkb2N1bWVudC5kb2N1bWVudE1vZGUgPCA4O1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWllQ29tcGF0aWJpbGl0eU1vZGUsICdJbnRlcm5ldCBFeHBsb3JlciBpcyBydW5uaW5nIGluIGNvbXBhdGliaWxpdHkgbW9kZTsgcGxlYXNlIGFkZCB0aGUgJyArICdmb2xsb3dpbmcgdGFnIHRvIHlvdXIgSFRNTCB0byBwcmV2ZW50IHRoaXMgZnJvbSBoYXBwZW5pbmc6ICcgKyAnPG1ldGEgaHR0cC1lcXVpdj1cIlgtVUEtQ29tcGF0aWJsZVwiIGNvbnRlbnQ9XCJJRT1lZGdlXCIgLz4nKSA6IHZvaWQgMDtcbiAgICAgIHZhciBleHBlY3RlZEZlYXR1cmVzID0gW0FycmF5LmlzQXJyYXksIEFycmF5LnByb3RvdHlwZS5ldmVyeSwgQXJyYXkucHJvdG90eXBlLmZvckVhY2gsIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLCBBcnJheS5wcm90b3R5cGUubWFwLCBEYXRlLm5vdywgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsIE9iamVjdC5rZXlzLCBTdHJpbmcucHJvdG90eXBlLnNwbGl0LCBTdHJpbmcucHJvdG90eXBlLnRyaW1dO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3RlZEZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghZXhwZWN0ZWRGZWF0dXJlc1tpXSkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnT25lIG9yIG1vcmUgRVM1IHNoaW1zIGV4cGVjdGVkIGJ5IFJlYWN0IGFyZSBub3QgYXZhaWxhYmxlOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1wb2x5ZmlsbHMnKSA6IHZvaWQgMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ3JlYWN0L2xpYi9SZWFjdERPTScpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibnBtOnJlYWN0LWRvbUAxNS4xLjAvaW5kZXguanNcIik7IiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuY29uc3QgTWFpbkhlYWRlciA9ICgpID0+IChcbiAgPGhlYWRlciBjbGFzc05hbWU9J2hlYWRlcicgcm9sZT0nYmFubmVyJz5cbiAgICA8YSBjbGFzc05hbWU9J2xvZ28nIGhyZWY9Jy4vJyByb2xlPSdsb2dvJz5cbiAgICAgIDxpbWcgc3JjPSdzdmcvbG9nby5zdmcnIC8+XG4gICAgPC9hPlxuICAgIDxhXG4gICAgICBjbGFzc05hbWU9J2J0bi1saW5rJ1xuICAgICAgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL2Zyb250ZW5kYnIvZXZlbnRvcydcbiAgICAgIHRpdGxlPSdBbnVuY2llIHNldSBldmVudG8nPlxuICAgICAgICBBbnVuY2lhciBFdmVudG9cbiAgICA8L2E+XG4gIDwvaGVhZGVyPlxuKVxuXG5leHBvcnQgZGVmYXVsdCBNYWluSGVhZGVyXG4iLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0LCB7IFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IExhenlJbWcgZnJvbSAnLi9sYXp5LWltZydcblxuY29uc3QgQmFubmVyQm94ID0gKHsgbGluaywgdGl0bGUsIGRhdGUsIGltYWdlIH0pID0+IChcbiAgPGEgY2xhc3NOYW1lPSdiYW5uZXItYm94JyBocmVmPXtsaW5rfSB0aXRsZT17YCR7dGl0bGV9ICR7ZGF0ZX1gfT5cbiAgICB7ISFpbWFnZSAmJiA8TGF6eUltZyBzcmM9e2ltYWdlfSBhbHQ9e3RpdGxlfSAvPn1cbiAgICA8aDIgY2xhc3NOYW1lPSd0aXRsZSc+XG4gICAgICB7YCR7dGl0bGV9IGB9PHNwYW4gY2xhc3NOYW1lPSdkYXRlJz57ZGF0ZX08L3NwYW4+XG4gICAgPC9oMj5cbiAgPC9hPlxuKVxuXG5CYW5uZXJCb3guZGVmYXVsdFByb3BzID0ge1xuICBsaW5rOiAnIydcbn1cblxuQmFubmVyQm94LnByb3BUeXBlcyA9IHtcbiAgdGl0bGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgZGF0ZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBsaW5rOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBpbWFnZTogUHJvcFR5cGVzLnN0cmluZ1xufVxuXG5leHBvcnQgZGVmYXVsdCBCYW5uZXJCb3hcbiIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgQmFubmVyQm94IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvYmFubmVyLWJveCdcblxuY29uc3QgZ2V0RGF0ZSA9IChkYXRlKSA9PiB7XG4gIHJldHVybiBgJHtkYXRlLmRheX0gLSAke2RhdGUubW9udGh9YFxufVxuXG5jb25zdCBIZWFkZXJCYW5uZXIgPSAoeyBldmVudHMgfSkgPT4gKFxuICA8c2VjdGlvbiBjbGFzc05hbWU9J2Jhbm5lcic+XG4gICAgPGRpdiBjbGFzc05hbWU9J2Jhbm5lci1tYWluJz5cbiAgICAgIDxCYW5uZXJCb3hcbiAgICAgICAgbGluaz17ZXZlbnRzWzBdLmxpbmt9XG4gICAgICAgIHRpdGxlPXtldmVudHNbMF0udGl0bGV9XG4gICAgICAgIGRhdGU9e2dldERhdGUoZXZlbnRzWzBdLmRhdGUpfVxuICAgICAgICBpbWFnZT17ZXZlbnRzWzBdLmltYWdlfSAvPlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBrZXk9ezB9IGNsYXNzTmFtZT0nYmFubmVyLWFzaWRlJz5cbiAgICAgIHtldmVudHMuc2xpY2UoMSwgMykubWFwKChldmVudCwgaW5kZXgpID0+IChcbiAgICAgICAgPEJhbm5lckJveFxuICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgbGluaz17ZXZlbnQubGlua31cbiAgICAgICAgICB0aXRsZT17ZXZlbnQudGl0bGV9XG4gICAgICAgICAgZGF0ZT17Z2V0RGF0ZShldmVudC5kYXRlKX0gLz5cbiAgICAgICkpfVxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBrZXk9ezF9IGNsYXNzTmFtZT0nYmFubmVyLWFzaWRlJz5cbiAgICAgIHtldmVudHMuc2xpY2UoMykubWFwKChldmVudCwgaW5kZXgpID0+IChcbiAgICAgICAgPEJhbm5lckJveFxuICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgbGluaz17ZXZlbnQubGlua31cbiAgICAgICAgICB0aXRsZT17ZXZlbnQudGl0bGV9XG4gICAgICAgICAgZGF0ZT17Z2V0RGF0ZShldmVudC5kYXRlKX0gLz5cbiAgICAgICkpfVxuICAgIDwvZGl2PlxuICA8L3NlY3Rpb24+XG4pXG5cbkhlYWRlckJhbm5lci5wcm9wVHlwZXMgPSB7XG4gIGV2ZW50czogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWRcbn1cblxuZXhwb3J0IGRlZmF1bHQgSGVhZGVyQmFubmVyXG4iLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0LCB7IFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFN2Z0ljb24gZnJvbSAnLi9zdmctaWNvbidcblxuY29uc3QgRm9ybVNlbGVjdCA9ICh7XG4gIGxhYmVsLFxuICBzZWxlY3RlZCxcbiAgb3B0aW9ucyxcbiAgaWNvbixcbiAgaGFuZGxlQ2hhbmdlXG59KSA9PiB7XG4gIGlmICghb3B0aW9ucy5sZW5ndGgpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT0nZm9ybS1zZWxlY3QnPlxuICAgICAgeyEhaWNvbiAmJiA8U3ZnSWNvbiBpZD17aWNvbi5pZH0gbGFiZWw9e2ljb24ubGFiZWx9IC8+fVxuICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nc3Itb25seSc+e2xhYmVsfTwvbGFiZWw+XG4gICAgICA8c2VsZWN0IHZhbHVlPXtzZWxlY3RlZH0gb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX0+XG4gICAgICAgIHtvcHRpb25zLm1hcCgob3B0aW9uKSA9PiAoXG4gICAgICAgICAgPG9wdGlvbiBrZXk9e29wdGlvbi50ZXh0fSB2YWx1ZT17b3B0aW9uLnZhbHVlfT5cbiAgICAgICAgICAgIHtvcHRpb24udGV4dH1cbiAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgKSl9XG4gICAgICA8L3NlbGVjdD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5Gb3JtU2VsZWN0LmRlZmF1bHRQcm9wcyA9IHtcbiAgbGFiZWw6ICcnLFxuICBvcHRpb25zOiBbXVxufVxuXG5Gb3JtU2VsZWN0LnByb3BUeXBlcyA9IHtcbiAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgc2VsZWN0ZWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgb3B0aW9uczogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXG4gIGljb246IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgaW1hZ2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmdcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybVNlbGVjdFxuIiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBTdmdJY29uIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc3ZnLWljb24nXG5cbmNvbnN0IEZvcm1TZWFyY2ggPSAoeyBzZWFyY2hGaWVsZCwgaGFuZGxlQ2hhbmdlVGV4dCB9KSA9PiAoXG4gIDxkaXYgY2xhc3NOYW1lPSdzZWFyY2gnPlxuICAgIDxpbnB1dFxuICAgICAgY2xhc3NOYW1lPSdmb3JtLWNvbnRyb2wnXG4gICAgICB0eXBlPSdzZWFyY2gnXG4gICAgICBwbGFjZWhvbGRlcj0nQnVzcXVlIHBvciBwYWxhdnJhcyBjaGF2ZXMnXG4gICAgICB2YWx1ZT17c2VhcmNoRmllbGR9XG4gICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlVGV4dH0gLz5cblxuICAgIDxidXR0b24gY2xhc3NOYW1lPSdzZWFyY2gtYnRuJyB0eXBlPSdzdWJtaXQnIHJvbGU9J2J1dHRvbic+XG4gICAgICA8U3ZnSWNvbiBpZD0nc2VhcmNoJyBsYWJlbD0nU2VhcmNoJyAvPlxuICAgIDwvYnV0dG9uPlxuICA8L2Rpdj5cbilcblxuRm9ybVNlYXJjaC5wcm9wVHlwZXMgPSB7XG4gIHNlYXJjaEZpZWxkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGhhbmRsZUNoYW5nZVRleHQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybVNlYXJjaFxuIiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBGb3JtU2VsZWN0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZm9ybS1zZWxlY3QnXG5pbXBvcnQgRm9ybVNlYXJjaCBmcm9tICcuL2Zvcm0tc2VhcmNoJ1xuXG5jb25zdCBIZWFkZXJGaWx0ZXIgPSAoe1xuICBtb250aEZpbHRlcixcbiAgc3RhdGVGaWx0ZXIsXG4gIHNlYXJjaEZpZWxkLFxuICBoYW5kbGVDaGFuZ2VNb250aCxcbiAgaGFuZGxlQ2hhbmdlU3RhdGUsXG4gIGhhbmRsZUNoYW5nZVRleHRcbn0pID0+IChcbiAgPG5hdiBjbGFzc05hbWU9J2ZpbHRlcic+XG4gICAgPEZvcm1TZWxlY3RcbiAgICAgIGtleT0nbW9udGhzJ1xuICAgICAgey4uLm1vbnRoRmlsdGVyfVxuICAgICAgaGFuZGxlQ2hhbmdlPXtoYW5kbGVDaGFuZ2VNb250aH0gLz5cblxuICAgIDxGb3JtU2VsZWN0XG4gICAgICBrZXk9J3N0YXRlcydcbiAgICAgIHsuLi5zdGF0ZUZpbHRlcn1cbiAgICAgIGhhbmRsZUNoYW5nZT17aGFuZGxlQ2hhbmdlU3RhdGV9IC8+XG5cbiAgICA8Rm9ybVNlYXJjaFxuICAgICAgc2VhcmNoRmllbGQ9e3NlYXJjaEZpZWxkfVxuICAgICAgaGFuZGxlQ2hhbmdlVGV4dD17aGFuZGxlQ2hhbmdlVGV4dH0gLz5cbiAgPC9uYXY+XG4pXG5cbkhlYWRlckZpbHRlci5wcm9wVHlwZXMgPSB7XG4gIG1vbnRoRmlsdGVyOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIHN0YXRlRmlsdGVyOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIHNlYXJjaEZpZWxkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGhhbmRsZUNoYW5nZU1vbnRoOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBoYW5kbGVDaGFuZ2VTdGF0ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgaGFuZGxlQ2hhbmdlVGV4dDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxufVxuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXJGaWx0ZXJcbiIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzLCBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCBIZWFkZXJCYW5uZXIgZnJvbSAnLi9oZWFkZXItYmFubmVyJ1xuaW1wb3J0IEhlYWRlckZpbHRlciBmcm9tICcuL2hlYWRlci1maWx0ZXInXG5pbXBvcnQge1xuICBmZXRjaEV2ZW50cyxcbiAgY2hvb3NlRmlsdGVyU2VsZWN0LFxuICBmaWx0ZXJCeVRleHRcbn0gZnJvbSAnLi4vLi4vYWN0aW9ucy9pbmRleCdcblxuY2xhc3MgSGVhZGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goZmV0Y2hFdmVudHMoKSlcbiAgfVxuXG4gIGhhbmRsZUNoYW5nZSAoZmllbGQsIGV2ZW50KSB7XG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goY2hvb3NlRmlsdGVyU2VsZWN0KHsgZmllbGQsIHZhbHVlIH0pKVxuICB9XG5cbiAgaGFuZGxlQ2hhbmdlVGV4dCAoZXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGZpbHRlckJ5VGV4dChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKSlcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3QgeyBldmVudHMsIG1vbnRoRmlsdGVyLCBzdGF0ZUZpbHRlciwgc2VhcmNoRmllbGQgfSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gKFxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9J3dlbGxuZXNzJz5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT0ndGl0bGUnPlxuICAgICAgICAgIEVuY29udHJlIGV2ZW50b3MgZGUgRnJvbnQtRW5kIGVtIHRvZG8gbyBCcmFzaWxcbiAgICAgICAgPC9oMT5cblxuICAgICAgICA8SGVhZGVyQmFubmVyIGV2ZW50cz17ZXZlbnRzfSAvPlxuICAgICAgICA8SGVhZGVyRmlsdGVyXG4gICAgICAgICAgbW9udGhGaWx0ZXI9e21vbnRoRmlsdGVyfVxuICAgICAgICAgIHN0YXRlRmlsdGVyPXtzdGF0ZUZpbHRlcn1cbiAgICAgICAgICBzZWFyY2hGaWVsZD17c2VhcmNoRmllbGR9XG4gICAgICAgICAgaGFuZGxlQ2hhbmdlTW9udGg9eyhlKSA9PiB0aGlzLmhhbmRsZUNoYW5nZSgnbW9udGhzJywgZSl9XG4gICAgICAgICAgaGFuZGxlQ2hhbmdlU3RhdGU9eyhlKSA9PiB0aGlzLmhhbmRsZUNoYW5nZSgnc3RhdGUnLCBlKX1cbiAgICAgICAgICBoYW5kbGVDaGFuZ2VUZXh0PXsoZSkgPT4gdGhpcy5oYW5kbGVDaGFuZ2VUZXh0KGUpfVxuICAgICAgICAvPlxuICAgICAgPC9oZWFkZXI+XG4gICAgKVxuICB9XG59XG5cbkhlYWRlci5kZWZhdWx0UHJvcHMgPSB7XG4gIHNlYXJjaEZpZWxkOiAnJ1xufVxuXG5IZWFkZXIucHJvcFR5cGVzID0ge1xuICBldmVudHM6IFByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLFxuICBtb250aEZpbHRlcjogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBzdGF0ZUZpbHRlcjogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBzZWFyY2hGaWVsZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkXG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSkgPT4gKHtcbiAgZXZlbnRzOiBzdGF0ZS5ldmVudHMuZXZlbnRzLmZpbHRlcigoXywgaW5kZXgpID0+IGluZGV4IDwgNSksXG4gIG1vbnRoRmlsdGVyOiBzdGF0ZS5maWx0ZXIubW9udGhzLFxuICBzdGF0ZUZpbHRlcjogc3RhdGUuZmlsdGVyLnN0YXRlLFxuICBzZWFyY2hGaWVsZDogc3RhdGUuZmlsdGVyLnNlYXJjaEZpZWxkXG59KVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoSGVhZGVyKVxuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuICB2YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgdmFyIF9zdG9yZVNoYXBlID0gcmVxdWlyZSgnLi4vdXRpbHMvc3RvcmVTaGFwZScpO1xuICB2YXIgX3N0b3JlU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RvcmVTaGFwZSk7XG4gIHZhciBfd2FybmluZyA9IHJlcXVpcmUoJy4uL3V0aWxzL3dhcm5pbmcnKTtcbiAgdmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XCJkZWZhdWx0XCI6IG9ian07XG4gIH1cbiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgaWYgKCFzZWxmKSB7XG4gICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gICAgfVxuICAgIHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xuICB9XG4gIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICAgIH1cbiAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9fSk7XG4gICAgaWYgKHN1cGVyQ2xhc3MpXG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbiAgfVxuICB2YXIgZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUgPSBmYWxzZTtcbiAgZnVuY3Rpb24gd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKSB7XG4gICAgaWYgKGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gdHJ1ZTtcbiAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoJzxQcm92aWRlcj4gZG9lcyBub3Qgc3VwcG9ydCBjaGFuZ2luZyBgc3RvcmVgIG9uIHRoZSBmbHkuICcgKyAnSXQgaXMgbW9zdCBsaWtlbHkgdGhhdCB5b3Ugc2VlIHRoaXMgZXJyb3IgYmVjYXVzZSB5b3UgdXBkYXRlZCB0byAnICsgJ1JlZHV4IDIueCBhbmQgUmVhY3QgUmVkdXggMi54IHdoaWNoIG5vIGxvbmdlciBob3QgcmVsb2FkIHJlZHVjZXJzICcgKyAnYXV0b21hdGljYWxseS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJlZHV4L3JlbGVhc2VzLycgKyAndGFnL3YyLjAuMCBmb3IgdGhlIG1pZ3JhdGlvbiBpbnN0cnVjdGlvbnMuJyk7XG4gIH1cbiAgdmFyIFByb3ZpZGVyID0gZnVuY3Rpb24oX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhQcm92aWRlciwgX0NvbXBvbmVudCk7XG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICAgIHJldHVybiB7c3RvcmU6IHRoaXMuc3RvcmV9O1xuICAgIH07XG4gICAgZnVuY3Rpb24gUHJvdmlkZXIocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm92aWRlcik7XG4gICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpKTtcbiAgICAgIF90aGlzLnN0b3JlID0gcHJvcHMuc3RvcmU7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgICAgcmV0dXJuIF9yZWFjdC5DaGlsZHJlbi5vbmx5KGNoaWxkcmVuKTtcbiAgICB9O1xuICAgIHJldHVybiBQcm92aWRlcjtcbiAgfShfcmVhY3QuQ29tcG9uZW50KTtcbiAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBQcm92aWRlcjtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBQcm92aWRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uKG5leHRQcm9wcykge1xuICAgICAgdmFyIHN0b3JlID0gdGhpcy5zdG9yZTtcbiAgICAgIHZhciBuZXh0U3RvcmUgPSBuZXh0UHJvcHMuc3RvcmU7XG4gICAgICBpZiAoc3RvcmUgIT09IG5leHRTdG9yZSkge1xuICAgICAgICB3YXJuQWJvdXRSZWNlaXZpbmdTdG9yZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICAgIHN0b3JlOiBfc3RvcmVTaGFwZTJbXCJkZWZhdWx0XCJdLmlzUmVxdWlyZWQsXG4gICAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuZWxlbWVudC5pc1JlcXVpcmVkXG4gIH07XG4gIFByb3ZpZGVyLmNoaWxkQ29udGV4dFR5cGVzID0ge3N0b3JlOiBfc3RvcmVTaGFwZTJbXCJkZWZhdWx0XCJdLmlzUmVxdWlyZWR9O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBvbmVBcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGNvcHlGaWVsZHNGcm9tKSB7XG4gICAgdmFyIEtsYXNzID0gdGhpcztcbiAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgICAgdmFyIGluc3RhbmNlID0gS2xhc3MuaW5zdGFuY2VQb29sLnBvcCgpO1xuICAgICAgS2xhc3MuY2FsbChpbnN0YW5jZSwgY29weUZpZWxkc0Zyb20pO1xuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEtsYXNzKGNvcHlGaWVsZHNGcm9tKTtcbiAgICB9XG4gIH07XG4gIHZhciB0d29Bcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGExLCBhMikge1xuICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGExLCBhMik7XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgS2xhc3MoYTEsIGEyKTtcbiAgICB9XG4gIH07XG4gIHZhciB0aHJlZUFyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24oYTEsIGEyLCBhMykge1xuICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGExLCBhMiwgYTMpO1xuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEtsYXNzKGExLCBhMiwgYTMpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGZvdXJBcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGExLCBhMiwgYTMsIGE0KSB7XG4gICAgdmFyIEtsYXNzID0gdGhpcztcbiAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgICAgdmFyIGluc3RhbmNlID0gS2xhc3MuaW5zdGFuY2VQb29sLnBvcCgpO1xuICAgICAgS2xhc3MuY2FsbChpbnN0YW5jZSwgYTEsIGEyLCBhMywgYTQpO1xuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEtsYXNzKGExLCBhMiwgYTMsIGE0KTtcbiAgICB9XG4gIH07XG4gIHZhciBmaXZlQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIsIGEzLCBhNCwgYTUpO1xuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEtsYXNzKGExLCBhMiwgYTMsIGE0LCBhNSk7XG4gICAgfVxuICB9O1xuICB2YXIgc3RhbmRhcmRSZWxlYXNlciA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIEtsYXNzID0gdGhpcztcbiAgICAhKGluc3RhbmNlIGluc3RhbmNlb2YgS2xhc3MpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1RyeWluZyB0byByZWxlYXNlIGFuIGluc3RhbmNlIGludG8gYSBwb29sIG9mIGEgZGlmZmVyZW50IHR5cGUuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGluc3RhbmNlLmRlc3RydWN0b3IoKTtcbiAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCA8IEtsYXNzLnBvb2xTaXplKSB7XG4gICAgICBLbGFzcy5pbnN0YW5jZVBvb2wucHVzaChpbnN0YW5jZSk7XG4gICAgfVxuICB9O1xuICB2YXIgREVGQVVMVF9QT09MX1NJWkUgPSAxMDtcbiAgdmFyIERFRkFVTFRfUE9PTEVSID0gb25lQXJndW1lbnRQb29sZXI7XG4gIHZhciBhZGRQb29saW5nVG8gPSBmdW5jdGlvbihDb3B5Q29uc3RydWN0b3IsIHBvb2xlcikge1xuICAgIHZhciBOZXdLbGFzcyA9IENvcHlDb25zdHJ1Y3RvcjtcbiAgICBOZXdLbGFzcy5pbnN0YW5jZVBvb2wgPSBbXTtcbiAgICBOZXdLbGFzcy5nZXRQb29sZWQgPSBwb29sZXIgfHwgREVGQVVMVF9QT09MRVI7XG4gICAgaWYgKCFOZXdLbGFzcy5wb29sU2l6ZSkge1xuICAgICAgTmV3S2xhc3MucG9vbFNpemUgPSBERUZBVUxUX1BPT0xfU0laRTtcbiAgICB9XG4gICAgTmV3S2xhc3MucmVsZWFzZSA9IHN0YW5kYXJkUmVsZWFzZXI7XG4gICAgcmV0dXJuIE5ld0tsYXNzO1xuICB9O1xuICB2YXIgUG9vbGVkQ2xhc3MgPSB7XG4gICAgYWRkUG9vbGluZ1RvOiBhZGRQb29saW5nVG8sXG4gICAgb25lQXJndW1lbnRQb29sZXI6IG9uZUFyZ3VtZW50UG9vbGVyLFxuICAgIHR3b0FyZ3VtZW50UG9vbGVyOiB0d29Bcmd1bWVudFBvb2xlcixcbiAgICB0aHJlZUFyZ3VtZW50UG9vbGVyOiB0aHJlZUFyZ3VtZW50UG9vbGVyLFxuICAgIGZvdXJBcmd1bWVudFBvb2xlcjogZm91ckFyZ3VtZW50UG9vbGVyLFxuICAgIGZpdmVBcmd1bWVudFBvb2xlcjogZml2ZUFyZ3VtZW50UG9vbGVyXG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUG9vbGVkQ2xhc3M7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIEtleUVzY2FwZVV0aWxzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEVzY2FwZSBhbmQgd3JhcCBrZXkgc28gaXQgaXMgc2FmZSB0byB1c2UgYXMgYSByZWFjdGlkXG4gKlxuICogQHBhcmFtIHsqfSBrZXkgdG8gYmUgZXNjYXBlZC5cbiAqIEByZXR1cm4ge3N0cmluZ30gdGhlIGVzY2FwZWQga2V5LlxuICovXG5cbmZ1bmN0aW9uIGVzY2FwZShrZXkpIHtcbiAgdmFyIGVzY2FwZVJlZ2V4ID0gL1s9Ol0vZztcbiAgdmFyIGVzY2FwZXJMb29rdXAgPSB7XG4gICAgJz0nOiAnPTAnLFxuICAgICc6JzogJz0yJ1xuICB9O1xuICB2YXIgZXNjYXBlZFN0cmluZyA9ICgnJyArIGtleSkucmVwbGFjZShlc2NhcGVSZWdleCwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVzY2FwZXJMb29rdXBbbWF0Y2hdO1xuICB9KTtcblxuICByZXR1cm4gJyQnICsgZXNjYXBlZFN0cmluZztcbn1cblxuLyoqXG4gKiBVbmVzY2FwZSBhbmQgdW53cmFwIGtleSBmb3IgaHVtYW4tcmVhZGFibGUgZGlzcGxheVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdG8gdW5lc2NhcGUuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSB1bmVzY2FwZWQga2V5LlxuICovXG5mdW5jdGlvbiB1bmVzY2FwZShrZXkpIHtcbiAgdmFyIHVuZXNjYXBlUmVnZXggPSAvKD0wfD0yKS9nO1xuICB2YXIgdW5lc2NhcGVyTG9va3VwID0ge1xuICAgICc9MCc6ICc9JyxcbiAgICAnPTInOiAnOidcbiAgfTtcbiAgdmFyIGtleVN1YnN0cmluZyA9IGtleVswXSA9PT0gJy4nICYmIGtleVsxXSA9PT0gJyQnID8ga2V5LnN1YnN0cmluZygyKSA6IGtleS5zdWJzdHJpbmcoMSk7XG5cbiAgcmV0dXJuICgnJyArIGtleVN1YnN0cmluZykucmVwbGFjZSh1bmVzY2FwZVJlZ2V4LCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICByZXR1cm4gdW5lc2NhcGVyTG9va3VwW21hdGNoXTtcbiAgfSk7XG59XG5cbnZhciBLZXlFc2NhcGVVdGlscyA9IHtcbiAgZXNjYXBlOiBlc2NhcGUsXG4gIHVuZXNjYXBlOiB1bmVzY2FwZVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBLZXlFc2NhcGVVdGlsczsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gcmVxdWlyZSgnLi9SZWFjdEN1cnJlbnRPd25lcicpO1xuICB2YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbiAgdmFyIGdldEl0ZXJhdG9yRm4gPSByZXF1aXJlKCcuL2dldEl0ZXJhdG9yRm4nKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgS2V5RXNjYXBlVXRpbHMgPSByZXF1aXJlKCcuL0tleUVzY2FwZVV0aWxzJyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgU0VQQVJBVE9SID0gJy4nO1xuICB2YXIgU1VCU0VQQVJBVE9SID0gJzonO1xuICB2YXIgZGlkV2FybkFib3V0TWFwcyA9IGZhbHNlO1xuICBmdW5jdGlvbiBnZXRDb21wb25lbnRLZXkoY29tcG9uZW50LCBpbmRleCkge1xuICAgIGlmIChjb21wb25lbnQgJiYgdHlwZW9mIGNvbXBvbmVudCA9PT0gJ29iamVjdCcgJiYgY29tcG9uZW50LmtleSAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gS2V5RXNjYXBlVXRpbHMuZXNjYXBlKGNvbXBvbmVudC5rZXkpO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXgudG9TdHJpbmcoMzYpO1xuICB9XG4gIGZ1bmN0aW9uIHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkcmVuLCBuYW1lU29GYXIsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpIHtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBjaGlsZHJlbjtcbiAgICBpZiAodHlwZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBjaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGlmIChjaGlsZHJlbiA9PT0gbnVsbCB8fCB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnbnVtYmVyJyB8fCBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7XG4gICAgICBjYWxsYmFjayh0cmF2ZXJzZUNvbnRleHQsIGNoaWxkcmVuLCBuYW1lU29GYXIgPT09ICcnID8gU0VQQVJBVE9SICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkcmVuLCAwKSA6IG5hbWVTb0Zhcik7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgdmFyIGNoaWxkO1xuICAgIHZhciBuZXh0TmFtZTtcbiAgICB2YXIgc3VidHJlZUNvdW50ID0gMDtcbiAgICB2YXIgbmV4dE5hbWVQcmVmaXggPSBuYW1lU29GYXIgPT09ICcnID8gU0VQQVJBVE9SIDogbmFtZVNvRmFyICsgU1VCU0VQQVJBVE9SO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpKTtcbiAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihjaGlsZHJlbik7XG4gICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwoY2hpbGRyZW4pO1xuICAgICAgICB2YXIgc3RlcDtcbiAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IGNoaWxkcmVuLmVudHJpZXMpIHtcbiAgICAgICAgICB2YXIgaWkgPSAwO1xuICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgIGNoaWxkID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICAgIG5leHROYW1lID0gbmV4dE5hbWVQcmVmaXggKyBnZXRDb21wb25lbnRLZXkoY2hpbGQsIGlpKyspO1xuICAgICAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhkaWRXYXJuQWJvdXRNYXBzLCAnVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyBub3QgeWV0IGZ1bGx5IHN1cHBvcnRlZC4gSXQgaXMgYW4gJyArICdleHBlcmltZW50YWwgZmVhdHVyZSB0aGF0IG1pZ2h0IGJlIHJlbW92ZWQuIENvbnZlcnQgaXQgdG8gYSAnICsgJ3NlcXVlbmNlIC8gaXRlcmFibGUgb2Yga2V5ZWQgUmVhY3RFbGVtZW50cyBpbnN0ZWFkLicpIDogdm9pZCAwO1xuICAgICAgICAgICAgZGlkV2FybkFib3V0TWFwcyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgY2hpbGQgPSBlbnRyeVsxXTtcbiAgICAgICAgICAgICAgbmV4dE5hbWUgPSBuZXh0TmFtZVByZWZpeCArIEtleUVzY2FwZVV0aWxzLmVzY2FwZShlbnRyeVswXSkgKyBTVUJTRVBBUkFUT1IgKyBnZXRDb21wb25lbnRLZXkoY2hpbGQsIDApO1xuICAgICAgICAgICAgICBzdWJ0cmVlQ291bnQgKz0gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGQsIG5leHROYW1lLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIGFkZGVuZHVtID0gJyc7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgYWRkZW5kdW0gPSAnIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuLCB1c2UgYW4gYXJyYXkgJyArICdpbnN0ZWFkIG9yIHdyYXAgdGhlIG9iamVjdCB1c2luZyBjcmVhdGVGcmFnbWVudChvYmplY3QpIGZyb20gdGhlICcgKyAnUmVhY3QgYWRkLW9ucy4nO1xuICAgICAgICAgIGlmIChjaGlsZHJlbi5faXNSZWFjdEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGFkZGVuZHVtID0gJyBJdCBsb29rcyBsaWtlIHlvdVxcJ3JlIHVzaW5nIGFuIGVsZW1lbnQgY3JlYXRlZCBieSBhIGRpZmZlcmVudCAnICsgJ3ZlcnNpb24gb2YgUmVhY3QuIE1ha2Ugc3VyZSB0byB1c2Ugb25seSBvbmUgY29weSBvZiBSZWFjdC4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LmdldE5hbWUoKTtcbiAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgIGFkZGVuZHVtICs9ICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoaWxkcmVuU3RyaW5nID0gU3RyaW5nKGNoaWxkcmVuKTtcbiAgICAgICAgIWZhbHNlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ09iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogJXMpLiVzJywgY2hpbGRyZW5TdHJpbmcgPT09ICdbb2JqZWN0IE9iamVjdF0nID8gJ29iamVjdCB3aXRoIGtleXMgeycgKyBPYmplY3Qua2V5cyhjaGlsZHJlbikuam9pbignLCAnKSArICd9JyA6IGNoaWxkcmVuU3RyaW5nLCBhZGRlbmR1bSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3VidHJlZUNvdW50O1xuICB9XG4gIGZ1bmN0aW9uIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpIHtcbiAgICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZHJlbiwgJycsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gdHJhdmVyc2VBbGxDaGlsZHJlbjtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBQb29sZWRDbGFzcyA9IHJlcXVpcmUoJy4vUG9vbGVkQ2xhc3MnKTtcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudCcpO1xudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG52YXIgdHJhdmVyc2VBbGxDaGlsZHJlbiA9IHJlcXVpcmUoJy4vdHJhdmVyc2VBbGxDaGlsZHJlbicpO1xudmFyIHR3b0FyZ3VtZW50UG9vbGVyID0gUG9vbGVkQ2xhc3MudHdvQXJndW1lbnRQb29sZXI7XG52YXIgZm91ckFyZ3VtZW50UG9vbGVyID0gUG9vbGVkQ2xhc3MuZm91ckFyZ3VtZW50UG9vbGVyO1xudmFyIHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4ID0gL1xcLysvZztcbmZ1bmN0aW9uIGVzY2FwZVVzZXJQcm92aWRlZEtleSh0ZXh0KSB7XG4gIHJldHVybiAoJycgKyB0ZXh0KS5yZXBsYWNlKHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4LCAnJCYvJyk7XG59XG5mdW5jdGlvbiBGb3JFYWNoQm9va0tlZXBpbmcoZm9yRWFjaEZ1bmN0aW9uLCBmb3JFYWNoQ29udGV4dCkge1xuICB0aGlzLmZ1bmMgPSBmb3JFYWNoRnVuY3Rpb247XG4gIHRoaXMuY29udGV4dCA9IGZvckVhY2hDb250ZXh0O1xuICB0aGlzLmNvdW50ID0gMDtcbn1cbkZvckVhY2hCb29rS2VlcGluZy5wcm90b3R5cGUuZGVzdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmZ1bmMgPSBudWxsO1xuICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICB0aGlzLmNvdW50ID0gMDtcbn07XG5Qb29sZWRDbGFzcy5hZGRQb29saW5nVG8oRm9yRWFjaEJvb2tLZWVwaW5nLCB0d29Bcmd1bWVudFBvb2xlcik7XG5mdW5jdGlvbiBmb3JFYWNoU2luZ2xlQ2hpbGQoYm9va0tlZXBpbmcsIGNoaWxkLCBuYW1lKSB7XG4gIHZhciBmdW5jID0gYm9va0tlZXBpbmcuZnVuYztcbiAgdmFyIGNvbnRleHQgPSBib29rS2VlcGluZy5jb250ZXh0O1xuICBmdW5jLmNhbGwoY29udGV4dCwgY2hpbGQsIGJvb2tLZWVwaW5nLmNvdW50KyspO1xufVxuZnVuY3Rpb24gZm9yRWFjaENoaWxkcmVuKGNoaWxkcmVuLCBmb3JFYWNoRnVuYywgZm9yRWFjaENvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgdmFyIHRyYXZlcnNlQ29udGV4dCA9IEZvckVhY2hCb29rS2VlcGluZy5nZXRQb29sZWQoZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KTtcbiAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaFNpbmdsZUNoaWxkLCB0cmF2ZXJzZUNvbnRleHQpO1xuICBGb3JFYWNoQm9va0tlZXBpbmcucmVsZWFzZSh0cmF2ZXJzZUNvbnRleHQpO1xufVxuZnVuY3Rpb24gTWFwQm9va0tlZXBpbmcobWFwUmVzdWx0LCBrZXlQcmVmaXgsIG1hcEZ1bmN0aW9uLCBtYXBDb250ZXh0KSB7XG4gIHRoaXMucmVzdWx0ID0gbWFwUmVzdWx0O1xuICB0aGlzLmtleVByZWZpeCA9IGtleVByZWZpeDtcbiAgdGhpcy5mdW5jID0gbWFwRnVuY3Rpb247XG4gIHRoaXMuY29udGV4dCA9IG1hcENvbnRleHQ7XG4gIHRoaXMuY291bnQgPSAwO1xufVxuTWFwQm9va0tlZXBpbmcucHJvdG90eXBlLmRlc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yZXN1bHQgPSBudWxsO1xuICB0aGlzLmtleVByZWZpeCA9IG51bGw7XG4gIHRoaXMuZnVuYyA9IG51bGw7XG4gIHRoaXMuY29udGV4dCA9IG51bGw7XG4gIHRoaXMuY291bnQgPSAwO1xufTtcblBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhNYXBCb29rS2VlcGluZywgZm91ckFyZ3VtZW50UG9vbGVyKTtcbmZ1bmN0aW9uIG1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQoYm9va0tlZXBpbmcsIGNoaWxkLCBjaGlsZEtleSkge1xuICB2YXIgcmVzdWx0ID0gYm9va0tlZXBpbmcucmVzdWx0O1xuICB2YXIga2V5UHJlZml4ID0gYm9va0tlZXBpbmcua2V5UHJlZml4O1xuICB2YXIgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmM7XG4gIHZhciBjb250ZXh0ID0gYm9va0tlZXBpbmcuY29udGV4dDtcbiAgdmFyIG1hcHBlZENoaWxkID0gZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBib29rS2VlcGluZy5jb3VudCsrKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkobWFwcGVkQ2hpbGQpKSB7XG4gICAgbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbChtYXBwZWRDaGlsZCwgcmVzdWx0LCBjaGlsZEtleSwgZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50KTtcbiAgfSBlbHNlIGlmIChtYXBwZWRDaGlsZCAhPSBudWxsKSB7XG4gICAgaWYgKFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChtYXBwZWRDaGlsZCkpIHtcbiAgICAgIG1hcHBlZENoaWxkID0gUmVhY3RFbGVtZW50LmNsb25lQW5kUmVwbGFjZUtleShtYXBwZWRDaGlsZCwga2V5UHJlZml4ICsgKG1hcHBlZENoaWxkLmtleSAmJiAoIWNoaWxkIHx8IGNoaWxkLmtleSAhPT0gbWFwcGVkQ2hpbGQua2V5KSA/IGVzY2FwZVVzZXJQcm92aWRlZEtleShtYXBwZWRDaGlsZC5rZXkpICsgJy8nIDogJycpICsgY2hpbGRLZXkpO1xuICAgIH1cbiAgICByZXN1bHQucHVzaChtYXBwZWRDaGlsZCk7XG4gIH1cbn1cbmZ1bmN0aW9uIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwoY2hpbGRyZW4sIGFycmF5LCBwcmVmaXgsIGZ1bmMsIGNvbnRleHQpIHtcbiAgdmFyIGVzY2FwZWRQcmVmaXggPSAnJztcbiAgaWYgKHByZWZpeCAhPSBudWxsKSB7XG4gICAgZXNjYXBlZFByZWZpeCA9IGVzY2FwZVVzZXJQcm92aWRlZEtleShwcmVmaXgpICsgJy8nO1xuICB9XG4gIHZhciB0cmF2ZXJzZUNvbnRleHQgPSBNYXBCb29rS2VlcGluZy5nZXRQb29sZWQoYXJyYXksIGVzY2FwZWRQcmVmaXgsIGZ1bmMsIGNvbnRleHQpO1xuICB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBtYXBTaW5nbGVDaGlsZEludG9Db250ZXh0LCB0cmF2ZXJzZUNvbnRleHQpO1xuICBNYXBCb29rS2VlcGluZy5yZWxlYXNlKHRyYXZlcnNlQ29udGV4dCk7XG59XG5mdW5jdGlvbiBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuYywgY29udGV4dCkge1xuICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICB2YXIgcmVzdWx0ID0gW107XG4gIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwoY2hpbGRyZW4sIHJlc3VsdCwgbnVsbCwgZnVuYywgY29udGV4dCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBmb3JFYWNoU2luZ2xlQ2hpbGREdW1teSh0cmF2ZXJzZUNvbnRleHQsIGNoaWxkLCBuYW1lKSB7XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gY291bnRDaGlsZHJlbihjaGlsZHJlbiwgY29udGV4dCkge1xuICByZXR1cm4gdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaFNpbmdsZUNoaWxkRHVtbXksIG51bGwpO1xufVxuZnVuY3Rpb24gdG9BcnJheShjaGlsZHJlbikge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwoY2hpbGRyZW4sIHJlc3VsdCwgbnVsbCwgZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbnZhciBSZWFjdENoaWxkcmVuID0ge1xuICBmb3JFYWNoOiBmb3JFYWNoQ2hpbGRyZW4sXG4gIG1hcDogbWFwQ2hpbGRyZW4sXG4gIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWw6IG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwsXG4gIGNvdW50OiBjb3VudENoaWxkcmVuLFxuICB0b0FycmF5OiB0b0FycmF5XG59O1xubW9kdWxlLmV4cG9ydHMgPSBSZWFjdENoaWxkcmVuO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhciBwcm9jZXNzaW5nQ2hpbGRDb250ZXh0ID0gZmFsc2U7XG4gICAgdmFyIHdhcm5JbnZhbGlkU2V0U3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFwcm9jZXNzaW5nQ2hpbGRDb250ZXh0LCAnc2V0U3RhdGUoLi4uKTogQ2Fubm90IGNhbGwgc2V0U3RhdGUoKSBpbnNpZGUgZ2V0Q2hpbGRDb250ZXh0KCknKSA6IHZvaWQgMDtcbiAgICB9O1xuICB9XG4gIHZhciBSZWFjdEludmFsaWRTZXRTdGF0ZVdhcm5pbmdEZXZUb29sID0ge1xuICAgIG9uQmVnaW5Qcm9jZXNzaW5nQ2hpbGRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIHByb2Nlc3NpbmdDaGlsZENvbnRleHQgPSB0cnVlO1xuICAgIH0sXG4gICAgb25FbmRQcm9jZXNzaW5nQ2hpbGRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIHByb2Nlc3NpbmdDaGlsZENvbnRleHQgPSBmYWxzZTtcbiAgICB9LFxuICAgIG9uU2V0U3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgd2FybkludmFsaWRTZXRTdGF0ZSgpO1xuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdEludmFsaWRTZXRTdGF0ZVdhcm5pbmdEZXZUb29sO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgUmVhY3RJbnZhbGlkU2V0U3RhdGVXYXJuaW5nRGV2VG9vbCA9IHJlcXVpcmUoJy4vUmVhY3RJbnZhbGlkU2V0U3RhdGVXYXJuaW5nRGV2VG9vbCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIGV2ZW50SGFuZGxlcnMgPSBbXTtcbiAgdmFyIGhhbmRsZXJEb2VzVGhyb3dGb3JFdmVudCA9IHt9O1xuICBmdW5jdGlvbiBlbWl0RXZlbnQoaGFuZGxlckZ1bmN0aW9uTmFtZSwgYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBldmVudEhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChoYW5kbGVyW2hhbmRsZXJGdW5jdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICBoYW5kbGVyW2hhbmRsZXJGdW5jdGlvbk5hbWVdKGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFoYW5kbGVyRG9lc1Rocm93Rm9yRXZlbnRbaGFuZGxlckZ1bmN0aW9uTmFtZV0sICdleGNlcHRpb24gdGhyb3duIGJ5IGRldnRvb2wgd2hpbGUgaGFuZGxpbmcgJXM6ICVzJywgaGFuZGxlckZ1bmN0aW9uTmFtZSwgZS5tZXNzYWdlKSA6IHZvaWQgMDtcbiAgICAgICAgICBoYW5kbGVyRG9lc1Rocm93Rm9yRXZlbnRbaGFuZGxlckZ1bmN0aW9uTmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgdmFyIFJlYWN0RGVidWdUb29sID0ge1xuICAgIGFkZERldnRvb2w6IGZ1bmN0aW9uKGRldnRvb2wpIHtcbiAgICAgIGV2ZW50SGFuZGxlcnMucHVzaChkZXZ0b29sKTtcbiAgICB9LFxuICAgIHJlbW92ZURldnRvb2w6IGZ1bmN0aW9uKGRldnRvb2wpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZXZlbnRIYW5kbGVyc1tpXSA9PT0gZGV2dG9vbCkge1xuICAgICAgICAgIGV2ZW50SGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgb25CZWdpblByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgZW1pdEV2ZW50KCdvbkJlZ2luUHJvY2Vzc2luZ0NoaWxkQ29udGV4dCcpO1xuICAgIH0sXG4gICAgb25FbmRQcm9jZXNzaW5nQ2hpbGRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIGVtaXRFdmVudCgnb25FbmRQcm9jZXNzaW5nQ2hpbGRDb250ZXh0Jyk7XG4gICAgfSxcbiAgICBvblNldFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIGVtaXRFdmVudCgnb25TZXRTdGF0ZScpO1xuICAgIH0sXG4gICAgb25Nb3VudFJvb3RDb21wb25lbnQ6IGZ1bmN0aW9uKGludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgIGVtaXRFdmVudCgnb25Nb3VudFJvb3RDb21wb25lbnQnLCBpbnRlcm5hbEluc3RhbmNlKTtcbiAgICB9LFxuICAgIG9uTW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKGludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgIGVtaXRFdmVudCgnb25Nb3VudENvbXBvbmVudCcsIGludGVybmFsSW5zdGFuY2UpO1xuICAgIH0sXG4gICAgb25VcGRhdGVDb21wb25lbnQ6IGZ1bmN0aW9uKGludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgIGVtaXRFdmVudCgnb25VcGRhdGVDb21wb25lbnQnLCBpbnRlcm5hbEluc3RhbmNlKTtcbiAgICB9LFxuICAgIG9uVW5tb3VudENvbXBvbmVudDogZnVuY3Rpb24oaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgZW1pdEV2ZW50KCdvblVubW91bnRDb21wb25lbnQnLCBpbnRlcm5hbEluc3RhbmNlKTtcbiAgICB9XG4gIH07XG4gIFJlYWN0RGVidWdUb29sLmFkZERldnRvb2woUmVhY3RJbnZhbGlkU2V0U3RhdGVXYXJuaW5nRGV2VG9vbCk7XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3REZWJ1Z1Rvb2w7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgUmVhY3REZWJ1Z1Rvb2wgPSByZXF1aXJlKCcuL1JlYWN0RGVidWdUb29sJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHtkZWJ1Z1Rvb2w6IFJlYWN0RGVidWdUb29sfTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSByZXF1aXJlKCcuL1JlYWN0Tm9vcFVwZGF0ZVF1ZXVlJyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9jYW5EZWZpbmVQcm9wZXJ0eScpO1xuICB2YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eU9iamVjdCcpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICBmdW5jdGlvbiBSZWFjdENvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gIH1cbiAgUmVhY3RDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB7fTtcbiAgUmVhY3RDb21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24ocGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICAgICEodHlwZW9mIHBhcnRpYWxTdGF0ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHBhcnRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyB8fCBwYXJ0aWFsU3RhdGUgPT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnc2V0U3RhdGUoLi4uKTogdGFrZXMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcyB0byB1cGRhdGUgb3IgYSAnICsgJ2Z1bmN0aW9uIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldFN0YXRlKCk7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhwYXJ0aWFsU3RhdGUgIT0gbnVsbCwgJ3NldFN0YXRlKC4uLik6IFlvdSBwYXNzZWQgYW4gdW5kZWZpbmVkIG9yIG51bGwgc3RhdGUgb2JqZWN0OyAnICsgJ2luc3RlYWQsIHVzZSBmb3JjZVVwZGF0ZSgpLicpIDogdm9pZCAwO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrLCAnc2V0U3RhdGUnKTtcbiAgICB9XG4gIH07XG4gIFJlYWN0Q29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlQ2FsbGJhY2sodGhpcywgY2FsbGJhY2ssICdmb3JjZVVwZGF0ZScpO1xuICAgIH1cbiAgfTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgZGVwcmVjYXRlZEFQSXMgPSB7XG4gICAgICBpc01vdW50ZWQ6IFsnaXNNb3VudGVkJywgJ0luc3RlYWQsIG1ha2Ugc3VyZSB0byBjbGVhbiB1cCBzdWJzY3JpcHRpb25zIGFuZCBwZW5kaW5nIHJlcXVlc3RzIGluICcgKyAnY29tcG9uZW50V2lsbFVubW91bnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuJ10sXG4gICAgICByZXBsYWNlU3RhdGU6IFsncmVwbGFjZVN0YXRlJywgJ1JlZmFjdG9yIHlvdXIgY29kZSB0byB1c2Ugc2V0U3RhdGUgaW5zdGVhZCAoc2VlICcgKyAnaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zMjM2KS4nXVxuICAgIH07XG4gICAgdmFyIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyA9IGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZm8pIHtcbiAgICAgIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhY3RDb21wb25lbnQucHJvdG90eXBlLCBtZXRob2ROYW1lLCB7Z2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKSBpcyBkZXByZWNhdGVkIGluIHBsYWluIEphdmFTY3JpcHQgUmVhY3QgY2xhc3Nlcy4gJXMnLCBpbmZvWzBdLCBpbmZvWzFdKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfX0pO1xuICAgICAgfVxuICAgIH07XG4gICAgZm9yICh2YXIgZm5OYW1lIGluIGRlcHJlY2F0ZWRBUElzKSB7XG4gICAgICBpZiAoZGVwcmVjYXRlZEFQSXMuaGFzT3duUHJvcGVydHkoZm5OYW1lKSkge1xuICAgICAgICBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcoZm5OYW1lLCBkZXByZWNhdGVkQVBJc1tmbk5hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdENvbXBvbmVudDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIGZ1bmN0aW9uIHdhcm5URFoocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclcyguLi4pOiBDYW4gb25seSB1cGRhdGUgYSBtb3VudGVkIG9yIG1vdW50aW5nIGNvbXBvbmVudC4gJyArICdUaGlzIHVzdWFsbHkgbWVhbnMgeW91IGNhbGxlZCAlcygpIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuICcgKyAnVGhpcyBpcyBhIG5vLW9wLiBQbGVhc2UgY2hlY2sgdGhlIGNvZGUgZm9yIHRoZSAlcyBjb21wb25lbnQuJywgY2FsbGVyTmFtZSwgY2FsbGVyTmFtZSwgcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3IgJiYgcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJycpIDogdm9pZCAwO1xuICAgIH1cbiAgfVxuICB2YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSB7XG4gICAgaXNNb3VudGVkOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgZW5xdWV1ZUNhbGxiYWNrOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSwgY2FsbGJhY2spIHt9LFxuICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UpIHtcbiAgICAgIHdhcm5URFoocHVibGljSW5zdGFuY2UsICdmb3JjZVVwZGF0ZScpO1xuICAgIH0sXG4gICAgZW5xdWV1ZVJlcGxhY2VTdGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIGNvbXBsZXRlU3RhdGUpIHtcbiAgICAgIHdhcm5URFoocHVibGljSW5zdGFuY2UsICdyZXBsYWNlU3RhdGUnKTtcbiAgICB9LFxuICAgIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSkge1xuICAgICAgd2FyblREWihwdWJsaWNJbnN0YW5jZSwgJ3NldFN0YXRlJyk7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbiAgdmFyIFJlYWN0Q29tcG9uZW50ID0gcmVxdWlyZSgnLi9SZWFjdENvbXBvbmVudCcpO1xuICB2YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbiAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbnMnKTtcbiAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0gcmVxdWlyZSgnLi9SZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcycpO1xuICB2YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSByZXF1aXJlKCcuL1JlYWN0Tm9vcFVwZGF0ZVF1ZXVlJyk7XG4gIHZhciBlbXB0eU9iamVjdCA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5T2JqZWN0Jyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgdmFyIGtleU1pcnJvciA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU1pcnJvcicpO1xuICB2YXIga2V5T2YgPSByZXF1aXJlKCdmYmpzL2xpYi9rZXlPZicpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIE1JWElOU19LRVkgPSBrZXlPZih7bWl4aW5zOiBudWxsfSk7XG4gIHZhciBTcGVjUG9saWN5ID0ga2V5TWlycm9yKHtcbiAgICBERUZJTkVfT05DRTogbnVsbCxcbiAgICBERUZJTkVfTUFOWTogbnVsbCxcbiAgICBPVkVSUklERV9CQVNFOiBudWxsLFxuICAgIERFRklORV9NQU5ZX01FUkdFRDogbnVsbFxuICB9KTtcbiAgdmFyIGluamVjdGVkTWl4aW5zID0gW107XG4gIHZhciBSZWFjdENsYXNzSW50ZXJmYWNlID0ge1xuICAgIG1peGluczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICBzdGF0aWNzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgIHByb3BUeXBlczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICBjb250ZXh0VHlwZXM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgY2hpbGRDb250ZXh0VHlwZXM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCxcbiAgICBnZXRJbml0aWFsU3RhdGU6IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VELFxuICAgIGdldENoaWxkQ29udGV4dDogU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQsXG4gICAgcmVuZGVyOiBTcGVjUG9saWN5LkRFRklORV9PTkNFLFxuICAgIGNvbXBvbmVudFdpbGxNb3VudDogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICBjb21wb25lbnREaWRNb3VudDogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfT05DRSxcbiAgICBjb21wb25lbnRXaWxsVXBkYXRlOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgIGNvbXBvbmVudERpZFVwZGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICBjb21wb25lbnRXaWxsVW5tb3VudDogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICB1cGRhdGVDb21wb25lbnQ6IFNwZWNQb2xpY3kuT1ZFUlJJREVfQkFTRVxuICB9O1xuICB2YXIgUkVTRVJWRURfU1BFQ19LRVlTID0ge1xuICAgIGRpc3BsYXlOYW1lOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgZGlzcGxheU5hbWUpIHtcbiAgICAgIENvbnN0cnVjdG9yLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG4gICAgfSxcbiAgICBtaXhpbnM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBtaXhpbnMpIHtcbiAgICAgIGlmIChtaXhpbnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaXhpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBtaXhTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3RvciwgbWl4aW5zW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY2hpbGRDb250ZXh0VHlwZXM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBjaGlsZENvbnRleHRUeXBlcykge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCBjaGlsZENvbnRleHRUeXBlcywgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5jaGlsZENvbnRleHQpO1xuICAgICAgfVxuICAgICAgQ29uc3RydWN0b3IuY2hpbGRDb250ZXh0VHlwZXMgPSBfYXNzaWduKHt9LCBDb25zdHJ1Y3Rvci5jaGlsZENvbnRleHRUeXBlcywgY2hpbGRDb250ZXh0VHlwZXMpO1xuICAgIH0sXG4gICAgY29udGV4dFR5cGVzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgY29udGV4dFR5cGVzKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YWxpZGF0ZVR5cGVEZWYoQ29uc3RydWN0b3IsIGNvbnRleHRUeXBlcywgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5jb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIENvbnN0cnVjdG9yLmNvbnRleHRUeXBlcyA9IF9hc3NpZ24oe30sIENvbnN0cnVjdG9yLmNvbnRleHRUeXBlcywgY29udGV4dFR5cGVzKTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGdldERlZmF1bHRQcm9wcykge1xuICAgICAgaWYgKENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcykge1xuICAgICAgICBDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMgPSBjcmVhdGVNZXJnZWRSZXN1bHRGdW5jdGlvbihDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMsIGdldERlZmF1bHRQcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMgPSBnZXREZWZhdWx0UHJvcHM7XG4gICAgICB9XG4gICAgfSxcbiAgICBwcm9wVHlwZXM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBwcm9wVHlwZXMpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgcHJvcFR5cGVzLCBSZWFjdFByb3BUeXBlTG9jYXRpb25zLnByb3ApO1xuICAgICAgfVxuICAgICAgQ29uc3RydWN0b3IucHJvcFR5cGVzID0gX2Fzc2lnbih7fSwgQ29uc3RydWN0b3IucHJvcFR5cGVzLCBwcm9wVHlwZXMpO1xuICAgIH0sXG4gICAgc3RhdGljczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIHN0YXRpY3MpIHtcbiAgICAgIG1peFN0YXRpY1NwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzdGF0aWNzKTtcbiAgICB9LFxuICAgIGF1dG9iaW5kOiBmdW5jdGlvbigpIHt9XG4gIH07XG4gIGZ1bmN0aW9uIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgdHlwZURlZiwgbG9jYXRpb24pIHtcbiAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiB0eXBlRGVmKSB7XG4gICAgICBpZiAodHlwZURlZi5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodHlwZW9mIHR5cGVEZWZbcHJvcE5hbWVdID09PSAnZnVuY3Rpb24nLCAnJXM6ICVzIHR5cGUgYCVzYCBpcyBpbnZhbGlkOyBpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSAnICsgJ1JlYWN0LlByb3BUeXBlcy4nLCBDb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCAnUmVhY3RDbGFzcycsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXSwgcHJvcE5hbWUpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB2YWxpZGF0ZU1ldGhvZE92ZXJyaWRlKGlzQWxyZWFkeURlZmluZWQsIG5hbWUpIHtcbiAgICB2YXIgc3BlY1BvbGljeSA9IFJlYWN0Q2xhc3NJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkobmFtZSkgPyBSZWFjdENsYXNzSW50ZXJmYWNlW25hbWVdIDogbnVsbDtcbiAgICBpZiAoUmVhY3RDbGFzc01peGluLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAhKHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuT1ZFUlJJREVfQkFTRSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzc0ludGVyZmFjZTogWW91IGFyZSBhdHRlbXB0aW5nIHRvIG92ZXJyaWRlICcgKyAnYCVzYCBmcm9tIHlvdXIgY2xhc3Mgc3BlY2lmaWNhdGlvbi4gRW5zdXJlIHRoYXQgeW91ciBtZXRob2QgbmFtZXMgJyArICdkbyBub3Qgb3ZlcmxhcCB3aXRoIFJlYWN0IG1ldGhvZHMuJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoaXNBbHJlYWR5RGVmaW5lZCkge1xuICAgICAgIShzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZIHx8IHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VEKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzSW50ZXJmYWNlOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gZGVmaW5lICcgKyAnYCVzYCBvbiB5b3VyIGNvbXBvbmVudCBtb3JlIHRoYW4gb25jZS4gVGhpcyBjb25mbGljdCBtYXkgYmUgZHVlICcgKyAndG8gYSBtaXhpbi4nLCBuYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG1peFNwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzcGVjKSB7XG4gICAgaWYgKCFzcGVjKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgICEodHlwZW9mIHNwZWMgIT09ICdmdW5jdGlvbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3M6IFlvdVxcJ3JlIGF0dGVtcHRpbmcgdG8gJyArICd1c2UgYSBjb21wb25lbnQgY2xhc3Mgb3IgZnVuY3Rpb24gYXMgYSBtaXhpbi4gSW5zdGVhZCwganVzdCB1c2UgYSAnICsgJ3JlZ3VsYXIgb2JqZWN0LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAhIVJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChzcGVjKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3VcXCdyZSBhdHRlbXB0aW5nIHRvICcgKyAndXNlIGEgY29tcG9uZW50IGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgcmVndWxhciBvYmplY3QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBwcm90byA9IENvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgICB2YXIgYXV0b0JpbmRQYWlycyA9IHByb3RvLl9fcmVhY3RBdXRvQmluZFBhaXJzO1xuICAgIGlmIChzcGVjLmhhc093blByb3BlcnR5KE1JWElOU19LRVkpKSB7XG4gICAgICBSRVNFUlZFRF9TUEVDX0tFWVMubWl4aW5zKENvbnN0cnVjdG9yLCBzcGVjLm1peGlucyk7XG4gICAgfVxuICAgIGZvciAodmFyIG5hbWUgaW4gc3BlYykge1xuICAgICAgaWYgKCFzcGVjLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWUgPT09IE1JWElOU19LRVkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcGVydHkgPSBzcGVjW25hbWVdO1xuICAgICAgdmFyIGlzQWxyZWFkeURlZmluZWQgPSBwcm90by5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgICAgIHZhbGlkYXRlTWV0aG9kT3ZlcnJpZGUoaXNBbHJlYWR5RGVmaW5lZCwgbmFtZSk7XG4gICAgICBpZiAoUkVTRVJWRURfU1BFQ19LRVlTLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIFJFU0VSVkVEX1NQRUNfS0VZU1tuYW1lXShDb25zdHJ1Y3RvciwgcHJvcGVydHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGlzUmVhY3RDbGFzc01ldGhvZCA9IFJlYWN0Q2xhc3NJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgICAgIHZhciBpc0Z1bmN0aW9uID0gdHlwZW9mIHByb3BlcnR5ID09PSAnZnVuY3Rpb24nO1xuICAgICAgICB2YXIgc2hvdWxkQXV0b0JpbmQgPSBpc0Z1bmN0aW9uICYmICFpc1JlYWN0Q2xhc3NNZXRob2QgJiYgIWlzQWxyZWFkeURlZmluZWQgJiYgc3BlYy5hdXRvYmluZCAhPT0gZmFsc2U7XG4gICAgICAgIGlmIChzaG91bGRBdXRvQmluZCkge1xuICAgICAgICAgIGF1dG9CaW5kUGFpcnMucHVzaChuYW1lLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgcHJvdG9bbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaXNBbHJlYWR5RGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHNwZWNQb2xpY3kgPSBSZWFjdENsYXNzSW50ZXJmYWNlW25hbWVdO1xuICAgICAgICAgICAgIShpc1JlYWN0Q2xhc3NNZXRob2QgJiYgKHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VEIHx8IHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTlkpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBVbmV4cGVjdGVkIHNwZWMgcG9saWN5ICVzIGZvciBrZXkgJXMgJyArICd3aGVuIG1peGluZyBpbiBjb21wb25lbnQgc3BlY3MuJywgc3BlY1BvbGljeSwgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VEKSB7XG4gICAgICAgICAgICAgIHByb3RvW25hbWVdID0gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24ocHJvdG9bbmFtZV0sIHByb3BlcnR5KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWSkge1xuICAgICAgICAgICAgICBwcm90b1tuYW1lXSA9IGNyZWF0ZUNoYWluZWRGdW5jdGlvbihwcm90b1tuYW1lXSwgcHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm90b1tuYW1lXSA9IHByb3BlcnR5O1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJyAmJiBzcGVjLmRpc3BsYXlOYW1lKSB7XG4gICAgICAgICAgICAgICAgcHJvdG9bbmFtZV0uZGlzcGxheU5hbWUgPSBzcGVjLmRpc3BsYXlOYW1lICsgJ18nICsgbmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBtaXhTdGF0aWNTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3RhdGljcykge1xuICAgIGlmICghc3RhdGljcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKHZhciBuYW1lIGluIHN0YXRpY3MpIHtcbiAgICAgIHZhciBwcm9wZXJ0eSA9IHN0YXRpY3NbbmFtZV07XG4gICAgICBpZiAoIXN0YXRpY3MuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgaXNSZXNlcnZlZCA9IG5hbWUgaW4gUkVTRVJWRURfU1BFQ19LRVlTO1xuICAgICAgISFpc1Jlc2VydmVkID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3M6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBkZWZpbmUgYSByZXNlcnZlZCAnICsgJ3Byb3BlcnR5LCBgJXNgLCB0aGF0IHNob3VsZG5cXCd0IGJlIG9uIHRoZSBcInN0YXRpY3NcIiBrZXkuIERlZmluZSBpdCAnICsgJ2FzIGFuIGluc3RhbmNlIHByb3BlcnR5IGluc3RlYWQ7IGl0IHdpbGwgc3RpbGwgYmUgYWNjZXNzaWJsZSBvbiB0aGUgJyArICdjb25zdHJ1Y3Rvci4nLCBuYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgaXNJbmhlcml0ZWQgPSBuYW1lIGluIENvbnN0cnVjdG9yO1xuICAgICAgISFpc0luaGVyaXRlZCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gZGVmaW5lICcgKyAnYCVzYCBvbiB5b3VyIGNvbXBvbmVudCBtb3JlIHRoYW4gb25jZS4gVGhpcyBjb25mbGljdCBtYXkgYmUgJyArICdkdWUgdG8gYSBtaXhpbi4nLCBuYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBDb25zdHJ1Y3RvcltuYW1lXSA9IHByb3BlcnR5O1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzKG9uZSwgdHdvKSB7XG4gICAgIShvbmUgJiYgdHdvICYmIHR5cGVvZiBvbmUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB0d28gPT09ICdvYmplY3QnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzKCk6IENhbm5vdCBtZXJnZSBub24tb2JqZWN0cy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgZm9yICh2YXIga2V5IGluIHR3bykge1xuICAgICAgaWYgKHR3by5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICEob25lW2tleV0gPT09IHVuZGVmaW5lZCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cygpOiAnICsgJ1RyaWVkIHRvIG1lcmdlIHR3byBvYmplY3RzIHdpdGggdGhlIHNhbWUga2V5OiBgJXNgLiBUaGlzIGNvbmZsaWN0ICcgKyAnbWF5IGJlIGR1ZSB0byBhIG1peGluOyBpbiBwYXJ0aWN1bGFyLCB0aGlzIG1heSBiZSBjYXVzZWQgYnkgdHdvICcgKyAnZ2V0SW5pdGlhbFN0YXRlKCkgb3IgZ2V0RGVmYXVsdFByb3BzKCkgbWV0aG9kcyByZXR1cm5pbmcgb2JqZWN0cyAnICsgJ3dpdGggY2xhc2hpbmcga2V5cy4nLCBrZXkpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgb25lW2tleV0gPSB0d29ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9uZTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVNZXJnZWRSZXN1bHRGdW5jdGlvbihvbmUsIHR3bykge1xuICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZWRSZXN1bHQoKSB7XG4gICAgICB2YXIgYSA9IG9uZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGIgPSB0d28uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIGlmIChhID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGI7XG4gICAgICB9IGVsc2UgaWYgKGIgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH1cbiAgICAgIHZhciBjID0ge307XG4gICAgICBtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzKGMsIGEpO1xuICAgICAgbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhjLCBiKTtcbiAgICAgIHJldHVybiBjO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uKG9uZSwgdHdvKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNoYWluZWRGdW5jdGlvbigpIHtcbiAgICAgIG9uZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgdHdvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBiaW5kQXV0b0JpbmRNZXRob2QoY29tcG9uZW50LCBtZXRob2QpIHtcbiAgICB2YXIgYm91bmRNZXRob2QgPSBtZXRob2QuYmluZChjb21wb25lbnQpO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRDb250ZXh0ID0gY29tcG9uZW50O1xuICAgICAgYm91bmRNZXRob2QuX19yZWFjdEJvdW5kTWV0aG9kID0gbWV0aG9kO1xuICAgICAgYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQXJndW1lbnRzID0gbnVsbDtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lO1xuICAgICAgdmFyIF9iaW5kID0gYm91bmRNZXRob2QuYmluZDtcbiAgICAgIGJvdW5kTWV0aG9kLmJpbmQgPSBmdW5jdGlvbihuZXdUaGlzKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSxcbiAgICAgICAgICAgIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld1RoaXMgIT09IGNvbXBvbmVudCAmJiBuZXdUaGlzICE9PSBudWxsKSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdiaW5kKCk6IFJlYWN0IGNvbXBvbmVudCBtZXRob2RzIG1heSBvbmx5IGJlIGJvdW5kIHRvIHRoZSAnICsgJ2NvbXBvbmVudCBpbnN0YW5jZS4gU2VlICVzJywgY29tcG9uZW50TmFtZSkgOiB2b2lkIDA7XG4gICAgICAgIH0gZWxzZSBpZiAoIWFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdiaW5kKCk6IFlvdSBhcmUgYmluZGluZyBhIGNvbXBvbmVudCBtZXRob2QgdG8gdGhlIGNvbXBvbmVudC4gJyArICdSZWFjdCBkb2VzIHRoaXMgZm9yIHlvdSBhdXRvbWF0aWNhbGx5IGluIGEgaGlnaC1wZXJmb3JtYW5jZSAnICsgJ3dheSwgc28geW91IGNhbiBzYWZlbHkgcmVtb3ZlIHRoaXMgY2FsbC4gU2VlICVzJywgY29tcG9uZW50TmFtZSkgOiB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIGJvdW5kTWV0aG9kO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWJvdW5kTWV0aG9kID0gX2JpbmQuYXBwbHkoYm91bmRNZXRob2QsIGFyZ3VtZW50cyk7XG4gICAgICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQ29udGV4dCA9IGNvbXBvbmVudDtcbiAgICAgICAgcmVib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRNZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQXJndW1lbnRzID0gYXJncztcbiAgICAgICAgcmV0dXJuIHJlYm91bmRNZXRob2Q7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYm91bmRNZXRob2Q7XG4gIH1cbiAgZnVuY3Rpb24gYmluZEF1dG9CaW5kTWV0aG9kcyhjb21wb25lbnQpIHtcbiAgICB2YXIgcGFpcnMgPSBjb21wb25lbnQuX19yZWFjdEF1dG9CaW5kUGFpcnM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgdmFyIGF1dG9CaW5kS2V5ID0gcGFpcnNbaV07XG4gICAgICB2YXIgbWV0aG9kID0gcGFpcnNbaSArIDFdO1xuICAgICAgY29tcG9uZW50W2F1dG9CaW5kS2V5XSA9IGJpbmRBdXRvQmluZE1ldGhvZChjb21wb25lbnQsIG1ldGhvZCk7XG4gICAgfVxuICB9XG4gIHZhciBSZWFjdENsYXNzTWl4aW4gPSB7XG4gICAgcmVwbGFjZVN0YXRlOiBmdW5jdGlvbihuZXdTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlUmVwbGFjZVN0YXRlKHRoaXMsIG5ld1N0YXRlKTtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrLCAncmVwbGFjZVN0YXRlJyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlci5pc01vdW50ZWQodGhpcyk7XG4gICAgfVxuICB9O1xuICB2YXIgUmVhY3RDbGFzc0NvbXBvbmVudCA9IGZ1bmN0aW9uKCkge307XG4gIF9hc3NpZ24oUmVhY3RDbGFzc0NvbXBvbmVudC5wcm90b3R5cGUsIFJlYWN0Q29tcG9uZW50LnByb3RvdHlwZSwgUmVhY3RDbGFzc01peGluKTtcbiAgdmFyIFJlYWN0Q2xhc3MgPSB7XG4gICAgY3JlYXRlQ2xhc3M6IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodGhpcyBpbnN0YW5jZW9mIENvbnN0cnVjdG9yLCAnU29tZXRoaW5nIGlzIGNhbGxpbmcgYSBSZWFjdCBjb21wb25lbnQgZGlyZWN0bHkuIFVzZSBhIGZhY3Rvcnkgb3IgJyArICdKU1ggaW5zdGVhZC4gU2VlOiBodHRwczovL2ZiLm1lL3JlYWN0LWxlZ2FjeWZhY3RvcnknKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fX3JlYWN0QXV0b0JpbmRQYWlycy5sZW5ndGgpIHtcbiAgICAgICAgICBiaW5kQXV0b0JpbmRNZXRob2RzKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5yZWZzID0gZW1wdHlPYmplY3Q7XG4gICAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgICAgICB2YXIgaW5pdGlhbFN0YXRlID0gdGhpcy5nZXRJbml0aWFsU3RhdGUgPyB0aGlzLmdldEluaXRpYWxTdGF0ZSgpIDogbnVsbDtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAoaW5pdGlhbFN0YXRlID09PSB1bmRlZmluZWQgJiYgdGhpcy5nZXRJbml0aWFsU3RhdGUuX2lzTW9ja0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICBpbml0aWFsU3RhdGUgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAhKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGluaXRpYWxTdGF0ZSkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzLmdldEluaXRpYWxTdGF0ZSgpOiBtdXN0IHJldHVybiBhbiBvYmplY3Qgb3IgbnVsbCcsIENvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICAgIH07XG4gICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBuZXcgUmVhY3RDbGFzc0NvbXBvbmVudCgpO1xuICAgICAgQ29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29uc3RydWN0b3I7XG4gICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuX19yZWFjdEF1dG9CaW5kUGFpcnMgPSBbXTtcbiAgICAgIGluamVjdGVkTWl4aW5zLmZvckVhY2gobWl4U3BlY0ludG9Db21wb25lbnQuYmluZChudWxsLCBDb25zdHJ1Y3RvcikpO1xuICAgICAgbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHNwZWMpO1xuICAgICAgaWYgKENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcykge1xuICAgICAgICBDb25zdHJ1Y3Rvci5kZWZhdWx0UHJvcHMgPSBDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgICBDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ29uc3RydWN0b3IucHJvdG90eXBlLmdldEluaXRpYWxTdGF0ZSkge1xuICAgICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRJbml0aWFsU3RhdGUuaXNSZWFjdENsYXNzQXBwcm92ZWQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIUNvbnN0cnVjdG9yLnByb3RvdHlwZS5yZW5kZXIgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnY3JlYXRlQ2xhc3MoLi4uKTogQ2xhc3Mgc3BlY2lmaWNhdGlvbiBtdXN0IGltcGxlbWVudCBhIGByZW5kZXJgIG1ldGhvZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghQ29uc3RydWN0b3IucHJvdG90eXBlLmNvbXBvbmVudFNob3VsZFVwZGF0ZSwgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnRTaG91bGRVcGRhdGUoKS4gRGlkIHlvdSBtZWFuIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpPyAnICsgJ1RoZSBuYW1lIGlzIHBocmFzZWQgYXMgYSBxdWVzdGlvbiBiZWNhdXNlIHRoZSBmdW5jdGlvbiBpcyAnICsgJ2V4cGVjdGVkIHRvIHJldHVybiBhIHZhbHVlLicsIHNwZWMuZGlzcGxheU5hbWUgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcywgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk/Jywgc3BlYy5kaXNwbGF5TmFtZSB8fCAnQSBjb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIG1ldGhvZE5hbWUgaW4gUmVhY3RDbGFzc0ludGVyZmFjZSkge1xuICAgICAgICBpZiAoIUNvbnN0cnVjdG9yLnByb3RvdHlwZVttZXRob2ROYW1lXSkge1xuICAgICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICB9LFxuICAgIGluamVjdGlvbjoge2luamVjdE1peGluOiBmdW5jdGlvbihtaXhpbikge1xuICAgICAgICBpbmplY3RlZE1peGlucy5wdXNoKG1peGluKTtcbiAgICAgIH19XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDbGFzcztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG4gIHZhciBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudFZhbGlkYXRvcicpO1xuICB2YXIgbWFwT2JqZWN0ID0gcmVxdWlyZSgnZmJqcy9saWIvbWFwT2JqZWN0Jyk7XG4gIGZ1bmN0aW9uIGNyZWF0ZURPTUZhY3RvcnkodGFnKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRmFjdG9yeSh0YWcpO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3RFbGVtZW50LmNyZWF0ZUZhY3RvcnkodGFnKTtcbiAgfVxuICB2YXIgUmVhY3RET01GYWN0b3JpZXMgPSBtYXBPYmplY3Qoe1xuICAgIGE6ICdhJyxcbiAgICBhYmJyOiAnYWJicicsXG4gICAgYWRkcmVzczogJ2FkZHJlc3MnLFxuICAgIGFyZWE6ICdhcmVhJyxcbiAgICBhcnRpY2xlOiAnYXJ0aWNsZScsXG4gICAgYXNpZGU6ICdhc2lkZScsXG4gICAgYXVkaW86ICdhdWRpbycsXG4gICAgYjogJ2InLFxuICAgIGJhc2U6ICdiYXNlJyxcbiAgICBiZGk6ICdiZGknLFxuICAgIGJkbzogJ2JkbycsXG4gICAgYmlnOiAnYmlnJyxcbiAgICBibG9ja3F1b3RlOiAnYmxvY2txdW90ZScsXG4gICAgYm9keTogJ2JvZHknLFxuICAgIGJyOiAnYnInLFxuICAgIGJ1dHRvbjogJ2J1dHRvbicsXG4gICAgY2FudmFzOiAnY2FudmFzJyxcbiAgICBjYXB0aW9uOiAnY2FwdGlvbicsXG4gICAgY2l0ZTogJ2NpdGUnLFxuICAgIGNvZGU6ICdjb2RlJyxcbiAgICBjb2w6ICdjb2wnLFxuICAgIGNvbGdyb3VwOiAnY29sZ3JvdXAnLFxuICAgIGRhdGE6ICdkYXRhJyxcbiAgICBkYXRhbGlzdDogJ2RhdGFsaXN0JyxcbiAgICBkZDogJ2RkJyxcbiAgICBkZWw6ICdkZWwnLFxuICAgIGRldGFpbHM6ICdkZXRhaWxzJyxcbiAgICBkZm46ICdkZm4nLFxuICAgIGRpYWxvZzogJ2RpYWxvZycsXG4gICAgZGl2OiAnZGl2JyxcbiAgICBkbDogJ2RsJyxcbiAgICBkdDogJ2R0JyxcbiAgICBlbTogJ2VtJyxcbiAgICBlbWJlZDogJ2VtYmVkJyxcbiAgICBmaWVsZHNldDogJ2ZpZWxkc2V0JyxcbiAgICBmaWdjYXB0aW9uOiAnZmlnY2FwdGlvbicsXG4gICAgZmlndXJlOiAnZmlndXJlJyxcbiAgICBmb290ZXI6ICdmb290ZXInLFxuICAgIGZvcm06ICdmb3JtJyxcbiAgICBoMTogJ2gxJyxcbiAgICBoMjogJ2gyJyxcbiAgICBoMzogJ2gzJyxcbiAgICBoNDogJ2g0JyxcbiAgICBoNTogJ2g1JyxcbiAgICBoNjogJ2g2JyxcbiAgICBoZWFkOiAnaGVhZCcsXG4gICAgaGVhZGVyOiAnaGVhZGVyJyxcbiAgICBoZ3JvdXA6ICdoZ3JvdXAnLFxuICAgIGhyOiAnaHInLFxuICAgIGh0bWw6ICdodG1sJyxcbiAgICBpOiAnaScsXG4gICAgaWZyYW1lOiAnaWZyYW1lJyxcbiAgICBpbWc6ICdpbWcnLFxuICAgIGlucHV0OiAnaW5wdXQnLFxuICAgIGluczogJ2lucycsXG4gICAga2JkOiAna2JkJyxcbiAgICBrZXlnZW46ICdrZXlnZW4nLFxuICAgIGxhYmVsOiAnbGFiZWwnLFxuICAgIGxlZ2VuZDogJ2xlZ2VuZCcsXG4gICAgbGk6ICdsaScsXG4gICAgbGluazogJ2xpbmsnLFxuICAgIG1haW46ICdtYWluJyxcbiAgICBtYXA6ICdtYXAnLFxuICAgIG1hcms6ICdtYXJrJyxcbiAgICBtZW51OiAnbWVudScsXG4gICAgbWVudWl0ZW06ICdtZW51aXRlbScsXG4gICAgbWV0YTogJ21ldGEnLFxuICAgIG1ldGVyOiAnbWV0ZXInLFxuICAgIG5hdjogJ25hdicsXG4gICAgbm9zY3JpcHQ6ICdub3NjcmlwdCcsXG4gICAgb2JqZWN0OiAnb2JqZWN0JyxcbiAgICBvbDogJ29sJyxcbiAgICBvcHRncm91cDogJ29wdGdyb3VwJyxcbiAgICBvcHRpb246ICdvcHRpb24nLFxuICAgIG91dHB1dDogJ291dHB1dCcsXG4gICAgcDogJ3AnLFxuICAgIHBhcmFtOiAncGFyYW0nLFxuICAgIHBpY3R1cmU6ICdwaWN0dXJlJyxcbiAgICBwcmU6ICdwcmUnLFxuICAgIHByb2dyZXNzOiAncHJvZ3Jlc3MnLFxuICAgIHE6ICdxJyxcbiAgICBycDogJ3JwJyxcbiAgICBydDogJ3J0JyxcbiAgICBydWJ5OiAncnVieScsXG4gICAgczogJ3MnLFxuICAgIHNhbXA6ICdzYW1wJyxcbiAgICBzY3JpcHQ6ICdzY3JpcHQnLFxuICAgIHNlY3Rpb246ICdzZWN0aW9uJyxcbiAgICBzZWxlY3Q6ICdzZWxlY3QnLFxuICAgIHNtYWxsOiAnc21hbGwnLFxuICAgIHNvdXJjZTogJ3NvdXJjZScsXG4gICAgc3BhbjogJ3NwYW4nLFxuICAgIHN0cm9uZzogJ3N0cm9uZycsXG4gICAgc3R5bGU6ICdzdHlsZScsXG4gICAgc3ViOiAnc3ViJyxcbiAgICBzdW1tYXJ5OiAnc3VtbWFyeScsXG4gICAgc3VwOiAnc3VwJyxcbiAgICB0YWJsZTogJ3RhYmxlJyxcbiAgICB0Ym9keTogJ3Rib2R5JyxcbiAgICB0ZDogJ3RkJyxcbiAgICB0ZXh0YXJlYTogJ3RleHRhcmVhJyxcbiAgICB0Zm9vdDogJ3Rmb290JyxcbiAgICB0aDogJ3RoJyxcbiAgICB0aGVhZDogJ3RoZWFkJyxcbiAgICB0aW1lOiAndGltZScsXG4gICAgdGl0bGU6ICd0aXRsZScsXG4gICAgdHI6ICd0cicsXG4gICAgdHJhY2s6ICd0cmFjaycsXG4gICAgdTogJ3UnLFxuICAgIHVsOiAndWwnLFxuICAgICd2YXInOiAndmFyJyxcbiAgICB2aWRlbzogJ3ZpZGVvJyxcbiAgICB3YnI6ICd3YnInLFxuICAgIGNpcmNsZTogJ2NpcmNsZScsXG4gICAgY2xpcFBhdGg6ICdjbGlwUGF0aCcsXG4gICAgZGVmczogJ2RlZnMnLFxuICAgIGVsbGlwc2U6ICdlbGxpcHNlJyxcbiAgICBnOiAnZycsXG4gICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgbGluZTogJ2xpbmUnLFxuICAgIGxpbmVhckdyYWRpZW50OiAnbGluZWFyR3JhZGllbnQnLFxuICAgIG1hc2s6ICdtYXNrJyxcbiAgICBwYXRoOiAncGF0aCcsXG4gICAgcGF0dGVybjogJ3BhdHRlcm4nLFxuICAgIHBvbHlnb246ICdwb2x5Z29uJyxcbiAgICBwb2x5bGluZTogJ3BvbHlsaW5lJyxcbiAgICByYWRpYWxHcmFkaWVudDogJ3JhZGlhbEdyYWRpZW50JyxcbiAgICByZWN0OiAncmVjdCcsXG4gICAgc3RvcDogJ3N0b3AnLFxuICAgIHN2ZzogJ3N2ZycsXG4gICAgdGV4dDogJ3RleHQnLFxuICAgIHRzcGFuOiAndHNwYW4nXG4gIH0sIGNyZWF0ZURPTUZhY3RvcnkpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NRmFjdG9yaWVzO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFByb3BUeXBlTG9jYXRpb25zXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIga2V5TWlycm9yID0gcmVxdWlyZSgnZmJqcy9saWIva2V5TWlycm9yJyk7XG5cbnZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0ga2V5TWlycm9yKHtcbiAgcHJvcDogbnVsbCxcbiAgY29udGV4dDogbnVsbCxcbiAgY2hpbGRDb250ZXh0OiBudWxsXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25zOyIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbiAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbnMnKTtcbiAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0gcmVxdWlyZSgnLi9SZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcycpO1xuICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKCcuL1JlYWN0Q3VycmVudE93bmVyJyk7XG4gIHZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vY2FuRGVmaW5lUHJvcGVydHknKTtcbiAgdmFyIGdldEl0ZXJhdG9yRm4gPSByZXF1aXJlKCcuL2dldEl0ZXJhdG9yRm4nKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkge1xuICAgIGlmIChSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgICB2YXIgbmFtZSA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQuZ2V0TmFtZSgpO1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB7fTtcbiAgdmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuICBmdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgICBpZiAoIWVsZW1lbnQuX3N0b3JlIHx8IGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCB8fCBlbGVtZW50LmtleSAhPSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdmFyIGFkZGVuZGEgPSBnZXRBZGRlbmRhRm9yS2V5VXNlKCd1bmlxdWVLZXknLCBlbGVtZW50LCBwYXJlbnRUeXBlKTtcbiAgICBpZiAoYWRkZW5kYSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0VhY2ggY2hpbGQgaW4gYW4gYXJyYXkgb3IgaXRlcmF0b3Igc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLicgKyAnJXMlcyVzJywgYWRkZW5kYS5wYXJlbnRPck93bmVyIHx8ICcnLCBhZGRlbmRhLmNoaWxkT3duZXIgfHwgJycsIGFkZGVuZGEudXJsIHx8ICcnKSA6IHZvaWQgMDtcbiAgfVxuICBmdW5jdGlvbiBnZXRBZGRlbmRhRm9yS2V5VXNlKG1lc3NhZ2VUeXBlLCBlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gICAgdmFyIGFkZGVuZHVtID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgaWYgKCFhZGRlbmR1bSkge1xuICAgICAgdmFyIHBhcmVudE5hbWUgPSB0eXBlb2YgcGFyZW50VHlwZSA9PT0gJ3N0cmluZycgPyBwYXJlbnRUeXBlIDogcGFyZW50VHlwZS5kaXNwbGF5TmFtZSB8fCBwYXJlbnRUeXBlLm5hbWU7XG4gICAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgICBhZGRlbmR1bSA9ICcgQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8JyArIHBhcmVudE5hbWUgKyAnPi4nO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbWVtb2l6ZXIgPSBvd25lckhhc0tleVVzZVdhcm5pbmdbbWVzc2FnZVR5cGVdIHx8IChvd25lckhhc0tleVVzZVdhcm5pbmdbbWVzc2FnZVR5cGVdID0ge30pO1xuICAgIGlmIChtZW1vaXplclthZGRlbmR1bV0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBtZW1vaXplclthZGRlbmR1bV0gPSB0cnVlO1xuICAgIHZhciBhZGRlbmRhID0ge1xuICAgICAgcGFyZW50T3JPd25lcjogYWRkZW5kdW0sXG4gICAgICB1cmw6ICcgU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsXG4gICAgICBjaGlsZE93bmVyOiBudWxsXG4gICAgfTtcbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgYWRkZW5kYS5jaGlsZE93bmVyID0gJyBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSAnICsgZWxlbWVudC5fb3duZXIuZ2V0TmFtZSgpICsgJy4nO1xuICAgIH1cbiAgICByZXR1cm4gYWRkZW5kYTtcbiAgfVxuICBmdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gICAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG4gICAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgaWYgKG5vZGUuX3N0b3JlKSB7XG4gICAgICAgIG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG4gICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShzdGVwLnZhbHVlLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gY2hlY2tQcm9wVHlwZXMoY29tcG9uZW50TmFtZSwgcHJvcFR5cGVzLCBwcm9wcywgbG9jYXRpb24pIHtcbiAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBwcm9wVHlwZXMpIHtcbiAgICAgIGlmIChwcm9wVHlwZXMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAhKHR5cGVvZiBwcm9wVHlwZXNbcHJvcE5hbWVdID09PSAnZnVuY3Rpb24nKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgKyAnUmVhY3QuUHJvcFR5cGVzLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dLCBwcm9wTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIGVycm9yID0gcHJvcFR5cGVzW3Byb3BOYW1lXShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uKTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBlcnJvciA9IGV4O1xuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFlcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIEVycm9yLCAnJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcyBgJXNgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAlcy4gJyArICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICsgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lLCB0eXBlb2YgZXJyb3IpIDogdm9pZCAwO1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvci5tZXNzYWdlXSA9IHRydWU7XG4gICAgICAgICAgdmFyIGFkZGVuZHVtID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdGYWlsZWQgcHJvcFR5cGU6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCkge1xuICAgIHZhciBjb21wb25lbnRDbGFzcyA9IGVsZW1lbnQudHlwZTtcbiAgICBpZiAodHlwZW9mIGNvbXBvbmVudENsYXNzICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBuYW1lID0gY29tcG9uZW50Q2xhc3MuZGlzcGxheU5hbWUgfHwgY29tcG9uZW50Q2xhc3MubmFtZTtcbiAgICBpZiAoY29tcG9uZW50Q2xhc3MucHJvcFR5cGVzKSB7XG4gICAgICBjaGVja1Byb3BUeXBlcyhuYW1lLCBjb21wb25lbnRDbGFzcy5wcm9wVHlwZXMsIGVsZW1lbnQucHJvcHMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMucHJvcCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tcG9uZW50Q2xhc3MuZ2V0RGVmYXVsdFByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhjb21wb25lbnRDbGFzcy5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQsICdnZXREZWZhdWx0UHJvcHMgaXMgb25seSB1c2VkIG9uIGNsYXNzaWMgUmVhY3QuY3JlYXRlQ2xhc3MgJyArICdkZWZpbml0aW9ucy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IG5hbWVkIGBkZWZhdWx0UHJvcHNgIGluc3RlYWQuJykgOiB2b2lkIDA7XG4gICAgfVxuICB9XG4gIHZhciBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgPSB7XG4gICAgY3JlYXRlRWxlbWVudDogZnVuY3Rpb24odHlwZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gICAgICB2YXIgdmFsaWRUeXBlID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nO1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodmFsaWRUeXBlLCAnUmVhY3QuY3JlYXRlRWxlbWVudDogdHlwZSBzaG91bGQgbm90IGJlIG51bGwsIHVuZGVmaW5lZCwgYm9vbGVhbiwgb3IgJyArICdudW1iZXIuIEl0IHNob3VsZCBiZSBhIHN0cmluZyAoZm9yIERPTSBlbGVtZW50cykgb3IgYSBSZWFjdENsYXNzICcgKyAnKGZvciBjb21wb3NpdGUgY29tcG9uZW50cykuJXMnLCBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSkgOiB2b2lkIDA7XG4gICAgICB2YXIgZWxlbWVudCA9IFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfVxuICAgICAgaWYgKHZhbGlkVHlwZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1tpXSwgdHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhbGlkYXRlUHJvcFR5cGVzKGVsZW1lbnQpO1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfSxcbiAgICBjcmVhdGVGYWN0b3J5OiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICB2YXIgdmFsaWRhdGVkRmFjdG9yeSA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVFbGVtZW50LmJpbmQobnVsbCwgdHlwZSk7XG4gICAgICB2YWxpZGF0ZWRGYWN0b3J5LnR5cGUgPSB0eXBlO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbGlkYXRlZEZhY3RvcnksICd0eXBlJywge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ZhY3RvcnkudHlwZSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdGhlIGNsYXNzIGRpcmVjdGx5ICcgKyAnYmVmb3JlIHBhc3NpbmcgaXQgdG8gY3JlYXRlRmFjdG9yeS4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0eXBlJywge3ZhbHVlOiB0eXBlfSk7XG4gICAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsaWRhdGVkRmFjdG9yeTtcbiAgICB9LFxuICAgIGNsb25lRWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gICAgICB2YXIgbmV3RWxlbWVudCA9IFJlYWN0RWxlbWVudC5jbG9uZUVsZW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1tpXSwgbmV3RWxlbWVudC50eXBlKTtcbiAgICAgIH1cbiAgICAgIHZhbGlkYXRlUHJvcFR5cGVzKG5ld0VsZW1lbnQpO1xuICAgICAgcmV0dXJuIG5ld0VsZW1lbnQ7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RWxlbWVudFZhbGlkYXRvcjtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0ge307XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSB7XG4gICAgICBwcm9wOiAncHJvcCcsXG4gICAgICBjb250ZXh0OiAnY29udGV4dCcsXG4gICAgICBjaGlsZENvbnRleHQ6ICdjaGlsZCBjb250ZXh0J1xuICAgIH07XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZ2V0SXRlcmF0b3JGblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyogZ2xvYmFsIFN5bWJvbCAqL1xuXG52YXIgSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG52YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpdGVyYXRvciBtZXRob2QgZnVuY3Rpb24gY29udGFpbmVkIG9uIHRoZSBpdGVyYWJsZSBvYmplY3QuXG4gKlxuICogQmUgc3VyZSB0byBpbnZva2UgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGl0ZXJhYmxlIGFzIGNvbnRleHQ6XG4gKlxuICogICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihteUl0ZXJhYmxlKTtcbiAqICAgICBpZiAoaXRlcmF0b3JGbikge1xuICogICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG15SXRlcmFibGUpO1xuICogICAgICAgLi4uXG4gKiAgICAgfVxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gbWF5YmVJdGVyYWJsZVxuICogQHJldHVybiB7P2Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgdmFyIGl0ZXJhdG9yRm4gPSBtYXliZUl0ZXJhYmxlICYmIChJVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtJVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdKTtcbiAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRJdGVyYXRvckZuOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG52YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzJyk7XG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcbnZhciBnZXRJdGVyYXRvckZuID0gcmVxdWlyZSgnLi9nZXRJdGVyYXRvckZuJyk7XG52YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xudmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICBhcnJheTogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2FycmF5JyksXG4gIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG4gIGZ1bmM6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdmdW5jdGlvbicpLFxuICBudW1iZXI6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdudW1iZXInKSxcbiAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG4gIHN0cmluZzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N0cmluZycpLFxuICBhbnk6IGNyZWF0ZUFueVR5cGVDaGVja2VyKCksXG4gIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcbiAgZWxlbWVudDogY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCksXG4gIGluc3RhbmNlT2Y6IGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIsXG4gIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG4gIG9iamVjdE9mOiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyLFxuICBvbmVPZjogY3JlYXRlRW51bVR5cGVDaGVja2VyLFxuICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG4gIHNoYXBlOiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyXG59O1xuZnVuY3Rpb24gaXMoeCwgeSkge1xuICBpZiAoeCA9PT0geSkge1xuICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSkge1xuICBmdW5jdGlvbiBjaGVja1R5cGUoaXNSZXF1aXJlZCwgcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuICAgIHByb3BGdWxsTmFtZSA9IHByb3BGdWxsTmFtZSB8fCBwcm9wTmFtZTtcbiAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICBpZiAoaXNSZXF1aXJlZCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdSZXF1aXJlZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHdhcyBub3Qgc3BlY2lmaWVkIGluICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKTtcbiAgICB9XG4gIH1cbiAgdmFyIGNoYWluZWRDaGVja1R5cGUgPSBjaGVja1R5cGUuYmluZChudWxsLCBmYWxzZSk7XG4gIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuICByZXR1cm4gY2hhaW5lZENoZWNrVHlwZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKGV4cGVjdGVkVHlwZSkge1xuICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICB2YXIgcHJlY2lzZVR5cGUgPSBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpO1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcmVjaXNlVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnYCcgKyBleHBlY3RlZFR5cGUgKyAnYC4nKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpIHtcbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMobnVsbCkpO1xufVxuZnVuY3Rpb24gY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBhcnJheU9mLicpO1xuICAgIH1cbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gYXJyYXkuJykpO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBpLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJ1snICsgaSArICddJyk7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGlmICghUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgc2luZ2xlIFJlYWN0RWxlbWVudC4nKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgaWYgKCEocHJvcHNbcHJvcE5hbWVdIGluc3RhbmNlb2YgZXhwZWN0ZWRDbGFzcykpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICB2YXIgZXhwZWN0ZWRDbGFzc05hbWUgPSBleHBlY3RlZENsYXNzLm5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgdmFyIGFjdHVhbENsYXNzTmFtZSA9IGdldENsYXNzTmFtZShwcm9wc1twcm9wTmFtZV0pO1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBhY3R1YWxDbGFzc05hbWUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2luc3RhbmNlIG9mIGAnICsgZXhwZWN0ZWRDbGFzc05hbWUgKyAnYC4nKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIoZXhwZWN0ZWRWYWx1ZXMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGV4cGVjdGVkVmFsdWVzKSkge1xuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcihmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3RlZFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGlzKHByb3BWYWx1ZSwgZXhwZWN0ZWRWYWx1ZXNbaV0pKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcyk7XG4gICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHZhbHVlIGAnICsgcHJvcFZhbHVlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIG9uZSBvZiAnICsgdmFsdWVzU3RyaW5nICsgJy4nKSk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIG9iamVjdE9mLicpO1xuICAgIH1cbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gb2JqZWN0LicpKTtcbiAgICB9XG4gICAgZm9yICh2YXIga2V5IGluIHByb3BWYWx1ZSkge1xuICAgICAgaWYgKHByb3BWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5KTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIoYXJyYXlPZlR5cGVDaGVja2Vycykge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXlPZlR5cGVDaGVja2VycykpIHtcbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJyk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG4gICAgICBpZiAoY2hlY2tlcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLicpKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGlmICghaXNOb2RlKHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgUmVhY3ROb2RlLicpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIoc2hhcGVUeXBlcykge1xuICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuICAgIH1cbiAgICBmb3IgKHZhciBrZXkgaW4gc2hhcGVUeXBlcykge1xuICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG4gICAgICBpZiAoIWNoZWNrZXIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5KTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBpc05vZGUocHJvcFZhbHVlKSB7XG4gIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gIXByb3BWYWx1ZTtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICByZXR1cm4gcHJvcFZhbHVlLmV2ZXJ5KGlzTm9kZSk7XG4gICAgICB9XG4gICAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8IFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKHByb3BWYWx1ZSk7XG4gICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwocHJvcFZhbHVlKTtcbiAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgIGlmICghaXNOb2RlKHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICBpZiAoIWlzTm9kZShlbnRyeVsxXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFByb3BUeXBlKHByb3BWYWx1ZSkge1xuICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgcmV0dXJuICdhcnJheSc7XG4gIH1cbiAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgIHJldHVybiAnb2JqZWN0JztcbiAgfVxuICByZXR1cm4gcHJvcFR5cGU7XG59XG5mdW5jdGlvbiBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpIHtcbiAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgaWYgKHByb3BUeXBlID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICByZXR1cm4gJ2RhdGUnO1xuICAgIH0gZWxzZSBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICByZXR1cm4gJ3JlZ2V4cCc7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wVHlwZTtcbn1cbmZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcbiAgaWYgKCFwcm9wVmFsdWUuY29uc3RydWN0b3IgfHwgIXByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgcmV0dXJuIEFOT05ZTU9VUztcbiAgfVxuICByZXR1cm4gcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWU7XG59XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0VmVyc2lvblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSAnMTUuMC4yJzsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RDdXJyZW50T3duZXJcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogS2VlcHMgdHJhY2sgb2YgdGhlIGN1cnJlbnQgb3duZXIuXG4gKlxuICogVGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIGNvbXBvbmVudCB3aG8gc2hvdWxkIG93biBhbnkgY29tcG9uZW50cyB0aGF0IGFyZVxuICogY3VycmVudGx5IGJlaW5nIGNvbnN0cnVjdGVkLlxuICovXG5cbnZhciBSZWFjdEN1cnJlbnRPd25lciA9IHtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEB0eXBlIHtSZWFjdENvbXBvbmVudH1cbiAgICovXG4gIGN1cnJlbnQ6IG51bGxcblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdEN1cnJlbnRPd25lcjsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gZmFsc2U7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3gnLCB7Z2V0OiBmdW5jdGlvbigpIHt9fSk7XG4gICAgICBjYW5EZWZpbmVQcm9wZXJ0eSA9IHRydWU7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGNhbkRlZmluZVByb3BlcnR5O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbiAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gcmVxdWlyZSgnLi9SZWFjdEN1cnJlbnRPd25lcicpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9jYW5EZWZpbmVQcm9wZXJ0eScpO1xuICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2xbJ2ZvciddICYmIFN5bWJvbFsnZm9yJ10oJ3JlYWN0LmVsZW1lbnQnKSB8fCAweGVhYzc7XG4gIHZhciBSRVNFUlZFRF9QUk9QUyA9IHtcbiAgICBrZXk6IHRydWUsXG4gICAgcmVmOiB0cnVlLFxuICAgIF9fc2VsZjogdHJ1ZSxcbiAgICBfX3NvdXJjZTogdHJ1ZVxuICB9O1xuICB2YXIgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24sXG4gICAgICBzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93bjtcbiAgdmFyIFJlYWN0RWxlbWVudCA9IGZ1bmN0aW9uKHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcykge1xuICAgIHZhciBlbGVtZW50ID0ge1xuICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBrZXk6IGtleSxcbiAgICAgIHJlZjogcmVmLFxuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgX293bmVyOiBvd25lclxuICAgIH07XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGVsZW1lbnQuX3N0b3JlID0ge307XG4gICAgICBpZiAoY2FuRGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQuX3N0b3JlLCAndmFsaWRhdGVkJywge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudCwgJ19zZWxmJywge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgIHZhbHVlOiBzZWxmXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudCwgJ19zb3VyY2UnLCB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgdmFsdWU6IHNvdXJjZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IGZhbHNlO1xuICAgICAgICBlbGVtZW50Ll9zZWxmID0gc2VsZjtcbiAgICAgICAgZWxlbWVudC5fc291cmNlID0gc291cmNlO1xuICAgICAgfVxuICAgICAgaWYgKE9iamVjdC5mcmVlemUpIHtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50LnByb3BzKTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH07XG4gIFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24odHlwZSwgY29uZmlnLCBjaGlsZHJlbikge1xuICAgIHZhciBwcm9wTmFtZTtcbiAgICB2YXIgcHJvcHMgPSB7fTtcbiAgICB2YXIga2V5ID0gbnVsbDtcbiAgICB2YXIgcmVmID0gbnVsbDtcbiAgICB2YXIgc2VsZiA9IG51bGw7XG4gICAgdmFyIHNvdXJjZSA9IG51bGw7XG4gICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICByZWYgPSAhY29uZmlnLmhhc093blByb3BlcnR5KCdyZWYnKSB8fCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ3JlZicpLmdldCA/IG51bGwgOiBjb25maWcucmVmO1xuICAgICAgICBrZXkgPSAhY29uZmlnLmhhc093blByb3BlcnR5KCdrZXknKSB8fCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ2tleScpLmdldCA/IG51bGwgOiAnJyArIGNvbmZpZy5rZXk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWYgPSBjb25maWcucmVmID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnLnJlZjtcbiAgICAgICAga2V5ID0gY29uZmlnLmtleSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6ICcnICsgY29uZmlnLmtleTtcbiAgICAgIH1cbiAgICAgIHNlbGYgPSBjb25maWcuX19zZWxmID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnLl9fc2VsZjtcbiAgICAgIHNvdXJjZSA9IGNvbmZpZy5fX3NvdXJjZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNvbmZpZy5fX3NvdXJjZTtcbiAgICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICAgIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgICB9XG4gICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gICAgfVxuICAgIGlmICh0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgICB2YXIgZGVmYXVsdFByb3BzID0gdHlwZS5kZWZhdWx0UHJvcHM7XG4gICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAodHlwZW9mIHByb3BzLiQkdHlwZW9mID09PSAndW5kZWZpbmVkJyB8fCBwcm9wcy4kJHR5cGVvZiAhPT0gUkVBQ1RfRUxFTUVOVF9UWVBFKSB7XG4gICAgICAgIGlmICghcHJvcHMuaGFzT3duUHJvcGVydHkoJ2tleScpKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAna2V5Jywge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgICAgICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9mYi5tZS9yZWFjdC1zcGVjaWFsLXByb3BzKScsIHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nICYmICdkaXNwbGF5TmFtZScgaW4gdHlwZSA/IHR5cGUuZGlzcGxheU5hbWUgOiAnRWxlbWVudCcpIDogdm9pZCAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwcm9wcy5oYXNPd25Qcm9wZXJ0eSgncmVmJykpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdyZWYnLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoIXNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duKSB7XG4gICAgICAgICAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXM6IGByZWZgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL2ZiLm1lL3JlYWN0LXNwZWNpYWwtcHJvcHMpJywgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgJiYgJ2Rpc3BsYXlOYW1lJyBpbiB0eXBlID8gdHlwZS5kaXNwbGF5TmFtZSA6ICdFbGVtZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQsIHByb3BzKTtcbiAgfTtcbiAgUmVhY3RFbGVtZW50LmNyZWF0ZUZhY3RvcnkgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgdmFyIGZhY3RvcnkgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRWxlbWVudC5iaW5kKG51bGwsIHR5cGUpO1xuICAgIGZhY3RvcnkudHlwZSA9IHR5cGU7XG4gICAgcmV0dXJuIGZhY3Rvcnk7XG4gIH07XG4gIFJlYWN0RWxlbWVudC5jbG9uZUFuZFJlcGxhY2VLZXkgPSBmdW5jdGlvbihvbGRFbGVtZW50LCBuZXdLZXkpIHtcbiAgICB2YXIgbmV3RWxlbWVudCA9IFJlYWN0RWxlbWVudChvbGRFbGVtZW50LnR5cGUsIG5ld0tleSwgb2xkRWxlbWVudC5yZWYsIG9sZEVsZW1lbnQuX3NlbGYsIG9sZEVsZW1lbnQuX3NvdXJjZSwgb2xkRWxlbWVudC5fb3duZXIsIG9sZEVsZW1lbnQucHJvcHMpO1xuICAgIHJldHVybiBuZXdFbGVtZW50O1xuICB9O1xuICBSZWFjdEVsZW1lbnQuY2xvbmVFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY29uZmlnLCBjaGlsZHJlbikge1xuICAgIHZhciBwcm9wTmFtZTtcbiAgICB2YXIgcHJvcHMgPSBfYXNzaWduKHt9LCBlbGVtZW50LnByb3BzKTtcbiAgICB2YXIga2V5ID0gZWxlbWVudC5rZXk7XG4gICAgdmFyIHJlZiA9IGVsZW1lbnQucmVmO1xuICAgIHZhciBzZWxmID0gZWxlbWVudC5fc2VsZjtcbiAgICB2YXIgc291cmNlID0gZWxlbWVudC5fc291cmNlO1xuICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgaWYgKGNvbmZpZy5yZWYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZWYgPSBjb25maWcucmVmO1xuICAgICAgICBvd25lciA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICAgIH1cbiAgICAgIHZhciBkZWZhdWx0UHJvcHM7XG4gICAgICBpZiAoZWxlbWVudC50eXBlICYmIGVsZW1lbnQudHlwZS5kZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgZGVmYXVsdFByb3BzID0gZWxlbWVudC50eXBlLmRlZmF1bHRQcm9wcztcbiAgICAgIH1cbiAgICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICBpZiAoY29uZmlnW3Byb3BOYW1lXSA9PT0gdW5kZWZpbmVkICYmIGRlZmF1bHRQcm9wcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICBpZiAoY2hpbGRyZW5MZW5ndGggPT09IDEpIHtcbiAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgfSBlbHNlIGlmIChjaGlsZHJlbkxlbmd0aCA+IDEpIHtcbiAgICAgIHZhciBjaGlsZEFycmF5ID0gQXJyYXkoY2hpbGRyZW5MZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNoaWxkQXJyYXlbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgICAgfVxuICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3RFbGVtZW50KGVsZW1lbnQudHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgb3duZXIsIHByb3BzKTtcbiAgfTtcbiAgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAhPT0gbnVsbCAmJiBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdEVsZW1lbnQ7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudCcpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIGZ1bmN0aW9uIG9ubHlDaGlsZChjaGlsZHJlbikge1xuICAgICFSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ29ubHlDaGlsZCBtdXN0IGJlIHBhc3NlZCBhIGNoaWxkcmVuIHdpdGggZXhhY3RseSBvbmUgY2hpbGQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IG9ubHlDaGlsZDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG4gIHZhciBSZWFjdENoaWxkcmVuID0gcmVxdWlyZSgnLi9SZWFjdENoaWxkcmVuJyk7XG4gIHZhciBSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vUmVhY3RDb21wb25lbnQnKTtcbiAgdmFyIFJlYWN0Q2xhc3MgPSByZXF1aXJlKCcuL1JlYWN0Q2xhc3MnKTtcbiAgdmFyIFJlYWN0RE9NRmFjdG9yaWVzID0gcmVxdWlyZSgnLi9SZWFjdERPTUZhY3RvcmllcycpO1xuICB2YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbiAgdmFyIFJlYWN0RWxlbWVudFZhbGlkYXRvciA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50VmFsaWRhdG9yJyk7XG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHJlcXVpcmUoJy4vUmVhY3RQcm9wVHlwZXMnKTtcbiAgdmFyIFJlYWN0VmVyc2lvbiA9IHJlcXVpcmUoJy4vUmVhY3RWZXJzaW9uJyk7XG4gIHZhciBvbmx5Q2hpbGQgPSByZXF1aXJlKCcuL29ubHlDaGlsZCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRWxlbWVudDtcbiAgdmFyIGNyZWF0ZUZhY3RvcnkgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRmFjdG9yeTtcbiAgdmFyIGNsb25lRWxlbWVudCA9IFJlYWN0RWxlbWVudC5jbG9uZUVsZW1lbnQ7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgY3JlYXRlRWxlbWVudCA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVFbGVtZW50O1xuICAgIGNyZWF0ZUZhY3RvcnkgPSBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRmFjdG9yeTtcbiAgICBjbG9uZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY2xvbmVFbGVtZW50O1xuICB9XG4gIHZhciBfX3NwcmVhZCA9IF9hc3NpZ247XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICAgIF9fc3ByZWFkID0gZnVuY3Rpb24oKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh3YXJuZWQsICdSZWFjdC5fX3NwcmVhZCBpcyBkZXByZWNhdGVkIGFuZCBzaG91bGQgbm90IGJlIHVzZWQuIFVzZSAnICsgJ09iamVjdC5hc3NpZ24gZGlyZWN0bHkgb3IgYW5vdGhlciBoZWxwZXIgZnVuY3Rpb24gd2l0aCBzaW1pbGFyICcgKyAnc2VtYW50aWNzLiBZb3UgbWF5IGJlIHNlZWluZyB0aGlzIHdhcm5pbmcgZHVlIHRvIHlvdXIgY29tcGlsZXIuICcgKyAnU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtc3ByZWFkLWRlcHJlY2F0aW9uIGZvciBtb3JlIGRldGFpbHMuJykgOiB2b2lkIDA7XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIF9hc3NpZ24uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG4gIHZhciBSZWFjdCA9IHtcbiAgICBDaGlsZHJlbjoge1xuICAgICAgbWFwOiBSZWFjdENoaWxkcmVuLm1hcCxcbiAgICAgIGZvckVhY2g6IFJlYWN0Q2hpbGRyZW4uZm9yRWFjaCxcbiAgICAgIGNvdW50OiBSZWFjdENoaWxkcmVuLmNvdW50LFxuICAgICAgdG9BcnJheTogUmVhY3RDaGlsZHJlbi50b0FycmF5LFxuICAgICAgb25seTogb25seUNoaWxkXG4gICAgfSxcbiAgICBDb21wb25lbnQ6IFJlYWN0Q29tcG9uZW50LFxuICAgIGNyZWF0ZUVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnQsXG4gICAgY2xvbmVFbGVtZW50OiBjbG9uZUVsZW1lbnQsXG4gICAgaXNWYWxpZEVsZW1lbnQ6IFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudCxcbiAgICBQcm9wVHlwZXM6IFJlYWN0UHJvcFR5cGVzLFxuICAgIGNyZWF0ZUNsYXNzOiBSZWFjdENsYXNzLmNyZWF0ZUNsYXNzLFxuICAgIGNyZWF0ZUZhY3Rvcnk6IGNyZWF0ZUZhY3RvcnksXG4gICAgY3JlYXRlTWl4aW46IGZ1bmN0aW9uKG1peGluKSB7XG4gICAgICByZXR1cm4gbWl4aW47XG4gICAgfSxcbiAgICBET006IFJlYWN0RE9NRmFjdG9yaWVzLFxuICAgIHZlcnNpb246IFJlYWN0VmVyc2lvbixcbiAgICBfX3NwcmVhZDogX19zcHJlYWRcbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvUmVhY3QnKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5wbTpyZWFjdEAxNS4wLjIvcmVhY3QuanNcIik7IiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9yZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xuICBzdWJzY3JpYmU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBkaXNwYXRjaDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGdldFN0YXRlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxufSk7IiwiLyogKi8gXG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gc2hhbGxvd0VxdWFsO1xuZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcbiAgaWYgKG9iakEgPT09IG9iakIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcblxuICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBUZXN0IGZvciBBJ3Mga2V5cyBkaWZmZXJlbnQgZnJvbSBCLlxuICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xuICAgIGlmICghaGFzT3duLmNhbGwob2JqQiwga2V5c0FbaV0pIHx8IG9iakFba2V5c0FbaV1dICE9PSBvYmpCW2tleXNBW2ldXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufSIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB3cmFwQWN0aW9uQ3JlYXRvcnM7XG5cbnZhciBfcmVkdXggPSByZXF1aXJlKCdyZWR1eCcpO1xuXG5mdW5jdGlvbiB3cmFwQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuICAgIHJldHVybiAoMCwgX3JlZHV4LmJpbmRBY3Rpb25DcmVhdG9ycykoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgfTtcbn0iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd2FybmluZztcbi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tZW1wdHkgKi9cbiAgfSBjYXRjaCAoZSkge31cbiAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xufSIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUsIFlhaG9vISBJbmMuXG4gKiBDb3B5cmlnaHRzIGxpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIExpY2Vuc2UuIFNlZSB0aGUgYWNjb21wYW55aW5nIExJQ0VOU0UgZmlsZSBmb3IgdGVybXMuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG4gICAgY2hpbGRDb250ZXh0VHlwZXM6IHRydWUsXG4gICAgY29udGV4dFR5cGVzOiB0cnVlLFxuICAgIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgbWl4aW5zOiB0cnVlLFxuICAgIHByb3BUeXBlczogdHJ1ZSxcbiAgICB0eXBlOiB0cnVlXG59O1xuXG52YXIgS05PV05fU1RBVElDUyA9IHtcbiAgICBuYW1lOiB0cnVlLFxuICAgIGxlbmd0aDogdHJ1ZSxcbiAgICBwcm90b3R5cGU6IHRydWUsXG4gICAgY2FsbGVyOiB0cnVlLFxuICAgIGFyZ3VtZW50czogdHJ1ZSxcbiAgICBhcml0eTogdHJ1ZVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIHNvdXJjZUNvbXBvbmVudCkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcbiAgICBmb3IgKHZhciBpPTA7IGk8a2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoIVJFQUNUX1NUQVRJQ1Nba2V5c1tpXV0gJiYgIUtOT1dOX1NUQVRJQ1Nba2V5c1tpXV0pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0Q29tcG9uZW50W2tleXNbaV1dID0gc291cmNlQ29tcG9uZW50W2tleXNbaV1dO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJucG06aG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3NAMS4wLjUvaW5kZXguanNcIik7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgdmFyIGVycm9yO1xuICAgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KSk7XG4gICAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICB9XG4gICAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5wbTppbnZhcmlhbnRAMi4yLjEvYnJvd3Nlci5qc1wiKTsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG4gIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29ubmVjdDtcbiAgdmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIHZhciBfc3RvcmVTaGFwZSA9IHJlcXVpcmUoJy4uL3V0aWxzL3N0b3JlU2hhcGUnKTtcbiAgdmFyIF9zdG9yZVNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0b3JlU2hhcGUpO1xuICB2YXIgX3NoYWxsb3dFcXVhbCA9IHJlcXVpcmUoJy4uL3V0aWxzL3NoYWxsb3dFcXVhbCcpO1xuICB2YXIgX3NoYWxsb3dFcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaGFsbG93RXF1YWwpO1xuICB2YXIgX3dyYXBBY3Rpb25DcmVhdG9ycyA9IHJlcXVpcmUoJy4uL3V0aWxzL3dyYXBBY3Rpb25DcmVhdG9ycycpO1xuICB2YXIgX3dyYXBBY3Rpb25DcmVhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93cmFwQWN0aW9uQ3JlYXRvcnMpO1xuICB2YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuLi91dGlscy93YXJuaW5nJyk7XG4gIHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcbiAgdmFyIF9pc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnbG9kYXNoL2lzUGxhaW5PYmplY3QnKTtcbiAgdmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuICB2YXIgX2hvaXN0Tm9uUmVhY3RTdGF0aWNzID0gcmVxdWlyZSgnaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MnKTtcbiAgdmFyIF9ob2lzdE5vblJlYWN0U3RhdGljczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ob2lzdE5vblJlYWN0U3RhdGljcyk7XG4gIHZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG4gIHZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG4gIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcImRlZmF1bHRcIjogb2JqfTtcbiAgfVxuICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG4gIH1cbiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XG4gICAgfVxuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge2NvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH19KTtcbiAgICBpZiAoc3VwZXJDbGFzcylcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xuICB9XG4gIHZhciBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gZGVmYXVsdE1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICAgIHJldHVybiB7fTtcbiAgfTtcbiAgdmFyIGRlZmF1bHRNYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gICAgcmV0dXJuIHtkaXNwYXRjaDogZGlzcGF0Y2h9O1xuICB9O1xuICB2YXIgZGVmYXVsdE1lcmdlUHJvcHMgPSBmdW5jdGlvbiBkZWZhdWx0TWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcGFyZW50UHJvcHMsIHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMpO1xuICB9O1xuICBmdW5jdGlvbiBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIFdyYXBwZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgV3JhcHBlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuICB9XG4gIHZhciBlcnJvck9iamVjdCA9IHt2YWx1ZTogbnVsbH07XG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBjdHgpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KGN0eCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXJyb3JPYmplY3QudmFsdWUgPSBlO1xuICAgICAgcmV0dXJuIGVycm9yT2JqZWN0O1xuICAgIH1cbiAgfVxuICB2YXIgbmV4dFZlcnNpb24gPSAwO1xuICBmdW5jdGlvbiBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzLCBtZXJnZVByb3BzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1szXTtcbiAgICB2YXIgc2hvdWxkU3Vic2NyaWJlID0gQm9vbGVhbihtYXBTdGF0ZVRvUHJvcHMpO1xuICAgIHZhciBtYXBTdGF0ZSA9IG1hcFN0YXRlVG9Qcm9wcyB8fCBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzO1xuICAgIHZhciBtYXBEaXNwYXRjaCA9IHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIG1hcERpc3BhdGNoVG9Qcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbWFwRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaFRvUHJvcHM7XG4gICAgfSBlbHNlIGlmICghbWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG4gICAgICBtYXBEaXNwYXRjaCA9IGRlZmF1bHRNYXBEaXNwYXRjaFRvUHJvcHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcERpc3BhdGNoID0gKDAsIF93cmFwQWN0aW9uQ3JlYXRvcnMyW1wiZGVmYXVsdFwiXSkobWFwRGlzcGF0Y2hUb1Byb3BzKTtcbiAgICB9XG4gICAgdmFyIGZpbmFsTWVyZ2VQcm9wcyA9IG1lcmdlUHJvcHMgfHwgZGVmYXVsdE1lcmdlUHJvcHM7XG4gICAgdmFyIF9vcHRpb25zJHB1cmUgPSBvcHRpb25zLnB1cmU7XG4gICAgdmFyIHB1cmUgPSBfb3B0aW9ucyRwdXJlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX29wdGlvbnMkcHVyZTtcbiAgICB2YXIgX29wdGlvbnMkd2l0aFJlZiA9IG9wdGlvbnMud2l0aFJlZjtcbiAgICB2YXIgd2l0aFJlZiA9IF9vcHRpb25zJHdpdGhSZWYgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX29wdGlvbnMkd2l0aFJlZjtcbiAgICB2YXIgY2hlY2tNZXJnZWRFcXVhbHMgPSBwdXJlICYmIGZpbmFsTWVyZ2VQcm9wcyAhPT0gZGVmYXVsdE1lcmdlUHJvcHM7XG4gICAgdmFyIHZlcnNpb24gPSBuZXh0VmVyc2lvbisrO1xuICAgIHJldHVybiBmdW5jdGlvbiB3cmFwV2l0aENvbm5lY3QoV3JhcHBlZENvbXBvbmVudCkge1xuICAgICAgdmFyIGNvbm5lY3REaXNwbGF5TmFtZSA9ICdDb25uZWN0KCcgKyBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KSArICcpJztcbiAgICAgIGZ1bmN0aW9uIGNoZWNrU3RhdGVTaGFwZShwcm9wcywgbWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbXCJkZWZhdWx0XCJdKShwcm9wcykpIHtcbiAgICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkobWV0aG9kTmFtZSArICcoKSBpbiAnICsgY29ubmVjdERpc3BsYXlOYW1lICsgJyBtdXN0IHJldHVybiBhIHBsYWluIG9iamVjdC4gJyArICgnSW5zdGVhZCByZWNlaXZlZCAnICsgcHJvcHMgKyAnLicpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gY29tcHV0ZU1lcmdlZFByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIHBhcmVudFByb3BzKSB7XG4gICAgICAgIHZhciBtZXJnZWRQcm9wcyA9IGZpbmFsTWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcyk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1lcmdlZFByb3BzLCAnbWVyZ2VQcm9wcycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXJnZWRQcm9wcztcbiAgICAgIH1cbiAgICAgIHZhciBDb25uZWN0ID0gZnVuY3Rpb24oX0NvbXBvbmVudCkge1xuICAgICAgICBfaW5oZXJpdHMoQ29ubmVjdCwgX0NvbXBvbmVudCk7XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICAgICAgICByZXR1cm4gIXB1cmUgfHwgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkIHx8IHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQ7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIENvbm5lY3QocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29ubmVjdCk7XG4gICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG4gICAgICAgICAgX3RoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgICAgX3RoaXMuc3RvcmUgPSBwcm9wcy5zdG9yZSB8fCBjb250ZXh0LnN0b3JlO1xuICAgICAgICAgICgwLCBfaW52YXJpYW50MltcImRlZmF1bHRcIl0pKF90aGlzLnN0b3JlLCAnQ291bGQgbm90IGZpbmQgXCJzdG9yZVwiIGluIGVpdGhlciB0aGUgY29udGV4dCBvciAnICsgKCdwcm9wcyBvZiBcIicgKyBjb25uZWN0RGlzcGxheU5hbWUgKyAnXCIuICcpICsgJ0VpdGhlciB3cmFwIHRoZSByb290IGNvbXBvbmVudCBpbiBhIDxQcm92aWRlcj4sICcgKyAoJ29yIGV4cGxpY2l0bHkgcGFzcyBcInN0b3JlXCIgYXMgYSBwcm9wIHRvIFwiJyArIGNvbm5lY3REaXNwbGF5TmFtZSArICdcIi4nKSk7XG4gICAgICAgICAgdmFyIHN0b3JlU3RhdGUgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgIF90aGlzLnN0YXRlID0ge3N0b3JlU3RhdGU6IHN0b3JlU3RhdGV9O1xuICAgICAgICAgIF90aGlzLmNsZWFyQ2FjaGUoKTtcbiAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcHV0ZVN0YXRlUHJvcHMgPSBmdW5jdGlvbiBjb21wdXRlU3RhdGVQcm9wcyhzdG9yZSwgcHJvcHMpIHtcbiAgICAgICAgICBpZiAoIXRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUoc3RvcmUsIHByb3BzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICB2YXIgc3RhdGVQcm9wcyA9IHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyA/IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIHByb3BzKSA6IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMoc3RhdGUpO1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBjaGVja1N0YXRlU2hhcGUoc3RhdGVQcm9wcywgJ21hcFN0YXRlVG9Qcm9wcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc3RhdGVQcm9wcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29uZmlndXJlRmluYWxNYXBTdGF0ZSA9IGZ1bmN0aW9uIGNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUoc3RvcmUsIHByb3BzKSB7XG4gICAgICAgICAgdmFyIG1hcHBlZFN0YXRlID0gbWFwU3RhdGUoc3RvcmUuZ2V0U3RhdGUoKSwgcHJvcHMpO1xuICAgICAgICAgIHZhciBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkU3RhdGUgPT09ICdmdW5jdGlvbic7XG4gICAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyA9IGlzRmFjdG9yeSA/IG1hcHBlZFN0YXRlIDogbWFwU3RhdGU7XG4gICAgICAgICAgdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzID0gdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcy5sZW5ndGggIT09IDE7XG4gICAgICAgICAgaWYgKGlzRmFjdG9yeSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZVN0YXRlUHJvcHMoc3RvcmUsIHByb3BzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShtYXBwZWRTdGF0ZSwgJ21hcFN0YXRlVG9Qcm9wcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbWFwcGVkU3RhdGU7XG4gICAgICAgIH07XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXB1dGVEaXNwYXRjaFByb3BzID0gZnVuY3Rpb24gY29tcHV0ZURpc3BhdGNoUHJvcHMoc3RvcmUsIHByb3BzKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmVGaW5hbE1hcERpc3BhdGNoKHN0b3JlLCBwcm9wcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuICAgICAgICAgIHZhciBkaXNwYXRjaFByb3BzID0gdGhpcy5kb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzID8gdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgcHJvcHMpIDogdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCk7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShkaXNwYXRjaFByb3BzLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBkaXNwYXRjaFByb3BzO1xuICAgICAgICB9O1xuICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb25maWd1cmVGaW5hbE1hcERpc3BhdGNoID0gZnVuY3Rpb24gY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaChzdG9yZSwgcHJvcHMpIHtcbiAgICAgICAgICB2YXIgbWFwcGVkRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaChzdG9yZS5kaXNwYXRjaCwgcHJvcHMpO1xuICAgICAgICAgIHZhciBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkRGlzcGF0Y2ggPT09ICdmdW5jdGlvbic7XG4gICAgICAgICAgdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyA9IGlzRmFjdG9yeSA/IG1hcHBlZERpc3BhdGNoIDogbWFwRGlzcGF0Y2g7XG4gICAgICAgICAgdGhpcy5kb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzID0gdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcy5sZW5ndGggIT09IDE7XG4gICAgICAgICAgaWYgKGlzRmFjdG9yeSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZURpc3BhdGNoUHJvcHMoc3RvcmUsIHByb3BzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShtYXBwZWREaXNwYXRjaCwgJ21hcERpc3BhdGNoVG9Qcm9wcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbWFwcGVkRGlzcGF0Y2g7XG4gICAgICAgIH07XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCA9IGZ1bmN0aW9uIHVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCgpIHtcbiAgICAgICAgICB2YXIgbmV4dFN0YXRlUHJvcHMgPSB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHRoaXMuc3RvcmUsIHRoaXMucHJvcHMpO1xuICAgICAgICAgIGlmICh0aGlzLnN0YXRlUHJvcHMgJiYgKDAsIF9zaGFsbG93RXF1YWwyW1wiZGVmYXVsdFwiXSkobmV4dFN0YXRlUHJvcHMsIHRoaXMuc3RhdGVQcm9wcykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zdGF0ZVByb3BzID0gbmV4dFN0YXRlUHJvcHM7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLnVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCA9IGZ1bmN0aW9uIHVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCgpIHtcbiAgICAgICAgICB2YXIgbmV4dERpc3BhdGNoUHJvcHMgPSB0aGlzLmNvbXB1dGVEaXNwYXRjaFByb3BzKHRoaXMuc3RvcmUsIHRoaXMucHJvcHMpO1xuICAgICAgICAgIGlmICh0aGlzLmRpc3BhdGNoUHJvcHMgJiYgKDAsIF9zaGFsbG93RXF1YWwyW1wiZGVmYXVsdFwiXSkobmV4dERpc3BhdGNoUHJvcHMsIHRoaXMuZGlzcGF0Y2hQcm9wcykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaFByb3BzID0gbmV4dERpc3BhdGNoUHJvcHM7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLnVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkKCkge1xuICAgICAgICAgIHZhciBuZXh0TWVyZ2VkUHJvcHMgPSBjb21wdXRlTWVyZ2VkUHJvcHModGhpcy5zdGF0ZVByb3BzLCB0aGlzLmRpc3BhdGNoUHJvcHMsIHRoaXMucHJvcHMpO1xuICAgICAgICAgIGlmICh0aGlzLm1lcmdlZFByb3BzICYmIGNoZWNrTWVyZ2VkRXF1YWxzICYmICgwLCBfc2hhbGxvd0VxdWFsMltcImRlZmF1bHRcIl0pKG5leHRNZXJnZWRQcm9wcywgdGhpcy5tZXJnZWRQcm9wcykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5tZXJnZWRQcm9wcyA9IG5leHRNZXJnZWRQcm9wcztcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUuaXNTdWJzY3JpYmVkID0gZnVuY3Rpb24gaXNTdWJzY3JpYmVkKCkge1xuICAgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy51bnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgfTtcbiAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUudHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gdHJ5U3Vic2NyaWJlKCkge1xuICAgICAgICAgIGlmIChzaG91bGRTdWJzY3JpYmUgJiYgIXRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSB0aGlzLnN0b3JlLnN1YnNjcmliZSh0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDb25uZWN0LnByb3RvdHlwZS50cnlVbnN1YnNjcmliZSA9IGZ1bmN0aW9uIHRyeVVuc3Vic2NyaWJlKCkge1xuICAgICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgdGhpcy50cnlTdWJzY3JpYmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgICAgaWYgKCFwdXJlIHx8ICEoMCwgX3NoYWxsb3dFcXVhbDJbXCJkZWZhdWx0XCJdKShuZXh0UHJvcHMsIHRoaXMucHJvcHMpKSB7XG4gICAgICAgICAgICB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgICB0aGlzLnRyeVVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgICAgIH07XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNsZWFyQ2FjaGUgPSBmdW5jdGlvbiBjbGVhckNhY2hlKCkge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hQcm9wcyA9IG51bGw7XG4gICAgICAgICAgdGhpcy5zdGF0ZVByb3BzID0gbnVsbDtcbiAgICAgICAgICB0aGlzLm1lcmdlZFByb3BzID0gbnVsbDtcbiAgICAgICAgICB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSBudWxsO1xuICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzID0gbnVsbDtcbiAgICAgICAgICB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKCkge1xuICAgICAgICAgIGlmICghdGhpcy51bnN1YnNjcmliZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgc3RvcmVTdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICB2YXIgcHJldlN0b3JlU3RhdGUgPSB0aGlzLnN0YXRlLnN0b3JlU3RhdGU7XG4gICAgICAgICAgaWYgKHB1cmUgJiYgcHJldlN0b3JlU3RhdGUgPT09IHN0b3JlU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHB1cmUgJiYgIXRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcykge1xuICAgICAgICAgICAgdmFyIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IHRyeUNhdGNoKHRoaXMudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkLCB0aGlzKTtcbiAgICAgICAgICAgIGlmICghaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPT09IGVycm9yT2JqZWN0KSB7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSBlcnJvck9iamVjdC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3N0b3JlU3RhdGU6IHN0b3JlU3RhdGV9KTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUuZ2V0V3JhcHBlZEluc3RhbmNlID0gZnVuY3Rpb24gZ2V0V3JhcHBlZEluc3RhbmNlKCkge1xuICAgICAgICAgICgwLCBfaW52YXJpYW50MltcImRlZmF1bHRcIl0pKHdpdGhSZWYsICdUbyBhY2Nlc3MgdGhlIHdyYXBwZWQgaW5zdGFuY2UsIHlvdSBuZWVkIHRvIHNwZWNpZnkgJyArICd7IHdpdGhSZWY6IHRydWUgfSBhcyB0aGUgZm91cnRoIGFyZ3VtZW50IG9mIHRoZSBjb25uZWN0KCkgY2FsbC4nKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5yZWZzLndyYXBwZWRJbnN0YW5jZTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgIHZhciBoYXZlT3duUHJvcHNDaGFuZ2VkID0gdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkO1xuICAgICAgICAgIHZhciBoYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQ7XG4gICAgICAgICAgdmFyIGhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQ7XG4gICAgICAgICAgdmFyIHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvcjtcbiAgICAgICAgICB2YXIgcmVuZGVyZWRFbGVtZW50ID0gdGhpcy5yZW5kZXJlZEVsZW1lbnQ7XG4gICAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSBudWxsO1xuICAgICAgICAgIGlmIChzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBzaG91bGRVcGRhdGVTdGF0ZVByb3BzID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcyA9IHRydWU7XG4gICAgICAgICAgaWYgKHB1cmUgJiYgcmVuZGVyZWRFbGVtZW50KSB7XG4gICAgICAgICAgICBzaG91bGRVcGRhdGVTdGF0ZVByb3BzID0gaGFzU3RvcmVTdGF0ZUNoYW5nZWQgfHwgaGF2ZU93blByb3BzQ2hhbmdlZCAmJiB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHM7XG4gICAgICAgICAgICBzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzID0gaGF2ZU93blByb3BzQ2hhbmdlZCAmJiB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHM7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgaWYgKGhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQpIHtcbiAgICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaG91bGRVcGRhdGVTdGF0ZVByb3BzKSB7XG4gICAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcykge1xuICAgICAgICAgICAgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkID0gdGhpcy51cGRhdGVEaXNwYXRjaFByb3BzSWZOZWVkZWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0NoYW5nZWQgfHwgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkIHx8IGhhdmVPd25Qcm9wc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIGhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgJiYgcmVuZGVyZWRFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyZWRFbGVtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAod2l0aFJlZikge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSAoMCwgX3JlYWN0LmNyZWF0ZUVsZW1lbnQpKFdyYXBwZWRDb21wb25lbnQsIF9leHRlbmRzKHt9LCB0aGlzLm1lcmdlZFByb3BzLCB7cmVmOiAnd3JhcHBlZEluc3RhbmNlJ30pKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSAoMCwgX3JlYWN0LmNyZWF0ZUVsZW1lbnQpKFdyYXBwZWRDb21wb25lbnQsIHRoaXMubWVyZ2VkUHJvcHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlZEVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBDb25uZWN0O1xuICAgICAgfShfcmVhY3QuQ29tcG9uZW50KTtcbiAgICAgIENvbm5lY3QuZGlzcGxheU5hbWUgPSBjb25uZWN0RGlzcGxheU5hbWU7XG4gICAgICBDb25uZWN0LldyYXBwZWRDb21wb25lbnQgPSBXcmFwcGVkQ29tcG9uZW50O1xuICAgICAgQ29ubmVjdC5jb250ZXh0VHlwZXMgPSB7c3RvcmU6IF9zdG9yZVNoYXBlMltcImRlZmF1bHRcIl19O1xuICAgICAgQ29ubmVjdC5wcm9wVHlwZXMgPSB7c3RvcmU6IF9zdG9yZVNoYXBlMltcImRlZmF1bHRcIl19O1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUoKSB7XG4gICAgICAgICAgaWYgKHRoaXMudmVyc2lvbiA9PT0gdmVyc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICAgIHRoaXMudHJ5U3Vic2NyaWJlKCk7XG4gICAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gKDAsIF9ob2lzdE5vblJlYWN0U3RhdGljczJbXCJkZWZhdWx0XCJdKShDb25uZWN0LCBXcmFwcGVkQ29tcG9uZW50KTtcbiAgICB9O1xuICB9XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5jb25uZWN0ID0gZXhwb3J0cy5Qcm92aWRlciA9IHVuZGVmaW5lZDtcbnZhciBfUHJvdmlkZXIgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvUHJvdmlkZXInKTtcbnZhciBfUHJvdmlkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJvdmlkZXIpO1xudmFyIF9jb25uZWN0ID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL2Nvbm5lY3QnKTtcbnZhciBfY29ubmVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25uZWN0KTtcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XCJkZWZhdWx0XCI6IG9ian07XG59XG5leHBvcnRzLlByb3ZpZGVyID0gX1Byb3ZpZGVyMltcImRlZmF1bHRcIl07XG5leHBvcnRzLmNvbm5lY3QgPSBfY29ubmVjdDJbXCJkZWZhdWx0XCJdO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibnBtOnJlYWN0LXJlZHV4QDQuNC41L2xpYi9pbmRleC5qc1wiKTsiLCIvKiAqLyBcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi8kLmV4cG9ydCcpLFxuICAgIGNvcmUgPSByZXF1aXJlKCcuLyQuY29yZScpLFxuICAgIGZhaWxzID0gcmVxdWlyZSgnLi8kLmZhaWxzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSwgZXhlYykge1xuICB2YXIgZm4gPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV0sXG4gICAgICBleHAgPSB7fTtcbiAgZXhwW0tFWV0gPSBleGVjKGZuKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbigpIHtcbiAgICBmbigxKTtcbiAgfSksICdPYmplY3QnLCBleHApO1xufTtcbiIsIi8qICovIFxudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vJC50by1pb2JqZWN0Jyk7XG5yZXF1aXJlKCcuLyQub2JqZWN0LXNhcCcpKCdnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3InLCBmdW5jdGlvbigkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSkge1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRvSU9iamVjdChpdCksIGtleSk7XG4gIH07XG59KTtcbiIsIi8qICovIFxudmFyICQgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgcmV0dXJuICQuZ2V0RGVzYyhpdCwga2V5KTtcbn07XG4iLCIvKiAqLyBcbm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwiLyogKi8gXG5cInVzZSBzdHJpY3RcIjtcbnZhciBfT2JqZWN0JGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcicpW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94Mykge1xuICB2YXIgX2FnYWluID0gdHJ1ZTtcbiAgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7XG4gICAgdmFyIG9iamVjdCA9IF94LFxuICAgICAgICBwcm9wZXJ0eSA9IF94MixcbiAgICAgICAgcmVjZWl2ZXIgPSBfeDM7XG4gICAgX2FnYWluID0gZmFsc2U7XG4gICAgaWYgKG9iamVjdCA9PT0gbnVsbClcbiAgICAgIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbiAgICB2YXIgZGVzYyA9IF9PYmplY3QkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpO1xuICAgIGlmIChkZXNjID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcbiAgICAgIGlmIChwYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF94ID0gcGFyZW50O1xuICAgICAgICBfeDIgPSBwcm9wZXJ0eTtcbiAgICAgICAgX3gzID0gcmVjZWl2ZXI7XG4gICAgICAgIF9hZ2FpbiA9IHRydWU7XG4gICAgICAgIGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnRpbnVlIF9mdW5jdGlvbjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7XG4gICAgICByZXR1cm4gZGVzYy52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGdldHRlciA9IGRlc2MuZ2V0O1xuICAgICAgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpO1xuICAgIH1cbiAgfVxufTtcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4iLCIvKiAqLyBcbnZhciAkID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZShQLCBEKSB7XG4gIHJldHVybiAkLmNyZWF0ZShQLCBEKTtcbn07XG4iLCIvKiAqLyBcbm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwiLyogKi8gXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vJC5leHBvcnQnKTtcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge3NldFByb3RvdHlwZU9mOiByZXF1aXJlKCcuLyQuc2V0LXByb3RvJykuc2V0fSk7XG4iLCIvKiAqLyBcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuT2JqZWN0LnNldFByb3RvdHlwZU9mO1xuIiwiLyogKi8gXG5tb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCIvKiAqLyBcblwidXNlIHN0cmljdFwiO1xudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZSgnLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlJylbXCJkZWZhdWx0XCJdO1xudmFyIF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mJylbXCJkZWZhdWx0XCJdO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbihzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XG4gIH1cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gX09iamVjdCRjcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge2NvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfX0pO1xuICBpZiAoc3VwZXJDbGFzcylcbiAgICBfT2JqZWN0JHNldFByb3RvdHlwZU9mID8gX09iamVjdCRzZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufTtcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4iLCIvKiAqLyBcblwidXNlIHN0cmljdFwiO1xudmFyIF9PYmplY3QkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHknKVtcImRlZmF1bHRcIl07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcilcbiAgICAgICAgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBfT2JqZWN0JGRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpXG4gICAgICBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKVxuICAgICAgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0pKCk7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuIiwiLyogKi8gXG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0LCB7IFByb3BUeXBlcywgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5cbmNsYXNzIExhenlJbWcgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb21wb25lbnRXaWxsTW91bnQgKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRlZDogZmFsc2UgfSlcbiAgfVxuXG4gIGhhbmRsZUxvYWQgKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRlZDogdHJ1ZSB9KVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGltZ1xuICAgICAgICBjbGFzc05hbWU9e2Ake3RoaXMuc3RhdGUuaXNMb2FkZWQgPyAnbGF6eWxvYWRlZCcgOiAnbGF6eWxvYWQnfSBsYXp5Ymx1cmB9XG4gICAgICAgIHNyYz17dGhpcy5wcm9wcy5zcmN9XG4gICAgICAgIG9uTG9hZD17KCkgPT4gdGhpcy5oYW5kbGVMb2FkKCl9XG4gICAgICAgIGFsdD17dGhpcy5wcm9wcy5hbHR9IC8+XG4gICAgKVxuICB9XG59XG5cbkxhenlJbWcuZGVmYXVsdFByb3BzID0ge1xuICBhbHQ6ICcnXG59XG5cbkxhenlJbWcucHJvcFR5cGVzID0ge1xuICBzcmM6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgYWx0OiBQcm9wVHlwZXMuc3RyaW5nXG59XG5cbmV4cG9ydCBkZWZhdWx0IExhenlJbWdcbiIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnXG5cbmNvbnN0IFN2Z0ljb24gPSAoeyBpZCwgbGFiZWwgfSkgPT4gKFxuICA8c3ZnIGNsYXNzTmFtZT0naWNvbicgYXJpYS1oaWRkZW49J3RydWUnIGFyaWEtbGFiZWw9e2xhYmVsfT5cbiAgICA8dXNlIHhsaW5rSHJlZj17YHN2Zy9pY29ucy5zdmcjJHtpZH1gfSAvPlxuICA8L3N2Zz5cbilcblxuU3ZnSWNvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGxhYmVsOiAnJ1xufVxuXG5TdmdJY29uLnByb3BUeXBlcyA9IHtcbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmdcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3ZnSWNvblxuIiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBMYXp5SW1nIGZyb20gJy4vbGF6eS1pbWcnXG5pbXBvcnQgU3ZnSWNvbiBmcm9tICcuL3N2Zy1pY29uJ1xuXG5jb25zdCBnZXRNb250aCA9IChtb250aCkgPT4ge1xuICBjb25zdCBtb250aHMgPSBbXG4gICAgJ0phbmVpcm8nLFxuICAgICdGZXZlcmVpcm8nLFxuICAgICdNYXLDp28nLFxuICAgICdBYnJpbCcsXG4gICAgJ01haW8nLFxuICAgICdKdW5obycsXG4gICAgJ0p1bGhvJyxcbiAgICAnQWdvc3RvJyxcbiAgICAnU2V0ZW1icm8nLFxuICAgICdPdXR1YnJvJyxcbiAgICAnTm92ZW1icm8nLFxuICAgICdEZXplbWJybydcbiAgXVxuICBjb25zdCBtID0gbW9udGhzLmluZGV4T2YobW9udGgpICsgMVxuICByZXR1cm4gKG0gPCAxMCA/ICcwJyA6ICcnKSArIG1cbn1cblxuY29uc3QgZm9ybWF0RGF0ZSA9ICh7IGRheSwgbW9udGgsIHllYXIgfSkgPT4ge1xuICByZXR1cm4gYCR7ZGF5fS8ke2dldE1vbnRoKG1vbnRoKX0vJHt5ZWFyfWBcbn1cblxuY29uc3QgRXZlbnRMaXN0SXRlbSA9ICh7XG4gIHRpdGxlLFxuICBpbWFnZSxcbiAgbGluayxcbiAgZGF0ZSxcbiAgcHJpY2UsXG4gIGxvY2F0aW9uLFxuICBzaG9ydERlc2NyaXB0aW9uXG59KSA9PiAoXG4gIDxhcnRpY2xlIGNsYXNzTmFtZT0nZXZlbnQnPlxuICAgIDxhIGNsYXNzTmFtZT0nZXZlbnQtbWVkaWEnIGhyZWY9e2xpbmt9IHRpdGxlPSdWZXIgZXZlbnRvJz5cbiAgICAgIDxMYXp5SW1nIHNyYz17aW1hZ2UgfHwgJ3N2Zy9sb2dvLnN2Zyd9IGFsdD17dGl0bGV9IC8+XG4gICAgPC9hPlxuICAgIDxkaXYgY2xhc3NOYW1lPSdldmVudC1tYWluJz5cbiAgICAgIDxhIGNsYXNzTmFtZT0nY29udGVudCcgaHJlZj17bGlua30gdGl0bGU9J1ZlciBldmVudG8nPlxuICAgICAgICA8aDI+e3RpdGxlfTwvaDI+XG4gICAgICAgIDxwPntzaG9ydERlc2NyaXB0aW9ufTwvcD5cbiAgICAgIDwvYT5cbiAgICAgIHshIWxpbmsgJiZcbiAgICAgICAgPGEgY2xhc3NOYW1lPSdidG4tbGluaycgaHJlZj17bGlua30gdGFyZ2V0PSdfYmxhbmsnIHRpdGxlPSdWaXNpdGFyIHNpdGUgb2ZpY2lhbCc+XG4gICAgICAgICAgPFN2Z0ljb24gaWQ9J2xpbmsnIGxhYmVsPSdMaW5rJyAvPlxuICAgICAgICAgIHtsaW5rfVxuICAgICAgICA8L2E+XG4gICAgICB9XG4gICAgICA8dWwgY2xhc3NOYW1lPSdldmVudC1saXN0Jz5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT0nZXZlbnQtbGlzdC0taXRlbSc+XG4gICAgICAgICAgPFN2Z0ljb24gaWQ9J2RhdGUnIGxhYmVsPSdEYXRhJyAvPlxuICAgICAgICAgIHtmb3JtYXREYXRlKGRhdGUpfVxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPSdldmVudC1saXN0LS1pdGVtJz5cbiAgICAgICAgICA8U3ZnSWNvbiBpZD0ncHJpY2UnIGxhYmVsPSdQcmXDp28nIC8+XG4gICAgICAgICAge3ByaWNlfVxuICAgICAgICA8L2xpPlxuICAgICAgICB7ISFsb2NhdGlvbi5sb2NhdGlvblVybCAmJlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9J2V2ZW50LWxpc3QtLWl0ZW0nPlxuICAgICAgICAgICAgPFN2Z0ljb24gaWQ9J2xvY2F0aW9uJyBsYWJlbD0nTG9jYWwnIC8+XG4gICAgICAgICAgICA8YSBocmVmPXtsb2NhdGlvbi5sb2NhdGlvblVybH0gdGFyZ2V0PSdfYmxhbmsnPlxuICAgICAgICAgICAgICB7YCR7bG9jYXRpb24uYWRkcmVzc30gLSAke2xvY2F0aW9uLmNpdHl9LyR7bG9jYXRpb24uc3RhdGV9YH1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICB9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICA8L2FydGljbGU+XG4pXG5cbkV2ZW50TGlzdEl0ZW0uZGVmYXVsdFByb3BzID0ge1xuICBkYXRlOiB7XG4gICAgZGF5OiAnMDAnLFxuICAgIG1vbnRoOiAneHgnLFxuICAgIHllYXI6ICcwMDAwJ1xuICB9LFxuICBwcmljZTogJ0dyw6F0aXMnLFxuICBsb2NhdGlvbjoge1xuICAgIGxvY2F0aW9uVXJsOiAnJ1xuICB9LFxuICBzaG9ydERlc2NyaXB0aW9uOiAnJ1xufVxuXG5FdmVudExpc3RJdGVtLnByb3BUeXBlcyA9IHtcbiAgdGl0bGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgaW1hZ2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGxpbms6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGRhdGU6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgZGF5OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgbW9udGg6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICB5ZWFyOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbiAgfSkuaXNSZXF1aXJlZCxcbiAgcHJpY2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGxvY2F0aW9uOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGNpdHk6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc3RhdGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgYWRkcmVzczogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBsb2NhdGlvblVybDogUHJvcFR5cGVzLnN0cmluZ1xuICB9KSxcbiAgc2hvcnREZXNjcmlwdGlvbjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkXG59XG5cbmV4cG9ydCBkZWZhdWx0IEV2ZW50TGlzdEl0ZW1cbiIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgRXZlbnRMaXN0SXRlbSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2V2ZW50LWxpc3QtaXRlbSdcbi8vIGltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvcGFnaW5hdGlvbi9pbmRleCdcblxuY29uc3QgUGFnZSA9ICh7IGV2ZW50cyB9KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPSdwYWdlJz5cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPSdwYWdlLWhlYWRlcic+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9J3RpdGxlJz5QcsOzeGltb3MgRXZlbnRvczwvaDM+XG4gICAgICA8L2hlYWRlcj5cblxuICAgICAgeyFldmVudHMubGVuZ3RoICYmXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYWdlLXdyYXAnPlxuICAgICAgICAgIE5lbmh1bSBldmVudG8gZW5jb250cmFkb1xuICAgICAgICA8L2Rpdj5cbiAgICAgIH1cblxuICAgICAgeyEhZXZlbnRzLmxlbmd0aCAmJlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncGFnZS13cmFwJz5cbiAgICAgICAgICB7ZXZlbnRzLm1hcCgocHJvcHMsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8RXZlbnRMaXN0SXRlbSBrZXk9e2luZGV4fSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgKSl9XG4gICAgICAgICAgey8qIDxQYWdpbmF0aW9uIC8+ICovfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIH1cblxuICAgIDwvc2VjdGlvbj5cbiAgKVxufVxuXG5QYWdlLnByb3BUeXBlcyA9IHtcbiAgZXZlbnRzOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZFxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+IHtcbiAgY29uc3QgeyBmaWx0ZXIgfSA9IHN0YXRlXG4gIGNvbnN0IG1vbnRoc0ZpbHRlciA9IGZpbHRlci5tb250aHNcbiAgY29uc3Qgc3RhdGVGaWx0ZXIgPSBmaWx0ZXIuc3RhdGVcbiAgcmV0dXJuIHtcbiAgICBldmVudHM6IHN0YXRlLmV2ZW50cy5ldmVudHNcbiAgICAgIC5maWx0ZXIoKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChtb250aHNGaWx0ZXIuc2VsZWN0ZWQgJiYgc3RhdGVGaWx0ZXIuc2VsZWN0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gZXZlbnQuc2hvdWxkU2hvd0J5TW9udGggIT09IGZhbHNlICYmXG4gICAgICAgICAgICBldmVudC5zaG91bGRTaG93QnlTdGF0ZSAhPT0gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb250aHNGaWx0ZXIuc2VsZWN0ZWQgJiYgIXN0YXRlRmlsdGVyLnNlbGVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIGV2ZW50LnNob3VsZFNob3dCeU1vbnRoICE9PSBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFtb250aHNGaWx0ZXIuc2VsZWN0ZWQgJiYgc3RhdGVGaWx0ZXIuc2VsZWN0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gZXZlbnQuc2hvdWxkU2hvd0J5U3RhdGUgIT09IGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXZlbnRcbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKChldmVudCkgPT4ge1xuICAgICAgICByZXR1cm4gZXZlbnQuc2hvdWxkU2hvd0J5VGV4dCAhPT0gZmFsc2VcbiAgICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKFBhZ2UpXG4iLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5jb25zdCBBc2lkZSA9ICgpID0+IChcbiAgPGFzaWRlIGNsYXNzTmFtZT0nZGlzY2xhaW1lcic+XG4gICAgPGRpdiBjbGFzc05hbWU9J2Rpc2NsYWltZXItaW5uZXInPlxuICAgICAgPGgyIGNsYXNzTmFtZT0ndGl0bGUnPlxuICAgICAgICBDb25oZWNlIGFsZ3VtIGV2ZW50byBkZSBGcm9udC1FbmQgcXVlIG7Do28gZXN0w6EgbGlzdGFkbz9cbiAgICAgIDwvaDI+XG4gICAgICA8YVxuICAgICAgICBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vZnJvbnRlbmRici9ldmVudG9zL2lzc3VlcydcbiAgICAgICAgY2xhc3NOYW1lPSdidG4nXG4gICAgICAgIGFyaWEtbGFiZWw9J0FudW5jaWFyIEV2ZW50bydcbiAgICAgICAgdGl0bGU9J0FudW5jaWUgc2V1IGV2ZW50byc+XG4gICAgICAgIEFudW5jaWFyIEV2ZW50b1xuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICA8L2FzaWRlPlxuXG4pXG5cbmV4cG9ydCBkZWZhdWx0IEFzaWRlXG4iLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IEhlYWRlciBmcm9tICcuL2hlYWRlcidcbmltcG9ydCBQYWdlIGZyb20gJy4vcGFnZSdcbmltcG9ydCBBc2lkZSBmcm9tICcuL2FzaWRlJ1xuXG5jb25zdCBNYWluQ29udGVudCA9ICgpID0+IChcbiAgPG1haW4gY2xhc3NOYW1lPSdtYWluJyByb2xlPSdtYWluJz5cbiAgICA8SGVhZGVyIC8+XG4gICAgPFBhZ2UgLz5cbiAgICA8QXNpZGUgLz5cbiAgPC9tYWluPlxuXG4pXG5cbmV4cG9ydCBkZWZhdWx0IE1haW5Db250ZW50XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgb25lQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihjb3B5RmllbGRzRnJvbSkge1xuICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGNvcHlGaWVsZHNGcm9tKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBLbGFzcyhjb3B5RmllbGRzRnJvbSk7XG4gICAgfVxuICB9O1xuICB2YXIgdHdvQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihhMSwgYTIpIHtcbiAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIpO1xuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEtsYXNzKGExLCBhMik7XG4gICAgfVxuICB9O1xuICB2YXIgdGhyZWVBcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGExLCBhMiwgYTMpIHtcbiAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIsIGEzKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzKTtcbiAgICB9XG4gIH07XG4gIHZhciBmb3VyQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihhMSwgYTIsIGEzLCBhNCkge1xuICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGExLCBhMiwgYTMsIGE0KTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzLCBhNCk7XG4gICAgfVxuICB9O1xuICB2YXIgZml2ZUFyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24oYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gICAgdmFyIEtsYXNzID0gdGhpcztcbiAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgICAgdmFyIGluc3RhbmNlID0gS2xhc3MuaW5zdGFuY2VQb29sLnBvcCgpO1xuICAgICAgS2xhc3MuY2FsbChpbnN0YW5jZSwgYTEsIGEyLCBhMywgYTQsIGE1KTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzLCBhNCwgYTUpO1xuICAgIH1cbiAgfTtcbiAgdmFyIHN0YW5kYXJkUmVsZWFzZXIgPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgIShpbnN0YW5jZSBpbnN0YW5jZW9mIEtsYXNzKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdUcnlpbmcgdG8gcmVsZWFzZSBhbiBpbnN0YW5jZSBpbnRvIGEgcG9vbCBvZiBhIGRpZmZlcmVudCB0eXBlLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBpbnN0YW5jZS5kZXN0cnVjdG9yKCk7XG4gICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGggPCBLbGFzcy5wb29sU2l6ZSkge1xuICAgICAgS2xhc3MuaW5zdGFuY2VQb29sLnB1c2goaW5zdGFuY2UpO1xuICAgIH1cbiAgfTtcbiAgdmFyIERFRkFVTFRfUE9PTF9TSVpFID0gMTA7XG4gIHZhciBERUZBVUxUX1BPT0xFUiA9IG9uZUFyZ3VtZW50UG9vbGVyO1xuICB2YXIgYWRkUG9vbGluZ1RvID0gZnVuY3Rpb24oQ29weUNvbnN0cnVjdG9yLCBwb29sZXIpIHtcbiAgICB2YXIgTmV3S2xhc3MgPSBDb3B5Q29uc3RydWN0b3I7XG4gICAgTmV3S2xhc3MuaW5zdGFuY2VQb29sID0gW107XG4gICAgTmV3S2xhc3MuZ2V0UG9vbGVkID0gcG9vbGVyIHx8IERFRkFVTFRfUE9PTEVSO1xuICAgIGlmICghTmV3S2xhc3MucG9vbFNpemUpIHtcbiAgICAgIE5ld0tsYXNzLnBvb2xTaXplID0gREVGQVVMVF9QT09MX1NJWkU7XG4gICAgfVxuICAgIE5ld0tsYXNzLnJlbGVhc2UgPSBzdGFuZGFyZFJlbGVhc2VyO1xuICAgIHJldHVybiBOZXdLbGFzcztcbiAgfTtcbiAgdmFyIFBvb2xlZENsYXNzID0ge1xuICAgIGFkZFBvb2xpbmdUbzogYWRkUG9vbGluZ1RvLFxuICAgIG9uZUFyZ3VtZW50UG9vbGVyOiBvbmVBcmd1bWVudFBvb2xlcixcbiAgICB0d29Bcmd1bWVudFBvb2xlcjogdHdvQXJndW1lbnRQb29sZXIsXG4gICAgdGhyZWVBcmd1bWVudFBvb2xlcjogdGhyZWVBcmd1bWVudFBvb2xlcixcbiAgICBmb3VyQXJndW1lbnRQb29sZXI6IGZvdXJBcmd1bWVudFBvb2xlcixcbiAgICBmaXZlQXJndW1lbnRQb29sZXI6IGZpdmVBcmd1bWVudFBvb2xlclxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFBvb2xlZENsYXNzO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBLZXlFc2NhcGVVdGlsc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBFc2NhcGUgYW5kIHdyYXAga2V5IHNvIGl0IGlzIHNhZmUgdG8gdXNlIGFzIGEgcmVhY3RpZFxuICpcbiAqIEBwYXJhbSB7Kn0ga2V5IHRvIGJlIGVzY2FwZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBlc2NhcGVkIGtleS5cbiAqL1xuXG5mdW5jdGlvbiBlc2NhcGUoa2V5KSB7XG4gIHZhciBlc2NhcGVSZWdleCA9IC9bPTpdL2c7XG4gIHZhciBlc2NhcGVyTG9va3VwID0ge1xuICAgICc9JzogJz0wJyxcbiAgICAnOic6ICc9MidcbiAgfTtcbiAgdmFyIGVzY2FwZWRTdHJpbmcgPSAoJycgKyBrZXkpLnJlcGxhY2UoZXNjYXBlUmVnZXgsIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgIHJldHVybiBlc2NhcGVyTG9va3VwW21hdGNoXTtcbiAgfSk7XG5cbiAgcmV0dXJuICckJyArIGVzY2FwZWRTdHJpbmc7XG59XG5cbi8qKlxuICogVW5lc2NhcGUgYW5kIHVud3JhcCBrZXkgZm9yIGh1bWFuLXJlYWRhYmxlIGRpc3BsYXlcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRvIHVuZXNjYXBlLlxuICogQHJldHVybiB7c3RyaW5nfSB0aGUgdW5lc2NhcGVkIGtleS5cbiAqL1xuZnVuY3Rpb24gdW5lc2NhcGUoa2V5KSB7XG4gIHZhciB1bmVzY2FwZVJlZ2V4ID0gLyg9MHw9MikvZztcbiAgdmFyIHVuZXNjYXBlckxvb2t1cCA9IHtcbiAgICAnPTAnOiAnPScsXG4gICAgJz0yJzogJzonXG4gIH07XG4gIHZhciBrZXlTdWJzdHJpbmcgPSBrZXlbMF0gPT09ICcuJyAmJiBrZXlbMV0gPT09ICckJyA/IGtleS5zdWJzdHJpbmcoMikgOiBrZXkuc3Vic3RyaW5nKDEpO1xuXG4gIHJldHVybiAoJycgKyBrZXlTdWJzdHJpbmcpLnJlcGxhY2UodW5lc2NhcGVSZWdleCwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgcmV0dXJuIHVuZXNjYXBlckxvb2t1cFttYXRjaF07XG4gIH0pO1xufVxuXG52YXIgS2V5RXNjYXBlVXRpbHMgPSB7XG4gIGVzY2FwZTogZXNjYXBlLFxuICB1bmVzY2FwZTogdW5lc2NhcGVcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gS2V5RXNjYXBlVXRpbHM7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBSZWFjdEN1cnJlbnRPd25lciA9IHJlcXVpcmUoJy4vUmVhY3RDdXJyZW50T3duZXInKTtcbiAgdmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG4gIHZhciBnZXRJdGVyYXRvckZuID0gcmVxdWlyZSgnLi9nZXRJdGVyYXRvckZuJyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgdmFyIEtleUVzY2FwZVV0aWxzID0gcmVxdWlyZSgnLi9LZXlFc2NhcGVVdGlscycpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIFNFUEFSQVRPUiA9ICcuJztcbiAgdmFyIFNVQlNFUEFSQVRPUiA9ICc6JztcbiAgdmFyIGRpZFdhcm5BYm91dE1hcHMgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50S2V5KGNvbXBvbmVudCwgaW5kZXgpIHtcbiAgICBpZiAoY29tcG9uZW50ICYmIHR5cGVvZiBjb21wb25lbnQgPT09ICdvYmplY3QnICYmIGNvbXBvbmVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIEtleUVzY2FwZVV0aWxzLmVzY2FwZShjb21wb25lbnQua2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4LnRvU3RyaW5nKDM2KTtcbiAgfVxuICBmdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZHJlbiwgbmFtZVNvRmFyLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgY2hpbGRyZW47XG4gICAgaWYgKHR5cGUgPT09ICd1bmRlZmluZWQnIHx8IHR5cGUgPT09ICdib29sZWFuJykge1xuICAgICAgY2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoY2hpbGRyZW4gPT09IG51bGwgfHwgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ251bWJlcicgfHwgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkge1xuICAgICAgY2FsbGJhY2sodHJhdmVyc2VDb250ZXh0LCBjaGlsZHJlbiwgbmFtZVNvRmFyID09PSAnJyA/IFNFUEFSQVRPUiArIGdldENvbXBvbmVudEtleShjaGlsZHJlbiwgMCkgOiBuYW1lU29GYXIpO1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHZhciBjaGlsZDtcbiAgICB2YXIgbmV4dE5hbWU7XG4gICAgdmFyIHN1YnRyZWVDb3VudCA9IDA7XG4gICAgdmFyIG5leHROYW1lUHJlZml4ID0gbmFtZVNvRmFyID09PSAnJyA/IFNFUEFSQVRPUiA6IG5hbWVTb0ZhciArIFNVQlNFUEFSQVRPUjtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgbmV4dE5hbWUgPSBuZXh0TmFtZVByZWZpeCArIGdldENvbXBvbmVudEtleShjaGlsZCwgaSk7XG4gICAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZCwgbmV4dE5hbWUsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4oY2hpbGRyZW4pO1xuICAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKGNoaWxkcmVuKTtcbiAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBjaGlsZHJlbi5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGlpID0gMDtcbiAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICBjaGlsZCA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpaSsrKTtcbiAgICAgICAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZCwgbmV4dE5hbWUsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZGlkV2FybkFib3V0TWFwcywgJ1VzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgbm90IHlldCBmdWxseSBzdXBwb3J0ZWQuIEl0IGlzIGFuICcgKyAnZXhwZXJpbWVudGFsIGZlYXR1cmUgdGhhdCBtaWdodCBiZSByZW1vdmVkLiBDb252ZXJ0IGl0IHRvIGEgJyArICdzZXF1ZW5jZSAvIGl0ZXJhYmxlIG9mIGtleWVkIFJlYWN0RWxlbWVudHMgaW5zdGVhZC4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGRpZFdhcm5BYm91dE1hcHMgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICAgIGNoaWxkID0gZW50cnlbMV07XG4gICAgICAgICAgICAgIG5leHROYW1lID0gbmV4dE5hbWVQcmVmaXggKyBLZXlFc2NhcGVVdGlscy5lc2NhcGUoZW50cnlbMF0pICsgU1VCU0VQQVJBVE9SICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCAwKTtcbiAgICAgICAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBhZGRlbmR1bSA9ICcnO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGFkZGVuZHVtID0gJyBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5ICcgKyAnaW5zdGVhZCBvciB3cmFwIHRoZSBvYmplY3QgdXNpbmcgY3JlYXRlRnJhZ21lbnQob2JqZWN0KSBmcm9tIHRoZSAnICsgJ1JlYWN0IGFkZC1vbnMuJztcbiAgICAgICAgICBpZiAoY2hpbGRyZW4uX2lzUmVhY3RFbGVtZW50KSB7XG4gICAgICAgICAgICBhZGRlbmR1bSA9ICcgSXQgbG9va3MgbGlrZSB5b3VcXCdyZSB1c2luZyBhbiBlbGVtZW50IGNyZWF0ZWQgYnkgYSBkaWZmZXJlbnQgJyArICd2ZXJzaW9uIG9mIFJlYWN0LiBNYWtlIHN1cmUgdG8gdXNlIG9ubHkgb25lIGNvcHkgb2YgUmVhY3QuJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC5nZXROYW1lKCk7XG4gICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICBhZGRlbmR1bSArPSAnIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjaGlsZHJlblN0cmluZyA9IFN0cmluZyhjaGlsZHJlbik7XG4gICAgICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6ICVzKS4lcycsIGNoaWxkcmVuU3RyaW5nID09PSAnW29iamVjdCBPYmplY3RdJyA/ICdvYmplY3Qgd2l0aCBrZXlzIHsnICsgT2JqZWN0LmtleXMoY2hpbGRyZW4pLmpvaW4oJywgJykgKyAnfScgOiBjaGlsZHJlblN0cmluZywgYWRkZW5kdW0pIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN1YnRyZWVDb3VudDtcbiAgfVxuICBmdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KSB7XG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGRyZW4sICcnLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IHRyYXZlcnNlQWxsQ2hpbGRyZW47XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgUG9vbGVkQ2xhc3MgPSByZXF1aXJlKCcuL1Bvb2xlZENsYXNzJyk7XG52YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIHRyYXZlcnNlQWxsQ2hpbGRyZW4gPSByZXF1aXJlKCcuL3RyYXZlcnNlQWxsQ2hpbGRyZW4nKTtcbnZhciB0d29Bcmd1bWVudFBvb2xlciA9IFBvb2xlZENsYXNzLnR3b0FyZ3VtZW50UG9vbGVyO1xudmFyIGZvdXJBcmd1bWVudFBvb2xlciA9IFBvb2xlZENsYXNzLmZvdXJBcmd1bWVudFBvb2xlcjtcbnZhciB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCA9IC9cXC8rL2c7XG5mdW5jdGlvbiBlc2NhcGVVc2VyUHJvdmlkZWRLZXkodGV4dCkge1xuICByZXR1cm4gKCcnICsgdGV4dCkucmVwbGFjZSh1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCwgJyQmLycpO1xufVxuZnVuY3Rpb24gRm9yRWFjaEJvb2tLZWVwaW5nKGZvckVhY2hGdW5jdGlvbiwgZm9yRWFjaENvbnRleHQpIHtcbiAgdGhpcy5mdW5jID0gZm9yRWFjaEZ1bmN0aW9uO1xuICB0aGlzLmNvbnRleHQgPSBmb3JFYWNoQ29udGV4dDtcbiAgdGhpcy5jb3VudCA9IDA7XG59XG5Gb3JFYWNoQm9va0tlZXBpbmcucHJvdG90eXBlLmRlc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5mdW5jID0gbnVsbDtcbiAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgdGhpcy5jb3VudCA9IDA7XG59O1xuUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKEZvckVhY2hCb29rS2VlcGluZywgdHdvQXJndW1lbnRQb29sZXIpO1xuZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkKGJvb2tLZWVwaW5nLCBjaGlsZCwgbmFtZSkge1xuICB2YXIgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmM7XG4gIHZhciBjb250ZXh0ID0gYm9va0tlZXBpbmcuY29udGV4dDtcbiAgZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBib29rS2VlcGluZy5jb3VudCsrKTtcbn1cbmZ1bmN0aW9uIGZvckVhY2hDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KSB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHZhciB0cmF2ZXJzZUNvbnRleHQgPSBGb3JFYWNoQm9va0tlZXBpbmcuZ2V0UG9vbGVkKGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCk7XG4gIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGZvckVhY2hTaW5nbGVDaGlsZCwgdHJhdmVyc2VDb250ZXh0KTtcbiAgRm9yRWFjaEJvb2tLZWVwaW5nLnJlbGVhc2UodHJhdmVyc2VDb250ZXh0KTtcbn1cbmZ1bmN0aW9uIE1hcEJvb2tLZWVwaW5nKG1hcFJlc3VsdCwga2V5UHJlZml4LCBtYXBGdW5jdGlvbiwgbWFwQ29udGV4dCkge1xuICB0aGlzLnJlc3VsdCA9IG1hcFJlc3VsdDtcbiAgdGhpcy5rZXlQcmVmaXggPSBrZXlQcmVmaXg7XG4gIHRoaXMuZnVuYyA9IG1hcEZ1bmN0aW9uO1xuICB0aGlzLmNvbnRleHQgPSBtYXBDb250ZXh0O1xuICB0aGlzLmNvdW50ID0gMDtcbn1cbk1hcEJvb2tLZWVwaW5nLnByb3RvdHlwZS5kZXN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVzdWx0ID0gbnVsbDtcbiAgdGhpcy5rZXlQcmVmaXggPSBudWxsO1xuICB0aGlzLmZ1bmMgPSBudWxsO1xuICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICB0aGlzLmNvdW50ID0gMDtcbn07XG5Qb29sZWRDbGFzcy5hZGRQb29saW5nVG8oTWFwQm9va0tlZXBpbmcsIGZvdXJBcmd1bWVudFBvb2xlcik7XG5mdW5jdGlvbiBtYXBTaW5nbGVDaGlsZEludG9Db250ZXh0KGJvb2tLZWVwaW5nLCBjaGlsZCwgY2hpbGRLZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGJvb2tLZWVwaW5nLnJlc3VsdDtcbiAgdmFyIGtleVByZWZpeCA9IGJvb2tLZWVwaW5nLmtleVByZWZpeDtcbiAgdmFyIGZ1bmMgPSBib29rS2VlcGluZy5mdW5jO1xuICB2YXIgY29udGV4dCA9IGJvb2tLZWVwaW5nLmNvbnRleHQ7XG4gIHZhciBtYXBwZWRDaGlsZCA9IGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgYm9va0tlZXBpbmcuY291bnQrKyk7XG4gIGlmIChBcnJheS5pc0FycmF5KG1hcHBlZENoaWxkKSkge1xuICAgIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwobWFwcGVkQ2hpbGQsIHJlc3VsdCwgY2hpbGRLZXksIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCk7XG4gIH0gZWxzZSBpZiAobWFwcGVkQ2hpbGQgIT0gbnVsbCkge1xuICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQobWFwcGVkQ2hpbGQpKSB7XG4gICAgICBtYXBwZWRDaGlsZCA9IFJlYWN0RWxlbWVudC5jbG9uZUFuZFJlcGxhY2VLZXkobWFwcGVkQ2hpbGQsIGtleVByZWZpeCArIChtYXBwZWRDaGlsZC5rZXkgJiYgKCFjaGlsZCB8fCBjaGlsZC5rZXkgIT09IG1hcHBlZENoaWxkLmtleSkgPyBlc2NhcGVVc2VyUHJvdmlkZWRLZXkobWFwcGVkQ2hpbGQua2V5KSArICcvJyA6ICcnKSArIGNoaWxkS2V5KTtcbiAgICB9XG4gICAgcmVzdWx0LnB1c2gobWFwcGVkQ2hpbGQpO1xuICB9XG59XG5mdW5jdGlvbiBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCBhcnJheSwgcHJlZml4LCBmdW5jLCBjb250ZXh0KSB7XG4gIHZhciBlc2NhcGVkUHJlZml4ID0gJyc7XG4gIGlmIChwcmVmaXggIT0gbnVsbCkge1xuICAgIGVzY2FwZWRQcmVmaXggPSBlc2NhcGVVc2VyUHJvdmlkZWRLZXkocHJlZml4KSArICcvJztcbiAgfVxuICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gTWFwQm9va0tlZXBpbmcuZ2V0UG9vbGVkKGFycmF5LCBlc2NhcGVkUHJlZml4LCBmdW5jLCBjb250ZXh0KTtcbiAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgbWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCwgdHJhdmVyc2VDb250ZXh0KTtcbiAgTWFwQm9va0tlZXBpbmcucmVsZWFzZSh0cmF2ZXJzZUNvbnRleHQpO1xufVxuZnVuY3Rpb24gbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmMsIGNvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCByZXN1bHQsIG51bGwsIGZ1bmMsIGNvbnRleHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkRHVtbXkodHJhdmVyc2VDb250ZXh0LCBjaGlsZCwgbmFtZSkge1xuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGNvdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGZvckVhY2hTaW5nbGVDaGlsZER1bW15LCBudWxsKTtcbn1cbmZ1bmN0aW9uIHRvQXJyYXkoY2hpbGRyZW4pIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCByZXN1bHQsIG51bGwsIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG52YXIgUmVhY3RDaGlsZHJlbiA9IHtcbiAgZm9yRWFjaDogZm9yRWFjaENoaWxkcmVuLFxuICBtYXA6IG1hcENoaWxkcmVuLFxuICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsOiBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsLFxuICBjb3VudDogY291bnRDaGlsZHJlbixcbiAgdG9BcnJheTogdG9BcnJheVxufTtcbm1vZHVsZS5leHBvcnRzID0gUmVhY3RDaGlsZHJlbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblxuLyoqXG4gKiBTaW1wbGUsIGxpZ2h0d2VpZ2h0IG1vZHVsZSBhc3Npc3Rpbmcgd2l0aCB0aGUgZGV0ZWN0aW9uIGFuZCBjb250ZXh0IG9mXG4gKiBXb3JrZXIuIEhlbHBzIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBhbmQgYWxsb3dzIGNvZGUgdG8gcmVhc29uIGFib3V0XG4gKiB3aGV0aGVyIG9yIG5vdCB0aGV5IGFyZSBpbiBhIFdvcmtlciwgZXZlbiBpZiB0aGV5IG5ldmVyIGluY2x1ZGUgdGhlIG1haW5cbiAqIGBSZWFjdFdvcmtlcmAgZGVwZW5kZW5jeS5cbiAqL1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0ge1xuXG4gIGNhblVzZURPTTogY2FuVXNlRE9NLFxuXG4gIGNhblVzZVdvcmtlcnM6IHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnLFxuXG4gIGNhblVzZUV2ZW50TGlzdGVuZXJzOiBjYW5Vc2VET00gJiYgISEod2luZG93LmFkZEV2ZW50TGlzdGVuZXIgfHwgd2luZG93LmF0dGFjaEV2ZW50KSxcblxuICBjYW5Vc2VWaWV3cG9ydDogY2FuVXNlRE9NICYmICEhd2luZG93LnNjcmVlbixcblxuICBpc0luV29ya2VyOiAhY2FuVXNlRE9NIC8vIEZvciBub3csIHRoaXMgaXMgdHJ1ZSAtIG1pZ2h0IGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50OyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnLi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xudmFyIHBlcmZvcm1hbmNlO1xuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICBwZXJmb3JtYW5jZSA9IHdpbmRvdy5wZXJmb3JtYW5jZSB8fCB3aW5kb3cubXNQZXJmb3JtYW5jZSB8fCB3aW5kb3cud2Via2l0UGVyZm9ybWFuY2U7XG59XG5tb2R1bGUuZXhwb3J0cyA9IHBlcmZvcm1hbmNlIHx8IHt9O1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgcGVyZm9ybWFuY2UgPSByZXF1aXJlKCcuL3BlcmZvcm1hbmNlJyk7XG52YXIgcGVyZm9ybWFuY2VOb3c7XG5pZiAocGVyZm9ybWFuY2Uubm93KSB7XG4gIHBlcmZvcm1hbmNlTm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuICB9O1xufSBlbHNlIHtcbiAgcGVyZm9ybWFuY2VOb3cgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gcGVyZm9ybWFuY2VOb3c7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmFyIHByb2Nlc3NpbmdDaGlsZENvbnRleHQgPSBmYWxzZTtcbiAgICB2YXIgd2FybkludmFsaWRTZXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIXByb2Nlc3NpbmdDaGlsZENvbnRleHQsICdzZXRTdGF0ZSguLi4pOiBDYW5ub3QgY2FsbCBzZXRTdGF0ZSgpIGluc2lkZSBnZXRDaGlsZENvbnRleHQoKScpIDogdm9pZCAwO1xuICAgIH07XG4gIH1cbiAgdmFyIFJlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2wgPSB7XG4gICAgb25CZWdpblByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcHJvY2Vzc2luZ0NoaWxkQ29udGV4dCA9IHRydWU7XG4gICAgfSxcbiAgICBvbkVuZFByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcHJvY2Vzc2luZ0NoaWxkQ29udGV4dCA9IGZhbHNlO1xuICAgIH0sXG4gICAgb25TZXRTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB3YXJuSW52YWxpZFNldFN0YXRlKCk7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2w7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNi1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0TmF0aXZlT3BlcmF0aW9uSGlzdG9yeURldnRvb2xcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBoaXN0b3J5ID0gW107XG5cbnZhciBSZWFjdE5hdGl2ZU9wZXJhdGlvbkhpc3RvcnlEZXZ0b29sID0ge1xuICBvbk5hdGl2ZU9wZXJhdGlvbjogZnVuY3Rpb24gKGRlYnVnSUQsIHR5cGUsIHBheWxvYWQpIHtcbiAgICBoaXN0b3J5LnB1c2goe1xuICAgICAgaW5zdGFuY2VJRDogZGVidWdJRCxcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBwYXlsb2FkOiBwYXlsb2FkXG4gICAgfSk7XG4gIH0sXG4gIGNsZWFySGlzdG9yeTogZnVuY3Rpb24gKCkge1xuICAgIGlmIChSZWFjdE5hdGl2ZU9wZXJhdGlvbkhpc3RvcnlEZXZ0b29sLl9wcmV2ZW50Q2xlYXJpbmcpIHtcbiAgICAgIC8vIFNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIHRlc3RzLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGhpc3RvcnkgPSBbXTtcbiAgfSxcbiAgZ2V0SGlzdG9yeTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBoaXN0b3J5O1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0TmF0aXZlT3BlcmF0aW9uSGlzdG9yeURldnRvb2w7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgdmFyIHRyZWUgPSB7fTtcbiAgdmFyIHJvb3RJRHMgPSBbXTtcbiAgZnVuY3Rpb24gdXBkYXRlVHJlZShpZCwgdXBkYXRlKSB7XG4gICAgaWYgKCF0cmVlW2lkXSkge1xuICAgICAgdHJlZVtpZF0gPSB7XG4gICAgICAgIHBhcmVudElEOiBudWxsLFxuICAgICAgICBvd25lcklEOiBudWxsLFxuICAgICAgICB0ZXh0OiBudWxsLFxuICAgICAgICBjaGlsZElEczogW10sXG4gICAgICAgIGRpc3BsYXlOYW1lOiAnVW5rbm93bicsXG4gICAgICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgICAgIHVwZGF0ZUNvdW50OiAwXG4gICAgICB9O1xuICAgIH1cbiAgICB1cGRhdGUodHJlZVtpZF0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1cmdlRGVlcChpZCkge1xuICAgIHZhciBpdGVtID0gdHJlZVtpZF07XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIHZhciBjaGlsZElEcyA9IGl0ZW0uY2hpbGRJRHM7XG4gICAgICBkZWxldGUgdHJlZVtpZF07XG4gICAgICBjaGlsZElEcy5mb3JFYWNoKHB1cmdlRGVlcCk7XG4gICAgfVxuICB9XG4gIHZhciBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sID0ge1xuICAgIG9uU2V0RGlzcGxheU5hbWU6IGZ1bmN0aW9uKGlkLCBkaXNwbGF5TmFtZSkge1xuICAgICAgdXBkYXRlVHJlZShpZCwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBvblNldENoaWxkcmVuOiBmdW5jdGlvbihpZCwgbmV4dENoaWxkSURzKSB7XG4gICAgICB1cGRhdGVUcmVlKGlkLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHZhciBwcmV2Q2hpbGRJRHMgPSBpdGVtLmNoaWxkSURzO1xuICAgICAgICBpdGVtLmNoaWxkSURzID0gbmV4dENoaWxkSURzO1xuICAgICAgICBuZXh0Q2hpbGRJRHMuZm9yRWFjaChmdW5jdGlvbihuZXh0Q2hpbGRJRCkge1xuICAgICAgICAgIHZhciBuZXh0Q2hpbGQgPSB0cmVlW25leHRDaGlsZElEXTtcbiAgICAgICAgICAhbmV4dENoaWxkID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIGRldnRvb2wgZXZlbnRzIHRvIGZpcmUgZm9yIHRoZSBjaGlsZCAnICsgJ2JlZm9yZSBpdHMgcGFyZW50IGluY2x1ZGVzIGl0IGluIG9uU2V0Q2hpbGRyZW4oKS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgIShuZXh0Q2hpbGQuZGlzcGxheU5hbWUgIT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgb25TZXREaXNwbGF5TmFtZSgpIHRvIGZpcmUgZm9yIHRoZSBjaGlsZCAnICsgJ2JlZm9yZSBpdHMgcGFyZW50IGluY2x1ZGVzIGl0IGluIG9uU2V0Q2hpbGRyZW4oKS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgIShuZXh0Q2hpbGQuY2hpbGRJRHMgIT0gbnVsbCB8fCBuZXh0Q2hpbGQudGV4dCAhPSBudWxsKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBvblNldENoaWxkcmVuKCkgb3Igb25TZXRUZXh0KCkgdG8gZmlyZSBmb3IgdGhlIGNoaWxkICcgKyAnYmVmb3JlIGl0cyBwYXJlbnQgaW5jbHVkZXMgaXQgaW4gb25TZXRDaGlsZHJlbigpLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICAhbmV4dENoaWxkLmlzTW91bnRlZCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBvbk1vdW50Q29tcG9uZW50KCkgdG8gZmlyZSBmb3IgdGhlIGNoaWxkICcgKyAnYmVmb3JlIGl0cyBwYXJlbnQgaW5jbHVkZXMgaXQgaW4gb25TZXRDaGlsZHJlbigpLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAocHJldkNoaWxkSURzLmluZGV4T2YobmV4dENoaWxkSUQpID09PSAtMSkge1xuICAgICAgICAgICAgbmV4dENoaWxkLnBhcmVudElEID0gaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25TZXRPd25lcjogZnVuY3Rpb24oaWQsIG93bmVySUQpIHtcbiAgICAgIHVwZGF0ZVRyZWUoaWQsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ub3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uU2V0VGV4dDogZnVuY3Rpb24oaWQsIHRleHQpIHtcbiAgICAgIHVwZGF0ZVRyZWUoaWQsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0udGV4dCA9IHRleHQ7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uTW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB1cGRhdGVUcmVlKGlkLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmlzTW91bnRlZCA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uTW91bnRSb290Q29tcG9uZW50OiBmdW5jdGlvbihpZCkge1xuICAgICAgcm9vdElEcy5wdXNoKGlkKTtcbiAgICB9LFxuICAgIG9uVXBkYXRlQ29tcG9uZW50OiBmdW5jdGlvbihpZCkge1xuICAgICAgdXBkYXRlVHJlZShpZCwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS51cGRhdGVDb3VudCsrO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBvblVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB1cGRhdGVUcmVlKGlkLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmlzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgICByb290SURzID0gcm9vdElEcy5maWx0ZXIoZnVuY3Rpb24ocm9vdElEKSB7XG4gICAgICAgIHJldHVybiByb290SUQgIT09IGlkO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBwdXJnZVVubW91bnRlZENvbXBvbmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuX3ByZXZlbnRQdXJnaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5rZXlzKHRyZWUpLmZpbHRlcihmdW5jdGlvbihpZCkge1xuICAgICAgICByZXR1cm4gIXRyZWVbaWRdLmlzTW91bnRlZDtcbiAgICAgIH0pLmZvckVhY2gocHVyZ2VEZWVwKTtcbiAgICB9LFxuICAgIGlzTW91bnRlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBpdGVtID0gdHJlZVtpZF07XG4gICAgICByZXR1cm4gaXRlbSA/IGl0ZW0uaXNNb3VudGVkIDogZmFsc2U7XG4gICAgfSxcbiAgICBnZXRDaGlsZElEczogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBpdGVtID0gdHJlZVtpZF07XG4gICAgICByZXR1cm4gaXRlbSA/IGl0ZW0uY2hpbGRJRHMgOiBbXTtcbiAgICB9LFxuICAgIGdldERpc3BsYXlOYW1lOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIGl0ZW0gPSB0cmVlW2lkXTtcbiAgICAgIHJldHVybiBpdGVtID8gaXRlbS5kaXNwbGF5TmFtZSA6ICdVbmtub3duJztcbiAgICB9LFxuICAgIGdldE93bmVySUQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgaXRlbSA9IHRyZWVbaWRdO1xuICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLm93bmVySUQgOiBudWxsO1xuICAgIH0sXG4gICAgZ2V0UGFyZW50SUQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgaXRlbSA9IHRyZWVbaWRdO1xuICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLnBhcmVudElEIDogbnVsbDtcbiAgICB9LFxuICAgIGdldFRleHQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgaXRlbSA9IHRyZWVbaWRdO1xuICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLnRleHQgOiBudWxsO1xuICAgIH0sXG4gICAgZ2V0VXBkYXRlQ291bnQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgaXRlbSA9IHRyZWVbaWRdO1xuICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLnVwZGF0ZUNvdW50IDogMDtcbiAgICB9LFxuICAgIGdldFJvb3RJRHM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJvb3RJRHM7XG4gICAgfSxcbiAgICBnZXRSZWdpc3RlcmVkSURzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0cmVlKTtcbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbiAgdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgnZmJqcy9saWIvcGVyZm9ybWFuY2VOb3cnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBldmVudEhhbmRsZXJzID0gW107XG4gIHZhciBoYW5kbGVyRG9lc1Rocm93Rm9yRXZlbnQgPSB7fTtcbiAgZnVuY3Rpb24gZW1pdEV2ZW50KGhhbmRsZXJGdW5jdGlvbk5hbWUsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgZXZlbnRIYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoaGFuZGxlcltoYW5kbGVyRnVuY3Rpb25OYW1lXSkge1xuICAgICAgICAgICAgaGFuZGxlcltoYW5kbGVyRnVuY3Rpb25OYW1lXShhcmcxLCBhcmcyLCBhcmczLCBhcmc0LCBhcmc1KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50W2hhbmRsZXJGdW5jdGlvbk5hbWVdLCAnZXhjZXB0aW9uIHRocm93biBieSBkZXZ0b29sIHdoaWxlIGhhbmRsaW5nICVzOiAlcycsIGhhbmRsZXJGdW5jdGlvbk5hbWUsIGUubWVzc2FnZSkgOiB2b2lkIDA7XG4gICAgICAgICAgaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50W2hhbmRsZXJGdW5jdGlvbk5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHZhciBpc1Byb2ZpbGluZyA9IGZhbHNlO1xuICB2YXIgZmx1c2hIaXN0b3J5ID0gW107XG4gIHZhciBjdXJyZW50Rmx1c2hOZXN0aW5nID0gMDtcbiAgdmFyIGN1cnJlbnRGbHVzaE1lYXN1cmVtZW50cyA9IG51bGw7XG4gIHZhciBjdXJyZW50Rmx1c2hTdGFydFRpbWUgPSBudWxsO1xuICB2YXIgY3VycmVudFRpbWVyRGVidWdJRCA9IG51bGw7XG4gIHZhciBjdXJyZW50VGltZXJTdGFydFRpbWUgPSBudWxsO1xuICB2YXIgY3VycmVudFRpbWVyVHlwZSA9IG51bGw7XG4gIGZ1bmN0aW9uIGNsZWFySGlzdG9yeSgpIHtcbiAgICBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sLnB1cmdlVW5tb3VudGVkQ29tcG9uZW50cygpO1xuICAgIFJlYWN0TmF0aXZlT3BlcmF0aW9uSGlzdG9yeURldnRvb2wuY2xlYXJIaXN0b3J5KCk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VHJlZVNuYXBzaG90KHJlZ2lzdGVyZWRJRHMpIHtcbiAgICByZXR1cm4gcmVnaXN0ZXJlZElEcy5yZWR1Y2UoZnVuY3Rpb24odHJlZSwgaWQpIHtcbiAgICAgIHZhciBvd25lcklEID0gUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5nZXRPd25lcklEKGlkKTtcbiAgICAgIHZhciBwYXJlbnRJRCA9IFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuZ2V0UGFyZW50SUQoaWQpO1xuICAgICAgdHJlZVtpZF0gPSB7XG4gICAgICAgIGRpc3BsYXlOYW1lOiBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sLmdldERpc3BsYXlOYW1lKGlkKSxcbiAgICAgICAgdGV4dDogUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5nZXRUZXh0KGlkKSxcbiAgICAgICAgdXBkYXRlQ291bnQ6IFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuZ2V0VXBkYXRlQ291bnQoaWQpLFxuICAgICAgICBjaGlsZElEczogUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5nZXRDaGlsZElEcyhpZCksXG4gICAgICAgIG93bmVySUQ6IG93bmVySUQgfHwgUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5nZXRPd25lcklEKHBhcmVudElEKSxcbiAgICAgICAgcGFyZW50SUQ6IHBhcmVudElEXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHRyZWU7XG4gICAgfSwge30pO1xuICB9XG4gIGZ1bmN0aW9uIHJlc2V0TWVhc3VyZW1lbnRzKCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgcHJldmlvdXNTdGFydFRpbWUgPSBjdXJyZW50Rmx1c2hTdGFydFRpbWU7XG4gICAgICB2YXIgcHJldmlvdXNNZWFzdXJlbWVudHMgPSBjdXJyZW50Rmx1c2hNZWFzdXJlbWVudHMgfHwgW107XG4gICAgICB2YXIgcHJldmlvdXNPcGVyYXRpb25zID0gUmVhY3ROYXRpdmVPcGVyYXRpb25IaXN0b3J5RGV2dG9vbC5nZXRIaXN0b3J5KCk7XG4gICAgICBpZiAoIWlzUHJvZmlsaW5nIHx8IGN1cnJlbnRGbHVzaE5lc3RpbmcgPT09IDApIHtcbiAgICAgICAgY3VycmVudEZsdXNoU3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgY3VycmVudEZsdXNoTWVhc3VyZW1lbnRzID0gbnVsbDtcbiAgICAgICAgY2xlYXJIaXN0b3J5KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2aW91c01lYXN1cmVtZW50cy5sZW5ndGggfHwgcHJldmlvdXNPcGVyYXRpb25zLmxlbmd0aCkge1xuICAgICAgICB2YXIgcmVnaXN0ZXJlZElEcyA9IFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuZ2V0UmVnaXN0ZXJlZElEcygpO1xuICAgICAgICBmbHVzaEhpc3RvcnkucHVzaCh7XG4gICAgICAgICAgZHVyYXRpb246IHBlcmZvcm1hbmNlTm93KCkgLSBwcmV2aW91c1N0YXJ0VGltZSxcbiAgICAgICAgICBtZWFzdXJlbWVudHM6IHByZXZpb3VzTWVhc3VyZW1lbnRzIHx8IFtdLFxuICAgICAgICAgIG9wZXJhdGlvbnM6IHByZXZpb3VzT3BlcmF0aW9ucyB8fCBbXSxcbiAgICAgICAgICB0cmVlU25hcHNob3Q6IGdldFRyZWVTbmFwc2hvdChyZWdpc3RlcmVkSURzKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNsZWFySGlzdG9yeSgpO1xuICAgICAgY3VycmVudEZsdXNoU3RhcnRUaW1lID0gcGVyZm9ybWFuY2VOb3coKTtcbiAgICAgIGN1cnJlbnRGbHVzaE1lYXN1cmVtZW50cyA9IFtdO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjaGVja0RlYnVnSUQoZGVidWdJRCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGRlYnVnSUQsICdSZWFjdERlYnVnVG9vbDogZGVidWdJRCBtYXkgbm90IGJlIGVtcHR5LicpIDogdm9pZCAwO1xuICB9XG4gIHZhciBSZWFjdERlYnVnVG9vbCA9IHtcbiAgICBhZGREZXZ0b29sOiBmdW5jdGlvbihkZXZ0b29sKSB7XG4gICAgICBldmVudEhhbmRsZXJzLnB1c2goZGV2dG9vbCk7XG4gICAgfSxcbiAgICByZW1vdmVEZXZ0b29sOiBmdW5jdGlvbihkZXZ0b29sKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50SGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGV2ZW50SGFuZGxlcnNbaV0gPT09IGRldnRvb2wpIHtcbiAgICAgICAgICBldmVudEhhbmRsZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGJlZ2luUHJvZmlsaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChpc1Byb2ZpbGluZykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpc1Byb2ZpbGluZyA9IHRydWU7XG4gICAgICAgIGZsdXNoSGlzdG9yeS5sZW5ndGggPSAwO1xuICAgICAgICByZXNldE1lYXN1cmVtZW50cygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZW5kUHJvZmlsaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmICghaXNQcm9maWxpbmcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaXNQcm9maWxpbmcgPSBmYWxzZTtcbiAgICAgICAgcmVzZXRNZWFzdXJlbWVudHMoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldEZsdXNoSGlzdG9yeTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICByZXR1cm4gZmx1c2hIaXN0b3J5O1xuICAgICAgfVxuICAgIH0sXG4gICAgb25CZWdpbkZsdXNoOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGN1cnJlbnRGbHVzaE5lc3RpbmcrKztcbiAgICAgICAgcmVzZXRNZWFzdXJlbWVudHMoKTtcbiAgICAgIH1cbiAgICAgIGVtaXRFdmVudCgnb25CZWdpbkZsdXNoJyk7XG4gICAgfSxcbiAgICBvbkVuZEZsdXNoOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHJlc2V0TWVhc3VyZW1lbnRzKCk7XG4gICAgICAgIGN1cnJlbnRGbHVzaE5lc3RpbmctLTtcbiAgICAgIH1cbiAgICAgIGVtaXRFdmVudCgnb25FbmRGbHVzaCcpO1xuICAgIH0sXG4gICAgb25CZWdpbkxpZmVDeWNsZVRpbWVyOiBmdW5jdGlvbihkZWJ1Z0lELCB0aW1lclR5cGUpIHtcbiAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgIGVtaXRFdmVudCgnb25CZWdpbkxpZmVDeWNsZVRpbWVyJywgZGVidWdJRCwgdGltZXJUeXBlKTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChpc1Byb2ZpbGluZyAmJiBjdXJyZW50Rmx1c2hOZXN0aW5nID4gMCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFjdXJyZW50VGltZXJUeXBlLCAnVGhlcmUgaXMgYW4gaW50ZXJuYWwgZXJyb3IgaW4gdGhlIFJlYWN0IHBlcmZvcm1hbmNlIG1lYXN1cmVtZW50IGNvZGUuICcgKyAnRGlkIG5vdCBleHBlY3QgJXMgdGltZXIgdG8gc3RhcnQgd2hpbGUgJXMgdGltZXIgaXMgc3RpbGwgaW4gJyArICdwcm9ncmVzcyBmb3IgJXMgaW5zdGFuY2UuJywgdGltZXJUeXBlLCBjdXJyZW50VGltZXJUeXBlIHx8ICdubycsIGRlYnVnSUQgPT09IGN1cnJlbnRUaW1lckRlYnVnSUQgPyAndGhlIHNhbWUnIDogJ2Fub3RoZXInKSA6IHZvaWQgMDtcbiAgICAgICAgICBjdXJyZW50VGltZXJTdGFydFRpbWUgPSBwZXJmb3JtYW5jZU5vdygpO1xuICAgICAgICAgIGN1cnJlbnRUaW1lckRlYnVnSUQgPSBkZWJ1Z0lEO1xuICAgICAgICAgIGN1cnJlbnRUaW1lclR5cGUgPSB0aW1lclR5cGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG9uRW5kTGlmZUN5Y2xlVGltZXI6IGZ1bmN0aW9uKGRlYnVnSUQsIHRpbWVyVHlwZSkge1xuICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGlzUHJvZmlsaW5nICYmIGN1cnJlbnRGbHVzaE5lc3RpbmcgPiAwKSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoY3VycmVudFRpbWVyVHlwZSA9PT0gdGltZXJUeXBlLCAnVGhlcmUgaXMgYW4gaW50ZXJuYWwgZXJyb3IgaW4gdGhlIFJlYWN0IHBlcmZvcm1hbmNlIG1lYXN1cmVtZW50IGNvZGUuICcgKyAnV2UgZGlkIG5vdCBleHBlY3QgJXMgdGltZXIgdG8gc3RvcCB3aGlsZSAlcyB0aW1lciBpcyBzdGlsbCBpbiAnICsgJ3Byb2dyZXNzIGZvciAlcyBpbnN0YW5jZS4gUGxlYXNlIHJlcG9ydCB0aGlzIGFzIGEgYnVnIGluIFJlYWN0LicsIHRpbWVyVHlwZSwgY3VycmVudFRpbWVyVHlwZSB8fCAnbm8nLCBkZWJ1Z0lEID09PSBjdXJyZW50VGltZXJEZWJ1Z0lEID8gJ3RoZSBzYW1lJyA6ICdhbm90aGVyJykgOiB2b2lkIDA7XG4gICAgICAgICAgY3VycmVudEZsdXNoTWVhc3VyZW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgdGltZXJUeXBlOiB0aW1lclR5cGUsXG4gICAgICAgICAgICBpbnN0YW5jZUlEOiBkZWJ1Z0lELFxuICAgICAgICAgICAgZHVyYXRpb246IHBlcmZvcm1hbmNlTm93KCkgLSBjdXJyZW50VGltZXJTdGFydFRpbWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjdXJyZW50VGltZXJTdGFydFRpbWUgPSBudWxsO1xuICAgICAgICAgIGN1cnJlbnRUaW1lckRlYnVnSUQgPSBudWxsO1xuICAgICAgICAgIGN1cnJlbnRUaW1lclR5cGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbWl0RXZlbnQoJ29uRW5kTGlmZUN5Y2xlVGltZXInLCBkZWJ1Z0lELCB0aW1lclR5cGUpO1xuICAgIH0sXG4gICAgb25CZWdpblJlY29uY2lsZXJUaW1lcjogZnVuY3Rpb24oZGVidWdJRCwgdGltZXJUeXBlKSB7XG4gICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICBlbWl0RXZlbnQoJ29uQmVnaW5SZWNvbmNpbGVyVGltZXInLCBkZWJ1Z0lELCB0aW1lclR5cGUpO1xuICAgIH0sXG4gICAgb25FbmRSZWNvbmNpbGVyVGltZXI6IGZ1bmN0aW9uKGRlYnVnSUQsIHRpbWVyVHlwZSkge1xuICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgZW1pdEV2ZW50KCdvbkVuZFJlY29uY2lsZXJUaW1lcicsIGRlYnVnSUQsIHRpbWVyVHlwZSk7XG4gICAgfSxcbiAgICBvbkJlZ2luUHJvY2Vzc2luZ0NoaWxkQ29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICBlbWl0RXZlbnQoJ29uQmVnaW5Qcm9jZXNzaW5nQ2hpbGRDb250ZXh0Jyk7XG4gICAgfSxcbiAgICBvbkVuZFByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgZW1pdEV2ZW50KCdvbkVuZFByb2Nlc3NpbmdDaGlsZENvbnRleHQnKTtcbiAgICB9LFxuICAgIG9uTmF0aXZlT3BlcmF0aW9uOiBmdW5jdGlvbihkZWJ1Z0lELCB0eXBlLCBwYXlsb2FkKSB7XG4gICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICBlbWl0RXZlbnQoJ29uTmF0aXZlT3BlcmF0aW9uJywgZGVidWdJRCwgdHlwZSwgcGF5bG9hZCk7XG4gICAgfSxcbiAgICBvblNldFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIGVtaXRFdmVudCgnb25TZXRTdGF0ZScpO1xuICAgIH0sXG4gICAgb25TZXREaXNwbGF5TmFtZTogZnVuY3Rpb24oZGVidWdJRCwgZGlzcGxheU5hbWUpIHtcbiAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgIGVtaXRFdmVudCgnb25TZXREaXNwbGF5TmFtZScsIGRlYnVnSUQsIGRpc3BsYXlOYW1lKTtcbiAgICB9LFxuICAgIG9uU2V0Q2hpbGRyZW46IGZ1bmN0aW9uKGRlYnVnSUQsIGNoaWxkRGVidWdJRHMpIHtcbiAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgIGVtaXRFdmVudCgnb25TZXRDaGlsZHJlbicsIGRlYnVnSUQsIGNoaWxkRGVidWdJRHMpO1xuICAgIH0sXG4gICAgb25TZXRPd25lcjogZnVuY3Rpb24oZGVidWdJRCwgb3duZXJEZWJ1Z0lEKSB7XG4gICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICBlbWl0RXZlbnQoJ29uU2V0T3duZXInLCBkZWJ1Z0lELCBvd25lckRlYnVnSUQpO1xuICAgIH0sXG4gICAgb25TZXRUZXh0OiBmdW5jdGlvbihkZWJ1Z0lELCB0ZXh0KSB7XG4gICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICBlbWl0RXZlbnQoJ29uU2V0VGV4dCcsIGRlYnVnSUQsIHRleHQpO1xuICAgIH0sXG4gICAgb25Nb3VudFJvb3RDb21wb25lbnQ6IGZ1bmN0aW9uKGRlYnVnSUQpIHtcbiAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgIGVtaXRFdmVudCgnb25Nb3VudFJvb3RDb21wb25lbnQnLCBkZWJ1Z0lEKTtcbiAgICB9LFxuICAgIG9uTW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKGRlYnVnSUQpIHtcbiAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgIGVtaXRFdmVudCgnb25Nb3VudENvbXBvbmVudCcsIGRlYnVnSUQpO1xuICAgIH0sXG4gICAgb25VcGRhdGVDb21wb25lbnQ6IGZ1bmN0aW9uKGRlYnVnSUQpIHtcbiAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgIGVtaXRFdmVudCgnb25VcGRhdGVDb21wb25lbnQnLCBkZWJ1Z0lEKTtcbiAgICB9LFxuICAgIG9uVW5tb3VudENvbXBvbmVudDogZnVuY3Rpb24oZGVidWdJRCkge1xuICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgZW1pdEV2ZW50KCdvblVubW91bnRDb21wb25lbnQnLCBkZWJ1Z0lEKTtcbiAgICB9XG4gIH07XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmFyIFJlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2wgPSByZXF1aXJlKCcuL1JlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2wnKTtcbiAgICB2YXIgUmVhY3ROYXRpdmVPcGVyYXRpb25IaXN0b3J5RGV2dG9vbCA9IHJlcXVpcmUoJy4vUmVhY3ROYXRpdmVPcGVyYXRpb25IaXN0b3J5RGV2dG9vbCcpO1xuICAgIHZhciBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sID0gcmVxdWlyZSgnLi9SZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sJyk7XG4gICAgUmVhY3REZWJ1Z1Rvb2wuYWRkRGV2dG9vbChSZWFjdEludmFsaWRTZXRTdGF0ZVdhcm5pbmdEZXZUb29sKTtcbiAgICBSZWFjdERlYnVnVG9vbC5hZGREZXZ0b29sKFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wpO1xuICAgIFJlYWN0RGVidWdUb29sLmFkZERldnRvb2woUmVhY3ROYXRpdmVPcGVyYXRpb25IaXN0b3J5RGV2dG9vbCk7XG4gICAgdmFyIHVybCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiB3aW5kb3cubG9jYXRpb24uaHJlZiB8fCAnJztcbiAgICBpZiAoL1s/Jl1yZWFjdF9wZXJmXFxiLy50ZXN0KHVybCkpIHtcbiAgICAgIFJlYWN0RGVidWdUb29sLmJlZ2luUHJvZmlsaW5nKCk7XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3REZWJ1Z1Rvb2w7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgUmVhY3REZWJ1Z1Rvb2wgPSByZXF1aXJlKCcuL1JlYWN0RGVidWdUb29sJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHtkZWJ1Z1Rvb2w6IFJlYWN0RGVidWdUb29sfTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSByZXF1aXJlKCcuL1JlYWN0Tm9vcFVwZGF0ZVF1ZXVlJyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9jYW5EZWZpbmVQcm9wZXJ0eScpO1xuICB2YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eU9iamVjdCcpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICBmdW5jdGlvbiBSZWFjdENvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gIH1cbiAgUmVhY3RDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB7fTtcbiAgUmVhY3RDb21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24ocGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICAgICEodHlwZW9mIHBhcnRpYWxTdGF0ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHBhcnRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyB8fCBwYXJ0aWFsU3RhdGUgPT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnc2V0U3RhdGUoLi4uKTogdGFrZXMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcyB0byB1cGRhdGUgb3IgYSAnICsgJ2Z1bmN0aW9uIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldFN0YXRlKCk7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhwYXJ0aWFsU3RhdGUgIT0gbnVsbCwgJ3NldFN0YXRlKC4uLik6IFlvdSBwYXNzZWQgYW4gdW5kZWZpbmVkIG9yIG51bGwgc3RhdGUgb2JqZWN0OyAnICsgJ2luc3RlYWQsIHVzZSBmb3JjZVVwZGF0ZSgpLicpIDogdm9pZCAwO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrLCAnc2V0U3RhdGUnKTtcbiAgICB9XG4gIH07XG4gIFJlYWN0Q29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlQ2FsbGJhY2sodGhpcywgY2FsbGJhY2ssICdmb3JjZVVwZGF0ZScpO1xuICAgIH1cbiAgfTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgZGVwcmVjYXRlZEFQSXMgPSB7XG4gICAgICBpc01vdW50ZWQ6IFsnaXNNb3VudGVkJywgJ0luc3RlYWQsIG1ha2Ugc3VyZSB0byBjbGVhbiB1cCBzdWJzY3JpcHRpb25zIGFuZCBwZW5kaW5nIHJlcXVlc3RzIGluICcgKyAnY29tcG9uZW50V2lsbFVubW91bnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuJ10sXG4gICAgICByZXBsYWNlU3RhdGU6IFsncmVwbGFjZVN0YXRlJywgJ1JlZmFjdG9yIHlvdXIgY29kZSB0byB1c2Ugc2V0U3RhdGUgaW5zdGVhZCAoc2VlICcgKyAnaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zMjM2KS4nXVxuICAgIH07XG4gICAgdmFyIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyA9IGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZm8pIHtcbiAgICAgIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhY3RDb21wb25lbnQucHJvdG90eXBlLCBtZXRob2ROYW1lLCB7Z2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKSBpcyBkZXByZWNhdGVkIGluIHBsYWluIEphdmFTY3JpcHQgUmVhY3QgY2xhc3Nlcy4gJXMnLCBpbmZvWzBdLCBpbmZvWzFdKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfX0pO1xuICAgICAgfVxuICAgIH07XG4gICAgZm9yICh2YXIgZm5OYW1lIGluIGRlcHJlY2F0ZWRBUElzKSB7XG4gICAgICBpZiAoZGVwcmVjYXRlZEFQSXMuaGFzT3duUHJvcGVydHkoZm5OYW1lKSkge1xuICAgICAgICBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcoZm5OYW1lLCBkZXByZWNhdGVkQVBJc1tmbk5hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdENvbXBvbmVudDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIGZ1bmN0aW9uIHdhcm5URFoocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclcyguLi4pOiBDYW4gb25seSB1cGRhdGUgYSBtb3VudGVkIG9yIG1vdW50aW5nIGNvbXBvbmVudC4gJyArICdUaGlzIHVzdWFsbHkgbWVhbnMgeW91IGNhbGxlZCAlcygpIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuICcgKyAnVGhpcyBpcyBhIG5vLW9wLiBQbGVhc2UgY2hlY2sgdGhlIGNvZGUgZm9yIHRoZSAlcyBjb21wb25lbnQuJywgY2FsbGVyTmFtZSwgY2FsbGVyTmFtZSwgcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3IgJiYgcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJycpIDogdm9pZCAwO1xuICAgIH1cbiAgfVxuICB2YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSB7XG4gICAgaXNNb3VudGVkOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgZW5xdWV1ZUNhbGxiYWNrOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSwgY2FsbGJhY2spIHt9LFxuICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UpIHtcbiAgICAgIHdhcm5URFoocHVibGljSW5zdGFuY2UsICdmb3JjZVVwZGF0ZScpO1xuICAgIH0sXG4gICAgZW5xdWV1ZVJlcGxhY2VTdGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIGNvbXBsZXRlU3RhdGUpIHtcbiAgICAgIHdhcm5URFoocHVibGljSW5zdGFuY2UsICdyZXBsYWNlU3RhdGUnKTtcbiAgICB9LFxuICAgIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSkge1xuICAgICAgd2FyblREWihwdWJsaWNJbnN0YW5jZSwgJ3NldFN0YXRlJyk7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgZW1wdHlPYmplY3QgPSB7fTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBPYmplY3QuZnJlZXplKGVtcHR5T2JqZWN0KTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGVtcHR5T2JqZWN0O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKi9cblxuLyoqXG4gKiBBbGxvd3MgZXh0cmFjdGlvbiBvZiBhIG1pbmlmaWVkIGtleS4gTGV0J3MgdGhlIGJ1aWxkIHN5c3RlbSBtaW5pZnkga2V5c1xuICogd2l0aG91dCBsb3NpbmcgdGhlIGFiaWxpdHkgdG8gZHluYW1pY2FsbHkgdXNlIGtleSBzdHJpbmdzIGFzIHZhbHVlc1xuICogdGhlbXNlbHZlcy4gUGFzcyBpbiBhbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBrZXkvdmFsIHBhaXIgYW5kIGl0IHdpbGwgcmV0dXJuXG4gKiB5b3UgdGhlIHN0cmluZyBrZXkgb2YgdGhhdCBzaW5nbGUgcmVjb3JkLiBTdXBwb3NlIHlvdSB3YW50IHRvIGdyYWIgdGhlXG4gKiB2YWx1ZSBmb3IgYSBrZXkgJ2NsYXNzTmFtZScgaW5zaWRlIG9mIGFuIG9iamVjdC4gS2V5L3ZhbCBtaW5pZmljYXRpb24gbWF5XG4gKiBoYXZlIGFsaWFzZWQgdGhhdCBrZXkgdG8gYmUgJ3hhMTInLiBrZXlPZih7Y2xhc3NOYW1lOiBudWxsfSkgd2lsbCByZXR1cm5cbiAqICd4YTEyJyBpbiB0aGF0IGNhc2UuIFJlc29sdmUga2V5cyB5b3Ugd2FudCB0byB1c2Ugb25jZSBhdCBzdGFydHVwIHRpbWUsIHRoZW5cbiAqIHJldXNlIHRob3NlIHJlc29sdXRpb25zLlxuICovXG52YXIga2V5T2YgPSBmdW5jdGlvbiAob25lS2V5T2JqKSB7XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIG9uZUtleU9iaikge1xuICAgIGlmICghb25lS2V5T2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlPZjsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG4gIHZhciBSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vUmVhY3RDb21wb25lbnQnKTtcbiAgdmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0gcmVxdWlyZSgnLi9SZWFjdFByb3BUeXBlTG9jYXRpb25zJyk7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9IHJlcXVpcmUoJy4vUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMnKTtcbiAgdmFyIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0gcmVxdWlyZSgnLi9SZWFjdE5vb3BVcGRhdGVRdWV1ZScpO1xuICB2YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eU9iamVjdCcpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBrZXlNaXJyb3IgPSByZXF1aXJlKCdmYmpzL2xpYi9rZXlNaXJyb3InKTtcbiAgdmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBNSVhJTlNfS0VZID0ga2V5T2Yoe21peGluczogbnVsbH0pO1xuICB2YXIgU3BlY1BvbGljeSA9IGtleU1pcnJvcih7XG4gICAgREVGSU5FX09OQ0U6IG51bGwsXG4gICAgREVGSU5FX01BTlk6IG51bGwsXG4gICAgT1ZFUlJJREVfQkFTRTogbnVsbCxcbiAgICBERUZJTkVfTUFOWV9NRVJHRUQ6IG51bGxcbiAgfSk7XG4gIHZhciBpbmplY3RlZE1peGlucyA9IFtdO1xuICB2YXIgUmVhY3RDbGFzc0ludGVyZmFjZSA9IHtcbiAgICBtaXhpbnM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgc3RhdGljczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICBwcm9wVHlwZXM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgY29udGV4dFR5cGVzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgIGNoaWxkQ29udGV4dFR5cGVzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgIGdldERlZmF1bHRQcm9wczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQsXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCxcbiAgICBnZXRDaGlsZENvbnRleHQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VELFxuICAgIHJlbmRlcjogU3BlY1BvbGljeS5ERUZJTkVfT05DRSxcbiAgICBjb21wb25lbnRXaWxsTW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgY29tcG9uZW50RGlkTW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGU6IFNwZWNQb2xpY3kuREVGSU5FX09OQ0UsXG4gICAgY29tcG9uZW50V2lsbFVwZGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICBjb21wb25lbnREaWRVcGRhdGU6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgdXBkYXRlQ29tcG9uZW50OiBTcGVjUG9saWN5Lk9WRVJSSURFX0JBU0VcbiAgfTtcbiAgdmFyIFJFU0VSVkVEX1NQRUNfS0VZUyA9IHtcbiAgICBkaXNwbGF5TmFtZTogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBDb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICAgIH0sXG4gICAgbWl4aW5zOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgbWl4aW5zKSB7XG4gICAgICBpZiAobWl4aW5zKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIG1peGluc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNoaWxkQ29udGV4dFR5cGVzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgY2hpbGRDb250ZXh0VHlwZXMpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgY2hpbGRDb250ZXh0VHlwZXMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY2hpbGRDb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIENvbnN0cnVjdG9yLmNoaWxkQ29udGV4dFR5cGVzID0gX2Fzc2lnbih7fSwgQ29uc3RydWN0b3IuY2hpbGRDb250ZXh0VHlwZXMsIGNoaWxkQ29udGV4dFR5cGVzKTtcbiAgICB9LFxuICAgIGNvbnRleHRUeXBlczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGNvbnRleHRUeXBlcykge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCBjb250ZXh0VHlwZXMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY29udGV4dCk7XG4gICAgICB9XG4gICAgICBDb25zdHJ1Y3Rvci5jb250ZXh0VHlwZXMgPSBfYXNzaWduKHt9LCBDb25zdHJ1Y3Rvci5jb250ZXh0VHlwZXMsIGNvbnRleHRUeXBlcyk7XG4gICAgfSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBnZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgIGlmIChDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzID0gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24oQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLCBnZXREZWZhdWx0UHJvcHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzID0gZ2V0RGVmYXVsdFByb3BzO1xuICAgICAgfVxuICAgIH0sXG4gICAgcHJvcFR5cGVzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgcHJvcFR5cGVzKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YWxpZGF0ZVR5cGVEZWYoQ29uc3RydWN0b3IsIHByb3BUeXBlcywgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5wcm9wKTtcbiAgICAgIH1cbiAgICAgIENvbnN0cnVjdG9yLnByb3BUeXBlcyA9IF9hc3NpZ24oe30sIENvbnN0cnVjdG9yLnByb3BUeXBlcywgcHJvcFR5cGVzKTtcbiAgICB9LFxuICAgIHN0YXRpY3M6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBzdGF0aWNzKSB7XG4gICAgICBtaXhTdGF0aWNTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3RhdGljcyk7XG4gICAgfSxcbiAgICBhdXRvYmluZDogZnVuY3Rpb24oKSB7fVxuICB9O1xuICBmdW5jdGlvbiB2YWxpZGF0ZVR5cGVEZWYoQ29uc3RydWN0b3IsIHR5cGVEZWYsIGxvY2F0aW9uKSB7XG4gICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gdHlwZURlZikge1xuICAgICAgaWYgKHR5cGVEZWYuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHR5cGVvZiB0eXBlRGVmW3Byb3BOYW1lXSA9PT0gJ2Z1bmN0aW9uJywgJyVzOiAlcyB0eXBlIGAlc2AgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gJyArICdSZWFjdC5Qcm9wVHlwZXMuJywgQ29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJ1JlYWN0Q2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdmFsaWRhdGVNZXRob2RPdmVycmlkZShpc0FscmVhZHlEZWZpbmVkLCBuYW1lKSB7XG4gICAgdmFyIHNwZWNQb2xpY3kgPSBSZWFjdENsYXNzSW50ZXJmYWNlLmhhc093blByb3BlcnR5KG5hbWUpID8gUmVhY3RDbGFzc0ludGVyZmFjZVtuYW1lXSA6IG51bGw7XG4gICAgaWYgKFJlYWN0Q2xhc3NNaXhpbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgIShzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5Lk9WRVJSSURFX0JBU0UpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3NJbnRlcmZhY2U6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBvdmVycmlkZSAnICsgJ2Alc2AgZnJvbSB5b3VyIGNsYXNzIHNwZWNpZmljYXRpb24uIEVuc3VyZSB0aGF0IHlvdXIgbWV0aG9kIG5hbWVzICcgKyAnZG8gbm90IG92ZXJsYXAgd2l0aCBSZWFjdCBtZXRob2RzLicsIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKGlzQWxyZWFkeURlZmluZWQpIHtcbiAgICAgICEoc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWSB8fCBzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzc0ludGVyZmFjZTogWW91IGFyZSBhdHRlbXB0aW5nIHRvIGRlZmluZSAnICsgJ2Alc2Agb24geW91ciBjb21wb25lbnQgbW9yZSB0aGFuIG9uY2UuIFRoaXMgY29uZmxpY3QgbWF5IGJlIGR1ZSAnICsgJ3RvIGEgbWl4aW4uJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBtaXhTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3BlYykge1xuICAgIGlmICghc3BlYykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAhKHR5cGVvZiBzcGVjICE9PSAnZnVuY3Rpb24nKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3VcXCdyZSBhdHRlbXB0aW5nIHRvICcgKyAndXNlIGEgY29tcG9uZW50IGNsYXNzIG9yIGZ1bmN0aW9uIGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgJyArICdyZWd1bGFyIG9iamVjdC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgISFSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoc3BlYykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzczogWW91XFwncmUgYXR0ZW1wdGluZyB0byAnICsgJ3VzZSBhIGNvbXBvbmVudCBhcyBhIG1peGluLiBJbnN0ZWFkLCBqdXN0IHVzZSBhIHJlZ3VsYXIgb2JqZWN0LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgcHJvdG8gPSBDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gICAgdmFyIGF1dG9CaW5kUGFpcnMgPSBwcm90by5fX3JlYWN0QXV0b0JpbmRQYWlycztcbiAgICBpZiAoc3BlYy5oYXNPd25Qcm9wZXJ0eShNSVhJTlNfS0VZKSkge1xuICAgICAgUkVTRVJWRURfU1BFQ19LRVlTLm1peGlucyhDb25zdHJ1Y3Rvciwgc3BlYy5taXhpbnMpO1xuICAgIH1cbiAgICBmb3IgKHZhciBuYW1lIGluIHNwZWMpIHtcbiAgICAgIGlmICghc3BlYy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChuYW1lID09PSBNSVhJTlNfS0VZKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BlcnR5ID0gc3BlY1tuYW1lXTtcbiAgICAgIHZhciBpc0FscmVhZHlEZWZpbmVkID0gcHJvdG8uaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgICB2YWxpZGF0ZU1ldGhvZE92ZXJyaWRlKGlzQWxyZWFkeURlZmluZWQsIG5hbWUpO1xuICAgICAgaWYgKFJFU0VSVkVEX1NQRUNfS0VZUy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBSRVNFUlZFRF9TUEVDX0tFWVNbbmFtZV0oQ29uc3RydWN0b3IsIHByb3BlcnR5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpc1JlYWN0Q2xhc3NNZXRob2QgPSBSZWFjdENsYXNzSW50ZXJmYWNlLmhhc093blByb3BlcnR5KG5hbWUpO1xuICAgICAgICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgdmFyIHNob3VsZEF1dG9CaW5kID0gaXNGdW5jdGlvbiAmJiAhaXNSZWFjdENsYXNzTWV0aG9kICYmICFpc0FscmVhZHlEZWZpbmVkICYmIHNwZWMuYXV0b2JpbmQgIT09IGZhbHNlO1xuICAgICAgICBpZiAoc2hvdWxkQXV0b0JpbmQpIHtcbiAgICAgICAgICBhdXRvQmluZFBhaXJzLnB1c2gobmFtZSwgcHJvcGVydHkpO1xuICAgICAgICAgIHByb3RvW25hbWVdID0gcHJvcGVydHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGlzQWxyZWFkeURlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBzcGVjUG9saWN5ID0gUmVhY3RDbGFzc0ludGVyZmFjZVtuYW1lXTtcbiAgICAgICAgICAgICEoaXNSZWFjdENsYXNzTWV0aG9kICYmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCB8fCBzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzczogVW5leHBlY3RlZCBzcGVjIHBvbGljeSAlcyBmb3Iga2V5ICVzICcgKyAnd2hlbiBtaXhpbmcgaW4gY29tcG9uZW50IHNwZWNzLicsIHNwZWNQb2xpY3ksIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCkge1xuICAgICAgICAgICAgICBwcm90b1tuYW1lXSA9IGNyZWF0ZU1lcmdlZFJlc3VsdEZ1bmN0aW9uKHByb3RvW25hbWVdLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTlkpIHtcbiAgICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBjcmVhdGVDaGFpbmVkRnVuY3Rpb24ocHJvdG9bbmFtZV0sIHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgPT09ICdmdW5jdGlvbicgJiYgc3BlYy5kaXNwbGF5TmFtZSkge1xuICAgICAgICAgICAgICAgIHByb3RvW25hbWVdLmRpc3BsYXlOYW1lID0gc3BlYy5kaXNwbGF5TmFtZSArICdfJyArIG5hbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWl4U3RhdGljU3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHN0YXRpY3MpIHtcbiAgICBpZiAoIXN0YXRpY3MpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yICh2YXIgbmFtZSBpbiBzdGF0aWNzKSB7XG4gICAgICB2YXIgcHJvcGVydHkgPSBzdGF0aWNzW25hbWVdO1xuICAgICAgaWYgKCFzdGF0aWNzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIGlzUmVzZXJ2ZWQgPSBuYW1lIGluIFJFU0VSVkVEX1NQRUNfS0VZUztcbiAgICAgICEhaXNSZXNlcnZlZCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gZGVmaW5lIGEgcmVzZXJ2ZWQgJyArICdwcm9wZXJ0eSwgYCVzYCwgdGhhdCBzaG91bGRuXFwndCBiZSBvbiB0aGUgXCJzdGF0aWNzXCIga2V5LiBEZWZpbmUgaXQgJyArICdhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBpbnN0ZWFkOyBpdCB3aWxsIHN0aWxsIGJlIGFjY2Vzc2libGUgb24gdGhlICcgKyAnY29uc3RydWN0b3IuJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIGlzSW5oZXJpdGVkID0gbmFtZSBpbiBDb25zdHJ1Y3RvcjtcbiAgICAgICEhaXNJbmhlcml0ZWQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzczogWW91IGFyZSBhdHRlbXB0aW5nIHRvIGRlZmluZSAnICsgJ2Alc2Agb24geW91ciBjb21wb25lbnQgbW9yZSB0aGFuIG9uY2UuIFRoaXMgY29uZmxpY3QgbWF5IGJlICcgKyAnZHVlIHRvIGEgbWl4aW4uJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgQ29uc3RydWN0b3JbbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhvbmUsIHR3bykge1xuICAgICEob25lICYmIHR3byAmJiB0eXBlb2Ygb25lID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdHdvID09PSAnb2JqZWN0JykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cygpOiBDYW5ub3QgbWVyZ2Ugbm9uLW9iamVjdHMuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGZvciAodmFyIGtleSBpbiB0d28pIHtcbiAgICAgIGlmICh0d28uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAhKG9uZVtrZXldID09PSB1bmRlZmluZWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ21lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoKTogJyArICdUcmllZCB0byBtZXJnZSB0d28gb2JqZWN0cyB3aXRoIHRoZSBzYW1lIGtleTogYCVzYC4gVGhpcyBjb25mbGljdCAnICsgJ21heSBiZSBkdWUgdG8gYSBtaXhpbjsgaW4gcGFydGljdWxhciwgdGhpcyBtYXkgYmUgY2F1c2VkIGJ5IHR3byAnICsgJ2dldEluaXRpYWxTdGF0ZSgpIG9yIGdldERlZmF1bHRQcm9wcygpIG1ldGhvZHMgcmV0dXJuaW5nIG9iamVjdHMgJyArICd3aXRoIGNsYXNoaW5nIGtleXMuJywga2V5KSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIG9uZVtrZXldID0gdHdvW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvbmU7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24ob25lLCB0d28pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkUmVzdWx0KCkge1xuICAgICAgdmFyIGEgPSBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHZhciBiID0gdHdvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBpZiAoYSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBiO1xuICAgICAgfSBlbHNlIGlmIChiID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9XG4gICAgICB2YXIgYyA9IHt9O1xuICAgICAgbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhjLCBhKTtcbiAgICAgIG1lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoYywgYik7XG4gICAgICByZXR1cm4gYztcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUNoYWluZWRGdW5jdGlvbihvbmUsIHR3bykge1xuICAgIHJldHVybiBmdW5jdGlvbiBjaGFpbmVkRnVuY3Rpb24oKSB7XG4gICAgICBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHR3by5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gYmluZEF1dG9CaW5kTWV0aG9kKGNvbXBvbmVudCwgbWV0aG9kKSB7XG4gICAgdmFyIGJvdW5kTWV0aG9kID0gbWV0aG9kLmJpbmQoY29tcG9uZW50KTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQ29udGV4dCA9IGNvbXBvbmVudDtcbiAgICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZE1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IG51bGw7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZTtcbiAgICAgIHZhciBfYmluZCA9IGJvdW5kTWV0aG9kLmJpbmQ7XG4gICAgICBib3VuZE1ldGhvZC5iaW5kID0gZnVuY3Rpb24obmV3VGhpcykge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksXG4gICAgICAgICAgICBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdUaGlzICE9PSBjb21wb25lbnQgJiYgbmV3VGhpcyAhPT0gbnVsbCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYmluZCgpOiBSZWFjdCBjb21wb25lbnQgbWV0aG9kcyBtYXkgb25seSBiZSBib3VuZCB0byB0aGUgJyArICdjb21wb25lbnQgaW5zdGFuY2UuIFNlZSAlcycsIGNvbXBvbmVudE5hbWUpIDogdm9pZCAwO1xuICAgICAgICB9IGVsc2UgaWYgKCFhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYmluZCgpOiBZb3UgYXJlIGJpbmRpbmcgYSBjb21wb25lbnQgbWV0aG9kIHRvIHRoZSBjb21wb25lbnQuICcgKyAnUmVhY3QgZG9lcyB0aGlzIGZvciB5b3UgYXV0b21hdGljYWxseSBpbiBhIGhpZ2gtcGVyZm9ybWFuY2UgJyArICd3YXksIHNvIHlvdSBjYW4gc2FmZWx5IHJlbW92ZSB0aGlzIGNhbGwuIFNlZSAlcycsIGNvbXBvbmVudE5hbWUpIDogdm9pZCAwO1xuICAgICAgICAgIHJldHVybiBib3VuZE1ldGhvZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVib3VuZE1ldGhvZCA9IF9iaW5kLmFwcGx5KGJvdW5kTWV0aG9kLCBhcmd1bWVudHMpO1xuICAgICAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZENvbnRleHQgPSBjb21wb25lbnQ7XG4gICAgICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kTWV0aG9kID0gbWV0aG9kO1xuICAgICAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IGFyZ3M7XG4gICAgICAgIHJldHVybiByZWJvdW5kTWV0aG9kO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGJvdW5kTWV0aG9kO1xuICB9XG4gIGZ1bmN0aW9uIGJpbmRBdXRvQmluZE1ldGhvZHMoY29tcG9uZW50KSB7XG4gICAgdmFyIHBhaXJzID0gY29tcG9uZW50Ll9fcmVhY3RBdXRvQmluZFBhaXJzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIHZhciBhdXRvQmluZEtleSA9IHBhaXJzW2ldO1xuICAgICAgdmFyIG1ldGhvZCA9IHBhaXJzW2kgKyAxXTtcbiAgICAgIGNvbXBvbmVudFthdXRvQmluZEtleV0gPSBiaW5kQXV0b0JpbmRNZXRob2QoY29tcG9uZW50LCBtZXRob2QpO1xuICAgIH1cbiAgfVxuICB2YXIgUmVhY3RDbGFzc01peGluID0ge1xuICAgIHJlcGxhY2VTdGF0ZTogZnVuY3Rpb24obmV3U3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVJlcGxhY2VTdGF0ZSh0aGlzLCBuZXdTdGF0ZSk7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVDYWxsYmFjayh0aGlzLCBjYWxsYmFjaywgJ3JlcGxhY2VTdGF0ZScpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXNNb3VudGVkOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZXIuaXNNb3VudGVkKHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgdmFyIFJlYWN0Q2xhc3NDb21wb25lbnQgPSBmdW5jdGlvbigpIHt9O1xuICBfYXNzaWduKFJlYWN0Q2xhc3NDb21wb25lbnQucHJvdG90eXBlLCBSZWFjdENvbXBvbmVudC5wcm90b3R5cGUsIFJlYWN0Q2xhc3NNaXhpbik7XG4gIHZhciBSZWFjdENsYXNzID0ge1xuICAgIGNyZWF0ZUNsYXNzOiBmdW5jdGlvbihzcGVjKSB7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSBmdW5jdGlvbihwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHRoaXMgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvciwgJ1NvbWV0aGluZyBpcyBjYWxsaW5nIGEgUmVhY3QgY29tcG9uZW50IGRpcmVjdGx5LiBVc2UgYSBmYWN0b3J5IG9yICcgKyAnSlNYIGluc3RlYWQuIFNlZTogaHR0cHM6Ly9mYi5tZS9yZWFjdC1sZWdhY3lmYWN0b3J5JykgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX19yZWFjdEF1dG9CaW5kUGFpcnMubGVuZ3RoKSB7XG4gICAgICAgICAgYmluZEF1dG9CaW5kTWV0aG9kcyh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgdmFyIGluaXRpYWxTdGF0ZSA9IHRoaXMuZ2V0SW5pdGlhbFN0YXRlID8gdGhpcy5nZXRJbml0aWFsU3RhdGUoKSA6IG51bGw7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGluaXRpYWxTdGF0ZSA9PT0gdW5kZWZpbmVkICYmIHRoaXMuZ2V0SW5pdGlhbFN0YXRlLl9pc01vY2tGdW5jdGlvbikge1xuICAgICAgICAgICAgaW5pdGlhbFN0YXRlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgISh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpbml0aWFsU3RhdGUpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcy5nZXRJbml0aWFsU3RhdGUoKTogbXVzdCByZXR1cm4gYW4gb2JqZWN0IG9yIG51bGwnLCBDb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgICB9O1xuICAgICAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gbmV3IFJlYWN0Q2xhc3NDb21wb25lbnQoKTtcbiAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgICAgQ29uc3RydWN0b3IucHJvdG90eXBlLl9fcmVhY3RBdXRvQmluZFBhaXJzID0gW107XG4gICAgICBpbmplY3RlZE1peGlucy5mb3JFYWNoKG1peFNwZWNJbnRvQ29tcG9uZW50LmJpbmQobnVsbCwgQ29uc3RydWN0b3IpKTtcbiAgICAgIG1peFNwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzcGVjKTtcbiAgICAgIGlmIChDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgQ29uc3RydWN0b3IuZGVmYXVsdFByb3BzID0gQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKCk7XG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRJbml0aWFsU3RhdGUpIHtcbiAgICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0SW5pdGlhbFN0YXRlLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICFDb25zdHJ1Y3Rvci5wcm90b3R5cGUucmVuZGVyID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2NyZWF0ZUNsYXNzKC4uLik6IENsYXNzIHNwZWNpZmljYXRpb24gbXVzdCBpbXBsZW1lbnQgYSBgcmVuZGVyYCBtZXRob2QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIUNvbnN0cnVjdG9yLnByb3RvdHlwZS5jb21wb25lbnRTaG91bGRVcGRhdGUsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50U2hvdWxkVXBkYXRlKCkuIERpZCB5b3UgbWVhbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKT8gJyArICdUaGUgbmFtZSBpcyBwaHJhc2VkIGFzIGEgcXVlc3Rpb24gYmVjYXVzZSB0aGUgZnVuY3Rpb24gaXMgJyArICdleHBlY3RlZCB0byByZXR1cm4gYSB2YWx1ZS4nLCBzcGVjLmRpc3BsYXlOYW1lIHx8ICdBIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghQ29uc3RydWN0b3IucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiBEaWQgeW91IG1lYW4gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpPycsIHNwZWMuZGlzcGxheU5hbWUgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBtZXRob2ROYW1lIGluIFJlYWN0Q2xhc3NJbnRlcmZhY2UpIHtcbiAgICAgICAgaWYgKCFDb25zdHJ1Y3Rvci5wcm90b3R5cGVbbWV0aG9kTmFtZV0pIHtcbiAgICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgfSxcbiAgICBpbmplY3Rpb246IHtpbmplY3RNaXhpbjogZnVuY3Rpb24obWl4aW4pIHtcbiAgICAgICAgaW5qZWN0ZWRNaXhpbnMucHVzaChtaXhpbik7XG4gICAgICB9fVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q2xhc3M7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogRXhlY3V0ZXMgdGhlIHByb3ZpZGVkIGBjYWxsYmFja2Agb25jZSBmb3IgZWFjaCBlbnVtZXJhYmxlIG93biBwcm9wZXJ0eSBpbiB0aGVcbiAqIG9iamVjdCBhbmQgY29uc3RydWN0cyBhIG5ldyBvYmplY3QgZnJvbSB0aGUgcmVzdWx0cy4gVGhlIGBjYWxsYmFja2AgaXNcbiAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gKlxuICogIC0gdGhlIHByb3BlcnR5IHZhbHVlXG4gKiAgLSB0aGUgcHJvcGVydHkgbmFtZVxuICogIC0gdGhlIG9iamVjdCBiZWluZyB0cmF2ZXJzZWRcbiAqXG4gKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGFkZGVkIGFmdGVyIHRoZSBjYWxsIHRvIGBtYXBPYmplY3RgIHdpbGwgbm90IGJlIHZpc2l0ZWRcbiAqIGJ5IGBjYWxsYmFja2AuIElmIHRoZSB2YWx1ZXMgb2YgZXhpc3RpbmcgcHJvcGVydGllcyBhcmUgY2hhbmdlZCwgdGhlIHZhbHVlXG4gKiBwYXNzZWQgdG8gYGNhbGxiYWNrYCB3aWxsIGJlIHRoZSB2YWx1ZSBhdCB0aGUgdGltZSBgbWFwT2JqZWN0YCB2aXNpdHMgdGhlbS5cbiAqIFByb3BlcnRpZXMgdGhhdCBhcmUgZGVsZXRlZCBiZWZvcmUgYmVpbmcgdmlzaXRlZCBhcmUgbm90IHZpc2l0ZWQuXG4gKlxuICogQGdyZXAgZnVuY3Rpb24gb2JqZWN0TWFwKClcbiAqIEBncmVwIGZ1bmN0aW9uIG9iak1hcCgpXG4gKlxuICogQHBhcmFtIHs/b2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IGNvbnRleHRcbiAqIEByZXR1cm4gez9vYmplY3R9XG4gKi9cbmZ1bmN0aW9uIG1hcE9iamVjdChvYmplY3QsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gIGlmICghb2JqZWN0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmb3IgKHZhciBuYW1lIGluIG9iamVjdCkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgbmFtZSkpIHtcbiAgICAgIHJlc3VsdFtuYW1lXSA9IGNhbGxiYWNrLmNhbGwoY29udGV4dCwgb2JqZWN0W25hbWVdLCBuYW1lLCBvYmplY3QpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcE9iamVjdDsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG4gIHZhciBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudFZhbGlkYXRvcicpO1xuICB2YXIgbWFwT2JqZWN0ID0gcmVxdWlyZSgnZmJqcy9saWIvbWFwT2JqZWN0Jyk7XG4gIGZ1bmN0aW9uIGNyZWF0ZURPTUZhY3RvcnkodGFnKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRmFjdG9yeSh0YWcpO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3RFbGVtZW50LmNyZWF0ZUZhY3RvcnkodGFnKTtcbiAgfVxuICB2YXIgUmVhY3RET01GYWN0b3JpZXMgPSBtYXBPYmplY3Qoe1xuICAgIGE6ICdhJyxcbiAgICBhYmJyOiAnYWJicicsXG4gICAgYWRkcmVzczogJ2FkZHJlc3MnLFxuICAgIGFyZWE6ICdhcmVhJyxcbiAgICBhcnRpY2xlOiAnYXJ0aWNsZScsXG4gICAgYXNpZGU6ICdhc2lkZScsXG4gICAgYXVkaW86ICdhdWRpbycsXG4gICAgYjogJ2InLFxuICAgIGJhc2U6ICdiYXNlJyxcbiAgICBiZGk6ICdiZGknLFxuICAgIGJkbzogJ2JkbycsXG4gICAgYmlnOiAnYmlnJyxcbiAgICBibG9ja3F1b3RlOiAnYmxvY2txdW90ZScsXG4gICAgYm9keTogJ2JvZHknLFxuICAgIGJyOiAnYnInLFxuICAgIGJ1dHRvbjogJ2J1dHRvbicsXG4gICAgY2FudmFzOiAnY2FudmFzJyxcbiAgICBjYXB0aW9uOiAnY2FwdGlvbicsXG4gICAgY2l0ZTogJ2NpdGUnLFxuICAgIGNvZGU6ICdjb2RlJyxcbiAgICBjb2w6ICdjb2wnLFxuICAgIGNvbGdyb3VwOiAnY29sZ3JvdXAnLFxuICAgIGRhdGE6ICdkYXRhJyxcbiAgICBkYXRhbGlzdDogJ2RhdGFsaXN0JyxcbiAgICBkZDogJ2RkJyxcbiAgICBkZWw6ICdkZWwnLFxuICAgIGRldGFpbHM6ICdkZXRhaWxzJyxcbiAgICBkZm46ICdkZm4nLFxuICAgIGRpYWxvZzogJ2RpYWxvZycsXG4gICAgZGl2OiAnZGl2JyxcbiAgICBkbDogJ2RsJyxcbiAgICBkdDogJ2R0JyxcbiAgICBlbTogJ2VtJyxcbiAgICBlbWJlZDogJ2VtYmVkJyxcbiAgICBmaWVsZHNldDogJ2ZpZWxkc2V0JyxcbiAgICBmaWdjYXB0aW9uOiAnZmlnY2FwdGlvbicsXG4gICAgZmlndXJlOiAnZmlndXJlJyxcbiAgICBmb290ZXI6ICdmb290ZXInLFxuICAgIGZvcm06ICdmb3JtJyxcbiAgICBoMTogJ2gxJyxcbiAgICBoMjogJ2gyJyxcbiAgICBoMzogJ2gzJyxcbiAgICBoNDogJ2g0JyxcbiAgICBoNTogJ2g1JyxcbiAgICBoNjogJ2g2JyxcbiAgICBoZWFkOiAnaGVhZCcsXG4gICAgaGVhZGVyOiAnaGVhZGVyJyxcbiAgICBoZ3JvdXA6ICdoZ3JvdXAnLFxuICAgIGhyOiAnaHInLFxuICAgIGh0bWw6ICdodG1sJyxcbiAgICBpOiAnaScsXG4gICAgaWZyYW1lOiAnaWZyYW1lJyxcbiAgICBpbWc6ICdpbWcnLFxuICAgIGlucHV0OiAnaW5wdXQnLFxuICAgIGluczogJ2lucycsXG4gICAga2JkOiAna2JkJyxcbiAgICBrZXlnZW46ICdrZXlnZW4nLFxuICAgIGxhYmVsOiAnbGFiZWwnLFxuICAgIGxlZ2VuZDogJ2xlZ2VuZCcsXG4gICAgbGk6ICdsaScsXG4gICAgbGluazogJ2xpbmsnLFxuICAgIG1haW46ICdtYWluJyxcbiAgICBtYXA6ICdtYXAnLFxuICAgIG1hcms6ICdtYXJrJyxcbiAgICBtZW51OiAnbWVudScsXG4gICAgbWVudWl0ZW06ICdtZW51aXRlbScsXG4gICAgbWV0YTogJ21ldGEnLFxuICAgIG1ldGVyOiAnbWV0ZXInLFxuICAgIG5hdjogJ25hdicsXG4gICAgbm9zY3JpcHQ6ICdub3NjcmlwdCcsXG4gICAgb2JqZWN0OiAnb2JqZWN0JyxcbiAgICBvbDogJ29sJyxcbiAgICBvcHRncm91cDogJ29wdGdyb3VwJyxcbiAgICBvcHRpb246ICdvcHRpb24nLFxuICAgIG91dHB1dDogJ291dHB1dCcsXG4gICAgcDogJ3AnLFxuICAgIHBhcmFtOiAncGFyYW0nLFxuICAgIHBpY3R1cmU6ICdwaWN0dXJlJyxcbiAgICBwcmU6ICdwcmUnLFxuICAgIHByb2dyZXNzOiAncHJvZ3Jlc3MnLFxuICAgIHE6ICdxJyxcbiAgICBycDogJ3JwJyxcbiAgICBydDogJ3J0JyxcbiAgICBydWJ5OiAncnVieScsXG4gICAgczogJ3MnLFxuICAgIHNhbXA6ICdzYW1wJyxcbiAgICBzY3JpcHQ6ICdzY3JpcHQnLFxuICAgIHNlY3Rpb246ICdzZWN0aW9uJyxcbiAgICBzZWxlY3Q6ICdzZWxlY3QnLFxuICAgIHNtYWxsOiAnc21hbGwnLFxuICAgIHNvdXJjZTogJ3NvdXJjZScsXG4gICAgc3BhbjogJ3NwYW4nLFxuICAgIHN0cm9uZzogJ3N0cm9uZycsXG4gICAgc3R5bGU6ICdzdHlsZScsXG4gICAgc3ViOiAnc3ViJyxcbiAgICBzdW1tYXJ5OiAnc3VtbWFyeScsXG4gICAgc3VwOiAnc3VwJyxcbiAgICB0YWJsZTogJ3RhYmxlJyxcbiAgICB0Ym9keTogJ3Rib2R5JyxcbiAgICB0ZDogJ3RkJyxcbiAgICB0ZXh0YXJlYTogJ3RleHRhcmVhJyxcbiAgICB0Zm9vdDogJ3Rmb290JyxcbiAgICB0aDogJ3RoJyxcbiAgICB0aGVhZDogJ3RoZWFkJyxcbiAgICB0aW1lOiAndGltZScsXG4gICAgdGl0bGU6ICd0aXRsZScsXG4gICAgdHI6ICd0cicsXG4gICAgdHJhY2s6ICd0cmFjaycsXG4gICAgdTogJ3UnLFxuICAgIHVsOiAndWwnLFxuICAgICd2YXInOiAndmFyJyxcbiAgICB2aWRlbzogJ3ZpZGVvJyxcbiAgICB3YnI6ICd3YnInLFxuICAgIGNpcmNsZTogJ2NpcmNsZScsXG4gICAgY2xpcFBhdGg6ICdjbGlwUGF0aCcsXG4gICAgZGVmczogJ2RlZnMnLFxuICAgIGVsbGlwc2U6ICdlbGxpcHNlJyxcbiAgICBnOiAnZycsXG4gICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgbGluZTogJ2xpbmUnLFxuICAgIGxpbmVhckdyYWRpZW50OiAnbGluZWFyR3JhZGllbnQnLFxuICAgIG1hc2s6ICdtYXNrJyxcbiAgICBwYXRoOiAncGF0aCcsXG4gICAgcGF0dGVybjogJ3BhdHRlcm4nLFxuICAgIHBvbHlnb246ICdwb2x5Z29uJyxcbiAgICBwb2x5bGluZTogJ3BvbHlsaW5lJyxcbiAgICByYWRpYWxHcmFkaWVudDogJ3JhZGlhbEdyYWRpZW50JyxcbiAgICByZWN0OiAncmVjdCcsXG4gICAgc3RvcDogJ3N0b3AnLFxuICAgIHN2ZzogJ3N2ZycsXG4gICAgdGV4dDogJ3RleHQnLFxuICAgIHRzcGFuOiAndHNwYW4nXG4gIH0sIGNyZWF0ZURPTUZhY3RvcnkpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NRmFjdG9yaWVzO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnLi9pbnZhcmlhbnQnKTtcbiAgdmFyIGtleU1pcnJvciA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciByZXQgPSB7fTtcbiAgICB2YXIga2V5O1xuICAgICEob2JqIGluc3RhbmNlb2YgT2JqZWN0ICYmICFBcnJheS5pc0FycmF5KG9iaikpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2tleU1pcnJvciguLi4pOiBBcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmV0W2tleV0gPSBrZXk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0ga2V5TWlycm9yO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFByb3BUeXBlTG9jYXRpb25zXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIga2V5TWlycm9yID0gcmVxdWlyZSgnZmJqcy9saWIva2V5TWlycm9yJyk7XG5cbnZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0ga2V5TWlycm9yKHtcbiAgcHJvcDogbnVsbCxcbiAgY29udGV4dDogbnVsbCxcbiAgY2hpbGRDb250ZXh0OiBudWxsXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25zOyIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbiAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbnMnKTtcbiAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0gcmVxdWlyZSgnLi9SZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcycpO1xuICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKCcuL1JlYWN0Q3VycmVudE93bmVyJyk7XG4gIHZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vY2FuRGVmaW5lUHJvcGVydHknKTtcbiAgdmFyIGdldEl0ZXJhdG9yRm4gPSByZXF1aXJlKCcuL2dldEl0ZXJhdG9yRm4nKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkge1xuICAgIGlmIChSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgICB2YXIgbmFtZSA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQuZ2V0TmFtZSgpO1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB7fTtcbiAgdmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuICBmdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgICBpZiAoIWVsZW1lbnQuX3N0b3JlIHx8IGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCB8fCBlbGVtZW50LmtleSAhPSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdmFyIGFkZGVuZGEgPSBnZXRBZGRlbmRhRm9yS2V5VXNlKCd1bmlxdWVLZXknLCBlbGVtZW50LCBwYXJlbnRUeXBlKTtcbiAgICBpZiAoYWRkZW5kYSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0VhY2ggY2hpbGQgaW4gYW4gYXJyYXkgb3IgaXRlcmF0b3Igc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLicgKyAnJXMlcyVzJywgYWRkZW5kYS5wYXJlbnRPck93bmVyIHx8ICcnLCBhZGRlbmRhLmNoaWxkT3duZXIgfHwgJycsIGFkZGVuZGEudXJsIHx8ICcnKSA6IHZvaWQgMDtcbiAgfVxuICBmdW5jdGlvbiBnZXRBZGRlbmRhRm9yS2V5VXNlKG1lc3NhZ2VUeXBlLCBlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gICAgdmFyIGFkZGVuZHVtID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgaWYgKCFhZGRlbmR1bSkge1xuICAgICAgdmFyIHBhcmVudE5hbWUgPSB0eXBlb2YgcGFyZW50VHlwZSA9PT0gJ3N0cmluZycgPyBwYXJlbnRUeXBlIDogcGFyZW50VHlwZS5kaXNwbGF5TmFtZSB8fCBwYXJlbnRUeXBlLm5hbWU7XG4gICAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgICBhZGRlbmR1bSA9ICcgQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8JyArIHBhcmVudE5hbWUgKyAnPi4nO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbWVtb2l6ZXIgPSBvd25lckhhc0tleVVzZVdhcm5pbmdbbWVzc2FnZVR5cGVdIHx8IChvd25lckhhc0tleVVzZVdhcm5pbmdbbWVzc2FnZVR5cGVdID0ge30pO1xuICAgIGlmIChtZW1vaXplclthZGRlbmR1bV0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBtZW1vaXplclthZGRlbmR1bV0gPSB0cnVlO1xuICAgIHZhciBhZGRlbmRhID0ge1xuICAgICAgcGFyZW50T3JPd25lcjogYWRkZW5kdW0sXG4gICAgICB1cmw6ICcgU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsXG4gICAgICBjaGlsZE93bmVyOiBudWxsXG4gICAgfTtcbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgYWRkZW5kYS5jaGlsZE93bmVyID0gJyBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSAnICsgZWxlbWVudC5fb3duZXIuZ2V0TmFtZSgpICsgJy4nO1xuICAgIH1cbiAgICByZXR1cm4gYWRkZW5kYTtcbiAgfVxuICBmdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gICAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG4gICAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgaWYgKG5vZGUuX3N0b3JlKSB7XG4gICAgICAgIG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG4gICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShzdGVwLnZhbHVlLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gY2hlY2tQcm9wVHlwZXMoY29tcG9uZW50TmFtZSwgcHJvcFR5cGVzLCBwcm9wcywgbG9jYXRpb24pIHtcbiAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBwcm9wVHlwZXMpIHtcbiAgICAgIGlmIChwcm9wVHlwZXMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAhKHR5cGVvZiBwcm9wVHlwZXNbcHJvcE5hbWVdID09PSAnZnVuY3Rpb24nKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgKyAnUmVhY3QuUHJvcFR5cGVzLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dLCBwcm9wTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIGVycm9yID0gcHJvcFR5cGVzW3Byb3BOYW1lXShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uKTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBlcnJvciA9IGV4O1xuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFlcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIEVycm9yLCAnJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcyBgJXNgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAlcy4gJyArICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICsgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lLCB0eXBlb2YgZXJyb3IpIDogdm9pZCAwO1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvci5tZXNzYWdlXSA9IHRydWU7XG4gICAgICAgICAgdmFyIGFkZGVuZHVtID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdGYWlsZWQgcHJvcFR5cGU6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCkge1xuICAgIHZhciBjb21wb25lbnRDbGFzcyA9IGVsZW1lbnQudHlwZTtcbiAgICBpZiAodHlwZW9mIGNvbXBvbmVudENsYXNzICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBuYW1lID0gY29tcG9uZW50Q2xhc3MuZGlzcGxheU5hbWUgfHwgY29tcG9uZW50Q2xhc3MubmFtZTtcbiAgICBpZiAoY29tcG9uZW50Q2xhc3MucHJvcFR5cGVzKSB7XG4gICAgICBjaGVja1Byb3BUeXBlcyhuYW1lLCBjb21wb25lbnRDbGFzcy5wcm9wVHlwZXMsIGVsZW1lbnQucHJvcHMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMucHJvcCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tcG9uZW50Q2xhc3MuZ2V0RGVmYXVsdFByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhjb21wb25lbnRDbGFzcy5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQsICdnZXREZWZhdWx0UHJvcHMgaXMgb25seSB1c2VkIG9uIGNsYXNzaWMgUmVhY3QuY3JlYXRlQ2xhc3MgJyArICdkZWZpbml0aW9ucy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IG5hbWVkIGBkZWZhdWx0UHJvcHNgIGluc3RlYWQuJykgOiB2b2lkIDA7XG4gICAgfVxuICB9XG4gIHZhciBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgPSB7XG4gICAgY3JlYXRlRWxlbWVudDogZnVuY3Rpb24odHlwZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gICAgICB2YXIgdmFsaWRUeXBlID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nO1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodmFsaWRUeXBlLCAnUmVhY3QuY3JlYXRlRWxlbWVudDogdHlwZSBzaG91bGQgbm90IGJlIG51bGwsIHVuZGVmaW5lZCwgYm9vbGVhbiwgb3IgJyArICdudW1iZXIuIEl0IHNob3VsZCBiZSBhIHN0cmluZyAoZm9yIERPTSBlbGVtZW50cykgb3IgYSBSZWFjdENsYXNzICcgKyAnKGZvciBjb21wb3NpdGUgY29tcG9uZW50cykuJXMnLCBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSkgOiB2b2lkIDA7XG4gICAgICB2YXIgZWxlbWVudCA9IFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfVxuICAgICAgaWYgKHZhbGlkVHlwZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1tpXSwgdHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhbGlkYXRlUHJvcFR5cGVzKGVsZW1lbnQpO1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfSxcbiAgICBjcmVhdGVGYWN0b3J5OiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICB2YXIgdmFsaWRhdGVkRmFjdG9yeSA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVFbGVtZW50LmJpbmQobnVsbCwgdHlwZSk7XG4gICAgICB2YWxpZGF0ZWRGYWN0b3J5LnR5cGUgPSB0eXBlO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbGlkYXRlZEZhY3RvcnksICd0eXBlJywge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ZhY3RvcnkudHlwZSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdGhlIGNsYXNzIGRpcmVjdGx5ICcgKyAnYmVmb3JlIHBhc3NpbmcgaXQgdG8gY3JlYXRlRmFjdG9yeS4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0eXBlJywge3ZhbHVlOiB0eXBlfSk7XG4gICAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsaWRhdGVkRmFjdG9yeTtcbiAgICB9LFxuICAgIGNsb25lRWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gICAgICB2YXIgbmV3RWxlbWVudCA9IFJlYWN0RWxlbWVudC5jbG9uZUVsZW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1tpXSwgbmV3RWxlbWVudC50eXBlKTtcbiAgICAgIH1cbiAgICAgIHZhbGlkYXRlUHJvcFR5cGVzKG5ld0VsZW1lbnQpO1xuICAgICAgcmV0dXJuIG5ld0VsZW1lbnQ7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RWxlbWVudFZhbGlkYXRvcjtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0ge307XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSB7XG4gICAgICBwcm9wOiAncHJvcCcsXG4gICAgICBjb250ZXh0OiAnY29udGV4dCcsXG4gICAgICBjaGlsZENvbnRleHQ6ICdjaGlsZCBjb250ZXh0J1xuICAgIH07XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZ2V0SXRlcmF0b3JGblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyogZ2xvYmFsIFN5bWJvbCAqL1xuXG52YXIgSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG52YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpdGVyYXRvciBtZXRob2QgZnVuY3Rpb24gY29udGFpbmVkIG9uIHRoZSBpdGVyYWJsZSBvYmplY3QuXG4gKlxuICogQmUgc3VyZSB0byBpbnZva2UgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGl0ZXJhYmxlIGFzIGNvbnRleHQ6XG4gKlxuICogICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihteUl0ZXJhYmxlKTtcbiAqICAgICBpZiAoaXRlcmF0b3JGbikge1xuICogICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG15SXRlcmFibGUpO1xuICogICAgICAgLi4uXG4gKiAgICAgfVxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gbWF5YmVJdGVyYWJsZVxuICogQHJldHVybiB7P2Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgdmFyIGl0ZXJhdG9yRm4gPSBtYXliZUl0ZXJhYmxlICYmIChJVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtJVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdKTtcbiAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRJdGVyYXRvckZuOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG52YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzJyk7XG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcbnZhciBnZXRJdGVyYXRvckZuID0gcmVxdWlyZSgnLi9nZXRJdGVyYXRvckZuJyk7XG52YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xudmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICBhcnJheTogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2FycmF5JyksXG4gIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG4gIGZ1bmM6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdmdW5jdGlvbicpLFxuICBudW1iZXI6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdudW1iZXInKSxcbiAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG4gIHN0cmluZzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N0cmluZycpLFxuICBhbnk6IGNyZWF0ZUFueVR5cGVDaGVja2VyKCksXG4gIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcbiAgZWxlbWVudDogY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCksXG4gIGluc3RhbmNlT2Y6IGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIsXG4gIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG4gIG9iamVjdE9mOiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyLFxuICBvbmVPZjogY3JlYXRlRW51bVR5cGVDaGVja2VyLFxuICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG4gIHNoYXBlOiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyXG59O1xuZnVuY3Rpb24gaXMoeCwgeSkge1xuICBpZiAoeCA9PT0geSkge1xuICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSkge1xuICBmdW5jdGlvbiBjaGVja1R5cGUoaXNSZXF1aXJlZCwgcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuICAgIHByb3BGdWxsTmFtZSA9IHByb3BGdWxsTmFtZSB8fCBwcm9wTmFtZTtcbiAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICBpZiAoaXNSZXF1aXJlZCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdSZXF1aXJlZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHdhcyBub3Qgc3BlY2lmaWVkIGluICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKTtcbiAgICB9XG4gIH1cbiAgdmFyIGNoYWluZWRDaGVja1R5cGUgPSBjaGVja1R5cGUuYmluZChudWxsLCBmYWxzZSk7XG4gIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuICByZXR1cm4gY2hhaW5lZENoZWNrVHlwZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKGV4cGVjdGVkVHlwZSkge1xuICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICB2YXIgcHJlY2lzZVR5cGUgPSBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpO1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcmVjaXNlVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnYCcgKyBleHBlY3RlZFR5cGUgKyAnYC4nKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpIHtcbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMobnVsbCkpO1xufVxuZnVuY3Rpb24gY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBhcnJheU9mLicpO1xuICAgIH1cbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gYXJyYXkuJykpO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBpLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJ1snICsgaSArICddJyk7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGlmICghUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgc2luZ2xlIFJlYWN0RWxlbWVudC4nKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgaWYgKCEocHJvcHNbcHJvcE5hbWVdIGluc3RhbmNlb2YgZXhwZWN0ZWRDbGFzcykpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICB2YXIgZXhwZWN0ZWRDbGFzc05hbWUgPSBleHBlY3RlZENsYXNzLm5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgdmFyIGFjdHVhbENsYXNzTmFtZSA9IGdldENsYXNzTmFtZShwcm9wc1twcm9wTmFtZV0pO1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBhY3R1YWxDbGFzc05hbWUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2luc3RhbmNlIG9mIGAnICsgZXhwZWN0ZWRDbGFzc05hbWUgKyAnYC4nKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIoZXhwZWN0ZWRWYWx1ZXMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGV4cGVjdGVkVmFsdWVzKSkge1xuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcihmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3RlZFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGlzKHByb3BWYWx1ZSwgZXhwZWN0ZWRWYWx1ZXNbaV0pKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcyk7XG4gICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHZhbHVlIGAnICsgcHJvcFZhbHVlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIG9uZSBvZiAnICsgdmFsdWVzU3RyaW5nICsgJy4nKSk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIG9iamVjdE9mLicpO1xuICAgIH1cbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gb2JqZWN0LicpKTtcbiAgICB9XG4gICAgZm9yICh2YXIga2V5IGluIHByb3BWYWx1ZSkge1xuICAgICAgaWYgKHByb3BWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5KTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIoYXJyYXlPZlR5cGVDaGVja2Vycykge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXlPZlR5cGVDaGVja2VycykpIHtcbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJyk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG4gICAgICBpZiAoY2hlY2tlcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLicpKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGlmICghaXNOb2RlKHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgUmVhY3ROb2RlLicpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIoc2hhcGVUeXBlcykge1xuICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuICAgIH1cbiAgICBmb3IgKHZhciBrZXkgaW4gc2hhcGVUeXBlcykge1xuICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG4gICAgICBpZiAoIWNoZWNrZXIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5KTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBpc05vZGUocHJvcFZhbHVlKSB7XG4gIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gIXByb3BWYWx1ZTtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICByZXR1cm4gcHJvcFZhbHVlLmV2ZXJ5KGlzTm9kZSk7XG4gICAgICB9XG4gICAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8IFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKHByb3BWYWx1ZSk7XG4gICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwocHJvcFZhbHVlKTtcbiAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgIGlmICghaXNOb2RlKHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICBpZiAoIWlzTm9kZShlbnRyeVsxXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFByb3BUeXBlKHByb3BWYWx1ZSkge1xuICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgcmV0dXJuICdhcnJheSc7XG4gIH1cbiAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgIHJldHVybiAnb2JqZWN0JztcbiAgfVxuICByZXR1cm4gcHJvcFR5cGU7XG59XG5mdW5jdGlvbiBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpIHtcbiAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgaWYgKHByb3BUeXBlID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICByZXR1cm4gJ2RhdGUnO1xuICAgIH0gZWxzZSBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICByZXR1cm4gJ3JlZ2V4cCc7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wVHlwZTtcbn1cbmZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcbiAgaWYgKCFwcm9wVmFsdWUuY29uc3RydWN0b3IgfHwgIXByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgcmV0dXJuIEFOT05ZTU9VUztcbiAgfVxuICByZXR1cm4gcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWU7XG59XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0VmVyc2lvblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSAnMTUuMS4wJzsiLCIvKiAqLyBcbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5wbTpvYmplY3QtYXNzaWduQDQuMS4wL2luZGV4XCIpOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdEN1cnJlbnRPd25lclxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiB0aGUgY3VycmVudCBvd25lci5cbiAqXG4gKiBUaGUgY3VycmVudCBvd25lciBpcyB0aGUgY29tcG9uZW50IHdobyBzaG91bGQgb3duIGFueSBjb21wb25lbnRzIHRoYXQgYXJlXG4gKiBjdXJyZW50bHkgYmVpbmcgY29uc3RydWN0ZWQuXG4gKi9cblxudmFyIFJlYWN0Q3VycmVudE93bmVyID0ge1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHR5cGUge1JlYWN0Q29tcG9uZW50fVxuICAgKi9cbiAgY3VycmVudDogbnVsbFxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q3VycmVudE93bmVyOyIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSBmYWxzZTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAneCcsIHtnZXQ6IGZ1bmN0aW9uKCkge319KTtcbiAgICAgIGNhbkRlZmluZVByb3BlcnR5ID0gdHJ1ZTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gY2FuRGVmaW5lUHJvcGVydHk7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKCcuL1JlYWN0Q3VycmVudE93bmVyJyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL2NhbkRlZmluZVByb3BlcnR5Jyk7XG4gIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbFsnZm9yJ10gJiYgU3ltYm9sWydmb3InXSgncmVhY3QuZWxlbWVudCcpIHx8IDB4ZWFjNztcbiAgdmFyIFJFU0VSVkVEX1BST1BTID0ge1xuICAgIGtleTogdHJ1ZSxcbiAgICByZWY6IHRydWUsXG4gICAgX19zZWxmOiB0cnVlLFxuICAgIF9fc291cmNlOiB0cnVlXG4gIH07XG4gIHZhciBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bixcbiAgICAgIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duO1xuICB2YXIgUmVhY3RFbGVtZW50ID0gZnVuY3Rpb24odHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgb3duZXIsIHByb3BzKSB7XG4gICAgdmFyIGVsZW1lbnQgPSB7XG4gICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGtleToga2V5LFxuICAgICAgcmVmOiByZWYsXG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBfb3duZXI6IG93bmVyXG4gICAgfTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgZWxlbWVudC5fc3RvcmUgPSB7fTtcbiAgICAgIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NlbGYnLCB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgdmFsdWU6IHNlbGZcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NvdXJjZScsIHtcbiAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICB2YWx1ZTogc291cmNlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkID0gZmFsc2U7XG4gICAgICAgIGVsZW1lbnQuX3NlbGYgPSBzZWxmO1xuICAgICAgICBlbGVtZW50Ll9zb3VyY2UgPSBzb3VyY2U7XG4gICAgICB9XG4gICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfTtcbiAgUmVhY3RFbGVtZW50LmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbih0eXBlLCBjb25maWcsIGNoaWxkcmVuKSB7XG4gICAgdmFyIHByb3BOYW1lO1xuICAgIHZhciBwcm9wcyA9IHt9O1xuICAgIHZhciBrZXkgPSBudWxsO1xuICAgIHZhciByZWYgPSBudWxsO1xuICAgIHZhciBzZWxmID0gbnVsbDtcbiAgICB2YXIgc291cmNlID0gbnVsbDtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGNvbmZpZy5fX3Byb3RvX18gPT0gbnVsbCB8fCBjb25maWcuX19wcm90b19fID09PSBPYmplY3QucHJvdG90eXBlLCAnUmVhY3QuY3JlYXRlRWxlbWVudCguLi4pOiBFeHBlY3RlZCBwcm9wcyBhcmd1bWVudCB0byBiZSBhIHBsYWluIG9iamVjdC4gJyArICdQcm9wZXJ0aWVzIGRlZmluZWQgaW4gaXRzIHByb3RvdHlwZSBjaGFpbiB3aWxsIGJlIGlnbm9yZWQuJykgOiB2b2lkIDA7XG4gICAgICAgIHJlZiA9ICFjb25maWcuaGFzT3duUHJvcGVydHkoJ3JlZicpIHx8IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAncmVmJykuZ2V0ID8gbnVsbCA6IGNvbmZpZy5yZWY7XG4gICAgICAgIGtleSA9ICFjb25maWcuaGFzT3duUHJvcGVydHkoJ2tleScpIHx8IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAna2V5JykuZ2V0ID8gbnVsbCA6ICcnICsgY29uZmlnLmtleTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlZiA9IGNvbmZpZy5yZWYgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcucmVmO1xuICAgICAgICBrZXkgPSBjb25maWcua2V5ID09PSB1bmRlZmluZWQgPyBudWxsIDogJycgKyBjb25maWcua2V5O1xuICAgICAgfVxuICAgICAgc2VsZiA9IGNvbmZpZy5fX3NlbGYgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zZWxmO1xuICAgICAgc291cmNlID0gY29uZmlnLl9fc291cmNlID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnLl9fc291cmNlO1xuICAgICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gICAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICBjaGlsZEFycmF5W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICAgIH1cbiAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgICB9XG4gICAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpIHtcbiAgICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlLmRlZmF1bHRQcm9wcztcbiAgICAgIGZvciAocHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvcHMuJCR0eXBlb2YgPT09ICd1bmRlZmluZWQnIHx8IHByb3BzLiQkdHlwZW9mICE9PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgaWYgKCFwcm9wcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdrZXknLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoIXNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duKSB7XG4gICAgICAgICAgICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL2ZiLm1lL3JlYWN0LXNwZWNpYWwtcHJvcHMpJywgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgJiYgJ2Rpc3BsYXlOYW1lJyBpbiB0eXBlID8gdHlwZS5kaXNwbGF5TmFtZSA6ICdFbGVtZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXByb3BzLmhhc093blByb3BlcnR5KCdyZWYnKSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ3JlZicsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICghc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24pIHtcbiAgICAgICAgICAgICAgICBzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclczogYHJlZmAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vZmIubWUvcmVhY3Qtc3BlY2lhbC1wcm9wcyknLCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiAnZGlzcGxheU5hbWUnIGluIHR5cGUgPyB0eXBlLmRpc3BsYXlOYW1lIDogJ0VsZW1lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xuICB9O1xuICBSZWFjdEVsZW1lbnQuY3JlYXRlRmFjdG9yeSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICB2YXIgZmFjdG9yeSA9IFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50LmJpbmQobnVsbCwgdHlwZSk7XG4gICAgZmFjdG9yeS50eXBlID0gdHlwZTtcbiAgICByZXR1cm4gZmFjdG9yeTtcbiAgfTtcbiAgUmVhY3RFbGVtZW50LmNsb25lQW5kUmVwbGFjZUtleSA9IGZ1bmN0aW9uKG9sZEVsZW1lbnQsIG5ld0tleSkge1xuICAgIHZhciBuZXdFbGVtZW50ID0gUmVhY3RFbGVtZW50KG9sZEVsZW1lbnQudHlwZSwgbmV3S2V5LCBvbGRFbGVtZW50LnJlZiwgb2xkRWxlbWVudC5fc2VsZiwgb2xkRWxlbWVudC5fc291cmNlLCBvbGRFbGVtZW50Ll9vd25lciwgb2xkRWxlbWVudC5wcm9wcyk7XG4gICAgcmV0dXJuIG5ld0VsZW1lbnQ7XG4gIH07XG4gIFJlYWN0RWxlbWVudC5jbG9uZUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjb25maWcsIGNoaWxkcmVuKSB7XG4gICAgdmFyIHByb3BOYW1lO1xuICAgIHZhciBwcm9wcyA9IF9hc3NpZ24oe30sIGVsZW1lbnQucHJvcHMpO1xuICAgIHZhciBrZXkgPSBlbGVtZW50LmtleTtcbiAgICB2YXIgcmVmID0gZWxlbWVudC5yZWY7XG4gICAgdmFyIHNlbGYgPSBlbGVtZW50Ll9zZWxmO1xuICAgIHZhciBzb3VyY2UgPSBlbGVtZW50Ll9zb3VyY2U7XG4gICAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhjb25maWcuX19wcm90b19fID09IG51bGwgfHwgY29uZmlnLl9fcHJvdG9fXyA9PT0gT2JqZWN0LnByb3RvdHlwZSwgJ1JlYWN0LmNsb25lRWxlbWVudCguLi4pOiBFeHBlY3RlZCBwcm9wcyBhcmd1bWVudCB0byBiZSBhIHBsYWluIG9iamVjdC4gJyArICdQcm9wZXJ0aWVzIGRlZmluZWQgaW4gaXRzIHByb3RvdHlwZSBjaGFpbiB3aWxsIGJlIGlnbm9yZWQuJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnLnJlZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gICAgICAgIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAga2V5ID0gJycgKyBjb25maWcua2V5O1xuICAgICAgfVxuICAgICAgdmFyIGRlZmF1bHRQcm9wcztcbiAgICAgIGlmIChlbGVtZW50LnR5cGUgJiYgZWxlbWVudC50eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgICBkZWZhdWx0UHJvcHMgPSBlbGVtZW50LnR5cGUuZGVmYXVsdFByb3BzO1xuICAgICAgfVxuICAgICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgIGlmIChjb25maWdbcHJvcE5hbWVdID09PSB1bmRlZmluZWQgJiYgZGVmYXVsdFByb3BzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICAgIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgICB9XG4gICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gICAgfVxuICAgIHJldHVybiBSZWFjdEVsZW1lbnQoZWxlbWVudC50eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpO1xuICB9O1xuICBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RWxlbWVudDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICB2YXIgZXJyb3I7XG4gICAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICAgIH0pKTtcbiAgICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgIH1cbiAgICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgZnVuY3Rpb24gb25seUNoaWxkKGNoaWxkcmVuKSB7XG4gICAgIVJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnb25seUNoaWxkIG11c3QgYmUgcGFzc2VkIGEgY2hpbGRyZW4gd2l0aCBleGFjdGx5IG9uZSBjaGlsZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gb25seUNoaWxkO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKi9cblxuZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW5kIGRpc2NhcmRzIGlucHV0czsgaXQgaGFzIG5vIHNpZGUgZWZmZWN0cy4gVGhpcyBpc1xuICogcHJpbWFyaWx5IHVzZWZ1bCBpZGlvbWF0aWNhbGx5IGZvciBvdmVycmlkYWJsZSBmdW5jdGlvbiBlbmRwb2ludHMgd2hpY2hcbiAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG4gKi9cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fVxuXG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UgPSBtYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUaGlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQgPSBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9lbXB0eUZ1bmN0aW9uJyk7XG4gIHZhciB3YXJuaW5nID0gZW1wdHlGdW5jdGlvbjtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgIGFyZ3MgPSBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksXG4gICAgICAgICAgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChmb3JtYXQuaW5kZXhPZignRmFpbGVkIENvbXBvc2l0ZSBwcm9wVHlwZTogJykgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbiAgdmFyIFJlYWN0Q2hpbGRyZW4gPSByZXF1aXJlKCcuL1JlYWN0Q2hpbGRyZW4nKTtcbiAgdmFyIFJlYWN0Q29tcG9uZW50ID0gcmVxdWlyZSgnLi9SZWFjdENvbXBvbmVudCcpO1xuICB2YXIgUmVhY3RDbGFzcyA9IHJlcXVpcmUoJy4vUmVhY3RDbGFzcycpO1xuICB2YXIgUmVhY3RET01GYWN0b3JpZXMgPSByZXF1aXJlKCcuL1JlYWN0RE9NRmFjdG9yaWVzJyk7XG4gIHZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudCcpO1xuICB2YXIgUmVhY3RFbGVtZW50VmFsaWRhdG9yID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnRWYWxpZGF0b3InKTtcbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0gcmVxdWlyZSgnLi9SZWFjdFByb3BUeXBlcycpO1xuICB2YXIgUmVhY3RWZXJzaW9uID0gcmVxdWlyZSgnLi9SZWFjdFZlcnNpb24nKTtcbiAgdmFyIG9ubHlDaGlsZCA9IHJlcXVpcmUoJy4vb25seUNoaWxkJyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgY3JlYXRlRWxlbWVudCA9IFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50O1xuICB2YXIgY3JlYXRlRmFjdG9yeSA9IFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5O1xuICB2YXIgY2xvbmVFbGVtZW50ID0gUmVhY3RFbGVtZW50LmNsb25lRWxlbWVudDtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBjcmVhdGVFbGVtZW50ID0gUmVhY3RFbGVtZW50VmFsaWRhdG9yLmNyZWF0ZUVsZW1lbnQ7XG4gICAgY3JlYXRlRmFjdG9yeSA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVGYWN0b3J5O1xuICAgIGNsb25lRWxlbWVudCA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jbG9uZUVsZW1lbnQ7XG4gIH1cbiAgdmFyIF9fc3ByZWFkID0gX2Fzc2lnbjtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgd2FybmVkID0gZmFsc2U7XG4gICAgX19zcHJlYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHdhcm5lZCwgJ1JlYWN0Ll9fc3ByZWFkIGlzIGRlcHJlY2F0ZWQgYW5kIHNob3VsZCBub3QgYmUgdXNlZC4gVXNlICcgKyAnT2JqZWN0LmFzc2lnbiBkaXJlY3RseSBvciBhbm90aGVyIGhlbHBlciBmdW5jdGlvbiB3aXRoIHNpbWlsYXIgJyArICdzZW1hbnRpY3MuIFlvdSBtYXkgYmUgc2VlaW5nIHRoaXMgd2FybmluZyBkdWUgdG8geW91ciBjb21waWxlci4gJyArICdTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1zcHJlYWQtZGVwcmVjYXRpb24gZm9yIG1vcmUgZGV0YWlscy4nKSA6IHZvaWQgMDtcbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgICByZXR1cm4gX2Fzc2lnbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cbiAgdmFyIFJlYWN0ID0ge1xuICAgIENoaWxkcmVuOiB7XG4gICAgICBtYXA6IFJlYWN0Q2hpbGRyZW4ubWFwLFxuICAgICAgZm9yRWFjaDogUmVhY3RDaGlsZHJlbi5mb3JFYWNoLFxuICAgICAgY291bnQ6IFJlYWN0Q2hpbGRyZW4uY291bnQsXG4gICAgICB0b0FycmF5OiBSZWFjdENoaWxkcmVuLnRvQXJyYXksXG4gICAgICBvbmx5OiBvbmx5Q2hpbGRcbiAgICB9LFxuICAgIENvbXBvbmVudDogUmVhY3RDb21wb25lbnQsXG4gICAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudCxcbiAgICBjbG9uZUVsZW1lbnQ6IGNsb25lRWxlbWVudCxcbiAgICBpc1ZhbGlkRWxlbWVudDogUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50LFxuICAgIFByb3BUeXBlczogUmVhY3RQcm9wVHlwZXMsXG4gICAgY3JlYXRlQ2xhc3M6IFJlYWN0Q2xhc3MuY3JlYXRlQ2xhc3MsXG4gICAgY3JlYXRlRmFjdG9yeTogY3JlYXRlRmFjdG9yeSxcbiAgICBjcmVhdGVNaXhpbjogZnVuY3Rpb24obWl4aW4pIHtcbiAgICAgIHJldHVybiBtaXhpbjtcbiAgICB9LFxuICAgIERPTTogUmVhY3RET01GYWN0b3JpZXMsXG4gICAgdmVyc2lvbjogUmVhY3RWZXJzaW9uLFxuICAgIF9fc3ByZWFkOiBfX3NwcmVhZFxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9SZWFjdCcpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibnBtOnJlYWN0QDE1LjEuMC9yZWFjdC5qc1wiKTsiLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5jb25zdCBmb290ZXJMaW5rcyA9IFt7XG4gIGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vZnJvbnRlbmRici9mb3J1bScsXG4gIHRpdGxlOiAnQWNlc3NvIG5vc3NvIGbDs3J1bScsXG4gIGNvbnRlbnQ6ICdGw7NydW0nXG59LCB7XG4gIGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vZnJvbnRlbmRici92YWdhcycsXG4gIHRpdGxlOiAnUHVibGlxdWUgb3UgZW5jb250cmUgdW1hIHZhZ2EnLFxuICBjb250ZW50OiAnVmFnYXMnXG59XVxuXG5jb25zdCBNYWluRm9vdGVyID0gKCkgPT4gKFxuICA8Zm9vdGVyIGNsYXNzTmFtZT0nZm9vdGVyJyByb2xlPSdjb250ZW50aW5mbyc+XG4gICAgPGRpdiBjbGFzc05hbWU9J2Zvb3Rlci1pbm5lcic+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nY29udGFpbmVyLWZsZXgnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZm9vdGVyLWlubmVyLS1tYWluJz5cbiAgICAgICAgICA8cD5Fc3NlIHByb2pldG8gw6kgdW1hIGluaWNpYXRpdmEgZGEgb3JnYW5pemHDp8OjbyB7JyAnfVxuICAgICAgICAgICAgPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL2Zyb250ZW5kYnInPlxuICAgICAgICAgICAgICBGcm9udC1FbmQgQnJhc2lsIGRvIEdpdEh1Yi5cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8dWwgY2xhc3NOYW1lPSdmb290ZXItaW5uZXItLW5hdic+XG4gICAgICAgICAge2Zvb3RlckxpbmtzLm1hcCgoeyBocmVmLCB0aXRsZSwgY29udGVudCB9LCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgPGxpIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9J2J0bi1saW5rJyBocmVmPXtocmVmfSB0aXRsZT17dGl0bGV9PlxuICAgICAgICAgICAgICAgIHtjb250ZW50fVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzTmFtZT0nZm9vdGVyLWhvbGQnPlxuICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRhaW5lcic+XG4gICAgICAgIDxwPlxuICAgICAgICAgICZjb3B5OyAyMDE2IHsnICd9XG4gICAgICAgICAgPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL2Zyb250ZW5kYnIvJz5cbiAgICAgICAgICAgIEZyb250LUVuZCBCcmFzaWxcbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Zvb3Rlcj5cblxuKVxuXG5leHBvcnQgZGVmYXVsdCBNYWluRm9vdGVyXG4iLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IE1haW5IZWFkZXIgZnJvbSAnLi9tYWluLWhlYWRlcidcbmltcG9ydCBNYWluQ29udGVudCBmcm9tICcuLi9tYWluLWNvbnRlbnQvaW5kZXgnXG5pbXBvcnQgTWFpbkZvb3RlciBmcm9tICcuL21haW4tZm9vdGVyJ1xuXG5jbGFzcyBBcHAgZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8TWFpbkhlYWRlciAvPlxuICAgICAgICA8TWFpbkNvbnRlbnQgLz5cbiAgICAgICAgPE1haW5Gb290ZXIgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcHBcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN5bWJvbE9ic2VydmFibGVQb255ZmlsbChyb290KSB7XG5cdHZhciByZXN1bHQ7XG5cdHZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxuXHRpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGlmIChTeW1ib2wub2JzZXJ2YWJsZSkge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sLm9ic2VydmFibGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbCgnb2JzZXJ2YWJsZScpO1xuXHRcdFx0U3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn07XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9wb255ZmlsbCcpKGdsb2JhbCB8fCB3aW5kb3cgfHwgdGhpcyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJucG06c3ltYm9sLW9ic2VydmFibGVAMC4yLjQvaW5kZXhcIik7IiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkFjdGlvblR5cGVzID0gdW5kZWZpbmVkO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjcmVhdGVTdG9yZTtcblxudmFyIF9pc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnbG9kYXNoL2lzUGxhaW5PYmplY3QnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuXG52YXIgX3N5bWJvbE9ic2VydmFibGUgPSByZXF1aXJlKCdzeW1ib2wtb2JzZXJ2YWJsZScpO1xuXG52YXIgX3N5bWJvbE9ic2VydmFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sT2JzZXJ2YWJsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG4vKipcbiAqIFRoZXNlIGFyZSBwcml2YXRlIGFjdGlvbiB0eXBlcyByZXNlcnZlZCBieSBSZWR1eC5cbiAqIEZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB5b3UgbXVzdCByZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUuXG4gKiBJZiB0aGUgY3VycmVudCBzdGF0ZSBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS5cbiAqIERvIG5vdCByZWZlcmVuY2UgdGhlc2UgYWN0aW9uIHR5cGVzIGRpcmVjdGx5IGluIHlvdXIgY29kZS5cbiAqL1xudmFyIEFjdGlvblR5cGVzID0gZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHtcbiAgSU5JVDogJ0BAcmVkdXgvSU5JVCdcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIFJlZHV4IHN0b3JlIHRoYXQgaG9sZHMgdGhlIHN0YXRlIHRyZWUuXG4gKiBUaGUgb25seSB3YXkgdG8gY2hhbmdlIHRoZSBkYXRhIGluIHRoZSBzdG9yZSBpcyB0byBjYWxsIGBkaXNwYXRjaCgpYCBvbiBpdC5cbiAqXG4gKiBUaGVyZSBzaG91bGQgb25seSBiZSBhIHNpbmdsZSBzdG9yZSBpbiB5b3VyIGFwcC4gVG8gc3BlY2lmeSBob3cgZGlmZmVyZW50XG4gKiBwYXJ0cyBvZiB0aGUgc3RhdGUgdHJlZSByZXNwb25kIHRvIGFjdGlvbnMsIHlvdSBtYXkgY29tYmluZSBzZXZlcmFsIHJlZHVjZXJzXG4gKiBpbnRvIGEgc2luZ2xlIHJlZHVjZXIgZnVuY3Rpb24gYnkgdXNpbmcgYGNvbWJpbmVSZWR1Y2Vyc2AuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVkdWNlciBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbmV4dCBzdGF0ZSB0cmVlLCBnaXZlblxuICogdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGFjdGlvbiB0byBoYW5kbGUuXG4gKlxuICogQHBhcmFtIHthbnl9IFtpbml0aWFsU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gaHlkcmF0ZSB0aGUgc3RhdGUgZnJvbSB0aGUgc2VydmVyIGluIHVuaXZlcnNhbCBhcHBzLCBvciB0byByZXN0b3JlIGFcbiAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG4gKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG4gKiBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZSBhcyBgY29tYmluZVJlZHVjZXJzYCBrZXlzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVuaGFuY2VyIFRoZSBzdG9yZSBlbmhhbmNlci4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGVuaGFuY2UgdGhlIHN0b3JlIHdpdGggdGhpcmQtcGFydHkgY2FwYWJpbGl0aWVzIHN1Y2ggYXMgbWlkZGxld2FyZSxcbiAqIHRpbWUgdHJhdmVsLCBwZXJzaXN0ZW5jZSwgZXRjLiBUaGUgb25seSBzdG9yZSBlbmhhbmNlciB0aGF0IHNoaXBzIHdpdGggUmVkdXhcbiAqIGlzIGBhcHBseU1pZGRsZXdhcmUoKWAuXG4gKlxuICogQHJldHVybnMge1N0b3JlfSBBIFJlZHV4IHN0b3JlIHRoYXQgbGV0cyB5b3UgcmVhZCB0aGUgc3RhdGUsIGRpc3BhdGNoIGFjdGlvbnNcbiAqIGFuZCBzdWJzY3JpYmUgdG8gY2hhbmdlcy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuICB2YXIgX3JlZjI7XG5cbiAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuICAgIGVuaGFuY2VyID0gaW5pdGlhbFN0YXRlO1xuICAgIGluaXRpYWxTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW5oYW5jZXIoY3JlYXRlU3RvcmUpKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgY3VycmVudFJlZHVjZXIgPSByZWR1Y2VyO1xuICB2YXIgY3VycmVudFN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICB2YXIgY3VycmVudExpc3RlbmVycyA9IFtdO1xuICB2YXIgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnM7XG4gIHZhciBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpIHtcbiAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuICAgICAgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG4gICAqXG4gICAqIEByZXR1cm5zIHthbnl9IFRoZSBjdXJyZW50IHN0YXRlIHRyZWUgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGNoYW5nZSBsaXN0ZW5lci4gSXQgd2lsbCBiZSBjYWxsZWQgYW55IHRpbWUgYW4gYWN0aW9uIGlzIGRpc3BhdGNoZWQsXG4gICAqIGFuZCBzb21lIHBhcnQgb2YgdGhlIHN0YXRlIHRyZWUgbWF5IHBvdGVudGlhbGx5IGhhdmUgY2hhbmdlZC4gWW91IG1heSB0aGVuXG4gICAqIGNhbGwgYGdldFN0YXRlKClgIHRvIHJlYWQgdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBpbnNpZGUgdGhlIGNhbGxiYWNrLlxuICAgKlxuICAgKiBZb3UgbWF5IGNhbGwgYGRpc3BhdGNoKClgIGZyb20gYSBjaGFuZ2UgbGlzdGVuZXIsIHdpdGggdGhlIGZvbGxvd2luZ1xuICAgKiBjYXZlYXRzOlxuICAgKlxuICAgKiAxLiBUaGUgc3Vic2NyaXB0aW9ucyBhcmUgc25hcHNob3R0ZWQganVzdCBiZWZvcmUgZXZlcnkgYGRpc3BhdGNoKClgIGNhbGwuXG4gICAqIElmIHlvdSBzdWJzY3JpYmUgb3IgdW5zdWJzY3JpYmUgd2hpbGUgdGhlIGxpc3RlbmVycyBhcmUgYmVpbmcgaW52b2tlZCwgdGhpc1xuICAgKiB3aWxsIG5vdCBoYXZlIGFueSBlZmZlY3Qgb24gdGhlIGBkaXNwYXRjaCgpYCB0aGF0IGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcy5cbiAgICogSG93ZXZlciwgdGhlIG5leHQgYGRpc3BhdGNoKClgIGNhbGwsIHdoZXRoZXIgbmVzdGVkIG9yIG5vdCwgd2lsbCB1c2UgYSBtb3JlXG4gICAqIHJlY2VudCBzbmFwc2hvdCBvZiB0aGUgc3Vic2NyaXB0aW9uIGxpc3QuXG4gICAqXG4gICAqIDIuIFRoZSBsaXN0ZW5lciBzaG91bGQgbm90IGV4cGVjdCB0byBzZWUgYWxsIHN0YXRlIGNoYW5nZXMsIGFzIHRoZSBzdGF0ZVxuICAgKiBtaWdodCBoYXZlIGJlZW4gdXBkYXRlZCBtdWx0aXBsZSB0aW1lcyBkdXJpbmcgYSBuZXN0ZWQgYGRpc3BhdGNoKClgIGJlZm9yZVxuICAgKiB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkLiBJdCBpcywgaG93ZXZlciwgZ3VhcmFudGVlZCB0aGF0IGFsbCBzdWJzY3JpYmVyc1xuICAgKiByZWdpc3RlcmVkIGJlZm9yZSB0aGUgYGRpc3BhdGNoKClgIHN0YXJ0ZWQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgbGF0ZXN0XG4gICAqIHN0YXRlIGJ5IHRoZSB0aW1lIGl0IGV4aXRzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBBIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgb24gZXZlcnkgZGlzcGF0Y2guXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0byByZW1vdmUgdGhpcyBjaGFuZ2UgbGlzdGVuZXIuXG4gICAqL1xuICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG5cbiAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgbmV4dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2U7XG5cbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBuZXh0TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGFuIGFjdGlvbi4gSXQgaXMgdGhlIG9ubHkgd2F5IHRvIHRyaWdnZXIgYSBzdGF0ZSBjaGFuZ2UuXG4gICAqXG4gICAqIFRoZSBgcmVkdWNlcmAgZnVuY3Rpb24sIHVzZWQgdG8gY3JlYXRlIHRoZSBzdG9yZSwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcbiAgICogY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgZ2l2ZW4gYGFjdGlvbmAuIEl0cyByZXR1cm4gdmFsdWUgd2lsbFxuICAgKiBiZSBjb25zaWRlcmVkIHRoZSAqKm5leHQqKiBzdGF0ZSBvZiB0aGUgdHJlZSwgYW5kIHRoZSBjaGFuZ2UgbGlzdGVuZXJzXG4gICAqIHdpbGwgYmUgbm90aWZpZWQuXG4gICAqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9ubHkgc3VwcG9ydHMgcGxhaW4gb2JqZWN0IGFjdGlvbnMuIElmIHlvdSB3YW50IHRvXG4gICAqIGRpc3BhdGNoIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZSwgYSB0aHVuaywgb3Igc29tZXRoaW5nIGVsc2UsIHlvdSBuZWVkIHRvXG4gICAqIHdyYXAgeW91ciBzdG9yZSBjcmVhdGluZyBmdW5jdGlvbiBpbnRvIHRoZSBjb3JyZXNwb25kaW5nIG1pZGRsZXdhcmUuIEZvclxuICAgKiBleGFtcGxlLCBzZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIHRoZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UuIEV2ZW4gdGhlXG4gICAqIG1pZGRsZXdhcmUgd2lsbCBldmVudHVhbGx5IGRpc3BhdGNoIHBsYWluIG9iamVjdCBhY3Rpb25zIHVzaW5nIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWN0aW9uIEEgcGxhaW4gb2JqZWN0IHJlcHJlc2VudGluZyDigJx3aGF0IGNoYW5nZWTigJ0uIEl0IGlzXG4gICAqIGEgZ29vZCBpZGVhIHRvIGtlZXAgYWN0aW9ucyBzZXJpYWxpemFibGUgc28geW91IGNhbiByZWNvcmQgYW5kIHJlcGxheSB1c2VyXG4gICAqIHNlc3Npb25zLCBvciB1c2UgdGhlIHRpbWUgdHJhdmVsbGluZyBgcmVkdXgtZGV2dG9vbHNgLiBBbiBhY3Rpb24gbXVzdCBoYXZlXG4gICAqIGEgYHR5cGVgIHByb3BlcnR5IHdoaWNoIG1heSBub3QgYmUgYHVuZGVmaW5lZGAuIEl0IGlzIGEgZ29vZCBpZGVhIHRvIHVzZVxuICAgKiBzdHJpbmcgY29uc3RhbnRzIGZvciBhY3Rpb24gdHlwZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEZvciBjb252ZW5pZW5jZSwgdGhlIHNhbWUgYWN0aW9uIG9iamVjdCB5b3UgZGlzcGF0Y2hlZC5cbiAgICpcbiAgICogTm90ZSB0aGF0LCBpZiB5b3UgdXNlIGEgY3VzdG9tIG1pZGRsZXdhcmUsIGl0IG1heSB3cmFwIGBkaXNwYXRjaCgpYCB0b1xuICAgKiByZXR1cm4gc29tZXRoaW5nIGVsc2UgKGZvciBleGFtcGxlLCBhIFByb21pc2UgeW91IGNhbiBhd2FpdCkuXG4gICAqL1xuICBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbXCJkZWZhdWx0XCJdKShhY3Rpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiAnICsgJ1VzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbi50eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuICcgKyAnSGF2ZSB5b3UgbWlzc3BlbGxlZCBhIGNvbnN0YW50PycpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXJzIG1heSBub3QgZGlzcGF0Y2ggYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG4gICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50UmVkdWNlcihjdXJyZW50U3RhdGUsIGFjdGlvbik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycyA9IG5leHRMaXN0ZW5lcnM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxpc3RlbmVyc1tpXSgpO1xuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb247XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgdGhlIHJlZHVjZXIgY3VycmVudGx5IHVzZWQgYnkgdGhlIHN0b3JlIHRvIGNhbGN1bGF0ZSB0aGUgc3RhdGUuXG4gICAqXG4gICAqIFlvdSBtaWdodCBuZWVkIHRoaXMgaWYgeW91ciBhcHAgaW1wbGVtZW50cyBjb2RlIHNwbGl0dGluZyBhbmQgeW91IHdhbnQgdG9cbiAgICogbG9hZCBzb21lIG9mIHRoZSByZWR1Y2VycyBkeW5hbWljYWxseS4gWW91IG1pZ2h0IGFsc28gbmVlZCB0aGlzIGlmIHlvdVxuICAgKiBpbXBsZW1lbnQgYSBob3QgcmVsb2FkaW5nIG1lY2hhbmlzbSBmb3IgUmVkdXguXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHRSZWR1Y2VyIFRoZSByZWR1Y2VyIGZvciB0aGUgc3RvcmUgdG8gdXNlIGluc3RlYWQuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXIpIHtcbiAgICBpZiAodHlwZW9mIG5leHRSZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBuZXh0UmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGN1cnJlbnRSZWR1Y2VyID0gbmV4dFJlZHVjZXI7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVyb3BlcmFiaWxpdHkgcG9pbnQgZm9yIG9ic2VydmFibGUvcmVhY3RpdmUgbGlicmFyaWVzLlxuICAgKiBAcmV0dXJucyB7b2JzZXJ2YWJsZX0gQSBtaW5pbWFsIG9ic2VydmFibGUgb2Ygc3RhdGUgY2hhbmdlcy5cbiAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgb2JzZXJ2YWJsZSBwcm9wb3NhbDpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL3plbnBhcnNpbmcvZXMtb2JzZXJ2YWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gb2JzZXJ2YWJsZSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBvdXRlclN1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICByZXR1cm4gX3JlZiA9IHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIG1pbmltYWwgb2JzZXJ2YWJsZSBzdWJzY3JpcHRpb24gbWV0aG9kLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9ic2VydmVyIEFueSBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBhcyBhbiBvYnNlcnZlci5cbiAgICAgICAqIFRoZSBvYnNlcnZlciBvYmplY3Qgc2hvdWxkIGhhdmUgYSBgbmV4dGAgbWV0aG9kLlxuICAgICAgICogQHJldHVybnMge3N1YnNjcmlwdGlvbn0gQW4gb2JqZWN0IHdpdGggYW4gYHVuc3Vic2NyaWJlYCBtZXRob2QgdGhhdCBjYW5cbiAgICAgICAqIGJlIHVzZWQgdG8gdW5zdWJzY3JpYmUgdGhlIG9ic2VydmFibGUgZnJvbSB0aGUgc3RvcmUsIGFuZCBwcmV2ZW50IGZ1cnRoZXJcbiAgICAgICAqIGVtaXNzaW9uIG9mIHZhbHVlcyBmcm9tIHRoZSBvYnNlcnZhYmxlLlxuICAgICAgICovXG5cbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9ic2VydmVTdGF0ZSgpIHtcbiAgICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChnZXRTdGF0ZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBvYnNlcnZlU3RhdGUoKTtcbiAgICAgICAgdmFyIHVuc3Vic2NyaWJlID0gb3V0ZXJTdWJzY3JpYmUob2JzZXJ2ZVN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHsgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlIH07XG4gICAgICB9XG4gICAgfSwgX3JlZltfc3ltYm9sT2JzZXJ2YWJsZTJbXCJkZWZhdWx0XCJdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIF9yZWY7XG4gIH1cblxuICAvLyBXaGVuIGEgc3RvcmUgaXMgY3JlYXRlZCwgYW4gXCJJTklUXCIgYWN0aW9uIGlzIGRpc3BhdGNoZWQgc28gdGhhdCBldmVyeVxuICAvLyByZWR1Y2VyIHJldHVybnMgdGhlaXIgaW5pdGlhbCBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cbiAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuXG4gIHJldHVybiBfcmVmMiA9IHtcbiAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgc3Vic2NyaWJlOiBzdWJzY3JpYmUsXG4gICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgIHJlcGxhY2VSZWR1Y2VyOiByZXBsYWNlUmVkdWNlclxuICB9LCBfcmVmMltfc3ltYm9sT2JzZXJ2YWJsZTJbXCJkZWZhdWx0XCJdXSA9IG9ic2VydmFibGUsIF9yZWYyO1xufSIsIi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cbi8qKlxuICogR2V0cyB0aGUgYFtbUHJvdG90eXBlXV1gIG9mIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge251bGx8T2JqZWN0fSBSZXR1cm5zIHRoZSBgW1tQcm90b3R5cGVdXWAuXG4gKi9cbmZ1bmN0aW9uIGdldFByb3RvdHlwZSh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlR2V0UHJvdG90eXBlKE9iamVjdCh2YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFByb3RvdHlwZTtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3NcbiAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNIb3N0T2JqZWN0O1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIiwiLyogKi8gXG52YXIgZ2V0UHJvdG90eXBlID0gcmVxdWlyZSgnLi9fZ2V0UHJvdG90eXBlJyksXG4gICAgaXNIb3N0T2JqZWN0ID0gcmVxdWlyZSgnLi9faXNIb3N0T2JqZWN0JyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcbnZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG52YXIgZnVuY1RvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpICE9IG9iamVjdFRhZyB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJiBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbWJpbmVSZWR1Y2VycztcbiAgdmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoJy4vY3JlYXRlU3RvcmUnKTtcbiAgdmFyIF9pc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnbG9kYXNoL2lzUGxhaW5PYmplY3QnKTtcbiAgdmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuICB2YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuL3V0aWxzL3dhcm5pbmcnKTtcbiAgdmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XCJkZWZhdWx0XCI6IG9ian07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pIHtcbiAgICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgICB2YXIgYWN0aW9uTmFtZSA9IGFjdGlvblR5cGUgJiYgJ1wiJyArIGFjdGlvblR5cGUudG9TdHJpbmcoKSArICdcIicgfHwgJ2FuIGFjdGlvbic7XG4gICAgcmV0dXJuICdHaXZlbiBhY3Rpb24gJyArIGFjdGlvbk5hbWUgKyAnLCByZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQuICcgKyAnVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLic7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShpbnB1dFN0YXRlLCByZWR1Y2VycywgYWN0aW9uKSB7XG4gICAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICAgIHZhciBhcmd1bWVudE5hbWUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09IF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUID8gJ2luaXRpYWxTdGF0ZSBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU3RvcmUnIDogJ3ByZXZpb3VzIHN0YXRlIHJlY2VpdmVkIGJ5IHRoZSByZWR1Y2VyJztcbiAgICBpZiAocmVkdWNlcktleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuICAgIH1cbiAgICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbXCJkZWZhdWx0XCJdKShpbnB1dFN0YXRlKSkge1xuICAgICAgcmV0dXJuICdUaGUgJyArIGFyZ3VtZW50TmFtZSArICcgaGFzIHVuZXhwZWN0ZWQgdHlwZSBvZiBcIicgKyB7fS50b1N0cmluZy5jYWxsKGlucHV0U3RhdGUpLm1hdGNoKC9cXHMoW2EtenxBLVpdKykvKVsxXSArICdcIi4gRXhwZWN0ZWQgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyAnICsgKCdrZXlzOiBcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIicpO1xuICAgIH1cbiAgICB2YXIgdW5leHBlY3RlZEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gIXJlZHVjZXJzLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgfSk7XG4gICAgaWYgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiAnVW5leHBlY3RlZCAnICsgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDEgPyAna2V5cycgOiAna2V5JykgKyAnICcgKyAoJ1wiJyArIHVuZXhwZWN0ZWRLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiIGZvdW5kIGluICcgKyBhcmd1bWVudE5hbWUgKyAnLiAnKSArICdFeHBlY3RlZCB0byBmaW5kIG9uZSBvZiB0aGUga25vd24gcmVkdWNlciBrZXlzIGluc3RlYWQ6ICcgKyAoJ1wiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiLiBVbmV4cGVjdGVkIGtleXMgd2lsbCBiZSBpZ25vcmVkLicpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2FuaXR5KHJlZHVjZXJzKSB7XG4gICAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG4gICAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHt0eXBlOiBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVH0pO1xuICAgICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gJyArICdJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgJyArICdleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5ICcgKyAnbm90IGJlIHVuZGVmaW5lZC4nKTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gJ0BAcmVkdXgvUFJPQkVfVU5LTk9XTl9BQ1RJT05fJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KS5zcGxpdCgnJykuam9pbignLicpO1xuICAgICAgaWYgKHR5cGVvZiByZWR1Y2VyKHVuZGVmaW5lZCwge3R5cGU6IHR5cGV9KSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiAnICsgKCdEb25cXCd0IHRyeSB0byBoYW5kbGUgJyArIF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUICsgJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiICcpICsgJ25hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlICcgKyAnY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgJyArICdpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgJyArICdhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gY29tYmluZVJlZHVjZXJzKHJlZHVjZXJzKSB7XG4gICAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICAgIHZhciBmaW5hbFJlZHVjZXJzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IHJlZHVjZXJLZXlzW2ldO1xuICAgICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZpbmFsUmVkdWNlcnNba2V5XSA9IHJlZHVjZXJzW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBmaW5hbFJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMoZmluYWxSZWR1Y2Vycyk7XG4gICAgdmFyIHNhbml0eUVycm9yO1xuICAgIHRyeSB7XG4gICAgICBhc3NlcnRSZWR1Y2VyU2FuaXR5KGZpbmFsUmVkdWNlcnMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNhbml0eUVycm9yID0gZTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNvbWJpbmF0aW9uKCkge1xuICAgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG4gICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKHNhbml0eUVycm9yKSB7XG4gICAgICAgIHRocm93IHNhbml0eUVycm9yO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uKTtcbiAgICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG4gICAgICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKHdhcm5pbmdNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgIHZhciBuZXh0U3RhdGUgPSB7fTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIga2V5ID0gZmluYWxSZWR1Y2VyS2V5c1tpXTtcbiAgICAgICAgdmFyIHJlZHVjZXIgPSBmaW5hbFJlZHVjZXJzW2tleV07XG4gICAgICAgIHZhciBwcmV2aW91c1N0YXRlRm9yS2V5ID0gc3RhdGVba2V5XTtcbiAgICAgICAgdmFyIG5leHRTdGF0ZUZvcktleSA9IHJlZHVjZXIocHJldmlvdXNTdGF0ZUZvcktleSwgYWN0aW9uKTtcbiAgICAgICAgaWYgKHR5cGVvZiBuZXh0U3RhdGVGb3JLZXkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKGtleSwgYWN0aW9uKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0U3RhdGVba2V5XSA9IG5leHRTdGF0ZUZvcktleTtcbiAgICAgICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgbmV4dFN0YXRlRm9yS2V5ICE9PSBwcmV2aW91c1N0YXRlRm9yS2V5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgICB9O1xuICB9XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGJpbmRBY3Rpb25DcmVhdG9ycztcbmZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKGFjdGlvbkNyZWF0b3IuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb24gY3JlYXRvcnMsIGludG8gYW4gb2JqZWN0IHdpdGggdGhlXG4gKiBzYW1lIGtleXMsIGJ1dCB3aXRoIGV2ZXJ5IGZ1bmN0aW9uIHdyYXBwZWQgaW50byBhIGBkaXNwYXRjaGAgY2FsbCBzbyB0aGV5XG4gKiBtYXkgYmUgaW52b2tlZCBkaXJlY3RseS4gVGhpcyBpcyBqdXN0IGEgY29udmVuaWVuY2UgbWV0aG9kLCBhcyB5b3UgY2FuIGNhbGxcbiAqIGBzdG9yZS5kaXNwYXRjaChNeUFjdGlvbkNyZWF0b3JzLmRvU29tZXRoaW5nKCkpYCB5b3Vyc2VsZiBqdXN0IGZpbmUuXG4gKlxuICogRm9yIGNvbnZlbmllbmNlLCB5b3UgY2FuIGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQsXG4gKiBhbmQgZ2V0IGEgZnVuY3Rpb24gaW4gcmV0dXJuLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBhY3Rpb25DcmVhdG9ycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb25cbiAqIGNyZWF0b3IgZnVuY3Rpb25zLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpbiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhc2BcbiAqIHN5bnRheC4gWW91IG1heSBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzcGF0Y2ggVGhlIGBkaXNwYXRjaGAgZnVuY3Rpb24gYXZhaWxhYmxlIG9uIHlvdXIgUmVkdXhcbiAqIHN0b3JlLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFRoZSBvYmplY3QgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBvYmplY3QsIGJ1dCB3aXRoXG4gKiBldmVyeSBhY3Rpb24gY3JlYXRvciB3cmFwcGVkIGludG8gdGhlIGBkaXNwYXRjaGAgY2FsbC4gSWYgeW91IHBhc3NlZCBhXG4gKiBmdW5jdGlvbiBhcyBgYWN0aW9uQ3JlYXRvcnNgLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYWxzbyBiZSBhIHNpbmdsZVxuICogZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpIHtcbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyAhPT0gJ29iamVjdCcgfHwgYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBY3Rpb25DcmVhdG9ycyBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiwgaW5zdGVhZCByZWNlaXZlZCAnICsgKGFjdGlvbkNyZWF0b3JzID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGFjdGlvbkNyZWF0b3JzKSArICcuICcgKyAnRGlkIHlvdSB3cml0ZSBcImltcG9ydCBBY3Rpb25DcmVhdG9ycyBmcm9tXCIgaW5zdGVhZCBvZiBcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cIj8nKTtcbiAgfVxuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWN0aW9uQ3JlYXRvcnMpO1xuICB2YXIgYm91bmRBY3Rpb25DcmVhdG9ycyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICB2YXIgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV07XG4gICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBib3VuZEFjdGlvbkNyZWF0b3JzW2tleV0gPSBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBib3VuZEFjdGlvbkNyZWF0b3JzO1xufSIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYXBwbHlNaWRkbGV3YXJlO1xudmFyIF9jb21wb3NlID0gcmVxdWlyZSgnLi9jb21wb3NlJyk7XG52YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1wiZGVmYXVsdFwiOiBvYmp9O1xufVxuZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgIG1pZGRsZXdhcmVzID0gQXJyYXkoX2xlbiksXG4gICAgICBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbihjcmVhdGVTdG9yZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGVuaGFuY2VyKSB7XG4gICAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZShyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGVuaGFuY2VyKTtcbiAgICAgIHZhciBfZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaDtcbiAgICAgIHZhciBjaGFpbiA9IFtdO1xuICAgICAgdmFyIG1pZGRsZXdhcmVBUEkgPSB7XG4gICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiBfZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNoYWluID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uKG1pZGRsZXdhcmUpIHtcbiAgICAgICAgcmV0dXJuIG1pZGRsZXdhcmUobWlkZGxld2FyZUFQSSk7XG4gICAgICB9KTtcbiAgICAgIF9kaXNwYXRjaCA9IF9jb21wb3NlMltcImRlZmF1bHRcIl0uYXBwbHkodW5kZWZpbmVkLCBjaGFpbikoc3RvcmUuZGlzcGF0Y2gpO1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdG9yZSwge2Rpc3BhdGNoOiBfZGlzcGF0Y2h9KTtcbiAgICB9O1xuICB9O1xufVxuIiwiLyogKi8gXG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tcG9zZTtcbi8qKlxuICogQ29tcG9zZXMgc2luZ2xlLWFyZ3VtZW50IGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuIFRoZSByaWdodG1vc3RcbiAqIGZ1bmN0aW9uIGNhbiB0YWtlIG11bHRpcGxlIGFyZ3VtZW50cyBhcyBpdCBwcm92aWRlcyB0aGUgc2lnbmF0dXJlIGZvclxuICogdGhlIHJlc3VsdGluZyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gZnVuY3MgVGhlIGZ1bmN0aW9ucyB0byBjb21wb3NlLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIG9idGFpbmVkIGJ5IGNvbXBvc2luZyB0aGUgYXJndW1lbnQgZnVuY3Rpb25zXG4gKiBmcm9tIHJpZ2h0IHRvIGxlZnQuIEZvciBleGFtcGxlLCBjb21wb3NlKGYsIGcsIGgpIGlzIGlkZW50aWNhbCB0byBkb2luZ1xuICogKC4uLmFyZ3MpID0+IGYoZyhoKC4uLmFyZ3MpKSkuXG4gKi9cblxuZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgZnVuY3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAoZnVuY3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBhcmc7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBsYXN0ID0gZnVuY3NbZnVuY3MubGVuZ3RoIC0gMV07XG4gICAgICB2YXIgcmVzdCA9IGZ1bmNzLnNsaWNlKDAsIC0xKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHY6IGZ1bmN0aW9uIHYoKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3QucmVkdWNlUmlnaHQoZnVuY3Rpb24gKGNvbXBvc2VkLCBmKSB7XG4gICAgICAgICAgICByZXR1cm4gZihjb21wb3NlZCk7XG4gICAgICAgICAgfSwgbGFzdC5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0oKTtcblxuICAgIGlmICh0eXBlb2YgX3JldCA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcbiAgfVxufSIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB3YXJuaW5nO1xuLyoqXG4gKiBQcmludHMgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICB0cnkge1xuICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgaWYgeW91IGVuYWJsZVxuICAgIC8vIFwiYnJlYWsgb24gYWxsIGV4Y2VwdGlvbnNcIiBpbiB5b3VyIGNvbnNvbGUsXG4gICAgLy8gaXQgd291bGQgcGF1c2UgdGhlIGV4ZWN1dGlvbiBhdCB0aGlzIGxpbmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIH0gY2F0Y2ggKGUpIHt9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tZW1wdHkgKi9cbn0iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgZXhwb3J0cy5jb21wb3NlID0gZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBleHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IGV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gZXhwb3J0cy5jcmVhdGVTdG9yZSA9IHVuZGVmaW5lZDtcbiAgdmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoJy4vY3JlYXRlU3RvcmUnKTtcbiAgdmFyIF9jcmVhdGVTdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVTdG9yZSk7XG4gIHZhciBfY29tYmluZVJlZHVjZXJzID0gcmVxdWlyZSgnLi9jb21iaW5lUmVkdWNlcnMnKTtcbiAgdmFyIF9jb21iaW5lUmVkdWNlcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tYmluZVJlZHVjZXJzKTtcbiAgdmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMgPSByZXF1aXJlKCcuL2JpbmRBY3Rpb25DcmVhdG9ycycpO1xuICB2YXIgX2JpbmRBY3Rpb25DcmVhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaW5kQWN0aW9uQ3JlYXRvcnMpO1xuICB2YXIgX2FwcGx5TWlkZGxld2FyZSA9IHJlcXVpcmUoJy4vYXBwbHlNaWRkbGV3YXJlJyk7XG4gIHZhciBfYXBwbHlNaWRkbGV3YXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwcGx5TWlkZGxld2FyZSk7XG4gIHZhciBfY29tcG9zZSA9IHJlcXVpcmUoJy4vY29tcG9zZScpO1xuICB2YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG4gIHZhciBfd2FybmluZyA9IHJlcXVpcmUoJy4vdXRpbHMvd2FybmluZycpO1xuICB2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG4gIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcImRlZmF1bHRcIjogb2JqfTtcbiAgfVxuICBmdW5jdGlvbiBpc0NydXNoZWQoKSB7fVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgaXNDcnVzaGVkLm5hbWUgPT09ICdzdHJpbmcnICYmIGlzQ3J1c2hlZC5uYW1lICE9PSAnaXNDcnVzaGVkJykge1xuICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSgnWW91IGFyZSBjdXJyZW50bHkgdXNpbmcgbWluaWZpZWQgY29kZSBvdXRzaWRlIG9mIE5PREVfRU5WID09PSBcXCdwcm9kdWN0aW9uXFwnLiAnICsgJ1RoaXMgbWVhbnMgdGhhdCB5b3UgYXJlIHJ1bm5pbmcgYSBzbG93ZXIgZGV2ZWxvcG1lbnQgYnVpbGQgb2YgUmVkdXguICcgKyAnWW91IGNhbiB1c2UgbG9vc2UtZW52aWZ5IChodHRwczovL2dpdGh1Yi5jb20vemVydG9zaC9sb29zZS1lbnZpZnkpIGZvciBicm93c2VyaWZ5ICcgKyAnb3IgRGVmaW5lUGx1Z2luIGZvciB3ZWJwYWNrIChodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMwMDMwMDMxKSAnICsgJ3RvIGVuc3VyZSB5b3UgaGF2ZSB0aGUgY29ycmVjdCBjb2RlIGZvciB5b3VyIHByb2R1Y3Rpb24gYnVpbGQuJyk7XG4gIH1cbiAgZXhwb3J0cy5jcmVhdGVTdG9yZSA9IF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdO1xuICBleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IF9jb21iaW5lUmVkdWNlcnMyW1wiZGVmYXVsdFwiXTtcbiAgZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBfYmluZEFjdGlvbkNyZWF0b3JzMltcImRlZmF1bHRcIl07XG4gIGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gX2FwcGx5TWlkZGxld2FyZTJbXCJkZWZhdWx0XCJdO1xuICBleHBvcnRzLmNvbXBvc2UgPSBfY29tcG9zZTJbXCJkZWZhdWx0XCJdO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5wbTpyZWR1eEAzLjUuMi9saWIvaW5kZXguanNcIik7IiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzWydkZWZhdWx0J10gPSB0aHVua01pZGRsZXdhcmU7XG5mdW5jdGlvbiB0aHVua01pZGRsZXdhcmUoX3JlZikge1xuICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoO1xuICB2YXIgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlO1xuXG4gIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gYWN0aW9uKGRpc3BhdGNoLCBnZXRTdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgfTtcbiAgfTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJucG06cmVkdXgtdGh1bmtAMi4wLjEvbGliL2luZGV4LmpzXCIpOyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQge1xuICBjcmVhdGVTdG9yZSxcbiAgY29tcG9zZSxcbiAgYXBwbHlNaWRkbGV3YXJlLFxuICBjb21iaW5lUmVkdWNlcnNcbn0gZnJvbSAncmVkdXgnXG5pbXBvcnQgdGh1bmtNaWRkbGV3YXJlIGZyb20gJ3JlZHV4LXRodW5rJ1xuXG5leHBvcnQgZGVmYXVsdCAoeyBpbml0aWFsU3RhdGUgPSB7fSwgcmVkdWNlcnMsIG1pZGRsZXdhcmVzID0gW10gfSkgPT4ge1xuICBjb25zdCByb290UmVkdWNlciA9IGNvbWJpbmVSZWR1Y2Vycyh7XG4gICAgLi4ucmVkdWNlcnNcbiAgfSlcbiAgcmV0dXJuIGNvbXBvc2UoXG4gICAgYXBwbHlNaWRkbGV3YXJlKHRodW5rTWlkZGxld2FyZSwgLi4ubWlkZGxld2FyZXMpXG4gICkoY3JlYXRlU3RvcmUpKHJvb3RSZWR1Y2VyLCBpbml0aWFsU3RhdGUpXG59XG4iLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IHtcbiAgRkVUQ0hfRVZFTlRTLFxuICBFVkVOVFNfU1VDQ0VTUyxcbiAgRVZFTlRTX0ZBSUxFRCxcblxuICBDSE9PU0VfRklMVEVSX1NFTEVDVCxcbiAgRklMVEVSX0JZX1RFWFRcbn0gZnJvbSAnLi4vYWN0aW9ucy9pbmRleCdcblxuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICBldmVudHM6IEFycmF5LmFwcGx5KG51bGwsIHsgbGVuZ3RoOiA1IH0pLm1hcCgoKSA9PiAoe1xuICAgIHRpdGxlOiAnLi4uJyxcbiAgICBkYXRlOiB7IGRheTogMCwgbW9udGg6ICcnLCB5ZWFyOiAwIH0sXG4gICAgaW1hZ2U6ICcnXG4gIH0pKSxcbiAgaXNGZXRjaGluZzogZmFsc2Vcbn1cblxuY29uc3QgZXZlbnRzID0gKHN0YXRlID0gaW5pdGlhbFN0YXRlLCBhY3Rpb24pID0+IHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgRkVUQ0hfRVZFTlRTOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGlzRmV0Y2hpbmc6IHRydWVcbiAgICAgIH1cblxuICAgIGNhc2UgRVZFTlRTX1NVQ0NFU1M6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZXZlbnRzOiBhY3Rpb24ucGF5bG9hZC5ldmVudHMsXG4gICAgICAgIGlzRmV0Y2hpbmc6IGZhbHNlXG4gICAgICB9XG5cbiAgICBjYXNlIEVWRU5UU19GQUlMRUQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgaXNGZXRjaGluZzogZmFsc2VcbiAgICAgIH1cblxuICAgIGNhc2UgQ0hPT1NFX0ZJTFRFUl9TRUxFQ1Q6XG4gICAgICBjb25zdCB7IGZpZWxkLCB2YWx1ZSB9ID0gYWN0aW9uLnBheWxvYWRcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBldmVudHM6IHN0YXRlLmV2ZW50cy5tYXAoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgbGV0IHNob3VsZFNob3dCeU1vbnRoID0gZXZlbnQuc2hvdWxkU2hvd0J5TW9udGggPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICA6IGV2ZW50LnNob3VsZFNob3dCeU1vbnRoXG4gICAgICAgICAgbGV0IHNob3VsZFNob3dCeVN0YXRlID0gZXZlbnQuc2hvdWxkU2hvd0J5U3RhdGUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICA6IGV2ZW50LnNob3VsZFNob3dCeVN0YXRlXG5cbiAgICAgICAgICBpZiAoZmllbGQgPT09ICdtb250aHMnKSB7XG4gICAgICAgICAgICBzaG91bGRTaG93QnlNb250aCA9ICF2YWx1ZVxuICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgOiBldmVudC5kYXRlLm1vbnRoID09PSB2YWx1ZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChmaWVsZCA9PT0gJ3N0YXRlJykge1xuICAgICAgICAgICAgc2hvdWxkU2hvd0J5U3RhdGUgPSAhdmFsdWVcbiAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgIDogZXZlbnQubG9jYXRpb24uc3RhdGUgPT09IHZhbHVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmV2ZW50LFxuICAgICAgICAgICAgc2hvdWxkU2hvd0J5TW9udGgsXG4gICAgICAgICAgICBzaG91bGRTaG93QnlTdGF0ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgIGNhc2UgRklMVEVSX0JZX1RFWFQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZXZlbnRzOiBzdGF0ZS5ldmVudHMubWFwKChldmVudCkgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5ldmVudCxcbiAgICAgICAgICAgIHNob3VsZFNob3dCeVRleHQ6ICEhZXZlbnQudGl0bGVcbiAgICAgICAgICAgICAgLm1hdGNoKG5ldyBSZWdFeHAoYCR7YWN0aW9uLnBheWxvYWQudmFsdWV9YCwgJ2knKSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIHN0YXRlXG59XG5cbmV4cG9ydCBkZWZhdWx0IGV2ZW50c1xuIiwiLyogKi8gXG52YXIgJCA9IHJlcXVpcmUoJy4vJCcpLFxuICAgIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi8kLnRvLW9iamVjdCcpLFxuICAgIElPYmplY3QgPSByZXF1aXJlKCcuLyQuaW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLyQuZmFpbHMnKShmdW5jdGlvbigpIHtcbiAgdmFyIGEgPSBPYmplY3QuYXNzaWduLFxuICAgICAgQSA9IHt9LFxuICAgICAgQiA9IHt9LFxuICAgICAgUyA9IFN5bWJvbCgpLFxuICAgICAgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG4gIEFbU10gPSA3O1xuICBLLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcbiAgICBCW2tdID0gaztcbiAgfSk7XG4gIHJldHVybiBhKHt9LCBBKVtTXSAhPSA3IHx8IE9iamVjdC5rZXlzKGEoe30sIEIpKS5qb2luKCcnKSAhPSBLO1xufSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpIHtcbiAgdmFyIFQgPSB0b09iamVjdCh0YXJnZXQpLFxuICAgICAgJCQgPSBhcmd1bWVudHMsXG4gICAgICAkJGxlbiA9ICQkLmxlbmd0aCxcbiAgICAgIGluZGV4ID0gMSxcbiAgICAgIGdldEtleXMgPSAkLmdldEtleXMsXG4gICAgICBnZXRTeW1ib2xzID0gJC5nZXRTeW1ib2xzLFxuICAgICAgaXNFbnVtID0gJC5pc0VudW07XG4gIHdoaWxlICgkJGxlbiA+IGluZGV4KSB7XG4gICAgdmFyIFMgPSBJT2JqZWN0KCQkW2luZGV4KytdKSxcbiAgICAgICAga2V5cyA9IGdldFN5bWJvbHMgPyBnZXRLZXlzKFMpLmNvbmNhdChnZXRTeW1ib2xzKFMpKSA6IGdldEtleXMoUyksXG4gICAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoLFxuICAgICAgICBqID0gMCxcbiAgICAgICAga2V5O1xuICAgIHdoaWxlIChsZW5ndGggPiBqKVxuICAgICAgaWYgKGlzRW51bS5jYWxsKFMsIGtleSA9IGtleXNbaisrXSkpXG4gICAgICAgIFRba2V5XSA9IFNba2V5XTtcbiAgfVxuICByZXR1cm4gVDtcbn0gOiBPYmplY3QuYXNzaWduO1xuIiwiLyogKi8gXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vJC5leHBvcnQnKTtcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GLCAnT2JqZWN0Jywge2Fzc2lnbjogcmVxdWlyZSgnLi8kLm9iamVjdC1hc3NpZ24nKX0pO1xuIiwiLyogKi8gXG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuT2JqZWN0LmFzc2lnbjtcbiIsIi8qICovIFxubW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ25cIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCIvKiAqLyBcblwidXNlIHN0cmljdFwiO1xudmFyIF9PYmplY3QkYXNzaWduID0gcmVxdWlyZSgnLi4vY29yZS1qcy9vYmplY3QvYXNzaWduJylbXCJkZWZhdWx0XCJdO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfT2JqZWN0JGFzc2lnbiB8fCBmdW5jdGlvbih0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiIsIi8qICovIFxudmFyICQgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYykge1xuICByZXR1cm4gJC5zZXREZXNjKGl0LCBrZXksIGRlc2MpO1xufTtcbiIsIi8qICovIFxubW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCIvKiAqLyBcblwidXNlIHN0cmljdFwiO1xudmFyIF9PYmplY3QkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHknKVtcImRlZmF1bHRcIl07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uKG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIF9PYmplY3QkZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuIiwiLyogKi8gXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIGN0eCA9IHJlcXVpcmUoJy4vJC5jdHgnKSxcbiAgICAkZXhwb3J0ID0gcmVxdWlyZSgnLi8kLmV4cG9ydCcpLFxuICAgIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi8kLnRvLW9iamVjdCcpLFxuICAgIGNhbGwgPSByZXF1aXJlKCcuLyQuaXRlci1jYWxsJyksXG4gICAgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuLyQuaXMtYXJyYXktaXRlcicpLFxuICAgIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi8kLnRvLWxlbmd0aCcpLFxuICAgIGdldEl0ZXJGbiA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuLyQuaXRlci1kZXRlY3QnKShmdW5jdGlvbihpdGVyKSB7XG4gIEFycmF5LmZyb20oaXRlcik7XG59KSwgJ0FycmF5Jywge2Zyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlKSB7XG4gICAgdmFyIE8gPSB0b09iamVjdChhcnJheUxpa2UpLFxuICAgICAgICBDID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheSxcbiAgICAgICAgJCQgPSBhcmd1bWVudHMsXG4gICAgICAgICQkbGVuID0gJCQubGVuZ3RoLFxuICAgICAgICBtYXBmbiA9ICQkbGVuID4gMSA/ICQkWzFdIDogdW5kZWZpbmVkLFxuICAgICAgICBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZCxcbiAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICBpdGVyRm4gPSBnZXRJdGVyRm4oTyksXG4gICAgICAgIGxlbmd0aCxcbiAgICAgICAgcmVzdWx0LFxuICAgICAgICBzdGVwLFxuICAgICAgICBpdGVyYXRvcjtcbiAgICBpZiAobWFwcGluZylcbiAgICAgIG1hcGZuID0gY3R4KG1hcGZuLCAkJGxlbiA+IDIgPyAkJFsyXSA6IHVuZGVmaW5lZCwgMik7XG4gICAgaWYgKGl0ZXJGbiAhPSB1bmRlZmluZWQgJiYgIShDID09IEFycmF5ICYmIGlzQXJyYXlJdGVyKGl0ZXJGbikpKSB7XG4gICAgICBmb3IgKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoTyksIHJlc3VsdCA9IG5ldyBDOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7IGluZGV4KyspIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IG1hcHBpbmcgPyBjYWxsKGl0ZXJhdG9yLCBtYXBmbiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgICBmb3IgKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBtYXBwaW5nID8gbWFwZm4oT1tpbmRleF0sIGluZGV4KSA6IE9baW5kZXhdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQubGVuZ3RoID0gaW5kZXg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfX0pO1xuIiwiLyogKi8gXG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LmFycmF5LmZyb20nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5BcnJheS5mcm9tO1xuIiwiLyogKi8gXG5tb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIi8qICovIFxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX0FycmF5JGZyb20gPSByZXF1aXJlKCcuLi9jb3JlLWpzL2FycmF5L2Zyb20nKVtcImRlZmF1bHRcIl07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsXG4gICAgICAgIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKylcbiAgICAgIGFycjJbaV0gPSBhcnJbaV07XG4gICAgcmV0dXJuIGFycjI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIF9BcnJheSRmcm9tKGFycik7XG4gIH1cbn07XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuIiwiLyogKi8gXG5cImZvcm1hdCBjanNcIjtcbiIsIi8qICovIFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vJC50by1pbnRlZ2VyJyksXG4gICAgZGVmaW5lZCA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24odGhhdCwgcG9zKSB7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSksXG4gICAgICAgIGkgPSB0b0ludGVnZXIocG9zKSxcbiAgICAgICAgbCA9IHMubGVuZ3RoLFxuICAgICAgICBhLFxuICAgICAgICBiO1xuICAgIGlmIChpIDwgMCB8fCBpID49IGwpXG4gICAgICByZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZiA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYSA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgfTtcbn07XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciAkYXQgPSByZXF1aXJlKCcuLyQuc3RyaW5nLWF0JykodHJ1ZSk7XG5yZXF1aXJlKCcuLyQuaXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbihpdGVyYXRlZCkge1xuICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTtcbiAgdGhpcy5faSA9IDA7XG59LCBmdW5jdGlvbigpIHtcbiAgdmFyIE8gPSB0aGlzLl90LFxuICAgICAgaW5kZXggPSB0aGlzLl9pLFxuICAgICAgcG9pbnQ7XG4gIGlmIChpbmRleCA+PSBPLmxlbmd0aClcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIGRvbmU6IHRydWVcbiAgICB9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiBwb2ludCxcbiAgICBkb25lOiBmYWxzZVxuICB9O1xufSk7XG4iLCIvKiAqLyBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfTsiLCIvKiAqLyBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZG9uZSwgdmFsdWUpe1xuICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcbn07IiwiLyogKi8gXG52YXIgY29mID0gcmVxdWlyZSgnLi8kLmNvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KSB7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07XG4iLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ID09IHVuZGVmaW5lZCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIgKyBpdCk7XG4gIHJldHVybiBpdDtcbn07IiwiLyogKi8gXG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vJC5pb2JqZWN0JyksXG4gICAgZGVmaW5lZCA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi8kJyksXG4gICAgZGVzY3JpcHRvciA9IHJlcXVpcmUoJy4vJC5wcm9wZXJ0eS1kZXNjJyksXG4gICAgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuLyQuc2V0LXRvLXN0cmluZy10YWcnKSxcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xucmVxdWlyZSgnLi8kLmhpZGUnKShJdGVyYXRvclByb3RvdHlwZSwgcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXM7XG59KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpIHtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gJC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgPSByZXF1aXJlKCcuLyQubGlicmFyeScpLFxuICAgICRleHBvcnQgPSByZXF1aXJlKCcuLyQuZXhwb3J0JyksXG4gICAgcmVkZWZpbmUgPSByZXF1aXJlKCcuLyQucmVkZWZpbmUnKSxcbiAgICBoaWRlID0gcmVxdWlyZSgnLi8kLmhpZGUnKSxcbiAgICBoYXMgPSByZXF1aXJlKCcuLyQuaGFzJyksXG4gICAgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpLFxuICAgICRpdGVyQ3JlYXRlID0gcmVxdWlyZSgnLi8kLml0ZXItY3JlYXRlJyksXG4gICAgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuLyQuc2V0LXRvLXN0cmluZy10YWcnKSxcbiAgICBnZXRQcm90byA9IHJlcXVpcmUoJy4vJCcpLmdldFByb3RvLFxuICAgIElURVJBVE9SID0gcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpLFxuICAgIEJVR0dZID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpLFxuICAgIEZGX0lURVJBVE9SID0gJ0BAaXRlcmF0b3InLFxuICAgIEtFWVMgPSAna2V5cycsXG4gICAgVkFMVUVTID0gJ3ZhbHVlcyc7XG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCkge1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihraW5kKSB7XG4gICAgaWYgKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKVxuICAgICAgcmV0dXJuIHByb3RvW2tpbmRdO1xuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgY2FzZSBLRVlTOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24ga2V5cygpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpO1xuICAgICAgICB9O1xuICAgICAgY2FzZSBWQUxVRVM6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKSB7XG4gICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpO1xuICAgIH07XG4gIH07XG4gIHZhciBUQUcgPSBOQU1FICsgJyBJdGVyYXRvcicsXG4gICAgICBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVMsXG4gICAgICBWQUxVRVNfQlVHID0gZmFsc2UsXG4gICAgICBwcm90byA9IEJhc2UucHJvdG90eXBlLFxuICAgICAgJG5hdGl2ZSA9IHByb3RvW0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXSxcbiAgICAgICRkZWZhdWx0ID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVCksXG4gICAgICBtZXRob2RzLFxuICAgICAga2V5O1xuICBpZiAoJG5hdGl2ZSkge1xuICAgIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvKCRkZWZhdWx0LmNhbGwobmV3IEJhc2UpKTtcbiAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICBpZiAoIUxJQlJBUlkgJiYgaGFzKHByb3RvLCBGRl9JVEVSQVRPUikpXG4gICAgICBoaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgaWYgKERFRl9WQUxVRVMgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKSB7XG4gICAgICAgIHJldHVybiAkbmF0aXZlLmNhbGwodGhpcyk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBpZiAoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpIHtcbiAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuICB9XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSA9IHJldHVyblRoaXM7XG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKVxuICAgIH07XG4gICAgaWYgKEZPUkNFRClcbiAgICAgIGZvciAoa2V5IGluIG1ldGhvZHMpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIHByb3RvKSlcbiAgICAgICAgICByZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgICAgfVxuICAgIGVsc2VcbiAgICAgICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gcmVxdWlyZSgnLi8kLmFkZC10by11bnNjb3BhYmxlcycpLFxuICAgIHN0ZXAgPSByZXF1aXJlKCcuLyQuaXRlci1zdGVwJyksXG4gICAgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpLFxuICAgIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vJC50by1pb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCkge1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTtcbiAgdGhpcy5faSA9IDA7XG4gIHRoaXMuX2sgPSBraW5kO1xufSwgZnVuY3Rpb24oKSB7XG4gIHZhciBPID0gdGhpcy5fdCxcbiAgICAgIGtpbmQgPSB0aGlzLl9rLFxuICAgICAgaW5kZXggPSB0aGlzLl9pKys7XG4gIGlmICghTyB8fCBpbmRleCA+PSBPLmxlbmd0aCkge1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYgKGtpbmQgPT0gJ2tleXMnKVxuICAgIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpXG4gICAgcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG4iLCIvKiAqLyBcbnJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpO1xuSXRlcmF0b3JzLk5vZGVMaXN0ID0gSXRlcmF0b3JzLkhUTUxDb2xsZWN0aW9uID0gSXRlcmF0b3JzLkFycmF5O1xuIiwiLyogKi8gXG5tb2R1bGUuZXhwb3J0cyA9IHRydWU7IiwiLyogKi8gXG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpLFxuICAgIGNvcmUgPSByZXF1aXJlKCcuLyQuY29yZScpLFxuICAgIGN0eCA9IHJlcXVpcmUoJy4vJC5jdHgnKSxcbiAgICBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKSB7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GLFxuICAgICAgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuRyxcbiAgICAgIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlMsXG4gICAgICBJU19QUk9UTyA9IHR5cGUgJiAkZXhwb3J0LlAsXG4gICAgICBJU19CSU5EID0gdHlwZSAmICRleHBvcnQuQixcbiAgICAgIElTX1dSQVAgPSB0eXBlICYgJGV4cG9ydC5XLFxuICAgICAgZXhwb3J0cyA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pLFxuICAgICAgdGFyZ2V0ID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXSxcbiAgICAgIGtleSxcbiAgICAgIG93bixcbiAgICAgIG91dDtcbiAgaWYgKElTX0dMT0JBTClcbiAgICBzb3VyY2UgPSBuYW1lO1xuICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiBrZXkgaW4gdGFyZ2V0O1xuICAgIGlmIChvd24gJiYga2V5IGluIGV4cG9ydHMpXG4gICAgICBjb250aW51ZTtcbiAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldO1xuICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQykge1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbihwYXJhbSkge1xuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIEMgPyBuZXcgQyhwYXJhbSkgOiBDKHBhcmFtKTtcbiAgICAgIH07XG4gICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgICByZXR1cm4gRjtcbiAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgaWYgKElTX1BST1RPKVxuICAgICAgKGV4cG9ydHNbUFJPVE9UWVBFXSB8fCAoZXhwb3J0c1tQUk9UT1RZUEVdID0ge30pKVtrZXldID0gb3V0O1xuICB9XG59O1xuJGV4cG9ydC5GID0gMTtcbiRleHBvcnQuRyA9IDI7XG4kZXhwb3J0LlMgPSA0O1xuJGV4cG9ydC5QID0gODtcbiRleHBvcnQuQiA9IDE2O1xuJGV4cG9ydC5XID0gMzI7XG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG4iLCIvKiAqLyBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIENvbnN0cnVjdG9yLCBuYW1lKXtcbiAgaWYoIShpdCBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBUeXBlRXJyb3IobmFtZSArIFwiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yIVwiKTtcbiAgcmV0dXJuIGl0O1xufTsiLCIvKiAqLyBcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vJC5hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcykge1xuICB0cnkge1xuICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgIGlmIChyZXQgIT09IHVuZGVmaW5lZClcbiAgICAgIGFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcbiIsIi8qICovIFxudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vJC5pdGVyYXRvcnMnKSxcbiAgICBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vJC53a3MnKSgnaXRlcmF0b3InKSxcbiAgICBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCkge1xuICByZXR1cm4gaXQgIT09IHVuZGVmaW5lZCAmJiAoSXRlcmF0b3JzLkFycmF5ID09PSBpdCB8fCBBcnJheVByb3RvW0lURVJBVE9SXSA9PT0gaXQpO1xufTtcbiIsIi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgID0gTWF0aC5jZWlsXG4gICwgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufTsiLCIvKiAqLyBcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuLyQudG8taW50ZWdlcicpLFxuICAgIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCkge1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDtcbn07XG4iLCIvKiAqLyBcbnZhciBjb2YgPSByZXF1aXJlKCcuLyQuY29mJyksXG4gICAgVEFHID0gcmVxdWlyZSgnLi8kLndrcycpKCd0b1N0cmluZ1RhZycpLFxuICAgIEFSRyA9IGNvZihmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHM7XG4gICAgfSgpKSA9PSAnQXJndW1lbnRzJztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpIHtcbiAgdmFyIE8sXG4gICAgICBULFxuICAgICAgQjtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnIDogdHlwZW9mKFQgPSAoTyA9IE9iamVjdChpdCkpW1RBR10pID09ICdzdHJpbmcnID8gVCA6IEFSRyA/IGNvZihPKSA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07XG4iLCIvKiAqLyBcbm1vZHVsZS5leHBvcnRzID0ge307IiwiLyogKi8gXG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vJC5jbGFzc29mJyksXG4gICAgSVRFUkFUT1IgPSByZXF1aXJlKCcuLyQud2tzJykoJ2l0ZXJhdG9yJyksXG4gICAgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLyQuY29yZScpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpIHtcbiAgaWYgKGl0ICE9IHVuZGVmaW5lZClcbiAgICByZXR1cm4gaXRbSVRFUkFUT1JdIHx8IGl0WydAQGl0ZXJhdG9yJ10gfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcbn07XG4iLCIvKiAqLyBcbnZhciBjdHggPSByZXF1aXJlKCcuLyQuY3R4JyksXG4gICAgY2FsbCA9IHJlcXVpcmUoJy4vJC5pdGVyLWNhbGwnKSxcbiAgICBpc0FycmF5SXRlciA9IHJlcXVpcmUoJy4vJC5pcy1hcnJheS1pdGVyJyksXG4gICAgYW5PYmplY3QgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0JyksXG4gICAgdG9MZW5ndGggPSByZXF1aXJlKCcuLyQudG8tbGVuZ3RoJyksXG4gICAgZ2V0SXRlckZuID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmFibGUsIGVudHJpZXMsIGZuLCB0aGF0KSB7XG4gIHZhciBpdGVyRm4gPSBnZXRJdGVyRm4oaXRlcmFibGUpLFxuICAgICAgZiA9IGN0eChmbiwgdGhhdCwgZW50cmllcyA/IDIgOiAxKSxcbiAgICAgIGluZGV4ID0gMCxcbiAgICAgIGxlbmd0aCxcbiAgICAgIHN0ZXAsXG4gICAgICBpdGVyYXRvcjtcbiAgaWYgKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgaWYgKGlzQXJyYXlJdGVyKGl0ZXJGbikpXG4gICAgZm9yIChsZW5ndGggPSB0b0xlbmd0aChpdGVyYWJsZS5sZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgICAgZW50cmllcyA/IGYoYW5PYmplY3Qoc3RlcCA9IGl0ZXJhYmxlW2luZGV4XSlbMF0sIHN0ZXBbMV0pIDogZihpdGVyYWJsZVtpbmRleF0pO1xuICAgIH1cbiAgZWxzZVxuICAgIGZvciAoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChpdGVyYWJsZSk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgKSB7XG4gICAgICBjYWxsKGl0ZXJhdG9yLCBmLCBzdGVwLnZhbHVlLCBlbnRyaWVzKTtcbiAgICB9XG59O1xuIiwiLyogKi8gXG52YXIgZ2V0RGVzYyA9IHJlcXVpcmUoJy4vJCcpLmdldERlc2MsXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuLyQuaXMtb2JqZWN0JyksXG4gICAgYW5PYmplY3QgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0Jyk7XG52YXIgY2hlY2sgPSBmdW5jdGlvbihPLCBwcm90bykge1xuICBhbk9iamVjdChPKTtcbiAgaWYgKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpXG4gICAgdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyBmdW5jdGlvbih0ZXN0LCBidWdneSwgc2V0KSB7XG4gICAgdHJ5IHtcbiAgICAgIHNldCA9IHJlcXVpcmUoJy4vJC5jdHgnKShGdW5jdGlvbi5jYWxsLCBnZXREZXNjKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQsIDIpO1xuICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGJ1Z2d5ID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKSB7XG4gICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICBpZiAoYnVnZ3kpXG4gICAgICAgIE8uX19wcm90b19fID0gcHJvdG87XG4gICAgICBlbHNlXG4gICAgICAgIHNldChPLCBwcm90byk7XG4gICAgICByZXR1cm4gTztcbiAgICB9O1xuICB9KHt9LCBmYWxzZSkgOiB1bmRlZmluZWQpLFxuICBjaGVjazogY2hlY2tcbn07XG4iLCIvLyA3LjIuOSBTYW1lVmFsdWUoeCwgeSlcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmlzIHx8IGZ1bmN0aW9uIGlzKHgsIHkpe1xuICByZXR1cm4geCA9PT0geSA/IHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5IDogeCAhPSB4ICYmIHkgIT0geTtcbn07IiwiLyogKi8gXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLyQuaXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gIGlmICghaXNPYmplY3QoaXQpKVxuICAgIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsIi8qICovIFxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmFuLW9iamVjdCcpLFxuICAgIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vJC5hLWZ1bmN0aW9uJyksXG4gICAgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vJC53a3MnKSgnc3BlY2llcycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihPLCBEKSB7XG4gIHZhciBDID0gYW5PYmplY3QoTykuY29uc3RydWN0b3IsXG4gICAgICBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QoQylbU1BFQ0lFU10pID09IHVuZGVmaW5lZCA/IEQgOiBhRnVuY3Rpb24oUyk7XG59O1xuIiwiLyogKi8gXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTsiLCIvKiAqLyBcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuLyQuYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmICh0aGF0ID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIGZuO1xuICBzd2l0Y2ggKGxlbmd0aCkge1xuICAgIGNhc2UgMTpcbiAgICAgIHJldHVybiBmdW5jdGlvbihhKSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgICAgfTtcbiAgICBjYXNlIDI6XG4gICAgICByZXR1cm4gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICAgIH07XG4gICAgY2FzZSAzOlxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG4iLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIGFyZ3MsIHRoYXQpe1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaChhcmdzLmxlbmd0aCl7XG4gICAgY2FzZSAwOiByZXR1cm4gdW4gPyBmbigpXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQpO1xuICAgIGNhc2UgMTogcmV0dXJuIHVuID8gZm4oYXJnc1swXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIGNhc2UgNDogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gIH0gcmV0dXJuICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07IiwiLyogKi8gXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKS5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4iLCIvKiAqLyBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTsiLCIvKiAqLyBcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vJC5pcy1vYmplY3QnKSxcbiAgICBkb2N1bWVudCA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKS5kb2N1bWVudCxcbiAgICBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpIHtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gIHZhciBjdHggPSByZXF1aXJlKCcuLyQuY3R4JyksXG4gICAgICBpbnZva2UgPSByZXF1aXJlKCcuLyQuaW52b2tlJyksXG4gICAgICBodG1sID0gcmVxdWlyZSgnLi8kLmh0bWwnKSxcbiAgICAgIGNlbCA9IHJlcXVpcmUoJy4vJC5kb20tY3JlYXRlJyksXG4gICAgICBnbG9iYWwgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJyksXG4gICAgICBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3MsXG4gICAgICBzZXRUYXNrID0gZ2xvYmFsLnNldEltbWVkaWF0ZSxcbiAgICAgIGNsZWFyVGFzayA9IGdsb2JhbC5jbGVhckltbWVkaWF0ZSxcbiAgICAgIE1lc3NhZ2VDaGFubmVsID0gZ2xvYmFsLk1lc3NhZ2VDaGFubmVsLFxuICAgICAgY291bnRlciA9IDAsXG4gICAgICBxdWV1ZSA9IHt9LFxuICAgICAgT05SRUFEWVNUQVRFQ0hBTkdFID0gJ29ucmVhZHlzdGF0ZWNoYW5nZScsXG4gICAgICBkZWZlcixcbiAgICAgIGNoYW5uZWwsXG4gICAgICBwb3J0O1xuICB2YXIgcnVuID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlkID0gK3RoaXM7XG4gICAgaWYgKHF1ZXVlLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgICAgdmFyIGZuID0gcXVldWVbaWRdO1xuICAgICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgICAgIGZuKCk7XG4gICAgfVxuICB9O1xuICB2YXIgbGlzdG5lciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcnVuLmNhbGwoZXZlbnQuZGF0YSk7XG4gIH07XG4gIGlmICghc2V0VGFzayB8fCAhY2xlYXJUYXNrKSB7XG4gICAgc2V0VGFzayA9IGZ1bmN0aW9uIHNldEltbWVkaWF0ZShmbikge1xuICAgICAgdmFyIGFyZ3MgPSBbXSxcbiAgICAgICAgICBpID0gMTtcbiAgICAgIHdoaWxlIChhcmd1bWVudHMubGVuZ3RoID4gaSlcbiAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaW52b2tlKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbiksIGFyZ3MpO1xuICAgICAgfTtcbiAgICAgIGRlZmVyKGNvdW50ZXIpO1xuICAgICAgcmV0dXJuIGNvdW50ZXI7XG4gICAgfTtcbiAgICBjbGVhclRhc2sgPSBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShpZCkge1xuICAgICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgICB9O1xuICAgIGlmIChyZXF1aXJlKCcuLyQuY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKSB7XG4gICAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soY3R4KHJ1biwgaWQsIDEpKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChNZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbDtcbiAgICAgIHBvcnQgPSBjaGFubmVsLnBvcnQyO1xuICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBsaXN0bmVyO1xuICAgICAgZGVmZXIgPSBjdHgocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCwgMSk7XG4gICAgfSBlbHNlIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lciAmJiB0eXBlb2YgcG9zdE1lc3NhZ2UgPT0gJ2Z1bmN0aW9uJyAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKGlkICsgJycsICcqJyk7XG4gICAgICB9O1xuICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0bmVyLCBmYWxzZSk7XG4gICAgfSBlbHNlIGlmIChPTlJFQURZU1RBVEVDSEFOR0UgaW4gY2VsKCdzY3JpcHQnKSkge1xuICAgICAgZGVmZXIgPSBmdW5jdGlvbihpZCkge1xuICAgICAgICBodG1sLmFwcGVuZENoaWxkKGNlbCgnc2NyaXB0JykpW09OUkVBRFlTVEFURUNIQU5HRV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICAgIHJ1bi5jYWxsKGlkKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgc2V0VGltZW91dChjdHgocnVuLCBpZCwgMSksIDApO1xuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgc2V0OiBzZXRUYXNrLFxuICAgIGNsZWFyOiBjbGVhclRhc2tcbiAgfTtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbnZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICB2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpLFxuICAgICAgbWFjcm90YXNrID0gcmVxdWlyZSgnLi8kLnRhc2snKS5zZXQsXG4gICAgICBPYnNlcnZlciA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLFxuICAgICAgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzLFxuICAgICAgUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlLFxuICAgICAgaXNOb2RlID0gcmVxdWlyZSgnLi8kLmNvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJyxcbiAgICAgIGhlYWQsXG4gICAgICBsYXN0LFxuICAgICAgbm90aWZ5O1xuICB2YXIgZmx1c2ggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFyZW50LFxuICAgICAgICBkb21haW4sXG4gICAgICAgIGZuO1xuICAgIGlmIChpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSkge1xuICAgICAgcHJvY2Vzcy5kb21haW4gPSBudWxsO1xuICAgICAgcGFyZW50LmV4aXQoKTtcbiAgICB9XG4gICAgd2hpbGUgKGhlYWQpIHtcbiAgICAgIGRvbWFpbiA9IGhlYWQuZG9tYWluO1xuICAgICAgZm4gPSBoZWFkLmZuO1xuICAgICAgaWYgKGRvbWFpbilcbiAgICAgICAgZG9tYWluLmVudGVyKCk7XG4gICAgICBmbigpO1xuICAgICAgaWYgKGRvbWFpbilcbiAgICAgICAgZG9tYWluLmV4aXQoKTtcbiAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgfVxuICAgIGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHBhcmVudClcbiAgICAgIHBhcmVudC5lbnRlcigpO1xuICB9O1xuICBpZiAoaXNOb2RlKSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgICB9O1xuICB9IGVsc2UgaWYgKE9ic2VydmVyKSB7XG4gICAgdmFyIHRvZ2dsZSA9IDEsXG4gICAgICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgbmV3IE9ic2VydmVyKGZsdXNoKS5vYnNlcnZlKG5vZGUsIHtjaGFyYWN0ZXJEYXRhOiB0cnVlfSk7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAtdG9nZ2xlO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoUHJvbWlzZSAmJiBQcm9taXNlLnJlc29sdmUpIHtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpIHtcbiAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZmx1c2gpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICBtYWNyb3Rhc2suY2FsbChnbG9iYWwsIGZsdXNoKTtcbiAgICB9O1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYXNhcChmbikge1xuICAgIHZhciB0YXNrID0ge1xuICAgICAgZm46IGZuLFxuICAgICAgbmV4dDogdW5kZWZpbmVkLFxuICAgICAgZG9tYWluOiBpc05vZGUgJiYgcHJvY2Vzcy5kb21haW5cbiAgICB9O1xuICAgIGlmIChsYXN0KVxuICAgICAgbGFzdC5uZXh0ID0gdGFzaztcbiAgICBpZiAoIWhlYWQpIHtcbiAgICAgIGhlYWQgPSB0YXNrO1xuICAgICAgbm90aWZ5KCk7XG4gICAgfVxuICAgIGxhc3QgPSB0YXNrO1xuICB9O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59OyIsIi8qICovIFxudmFyICQgPSByZXF1aXJlKCcuLyQnKSxcbiAgICBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi8kLnByb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLmRlc2NyaXB0b3JzJykgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuICQuc2V0RGVzYyhvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcbiIsIi8qICovIFxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLyQuaGlkZScpO1xuIiwiLyogKi8gXG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuLyQucmVkZWZpbmUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGFyZ2V0LCBzcmMpIHtcbiAgZm9yICh2YXIga2V5IGluIHNyYylcbiAgICByZWRlZmluZSh0YXJnZXQsIGtleSwgc3JjW2tleV0pO1xuICByZXR1cm4gdGFyZ2V0O1xufTtcbiIsIi8qICovIFxudmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07IiwiLyogKi8gXG52YXIgZGVmID0gcmVxdWlyZSgnLi8kJykuc2V0RGVzYyxcbiAgICBoYXMgPSByZXF1aXJlKCcuLyQuaGFzJyksXG4gICAgVEFHID0gcmVxdWlyZSgnLi8kLndrcycpKCd0b1N0cmluZ1RhZycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KSB7XG4gIGlmIChpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKVxuICAgIGRlZihpdCwgVEFHLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdGFnXG4gICAgfSk7XG59O1xuIiwiLyogKi8gXG52YXIgJE9iamVjdCA9IE9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGU6ICAgICAkT2JqZWN0LmNyZWF0ZSxcbiAgZ2V0UHJvdG86ICAgJE9iamVjdC5nZXRQcm90b3R5cGVPZixcbiAgaXNFbnVtOiAgICAge30ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gIGdldERlc2M6ICAgICRPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICBzZXREZXNjOiAgICAkT2JqZWN0LmRlZmluZVByb3BlcnR5LFxuICBzZXREZXNjczogICAkT2JqZWN0LmRlZmluZVByb3BlcnRpZXMsXG4gIGdldEtleXM6ICAgICRPYmplY3Qua2V5cyxcbiAgZ2V0TmFtZXM6ICAgJE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICBnZXRTeW1ib2xzOiAkT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgZWFjaDogICAgICAgW10uZm9yRWFjaFxufTsiLCIvKiAqLyBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59OyIsIi8qICovIFxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi8kLmZhaWxzJykoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gNztcbiAgICB9fSkuYSAhPSA3O1xufSk7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBjb3JlID0gcmVxdWlyZSgnLi8kLmNvcmUnKSxcbiAgICAkID0gcmVxdWlyZSgnLi8kJyksXG4gICAgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLyQuZGVzY3JpcHRvcnMnKSxcbiAgICBTUEVDSUVTID0gcmVxdWlyZSgnLi8kLndrcycpKCdzcGVjaWVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSkge1xuICB2YXIgQyA9IGNvcmVbS0VZXTtcbiAgaWYgKERFU0NSSVBUT1JTICYmIEMgJiYgIUNbU1BFQ0lFU10pXG4gICAgJC5zZXREZXNjKEMsIFNQRUNJRVMsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH0pO1xufTtcbiIsIi8qICovIFxudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKSxcbiAgICBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJyxcbiAgICBzdG9yZSA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KSB7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xufTtcbiIsIi8qICovIFxudmFyIGlkID0gMFxuICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07IiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbnZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZiA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZih0eXBlb2YgX19nID09ICdudW1iZXInKV9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZiIsIi8qICovIFxudmFyIHN0b3JlID0gcmVxdWlyZSgnLi8kLnNoYXJlZCcpKCd3a3MnKSxcbiAgICB1aWQgPSByZXF1aXJlKCcuLyQudWlkJyksXG4gICAgU3ltYm9sID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpLlN5bWJvbDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID0gU3ltYm9sICYmIFN5bWJvbFtuYW1lXSB8fCAoU3ltYm9sIHx8IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcbiIsIi8qICovIFxudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpLFxuICAgIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbigpIHtcbiAgICBTQUZFX0NMT1NJTkcgPSB0cnVlO1xuICB9O1xuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyAyO1xuICB9KTtcbn0gY2F0Y2ggKGUpIHt9XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMsIHNraXBDbG9zaW5nKSB7XG4gIGlmICghc2tpcENsb3NpbmcgJiYgIVNBRkVfQ0xPU0lORylcbiAgICByZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IFs3XSxcbiAgICAgICAgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNhZmUgPSB0cnVlO1xuICAgIH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGl0ZXI7XG4gICAgfTtcbiAgICBleGVjKGFycik7XG4gIH0gY2F0Y2ggKGUpIHt9XG4gIHJldHVybiBzYWZlO1xufTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBzZXRUaW1lb3V0KGRyYWluUXVldWUsIDApO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibnBtOnByb2Nlc3NAMC4xMS4zL2Jyb3dzZXIuanNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSBTeXN0ZW0uX25vZGVSZXF1aXJlID8gcHJvY2VzcyA6IHJlcXVpcmUoJ3Byb2Nlc3MnKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJnaXRodWI6anNwbS9ub2RlbGlicy1wcm9jZXNzQDAuMS4yL2luZGV4XCIpOyIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgJCA9IHJlcXVpcmUoJy4vJCcpLFxuICAgICAgTElCUkFSWSA9IHJlcXVpcmUoJy4vJC5saWJyYXJ5JyksXG4gICAgICBnbG9iYWwgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJyksXG4gICAgICBjdHggPSByZXF1aXJlKCcuLyQuY3R4JyksXG4gICAgICBjbGFzc29mID0gcmVxdWlyZSgnLi8kLmNsYXNzb2YnKSxcbiAgICAgICRleHBvcnQgPSByZXF1aXJlKCcuLyQuZXhwb3J0JyksXG4gICAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vJC5pcy1vYmplY3QnKSxcbiAgICAgIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmFuLW9iamVjdCcpLFxuICAgICAgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi8kLmEtZnVuY3Rpb24nKSxcbiAgICAgIHN0cmljdE5ldyA9IHJlcXVpcmUoJy4vJC5zdHJpY3QtbmV3JyksXG4gICAgICBmb3JPZiA9IHJlcXVpcmUoJy4vJC5mb3Itb2YnKSxcbiAgICAgIHNldFByb3RvID0gcmVxdWlyZSgnLi8kLnNldC1wcm90bycpLnNldCxcbiAgICAgIHNhbWUgPSByZXF1aXJlKCcuLyQuc2FtZS12YWx1ZScpLFxuICAgICAgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vJC53a3MnKSgnc3BlY2llcycpLFxuICAgICAgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi8kLnNwZWNpZXMtY29uc3RydWN0b3InKSxcbiAgICAgIGFzYXAgPSByZXF1aXJlKCcuLyQubWljcm90YXNrJyksXG4gICAgICBQUk9NSVNFID0gJ1Byb21pc2UnLFxuICAgICAgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzLFxuICAgICAgaXNOb2RlID0gY2xhc3NvZihwcm9jZXNzKSA9PSAncHJvY2VzcycsXG4gICAgICBQID0gZ2xvYmFsW1BST01JU0VdLFxuICAgICAgV3JhcHBlcjtcbiAgdmFyIHRlc3RSZXNvbHZlID0gZnVuY3Rpb24oc3ViKSB7XG4gICAgdmFyIHRlc3QgPSBuZXcgUChmdW5jdGlvbigpIHt9KTtcbiAgICBpZiAoc3ViKVxuICAgICAgdGVzdC5jb25zdHJ1Y3RvciA9IE9iamVjdDtcbiAgICByZXR1cm4gUC5yZXNvbHZlKHRlc3QpID09PSB0ZXN0O1xuICB9O1xuICB2YXIgVVNFX05BVElWRSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB3b3JrcyA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIFAyKHgpIHtcbiAgICAgIHZhciBzZWxmID0gbmV3IFAoeCk7XG4gICAgICBzZXRQcm90byhzZWxmLCBQMi5wcm90b3R5cGUpO1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB3b3JrcyA9IFAgJiYgUC5yZXNvbHZlICYmIHRlc3RSZXNvbHZlKCk7XG4gICAgICBzZXRQcm90byhQMiwgUCk7XG4gICAgICBQMi5wcm90b3R5cGUgPSAkLmNyZWF0ZShQLnByb3RvdHlwZSwge2NvbnN0cnVjdG9yOiB7dmFsdWU6IFAyfX0pO1xuICAgICAgaWYgKCEoUDIucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCkge30pIGluc3RhbmNlb2YgUDIpKSB7XG4gICAgICAgIHdvcmtzID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAod29ya3MgJiYgcmVxdWlyZSgnLi8kLmRlc2NyaXB0b3JzJykpIHtcbiAgICAgICAgdmFyIHRoZW5hYmxlVGhlbkdvdHRlbiA9IGZhbHNlO1xuICAgICAgICBQLnJlc29sdmUoJC5zZXREZXNjKHt9LCAndGhlbicsIHtnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhlbmFibGVUaGVuR290dGVuID0gdHJ1ZTtcbiAgICAgICAgICB9fSkpO1xuICAgICAgICB3b3JrcyA9IHRoZW5hYmxlVGhlbkdvdHRlbjtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB3b3JrcyA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gd29ya3M7XG4gIH0oKTtcbiAgdmFyIHNhbWVDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICBpZiAoTElCUkFSWSAmJiBhID09PSBQICYmIGIgPT09IFdyYXBwZXIpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gc2FtZShhLCBiKTtcbiAgfTtcbiAgdmFyIGdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oQykge1xuICAgIHZhciBTID0gYW5PYmplY3QoQylbU1BFQ0lFU107XG4gICAgcmV0dXJuIFMgIT0gdW5kZWZpbmVkID8gUyA6IEM7XG4gIH07XG4gIHZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24oaXQpIHtcbiAgICB2YXIgdGhlbjtcbiAgICByZXR1cm4gaXNPYmplY3QoaXQpICYmIHR5cGVvZih0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbiAgfTtcbiAgdmFyIFByb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24oQykge1xuICAgIHZhciByZXNvbHZlLFxuICAgICAgICByZWplY3Q7XG4gICAgdGhpcy5wcm9taXNlID0gbmV3IEMoZnVuY3Rpb24oJCRyZXNvbHZlLCAkJHJlamVjdCkge1xuICAgICAgaWYgKHJlc29sdmUgIT09IHVuZGVmaW5lZCB8fCByZWplY3QgIT09IHVuZGVmaW5lZClcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuICAgICAgcmVzb2x2ZSA9ICQkcmVzb2x2ZTtcbiAgICAgIHJlamVjdCA9ICQkcmVqZWN0O1xuICAgIH0pO1xuICAgIHRoaXMucmVzb2x2ZSA9IGFGdW5jdGlvbihyZXNvbHZlKSwgdGhpcy5yZWplY3QgPSBhRnVuY3Rpb24ocmVqZWN0KTtcbiAgfTtcbiAgdmFyIHBlcmZvcm0gPSBmdW5jdGlvbihleGVjKSB7XG4gICAgdHJ5IHtcbiAgICAgIGV4ZWMoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4ge2Vycm9yOiBlfTtcbiAgICB9XG4gIH07XG4gIHZhciBub3RpZnkgPSBmdW5jdGlvbihyZWNvcmQsIGlzUmVqZWN0KSB7XG4gICAgaWYgKHJlY29yZC5uKVxuICAgICAgcmV0dXJuO1xuICAgIHJlY29yZC5uID0gdHJ1ZTtcbiAgICB2YXIgY2hhaW4gPSByZWNvcmQuYztcbiAgICBhc2FwKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZhbHVlID0gcmVjb3JkLnYsXG4gICAgICAgICAgb2sgPSByZWNvcmQucyA9PSAxLFxuICAgICAgICAgIGkgPSAwO1xuICAgICAgdmFyIHJ1biA9IGZ1bmN0aW9uKHJlYWN0aW9uKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gb2sgPyByZWFjdGlvbi5vayA6IHJlYWN0aW9uLmZhaWwsXG4gICAgICAgICAgICByZXNvbHZlID0gcmVhY3Rpb24ucmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdCA9IHJlYWN0aW9uLnJlamVjdCxcbiAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgIHRoZW47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGlmICghb2spXG4gICAgICAgICAgICAgIHJlY29yZC5oID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIgPT09IHRydWUgPyB2YWx1ZSA6IGhhbmRsZXIodmFsdWUpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSkge1xuICAgICAgICAgICAgICByZWplY3QoVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGVuID0gaXNUaGVuYWJsZShyZXN1bHQpKSB7XG4gICAgICAgICAgICAgIHRoZW4uY2FsbChyZXN1bHQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgcmVqZWN0KHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHdoaWxlIChjaGFpbi5sZW5ndGggPiBpKVxuICAgICAgICBydW4oY2hhaW5baSsrXSk7XG4gICAgICBjaGFpbi5sZW5ndGggPSAwO1xuICAgICAgcmVjb3JkLm4gPSBmYWxzZTtcbiAgICAgIGlmIChpc1JlamVjdClcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcHJvbWlzZSA9IHJlY29yZC5wLFxuICAgICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgICBjb25zb2xlO1xuICAgICAgICAgIGlmIChpc1VuaGFuZGxlZChwcm9taXNlKSkge1xuICAgICAgICAgICAgaWYgKGlzTm9kZSkge1xuICAgICAgICAgICAgICBwcm9jZXNzLmVtaXQoJ3VuaGFuZGxlZFJlamVjdGlvbicsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFuZGxlciA9IGdsb2JhbC5vbnVuaGFuZGxlZHJlamVjdGlvbikge1xuICAgICAgICAgICAgICBoYW5kbGVyKHtcbiAgICAgICAgICAgICAgICBwcm9taXNlOiBwcm9taXNlLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogdmFsdWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKChjb25zb2xlID0gZ2xvYmFsLmNvbnNvbGUpICYmIGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uJywgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZWNvcmQuYSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSwgMSk7XG4gICAgfSk7XG4gIH07XG4gIHZhciBpc1VuaGFuZGxlZCA9IGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICB2YXIgcmVjb3JkID0gcHJvbWlzZS5fZCxcbiAgICAgICAgY2hhaW4gPSByZWNvcmQuYSB8fCByZWNvcmQuYyxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIHJlYWN0aW9uO1xuICAgIGlmIChyZWNvcmQuaClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB3aGlsZSAoY2hhaW4ubGVuZ3RoID4gaSkge1xuICAgICAgcmVhY3Rpb24gPSBjaGFpbltpKytdO1xuICAgICAgaWYgKHJlYWN0aW9uLmZhaWwgfHwgIWlzVW5oYW5kbGVkKHJlYWN0aW9uLnByb21pc2UpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICB2YXIgJHJlamVjdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHJlY29yZCA9IHRoaXM7XG4gICAgaWYgKHJlY29yZC5kKVxuICAgICAgcmV0dXJuO1xuICAgIHJlY29yZC5kID0gdHJ1ZTtcbiAgICByZWNvcmQgPSByZWNvcmQuciB8fCByZWNvcmQ7XG4gICAgcmVjb3JkLnYgPSB2YWx1ZTtcbiAgICByZWNvcmQucyA9IDI7XG4gICAgcmVjb3JkLmEgPSByZWNvcmQuYy5zbGljZSgpO1xuICAgIG5vdGlmeShyZWNvcmQsIHRydWUpO1xuICB9O1xuICB2YXIgJHJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZWNvcmQgPSB0aGlzLFxuICAgICAgICB0aGVuO1xuICAgIGlmIChyZWNvcmQuZClcbiAgICAgIHJldHVybjtcbiAgICByZWNvcmQuZCA9IHRydWU7XG4gICAgcmVjb3JkID0gcmVjb3JkLnIgfHwgcmVjb3JkO1xuICAgIHRyeSB7XG4gICAgICBpZiAocmVjb3JkLnAgPT09IHZhbHVlKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTtcbiAgICAgIGlmICh0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgYXNhcChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgd3JhcHBlciA9IHtcbiAgICAgICAgICAgIHI6IHJlY29yZCxcbiAgICAgICAgICAgIGQ6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBjdHgoJHJlc29sdmUsIHdyYXBwZXIsIDEpLCBjdHgoJHJlamVjdCwgd3JhcHBlciwgMSkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRyZWplY3QuY2FsbCh3cmFwcGVyLCBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVjb3JkLnYgPSB2YWx1ZTtcbiAgICAgICAgcmVjb3JkLnMgPSAxO1xuICAgICAgICBub3RpZnkocmVjb3JkLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgJHJlamVjdC5jYWxsKHtcbiAgICAgICAgcjogcmVjb3JkLFxuICAgICAgICBkOiBmYWxzZVxuICAgICAgfSwgZSk7XG4gICAgfVxuICB9O1xuICBpZiAoIVVTRV9OQVRJVkUpIHtcbiAgICBQID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgICAgYUZ1bmN0aW9uKGV4ZWN1dG9yKTtcbiAgICAgIHZhciByZWNvcmQgPSB0aGlzLl9kID0ge1xuICAgICAgICBwOiBzdHJpY3ROZXcodGhpcywgUCwgUFJPTUlTRSksXG4gICAgICAgIGM6IFtdLFxuICAgICAgICBhOiB1bmRlZmluZWQsXG4gICAgICAgIHM6IDAsXG4gICAgICAgIGQ6IGZhbHNlLFxuICAgICAgICB2OiB1bmRlZmluZWQsXG4gICAgICAgIGg6IGZhbHNlLFxuICAgICAgICBuOiBmYWxzZVxuICAgICAgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGV4ZWN1dG9yKGN0eCgkcmVzb2x2ZSwgcmVjb3JkLCAxKSwgY3R4KCRyZWplY3QsIHJlY29yZCwgMSkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICRyZWplY3QuY2FsbChyZWNvcmQsIGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXF1aXJlKCcuLyQucmVkZWZpbmUtYWxsJykoUC5wcm90b3R5cGUsIHtcbiAgICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgdmFyIHJlYWN0aW9uID0gbmV3IFByb21pc2VDYXBhYmlsaXR5KHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCBQKSksXG4gICAgICAgICAgICBwcm9taXNlID0gcmVhY3Rpb24ucHJvbWlzZSxcbiAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX2Q7XG4gICAgICAgIHJlYWN0aW9uLm9rID0gdHlwZW9mIG9uRnVsZmlsbGVkID09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IHRydWU7XG4gICAgICAgIHJlYWN0aW9uLmZhaWwgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICYmIG9uUmVqZWN0ZWQ7XG4gICAgICAgIHJlY29yZC5jLnB1c2gocmVhY3Rpb24pO1xuICAgICAgICBpZiAocmVjb3JkLmEpXG4gICAgICAgICAgcmVjb3JkLmEucHVzaChyZWFjdGlvbik7XG4gICAgICAgIGlmIChyZWNvcmQucylcbiAgICAgICAgICBub3RpZnkocmVjb3JkLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfSxcbiAgICAgICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIG9uUmVqZWN0ZWQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gICRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHtQcm9taXNlOiBQfSk7XG4gIHJlcXVpcmUoJy4vJC5zZXQtdG8tc3RyaW5nLXRhZycpKFAsIFBST01JU0UpO1xuICByZXF1aXJlKCcuLyQuc2V0LXNwZWNpZXMnKShQUk9NSVNFKTtcbiAgV3JhcHBlciA9IHJlcXVpcmUoJy4vJC5jb3JlJylbUFJPTUlTRV07XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIFBST01JU0UsIHtyZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKSB7XG4gICAgICB2YXIgY2FwYWJpbGl0eSA9IG5ldyBQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKSxcbiAgICAgICAgICAkJHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgICAgJCRyZWplY3Qocik7XG4gICAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICAgIH19KTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgdGVzdFJlc29sdmUodHJ1ZSkpLCBQUk9NSVNFLCB7cmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KSB7XG4gICAgICBpZiAoeCBpbnN0YW5jZW9mIFAgJiYgc2FtZUNvbnN0cnVjdG9yKHguY29uc3RydWN0b3IsIHRoaXMpKVxuICAgICAgICByZXR1cm4geDtcbiAgICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3IFByb21pc2VDYXBhYmlsaXR5KHRoaXMpLFxuICAgICAgICAgICQkcmVzb2x2ZSA9IGNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgICAgICQkcmVzb2x2ZSh4KTtcbiAgICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gICAgfX0pO1xuICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEoVVNFX05BVElWRSAmJiByZXF1aXJlKCcuLyQuaXRlci1kZXRlY3QnKShmdW5jdGlvbihpdGVyKSB7XG4gICAgUC5hbGwoaXRlcilbJ2NhdGNoJ10oZnVuY3Rpb24oKSB7fSk7XG4gIH0pKSwgUFJPTUlTRSwge1xuICAgIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgQyA9IGdldENvbnN0cnVjdG9yKHRoaXMpLFxuICAgICAgICAgIGNhcGFiaWxpdHkgPSBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoQyksXG4gICAgICAgICAgcmVzb2x2ZSA9IGNhcGFiaWxpdHkucmVzb2x2ZSxcbiAgICAgICAgICByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdCxcbiAgICAgICAgICB2YWx1ZXMgPSBbXTtcbiAgICAgIHZhciBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIHZhbHVlcy5wdXNoLCB2YWx1ZXMpO1xuICAgICAgICB2YXIgcmVtYWluaW5nID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICAgIHJlc3VsdHMgPSBBcnJheShyZW1haW5pbmcpO1xuICAgICAgICBpZiAocmVtYWluaW5nKVxuICAgICAgICAgICQuZWFjaC5jYWxsKHZhbHVlcywgZnVuY3Rpb24ocHJvbWlzZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIGFscmVhZHlDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICByZXN1bHRzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gICAgICB9KTtcbiAgICAgIGlmIChhYnJ1cHQpXG4gICAgICAgIHJlamVjdChhYnJ1cHQuZXJyb3IpO1xuICAgICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgICB9LFxuICAgIHJhY2U6IGZ1bmN0aW9uIHJhY2UoaXRlcmFibGUpIHtcbiAgICAgIHZhciBDID0gZ2V0Q29uc3RydWN0b3IodGhpcyksXG4gICAgICAgICAgY2FwYWJpbGl0eSA9IG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKSxcbiAgICAgICAgICByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICAgIHZhciBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihjYXBhYmlsaXR5LnJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBpZiAoYWJydXB0KVxuICAgICAgICByZWplY3QoYWJydXB0LmVycm9yKTtcbiAgICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gICAgfVxuICB9KTtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbnZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7dmVyc2lvbjogJzEuMi42J307XG5pZih0eXBlb2YgX19lID09ICdudW1iZXInKV9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYiLCIvKiAqLyBcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5wcm9taXNlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvJC5jb3JlJykuUHJvbWlzZTtcbiIsIi8qICovIFxubW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2VcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCIvKiAqLyBcblwiZm9ybWF0IGNqc1wiO1xuLyoqIVxuICogYWpheCAtIHYyLjAuMVxuICogQWpheCBtb2R1bGUgaW4gVmFuaWxsYSBKU1xuICogaHR0cHM6Ly9naXRodWIuY29tL2ZkYWNpdWsvYWpheFxuXG4gKiBGcmkgTWF5IDA2IDIwMTYgMTA6MzA6MzQgR01ULTAzMDAgKEJSVClcbiAqIE1JVCAoYykgRmVybmFuZG8gRGFjaXVrXG4qL1xuIWZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImFqYXhcIix0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzPW1vZHVsZS5leHBvcnRzPXQoKTplLmFqYXg9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlKXt2YXIgcj1bXCJnZXRcIixcInBvc3RcIixcInB1dFwiLFwiZGVsZXRlXCJdO3JldHVybiBlPWV8fHt9LGUuYmFzZVVybD1lLmJhc2VVcmx8fFwiXCIsZS5tZXRob2QmJmUudXJsP24oZS5tZXRob2QsZS5iYXNlVXJsK2UudXJsLHQoZS5kYXRhKSxlKTpyLnJlZHVjZShmdW5jdGlvbihyLHUpe3JldHVybiByW3VdPWZ1bmN0aW9uKHIsbyl7cmV0dXJuIG4odSxlLmJhc2VVcmwrcix0KG8pLGUpfSxyfSx7fSl9ZnVuY3Rpb24gdChlKXtyZXR1cm4gZXx8bnVsbH1mdW5jdGlvbiBuKGUsdCxuLHUpe3ZhciBjPVtcInRoZW5cIixcImNhdGNoXCIsXCJhbHdheXNcIl0scz1jLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdPWZ1bmN0aW9uKG4pe3JldHVybiBlW3RdPW4sZX0sZX0se30pLGk9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBpLm9wZW4oZSx0LCEwKSxyKGksdS5oZWFkZXJzKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsbyhzLGkpLCExKSxpLnNlbmQoYShuKSksc31mdW5jdGlvbiByKGUsdCl7dD10fHx7fSx1KHQpfHwodFtcIkNvbnRlbnQtVHlwZVwiXT1cImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3Rbbl0mJmUuc2V0UmVxdWVzdEhlYWRlcihuLHRbbl0pfSl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuc29tZShmdW5jdGlvbihlKXtyZXR1cm5cImNvbnRlbnQtdHlwZVwiPT09ZS50b0xvd2VyQ2FzZSgpfSl9ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBmdW5jdGlvbiBuKCl7dC5yZWFkeVN0YXRlPT09dC5ET05FJiYodC5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLG4sITEpLGUuYWx3YXlzLmFwcGx5KGUsYyh0KSksdC5zdGF0dXM+PTIwMCYmdC5zdGF0dXM8MzAwP2UudGhlbi5hcHBseShlLGModCkpOmVbXCJjYXRjaFwiXS5hcHBseShlLGModCkpKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDt0cnl7dD1KU09OLnBhcnNlKGUucmVzcG9uc2VUZXh0KX1jYXRjaChuKXt0PWUucmVzcG9uc2VUZXh0fXJldHVyblt0LGVdfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIHMoZSk/aShlKTplfWZ1bmN0aW9uIHMoZSl7cmV0dXJuXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBpKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5yZWR1Y2UoZnVuY3Rpb24odCxuKXt2YXIgcj10P3QrXCImXCI6XCJcIjtyZXR1cm4gcitmKG4pK1wiPVwiK2YoZVtuXSl9LFwiXCIpfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKX1yZXR1cm4gZX0pOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5wbTpAZmRhY2l1ay9hamF4QDIuMC4xL2Rpc3QvYWpheC5taW4uanNcIik7IiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBhamF4IGZyb20gJ0BmZGFjaXVrL2FqYXgnXG5pbXBvcnQge1xuICBGRVRDSF9FVkVOVFMsXG4gIEVWRU5UU19TVUNDRVNTLFxuICBFVkVOVFNfRkFJTEVELFxuXG4gIHByZXBhcmVGaWx0ZXJTZWxlY3RzXG59IGZyb20gJy4vaW5kZXgnXG5cbmV4cG9ydCBjb25zdCBldmVudHNTdWNjZXNzID0gKGV2ZW50cykgPT4gKHtcbiAgdHlwZTogRVZFTlRTX1NVQ0NFU1MsXG4gIHBheWxvYWQ6IHsgZXZlbnRzIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBldmVudHNGYWlsZWQgPSAoKSA9PiAoe1xuICB0eXBlOiBFVkVOVFNfRkFJTEVEXG59KVxuXG5leHBvcnQgY29uc3QgZmV0Y2hFdmVudHMgPSAoKSA9PiB7XG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3QgeyBpc0ZldGNoaW5nIH0gPSBnZXRTdGF0ZSgpLmV2ZW50c1xuICAgIGlmIChpc0ZldGNoaW5nKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICB9XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBGRVRDSF9FVkVOVFMgfSlcbiAgICBhamF4KCkuZ2V0KCdkYXRhL2V2ZW50cy5qc29uJykudGhlbigoZXZlbnRzKSA9PiB7XG4gICAgICBkaXNwYXRjaChldmVudHNTdWNjZXNzKGV2ZW50cykpXG4gICAgICBkaXNwYXRjaChwcmVwYXJlRmlsdGVyU2VsZWN0cyhldmVudHMpKVxuICAgIH0pXG4gICAgLmNhdGNoKCgpID0+IHtcbiAgICAgIGRpc3BhdGNoKGV2ZW50c0ZhaWxlZCgpKVxuICAgIH0pXG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQge1xuICBGSUxMX0ZJTFRFUl9TRUxFQ1RTLFxuICBDSE9PU0VfRklMVEVSX1NFTEVDVCxcbiAgRklMVEVSX0JZX1RFWFRcbn0gZnJvbSAnLi9pbmRleCdcblxuY29uc3QgZmlsbEZpbHRlclNlbGVjdCA9IChzZWxlY3QsIG9wdGlvbnMpID0+ICh7XG4gIHR5cGU6IEZJTExfRklMVEVSX1NFTEVDVFMsXG4gIHBheWxvYWQ6IHtcbiAgICBzZWxlY3QsIG9wdGlvbnNcbiAgfVxufSlcblxuY29uc3QgcmVtb3ZlRHVwbGljYXRlZEVudHJpZXMgPSAoYWxsRW50cmllcykgPT4ge1xuICBjb25zdCBvcHRpb25zID0gW11cbiAgYWxsRW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgIGlmIChvcHRpb25zLmluZGV4T2YoZW50cnkpID09PSAtMSkge1xuICAgICAgb3B0aW9ucy5wdXNoKGVudHJ5KVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIG9wdGlvbnNcbn1cblxuZXhwb3J0IGNvbnN0IHByZXBhcmVGaWx0ZXJTZWxlY3RzID0gKGV2ZW50cykgPT4ge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgY29uc3QgYWxsTW9udGhzID0gZXZlbnRzLm1hcCgoZXZlbnQpID0+IHtcbiAgICAgIHJldHVybiBldmVudC5kYXRlLm1vbnRoXG4gICAgfSlcblxuICAgIGNvbnN0IGFsbFN0YXRlcyA9IGV2ZW50cy5tYXAoKGV2ZW50KSA9PiB7XG4gICAgICByZXR1cm4gZXZlbnQubG9jYXRpb24uc3RhdGVcbiAgICB9KVxuXG4gICAgY29uc3QgbW9udGhzID0gcmVtb3ZlRHVwbGljYXRlZEVudHJpZXMoYWxsTW9udGhzKS5tYXAoKG1vbnRoKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0OiBtb250aCxcbiAgICAgICAgdmFsdWU6IG1vbnRoXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnN0IHN0YXRlcyA9IHJlbW92ZUR1cGxpY2F0ZWRFbnRyaWVzKGFsbFN0YXRlcykubWFwKChzdGF0ZSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGV4dDogc3RhdGUsXG4gICAgICAgIHZhbHVlOiBzdGF0ZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBkaXNwYXRjaChmaWxsRmlsdGVyU2VsZWN0KCdtb250aHMnLCBtb250aHMpKVxuICAgIGRpc3BhdGNoKGZpbGxGaWx0ZXJTZWxlY3QoJ3N0YXRlJywgc3RhdGVzKSlcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgY2hvb3NlRmlsdGVyU2VsZWN0ID0gKHBheWxvYWQpID0+ICh7XG4gIHR5cGU6IENIT09TRV9GSUxURVJfU0VMRUNULFxuICBwYXlsb2FkXG59KVxuXG5leHBvcnQgY29uc3QgZmlsdGVyQnlUZXh0ID0gKHZhbHVlKSA9PiAoe1xuICB0eXBlOiBGSUxURVJfQllfVEVYVCxcbiAgcGF5bG9hZDogeyB2YWx1ZSB9XG59KVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydCBjb25zdCBGRVRDSF9FVkVOVFMgPSAnRkVUQ0hfRVZFTlRTJ1xuZXhwb3J0IGNvbnN0IEVWRU5UU19TVUNDRVNTID0gJ0VWRU5UU19TVUNDRVNTJ1xuZXhwb3J0IGNvbnN0IEVWRU5UU19GQUlMRUQgPSAnRVZFTlRTX0ZBSUxFRCdcblxuZXhwb3J0IGNvbnN0IEZJTExfRklMVEVSX1NFTEVDVFMgPSAnRklMTF9GSUxURVJfU0VMRUNUUydcbmV4cG9ydCBjb25zdCBDSE9PU0VfRklMVEVSX1NFTEVDVCA9ICdDSE9PU0VfRklMVEVSX1NFTEVDVCdcbmV4cG9ydCBjb25zdCBGSUxURVJfQllfVEVYVCA9ICdGSUxURVJfQllfVEVYVCdcblxuZXhwb3J0IHtcbiAgZmV0Y2hFdmVudHMsXG4gIGV2ZW50c1N1Y2Nlc3MsXG4gIGV2ZW50c0ZhaWxlZFxufSBmcm9tICcuL2V2ZW50cydcblxuZXhwb3J0IHtcbiAgcHJlcGFyZUZpbHRlclNlbGVjdHMsXG4gIGNob29zZUZpbHRlclNlbGVjdCxcbiAgZmlsdGVyQnlUZXh0XG59IGZyb20gJy4vZmlsdGVyJ1xuIiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCB7XG4gIEZJTExfRklMVEVSX1NFTEVDVFMsXG4gIENIT09TRV9GSUxURVJfU0VMRUNULFxuICBGSUxURVJfQllfVEVYVFxufSBmcm9tICcuLi9hY3Rpb25zL2luZGV4J1xuXG5jb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gIG1vbnRoczoge1xuICAgIGljb246IHsgaWQ6ICdkYXRlJywgbGFiZWw6ICdEYXRhJyB9LFxuICAgIGxhYmVsOiAnRXNjb2xoYSB1bSBtw6pzJyxcbiAgICBzZWxlY3RlZDogJycsXG4gICAgb3B0aW9uczogW3tcbiAgICAgIHRleHQ6ICdFc2NvbGhhIHVtIG3DqnMnLCB2YWx1ZTogJydcbiAgICB9XVxuICB9LFxuXG4gIHN0YXRlOiB7XG4gICAgaWNvbjogeyBpZDogJ2xvY2F0aW9uJywgbGFiZWw6ICdFc3RhZG8nIH0sXG4gICAgbGFiZWw6ICdFc2NvbGhhIHVtIGVzdGFkbycsXG4gICAgc2VsZWN0ZWQ6ICcnLFxuICAgIG9wdGlvbnM6IFt7XG4gICAgICB0ZXh0OiAnRXNjb2xoYSB1bSBlc3RhZG8nLCB2YWx1ZTogJydcbiAgICB9XVxuICB9LFxuXG4gIHNlYXJjaEZpZWxkOiAnJ1xufVxuXG5jb25zdCBmaWx0ZXIgPSAoc3RhdGUgPSBpbml0aWFsU3RhdGUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBGSUxMX0ZJTFRFUl9TRUxFQ1RTOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIFthY3Rpb24ucGF5bG9hZC5zZWxlY3RdOiB7XG4gICAgICAgICAgLi4uc3RhdGVbYWN0aW9uLnBheWxvYWQuc2VsZWN0XSxcbiAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAuLi5zdGF0ZVthY3Rpb24ucGF5bG9hZC5zZWxlY3RdLm9wdGlvbnMsXG4gICAgICAgICAgICAuLi5hY3Rpb24ucGF5bG9hZC5vcHRpb25zXG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICBjYXNlIENIT09TRV9GSUxURVJfU0VMRUNUOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIFthY3Rpb24ucGF5bG9hZC5maWVsZF06IHtcbiAgICAgICAgICAuLi5zdGF0ZVthY3Rpb24ucGF5bG9hZC5maWVsZF0sXG4gICAgICAgICAgc2VsZWN0ZWQ6IGFjdGlvbi5wYXlsb2FkLnZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIGNhc2UgRklMVEVSX0JZX1RFWFQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgc2VhcmNoRmllbGQ6IGFjdGlvbi5wYXlsb2FkLnZhbHVlXG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIHN0YXRlXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZpbHRlclxuIiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBldmVudHMgZnJvbSAnLi9ldmVudHMnXG5pbXBvcnQgZmlsdGVyIGZyb20gJy4vZmlsdGVyJ1xuXG5leHBvcnQgZGVmYXVsdCB7IGV2ZW50cywgZmlsdGVyIH1cbiIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyByZW5kZXIgfSBmcm9tICdyZWFjdC1kb20nXG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IEFwcCBmcm9tICcuL2NvbnRhaW5lcnMvYXBwL2luZGV4J1xuaW1wb3J0IGNvbmZpZ3VyZVN0b3JlIGZyb20gJy4vc3RvcmUvY29uZmlndXJlLXN0b3JlJ1xuaW1wb3J0IHJlZHVjZXJzIGZyb20gJy4vcmVkdWNlcnMvaW5kZXgnXG5cbmNvbnN0IHN0b3JlID0gY29uZmlndXJlU3RvcmUoeyByZWR1Y2VycyB9KVxuXG5yZW5kZXIoXG4gIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgIDxBcHAgLz5cbiAgPC9Qcm92aWRlcj4sXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWpzPVwiYXBwXCJdJylcbilcblxuc3RvcmUuc3Vic2NyaWJlKCgpID0+IHtcbiAgY29uc29sZS5sb2coc3RvcmUuZ2V0U3RhdGUoKSlcbn0pXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
