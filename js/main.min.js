!function(e){function t(e,t,o){return 4===arguments.length?n.apply(this,arguments):void r(e,{declarative:!0,deps:t,declare:o})}function n(e,t,n,o){r(e,{declarative:!1,deps:t,executingRequire:n,execute:o})}function r(e,t){t.name=e,e in m||(m[e]=t),t.normalizedDeps=t.deps}function o(e,t){if(t[e.groupIndex]=t[e.groupIndex]||[],-1==v.call(t[e.groupIndex],e)){t[e.groupIndex].push(e);for(var n=0,r=e.normalizedDeps.length;r>n;n++){var i=e.normalizedDeps[n],a=m[i];if(a&&!a.evaluated){var u=e.groupIndex+(a.declarative!=e.declarative);if(void 0===a.groupIndex||a.groupIndex<u){if(void 0!==a.groupIndex&&(t[a.groupIndex].splice(v.call(t[a.groupIndex],a),1),0==t[a.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");a.groupIndex=u}o(a,t)}}}}function i(e){var t=m[e];t.groupIndex=0;var n=[];o(t,n);for(var r=!!t.declarative==n.length%2,i=n.length-1;i>=0;i--){for(var a=n[i],s=0;s<a.length;s++){var l=a[s];r?u(l):c(l)}r=!r}}function a(e){return x[e]||(x[e]={name:e,dependencies:[],exports:{},importers:[]})}function u(t){if(!t.module){var n=t.module=a(t.name),r=t.module.exports,o=t.declare.call(e,function(e,t){if(n.locked=!0,"object"==typeof e)for(var o in e)r[o]=e[o];else r[e]=t;for(var i=0,a=n.importers.length;a>i;i++){var u=n.importers[i];if(!u.locked)for(var s=0;s<u.dependencies.length;++s)u.dependencies[s]===n&&u.setters[s](r)}return n.locked=!1,t},t.name);n.setters=o.setters,n.execute=o.execute;for(var i=0,s=t.normalizedDeps.length;s>i;i++){var c,l=t.normalizedDeps[i],p=m[l],d=x[l];d?c=d.exports:p&&!p.declarative?c=p.esModule:p?(u(p),d=p.module,c=d.exports):c=h(l),d&&d.importers?(d.importers.push(n),n.dependencies.push(d)):n.dependencies.push(null),n.setters[i]&&n.setters[i](c)}}}function s(e){var t,n=m[e];if(n)n.declarative?f(e,[]):n.evaluated||c(n),t=n.module.exports;else if(t=h(e),!t)throw new Error("Unable to load dependency "+e+".");return(!n||n.declarative)&&t&&t.__useDefault?t["default"]:t}function c(t){if(!t.module){var n={},r=t.module={exports:n,id:t.name};if(!t.executingRequire)for(var o=0,i=t.normalizedDeps.length;i>o;o++){var a=t.normalizedDeps[o],u=m[a];u&&c(u)}t.evaluated=!0;var p=t.execute.call(e,function(e){for(var n=0,r=t.deps.length;r>n;n++)if(t.deps[n]==e)return s(t.normalizedDeps[n]);throw new TypeError("Module "+e+" not declared as a dependency.")},n,r);p&&(r.exports=p),n=r.exports,n&&n.__esModule?t.esModule=n:t.esModule=l(n)}}function l(e){var t={};if("object"==typeof e||"function"==typeof e){var n=e&&e.hasOwnProperty;if(g)for(var r in e)d(t,e,r)||p(t,e,r,n);else for(var r in e)p(t,e,r,n)}return t["default"]=e,b(t,"__useDefault",{value:!0}),t}function p(e,t,n,r){(!r||t.hasOwnProperty(n))&&(e[n]=t[n])}function d(e,t,n){try{var r;return(r=Object.getOwnPropertyDescriptor(t,n))&&b(e,n,r),!0}catch(o){return!1}}function f(t,n){var r=m[t];if(r&&!r.evaluated&&r.declarative){n.push(t);for(var o=0,i=r.normalizedDeps.length;i>o;o++){var a=r.normalizedDeps[o];-1==v.call(n,a)&&(m[a]?f(a,n):h(a))}r.evaluated||(r.evaluated=!0,r.module.execute.call(e))}}function h(e){if(_[e])return _[e];if("@node/"==e.substr(0,6))return E(e.substr(6));var t=m[e];if(!t)throw"Module "+e+" not present.";return i(e),f(e,[]),m[e]=void 0,t.declarative&&b(t.module.exports,"__esModule",{value:!0}),_[e]=t.declarative?t.module.exports:t.esModule}var m={},v=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},g=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(y){g=!1}var b;!function(){try{Object.defineProperty({},"a",{})&&(b=Object.defineProperty)}catch(e){b=function(e,t,n){try{e[t]=n.value||n.get.call(e)}catch(r){}}}}();var x={},E="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,_={"@empty":{}};return function(e,r,o){return function(i){i(function(i){for(var a={_nodeRequire:E,register:t,registerDynamic:n,get:h,set:function(e,t){_[e]=t},newModule:function(e){return e}},u=0;u<r.length;u++)(function(e,t){t&&t.__esModule?_[e]=t:_[e]=l(t)})(r[u],arguments[u]);o(a);var s=h(e[0]);if(e.length>1)for(var u=1;u<e.length;u++)h(e[u]);return s.__useDefault?s["default"]:s})}}}("undefined"!=typeof self?self:global)(["1","2"],[],function(e){this.require,this.exports,this.module;e.registerDynamic("3",["6","4","5"],!0,function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e("6"),i=e("4"),a=e("5");return o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;r>e&&n[e]===o[e];e++);var a=r-e;for(t=1;a>=t&&n[r-t]===o[i-t];t++);var u=t>1?1-t:void 0;return this._fallbackText=o.slice(e,u),this._fallbackText}}),i.addPoolingTo(r),n.exports=r,n.exports}),e.registerDynamic("7",["8"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("8"),i={data:null};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("9",["8"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("8"),i={data:null};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("a",["b","c","d","3","7","9","e"],!0,function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case T.topCompositionStart:return S.compositionStart;case T.topCompositionEnd:return S.compositionEnd;case T.topCompositionUpdate:return S.compositionUpdate}}function a(e,t){return e===T.topKeyDown&&t.keyCode===E}function u(e,t){switch(e){case T.topKeyUp:return-1!==x.indexOf(t.keyCode);case T.topKeyDown:return t.keyCode!==E;case T.topKeyPress:case T.topMouseDown:case T.topBlur:return!0;default:return!1}}function s(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function c(e,t,n,r){var o,c;if(_?o=i(e):k?u(e,n)&&(o=S.compositionEnd):a(e,n)&&(o=S.compositionStart),!o)return null;P&&(k||o!==S.compositionStart?o===S.compositionEnd&&k&&(c=k.getData()):k=v.getPooled(r));var l=g.getPooled(o,t,n,r);if(c)l.data=c;else{var p=s(n);null!==p&&(l.data=p)}return h.accumulateTwoPhaseDispatches(l),l}function l(e,t){switch(e){case T.topCompositionEnd:return s(t);case T.topKeyPress:var n=t.which;return n!==w?null:(M=!0,N);case T.topTextInput:var r=t.data;return r===N&&M?null:r;default:return null}}function p(e,t){if(k){if(e===T.topCompositionEnd||u(e,t)){var n=k.getData();return v.release(k),k=null,n}return null}switch(e){case T.topPaste:return null;case T.topKeyPress:return t.which&&!o(t)?String.fromCharCode(t.which):null;case T.topCompositionEnd:return P?null:t.data;default:return null}}function d(e,t,n,r){var o;if(o=D?l(e,n):p(e,n),!o)return null;var i=y.getPooled(S.beforeInput,t,n,r);return i.data=o,h.accumulateTwoPhaseDispatches(i),i}var f=e("b"),h=e("c"),m=e("d"),v=e("3"),g=e("7"),y=e("9"),b=e("e"),x=[9,13,27,32],E=229,_=m.canUseDOM&&"CompositionEvent"in window,C=null;m.canUseDOM&&"documentMode"in document&&(C=document.documentMode);var D=m.canUseDOM&&"TextEvent"in window&&!C&&!r(),P=m.canUseDOM&&(!_||C&&C>8&&11>=C),w=32,N=String.fromCharCode(w),T=f.topLevelTypes,S={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[T.topCompositionEnd,T.topKeyPress,T.topTextInput,T.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[T.topBlur,T.topCompositionEnd,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[T.topBlur,T.topCompositionStart,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[T.topBlur,T.topCompositionUpdate,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]}},M=!1,k=null,O={eventTypes:S,extractEvents:function(e,t,n,r){return[c(e,t,n,r),d(e,t,n,r)]}};return n.exports=O,n.exports}),e.registerDynamic("f",["b","10","c","d","11","12","8","13","14","15","e","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=D.getPooled(M.change,O,e,P(e));x.accumulateTwoPhaseDispatches(t),C.batchedUpdates(i,t)}function i(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){k=e,O=t,k.attachEvent("onchange",o)}function u(){k&&(k.detachEvent("onchange",o),k=null,O=null)}function s(e,t){return e===S.topChange?t:void 0}function c(e,t,n){e===S.topFocus?(u(),a(t,n)):e===S.topBlur&&u()}function l(e,t){k=e,O=t,I=e.value,A=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(k,"value",U),k.attachEvent?k.attachEvent("onpropertychange",d):k.addEventListener("propertychange",d,!1)}function p(){k&&(delete k.value,k.detachEvent?k.detachEvent("onpropertychange",d):k.removeEventListener("propertychange",d,!1),k=null,O=null,I=null,A=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==I&&(I=t,o(e))}}function f(e,t){return e===S.topInput?t:void 0}function h(e,t,n){e===S.topFocus?(p(),l(t,n)):e===S.topBlur&&p()}function m(e,t){return e!==S.topSelectionChange&&e!==S.topKeyUp&&e!==S.topKeyDown||!k||k.value===I?void 0:(I=k.value,O)}function v(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t){return e===S.topClick?t:void 0}var y=e("b"),b=e("10"),x=e("c"),E=e("d"),_=e("11"),C=e("12"),D=e("8"),P=e("13"),w=e("14"),N=e("15"),T=e("e"),S=y.topLevelTypes,M={change:{phasedRegistrationNames:{bubbled:T({onChange:null}),captured:T({onChangeCapture:null})},dependencies:[S.topBlur,S.topChange,S.topClick,S.topFocus,S.topInput,S.topKeyDown,S.topKeyUp,S.topSelectionChange]}},k=null,O=null,I=null,A=null,R=!1;E.canUseDOM&&(R=w("change")&&(!("documentMode"in document)||document.documentMode>8));var L=!1;E.canUseDOM&&(L=w("input")&&(!("documentMode"in document)||document.documentMode>11));var U={get:function(){return A.get.call(this)},set:function(e){I=""+e,A.set.call(this,e)}},F={eventTypes:M,extractEvents:function(e,t,n,o){var i,a,u=t?_.getNodeFromInstance(t):window;if(r(u)?R?i=s:a=c:N(u)?L?i=f:(i=m,a=h):v(u)&&(i=g),i){var l=i(e,t);if(l){var p=D.getPooled(M.change,l,n,o);return p.type="change",x.accumulateTwoPhaseDispatches(p),p}}a&&a(e,u,t)}};n.exports=F}(e("16")),n.exports}),e.registerDynamic("17",["e"],!0,function(e,t,n){"use strict";var r=e("e"),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];return n.exports=o,n.exports}),e.registerDynamic("18",["b","c","11","19","e"],!0,function(e,t,n){"use strict";var r=e("b"),o=e("c"),i=e("11"),a=e("19"),u=e("e"),s=r.topLevelTypes,c={mouseEnter:{registrationName:u({onMouseEnter:null}),dependencies:[s.topMouseOut,s.topMouseOver]},mouseLeave:{registrationName:u({onMouseLeave:null}),dependencies:[s.topMouseOut,s.topMouseOver]}},l={eventTypes:c,extractEvents:function(e,t,n,r){if(e===s.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==s.topMouseOut&&e!==s.topMouseOver)return null;var u;if(r.window===r)u=r;else{var l=r.ownerDocument;u=l?l.defaultView||l.parentWindow:window}var p,d;if(e===s.topMouseOut){p=t;var f=n.relatedTarget||n.toElement;d=f?i.getClosestInstanceFromNode(f):null}else p=null,d=t;if(p===d)return null;var h=null==p?u:i.getNodeFromInstance(p),m=null==d?u:i.getNodeFromInstance(d),v=a.getPooled(c.mouseLeave,p,n,r);v.type="mouseleave",v.target=h,v.relatedTarget=m;var g=a.getPooled(c.mouseEnter,d,n,r);return g.type="mouseenter",g.target=m,g.relatedTarget=h,o.accumulateEnterLeaveDispatches(v,g,p,d),[v,g]}};return n.exports=l,n.exports}),e.registerDynamic("1a",["1b"],!0,function(e,t,n){"use strict";var r=e("1b"),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_SIDE_EFFECTS,u=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,c=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,"default":i,defer:i,dir:0,disabled:i,download:c,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:u,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:u,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:o|a,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};return n.exports=l,n.exports}),e.registerDynamic("1c",["11","1d"],!0,function(e,t,n){"use strict";var r=e("11"),o=e("1d"),i={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};return n.exports=i,n.exports}),e.registerDynamic("1e",[],!0,function(e,t,n){"use strict";function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;return n.exports=r,n.exports}),e.registerDynamic("1f",["1e"],!0,function(e,t,n){"use strict";function r(e){return o(e.replace(i,"ms-"))}var o=e("1e"),i=/^-ms-/;return n.exports=r,n.exports}),e.registerDynamic("20",[],!0,function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){i.forEach(function(t){o[r(t,e)]=o[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},u={isUnitlessNumber:o,shorthandPropertyExpansions:a};return n.exports=u,n.exports}),e.registerDynamic("21",["20","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){var r=null==t||"boolean"==typeof t||""===t;if(r)return"";var o=isNaN(t);if(o||0===t||i.hasOwnProperty(e)&&i[e])return""+t;if("string"==typeof t){t=t.trim()}return t+"px"}var o=e("20"),i=(e("22"),o.isUnitlessNumber);n.exports=r}(e("16")),n.exports}),e.registerDynamic("23",[],!0,function(e,t,n){"use strict";function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;return n.exports=r,n.exports}),e.registerDynamic("24",["23"],!0,function(e,t,n){"use strict";function r(e){return o(e).replace(i,"-ms-")}var o=e("23"),i=/^ms-/;return n.exports=r,n.exports}),e.registerDynamic("25",[],!0,function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}return n.exports=r,n.exports}),e.registerDynamic("26",["20","d","27","1f","21","24","25","22","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("20"),o=e("d"),i=(e("27"),e("1f"),e("21")),a=e("24"),u=e("25"),s=(e("22"),u(function(e){return a(e)})),c=!1,l="cssFloat";if(o.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(d){c=!0}void 0===document.documentElement.style.cssFloat&&(l="styleFloat")}var f={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];null!=o&&(n+=s(r)+":",n+=i(r,o,t)+";")}return n||null},setValueForStyles:function(e,t,n){var o=e.style;for(var a in t)if(t.hasOwnProperty(a)){var u=i(a,t[a],n);if("float"!==a&&"cssFloat"!==a||(a=l),u)o[a]=u;else{var s=c&&r.shorthandPropertyExpansions[a];if(s)for(var p in s)o[p]="";else o[a]=""}}}};n.exports=f}(e("16")),n.exports}),e.registerDynamic("28",["29","11","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("29"),o=e("11"),i={dangerouslyProcessChildrenUpdates:function(e,t){var n=o.getNodeFromInstance(e);r.processUpdates(n,t)}};n.exports=i}(e("16")),n.exports}),e.registerDynamic("2a",["29","28","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("29"),o=e("28"),i={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,unmountIDFromEnvironment:function(e){}};n.exports=i}(e("16")),n.exports}),e.registerDynamic("2b",["2c"],!0,function(e,t,n){"use strict";var r=e("2c"),o={getNativeProps:r.getNativeProps};return n.exports=o,n.exports}),e.registerDynamic("2d",["6","2c","2e","2f","11","12","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);l.asap(r,this);var o=t.name;if("radio"===t.type&&null!=o){for(var i=c.getNodeFromInstance(this),a=i;a.parentNode;)a=a.parentNode;for(var u=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),d=0;d<u.length;d++){var f=u[d];if(f!==i&&f.form===i.form){var h=c.getInstanceFromNode(f);h?void 0:p(!1),l.asap(r,h)}}}return n}var i=e("6"),a=e("2c"),u=e("2e"),s=e("2f"),c=e("11"),l=e("12"),p=e("30"),d=(e("22"),{getNativeProps:function(e,t){var n=s.getValue(t),r=s.getChecked(t),o=i({type:void 0},a.getNativeProps(e,t),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&u.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=s.getValue(t);null!=r&&u.setValueForProperty(c.getNodeFromInstance(e),"value",""+r)}});n.exports=d}(e("16")),n.exports}),e.registerDynamic("31",["6","32","11","33","22","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("6"),o=e("32"),i=e("11"),a=e("33"),u=(e("22"),{mountWrapper:function(e,t,n){var r=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._nativeParent),null!=o&&"select"===o._tag&&(r=a.getSelectValueContext(o))}var i=null;if(null!=r)if(i=!1,Array.isArray(r)){for(var u=0;u<r.length;u++)if(""+r[u]==""+t.value){i=!0;break}}else i=""+r==""+t.value;e._wrapperState={selected:i}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=i.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getNativeProps:function(e,t){var n=r({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var i="";return o.forEach(t.children,function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(i+=e))}),i&&(n.children=i),n}});n.exports=u}(e("16")),n.exports}),e.registerDynamic("33",["6","2c","2f","11","12","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function o(e,t,n){var r,o,i=c.getNodeFromInstance(e).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function i(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),l.asap(r,this),n}var a=e("6"),u=e("2c"),s=e("2f"),c=e("11"),l=e("12"),p=(e("22"),!1),d={getNativeProps:function(e,t){return a({},u.getNativeProps(e,t),{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:i.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||p||(p=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=s.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};n.exports=d}(e("16")),n.exports}),e.registerDynamic("2c",[],!0,function(e,t,n){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},o={getNativeProps:function(e,t){if(!t.disabled)return t;var n={};for(var o in t)!r[o]&&t.hasOwnProperty(o)&&(n[o]=t[o]);return n}};return n.exports=o,n.exports}),e.registerDynamic("34",["1b","35","22","16"],!0,function(e,t,n){return function(t){"use strict";var r,o=(e("1b"),e("35"),e("22"),{onCreateMarkupForProperty:function(e,t){r(e)},onSetValueForProperty:function(e,t,n){r(t)},onDeleteValueForProperty:function(e,t){r(t)}});n.exports=o}(e("16")),n.exports}),e.registerDynamic("36",["34","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n,r,o,i){}var o=e("34"),i=(e("22"),[]),a={addDevtool:function(e){i.push(e)},removeDevtool:function(e){for(var t=0;t<i.length;t++)i[t]===e&&(i.splice(t,1),t--)},onCreateMarkupForProperty:function(e,t){r("onCreateMarkupForProperty",e,t)},onSetValueForProperty:function(e,t,n){r("onSetValueForProperty",e,t,n)},onDeleteValueForProperty:function(e,t){r("onDeleteValueForProperty",e,t)}};a.addDevtool(o),n.exports=a}(e("16")),n.exports}),e.registerDynamic("37",["36"],!0,function(e,t,n){"use strict";var r=e("36");return n.exports={debugTool:r},n.exports}),e.registerDynamic("38",["39"],!0,function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=e("39");return n.exports=r,n.exports}),e.registerDynamic("2e",["1b","11","37","27","38","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return c.hasOwnProperty(e)?!0:s.hasOwnProperty(e)?!1:u.test(e)?(c[e]=!0,!0):(s[e]=!0,!1)}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var i=e("1b"),a=(e("11"),e("37"),e("27"),e("38")),u=(e("22"),new RegExp("^["+i.ATTRIBUTE_NAME_START_CHAR+"]["+i.ATTRIBUTE_NAME_CHAR+"]*$")),s={},c={},l={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return i.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(i.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+a(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(o(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty){var u=r.propertyName;r.hasSideEffects&&""+e[u]==""+n||(e[u]=n)}else{var s=r.attributeName,c=r.attributeNamespace;c?e.setAttributeNS(c,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(i.isCustomAttribute(t))return void l.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){if(r(t)){null==n?e.removeAttribute(t):e.setAttribute(t,""+n)}},deleteValueForProperty:function(e,t){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:n.hasSideEffects&&""+e[o]==""||(e[o]="")}else e.removeAttribute(n.attributeName)}else i.isCustomAttribute(t)&&e.removeAttribute(t)}};n.exports=l}(e("16")),n.exports}),e.registerDynamic("2f",["3a","3b","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?c(!1):void 0}function o(e){r(e),null!=e.value||null!=e.onChange?c(!1):void 0}function i(e){r(e),null!=e.checked||null!=e.onChange?c(!1):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var u=e("3a"),s=e("3b"),c=e("30"),l=(e("22"),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(e,t,n){return!e[t]||l[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},d={},f={checkPropTypes:function(e,t,n){for(var r in p){if(p.hasOwnProperty(r))var o=p[r](t,r,e,s.prop);if(o instanceof Error&&!(o.message in d)){d[o.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};n.exports=f}(e("16")),n.exports}),e.registerDynamic("3c",["6","2c","2e","2f","11","12","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return l.asap(r,this),n}var i=e("6"),a=e("2c"),u=e("2e"),s=e("2f"),c=e("11"),l=e("12"),p=e("30"),d=(e("22"),{getNativeProps:function(e,t){null!=t.dangerouslySetInnerHTML?p(!1):void 0;var n=i({},a.getNativeProps(e,t),{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=t.defaultValue,r=t.children;null!=r&&(null!=n?p(!1):void 0,Array.isArray(r)&&(r.length<=1?void 0:p(!1),r=r[0]),n=""+r),null==n&&(n="");var i=s.getValue(t);e._wrapperState={initialValue:""+(null!=i?i:n),listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=s.getValue(t);null!=n&&u.setValueForProperty(c.getNodeFromInstance(e),"value",""+n)}});n.exports=d}(e("16")),n.exports}),e.registerDynamic("3d",["3e","3f","40","41","42","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){var r=void 0===e[n];null!=t&&r&&(e[n]=i(t))}var o=e("3e"),i=e("3f"),a=(e("40"),e("41")),u=e("42"),s=(e("22"),{instantiateChildren:function(e,t,n){if(null==e)return null;var o={};return u(e,r,o),o},updateChildren:function(e,t,n,r,u){if(t||e){var s,c;for(s in t)if(t.hasOwnProperty(s)){c=e&&e[s];var l=c&&c._currentElement,p=t[s];if(null!=c&&a(l,p))o.receiveComponent(c,p,r,u),t[s]=c;else{c&&(n[s]=o.getNativeNode(c),o.unmountComponent(c,!1));var d=i(p);t[s]=d}}for(s in e)!e.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||(c=e[s],n[s]=o.getNativeNode(c),o.unmountComponent(c,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];o.unmountComponent(r,t)}}});n.exports=s}(e("16")),n.exports}),e.registerDynamic("43",["40","42","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){var r=e,o=void 0===r[n];o&&null!=t&&(r[n]=t)}function o(e){if(null==e)return e;var t={};return i(e,r,t),t}var i=(e("40"),e("42"));e("22");n.exports=o}(e("16")),n.exports}),e.registerDynamic("44",["45","27","46","47","3e","3d","48","43","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){return{type:p.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function o(e,t,n){return{type:p.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:d.getNativeNode(e),toIndex:n,afterNode:t}}function i(e,t){return{type:p.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:p.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e){return{type:p.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e,t){return t&&(e=e||[],e.push(t)),e}function c(e,t){l.processChildrenUpdates(e,t)}var l=e("45"),p=(e("27"),e("46")),d=(e("47"),e("3e")),f=e("3d"),h=(e("48"),e("43")),m=e("30"),v={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return f.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,o){var i;return i=h(t),f.updateChildren(e,i,n,r,o),i},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a],s=d.mountComponent(u,t,this,this._nativeContainerInfo,n);u._mountIndex=i++,o.push(s)}return o},updateTextContent:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&m(!1);var r=[u(e)];c(this,r)},updateMarkup:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&m(!1);var r=[a(e)];c(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n);
},_updateChildren:function(e,t,n){var r=this._renderedChildren,o={},i=this._reconcilerUpdateChildren(r,e,o,t,n);if(i||r){var a,u=null,l=0,p=0,f=null;for(a in i)if(i.hasOwnProperty(a)){var h=r&&r[a],m=i[a];h===m?(u=s(u,this.moveChild(h,f,p,l)),l=Math.max(h._mountIndex,l),h._mountIndex=p):(h&&(l=Math.max(h._mountIndex,l)),u=s(u,this._mountChildAtIndex(m,f,p,t,n))),p++,f=d.getNativeNode(m)}for(a in o)o.hasOwnProperty(a)&&(u=s(u,this._unmountChild(r[a],o[a])));u&&c(this,u),this._renderedChildren=i}},unmountChildren:function(e){var t=this._renderedChildren;f.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){return e._mountIndex<r?o(e,t,n):void 0},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return i(e,t)},_mountChildAtIndex:function(e,t,n,r,o){var i=d.mountComponent(e,r,this,this._nativeContainerInfo,o);return e._mountIndex=n,this.createChild(e,t,i)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}};n.exports=v}(e("16")),n.exports}),e.registerDynamic("49",["6","4","4a"],!0,function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1}var o=e("6"),i=e("4"),a=e("4a"),u=[],s={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return s},destructor:function(){},checkpoint:function(){},rollback:function(){}};return o(r.prototype,a.Mixin,c),i.addPoolingTo(r),n.exports=r,n.exports}),e.registerDynamic("4b",["6","1c","26","4c","4d","1b","2e","b","10","35","4e","2a","2b","4f","11","2d","31","33","3c","27","44","49","48","39","30","14","e","51","50","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){t&&(X[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?A(!1):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?A(!1):void 0,"object"==typeof t.dangerouslySetInnerHTML&&q in t.dangerouslySetInnerHTML?void 0:A(!1)),null!=t.style&&"object"!=typeof t.style?A(!1):void 0)}function o(e,t,n,r){if(!(r instanceof O)){var o=e._nativeContainerInfo,a=o._node&&o._node.nodeType===K,u=a?o._node:o._ownerDocument;j(t,u),r.getReactMountReady().enqueue(i,{inst:e,registrationName:t,listener:n})}}function i(){var e=this;x.putListener(e.inst,e.registrationName,e.listener)}function a(){var e=this;T.postMountWrapper(e)}function u(){var e=this;e._rootNodeID?void 0:A(!1);var t=F(e);switch(t?void 0:A(!1),e._tag){case"iframe":case"object":e._wrapperState.listeners=[_.trapBubbledEvent(b.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in Y)Y.hasOwnProperty(n)&&e._wrapperState.listeners.push(_.trapBubbledEvent(b.topLevelTypes[n],Y[n],t));break;case"img":e._wrapperState.listeners=[_.trapBubbledEvent(b.topLevelTypes.topError,"error",t),_.trapBubbledEvent(b.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[_.trapBubbledEvent(b.topLevelTypes.topReset,"reset",t),_.trapBubbledEvent(b.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[_.trapBubbledEvent(b.topLevelTypes.topInvalid,"invalid",t)]}}function s(){S.postUpdateWrapper(this)}function c(e){J.call(Q,e)||($.test(e)?void 0:A(!1),Q[e]=!0)}function l(e,t){return e.indexOf("-")>=0||null!=t.is}function p(e){var t=e.type;c(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._nativeNode=null,this._nativeParent=null,this._rootNodeID=null,this._domID=null,this._nativeContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var d=e("6"),f=e("1c"),h=e("26"),m=e("4c"),v=e("4d"),g=e("1b"),y=e("2e"),b=e("b"),x=e("10"),E=e("35"),_=e("4e"),C=e("2a"),D=e("2b"),P=e("4f"),w=e("11"),N=e("2d"),T=e("31"),S=e("33"),M=e("3c"),k=(e("27"),e("44")),O=e("49"),I=(e("48"),e("39")),A=e("30"),R=(e("14"),e("e")),L=(e("51"),e("50"),e("22"),P),U=x.deleteListener,F=w.getNodeFromInstance,j=_.listenTo,V=E.registrationNameModules,B={string:!0,number:!0},W=R({style:null}),q=R({__html:null}),H={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},K=11,Y={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},z={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},G={listing:!0,pre:!0,textarea:!0},X=d({menuitem:!0},z),$=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Q={},J={}.hasOwnProperty,Z=1;p.displayName="ReactDOMComponent",p.Mixin={mountComponent:function(e,t,n,o){this._rootNodeID=Z++,this._domID=n._idCounter++,this._nativeParent=t,this._nativeContainerInfo=n;var i=this._currentElement.props;switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(u,this);break;case"button":i=D.getNativeProps(this,i,t);break;case"input":N.mountWrapper(this,i,t),i=N.getNativeProps(this,i),e.getReactMountReady().enqueue(u,this);break;case"option":T.mountWrapper(this,i,t),i=T.getNativeProps(this,i);break;case"select":S.mountWrapper(this,i,t),i=S.getNativeProps(this,i),e.getReactMountReady().enqueue(u,this);break;case"textarea":M.mountWrapper(this,i,t),i=M.getNativeProps(this,i),e.getReactMountReady().enqueue(u,this)}r(this,i);var s,c;null!=t?(s=t._namespaceURI,c=t._tag):n._tag&&(s=n._namespaceURI,c=n._tag),(null==s||s===v.svg&&"foreignobject"===c)&&(s=v.html),s===v.html&&("svg"===this._tag?s=v.svg:"math"===this._tag&&(s=v.mathml)),this._namespaceURI=s;var l;if(e.useCreateElement){var p,d=n._ownerDocument;if(s===v.html)if("script"===this._tag){var h=d.createElement("div"),g=this._currentElement.type;h.innerHTML="<"+g+"></"+g+">",p=h.removeChild(h.firstChild)}else p=d.createElement(this._currentElement.type,i.is||null);else p=d.createElementNS(s,this._currentElement.type);w.precacheNode(this,p),this._flags|=L.hasCachedChildNodes,this._nativeParent||y.setAttributeForRoot(p),this._updateDOMProperties(null,i,e);var b=m(p);this._createInitialChildren(e,i,o,b),l=b}else{var x=this._createOpenTagMarkupAndPutListeners(e,i),E=this._createContentMarkup(e,i,o);l=!E&&z[this._tag]?x+"/>":x+">"+E+"</"+this._currentElement.type+">"}switch(this._tag){case"button":case"input":case"select":case"textarea":i.autoFocus&&e.getReactMountReady().enqueue(f.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(a,this)}return l},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(V.hasOwnProperty(r))i&&o(this,r,i,e);else{r===W&&(i&&(i=this._previousStyleCopy=d({},t.style)),i=h.createMarkupForStyles(i,this));var a=null;null!=this._tag&&l(this._tag,t)?H.hasOwnProperty(r)||(a=y.createMarkupForCustomAttribute(r,i)):a=y.createMarkupForProperty(r,i),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._nativeParent||(n+=" "+y.createMarkupForRoot()),n+=" "+y.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=B[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=I(i);else if(null!=a){var u=this.mountChildren(a,e,n);r=u.join("")}}return G[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&m.queueHTML(r,o.__html);else{var i=B[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)m.queueText(r,i);else if(null!=a)for(var u=this.mountChildren(a,e,n),s=0;s<u.length;s++)m.queueChild(r,u[s])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,o){var i=t.props,a=this._currentElement.props;switch(this._tag){case"button":i=D.getNativeProps(this,i),a=D.getNativeProps(this,a);break;case"input":N.updateWrapper(this),i=N.getNativeProps(this,i),a=N.getNativeProps(this,a);break;case"option":i=T.getNativeProps(this,i),a=T.getNativeProps(this,a);break;case"select":i=S.getNativeProps(this,i),a=S.getNativeProps(this,a);break;case"textarea":M.updateWrapper(this),i=M.getNativeProps(this,i),a=M.getNativeProps(this,a)}r(this,a),this._updateDOMProperties(i,a,e),this._updateDOMChildren(i,a,e,o),"select"===this._tag&&e.getReactMountReady().enqueue(s,this)},_updateDOMProperties:function(e,t,n){var r,i,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===W){var u=this._previousStyleCopy;for(i in u)u.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else V.hasOwnProperty(r)?e[r]&&U(this,r):(g.properties[r]||g.isCustomAttribute(r))&&y.deleteValueForProperty(F(this),r);for(r in t){var s=t[r],c=r===W?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&s!==c&&(null!=s||null!=c))if(r===W)if(s?s=this._previousStyleCopy=d({},s):this._previousStyleCopy=null,c){for(i in c)!c.hasOwnProperty(i)||s&&s.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in s)s.hasOwnProperty(i)&&c[i]!==s[i]&&(a=a||{},a[i]=s[i])}else a=s;else if(V.hasOwnProperty(r))s?o(this,r,s,n):c&&U(this,r);else if(l(this._tag,t))H.hasOwnProperty(r)||y.setValueForAttribute(F(this),r,s);else if(g.properties[r]||g.isCustomAttribute(r)){var p=F(this);null!=s?y.setValueForProperty(p,r,s):y.deleteValueForProperty(p,r)}}a&&h.setValueForStyles(F(this),a,this)},_updateDOMChildren:function(e,t,n,r){var o=B[typeof e.children]?e.children:null,i=B[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,u=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=null!=o?null:e.children,c=null!=i?null:t.children,l=null!=o||null!=a,p=null!=i||null!=u;null!=s&&null==c?this.updateChildren(null,n,r):l&&!p&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=u?a!==u&&this.updateMarkup(""+u):null!=c&&this.updateChildren(c,n,r)},getNativeNode:function(){return F(this)},unmountComponent:function(e){switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":A(!1)}this.unmountChildren(e),w.uncacheNode(this),x.deleteAllListeners(this),C.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._domID=null,this._wrapperState=null},getPublicInstance:function(){return F(this)}},d(p.prototype,p.Mixin,k.Mixin),n.exports=p}(e("16")),n.exports}),e.registerDynamic("52",["6","4c","11"],!0,function(e,t,n){"use strict";var r=e("6"),o=e("4c"),i=e("11"),a=function(e){this._currentElement=null,this._nativeNode=null,this._nativeParent=null,this._nativeContainerInfo=null,this._domID=null};return r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._nativeParent=t,this._nativeContainerInfo=n;var u=" react-empty: "+this._domID+" ";if(e.useCreateElement){var s=n._ownerDocument,c=s.createComment(u);return i.precacheNode(this,c),o(c)}return e.renderToStaticMarkup?"":"<!--"+u+"-->"},receiveComponent:function(){},getNativeNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),n.exports=a,n.exports}),e.registerDynamic("53",["30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){"_nativeNode"in e?void 0:s(!1),"_nativeNode"in t?void 0:s(!1);for(var n=0,r=e;r;r=r._nativeParent)n++;for(var o=0,i=t;i;i=i._nativeParent)o++;for(;n-o>0;)e=e._nativeParent,n--;for(;o-n>0;)t=t._nativeParent,o--;for(var a=n;a--;){if(e===t)return e;e=e._nativeParent,t=t._nativeParent}return null}function o(e,t){"_nativeNode"in e?void 0:s(!1),"_nativeNode"in t?void 0:s(!1);for(;t;){if(t===e)return!0;t=t._nativeParent}return!1}function i(e){return"_nativeNode"in e?void 0:s(!1),e._nativeParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._nativeParent;var o;for(o=r.length;o-- >0;)t(r[o],!1,n);for(o=0;o<r.length;o++)t(r[o],!0,n)}function u(e,t,n,o,i){for(var a=e&&t?r(e,t):null,u=[];e&&e!==a;)u.push(e),e=e._nativeParent;for(var s=[];t&&t!==a;)s.push(t),t=t._nativeParent;var c;for(c=0;c<u.length;c++)n(u[c],!0,o);for(c=s.length;c-- >0;)n(s[c],!1,i)}var s=e("30");n.exports={isAncestor:o,getLowestCommonAncestor:r,getParentInstance:i,traverseTwoPhase:a,traverseEnterLeave:u}}(e("16")),n.exports}),e.registerDynamic("54",["30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),o=0;t>o;o++)r[o]=e[o];return r}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=e("30");n.exports=i}(e("16")),n.exports}),e.registerDynamic("55",["d","54","56","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){var t=e.match(l);return t&&t[1].toLowerCase()}function o(e,t){var n=c;c?void 0:s(!1);var o=r(e),i=o&&u(o);if(i){n.innerHTML=i[1]+e+i[2];for(var l=i[0];l--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t?void 0:s(!1),a(p).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var i=e("d"),a=e("54"),u=e("56"),s=e("30"),c=i.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;n.exports=o}(e("16")),n.exports}),e.registerDynamic("56",["d","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return a?void 0:i(!1),d.hasOwnProperty(e)||(e="*"),u.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",u[e]=!a.firstChild),u[e]?d[e]:null}var o=e("d"),i=e("30"),a=o.canUseDOM?document.createElement("div"):null,u={},s=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:l,th:l},f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(e){d[e]=p,u[e]=!0}),n.exports=r}(e("16")),n.exports}),e.registerDynamic("57",["4c","d","55","48","56","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var o=e("4c"),i=e("d"),a=e("55"),u=e("48"),s=e("56"),c=e("30"),l=/^(<[^ \/>]+)/,p="data-danger-index",d={dangerouslyRenderMarkup:function(e){i.canUseDOM?void 0:c(!1);for(var t,n={},o=0;o<e.length;o++)e[o]?void 0:c(!1),t=r(e[o]),t=s(t)?t:"*",n[t]=n[t]||[],n[t][o]=e[o];var d=[],f=0;for(t in n)if(n.hasOwnProperty(t)){var h,m=n[t];for(h in m)if(m.hasOwnProperty(h)){var v=m[h];m[h]=v.replace(l,"$1 "+p+'="'+h+'" ')}for(var g=a(m.join(""),u),y=0;y<g.length;++y){var b=g[y];b.hasAttribute&&b.hasAttribute(p)&&(h=+b.getAttribute(p),b.removeAttribute(p),d.hasOwnProperty(h)?c(!1):void 0,d[h]=b,f+=1)}}return f!==d.length?c(!1):void 0,d.length!==e.length?c(!1):void 0,d},dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM?void 0:c(!1),t?void 0:c(!1),"HTML"===e.nodeName?c(!1):void 0,"string"==typeof t){var n=a(t,u)[0];e.parentNode.replaceChild(n,e)}else o.replaceChildWithTree(e,t)}};n.exports=d}(e("16")),n.exports}),e.registerDynamic("46",["58"],!0,function(e,t,n){"use strict";var r=e("58"),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});return n.exports=o,n.exports}),e.registerDynamic("29",["4c","57","46","11","27","59","5a","5b","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function o(e,t,n){l.insertTreeBefore(e,t,n)}function i(e,t,n){Array.isArray(t)?u(e,t[0],t[1],n):v(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],s(e,t,n),e.removeChild(n)}e.removeChild(t)}function u(e,t,n,r){for(var o=t;;){var i=o.nextSibling;if(v(e,o,r),o===n)break;o=i}}function s(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function c(e,t,n){var r=e.parentNode,o=e.nextSibling;o===t?n&&v(r,document.createTextNode(n),o):n?(m(o,n),s(r,o,t)):s(r,e,t)}var l=e("4c"),p=e("57"),d=e("46"),f=(e("11"),e("27"),e("59")),h=e("5a"),m=e("5b"),v=f(function(e,t,n){e.insertBefore(t,n)}),g=p.dangerouslyReplaceNodeWithMarkup,y={dangerouslyReplaceNodeWithMarkup:g,replaceDelimitedText:c,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var u=t[n];switch(u.type){case d.INSERT_MARKUP:o(e,u.content,r(e,u.afterNode));break;case d.MOVE_EXISTING:i(e,u.fromNode,r(e,u.afterNode));break;case d.SET_MARKUP:h(e,u.content);break;case d.TEXT_CONTENT:m(e,u.content);break;case d.REMOVE_NODE:a(e,u.fromNode)}}}};n.exports=y}(e("16")),n.exports}),e.registerDynamic("5c",["6","29","4c","11","27","39","30","50","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("6"),o=e("29"),i=e("4c"),a=e("11"),u=(e("27"),e("39")),s=e("30"),c=(e("50"),function(e){this._currentElement=e,this._stringText=""+e,this._nativeNode=null,this._nativeParent=null,this._domID=null,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});r(c.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++,s=" react-text: "+o+" ",c=" /react-text ";if(this._domID=o,this._nativeParent=t,e.useCreateElement){var l=n._ownerDocument,p=l.createComment(s),d=l.createComment(c),f=i(l.createDocumentFragment());return i.queueChild(f,i(p)),this._stringText&&i.queueChild(f,i(l.createTextNode(this._stringText))),i.queueChild(f,i(d)),a.precacheNode(this,p),this._closingComment=d,f}var h=u(this._stringText);return e.renderToStaticMarkup?h:"<!--"+s+"-->"+h+"<!--"+c+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getNativeNode();o.replaceDelimitedText(r[0],r[1],n)}}},getNativeNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=a.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?s(!1):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._nativeNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,a.uncacheNode(this)}}),n.exports=c}(e("16")),n.exports}),e.registerDynamic("5d",["6","12","4a","48"],!0,function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=e("6"),i=e("12"),a=e("4a"),u=e("48"),s={initialize:u,close:function(){d.isBatchingUpdates=!1}},c={initialize:u,close:i.flushBatchedUpdates.bind(i)},l=[c,s];o(r.prototype,a.Mixin,{getTransactionWrappers:function(){return l}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=d.isBatchingUpdates;d.isBatchingUpdates=!0,a?e(t,n,r,o,i):p.perform(e,null,t,n,r,o,i)}};return n.exports=d,n.exports}),e.registerDynamic("5e",[],!0,function(e,t,n){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}return n.exports=r,n.exports}),e.registerDynamic("5f",["6","60","d","4","11","12","13","5e","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){for(;e._nativeParent;)e=e._nativeParent;var t=p.getNodeFromInstance(e),n=t.parentNode;return p.getClosestInstanceFromNode(n)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){var t=f(e.nativeEvent),n=p.getClosestInstanceFromNode(t),o=n;do e.ancestors.push(o),o=o&&r(o);while(o);for(var i=0;i<e.ancestors.length;i++)n=e.ancestors[i],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,f(e.nativeEvent))}function a(e){var t=h(window);e(t)}var u=e("6"),s=e("60"),c=e("d"),l=e("4"),p=e("11"),d=e("12"),f=e("13"),h=e("5e");u(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(o,l.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?s.listen(r,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?s.capture(r,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);s.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=o.getPooled(e,t);try{d.batchedUpdates(i,n)}finally{o.release(n)}}}};n.exports=m}(e("16")),n.exports}),e.registerDynamic("61",["1b","10","62","45","63","64","4e","65","12"],!0,function(e,t,n){"use strict";var r=e("1b"),o=e("10"),i=e("62"),a=e("45"),u=e("63"),s=e("64"),c=e("4e"),l=e("65"),p=e("12"),d={Component:a.injection,Class:u.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:c.injection,NativeComponent:l.injection,Updates:p.injection};return n.exports=d,n.exports}),e.registerDynamic("66",["6","67","4","4e","68","4a"],!0,function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=e}var o=e("6"),i=e("67"),a=e("4"),u=e("4e"),s=e("68"),c=e("4a"),l={initialize:s.getSelectionInformation,close:s.restoreSelection},p={initialize:function(){var e=u.isEnabled();return u.setEnabled(!1),e},close:function(e){u.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[l,p,d],h={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};return o(r.prototype,c.Mixin,h),a.addPoolingTo(r),n.exports=r,n.exports}),e.registerDynamic("69",[],!0,function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering","in":0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};return Object.keys(o).forEach(function(e){i.Properties[e]=0,o[e]&&(i.DOMAttributeNames[e]=o[e])}),n.exports=i,n.exports}),e.registerDynamic("6a",[],!0,function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var n=r(e),i=0,a=0;n;){if(3===n.nodeType){if(a=i+n.textContent.length,t>=i&&a>=t)return{node:n,offset:t-i};i=a}n=r(o(n))}}return n.exports=i,n.exports}),e.registerDynamic("5",["d"],!0,function(e,t,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=e("d"),i=null;return n.exports=r,n.exports}),e.registerDynamic("6b",["d","6a","5"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length,a=i+r;return{start:i,end:a}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,u=t.getRangeAt(0);try{u.startContainer.nodeType,u.endContainer.nodeType}catch(s){return null}var c=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),l=c?0:u.toString().length,p=u.cloneRange();p.selectNodeContents(e),p.setEnd(u.startContainer,u.startOffset);var d=r(p.startContainer,p.startOffset,p.endContainer,p.endOffset),f=d?0:p.toString().length,h=f+l,m=document.createRange();m.setStart(n,o),m.setEnd(i,a);var v=m.collapsed;return{start:v?h:f,end:v?f:h}}function a(e,t){var n,r,o=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function u(e,t){if(window.getSelection){var n=window.getSelection(),r=e[l()].length,o=Math.min(t.start,r),i=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var u=c(e,o),s=c(e,i);if(u&&s){var p=document.createRange();p.setStart(u.node,u.offset),n.removeAllRanges(),o>i?(n.addRange(p),n.extend(s.node,s.offset)):(p.setEnd(s.node,s.offset),n.addRange(p))}}}var s=e("d"),c=e("6a"),l=e("5"),p=s.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:i,setOffsets:p?a:u};return n.exports=d,n.exports}),e.registerDynamic("6c",[],!0,function(e,t,n){"use strict";function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}return n.exports=r,n.exports}),e.registerDynamic("6d",["6c"],!0,function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=e("6c");return n.exports=r,n.exports}),e.registerDynamic("6e",["6d"],!0,function(e,t,n){"use strict";function r(e,t){return e&&t?e===t?!0:o(e)?!1:o(t)?r(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}var o=e("6d");return n.exports=r,n.exports}),e.registerDynamic("1d",[],!0,function(e,t,n){"use strict";function r(e){try{e.focus()}catch(t){}}return n.exports=r,n.exports}),e.registerDynamic("68",["6b","6e","1d","6f"],!0,function(e,t,n){"use strict";function r(e){return i(document.documentElement,e)}var o=e("6b"),i=e("6e"),a=e("1d"),u=e("6f"),s={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable);
},getSelectionInformation:function(){var e=u();return{focusedElem:e,selectionRange:s.hasSelectionCapabilities(e)?s.getSelection(e):null}},restoreSelection:function(e){var t=u(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(s.hasSelectionCapabilities(n)&&s.setSelection(n,o),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};return n.exports=s,n.exports}),e.registerDynamic("6f",[],!0,function(e,t,n){"use strict";function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}return n.exports=r,n.exports}),e.registerDynamic("15",[],!0,function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&o[e.type]||"textarea"===t)}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};return n.exports=r,n.exports}),e.registerDynamic("51",[],!0,function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;return n.exports=o,n.exports}),e.registerDynamic("70",["b","c","d","11","68","8","6f","15","e","51"],!0,function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&c.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(E||null==y||y!==p())return null;var n=r(y);if(!x||!h(x,n)){x=n;var o=l.getPooled(g.select,b,e,t);return o.type="select",o.target=y,a.accumulateTwoPhaseDispatches(o),o}return null}var i=e("b"),a=e("c"),u=e("d"),s=e("11"),c=e("68"),l=e("8"),p=e("6f"),d=e("15"),f=e("e"),h=e("51"),m=i.topLevelTypes,v=u.canUseDOM&&"documentMode"in document&&document.documentMode<=11,g={select:{phasedRegistrationNames:{bubbled:f({onSelect:null}),captured:f({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},y=null,b=null,x=null,E=!1,_=!1,C=f({onSelect:null}),D={eventTypes:g,extractEvents:function(e,t,n,r){if(!_)return null;var i=t?s.getNodeFromInstance(t):window;switch(e){case m.topFocus:(d(i)||"true"===i.contentEditable)&&(y=i,b=t,x=null);break;case m.topBlur:y=null,b=null,x=null;break;case m.topMouseDown:E=!0;break;case m.topContextMenu:case m.topMouseUp:return E=!1,o(n,r);case m.topSelectionChange:if(v)break;case m.topKeyDown:case m.topKeyUp:return o(n,r)}return null},didPutListener:function(e,t,n){t===C&&(_=!0)}};return n.exports=D,n.exports}),e.registerDynamic("60",["48","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("48"),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};n.exports=o}(e("16")),n.exports}),e.registerDynamic("c",["b","10","62","71","72","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return b(e,r)}function o(e,t,n){var o=t?y.bubbled:y.captured,i=r(e,n,o);i&&(n._dispatchListeners=v(n._dispatchListeners,i),n._dispatchInstances=v(n._dispatchInstances,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(e._targetInst,o,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?m.getParentInstance(t):null;m.traverseTwoPhase(n,o,e)}}function u(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=b(e,r);o&&(n._dispatchListeners=v(n._dispatchListeners,o),n._dispatchInstances=v(n._dispatchInstances,e))}}function s(e){e&&e.dispatchConfig.registrationName&&u(e._targetInst,null,e)}function c(e){g(e,i)}function l(e){g(e,a)}function p(e,t,n,r){m.traverseEnterLeave(n,r,u,e,t)}function d(e){g(e,s)}var f=e("b"),h=e("10"),m=e("62"),v=e("71"),g=e("72"),y=(e("22"),f.PropagationPhases),b=h.getListener,x={accumulateTwoPhaseDispatches:c,accumulateTwoPhaseDispatchesSkipTarget:l,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};n.exports=x}(e("16")),n.exports}),e.registerDynamic("73",["8"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("8"),i={animationName:null,elapsedTime:null,pseudoElement:null};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("74",["8"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("8"),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("75",["76"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("76"),i={relatedTarget:null};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("77",["78"],!0,function(e,t,n){"use strict";function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var o=e("78"),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};return n.exports=r,n.exports}),e.registerDynamic("79",["76","78","77","7a"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("76"),i=e("78"),a=e("77"),u=e("7a"),s={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:u,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};return o.augmentClass(r,s),n.exports=r,n.exports}),e.registerDynamic("7b",["19"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("19"),i={dataTransfer:null};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("7c",["76","7a"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("76"),i=e("7a"),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};return o.augmentClass(r,a),n.exports=r,n.exports}),e.registerDynamic("7d",["8"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("8"),i={propertyName:null,elapsedTime:null,pseudoElement:null};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("8",["6","4","48","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var u=o[i];u?this[i]=u(n):"target"===i?this.target=r:this[i]=n[i]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return s?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var o=e("6"),i=e("4"),a=e("48"),u=(e("22"),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),s={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<u.length;n++)this[u[n]]=null}}),r.Interface=s,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;o(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),n.exports=r}(e("16")),n.exports}),e.registerDynamic("13",[],!0,function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}return n.exports=r,n.exports}),e.registerDynamic("76",["8","13"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("8"),i=e("13"),a={view:function(e){if(e.view)return e.view;var t=i(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};return o.augmentClass(r,a),n.exports=r,n.exports}),e.registerDynamic("7a",[],!0,function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return r?!!n[r]:!1}function o(e){return r}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};return n.exports=o,n.exports}),e.registerDynamic("19",["76","7e","7a"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("76"),i=e("7e"),a=e("7a"),u={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};return o.augmentClass(r,u),n.exports=r,n.exports}),e.registerDynamic("7f",["19"],!0,function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("19"),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};return o.augmentClass(r,i),n.exports=r,n.exports}),e.registerDynamic("78",[],!0,function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}return n.exports=r,n.exports}),e.registerDynamic("80",["b","60","c","11","73","74","8","75","79","19","7b","7c","7d","76","7f","48","78","30","e","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("b"),o=e("60"),i=e("c"),a=e("11"),u=e("73"),s=e("74"),c=e("8"),l=e("75"),p=e("79"),d=e("19"),f=e("7b"),h=e("7c"),m=e("7d"),v=e("76"),g=e("7f"),y=e("48"),b=e("78"),x=e("30"),E=e("e"),_=r.topLevelTypes,C={abort:{phasedRegistrationNames:{bubbled:E({onAbort:!0}),captured:E({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:E({onAnimationEnd:!0}),captured:E({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:E({onAnimationIteration:!0}),captured:E({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:E({onAnimationStart:!0}),captured:E({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:E({onBlur:!0}),captured:E({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:E({onCanPlay:!0}),captured:E({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:E({onCanPlayThrough:!0}),captured:E({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:E({onClick:!0}),captured:E({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:E({onContextMenu:!0}),captured:E({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:E({onCopy:!0}),captured:E({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:E({onCut:!0}),captured:E({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:E({onDoubleClick:!0}),captured:E({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:E({onDrag:!0}),captured:E({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:E({onDragEnd:!0}),captured:E({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:E({onDragEnter:!0}),captured:E({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:E({onDragExit:!0}),captured:E({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:E({onDragLeave:!0}),captured:E({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:E({onDragOver:!0}),captured:E({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:E({onDragStart:!0}),captured:E({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:E({onDrop:!0}),captured:E({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:E({onDurationChange:!0}),captured:E({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:E({onEmptied:!0}),captured:E({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:E({onEncrypted:!0}),captured:E({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:E({onEnded:!0}),captured:E({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:E({onError:!0}),captured:E({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:E({onFocus:!0}),captured:E({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:E({onInput:!0}),captured:E({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:E({onInvalid:!0}),captured:E({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:E({onKeyDown:!0}),captured:E({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:E({onKeyPress:!0}),captured:E({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:E({onKeyUp:!0}),captured:E({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:E({onLoad:!0}),captured:E({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:E({onLoadedData:!0}),captured:E({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:E({onLoadedMetadata:!0}),captured:E({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:E({onLoadStart:!0}),captured:E({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:E({onMouseDown:!0}),captured:E({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:E({onMouseMove:!0}),captured:E({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:E({onMouseOut:!0}),captured:E({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:E({onMouseOver:!0}),captured:E({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:E({onMouseUp:!0}),captured:E({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:E({onPaste:!0}),captured:E({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:E({onPause:!0}),captured:E({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:E({onPlay:!0}),captured:E({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:E({onPlaying:!0}),captured:E({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:E({onProgress:!0}),captured:E({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:E({onRateChange:!0}),captured:E({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:E({onReset:!0}),captured:E({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:E({onScroll:!0}),captured:E({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:E({onSeeked:!0}),captured:E({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:E({onSeeking:!0}),captured:E({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:E({onStalled:!0}),captured:E({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:E({onSubmit:!0}),captured:E({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:E({onSuspend:!0}),captured:E({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:E({onTimeUpdate:!0}),captured:E({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:E({onTouchCancel:!0}),captured:E({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:E({onTouchEnd:!0}),captured:E({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:E({onTouchMove:!0}),captured:E({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:E({onTouchStart:!0}),captured:E({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:E({onTransitionEnd:!0}),captured:E({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:E({onVolumeChange:!0}),captured:E({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:E({onWaiting:!0}),captured:E({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:E({onWheel:!0}),captured:E({onWheelCapture:!0})}}},D={topAbort:C.abort,topAnimationEnd:C.animationEnd,topAnimationIteration:C.animationIteration,topAnimationStart:C.animationStart,topBlur:C.blur,topCanPlay:C.canPlay,topCanPlayThrough:C.canPlayThrough,topClick:C.click,topContextMenu:C.contextMenu,topCopy:C.copy,topCut:C.cut,topDoubleClick:C.doubleClick,topDrag:C.drag,topDragEnd:C.dragEnd,topDragEnter:C.dragEnter,topDragExit:C.dragExit,topDragLeave:C.dragLeave,topDragOver:C.dragOver,topDragStart:C.dragStart,topDrop:C.drop,topDurationChange:C.durationChange,topEmptied:C.emptied,topEncrypted:C.encrypted,topEnded:C.ended,topError:C.error,topFocus:C.focus,topInput:C.input,topInvalid:C.invalid,topKeyDown:C.keyDown,topKeyPress:C.keyPress,topKeyUp:C.keyUp,topLoad:C.load,topLoadedData:C.loadedData,topLoadedMetadata:C.loadedMetadata,topLoadStart:C.loadStart,topMouseDown:C.mouseDown,topMouseMove:C.mouseMove,topMouseOut:C.mouseOut,topMouseOver:C.mouseOver,topMouseUp:C.mouseUp,topPaste:C.paste,topPause:C.pause,topPlay:C.play,topPlaying:C.playing,topProgress:C.progress,topRateChange:C.rateChange,topReset:C.reset,topScroll:C.scroll,topSeeked:C.seeked,topSeeking:C.seeking,topStalled:C.stalled,topSubmit:C.submit,topSuspend:C.suspend,topTimeUpdate:C.timeUpdate,topTouchCancel:C.touchCancel,topTouchEnd:C.touchEnd,topTouchMove:C.touchMove,topTouchStart:C.touchStart,topTransitionEnd:C.transitionEnd,topVolumeChange:C.volumeChange,topWaiting:C.waiting,topWheel:C.wheel};for(var P in D)D[P].dependencies=[P];var w=E({onClick:null}),N={},T={eventTypes:C,extractEvents:function(e,t,n,r){var o=D[e];if(!o)return null;var a;switch(e){case _.topAbort:case _.topCanPlay:case _.topCanPlayThrough:case _.topDurationChange:case _.topEmptied:case _.topEncrypted:case _.topEnded:case _.topError:case _.topInput:case _.topInvalid:case _.topLoad:case _.topLoadedData:case _.topLoadedMetadata:case _.topLoadStart:case _.topPause:case _.topPlay:case _.topPlaying:case _.topProgress:case _.topRateChange:case _.topReset:case _.topSeeked:case _.topSeeking:case _.topStalled:case _.topSubmit:case _.topSuspend:case _.topTimeUpdate:case _.topVolumeChange:case _.topWaiting:a=c;break;case _.topKeyPress:if(0===b(n))return null;case _.topKeyDown:case _.topKeyUp:a=p;break;case _.topBlur:case _.topFocus:a=l;break;case _.topClick:if(2===n.button)return null;case _.topContextMenu:case _.topDoubleClick:case _.topMouseDown:case _.topMouseMove:case _.topMouseOut:case _.topMouseOver:case _.topMouseUp:a=d;break;case _.topDrag:case _.topDragEnd:case _.topDragEnter:case _.topDragExit:case _.topDragLeave:case _.topDragOver:case _.topDragStart:case _.topDrop:a=f;break;case _.topTouchCancel:case _.topTouchEnd:case _.topTouchMove:case _.topTouchStart:a=h;break;case _.topAnimationEnd:case _.topAnimationIteration:case _.topAnimationStart:a=u;break;case _.topTransitionEnd:a=m;break;case _.topScroll:a=v;break;case _.topWheel:a=g;break;case _.topCopy:case _.topCut:case _.topPaste:a=s}a?void 0:x(!1);var y=a.getPooled(o,t,n,r);return i.accumulateTwoPhaseDispatches(y),y},didPutListener:function(e,t,n){if(t===w){var r=e._rootNodeID,i=a.getNodeFromInstance(e);N[r]||(N[r]=o.listen(i,"click",y))}},willDeleteListener:function(e,t){if(t===w){var n=e._rootNodeID;N[n].remove(),delete N[n]}}};n.exports=T}(e("16")),n.exports}),e.registerDynamic("81",["a","f","17","18","1a","2a","4b","11","52","53","5c","5d","5f","61","66","69","70","80"],!0,function(e,t,n){"use strict";function r(){_||(_=!0,g.EventEmitter.injectReactEventListener(v),g.EventPluginHub.injectEventPluginOrder(a),g.EventPluginUtils.injectComponentTree(p),g.EventPluginUtils.injectTreeTraversal(f),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:E,EnterLeaveEventPlugin:u,ChangeEventPlugin:i,SelectEventPlugin:x,BeforeInputEventPlugin:o}),g.NativeComponent.injectGenericComponentClass(l),g.NativeComponent.injectTextComponentClass(h),g.DOMProperty.injectDOMPropertyConfig(s),g.DOMProperty.injectDOMPropertyConfig(b),g.EmptyComponent.injectEmptyComponentFactory(function(e){return new d(e)}),g.Updates.injectReconcileTransaction(y),g.Updates.injectBatchingStrategy(m),g.Component.injectEnvironment(c))}var o=e("a"),i=e("f"),a=e("17"),u=e("18"),s=e("1a"),c=e("2a"),l=e("4b"),p=e("11"),d=e("52"),f=e("53"),h=e("5c"),m=e("5d"),v=e("5f"),g=e("61"),y=e("66"),b=e("69"),x=e("70"),E=e("80"),_=!1;return n.exports={inject:r},n.exports}),e.registerDynamic("82",["47","11","83","84","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=i.get(e);return t?(t=a(t),t?o.getNodeFromInstance(t):null):void u(("function"==typeof e.render,!1))}var o=(e("47"),e("11")),i=e("83"),a=e("84"),u=e("30");e("22");n.exports=r}(e("16")),n.exports}),e.registerDynamic("84",["85"],!0,function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===o.COMPOSITE;)e=e._renderedComponent;return t===o.NATIVE?e._renderedComponent:t===o.EMPTY?null:void 0}var o=e("85");return n.exports=r,n.exports}),e.registerDynamic("4d",[],!0,function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};return n.exports=r,n.exports}),e.registerDynamic("39",[],!0,function(e,t,n){"use strict";function r(e){return i[e]}function o(e){return(""+e).replace(a,r)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},a=/[&><"']/g;return n.exports=o,n.exports}),e.registerDynamic("5b",["d","39","5a"],!0,function(e,t,n){"use strict";var r=e("d"),o=e("39"),i=e("5a"),a=function(e,t){e.textContent=t};return r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){i(e,o(t))})),n.exports=a,n.exports}),e.registerDynamic("4c",["4d","59","5b"],!0,function(e,t,n){"use strict";function r(e){if(m){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)v(t,n[r],null);else null!=e.html?t.innerHTML=e.html:null!=e.text&&d(t,e.text)}}function o(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function i(e,t){m?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){m?e.html=t:e.node.innerHTML=t}function u(e,t){m?e.text=t:d(e.node,t)}function s(){return this.node.nodeName}function c(e){return{node:e,children:[],html:null,text:null,toString:s}}var l=e("4d"),p=e("59"),d=e("5b"),f=1,h=11,m="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),v=p(function(e,t,n){t.node.nodeType===h||t.node.nodeType===f&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===l.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});return c.insertTreeBefore=v,c.replaceChildWithTree=o,c.queueChild=i,c.queueHTML=a,c.queueText=u,n.exports=c,n.exports}),e.registerDynamic("35",["30","16"],!0,function(e,t,n){return function(t){"use strict";function r(){if(u)for(var e in s){var t=s[e],n=u.indexOf(e);if(n>-1?void 0:a(!1),!c.plugins[n]){t.extractEvents?void 0:a(!1),c.plugins[n]=t;var r=t.eventTypes;for(var i in r)o(r[i],t,i)?void 0:a(!1)}}}function o(e,t,n){c.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1):void 0,c.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var u=r[o];i(u,t,n)}return!0}return e.registrationName?(i(e.registrationName,t,n),!0):!1}function i(e,t,n){c.registrationNameModules[e]?a(!1):void 0,c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=e("30"),u=null,s={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){u?a(!1):void 0,u=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];s.hasOwnProperty(n)&&s[n]===o||(s[n]?a(!1):void 0,s[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=c.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){u=null;for(var e in s)s.hasOwnProperty(e)&&delete s[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=c.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};n.exports=c}(e("16")),n.exports}),e.registerDynamic("b",["58"],!0,function(e,t,n){"use strict";var r=e("58"),o=r({bubbled:null,captured:null}),i=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:o};return n.exports=a,n.exports}),e.registerDynamic("62",["b","86","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return e===y.topMouseUp||e===y.topTouchEnd||e===y.topTouchCancel}function o(e){return e===y.topMouseMove||e===y.topTouchMove}function i(e){return e===y.topMouseDown||e===y.topTouchStart}function a(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=b.getNodeFromInstance(r),t?m.invokeGuardedCallbackWithCatch(o,n,e):m.invokeGuardedCallback(o,n,e),e.currentTarget=null}function u(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)a(e,t,n[o],r[o]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function s(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function c(e){var t=s(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function l(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?v(!1):void 0,e.currentTarget=t?b.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var d,f,h=e("b"),m=e("86"),v=e("30"),g=(e("22"),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){f=e}}),y=h.topLevelTypes,b={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:l,executeDispatchesInOrder:u,executeDispatchesInOrderStopAtTrue:c,hasDispatches:p,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return f.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return f.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return f.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return f.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,o){return f.traverseEnterLeave(e,t,n,r,o)},injection:g};n.exports=b}(e("16")),n.exports}),e.registerDynamic("71",["30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){if(null==t?o(!1):void 0,null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var o=e("30");n.exports=r}(e("16")),n.exports}),e.registerDynamic("72",[],!0,function(e,t,n){"use strict";var r=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};return n.exports=r,n.exports}),e.registerDynamic("10",["35","62","86","71","72","30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("35"),o=e("62"),i=e("86"),a=e("71"),u=e("72"),s=e("30"),c={},l=null,p=function(e,t){e&&(o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},d=function(e){return p(e,!0)},f=function(e){return p(e,!1)},h={injection:{injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?s(!1):void 0;
var o=c[t]||(c[t]={});o[e._rootNodeID]=n;var i=r.registrationNameModules[t];i&&i.didPutListener&&i.didPutListener(e,t,n)},getListener:function(e,t){var n=c[t];return n&&n[e._rootNodeID]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var o=c[t];o&&delete o[e._rootNodeID]},deleteAllListeners:function(e){for(var t in c)if(c[t][e._rootNodeID]){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete c[t][e._rootNodeID]}},extractEvents:function(e,t,n,o){for(var i,u=r.plugins,s=0;s<u.length;s++){var c=u[s];if(c){var l=c.extractEvents(e,t,n,o);l&&(i=a(i,l))}}return i},enqueueEvents:function(e){e&&(l=a(l,e))},processEventQueue:function(e){var t=l;l=null,e?u(t,d):u(t,f),l?s(!1):void 0,i.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};n.exports=h}(e("16")),n.exports}),e.registerDynamic("87",["10"],!0,function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e("10"),i={handleTopLevel:function(e,t,n,i){var a=o.extractEvents(e,t,n,i);r(a)}};return n.exports=i,n.exports}),e.registerDynamic("7e",[],!0,function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};return n.exports=r,n.exports}),e.registerDynamic("88",["d"],!0,function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(u[e])return u[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in s)return u[e]=t[n];return""}var i=e("d"),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},u={},s={};return i.canUseDOM&&(s=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),n.exports=o,n.exports}),e.registerDynamic("14",["d"],!0,function(e,t,n){"use strict";function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=e("d");return i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),n.exports=r,n.exports}),e.registerDynamic("4e",["6","b","35","87","7e","88","14","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,v)||(e[v]=h++,d[e[v]]={}),d[e[v]]}var o,i=e("6"),a=e("b"),u=e("35"),s=e("87"),c=e("7e"),l=e("88"),p=e("14"),d={},f=!1,h=0,m={topAbort:"abort",topAnimationEnd:l("animationend")||"animationend",topAnimationIteration:l("animationiteration")||"animationiteration",topAnimationStart:l("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:l("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},v="_reactListenersID"+String(Math.random()).slice(2),g=i({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),i=u.registrationNameDependencies[e],s=a.topLevelTypes,c=0;c<i.length;c++){var l=i[c];o.hasOwnProperty(l)&&o[l]||(l===s.topWheel?p("wheel")?g.ReactEventListener.trapBubbledEvent(s.topWheel,"wheel",n):p("mousewheel")?g.ReactEventListener.trapBubbledEvent(s.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(s.topWheel,"DOMMouseScroll",n):l===s.topScroll?p("scroll",!0)?g.ReactEventListener.trapCapturedEvent(s.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(s.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):l===s.topFocus||l===s.topBlur?(p("focus",!0)?(g.ReactEventListener.trapCapturedEvent(s.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(s.topBlur,"blur",n)):p("focusin")&&(g.ReactEventListener.trapBubbledEvent(s.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(s.topBlur,"focusout",n)),o[s.topBlur]=!0,o[s.topFocus]=!0):m.hasOwnProperty(l)&&g.ReactEventListener.trapBubbledEvent(l,m[l],n),o[l]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(void 0===o&&(o=document.createEvent&&"pageX"in document.createEvent("MouseEvent")),!o&&!f){var e=c.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),f=!0}}});n.exports=g}(e("16")),n.exports}),e.registerDynamic("1b",["30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){return(e&t)===t}var o=e("30"),i={MUST_USE_PROPERTY:1,HAS_SIDE_EFFECTS:2,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},s=e.DOMAttributeNames||{},c=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};e.isCustomAttribute&&u._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){u.properties.hasOwnProperty(p)?o(!1):void 0;var d=p.toLowerCase(),f=n[p],h={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:r(f,t.MUST_USE_PROPERTY),hasSideEffects:r(f,t.HAS_SIDE_EFFECTS),hasBooleanValue:r(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(!h.mustUseProperty&&h.hasSideEffects?o(!1):void 0,h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:o(!1),s.hasOwnProperty(p)){var m=s[p];h.attributeName=m}a.hasOwnProperty(p)&&(h.attributeNamespace=a[p]),c.hasOwnProperty(p)&&(h.propertyName=c[p]),l.hasOwnProperty(p)&&(h.mutationMethod=l[p]),u.properties[p]=h}}},a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",u={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\uB7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<u._isCustomAttributeFunctions.length;t++){var n=u._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:i};n.exports=u}(e("16")),n.exports}),e.registerDynamic("4f",[],!0,function(e,t,n){"use strict";var r={hasCachedChildNodes:1};return n.exports=r,n.exports}),e.registerDynamic("11",["1b","4f","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){for(var t;t=e._renderedComponent;)e=t;return e}function o(e,t){var n=r(e);n._nativeNode=t,t[m]=n}function i(e){var t=e._nativeNode;t&&(delete t[m],e._nativeNode=null)}function a(e,t){if(!(e._flags&h.hasCachedChildNodes)){var n=e._renderedChildren,i=t.firstChild;e:for(var a in n)if(n.hasOwnProperty(a)){var u=n[a],s=r(u)._domID;if(null!=s){for(;null!==i;i=i.nextSibling)if(1===i.nodeType&&i.getAttribute(f)===String(s)||8===i.nodeType&&i.nodeValue===" react-text: "+s+" "||8===i.nodeType&&i.nodeValue===" react-empty: "+s+" "){o(u,i);continue e}d(!1)}}e._flags|=h.hasCachedChildNodes}}function u(e){if(e[m])return e[m];for(var t=[];!e[m];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[m]);e=t.pop())n=r,t.length&&a(r,e);return n}function s(e){var t=u(e);return null!=t&&t._nativeNode===e?t:null}function c(e){if(void 0===e._nativeNode?d(!1):void 0,e._nativeNode)return e._nativeNode;for(var t=[];!e._nativeNode;)t.push(e),e._nativeParent?void 0:d(!1),e=e._nativeParent;for(;t.length;e=t.pop())a(e,e._nativeNode);return e._nativeNode}var l=e("1b"),p=e("4f"),d=e("30"),f=l.ID_ATTRIBUTE_NAME,h=p,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),v={getClosestInstanceFromNode:u,getInstanceFromNode:s,getNodeFromInstance:c,precacheChildNodes:a,precacheNode:o,uncacheNode:i};n.exports=v}(e("16")),n.exports}),e.registerDynamic("50",["6","48","22","16"],!0,function(e,t,n){return function(t){"use strict";var r=(e("6"),e("48")),o=(e("22"),r);n.exports=o}(e("16")),n.exports}),e.registerDynamic("89",["50","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===o?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var o=(e("50"),9);n.exports=r}(e("16")),n.exports}),e.registerDynamic("8a",[],!0,function(e,t,n){"use strict";var r={useCreateElement:!0};return n.exports=r,n.exports}),e.registerDynamic("8b",[],!0,function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,i=e.length,a=-4&i;a>r;){for(var u=Math.min(r+4096,a);u>r;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=o,n%=o}for(;i>r;r++)n+=t+=e.charCodeAt(r);return t%=o,n%=o,t|n<<16}var o=65521;return n.exports=r,n.exports}),e.registerDynamic("8c",["8b"],!0,function(e,t,n){"use strict";var r=e("8b"),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return i.test(e)?e:e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};return n.exports=a,n.exports}),e.registerDynamic("45",["30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("30"),o=!1,i={unmountIDFromEnvironment:null,replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o?r(!1):void 0,i.unmountIDFromEnvironment=e.unmountIDFromEnvironment,i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};n.exports=i}(e("16")),n.exports}),e.registerDynamic("86",["16"],!0,function(e,t,n){return function(e){"use strict";function t(e,t,n,o){try{return t(n,o)}catch(i){return void(null===r&&(r=i))}}var r=null,o={invokeGuardedCallback:t,invokeGuardedCallbackWithCatch:t,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};n.exports=o}(e("16")),n.exports}),e.registerDynamic("85",["8d","30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("8d"),o=e("30"),i={NATIVE:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?i.EMPTY:r.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.NATIVE:void o(!1)}};n.exports=i}(e("16")),n.exports}),e.registerDynamic("83",[],!0,function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};return n.exports=r,n.exports}),e.registerDynamic("67",["6","4","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=e("6"),i=e("4"),a=e("30");o(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?a(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){this._callbacks&&(this._callbacks.length=e,this._contexts.length=e)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(r),n.exports=r}(e("16")),n.exports}),e.registerDynamic("8e",[],!0,function(e,t,n){"use strict";var r={logTopLevelRenders:!1};return n.exports=r,n.exports}),e.registerDynamic("8f",["30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("30"),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){o.isValidOwner(n)?void 0:r(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o.isValidOwner(n)?void 0:r(!1);var i=n.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&n.detachRef(t)}};n.exports=o}(e("16")),n.exports}),e.registerDynamic("90",["8f","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=e("8f"),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&o(n,e,t._owner)}},n.exports=a}(e("16")),n.exports}),e.registerDynamic("3e",["90","27","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e("90"),i=(e("27"),e("30")),a={mountComponent:function(e,t,n,o,i){var a=e.mountComponent(t,n,o,i);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),a},getNativeNode:function(e){return e.getNativeNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,i){var a=e._currentElement;if(t!==a||i!==e._context){var u=o.shouldUpdateRefs(a,t);u&&o.detachRefs(e,a),e.receiveComponent(t,n,i),u&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){return e._updateBatchNumber!==n?void(null!=e._updateBatchNumber&&e._updateBatchNumber!==n+1?i(!1):void 0):void e.performUpdateIfNecessary(t)}};n.exports=a}(e("16")),n.exports}),e.registerDynamic("4a",["30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("30"),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,a,u,s){this.isInTransaction()?r(!1):void 0;var c,l;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),l=e.call(t,n,o,i,a,u,s),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(e){this.isInTransaction()?void 0:r(!1);for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,a=t[n],u=this.wrapperInitData[n];try{o=!0,u!==i.OBSERVED_ERROR&&a.close&&a.close.call(this,u),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(s){}}}this.wrapperInitData.length=0}},i={Mixin:o,OBSERVED_ERROR:{}};n.exports=i}(e("16")),n.exports}),e.registerDynamic("12",["6","67","4","8e","27","3e","4a","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(){N.ReactReconcileTransaction&&E?void 0:v(!1)}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=p.getPooled(),this.reconcileTransaction=N.ReactReconcileTransaction.getPooled(!0)}function i(e,t,n,o,i,a){r(),E.batchedUpdates(e,t,n,o,i,a)}function a(e,t){return e._mountOrder-t._mountOrder}function u(e){var t=e.dirtyComponentsLength;t!==g.length?v(!1):void 0,g.sort(a),y++;for(var n=0;t>n;n++){var r=g[n],o=r._pendingCallbacks;r._pendingCallbacks=null;var i;if(f.logTopLevelRenders){var u=r;r._currentElement.props===r._renderedComponent._currentElement&&(u=r._renderedComponent),i="React update: "+u.getName(),console.time(i)}if(h.performUpdateIfNecessary(r,e.reconcileTransaction,y),i&&console.timeEnd(i),o)for(var s=0;s<o.length;s++)e.callbackQueue.enqueue(o[s],r.getPublicInstance())}}function s(e){return r(),E.isBatchingUpdates?(g.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=y+1))):void E.batchedUpdates(s,e)}function c(e,t){E.isBatchingUpdates?void 0:v(!1),b.enqueue(e,t),x=!0}var l=e("6"),p=e("67"),d=e("4"),f=e("8e"),h=(e("27"),e("3e")),m=e("4a"),v=e("30"),g=[],y=0,b=p.getPooled(),x=!1,E=null,_={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),P()):g.length=0}},C={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},D=[_,C];l(o.prototype,m.Mixin,{getTransactionWrappers:function(){return D},destructor:function(){this.dirtyComponentsLength=null,p.release(this.callbackQueue),this.callbackQueue=null,N.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return m.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),d.addPoolingTo(o);var P=function(){for(;g.length||x;){if(g.length){var e=o.getPooled();e.perform(u,null,e),o.release(e)}if(x){x=!1;var t=b;b=p.getPooled(),t.notifyAll(),p.release(t)}}},w={injectReconcileTransaction:function(e){e?void 0:v(!1),N.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:v(!1),"function"!=typeof e.batchedUpdates?v(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?v(!1):void 0,E=e}},N={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:s,flushBatchedUpdates:P,injection:w,asap:c};n.exports=N}(e("16")),n.exports}),e.registerDynamic("91",["47","83","12","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){a.enqueueUpdate(e)}function o(e,t){var n=i.get(e);return n?n:null}var i=(e("47"),e("83")),a=e("12"),u=e("30"),s=(e("22"),{isMounted:function(e){var t=i.get(e);return t?!!t._renderedComponent:!1},enqueueCallback:function(e,t,n){s.validateCallback(t,n);var i=o(e);return i?(i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],void r(i)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=o(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(t),r(n)}},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e?u(!1):void 0}});n.exports=s}(e("16")),n.exports}),e.registerDynamic("92",["6","45","47","8d","86","83","27","85","3b","93","3e","91","94","30","41","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function o(e){}function i(e,t){}function a(e){return e.prototype&&e.prototype.isReactComponent}var u=e("6"),s=e("45"),c=e("47"),l=e("8d"),p=e("86"),d=e("83"),f=(e("27"),e("85")),h=e("3b"),m=(e("93"),e("3e")),v=e("91"),g=e("94"),y=e("30"),b=e("41");e("22");o.prototype.render=function(){var e=d.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return i(e,t),t};var x=1,E={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._nativeParent=null,this._nativeContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,r){this._context=r,this._mountOrder=x++,this._nativeParent=t,this._nativeContainerInfo=n;var u,s=this._processProps(this._currentElement.props),c=this._processContext(r),p=this._currentElement.type,f=this._constructComponent(s,c);a(p)||null!=f&&null!=f.render||(u=f,i(p,u),null===f||f===!1||l.isValidElement(f)?void 0:y(!1),f=new o(p));f.props=s,f.context=c,f.refs=g,f.updater=v,this._instance=f,d.set(f,this);var h=f.state;void 0===h&&(f.state=h=null),"object"!=typeof h||Array.isArray(h)?y(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var m;return m=f.unstable_handleError?this.performInitialMountWithErrorHandling(u,t,n,e,r):this.performInitialMount(u,t,n,e,r),f.componentDidMount&&e.getReactMountReady().enqueue(f.componentDidMount,f),m},_constructComponent:function(e,t){return this._constructComponentWithoutOwner(e,t)},_constructComponentWithoutOwner:function(e,t){var n,r=this._currentElement.type;return n=a(r)?new r(e,t,v):r(e,t,v)},performInitialMountWithErrorHandling:function(e,t,n,r,o){var i,a=r.checkpoint();try{i=this.performInitialMount(e,t,n,r,o)}catch(u){r.rollback(a),this._instance.unstable_handleError(u),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),i=this.performInitialMount(e,t,n,r,o)}return i},performInitialMount:function(e,t,n,r,o){var i=this._instance;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===e&&(e=this._renderValidatedComponent()),this._renderedNodeType=f.getType(e),this._renderedComponent=this._instantiateReactComponent(e);var a=m.mountComponent(this._renderedComponent,r,t,n,this._processChildContext(o));return a},getNativeNode:function(){return m.getNativeNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";p.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,d.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return g;var r={};for(var o in n)r[o]=e[o];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof t.childContextTypes?y(!1):void 0;for(var o in r)o in t.childContextTypes?void 0:y(!1);return u({},e,r)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var o=this.getName();for(var i in e)if(e.hasOwnProperty(i)){var a;try{"function"!=typeof e[i]?y(!1):void 0,a=e[i](t,i,o,n)}catch(u){a=u}if(a instanceof Error){r(this);n===h.prop}}},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,o){var i,a,u=this._instance,s=!1;this._context===o?i=u.context:(i=this._processContext(o),s=!0),t===n?a=n.props:(a=this._processProps(n.props),s=!0),s&&u.componentWillReceiveProps&&u.componentWillReceiveProps(a,i);var c=this._processPendingState(a,i),l=!0;!this._pendingForceUpdate&&u.shouldComponentUpdate&&(l=u.shouldComponentUpdate(a,c,i)),this._updateBatchNumber=null,l?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,a,c,i,e,o)):(this._currentElement=n,this._context=o,u.props=a,u.state=c,u.context=i)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=u({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var s=r[a];u(i,"function"==typeof s?s.call(n,i,e,t):s)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,u,s,c=this._instance,l=Boolean(c.componentDidUpdate);l&&(a=c.props,u=c.state,s=c.context),c.componentWillUpdate&&c.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,c.props=t,c.state=n,c.context=r,this._updateRenderedComponent(o,i),l&&o.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,a,u,s),c)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(b(r,o))m.receiveComponent(n,o,e,this._processChildContext(t));else{var i=m.getNativeNode(n);m.unmountComponent(n,!1),this._renderedNodeType=f.getType(o),this._renderedComponent=this._instantiateReactComponent(o);var a=m.mountComponent(this._renderedComponent,e,this._nativeParent,this._nativeContainerInfo,this._processChildContext(t));this._replaceNodeWithMarkup(i,a,n)}},_replaceNodeWithMarkup:function(e,t,n){s.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;c.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}return null===e||e===!1||l.isValidElement(e)?void 0:y(!1),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?y(!1):void 0;var r=t.getPublicInstance(),o=n.refs===g?n.refs={}:n.refs;o[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof o?null:e},_instantiateReactComponent:null},_={Mixin:E};n.exports=_}(e("16")),n.exports}),e.registerDynamic("64",[],!0,function(e,t,n){"use strict";var r,o={injectEmptyComponentFactory:function(e){r=e}},i={create:function(e){return r(e)}};return i.injection=o,n.exports=i,n.exports}),e.registerDynamic("65",["6","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=p[t];return null==n&&(p[t]=n=c(t)),n}function o(e){return l?void 0:s(!1),new l(e)}function i(e){return new d(e)}function a(e){return e instanceof d}var u=e("6"),s=e("30"),c=null,l=null,p={},d=null,f={injectGenericComponentClass:function(e){l=e},injectTextComponentClass:function(e){d=e},injectComponentClasses:function(e){u(p,e)}},h={getComponentClassForElement:r,createInternalComponent:o,createInstanceForText:i,isTextComponent:a,injection:f};n.exports=h}(e("16")),n.exports}),e.registerDynamic("3f",["6","92","64","65","27","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e){var t,n=null===e||e===!1;if(n)t=u.create(o);else if("object"==typeof e){var i=e;!i||"function"!=typeof i.type&&"string"!=typeof i.type?c(!1):void 0,t="string"==typeof i.type?s.createInternalComponent(i):r(i.type)?new i.type(i):new l(i)}else"string"==typeof e||"number"==typeof e?t=s.createInstanceForText(e):c(!1);t._mountIndex=0,t._mountImage=null;return t}var i=e("6"),a=e("92"),u=e("64"),s=e("65"),c=(e("27"),e("30")),l=(e("22"),function(e){this.construct(e)});i(l.prototype,a.Mixin,{_instantiateReactComponent:o});n.exports=o}(e("16")),n.exports}),e.registerDynamic("59",[],!0,function(e,t,n){"use strict";var r=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e};return n.exports=r,n.exports}),e.registerDynamic("5a",["d","59","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("d"),o=/^[ \r\n\t\f]/,i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=e("59"),u=a(function(e,t){e.innerHTML=t});if(r.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(u=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&i.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),s=null}n.exports=u}(e("16")),n.exports}),e.registerDynamic("41",[],!0,function(e,t,n){"use strict";function r(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}return n.exports=r,n.exports}),e.registerDynamic("95",["4c","1b","4e","47","11","89","8a","8d","8e","27","8c","3e","91","12","94","3f","30","5a","41","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===O?e.documentElement:e.firstChild:null}function i(e){return e.getAttribute&&e.getAttribute(S)||""}function a(e,t,n,r,o){var i;if(b.logTopLevelRenders){var a=e._currentElement.props,u=a.type;i="React mount: "+("string"==typeof u?u:u.displayName||u.name),console.time(i)}var s=E.mountComponent(e,n,null,v(e,t),o);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,U._mountImageIntoNode(s,t,e,r,n)}function u(e,t,n,r){var o=C.ReactReconcileTransaction.getPooled(!n&&g.useCreateElement);
o.perform(a,null,e,t,o,n,r),C.ReactReconcileTransaction.release(o)}function s(e,t,n){for(E.unmountComponent(e,n),t.nodeType===O&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function c(e){var t=o(e);if(t){var n=m.getInstanceFromNode(t);return!(!n||!n._nativeParent)}}function l(e){var t=o(e),n=t&&m.getInstanceFromNode(t);return n&&!n._nativeParent?n:null}function p(e){var t=l(e);return t?t._nativeContainerInfo._topLevelWrapper:null}var d=e("4c"),f=e("1b"),h=e("4e"),m=(e("47"),e("11")),v=e("89"),g=e("8a"),y=e("8d"),b=e("8e"),x=(e("27"),e("8c")),E=e("3e"),_=e("91"),C=e("12"),D=e("94"),P=e("3f"),w=e("30"),N=e("5a"),T=e("41"),S=(e("22"),f.ID_ATTRIBUTE_NAME),M=f.ROOT_ATTRIBUTE_NAME,k=1,O=9,I=11,A={},R=1,L=function(){this.rootID=R++};L.prototype.isReactComponent={},L.prototype.render=function(){return this.props};var U={TopLevelWrapper:L,_instancesByReactRootID:A,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return U.scrollMonitor(n,function(){_.enqueueElementInternal(e,t),r&&_.enqueueCallbackInternal(e,r)}),e},_renderNewRootComponent:function(e,t,n,r){!t||t.nodeType!==k&&t.nodeType!==O&&t.nodeType!==I?w(!1):void 0,h.ensureScrollValueMonitoring();var o=P(e);C.batchedUpdates(u,o,t,n,r);var i=o._instance.rootID;return A[i]=o,o},renderSubtreeIntoContainer:function(e,t,n,r){return null==e||null==e._reactInternalInstance?w(!1):void 0,U._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){_.validateCallback(r,"ReactDOM.render"),y.isValidElement(t)?void 0:w(!1);var a=y(L,null,null,null,null,null,t),u=p(n);if(u){var s=u._currentElement,l=s.props;if(T(l,t)){var d=u._renderedComponent.getPublicInstance(),f=r&&function(){r.call(d)};return U._updateRootComponent(u,a,n,f),d}U.unmountComponentAtNode(n)}var h=o(n),m=h&&!!i(h),v=c(n),g=m&&!u&&!v,b=U._renderNewRootComponent(a,n,g,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):D)._renderedComponent.getPublicInstance();return r&&r.call(b),b},render:function(e,t,n){return U._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){!e||e.nodeType!==k&&e.nodeType!==O&&e.nodeType!==I?w(!1):void 0;var t=p(e);if(!t){c(e),1===e.nodeType&&e.hasAttribute(M);return!1}return delete A[t._instance.rootID],C.batchedUpdates(s,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,i,a){if(!t||t.nodeType!==k&&t.nodeType!==O&&t.nodeType!==I?w(!1):void 0,i){var u=o(t);if(x.canReuseMarkup(e,u))return void m.precacheNode(n,u);var s=u.getAttribute(x.CHECKSUM_ATTR_NAME);u.removeAttribute(x.CHECKSUM_ATTR_NAME);var c=u.outerHTML;u.setAttribute(x.CHECKSUM_ATTR_NAME,s);var l=e,p=r(l,c);" (client) "+l.substring(p-20,p+20)+"\n (server) "+c.substring(p-20,p+20);t.nodeType===O?w(!1):void 0}if(t.nodeType===O?w(!1):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);d.insertTreeBefore(t,e,null)}else N(t,e),m.precacheNode(n,t.firstChild)}};n.exports=U}(e("16")),n.exports}),e.registerDynamic("96",["95"],!0,function(e,t,n){"use strict";var r=e("95");return n.exports=r.renderSubtreeIntoContainer,n.exports}),e.registerDynamic("97",["11","81","95","3e","12","98","82","84","96","22","d","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("11"),o=e("81"),i=e("95"),a=e("3e"),u=e("12"),s=e("98"),c=e("82"),l=e("84"),p=e("96");e("22");o.inject();var d={findDOMNode:c,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:s,unstable_batchedUpdates:u.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=l(e)),e?r.getNodeFromInstance(e):null}},Mount:i,Reconciler:a});n.exports=d}(e("16")),n.exports}),e.registerDynamic("99",["97"],!0,function(e,t,n){"use strict";return n.exports=e("97"),n.exports}),e.registerDynamic("9a",["99"],!0,function(e,t,n){return n.exports=e("99"),n.exports}),e.register("9b",["9c"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]}],execute:function(){n=function(){return t.createElement("header",{className:"header",role:"banner"},t.createElement("a",{className:"logo",href:"./",role:"logo"},t.createElement("img",{src:"svg/logo.svg"})),t.createElement("a",{className:"btn-link",href:"https://github.com/frontendbr/eventos",title:"Anuncie seu evento"},"Anunciar Evento"))},e("default",n)}}}),e.register("9d",["9c","9e"],function(e){"use strict";var t,n,r,o;return{setters:[function(e){t=e["default"],n=e.PropTypes},function(e){r=e["default"]}],execute:function(){o=function(e){var n=e.link,o=e.title,i=e.date,a=e.image;return t.createElement("a",{className:"banner-box",href:n,title:o+" "+i},!!a&&t.createElement(r,{src:a,alt:o}),t.createElement("h2",{className:"title"},o+" ",t.createElement("span",{className:"date"},i)))},o.defaultProps={link:"#"},o.propTypes={title:n.string.isRequired,date:n.string.isRequired,link:n.string,image:n.string},e("default",o)}}}),e.register("9f",["9c","9d"],function(e){"use strict";var t,n,r,o,i;return{setters:[function(e){t=e["default"],n=e.PropTypes},function(e){r=e["default"]}],execute:function(){o=function(e){return e.day+" - "+e.month},i=function(e){var n=e.events;return t.createElement("section",{className:"banner"},t.createElement("div",{className:"banner-main"},t.createElement(r,{link:n[0].link,title:n[0].title,date:o(n[0].date),image:n[0].image})),t.createElement("div",{key:0,className:"banner-aside"},n.slice(1,3).map(function(e,n){return t.createElement(r,{key:n,link:e.link,title:e.title,date:o(e.date)})})),t.createElement("div",{key:1,className:"banner-aside"},n.slice(3).map(function(e,n){return t.createElement(r,{key:n,link:e.link,title:e.title,date:o(e.date)})})))},i.propTypes={events:n.array.isRequired},e("default",i)}}}),e.register("a0",["a3","a4","a5","a6","9c","a2","9f","a1"],function(e){var t,n,r,o,i,a,u,s,c,l,p,d;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){i=e["default"],a=e.PropTypes,u=e.Component},function(e){s=e.connect},function(e){c=e["default"]},function(e){l=e.fetchEvents}],execute:function(){"use strict";p=function(e){function a(){o(this,a),t(Object.getPrototypeOf(a.prototype),"constructor",this).apply(this,arguments)}return n(a,e),r(a,[{key:"componentDidMount",value:function(){this.props.dispatch(l())}},{key:"render",value:function(){return i.createElement("header",{className:"wellness"},i.createElement("h1",{className:"title"},"Encontre eventos de Front-End em todo o Brasil"),i.createElement(c,{events:this.props.events}))}}]),a}(u),p.propTypes={events:a.shape.isRequired},d=function(e){return{events:e.events.events.filter(function(e,t){return 5>t})}},e("default",s(d)(p))}}}),e.registerDynamic("a7",["aa","a8","a9","16"],!0,function(e,t,n){return function(n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t["default"]=void 0;var u=e("aa"),s=e("a8"),c=r(s),l=e("a9"),p=(r(l),function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return a.store=n.store,a}return a(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return u.Children.only(e)},t}(u.Component));t["default"]=p,p.propTypes={store:c["default"].isRequired,children:u.PropTypes.element.isRequired},p.childContextTypes={store:c["default"].isRequired}}(e("16")),n.exports}),e.registerDynamic("ab",["30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("30"),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},u=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},s=function(e,t,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r,o),a}return new i(e,t,n,r,o)},c=function(e){var t=this;e instanceof t?void 0:r(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,p=o,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=l),n.release=c,n},f={addPoolingTo:d,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:u,fiveArgumentPooler:s};n.exports=f}(e("16")),n.exports}),e.registerDynamic("ac",[],!0,function(e,t,n){"use strict";function r(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var i={escape:r,unescape:o};return n.exports=i,n.exports}),e.registerDynamic("ad",["ae","af","b0","30","ac","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function o(e,t,n,i){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||a.isValidElement(e))return n(i,e,""===t?l+r(e,0):t),1;var f,h,m=0,v=""===t?l:t+p;if(Array.isArray(e))for(var g=0;g<e.length;g++)f=e[g],h=v+r(f,g),m+=o(f,h,n,i);else{var y=u(e);if(y){var b,x=y.call(e);if(y!==e.entries)for(var E=0;!(b=x.next()).done;)f=b.value,h=v+r(f,E++),m+=o(f,h,n,i);else for(;!(b=x.next()).done;){var _=b.value;_&&(f=_[1],h=v+c.escape(_[0])+p+r(f,0),m+=o(f,h,n,i))}}else if("object"===d){String(e);s(!1)}}return m}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=(e("ae"),e("af")),u=e("b0"),s=e("30"),c=e("ac"),l=(e("22"),"."),p=":";n.exports=i}(e("16")),n.exports}),e.registerDynamic("b1",["ab","af","48","ad"],!0,function(e,t,n){"use strict";function r(e){return(""+e).replace(x,"$&/")}function o(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);g(e,i,r),o.release(r)}function u(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function s(e,t,n){var o=e.result,i=e.keyPrefix,a=e.func,u=e.context,s=a.call(u,t,e.count++);Array.isArray(s)?c(s,o,n,v.thatReturnsArgument):null!=s&&(m.isValidElement(s)&&(s=m.cloneAndReplaceKey(s,i+(!s.key||t&&t.key===s.key?"":r(s.key)+"/")+n)),o.push(s))}function c(e,t,n,o,i){var a="";null!=n&&(a=r(n)+"/");var c=u.getPooled(t,a,o,i);g(e,s,c),u.release(c)}function l(e,t,n){if(null==e)return e;var r=[];return c(e,r,null,t,n),r}function p(e,t,n){return null}function d(e,t){return g(e,p,null)}function f(e){var t=[];return c(e,t,null,v.thatReturnsArgument),t}var h=e("ab"),m=e("af"),v=e("48"),g=e("ad"),y=h.twoArgumentPooler,b=h.fourArgumentPooler,x=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,y),u.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(u,b);var E={forEach:a,map:l,mapIntoWithKeyPrefixInternal:c,count:d,toArray:f};return n.exports=E,n.exports}),e.registerDynamic("b2",["22","16"],!0,function(e,t,n){return function(t){"use strict";var r,o,i=(e("22"),{onBeginProcessingChildContext:function(){r=!0},onEndProcessingChildContext:function(){r=!1},onSetState:function(){o()}});n.exports=i}(e("16")),n.exports}),e.registerDynamic("b3",["b2","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n,r,o,i){}var o=e("b2"),i=(e("22"),[]),a={addDevtool:function(e){i.push(e)},removeDevtool:function(e){for(var t=0;t<i.length;t++)i[t]===e&&(i.splice(t,1),t--)},onBeginProcessingChildContext:function(){r("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){r("onEndProcessingChildContext")},onSetState:function(){r("onSetState")},onMountRootComponent:function(e){r("onMountRootComponent",e)},onMountComponent:function(e){r("onMountComponent",e)},onUpdateComponent:function(e){r("onUpdateComponent",e)},onUnmountComponent:function(e){r("onUnmountComponent",e)}};a.addDevtool(o),n.exports=a}(e("16")),n.exports}),e.registerDynamic("b4",["b3"],!0,function(e,t,n){"use strict";var r=e("b3");return n.exports={debugTool:r},n.exports}),e.registerDynamic("b5",["b6","b4","b7","94","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||o}var o=e("b6"),i=(e("b4"),e("b7"),e("94")),a=e("30");e("22");r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};n.exports=r}(e("16")),n.exports}),e.registerDynamic("b6",["22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){}var o=(e("22"),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}});n.exports=o}(e("16")),n.exports}),e.registerDynamic("b8",["6","b5","af","b9","ba","b6","94","30","58","e","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){var n=_.hasOwnProperty(t)?_[t]:null;D.hasOwnProperty(t)&&(n!==x.OVERRIDE_BASE?v(!1):void 0),e&&(n!==x.DEFINE_MANY&&n!==x.DEFINE_MANY_MERGED?v(!1):void 0)}function o(e,t){if(t){"function"==typeof t?v(!1):void 0,f.isValidElement(t)?v(!1):void 0;var n=e.prototype,o=n.__reactAutoBindPairs;t.hasOwnProperty(b)&&C.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==b){var a=t[i],c=n.hasOwnProperty(i);if(r(c,i),C.hasOwnProperty(i))C[i](e,a);else{var l=_.hasOwnProperty(i),p="function"==typeof a,d=p&&!l&&!c&&t.autobind!==!1;if(d)o.push(i,a),n[i]=a;else if(c){var h=_[i];!l||h!==x.DEFINE_MANY_MERGED&&h!==x.DEFINE_MANY?v(!1):void 0,h===x.DEFINE_MANY_MERGED?n[i]=u(n[i],a):h===x.DEFINE_MANY&&(n[i]=s(n[i],a))}else n[i]=a}}}}function i(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in C;o?v(!1):void 0;var i=n in e;i?v(!1):void 0,e[n]=r}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:v(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?v(!1):void 0,e[n]=t[n]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return a(o,n),a(o,r),o}}function s(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var n=t.bind(e);return n}function l(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=c(e,o)}}var p=e("6"),d=e("b5"),f=e("af"),h=(e("b9"),e("ba"),e("b6")),m=e("94"),v=e("30"),g=e("58"),y=e("e"),b=(e("22"),y({mixins:null})),x=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),E=[],_={mixins:x.DEFINE_MANY,statics:x.DEFINE_MANY,propTypes:x.DEFINE_MANY,contextTypes:x.DEFINE_MANY,childContextTypes:x.DEFINE_MANY,getDefaultProps:x.DEFINE_MANY_MERGED,getInitialState:x.DEFINE_MANY_MERGED,getChildContext:x.DEFINE_MANY_MERGED,render:x.DEFINE_ONCE,componentWillMount:x.DEFINE_MANY,componentDidMount:x.DEFINE_MANY,componentWillReceiveProps:x.DEFINE_MANY,shouldComponentUpdate:x.DEFINE_ONCE,componentWillUpdate:x.DEFINE_MANY,componentDidUpdate:x.DEFINE_MANY,componentWillUnmount:x.DEFINE_MANY,updateComponent:x.OVERRIDE_BASE},C={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=p({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=p({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=p({},e.propTypes,t)},statics:function(e,t){i(e,t)},autobind:function(){}},D={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},P=function(){};p(P.prototype,d.prototype,D);var w={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindPairs.length&&l(this),this.props=e,this.context=t,this.refs=m,this.updater=n||h,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?v(!1):void 0,this.state=r};t.prototype=new P,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],E.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:v(!1);for(var n in _)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){E.push(e)}}};n.exports=w}(e("16")),n.exports}),e.registerDynamic("bb",["af","bc","bd","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return o.createFactory(e)}var o=e("af"),i=(e("bc"),e("bd")),a=i({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);n.exports=a}(e("16")),n.exports}),e.registerDynamic("b9",["58"],!0,function(e,t,n){"use strict";var r=e("58"),o=r({prop:null,context:null,childContext:null});return n.exports=o,n.exports}),e.registerDynamic("bc",["af","b9","ba","ae","b7","b0","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(){if(p.current){var e=p.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;i("uniqueKey",e,t)}}function i(e,t,n){var o=r();if(!o){var i="string"==typeof n?n:n.displayName||n.name;i&&(o=" Check the top-level render call using <"+i+">.")}var a=h[e]||(h[e]={});if(a[o])return null;a[o]=!0;var u={parentOrOwner:o,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==p.current&&(u.childOwner=" It was passed a child from "+t._owner.getName()+"."),u}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];c.isValidElement(r)&&o(r,t)}else if(c.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var i=d(e);if(i&&i!==e.entries)for(var a,u=i.call(e);!(a=u.next()).done;)c.isValidElement(a.value)&&o(a.value,t)}}function u(e,t,n,o){for(var i in t)if(t.hasOwnProperty(i)){var a;try{"function"!=typeof t[i]?f(!1):void 0,a=t[i](n,i,e,o)}catch(u){a=u}if(a instanceof Error&&!(a.message in m)){m[a.message]=!0;r()}}}function s(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&u(n,t.propTypes,e.props,l.prop),"function"==typeof t.getDefaultProps}}var c=e("af"),l=e("b9"),p=(e("ba"),e("ae")),d=(e("b7"),e("b0")),f=e("30"),h=(e("22"),{}),m={},v={createElement:function(e,t,n){var r="string"==typeof e||"function"==typeof e,o=c.createElement.apply(this,arguments);if(null==o)return o;if(r)for(var i=2;i<arguments.length;i++)a(arguments[i],e);return s(o),o},createFactory:function(e){var t=v.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=c.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)a(arguments[o],r.type);return s(r),r}};n.exports=v}(e("16")),n.exports}),e.registerDynamic("ba",["16"],!0,function(e,t,n){return function(e){"use strict";var t={};n.exports=t}(e("16")),n.exports}),e.registerDynamic("b0",[],!0,function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);return"function"==typeof t?t:void 0}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";return n.exports=r,n.exports}),e.registerDynamic("be",["af","ba","48","b0"],!0,function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e){function t(t,n,r,o,i,a){if(o=o||C,a=a||r,null==n[r]){var u=x[i];return t?new Error("Required "+u+" `"+a+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,i,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(e){function t(t,n,r,o,i){var a=t[n],u=v(a);if(u!==e){var s=x[o],c=g(a);return new Error("Invalid "+s+" `"+i+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return o(t)}function a(){return o(E.thatReturns(null))}function u(e){function t(t,n,r,o,i){if("function"!=typeof e)return new Error("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var u=x[o],s=v(a);return new Error("Invalid "+u+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<a.length;c++){var l=e(a,c,r,o,i+"["+c+"]");if(l instanceof Error)return l}return null}return o(t)}function s(){function e(e,t,n,r,o){if(!b.isValidElement(e[t])){var i=x[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return o(e)}function c(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=x[o],u=e.name||C,s=y(t[n]);return new Error("Invalid "+a+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return o(t)}function l(e){function t(t,n,o,i,a){for(var u=t[n],s=0;s<e.length;s++)if(r(u,e[s]))return null;var c=x[i],l=JSON.stringify(e);return new Error("Invalid "+c+" `"+a+"` of value `"+u+"` "+("supplied to `"+o+"`, expected one of "+l+"."))}return o(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function p(e){function t(t,n,r,o,i){if("function"!=typeof e)return new Error("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],u=v(a);if("object"!==u){var s=x[o];return new Error("Invalid "+s+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,r,o,i+"."+c);if(l instanceof Error)return l}return null}return o(t)}function d(e){function t(t,n,r,o,i){for(var a=0;a<e.length;a++){var u=e[a];if(null==u(t,n,r,o,i))return null}var s=x[o];return new Error("Invalid "+s+" `"+i+"` supplied to "+("`"+r+"`."))}return o(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function f(){function e(e,t,n,r,o){if(!m(e[t])){var i=x[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return o(e)}function h(e){function t(t,n,r,o,i){var a=t[n],u=v(a);if("object"!==u){var s=x[o];return new Error("Invalid "+s+" `"+i+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in e){var l=e[c];if(l){var p=l(a,c,r,o,i+"."+c);if(p)return p}}return null}return o(t)}function m(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(m);if(null===e||b.isValidElement(e))return!0;var t=_(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!m(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!m(o[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){return e.constructor&&e.constructor.name?e.constructor.name:C}var b=e("af"),x=e("ba"),E=e("48"),_=e("b0"),C="<<anonymous>>",D={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:a(),arrayOf:u,element:s(),instanceOf:c,node:f(),objectOf:p,oneOf:l,oneOfType:d,shape:h};return n.exports=D,n.exports}),e.registerDynamic("bf",[],!0,function(e,t,n){"use strict";return n.exports="15.0.2",n.exports}),e.registerDynamic("ae",[],!0,function(e,t,n){"use strict";var r={current:null};return n.exports=r,n.exports}),e.registerDynamic("b7",["16"],!0,function(e,t,n){return function(e){"use strict";var t=!1;n.exports=t}(e("16")),n.exports}),e.registerDynamic("af",["6","ae","22","b7","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("6"),o=e("ae"),i=(e("22"),e("b7"),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},u=function(e,t,n,r,o,a,u){var s={$$typeof:i,type:e,key:t,ref:n,props:u,_owner:a};return s};u.createElement=function(e,t,n){var r,i={},s=null,c=null,l=null,p=null;if(null!=t){c=void 0===t.ref?null:t.ref,s=void 0===t.key?null:""+t.key,l=void 0===t.__self?null:t.__self,p=void 0===t.__source?null:t.__source;for(r in t)t.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(i[r]=t[r])}var d=arguments.length-2;if(1===d)i.children=n;else if(d>1){for(var f=Array(d),h=0;d>h;h++)f[h]=arguments[h+2];i.children=f}if(e&&e.defaultProps){var m=e.defaultProps;for(r in m)void 0===i[r]&&(i[r]=m[r])}return u(e,s,c,l,p,o.current,i)},u.createFactory=function(e){var t=u.createElement.bind(null,e);return t.type=e,t},u.cloneAndReplaceKey=function(e,t){var n=u(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},u.cloneElement=function(e,t,n){var i,s=r({},e.props),c=e.key,l=e.ref,p=e._self,d=e._source,f=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,f=o.current),void 0!==t.key&&(c=""+t.key);var h;e.type&&e.type.defaultProps&&(h=e.type.defaultProps);for(i in t)t.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(void 0===t[i]&&void 0!==h?s[i]=h[i]:s[i]=t[i])}var m=arguments.length-2;if(1===m)s.children=n;else if(m>1){for(var v=Array(m),g=0;m>g;g++)v[g]=arguments[g+2];s.children=v}return u(e.type,c,l,p,d,f,s)},u.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},n.exports=u}(e("16")),n.exports}),e.registerDynamic("c0",["af","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return o.isValidElement(e)?void 0:i(!1),e}var o=e("af"),i=e("30");n.exports=r}(e("16")),n.exports}),e.registerDynamic("c1",["6","b1","b5","b8","bb","af","bc","be","bf","c0","22","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("6"),o=e("b1"),i=e("b5"),a=e("b8"),u=e("bb"),s=e("af"),c=(e("bc"),e("be")),l=e("bf"),p=e("c0"),d=(e("22"),s.createElement),f=s.createFactory,h=s.cloneElement,m=r,v={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:p},Component:i,createElement:d,cloneElement:h,isValidElement:s.isValidElement,PropTypes:c,createClass:a.createClass,createFactory:f,createMixin:function(e){return e},DOM:u,version:l,__spread:m};n.exports=v}(e("16")),n.exports}),e.registerDynamic("c2",["c1"],!0,function(e,t,n){"use strict";return n.exports=e("c1"),n.exports}),e.registerDynamic("aa",["c2"],!0,function(e,t,n){return n.exports=e("c2"),n.exports}),e.registerDynamic("a8",["aa"],!0,function(e,t,n){"use strict";t.__esModule=!0;var r=e("aa");return t["default"]=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired}),n.exports}),e.registerDynamic("c3",[],!0,function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}return t.__esModule=!0,t["default"]=r,n.exports}),e.registerDynamic("c4",["c5"],!0,function(e,t,n){"use strict";function r(e){return function(t){return(0,o.bindActionCreators)(e,t)}}t.__esModule=!0,t["default"]=r;var o=e("c5");return n.exports}),e.registerDynamic("a9",[],!0,function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}return t.__esModule=!0,t["default"]=r,n.exports}),e.registerDynamic("c6",[],!0,function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};return n.exports=function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;++i)if(!r[n[i]]&&!o[n[i]])try{e[n[i]]=t[n[i]]}catch(a){}return e},n.exports}),e.registerDynamic("c7",["c6"],!0,function(e,t,n){return n.exports=e("c6"),n.exports}),e.registerDynamic("c8",["16"],!0,function(e,t,n){return function(e){"use strict";var t=function(e,t,n,r,o,i,a,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,u],l=0;s=new Error(t.replace(/%s/g,function(){return c[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};n.exports=t}(e("16")),n.exports}),e.registerDynamic("c9",["c8"],!0,function(e,t,n){return n.exports=e("c8"),n.exports}),e.registerDynamic("ca",["aa","a8","c3","c4","a9","cb","c7","c9","16"],!0,function(e,t,n){return function(n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,
writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.displayName||e.name||"Component"}function s(e,t){try{return e.apply(t)}catch(n){return N.value=n,N}}function c(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],c=Boolean(e),d=e||D,h=void 0;h="function"==typeof t?t:t?(0,g["default"])(t):P;var v=n||w,y=r.pure,b=void 0===y?!0:y,x=r.withRef,_=void 0===x?!1:x,S=b&&v!==w,M=T++;return function(e){function t(e,t,n){var r=v(e,t,n);return r}var n="Connect("+u(e)+")",r=function(r){function u(e,t){o(this,u);var a=i(this,r.call(this,e,t));a.version=M,a.store=e.store||t.store,(0,C["default"])(a.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var s=a.store.getState();return a.state={storeState:s},a.clearCache(),a}return a(u,r),u.prototype.shouldComponentUpdate=function(){return!b||this.haveOwnPropsChanged||this.hasStoreStateChanged},u.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},u.prototype.configureFinalMapState=function(e,t){var n=d(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:d,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},u.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},u.prototype.configureFinalMapDispatch=function(e,t){var n=h(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:h,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},u.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return this.stateProps&&(0,m["default"])(e,this.stateProps)?!1:(this.stateProps=e,!0)},u.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return this.dispatchProps&&(0,m["default"])(e,this.dispatchProps)?!1:(this.dispatchProps=e,!0)},u.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return this.mergedProps&&S&&(0,m["default"])(e,this.mergedProps)?!1:(this.mergedProps=e,!0)},u.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},u.prototype.trySubscribe=function(){c&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},u.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},u.prototype.componentDidMount=function(){this.trySubscribe()},u.prototype.componentWillReceiveProps=function(e){b&&(0,m["default"])(e,this.props)||(this.haveOwnPropsChanged=!0)},u.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},u.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},u.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!b||t!==e){if(b&&!this.doStatePropsDependOnOwnProps){var n=s(this.updateStatePropsIfNeeded,this);if(!n)return;n===N&&(this.statePropsPrecalculationError=N.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},u.prototype.getWrappedInstance=function(){return(0,C["default"])(_,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},u.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,i=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var a=!0,u=!0;b&&i&&(a=n||t&&this.doStatePropsDependOnOwnProps,u=t&&this.doDispatchPropsDependOnOwnProps);var s=!1,c=!1;r?s=!0:a&&(s=this.updateStatePropsIfNeeded()),u&&(c=this.updateDispatchPropsIfNeeded());var d=!0;return d=s||c||t?this.updateMergedPropsIfNeeded():!1,!d&&i?i:(_?this.renderedElement=(0,p.createElement)(e,l({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,p.createElement)(e,this.mergedProps),this.renderedElement)},u}(p.Component);return r.displayName=n,r.WrappedComponent=e,r.contextTypes={store:f["default"]},r.propTypes={store:f["default"]},(0,E["default"])(r,e)}}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.__esModule=!0,t["default"]=c;var p=e("aa"),d=e("a8"),f=r(d),h=e("c3"),m=r(h),v=e("c4"),g=r(v),y=e("a9"),b=(r(y),e("cb")),x=(r(b),e("c7")),E=r(x),_=e("c9"),C=r(_),D=function(e){return{}},P=function(e){return{dispatch:e}},w=function(e,t,n){return l({},n,e,t)},N={value:null},T=0}(e("16")),n.exports}),e.registerDynamic("cc",["a7","ca"],!0,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.Provider=void 0;var o=e("a7"),i=r(o),a=e("ca"),u=r(a);return t.Provider=i["default"],t.connect=u["default"],n.exports}),e.registerDynamic("a2",["cc"],!0,function(e,t,n){return n.exports=e("cc"),n.exports}),e.registerDynamic("cd",["ce","cf","d0"],!0,function(e,t,n){var r=e("ce"),o=e("cf"),i=e("d0");return n.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)},n.exports}),e.registerDynamic("d1",["d2","cd"],!0,function(e,t,n){var r=e("d2");return e("cd")("getOwnPropertyDescriptor",function(e){return function(t,n){return e(r(t),n)}}),n.exports}),e.registerDynamic("d3",["d4","d1"],!0,function(e,t,n){var r=e("d4");return e("d1"),n.exports=function(e,t){return r.getDesc(e,t)},n.exports}),e.registerDynamic("d5",["d3"],!0,function(e,t,n){return n.exports={"default":e("d3"),__esModule:!0},n.exports}),e.registerDynamic("a3",["d5"],!0,function(e,t,n){"use strict";var r=e("d5")["default"];return t["default"]=function(e,t,n){for(var o=!0;o;){var i=e,a=t,u=n;o=!1,null===i&&(i=Function.prototype);var s=r(i,a);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(u)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=u,o=!0,s=l=void 0}},t.__esModule=!0,n.exports}),e.registerDynamic("d6",["d4"],!0,function(e,t,n){var r=e("d4");return n.exports=function(e,t){return r.create(e,t)},n.exports}),e.registerDynamic("d7",["d6"],!0,function(e,t,n){return n.exports={"default":e("d6"),__esModule:!0},n.exports}),e.registerDynamic("d8",["ce","d9"],!0,function(e,t,n){var r=e("ce");return r(r.S,"Object",{setPrototypeOf:e("d9").set}),n.exports}),e.registerDynamic("da",["d8","cf"],!0,function(e,t,n){return e("d8"),n.exports=e("cf").Object.setPrototypeOf,n.exports}),e.registerDynamic("db",["da"],!0,function(e,t,n){return n.exports={"default":e("da"),__esModule:!0},n.exports}),e.registerDynamic("a4",["d7","db"],!0,function(e,t,n){"use strict";var r=e("d7")["default"],o=e("db")["default"];return t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=r(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o?o(e,t):e.__proto__=t)},t.__esModule=!0,n.exports}),e.registerDynamic("dc",["d4"],!0,function(e,t,n){var r=e("d4");return n.exports=function(e,t,n){return r.setDesc(e,t,n)},n.exports}),e.registerDynamic("dd",["dc"],!0,function(e,t,n){return n.exports={"default":e("dc"),__esModule:!0},n.exports}),e.registerDynamic("a5",["dd"],!0,function(e,t,n){"use strict";var r=e("dd")["default"];return t["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t.__esModule=!0,n.exports}),e.registerDynamic("a6",[],!0,function(e,t,n){"use strict";return t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0,n.exports}),e.register("9e",["a3","a4","a5","a6","9c"],function(e){var t,n,r,o,i,a,u,s;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]},function(e){i=e["default"],a=e.PropTypes,u=e.Component}],execute:function(){"use strict";s=function(e){function a(){o(this,a),t(Object.getPrototypeOf(a.prototype),"constructor",this).apply(this,arguments)}return n(a,e),r(a,[{key:"componentWillMount",value:function(){this.setState({isLoaded:!1})}},{key:"handleLoad",value:function(){this.setState({isLoaded:!0})}},{key:"render",value:function(){var e=this;return i.createElement("img",{className:(this.state.isLoaded?"lazyloaded":"lazyload")+" lazyblur",src:this.props.src,onLoad:function(){return e.handleLoad()},alt:this.props.alt})}}]),a}(u),s.defaultProps={alt:""},s.propTypes={src:a.string.isRequired,alt:a.string},e("default",s)}}}),e.register("de",["9c"],function(e){"use strict";var t,n,r;return{setters:[function(e){t=e["default"],n=e.PropTypes}],execute:function(){r=function(e){var n=e.id,r=e.label;return t.createElement("svg",{className:"icon","aria-hidden":"true","aria-label":r},t.createElement("use",{xlinkHref:"svg/icons.svg#"+n}))},r.defaultProps={label:""},r.propTypes={id:n.string.isRequired,label:n.string},e("default",r)}}}),e.register("df",["9c","9e","de"],function(e){"use strict";var t,n,r,o,i,a,u;return{setters:[function(e){t=e["default"],n=e.PropTypes},function(e){r=e["default"]},function(e){o=e["default"]}],execute:function(){i=function(e){var t=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],n=t.indexOf(e)+1;return(10>n?"0":"")+n},a=function(e){var t=e.day,n=e.month,r=e.year;return t+"/"+i(n)+"/"+r},u=function(e){var n=e.title,i=e.image,u=(e.innerLink,e.link),s=e.date,c=e.price,l=e.location,p=e.locationUrl,d=e.shortDescription;return t.createElement("article",{className:"event"},t.createElement("a",{className:"event-media",href:u,title:"Ver evento"},t.createElement(r,{src:i||"svg/logo.svg",alt:n})),t.createElement("div",{className:"event-main"},t.createElement("a",{className:"content",href:u,title:"Ver evento"},t.createElement("h2",null,n),t.createElement("p",null,d)),!!u&&t.createElement("a",{className:"btn-link",href:u,target:"_blank",title:"Visitar site oficial"},t.createElement(o,{id:"link",label:"Link"}),u),t.createElement("ul",{className:"event-list"},t.createElement("li",{className:"event-list--item"},t.createElement(o,{id:"date",label:"Data"}),a(s)),t.createElement("li",{className:"event-list--item"},t.createElement(o,{id:"price",label:"Preço"}),c),!!p&&t.createElement("li",{className:"event-list--item"},t.createElement(o,{id:"location",label:"Local"}),t.createElement("a",{href:p,target:"_blank"},l)))))},u.defaultProps={date:{day:"00",month:"xx",year:"0000"},price:"Grátis"},u.propTypes={title:n.string.isRequired,image:n.string,innerLink:n.string.isRequired,link:n.string,date:n.shape({day:n.number.isRequired,month:n.string.isRequired,year:n.number.isRequired}).isRequired,price:n.string,location:n.string,locationUrl:n.string,shortDescription:n.string.isRequired},e("default",u)}}}),e.register("e0",["e1","9c","a2","df"],function(e){var t,n,r,o,i,a,u;return{setters:[function(e){t=e["default"]},function(e){n=e["default"],r=e.PropTypes},function(e){o=e.connect},function(e){i=e["default"]}],execute:function(){"use strict";a=function(e){var r=e.events;return n.createElement("section",{className:"page"},n.createElement("header",{className:"page-header"},n.createElement("h3",{className:"title"},"Próximos Eventos")),n.createElement("div",{className:"page-wrap"},r.map(function(e,r){return n.createElement(i,t({key:r},e))})))},a.propTypes={events:r.shape.isRequired},u=function(e){return{events:e.events.events.filter(function(e,t){return t>=5})}},e("default",o(u)(a))}}}),e.register("e2",["9c"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]}],execute:function(){n=function(){return t.createElement("aside",{className:"disclaimer"},t.createElement("div",{className:"disclaimer-inner"},t.createElement("h2",{className:"title"},"Conhece algum evento de Front-End que não está listado?"),t.createElement("a",{href:"https://github.com/frontendbr/eventos/issues",className:"btn","aria-label":"Anunciar Evento",title:"Anuncie seu evento"},"Anunciar Evento")))},e("default",n)}}}),e.register("e3",["9c","a0","e0","e2"],function(e){"use strict";var t,n,r,o,i;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]}],execute:function(){i=function(){return t.createElement("main",{className:"main",role:"main"},t.createElement(n,null),t.createElement(r,null),t.createElement(o,null))},e("default",i)}}}),e.registerDynamic("4",["30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("30"),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},u=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},s=function(e,t,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r,o),a}return new i(e,t,n,r,o)},c=function(e){var t=this;e instanceof t?void 0:r(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,p=o,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=l),n.release=c,n},f={addPoolingTo:d,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:u,fiveArgumentPooler:s};n.exports=f}(e("16")),n.exports}),e.registerDynamic("40",[],!0,function(e,t,n){"use strict";function r(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var i={escape:r,unescape:o};return n.exports=i,n.exports}),e.registerDynamic("42",["47","8d","e4","30","40","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function o(e,t,n,i){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||a.isValidElement(e))return n(i,e,""===t?l+r(e,0):t),1;var f,h,m=0,v=""===t?l:t+p;if(Array.isArray(e))for(var g=0;g<e.length;g++)f=e[g],h=v+r(f,g),m+=o(f,h,n,i);else{var y=u(e);if(y){var b,x=y.call(e);if(y!==e.entries)for(var E=0;!(b=x.next()).done;)f=b.value,h=v+r(f,E++),m+=o(f,h,n,i);else for(;!(b=x.next()).done;){var _=b.value;_&&(f=_[1],h=v+c.escape(_[0])+p+r(f,0),m+=o(f,h,n,i))}}else if("object"===d){String(e);s(!1)}}return m}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=(e("47"),e("8d")),u=e("e4"),s=e("30"),c=e("40"),l=(e("22"),"."),p=":";n.exports=i}(e("16")),n.exports}),e.registerDynamic("32",["4","8d","48","42"],!0,function(e,t,n){"use strict";function r(e){return(""+e).replace(x,"$&/")}function o(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);g(e,i,r),o.release(r)}function u(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function s(e,t,n){var o=e.result,i=e.keyPrefix,a=e.func,u=e.context,s=a.call(u,t,e.count++);Array.isArray(s)?c(s,o,n,v.thatReturnsArgument):null!=s&&(m.isValidElement(s)&&(s=m.cloneAndReplaceKey(s,i+(!s.key||t&&t.key===s.key?"":r(s.key)+"/")+n)),o.push(s))}function c(e,t,n,o,i){var a="";null!=n&&(a=r(n)+"/");var c=u.getPooled(t,a,o,i);g(e,s,c),u.release(c)}function l(e,t,n){if(null==e)return e;var r=[];return c(e,r,null,t,n),r}function p(e,t,n){return null}function d(e,t){return g(e,p,null)}function f(e){var t=[];return c(e,t,null,v.thatReturnsArgument),t}var h=e("4"),m=e("8d"),v=e("48"),g=e("42"),y=h.twoArgumentPooler,b=h.fourArgumentPooler,x=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,y),u.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(u,b);var E={forEach:a,map:l,mapIntoWithKeyPrefixInternal:c,count:d,toArray:f};return n.exports=E,n.exports}),e.registerDynamic("d",[],!0,function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};return n.exports=o,n.exports}),e.registerDynamic("e5",["d"],!0,function(e,t,n){"use strict";var r,o=e("d");return o.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),n.exports=r||{},n.exports}),e.registerDynamic("e6",["e5"],!0,function(e,t,n){"use strict";var r,o=e("e5");return r=o.now?function(){return o.now()}:function(){return Date.now()},n.exports=r,n.exports}),e.registerDynamic("e7",["22","16"],!0,function(e,t,n){return function(t){"use strict";var r,o,i=(e("22"),{onBeginProcessingChildContext:function(){r=!0},onEndProcessingChildContext:function(){r=!1},onSetState:function(){o()}});n.exports=i}(e("16")),n.exports}),e.registerDynamic("e8",[],!0,function(e,t,n){"use strict";var r=[],o={onNativeOperation:function(e,t,n){r.push({instanceID:e,type:t,payload:n})},clearHistory:function(){o._preventClearing||(r=[])},getHistory:function(){return r}};return n.exports=o,n.exports}),e.registerDynamic("e9",["30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){a[e]||(a[e]={parentID:null,ownerID:null,text:null,childIDs:[],displayName:"Unknown",isMounted:!1,updateCount:0}),t(a[e])}function o(e){var t=a[e];if(t){var n=t.childIDs;delete a[e],n.forEach(o)}}var i=e("30"),a={},u=[],s={onSetDisplayName:function(e,t){r(e,function(e){return e.displayName=t})},onSetChildren:function(e,t){r(e,function(n){var r=n.childIDs;n.childIDs=t,t.forEach(function(t){var n=a[t];n?void 0:i(!1),null==n.displayName?i(!1):void 0,null==n.childIDs&&null==n.text?i(!1):void 0,n.isMounted?void 0:i(!1),-1===r.indexOf(t)&&(n.parentID=e)})})},onSetOwner:function(e,t){r(e,function(e){return e.ownerID=t})},onSetText:function(e,t){r(e,function(e){return e.text=t})},onMountComponent:function(e){r(e,function(e){return e.isMounted=!0})},onMountRootComponent:function(e){u.push(e)},onUpdateComponent:function(e){r(e,function(e){return e.updateCount++})},onUnmountComponent:function(e){r(e,function(e){return e.isMounted=!1}),u=u.filter(function(t){return t!==e})},purgeUnmountedComponents:function(){s._preventPurging||Object.keys(a).filter(function(e){return!a[e].isMounted}).forEach(o)},isMounted:function(e){var t=a[e];return t?t.isMounted:!1},getChildIDs:function(e){var t=a[e];return t?t.childIDs:[]},getDisplayName:function(e){var t=a[e];return t?t.displayName:"Unknown"},getOwnerID:function(e){var t=a[e];return t?t.ownerID:null},getParentID:function(e){var t=a[e];return t?t.parentID:null},getText:function(e){var t=a[e];return t?t.text:null},getUpdateCount:function(e){var t=a[e];return t?t.updateCount:0},getRootIDs:function(){return u},getRegisteredIDs:function(){return Object.keys(a)}};n.exports=s}(e("16")),n.exports}),e.registerDynamic("ea",["d","e6","22","e7","e8","e9","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n,r,o,i){}function o(e){}var i=(e("d"),e("e6"),e("22"),[]),a={addDevtool:function(e){i.push(e)},removeDevtool:function(e){for(var t=0;t<i.length;t++)i[t]===e&&(i.splice(t,1),t--)},beginProfiling:function(){},endProfiling:function(){},getFlushHistory:function(){},onBeginFlush:function(){r("onBeginFlush")},onEndFlush:function(){r("onEndFlush")},onBeginLifeCycleTimer:function(e,t){o(e),r("onBeginLifeCycleTimer",e,t)},onEndLifeCycleTimer:function(e,t){o(e),r("onEndLifeCycleTimer",e,t)},onBeginReconcilerTimer:function(e,t){o(e),r("onBeginReconcilerTimer",e,t)},onEndReconcilerTimer:function(e,t){o(e),r("onEndReconcilerTimer",e,t)},onBeginProcessingChildContext:function(){r("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){r("onEndProcessingChildContext")},onNativeOperation:function(e,t,n){o(e),r("onNativeOperation",e,t,n)},onSetState:function(){r("onSetState")},onSetDisplayName:function(e,t){o(e),r("onSetDisplayName",e,t)},onSetChildren:function(e,t){o(e),r("onSetChildren",e,t)},onSetOwner:function(e,t){o(e),r("onSetOwner",e,t)},onSetText:function(e,t){o(e),r("onSetText",e,t)},onMountRootComponent:function(e){o(e),r("onMountRootComponent",e)},onMountComponent:function(e){o(e),r("onMountComponent",e)},onUpdateComponent:function(e){o(e),r("onUpdateComponent",e)},onUnmountComponent:function(e){o(e),r("onUnmountComponent",e)}};n.exports=a}(e("16")),n.exports}),e.registerDynamic("27",["ea"],!0,function(e,t,n){"use strict";var r=e("ea");return n.exports={debugTool:r},n.exports}),e.registerDynamic("eb",["ec","27","ed","94","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||o}var o=e("ec"),i=(e("27"),e("ed"),e("94")),a=e("30");e("22");r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};n.exports=r}(e("16")),n.exports}),e.registerDynamic("ec",["22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){}var o=(e("22"),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}});n.exports=o}(e("16")),n.exports}),e.registerDynamic("94",["16"],!0,function(e,t,n){return function(e){"use strict";var t={};n.exports=t}(e("16")),n.exports}),e.registerDynamic("e",[],!0,function(e,t,n){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};return n.exports=r,n.exports}),e.registerDynamic("63",["6","eb","8d","3b","93","ec","94","30","58","e","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(e,t){var n=_.hasOwnProperty(t)?_[t]:null;D.hasOwnProperty(t)&&(n!==x.OVERRIDE_BASE?v(!1):void 0),e&&(n!==x.DEFINE_MANY&&n!==x.DEFINE_MANY_MERGED?v(!1):void 0)}function o(e,t){if(t){"function"==typeof t?v(!1):void 0,f.isValidElement(t)?v(!1):void 0;var n=e.prototype,o=n.__reactAutoBindPairs;t.hasOwnProperty(b)&&C.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==b){var a=t[i],c=n.hasOwnProperty(i);if(r(c,i),C.hasOwnProperty(i))C[i](e,a);else{var l=_.hasOwnProperty(i),p="function"==typeof a,d=p&&!l&&!c&&t.autobind!==!1;if(d)o.push(i,a),n[i]=a;else if(c){var h=_[i];!l||h!==x.DEFINE_MANY_MERGED&&h!==x.DEFINE_MANY?v(!1):void 0,h===x.DEFINE_MANY_MERGED?n[i]=u(n[i],a):h===x.DEFINE_MANY&&(n[i]=s(n[i],a))}else n[i]=a}}}}function i(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in C;o?v(!1):void 0;var i=n in e;i?v(!1):void 0,e[n]=r}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:v(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?v(!1):void 0,e[n]=t[n]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return a(o,n),a(o,r),o}}function s(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var n=t.bind(e);return n}function l(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=c(e,o)}}var p=e("6"),d=e("eb"),f=e("8d"),h=(e("3b"),e("93"),e("ec")),m=e("94"),v=e("30"),g=e("58"),y=e("e"),b=(e("22"),y({mixins:null})),x=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),E=[],_={mixins:x.DEFINE_MANY,statics:x.DEFINE_MANY,propTypes:x.DEFINE_MANY,contextTypes:x.DEFINE_MANY,childContextTypes:x.DEFINE_MANY,getDefaultProps:x.DEFINE_MANY_MERGED,getInitialState:x.DEFINE_MANY_MERGED,getChildContext:x.DEFINE_MANY_MERGED,render:x.DEFINE_ONCE,componentWillMount:x.DEFINE_MANY,componentDidMount:x.DEFINE_MANY,componentWillReceiveProps:x.DEFINE_MANY,shouldComponentUpdate:x.DEFINE_ONCE,componentWillUpdate:x.DEFINE_MANY,componentDidUpdate:x.DEFINE_MANY,componentWillUnmount:x.DEFINE_MANY,updateComponent:x.OVERRIDE_BASE},C={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=p({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=p({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=p({},e.propTypes,t)},statics:function(e,t){i(e,t)},autobind:function(){}},D={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},P=function(){};p(P.prototype,d.prototype,D);var w={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindPairs.length&&l(this),this.props=e,this.context=t,this.refs=m,this.updater=n||h,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?v(!1):void 0,this.state=r};t.prototype=new P,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],E.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:v(!1);for(var n in _)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){E.push(e)}}};n.exports=w}(e("16")),n.exports}),e.registerDynamic("bd",[],!0,function(e,t,n){"use strict";function r(e,t,n){if(!e)return null;var r={};for(var i in e)o.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}var o=Object.prototype.hasOwnProperty;return n.exports=r,n.exports}),e.registerDynamic("ee",["8d","ef","bd","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return o.createFactory(e)}var o=e("8d"),i=(e("ef"),e("bd")),a=i({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);n.exports=a}(e("16")),n.exports}),e.registerDynamic("58",["30","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("30"),o=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};n.exports=o}(e("16")),n.exports}),e.registerDynamic("3b",["58"],!0,function(e,t,n){"use strict";var r=e("58"),o=r({prop:null,context:null,childContext:null});return n.exports=o,n.exports}),e.registerDynamic("ef",["8d","3b","93","47","ed","e4","30","22","16"],!0,function(e,t,n){return function(t){"use strict";function r(){if(p.current){var e=p.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;i("uniqueKey",e,t)}}function i(e,t,n){var o=r();if(!o){var i="string"==typeof n?n:n.displayName||n.name;i&&(o=" Check the top-level render call using <"+i+">.")}var a=h[e]||(h[e]={});if(a[o])return null;a[o]=!0;var u={parentOrOwner:o,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==p.current&&(u.childOwner=" It was passed a child from "+t._owner.getName()+"."),u}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];c.isValidElement(r)&&o(r,t)}else if(c.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var i=d(e);if(i&&i!==e.entries)for(var a,u=i.call(e);!(a=u.next()).done;)c.isValidElement(a.value)&&o(a.value,t)}}function u(e,t,n,o){for(var i in t)if(t.hasOwnProperty(i)){var a;try{"function"!=typeof t[i]?f(!1):void 0,a=t[i](n,i,e,o)}catch(u){a=u}if(a instanceof Error&&!(a.message in m)){m[a.message]=!0;r()}}}function s(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&u(n,t.propTypes,e.props,l.prop),"function"==typeof t.getDefaultProps}}var c=e("8d"),l=e("3b"),p=(e("93"),e("47")),d=(e("ed"),e("e4")),f=e("30"),h=(e("22"),{}),m={},v={createElement:function(e,t,n){var r="string"==typeof e||"function"==typeof e,o=c.createElement.apply(this,arguments);if(null==o)return o;if(r)for(var i=2;i<arguments.length;i++)a(arguments[i],e);return s(o),o},createFactory:function(e){var t=v.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=c.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)a(arguments[o],r.type);return s(r),r}};n.exports=v}(e("16")),n.exports}),e.registerDynamic("93",["16"],!0,function(e,t,n){return function(e){"use strict";var t={};n.exports=t}(e("16")),n.exports}),e.registerDynamic("e4",[],!0,function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);return"function"==typeof t?t:void 0}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";return n.exports=r,n.exports}),e.registerDynamic("3a",["8d","93","48","e4"],!0,function(e,t,n){
"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e){function t(t,n,r,o,i,a){if(o=o||C,a=a||r,null==n[r]){var u=x[i];return t?new Error("Required "+u+" `"+a+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,i,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(e){function t(t,n,r,o,i){var a=t[n],u=v(a);if(u!==e){var s=x[o],c=g(a);return new Error("Invalid "+s+" `"+i+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return o(t)}function a(){return o(E.thatReturns(null))}function u(e){function t(t,n,r,o,i){if("function"!=typeof e)return new Error("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var u=x[o],s=v(a);return new Error("Invalid "+u+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<a.length;c++){var l=e(a,c,r,o,i+"["+c+"]");if(l instanceof Error)return l}return null}return o(t)}function s(){function e(e,t,n,r,o){if(!b.isValidElement(e[t])){var i=x[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return o(e)}function c(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=x[o],u=e.name||C,s=y(t[n]);return new Error("Invalid "+a+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return o(t)}function l(e){function t(t,n,o,i,a){for(var u=t[n],s=0;s<e.length;s++)if(r(u,e[s]))return null;var c=x[i],l=JSON.stringify(e);return new Error("Invalid "+c+" `"+a+"` of value `"+u+"` "+("supplied to `"+o+"`, expected one of "+l+"."))}return o(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function p(e){function t(t,n,r,o,i){if("function"!=typeof e)return new Error("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],u=v(a);if("object"!==u){var s=x[o];return new Error("Invalid "+s+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,r,o,i+"."+c);if(l instanceof Error)return l}return null}return o(t)}function d(e){function t(t,n,r,o,i){for(var a=0;a<e.length;a++){var u=e[a];if(null==u(t,n,r,o,i))return null}var s=x[o];return new Error("Invalid "+s+" `"+i+"` supplied to "+("`"+r+"`."))}return o(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function f(){function e(e,t,n,r,o){if(!m(e[t])){var i=x[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return o(e)}function h(e){function t(t,n,r,o,i){var a=t[n],u=v(a);if("object"!==u){var s=x[o];return new Error("Invalid "+s+" `"+i+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in e){var l=e[c];if(l){var p=l(a,c,r,o,i+"."+c);if(p)return p}}return null}return o(t)}function m(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(m);if(null===e||b.isValidElement(e))return!0;var t=_(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!m(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!m(o[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){return e.constructor&&e.constructor.name?e.constructor.name:C}var b=e("8d"),x=e("93"),E=e("48"),_=e("e4"),C="<<anonymous>>",D={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:a(),arrayOf:u,element:s(),instanceOf:c,node:f(),objectOf:p,oneOf:l,oneOfType:d,shape:h};return n.exports=D,n.exports}),e.registerDynamic("98",[],!0,function(e,t,n){"use strict";return n.exports="15.1.0",n.exports}),e.registerDynamic("f0",[],!0,function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(i){return!1}}var i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;return n.exports=o()?Object.assign:function(e,t){for(var n,o,u=r(e),s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var c in n)i.call(n,c)&&(u[c]=n[c]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(n);for(var l=0;l<o.length;l++)a.call(n,o[l])&&(u[o[l]]=n[o[l]])}}return u},n.exports}),e.registerDynamic("6",["f0"],!0,function(e,t,n){return n.exports=e("f0"),n.exports}),e.registerDynamic("47",[],!0,function(e,t,n){"use strict";var r={current:null};return n.exports=r,n.exports}),e.registerDynamic("ed",["16"],!0,function(e,t,n){return function(e){"use strict";var t=!1;n.exports=t}(e("16")),n.exports}),e.registerDynamic("8d",["6","47","22","ed","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("6"),o=e("47"),i=(e("22"),e("ed"),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},u=function(e,t,n,r,o,a,u){var s={$$typeof:i,type:e,key:t,ref:n,props:u,_owner:a};return s};u.createElement=function(e,t,n){var r,i={},s=null,c=null,l=null,p=null;if(null!=t){c=void 0===t.ref?null:t.ref,s=void 0===t.key?null:""+t.key,l=void 0===t.__self?null:t.__self,p=void 0===t.__source?null:t.__source;for(r in t)t.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(i[r]=t[r])}var d=arguments.length-2;if(1===d)i.children=n;else if(d>1){for(var f=Array(d),h=0;d>h;h++)f[h]=arguments[h+2];i.children=f}if(e&&e.defaultProps){var m=e.defaultProps;for(r in m)void 0===i[r]&&(i[r]=m[r])}return u(e,s,c,l,p,o.current,i)},u.createFactory=function(e){var t=u.createElement.bind(null,e);return t.type=e,t},u.cloneAndReplaceKey=function(e,t){var n=u(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},u.cloneElement=function(e,t,n){var i,s=r({},e.props),c=e.key,l=e.ref,p=e._self,d=e._source,f=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,f=o.current),void 0!==t.key&&(c=""+t.key);var h;e.type&&e.type.defaultProps&&(h=e.type.defaultProps);for(i in t)t.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(void 0===t[i]&&void 0!==h?s[i]=h[i]:s[i]=t[i])}var m=arguments.length-2;if(1===m)s.children=n;else if(m>1){for(var v=Array(m),g=0;m>g;g++)v[g]=arguments[g+2];s.children=v}return u(e.type,c,l,p,d,f,s)},u.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},n.exports=u}(e("16")),n.exports}),e.registerDynamic("30",["16"],!0,function(e,t,n){return function(e){"use strict";function t(e,t,n,r,o,i,a,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,u],l=0;s=new Error(t.replace(/%s/g,function(){return c[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}n.exports=t}(e("16")),n.exports}),e.registerDynamic("f1",["8d","30","16"],!0,function(e,t,n){return function(t){"use strict";function r(e){return o.isValidElement(e)?void 0:i(!1),e}var o=e("8d"),i=e("30");n.exports=r}(e("16")),n.exports}),e.registerDynamic("48",[],!0,function(e,t,n){"use strict";function r(e){return function(){return e}}function o(){}return o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},n.exports=o,n.exports}),e.registerDynamic("22",["48","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("48"),o=r;n.exports=o}(e("16")),n.exports}),e.registerDynamic("f2",["6","32","eb","63","ee","8d","ef","3a","98","f1","22","16"],!0,function(e,t,n){return function(t){"use strict";var r=e("6"),o=e("32"),i=e("eb"),a=e("63"),u=e("ee"),s=e("8d"),c=(e("ef"),e("3a")),l=e("98"),p=e("f1"),d=(e("22"),s.createElement),f=s.createFactory,h=s.cloneElement,m=r,v={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:p},Component:i,createElement:d,cloneElement:h,isValidElement:s.isValidElement,PropTypes:c,createClass:a.createClass,createFactory:f,createMixin:function(e){return e},DOM:u,version:l,__spread:m};n.exports=v}(e("16")),n.exports}),e.registerDynamic("f3",["f2"],!0,function(e,t,n){"use strict";return n.exports=e("f2"),n.exports}),e.registerDynamic("9c",["f3"],!0,function(e,t,n){return n.exports=e("f3"),n.exports}),e.register("f4",["9c"],function(e){"use strict";var t,n,r;return{setters:[function(e){t=e["default"]}],execute:function(){n=[{href:"https://github.com/frontendbr/forum",title:"Acesso nosso fórum",content:"Fórum"},{href:"https://github.com/frontendbr/vagas",title:"Publique ou encontre uma vaga",content:"Vagas"}],r=function(){return t.createElement("footer",{className:"footer",role:"contentinfo"},t.createElement("div",{className:"footer-inner"},t.createElement("div",{className:"container-flex"},t.createElement("div",{className:"footer-inner--main"},t.createElement("p",null,"Esse projeto é uma iniciativa da organização "," ",t.createElement("a",{href:"https://github.com/frontendbr"},"Front-End Brasil do GitHub."))),t.createElement("ul",{className:"footer-inner--nav"},n.map(function(e){var n=e.href,r=e.title,o=e.content;return t.createElement("li",null,t.createElement("a",{className:"btn-link",href:n,title:r},o))})))),t.createElement("div",{className:"footer-hold"},t.createElement("div",{className:"container"},t.createElement("p",null,"© 2016 "," ",t.createElement("a",{href:"https://github.com/frontendbr/"},"Front-End Brasil")))))},e("default",r)}}}),e.register("f5",["9c","9b","e3","f4"],function(e){"use strict";var t,n,r,o,i;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){o=e["default"]}],execute:function(){i=function(){return t.createElement("div",null,t.createElement(n,null),t.createElement(r,null),t.createElement(o,null))},e("default",i)}}}),e.registerDynamic("f6",[],!0,function(e,t,n){"use strict";return n.exports=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t},n.exports}),e.registerDynamic("f7",["f6"],!0,function(e,t,n){"use strict";var r=this;return n.exports=e("f6")(r||window||this),n.exports}),e.registerDynamic("f8",["f7"],!0,function(e,t,n){return n.exports=e("f7"),n.exports}),e.registerDynamic("f9",["cb","f8"],!0,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){function r(){g===v&&(g=v.slice())}function i(){return m}function u(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),g.push(e),function(){if(t){t=!1,r();var n=g.indexOf(e);g.splice(n,1)}}}function l(e){if(!(0,a["default"])(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,m=h(m,e)}finally{y=!1}for(var t=v=g,n=0;n<t.length;n++)t[n]();return e}function p(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,l({type:c.INIT})}function d(){var e,t=u;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[s["default"]]=function(){return this},e}var f;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,m=t,v=[],g=v,y=!1;return l({type:c.INIT}),f={dispatch:l,subscribe:u,getState:i,replaceReducer:p},f[s["default"]]=d,f}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=o;var i=e("cb"),a=r(i),u=e("f8"),s=r(u),c=t.ActionTypes={INIT:"@@redux/INIT"};return n.exports}),e.registerDynamic("fa",[],!0,function(e,t,n){function r(e){return o(Object(e))}var o=Object.getPrototypeOf;return n.exports=r,n.exports}),e.registerDynamic("fb",[],!0,function(e,t,n){function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}return n.exports=r,n.exports}),e.registerDynamic("fc",[],!0,function(e,t,n){function r(e){return!!e&&"object"==typeof e}return n.exports=r,n.exports}),e.registerDynamic("cb",["fa","fb","fc"],!0,function(e,t,n){function r(e){if(!a(e)||d.call(e)!=u||i(e))return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==p}var o=e("fa"),i=e("fb"),a=e("fc"),u="[object Object]",s=Object.prototype,c=Function.prototype.toString,l=s.hasOwnProperty,p=c.call(Object),d=s.toString;return n.exports=r,n.exports}),e.registerDynamic("fd",["f9","cb","fe","16"],!0,function(e,t,n){return function(n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:u.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var u,s=Object.keys(n);try{i(n)}catch(c){u=c}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(u)throw u;for(var r=!1,i={},a=0;a<s.length;a++){var c=s[a],l=n[c],p=e[c],d=l(p,t);if("undefined"==typeof d){var f=o(c,t);throw new Error(f)}i[c]=d,r=r||d!==p}return r?i:e}}t.__esModule=!0,t["default"]=a;var u=e("f9"),s=e("cb"),c=(r(s),e("fe"));r(c)}(e("16")),n.exports}),e.registerDynamic("ff",[],!0,function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},i=0;i<n.length;i++){var a=n[i],u=e[a];"function"==typeof u&&(o[a]=r(u,t))}return o}return t.__esModule=!0,t["default"]=o,n.exports}),e.registerDynamic("100",["101"],!0,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a=e(n,r,o),s=a.dispatch,c=[],l={getState:a.getState,dispatch:function(e){return s(e)}};return c=t.map(function(e){return e(l)}),s=u["default"].apply(void 0,c)(a.dispatch),i({},a,{dispatch:s})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=o;var a=e("101"),u=r(a);return n.exports}),e.registerDynamic("101",[],!0,function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};var r=function(){var e=t[t.length-1],n=t.slice(0,-1);return{v:function(){return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}return t.__esModule=!0,t["default"]=r,n.exports}),e.registerDynamic("fe",[],!0,function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}return t.__esModule=!0,t["default"]=r,n.exports}),e.registerDynamic("102",["f9","fd","ff","100","101","fe","16"],!0,function(e,t,n){return function(n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=e("f9"),i=r(o),a=e("fd"),u=r(a),s=e("ff"),c=r(s),l=e("100"),p=r(l),d=e("101"),f=r(d),h=e("fe");r(h);t.createStore=i["default"],t.combineReducers=u["default"],t.bindActionCreators=c["default"],t.applyMiddleware=p["default"],t.compose=f["default"]}(e("16")),n.exports}),e.registerDynamic("c5",["102"],!0,function(e,t,n){return n.exports=e("102"),n.exports}),e.registerDynamic("103",[],!0,function(e,t,n){"use strict";function r(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){return"function"==typeof r?r(t,n):e(r)}}}return t.__esModule=!0,t["default"]=r,n.exports}),e.registerDynamic("104",["103"],!0,function(e,t,n){return n.exports=e("103"),n.exports}),e.register("105",["104","106","e1","c5"],function(e){var t,n,r,o,i,a,u;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){o=e.createStore,i=e.compose,a=e.applyMiddleware,u=e.combineReducers}],execute:function(){"use strict";e("default",function(e){var s=e.initialState,c=void 0===s?{}:s,l=e.reducers,p=e.middlewares,d=void 0===p?[]:p,f=u(r({},l));return i(a.apply(void 0,[t].concat(n(d))))(o)(f,c)})}}}),e.registerDynamic("107",["d4","108","109","d0"],!0,function(e,t,n){var r=e("d4"),o=e("108"),i=e("109");return n.exports=e("d0")(function(){var e=Object.assign,t={},n={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(e){n[e]=e}),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=o})?function(e,t){for(var n=o(e),a=arguments,u=a.length,s=1,c=r.getKeys,l=r.getSymbols,p=r.isEnum;u>s;)for(var d,f=i(a[s++]),h=l?c(f).concat(l(f)):c(f),m=h.length,v=0;m>v;)p.call(f,d=h[v++])&&(n[d]=f[d]);return n}:Object.assign,n.exports}),e.registerDynamic("10a",["ce","107"],!0,function(e,t,n){var r=e("ce");return r(r.S+r.F,"Object",{assign:e("107")}),n.exports}),e.registerDynamic("10b",["10a","cf"],!0,function(e,t,n){return e("10a"),n.exports=e("cf").Object.assign,n.exports}),e.registerDynamic("10c",["10b"],!0,function(e,t,n){return n.exports={"default":e("10b"),__esModule:!0},n.exports}),e.registerDynamic("e1",["10c"],!0,function(e,t,n){"use strict";var r=e("10c")["default"];return t["default"]=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.__esModule=!0,n.exports}),e.registerDynamic("108",["10d"],!0,function(e,t,n){var r=e("10d");return n.exports=function(e){return Object(r(e))},n.exports}),e.registerDynamic("10e",["10f","ce","108","110","111","112","113","114"],!0,function(e,t,n){"use strict";var r=e("10f"),o=e("ce"),i=e("108"),a=e("110"),u=e("111"),s=e("112"),c=e("113");return o(o.S+o.F*!e("114")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,l,p=i(e),d="function"==typeof this?this:Array,f=arguments,h=f.length,m=h>1?f[1]:void 0,v=void 0!==m,g=0,y=c(p);if(v&&(m=r(m,h>2?f[2]:void 0,2)),void 0==y||d==Array&&u(y))for(t=s(p.length),n=new d(t);t>g;g++)n[g]=v?m(p[g],g):p[g];else for(l=y.call(p),n=new d;!(o=l.next()).done;g++)n[g]=v?a(l,m,[o.value,g],!0):o.value;return n.length=g,n}}),n.exports}),e.registerDynamic("115",["116","10e","cf"],!0,function(e,t,n){return e("116"),e("10e"),n.exports=e("cf").Array.from,n.exports}),e.registerDynamic("117",["115"],!0,function(e,t,n){return n.exports={"default":e("115"),__esModule:!0},n.exports}),e.registerDynamic("106",["117"],!0,function(e,t,n){"use strict";var r=e("117")["default"];return t["default"]=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return r(e)},t.__esModule=!0,n.exports}),e.registerDynamic("118",[],!0,function(e,t,n){return n.exports}),e.registerDynamic("119",["11a","10d"],!0,function(e,t,n){var r=e("11a"),o=e("10d");return n.exports=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return 0>s||s>=c?e?"":void 0:(i=u.charCodeAt(s),55296>i||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):(i-55296<<10)+(a-56320)+65536)}},n.exports}),e.registerDynamic("116",["119","11b"],!0,function(e,t,n){"use strict";var r=e("119")(!0);return e("11b")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}),n.exports}),e.registerDynamic("11c",[],!0,function(e,t,n){return n.exports=function(){},n.exports}),e.registerDynamic("11d",[],!0,function(e,t,n){return n.exports=function(e,t){return{value:t,done:!!e}},n.exports}),e.registerDynamic("109",["11e"],!0,function(e,t,n){var r=e("11e");return n.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)},n.exports}),e.registerDynamic("10d",[],!0,function(e,t,n){return n.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},n.exports}),e.registerDynamic("d2",["109","10d"],!0,function(e,t,n){var r=e("109"),o=e("10d");return n.exports=function(e){return r(o(e))},n.exports}),e.registerDynamic("11f",["d4","120","121","122","123"],!0,function(e,t,n){"use strict";var r=e("d4"),o=e("120"),i=e("121"),a={};return e("122")(a,e("123")("iterator"),function(){return this}),n.exports=function(e,t,n){e.prototype=r.create(a,{next:o(1,n)}),i(e,t+" Iterator")},n.exports}),e.registerDynamic("11b",["124","ce","125","122","126","127","11f","121","d4","123"],!0,function(e,t,n){"use strict";var r=e("124"),o=e("ce"),i=e("125"),a=e("122"),u=e("126"),s=e("127"),c=e("11f"),l=e("121"),p=e("d4").getProto,d=e("123")("iterator"),f=!([].keys&&"next"in[].keys()),h="@@iterator",m="keys",v="values",g=function(){return this};return n.exports=function(e,t,n,y,b,x,E){c(n,t,y);var _,C,D=function(e){if(!f&&e in T)return T[e];switch(e){case m:return function(){return new n(this,e)};case v:return function(){return new n(this,e)}}return function(){return new n(this,e)}},P=t+" Iterator",w=b==v,N=!1,T=e.prototype,S=T[d]||T[h]||b&&T[b],M=S||D(b);if(S){var k=p(M.call(new e));l(k,P,!0),!r&&u(T,h)&&a(k,d,g),w&&S.name!==v&&(N=!0,M=function(){return S.call(this)})}if(r&&!E||!f&&!N&&T[d]||a(T,d,M),s[t]=M,s[P]=g,b)if(_={values:w?M:D(v),keys:x?M:D(m),entries:w?D("entries"):M},E)for(C in _)C in T||i(T,C,_[C]);else o(o.P+o.F*(f||N),t,_);return _},n.exports}),e.registerDynamic("128",["11c","11d","127","d2","11b"],!0,function(e,t,n){"use strict";var r=e("11c"),o=e("11d"),i=e("127"),a=e("d2");return n.exports=e("11b")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries"),n.exports}),e.registerDynamic("129",["128","127"],!0,function(e,t,n){e("128");var r=e("127");return r.NodeList=r.HTMLCollection=r.Array,n.exports}),e.registerDynamic("124",[],!0,function(e,t,n){return n.exports=!0,n.exports}),e.registerDynamic("ce",["12a","cf","10f"],!0,function(e,t,n){var r=this,r=e("12a"),o=e("cf"),i=e("10f"),a="prototype",u=function(e,t,n){var s,c,l,p=e&u.F,d=e&u.G,f=e&u.S,h=e&u.P,m=e&u.B,v=e&u.W,g=d?o:o[t]||(o[t]={}),y=d?r:f?r[t]:(r[t]||{})[a];d&&(n=t);for(s in n)c=!p&&y&&s in y,c&&s in g||(l=c?y[s]:n[s],g[s]=d&&"function"!=typeof y[s]?n[s]:m&&c?i(l,r):v&&y[s]==l?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(l):h&&"function"==typeof l?i(Function.call,l):l,h&&((g[a]||(g[a]={}))[s]=l))};return u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,n.exports=u,n.exports}),e.registerDynamic("12b",[],!0,function(e,t,n){return n.exports=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e},n.exports}),e.registerDynamic("110",["12c"],!0,function(e,t,n){var r=e("12c");return n.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(i){var a=e["return"];throw void 0!==a&&r(a.call(e)),i}},n.exports}),e.registerDynamic("111",["127","123"],!0,function(e,t,n){var r=e("127"),o=e("123")("iterator"),i=Array.prototype;return n.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)},n.exports}),e.registerDynamic("11a",[],!0,function(e,t,n){var r=Math.ceil,o=Math.floor;return n.exports=function(e){return isNaN(e=+e)?0:(e>0?o:r)(e)},n.exports}),e.registerDynamic("112",["11a"],!0,function(e,t,n){var r=e("11a"),o=Math.min;return n.exports=function(e){return e>0?o(r(e),9007199254740991):0},n.exports}),e.registerDynamic("12d",["11e","123"],!0,function(e,t,n){var r=e("11e"),o=e("123")("toStringTag"),i="Arguments"==r(function(){return arguments}());return n.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[o])?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a},n.exports}),e.registerDynamic("127",[],!0,function(e,t,n){return n.exports={},n.exports}),e.registerDynamic("113",["12d","123","127","cf"],!0,function(e,t,n){var r=e("12d"),o=e("123")("iterator"),i=e("127");return n.exports=e("cf").getIteratorMethod=function(e){return void 0!=e?e[o]||e["@@iterator"]||i[r(e)]:void 0},n.exports}),e.registerDynamic("12e",["10f","110","111","12c","112","113"],!0,function(e,t,n){var r=e("10f"),o=e("110"),i=e("111"),a=e("12c"),u=e("112"),s=e("113");return n.exports=function(e,t,n,c){var l,p,d,f=s(e),h=r(n,c,t?2:1),m=0;if("function"!=typeof f)throw TypeError(e+" is not iterable!");if(i(f))for(l=u(e.length);l>m;m++)t?h(a(p=e[m])[0],p[1]):h(e[m]);else for(d=f.call(e);!(p=d.next()).done;)o(d,h,p.value,t)},n.exports}),e.registerDynamic("d9",["d4","12f","12c","10f"],!0,function(e,t,n){var r=e("d4").getDesc,o=e("12f"),i=e("12c"),a=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};return n.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,o){try{o=e("10f")(Function.call,r(Object.prototype,"__proto__").set,2),o(t,[]),n=!(t instanceof Array)}catch(i){n=!0}return function(e,t){return a(e,t),n?e.__proto__=t:o(e,t),e}}({},!1):void 0),check:a},n.exports}),e.registerDynamic("130",[],!0,function(e,t,n){return n.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t},n.exports}),e.registerDynamic("12c",["12f"],!0,function(e,t,n){var r=e("12f");return n.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e},n.exports}),e.registerDynamic("131",["12c","132","123"],!0,function(e,t,n){var r=e("12c"),o=e("132"),i=e("123")("species");return n.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)},n.exports}),e.registerDynamic("132",[],!0,function(e,t,n){return n.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},n.exports}),e.registerDynamic("10f",["132"],!0,function(e,t,n){var r=e("132");return n.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},n.exports}),e.registerDynamic("133",[],!0,function(e,t,n){return n.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)},n.exports}),e.registerDynamic("134",["12a"],!0,function(e,t,n){return n.exports=e("12a").document&&document.documentElement,n.exports}),e.registerDynamic("12f",[],!0,function(e,t,n){return n.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e},n.exports}),e.registerDynamic("135",["12f","12a"],!0,function(e,t,n){var r=e("12f"),o=e("12a").document,i=r(o)&&r(o.createElement);return n.exports=function(e){return i?o.createElement(e):{}},n.exports}),e.registerDynamic("136",["10f","133","134","135","12a","11e","16"],!0,function(e,t,n){return function(t){var r,o,i,a=e("10f"),u=e("133"),s=e("134"),c=e("135"),l=e("12a"),t=l.process,p=l.setImmediate,d=l.clearImmediate,f=l.MessageChannel,h=0,m={},v="onreadystatechange",g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},y=function(e){g.call(e.data)};p&&d||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++h]=function(){u("function"==typeof e?e:Function(e),t)},r(h),h},d=function(e){delete m[e]},"process"==e("11e")(t)?r=function(e){t.nextTick(a(g,e,1))}:f?(o=new f,i=o.port2,o.port1.onmessage=y,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",y,!1)):r=v in c("script")?function(e){s.appendChild(c("script"))[v]=function(){s.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),n.exports={set:p,clear:d}}(e("16")),n.exports}),e.registerDynamic("11e",[],!0,function(e,t,n){var r={}.toString;return n.exports=function(e){return r.call(e).slice(8,-1)},n.exports}),e.registerDynamic("137",["12a","136","11e","16"],!0,function(e,t,n){return function(t){var r,o,i,a=e("12a"),u=e("136").set,s=a.MutationObserver||a.WebKitMutationObserver,t=a.process,c=a.Promise,l="process"==e("11e")(t),p=function(){var e,n,i;for(l&&(e=t.domain)&&(t.domain=null,e.exit());r;)n=r.domain,i=r.fn,n&&n.enter(),i(),n&&n.exit(),r=r.next;o=void 0,e&&e.enter()};if(l)i=function(){t.nextTick(p)};else if(s){var d=1,f=document.createTextNode("");new s(p).observe(f,{characterData:!0}),i=function(){f.data=d=-d}}else i=c&&c.resolve?function(){c.resolve().then(p)}:function(){u.call(a,p)};n.exports=function(e){var n={fn:e,next:void 0,domain:l&&t.domain};o&&(o.next=n),r||(r=n,i()),o=n}}(e("16")),n.exports}),e.registerDynamic("120",[],!0,function(e,t,n){return n.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},n.exports}),e.registerDynamic("122",["d4","120","138"],!0,function(e,t,n){var r=e("d4"),o=e("120");return n.exports=e("138")?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e},n.exports}),e.registerDynamic("125",["122"],!0,function(e,t,n){return n.exports=e("122"),n.exports}),e.registerDynamic("139",["125"],!0,function(e,t,n){var r=e("125");return n.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e},n.exports}),e.registerDynamic("126",[],!0,function(e,t,n){var r={}.hasOwnProperty;return n.exports=function(e,t){return r.call(e,t)},n.exports;
}),e.registerDynamic("121",["d4","126","123"],!0,function(e,t,n){var r=e("d4").setDesc,o=e("126"),i=e("123")("toStringTag");return n.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})},n.exports}),e.registerDynamic("d4",[],!0,function(e,t,n){var r=Object;return n.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach},n.exports}),e.registerDynamic("d0",[],!0,function(e,t,n){return n.exports=function(e){try{return!!e()}catch(t){return!0}},n.exports}),e.registerDynamic("138",["d0"],!0,function(e,t,n){return n.exports=!e("d0")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),n.exports}),e.registerDynamic("13a",["cf","d4","138","123"],!0,function(e,t,n){"use strict";var r=e("cf"),o=e("d4"),i=e("138"),a=e("123")("species");return n.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.setDesc(t,a,{configurable:!0,get:function(){return this}})},n.exports}),e.registerDynamic("13b",["12a"],!0,function(e,t,n){var r=this,r=e("12a"),o="__core-js_shared__",i=r[o]||(r[o]={});return n.exports=function(e){return i[e]||(i[e]={})},n.exports}),e.registerDynamic("13c",[],!0,function(e,t,n){var r=0,o=Math.random();return n.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+o).toString(36))},n.exports}),e.registerDynamic("12a",[],!0,function(e,t,n){var r=this,r=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();return"number"==typeof __g&&(__g=r),n.exports}),e.registerDynamic("123",["13b","13c","12a"],!0,function(e,t,n){var r=e("13b")("wks"),o=e("13c"),i=e("12a").Symbol;return n.exports=function(e){return r[e]||(r[e]=i&&i[e]||(i||o)("Symbol."+e))},n.exports}),e.registerDynamic("114",["123"],!0,function(e,t,n){var r=e("123")("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}return n.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){n=!0},i[r]=function(){return a},e(i)}catch(u){}return n},n.exports}),e.registerDynamic("13d",[],!0,function(e,t,n){function r(){l&&u&&(l=!1,u.length?c=u.concat(c):p=-1,c.length&&o())}function o(){if(!l){var e=setTimeout(r);l=!0;for(var t=c.length;t;){for(u=c,c=[];++p<t;)u&&u[p].run();p=-1,t=c.length}u=null,l=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function a(){}var u,s=n.exports={},c=[],l=!1,p=-1;return s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new i(e,t)),1!==c.length||l||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=a,s.addListener=a,s.once=a,s.off=a,s.removeListener=a,s.removeAllListeners=a,s.emit=a,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0},n.exports}),e.registerDynamic("13e",["13d"],!0,function(e,t,n){return n.exports=e("13d"),n.exports}),e.registerDynamic("13f",["13e"],!0,function(t,n,r){return r.exports=e._nodeRequire?process:t("13e"),r.exports}),e.registerDynamic("16",["13f"],!0,function(e,t,n){return n.exports=e("13f"),n.exports}),e.registerDynamic("140",["d4","124","12a","10f","12d","ce","12f","12c","132","12b","12e","d9","130","123","131","137","138","139","121","13a","cf","114","16"],!0,function(e,t,n){return function(t){"use strict";var n,r=e("d4"),o=e("124"),i=e("12a"),a=e("10f"),u=e("12d"),s=e("ce"),c=e("12f"),l=e("12c"),p=e("132"),d=e("12b"),f=e("12e"),h=e("d9").set,m=e("130"),v=e("123")("species"),g=e("131"),y=e("137"),b="Promise",t=i.process,x="process"==u(t),E=i[b],_=function(e){var t=new E(function(){});return e&&(t.constructor=Object),E.resolve(t)===t},C=function(){function t(e){var n=new E(e);return h(n,t.prototype),n}var n=!1;try{if(n=E&&E.resolve&&_(),h(t,E),t.prototype=r.create(E.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(n=!1),n&&e("138")){var o=!1;E.resolve(r.setDesc({},"then",{get:function(){o=!0}})),n=o}}catch(i){n=!1}return n}(),D=function(e,t){return o&&e===E&&t===n?!0:m(e,t)},P=function(e){var t=l(e)[v];return void 0!=t?t:e},w=function(e){var t;return c(e)&&"function"==typeof(t=e.then)?t:!1},N=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=p(t),this.reject=p(n)},T=function(e){try{e()}catch(t){return{error:t}}},S=function(e,n){if(!e.n){e.n=!0;var r=e.c;y(function(){for(var o=e.v,a=1==e.s,u=0,s=function(t){var n,r,i=a?t.ok:t.fail,u=t.resolve,s=t.reject;try{i?(a||(e.h=!0),n=i===!0?o:i(o),n===t.promise?s(TypeError("Promise-chain cycle")):(r=w(n))?r.call(n,u,s):u(n)):s(o)}catch(c){s(c)}};r.length>u;)s(r[u++]);r.length=0,e.n=!1,n&&setTimeout(function(){var n,r,a=e.p;M(a)&&(x?t.emit("unhandledRejection",o,a):(n=i.onunhandledrejection)?n({promise:a,reason:o}):(r=i.console)&&r.error&&r.error("Unhandled promise rejection",o)),e.a=void 0},1)})}},M=function(e){var t,n=e._d,r=n.a||n.c,o=0;if(n.h)return!1;for(;r.length>o;)if(t=r[o++],t.fail||!M(t.promise))return!1;return!0},k=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),S(t,!0))},O=function(e){var t,n=this;if(!n.d){n.d=!0,n=n.r||n;try{if(n.p===e)throw TypeError("Promise can't be resolved itself");(t=w(e))?y(function(){var r={r:n,d:!1};try{t.call(e,a(O,r,1),a(k,r,1))}catch(o){k.call(r,o)}}):(n.v=e,n.s=1,S(n,!1))}catch(r){k.call({r:n,d:!1},r)}}};C||(E=function(e){p(e);var t=this._d={p:d(this,E,b),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(a(O,t,1),a(k,t,1))}catch(n){k.call(t,n)}},e("139")(E.prototype,{then:function(e,t){var n=new N(g(this,E)),r=n.promise,o=this._d;return n.ok="function"==typeof e?e:!0,n.fail="function"==typeof t&&t,o.c.push(n),o.a&&o.a.push(n),o.s&&S(o,!1),r},"catch":function(e){return this.then(void 0,e)}})),s(s.G+s.W+s.F*!C,{Promise:E}),e("121")(E,b),e("13a")(b),n=e("cf")[b],s(s.S+s.F*!C,b,{reject:function(e){var t=new N(this),n=t.reject;return n(e),t.promise}}),s(s.S+s.F*(!C||_(!0)),b,{resolve:function(e){if(e instanceof E&&D(e.constructor,this))return e;var t=new N(this),n=t.resolve;return n(e),t.promise}}),s(s.S+s.F*!(C&&e("114")(function(e){E.all(e)["catch"](function(){})})),b,{all:function(e){var t=P(this),n=new N(t),o=n.resolve,i=n.reject,a=[],u=T(function(){f(e,!1,a.push,a);var n=a.length,u=Array(n);n?r.each.call(a,function(e,r){var a=!1;t.resolve(e).then(function(e){a||(a=!0,u[r]=e,--n||o(u))},i)}):o(u)});return u&&i(u.error),n.promise},race:function(e){var t=P(this),n=new N(t),r=n.reject,o=T(function(){f(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o&&r(o.error),n.promise}})}(e("16")),n.exports}),e.registerDynamic("cf",[],!0,function(e,t,n){var r=n.exports={version:"1.2.6"};return"number"==typeof __e&&(__e=r),n.exports}),e.registerDynamic("141",["118","116","129","140","cf"],!0,function(e,t,n){return e("118"),e("116"),e("129"),e("140"),n.exports=e("cf").Promise,n.exports}),e.registerDynamic("142",["141"],!0,function(e,t,n){return n.exports={"default":e("141"),__esModule:!0},n.exports}),e.registerDynamic("143",[],!0,function(e,t,n){var r;return!function(e,o){"use strict";"function"==typeof r&&r.amd?r("ajax",o):"object"==typeof t?t=n.exports=o():e.ajax=o()}(this,function(){"use strict";function e(e){var r=["get","post","put","delete"];return e=e||{},e.baseUrl=e.baseUrl||"",e.method&&e.url?n(e.method,e.baseUrl+e.url,t(e.data),e):r.reduce(function(r,o){return r[o]=function(r,i){return n(o,e.baseUrl+r,t(i),e)},r},{})}function t(e){return e||null}function n(e,t,n,o){var a=["then","catch","always"],s=a.reduce(function(e,t){return e[t]=function(n){return e[t]=n,e},e},{}),c=new XMLHttpRequest;return c.open(e,t,!0),r(c,o.headers),c.addEventListener("readystatechange",i(s,c),!1),c.send(u(n)),s}function r(e,t){t=t||{},o(t)||(t["Content-Type"]="application/x-www-form-urlencoded"),Object.keys(t).forEach(function(n){t[n]&&e.setRequestHeader(n,t[n])})}function o(e){return Object.keys(e).some(function(e){return"content-type"===e.toLowerCase()})}function i(e,t){return function n(){t.readyState===t.DONE&&(t.removeEventListener("readystatechange",n,!1),e.always.apply(e,a(t)),t.status>=200&&t.status<300?e.then.apply(e,a(t)):e["catch"].apply(e,a(t)))}}function a(e){var t;try{t=JSON.parse(e.responseText)}catch(n){t=e.responseText}return[t,e]}function u(e){return s(e)?c(e):e}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function c(e){return Object.keys(e).reduce(function(t,n){var r=t?t+"&":"";return r+l(n)+"="+l(e[n])},"")}function l(e){return encodeURIComponent(e)}return e}),n.exports}),e.registerDynamic("144",["143"],!0,function(e,t,n){return n.exports=e("143"),n.exports}),e.register("2",["142","144","a1"],function(e){var t,n,r,o,i,a;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e.FETCH_EVENTS,o=e.EVENTS_SUCCESS,i=e.EVENTS_FAILED}],execute:function(){"use strict";a=function(){return function(e,a){var u=a().events.isFetching;return u?t.resolve():(e({type:r}),void n().get("data/events.json").then(function(t){e({type:o,payload:t})})["catch"](function(){e({type:i})}))}},e("fetchEvents",a)}}}),e.register("a1",["2"],function(e){"use strict";var t,n,r;return{setters:[function(t){var n={};n.fetchEvents=t.fetchEvents,e(n)}],execute:function(){t="FETCH_EVENTS",e("FETCH_EVENTS",t),n="EVENTS_SUCCESS",e("EVENTS_SUCCESS",n),r="EVENTS_FAILED",e("EVENTS_FAILED",r)}}}),e.register("145",["106","e1","a1"],function(e){var t,n,r,o,i,a,u;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e.FETCH_EVENTS,o=e.EVENTS_SUCCESS,i=e.EVENTS_FAILED}],execute:function(){"use strict";a={events:[{title:"...",date:{day:0,month:"",year:0},image:""},{title:"...",date:{day:0,month:"",year:0}},{title:"...",date:{day:0,month:"",year:0}},{title:"...",date:{day:0,month:"",year:0}},{title:"...",date:{day:0,month:"",year:0}}],isFetching:!1},u=function(e,u){switch(void 0===e&&(e=a),u.type){case r:return n({},e,{isFetching:!0});case o:return n({},e,{events:[].concat(t(u.payload)),isFetching:!1});case i:return n({},e,{isFetching:!1})}return e},e("default",u)}}}),e.register("146",["145"],function(e){"use strict";var t;return{setters:[function(e){t=e["default"]}],execute:function(){e("default",{events:t})}}}),e.register("1",["105","146","9c","9a","a2","f5"],function(e){"use strict";var t,n,r,o,i,a,u;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){o=e.render},function(e){i=e.Provider},function(e){a=e["default"]}],execute:function(){u=t({reducers:n}),o(r.createElement(i,{store:u},r.createElement(a,null)),document.querySelector('[data-js="app"]'))}}})})(function(e){e()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4ubWluLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9GYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1N5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1N5bnRoZXRpY0lucHV0RXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0JlZm9yZUlucHV0RXZlbnRQbHVnaW4uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0NoYW5nZUV2ZW50UGx1Z2luLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9EZWZhdWx0RXZlbnRQbHVnaW5PcmRlci5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvRW50ZXJMZWF2ZUV2ZW50UGx1Z2luLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9IVE1MRE9NUHJvcGVydHlDb25maWcuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0F1dG9Gb2N1c1V0aWxzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvY2FtZWxpemUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9jYW1lbGl6ZVN0eWxlTmFtZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvQ1NTUHJvcGVydHkuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2Rhbmdlcm91c1N0eWxlVmFsdWUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9oeXBoZW5hdGUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9oeXBoZW5hdGVTdHlsZU5hbWUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9tZW1vaXplU3RyaW5nT25seS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvQ1NTUHJvcGVydHlPcGVyYXRpb25zLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTUlET3BlcmF0aW9ucy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RE9NQnV0dG9uLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTUlucHV0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTU9wdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RET01TZWxlY3QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0Rpc2FibGVkSW5wdXRVdGlscy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RET01Vbmtub3duUHJvcGVydHlEZXZ0b29sLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTURlYnVnVG9vbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RET01JbnN0cnVtZW50YXRpb24uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL3F1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9ET01Qcm9wZXJ0eU9wZXJhdGlvbnMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0xpbmtlZFZhbHVlVXRpbHMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RE9NVGV4dGFyZWEuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0Q2hpbGRSZWNvbmNpbGVyLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9mbGF0dGVuQ2hpbGRyZW4uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0TXVsdGlDaGlsZC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RET01Db21wb25lbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RE9NRW1wdHlDb21wb25lbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RE9NVHJlZVRyYXZlcnNhbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL2NyZWF0ZUFycmF5RnJvbU1peGVkLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvY3JlYXRlTm9kZXNGcm9tTWFya3VwLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvZ2V0TWFya3VwV3JhcC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvRGFuZ2VyLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvRE9NQ2hpbGRyZW5PcGVyYXRpb25zLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTVRleHRDb21wb25lbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3kuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9nZXRVbmJvdW5kZWRTY3JvbGxQb3NpdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RFdmVudExpc3RlbmVyLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdEluamVjdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvU1ZHRE9NUHJvcGVydHlDb25maWcuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2dldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2dldFRleHRDb250ZW50QWNjZXNzb3IuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RE9NU2VsZWN0aW9uLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvaXNOb2RlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvaXNUZXh0Tm9kZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL2NvbnRhaW5zTm9kZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL2ZvY3VzTm9kZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RJbnB1dFNlbGVjdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL2dldEFjdGl2ZUVsZW1lbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2lzVGV4dElucHV0RWxlbWVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL3NoYWxsb3dFcXVhbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvU2VsZWN0RXZlbnRQbHVnaW4uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9FdmVudExpc3RlbmVyLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9FdmVudFByb3BhZ2F0b3JzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9TeW50aGV0aWNBbmltYXRpb25FdmVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvU3ludGhldGljQ2xpcGJvYXJkRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1N5bnRoZXRpY0ZvY3VzRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2dldEV2ZW50S2V5LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9TeW50aGV0aWNLZXlib2FyZEV2ZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9TeW50aGV0aWNEcmFnRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1N5bnRoZXRpY1RvdWNoRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1N5bnRoZXRpY1RyYW5zaXRpb25FdmVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvU3ludGhldGljRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2dldEV2ZW50VGFyZ2V0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9TeW50aGV0aWNVSUV2ZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9nZXRFdmVudE1vZGlmaWVyU3RhdGUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1N5bnRoZXRpY01vdXNlRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1N5bnRoZXRpY1doZWVsRXZlbnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2dldEV2ZW50Q2hhckNvZGUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1NpbXBsZUV2ZW50UGx1Z2luLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERlZmF1bHRJbmplY3Rpb24uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2ZpbmRET01Ob2RlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9nZXROYXRpdmVDb21wb25lbnRGcm9tQ29tcG9zaXRlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9ET01OYW1lc3BhY2VzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9lc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL3NldFRleHRDb250ZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9ET01MYXp5VHJlZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvRXZlbnRQbHVnaW5SZWdpc3RyeS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvRXZlbnRDb25zdGFudHMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0V2ZW50UGx1Z2luVXRpbHMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2FjY3VtdWxhdGVJbnRvLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9mb3JFYWNoQWNjdW11bGF0ZWQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0V2ZW50UGx1Z2luSHViLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdEV2ZW50RW1pdHRlck1peGluLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9WaWV3cG9ydE1ldHJpY3MuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL2dldFZlbmRvclByZWZpeGVkRXZlbnROYW1lLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9pc0V2ZW50U3VwcG9ydGVkLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL0RPTVByb3BlcnR5LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTUNvbXBvbmVudEZsYWdzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTUNvbXBvbmVudFRyZWUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL3ZhbGlkYXRlRE9NTmVzdGluZy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RET01Db250YWluZXJJbmZvLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTUZlYXR1cmVGbGFncy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvYWRsZXIzMi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RNYXJrdXBDaGVja3N1bS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RFcnJvclV0aWxzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdE5vZGVUeXBlcy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RJbnN0YW5jZU1hcC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvQ2FsbGJhY2tRdWV1ZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RGZWF0dXJlRmxhZ3MuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0T3duZXIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0UmVmLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdFJlY29uY2lsZXIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1RyYW5zYWN0aW9uLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdFVwZGF0ZXMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0VXBkYXRlUXVldWUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdEVtcHR5Q29tcG9uZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdE5hdGl2ZUNvbXBvbmVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvc2V0SW5uZXJIVE1MLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9zaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RNb3VudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvcmVuZGVyU3VidHJlZUludG9Db250YWluZXIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RE9NLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3QtZG9tQDE1LjEuMC9pbmRleC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0LWRvbUAxNS4xLjAuanMiLCJjb250YWluZXJzL2FwcC9tYWluLWhlYWRlci5qcyIsImNvbXBvbmVudHMvYmFubmVyLWJveC5qcyIsImNvbnRhaW5lcnMvbWFpbi1jb250ZW50L2hlYWRlci1iYW5uZXIuanMiLCJjb250YWluZXJzL21haW4tY29udGVudC9oZWFkZXIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdC1yZWR1eEA0LjQuNS9saWIvY29tcG9uZW50cy9Qcm92aWRlci5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9saWIvUG9vbGVkQ2xhc3MuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4wLjIvbGliL0tleUVzY2FwZVV0aWxzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi90cmF2ZXJzZUFsbENoaWxkcmVuLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9SZWFjdENoaWxkcmVuLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9SZWFjdEludmFsaWRTZXRTdGF0ZVdhcm5pbmdEZXZUb29sLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9SZWFjdERlYnVnVG9vbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9saWIvUmVhY3RJbnN0cnVtZW50YXRpb24uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4wLjIvbGliL1JlYWN0Q29tcG9uZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9SZWFjdE5vb3BVcGRhdGVRdWV1ZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9saWIvUmVhY3RDbGFzcy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9saWIvUmVhY3RET01GYWN0b3JpZXMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4wLjIvbGliL1JlYWN0UHJvcFR5cGVMb2NhdGlvbnMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4wLjIvbGliL1JlYWN0RWxlbWVudFZhbGlkYXRvci5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9saWIvUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4wLjIvbGliL2dldEl0ZXJhdG9yRm4uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4wLjIvbGliL1JlYWN0UHJvcFR5cGVzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9SZWFjdFZlcnNpb24uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4wLjIvbGliL1JlYWN0Q3VycmVudE93bmVyLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9jYW5EZWZpbmVQcm9wZXJ0eS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjAuMi9saWIvUmVhY3RFbGVtZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL2xpYi9vbmx5Q2hpbGQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4wLjIvbGliL1JlYWN0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yL3JlYWN0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMC4yLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3QtcmVkdXhANC40LjUvbGliL3V0aWxzL3N0b3JlU2hhcGUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdC1yZWR1eEA0LjQuNS9saWIvdXRpbHMvc2hhbGxvd0VxdWFsLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3QtcmVkdXhANC40LjUvbGliL3V0aWxzL3dyYXBBY3Rpb25DcmVhdG9ycy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0LXJlZHV4QDQuNC41L2xpYi91dGlscy93YXJuaW5nLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3NAMS4wLjUvaW5kZXguanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9ob2lzdC1ub24tcmVhY3Qtc3RhdGljc0AxLjAuNS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ludmFyaWFudEAyLjIuMS9icm93c2VyLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vaW52YXJpYW50QDIuMi4xLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3QtcmVkdXhANC40LjUvbGliL2NvbXBvbmVudHMvY29ubmVjdC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0LXJlZHV4QDQuNC41L2xpYi9pbmRleC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0LXJlZHV4QDQuNC41LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5vYmplY3Qtc2FwLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2JhYmVsLXJ1bnRpbWVANS44LjM4L2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2JhYmVsLXJ1bnRpbWVANS44LjM4L2hlbHBlcnMvZ2V0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9iYWJlbC1ydW50aW1lQDUuOC4zOC9jb3JlLWpzL29iamVjdC9jcmVhdGUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9iYWJlbC1ydW50aW1lQDUuOC4zOC9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vYmFiZWwtcnVudGltZUA1LjguMzgvaGVscGVycy9pbmhlcml0cy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vYmFiZWwtcnVudGltZUA1LjguMzgvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vYmFiZWwtcnVudGltZUA1LjguMzgvaGVscGVycy9jcmVhdGUtY2xhc3MuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9iYWJlbC1ydW50aW1lQDUuOC4zOC9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2suanMiLCJjb21wb25lbnRzL2xhenktaW1nLmpzIiwiY29tcG9uZW50cy9zdmctaWNvbi5qcyIsImNvbXBvbmVudHMvZXZlbnQtbGlzdC1pdGVtLmpzIiwiY29udGFpbmVycy9tYWluLWNvbnRlbnQvcGFnZS5qcyIsImNvbnRhaW5lcnMvbWFpbi1jb250ZW50L2FzaWRlLmpzIiwiY29udGFpbmVycy9tYWluLWNvbnRlbnQvaW5kZXguanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1Bvb2xlZENsYXNzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9LZXlFc2NhcGVVdGlscy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvdHJhdmVyc2VBbGxDaGlsZHJlbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RDaGlsZHJlbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvcGVyZm9ybWFuY2UuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9wZXJmb3JtYW5jZU5vdy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RJbnZhbGlkU2V0U3RhdGVXYXJuaW5nRGV2VG9vbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3ROYXRpdmVPcGVyYXRpb25IaXN0b3J5RGV2dG9vbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3REZWJ1Z1Rvb2wuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0SW5zdHJ1bWVudGF0aW9uLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdENvbXBvbmVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3ROb29wVXBkYXRlUXVldWUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9mYmpzQDAuOC4yL2xpYi9lbXB0eU9iamVjdC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL2tleU9mLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdENsYXNzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvbWFwT2JqZWN0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdERPTUZhY3Rvcmllcy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL2tleU1pcnJvci5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RFbGVtZW50VmFsaWRhdG9yLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvZ2V0SXRlcmF0b3JGbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvUmVhY3RQcm9wVHlwZXMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0VmVyc2lvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL29iamVjdC1hc3NpZ25ANC4xLjAvaW5kZXguanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9vYmplY3QtYXNzaWduQDQuMS4wLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL2xpYi9SZWFjdEN1cnJlbnRPd25lci5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvY2FuRGVmaW5lUHJvcGVydHkuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0RWxlbWVudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL2ludmFyaWFudC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlYWN0QDE1LjEuMC9saWIvb25seUNoaWxkLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vZmJqc0AwLjguMi9saWIvZW1wdHlGdW5jdGlvbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2ZianNAMC44LjIvbGliL3dhcm5pbmcuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWFjdEAxNS4xLjAvbGliL1JlYWN0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wL3JlYWN0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVhY3RAMTUuMS4wLmpzIiwiY29udGFpbmVycy9hcHAvbWFpbi1mb290ZXIuanMiLCJjb250YWluZXJzL2FwcC9pbmRleC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3N5bWJvbC1vYnNlcnZhYmxlQDAuMi40L3BvbnlmaWxsLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vc3ltYm9sLW9ic2VydmFibGVAMC4yLjQvaW5kZXguanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9zeW1ib2wtb2JzZXJ2YWJsZUAwLjIuNC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlZHV4QDMuNS4yL2xpYi9jcmVhdGVTdG9yZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2xvZGFzaEA0LjExLjEvX2dldFByb3RvdHlwZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2xvZGFzaEA0LjExLjEvX2lzSG9zdE9iamVjdC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2xvZGFzaEA0LjExLjEvaXNPYmplY3RMaWtlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vbG9kYXNoQDQuMTEuMS9pc1BsYWluT2JqZWN0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVkdXhAMy41LjIvbGliL2NvbWJpbmVSZWR1Y2Vycy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlZHV4QDMuNS4yL2xpYi9iaW5kQWN0aW9uQ3JlYXRvcnMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWR1eEAzLjUuMi9saWIvYXBwbHlNaWRkbGV3YXJlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVkdXhAMy41LjIvbGliL2NvbXBvc2UuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9yZWR1eEAzLjUuMi9saWIvdXRpbHMvd2FybmluZy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlZHV4QDMuNS4yL2xpYi9pbmRleC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3JlZHV4QDMuNS4yLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVkdXgtdGh1bmtAMi4wLjEvbGliL2luZGV4LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vcmVkdXgtdGh1bmtAMi4wLjEuanMiLCJzdG9yZS9jb25maWd1cmUtc3RvcmUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLm9iamVjdC1hc3NpZ24uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9mbi9vYmplY3QvYXNzaWduLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vYmFiZWwtcnVudGltZUA1LjguMzgvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vYmFiZWwtcnVudGltZUA1LjguMzgvaGVscGVycy9leHRlbmRzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC50by1vYmplY3QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuZnJvbS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vYmFiZWwtcnVudGltZUA1LjguMzgvY29yZS1qcy9hcnJheS9mcm9tLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vYmFiZWwtcnVudGltZUA1LjguMzgvaGVscGVycy90by1jb25zdW1hYmxlLWFycmF5LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLnN0cmluZy1hdC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmFkZC10by11bnNjb3BhYmxlcy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQuaXRlci1zdGVwLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5pb2JqZWN0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5kZWZpbmVkLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC50by1pb2JqZWN0LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5pdGVyLWNyZWF0ZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQuaXRlci1kZWZpbmUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5saWJyYXJ5LmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5leHBvcnQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLnN0cmljdC1uZXcuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItY2FsbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQuaXMtYXJyYXktaXRlci5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQudG8taW50ZWdlci5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQudG8tbGVuZ3RoLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5jbGFzc29mLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5pdGVyYXRvcnMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmZvci1vZi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQuc2V0LXByb3RvLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5zYW1lLXZhbHVlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5hbi1vYmplY3QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLnNwZWNpZXMtY29uc3RydWN0b3IuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmEtZnVuY3Rpb24uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmN0eC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQuaW52b2tlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5odG1sLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5pcy1vYmplY3QuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmRvbS1jcmVhdGUuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLnRhc2suanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmNvZi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQubWljcm90YXNrLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5wcm9wZXJ0eS1kZXNjLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5oaWRlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5yZWRlZmluZS5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQucmVkZWZpbmUtYWxsLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5oYXMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLnNldC10by1zdHJpbmctdGFnLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQuZmFpbHMuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmRlc2NyaXB0b3JzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5zZXQtc3BlY2llcy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQuc2hhcmVkLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC51aWQuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9jb3JlLWpzQDEuMi42L2xpYnJhcnkvbW9kdWxlcy8kLmdsb2JhbC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzLyQud2tzLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5pdGVyLWRldGVjdC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL3Byb2Nlc3NAMC4xMS4zL2Jyb3dzZXIuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9wcm9jZXNzQDAuMTEuMy5qcyIsIi4uL2pzcG1fcGFja2FnZXMvZ2l0aHViL2pzcG0vbm9kZWxpYnMtcHJvY2Vzc0AwLjEuMi9pbmRleC5qcyIsIi4uL2pzcG1fcGFja2FnZXMvZ2l0aHViL2pzcG0vbm9kZWxpYnMtcHJvY2Vzc0AwLjEuMi5qcyIsIi4uL2pzcG1fcGFja2FnZXMvbnBtL2NvcmUtanNAMS4yLjYvbGlicmFyeS9tb2R1bGVzL2VzNi5wcm9taXNlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L21vZHVsZXMvJC5jb3JlLmpzIiwiLi4vanNwbV9wYWNrYWdlcy9ucG0vY29yZS1qc0AxLjIuNi9saWJyYXJ5L2ZuL3Byb21pc2UuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9iYWJlbC1ydW50aW1lQDUuOC4zOC9jb3JlLWpzL3Byb21pc2UuanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9AZmRhY2l1ay9hamF4QDIuMC4xL2Rpc3QvYWpheC5taW4uanMiLCIuLi9qc3BtX3BhY2thZ2VzL25wbS9AZmRhY2l1ay9hamF4QDIuMC4xLmpzIiwiYWN0aW9ucy9ldmVudHMuanMiLCJhY3Rpb25zL2luZGV4LmpzIiwicmVkdWNlcnMvZXZlbnRzLmpzIiwicmVkdWNlcnMvaW5kZXguanMiLCJpbmRleC5qcyJdLCJuYW1lcyI6WyJlIiwiciIsIm8iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ0IiwiYXBwbHkiLCJ0aGlzIiwibiIsImRlY2xhcmF0aXZlIiwiZGVwcyIsImRlY2xhcmUiLCJleGVjdXRpbmdSZXF1aXJlIiwiZXhlY3V0ZSIsIm5hbWUiLCJnIiwibm9ybWFsaXplZERlcHMiLCJncm91cEluZGV4IiwibSIsImNhbGwiLCJwdXNoIiwiYSIsInUiLCJldmFsdWF0ZWQiLCJkIiwic3BsaWNlIiwiVHlwZUVycm9yIiwiaSIsInMiLCJsIiwiRCIsImRlcGVuZGVuY2llcyIsImV4cG9ydHMiLCJpbXBvcnRlcnMiLCJtb2R1bGUiLCJsb2NrZWQiLCJzZXR0ZXJzIiwiYyIsImYiLCJlc01vZHVsZSIsInYiLCJwIiwiRXJyb3IiLCJfX3VzZURlZmF1bHQiLCJpZCIsIl9fZXNNb2R1bGUiLCJoYXNPd25Qcm9wZXJ0eSIsImgiLCJ5IiwidmFsdWUiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJJIiwic3Vic3RyIiwiXyIsIkFycmF5IiwicHJvdG90eXBlIiwiaW5kZXhPZiIsIngiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsIlN5c3RlbSIsIl9ub2RlUmVxdWlyZSIsInJlcXVpcmUiLCJyZXNvbHZlIiwicHJvY2VzcyIsIkBlbXB0eSIsInJlZ2lzdGVyIiwicmVnaXN0ZXJEeW5hbWljIiwic2V0IiwibmV3TW9kdWxlIiwic2VsZiIsImdsb2JhbCIsIiRfX1N5c3RlbSIsIiRfX3JlcXVpcmUiLCJGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUiLCJyb290IiwiX3Jvb3QiLCJfc3RhcnRUZXh0IiwiZ2V0VGV4dCIsIl9mYWxsYmFja1RleHQiLCJfYXNzaWduIiwiUG9vbGVkQ2xhc3MiLCJnZXRUZXh0Q29udGVudEFjY2Vzc29yIiwiZGVzdHJ1Y3RvciIsImdldERhdGEiLCJzdGFydCIsImVuZCIsInN0YXJ0VmFsdWUiLCJzdGFydExlbmd0aCIsImVuZFZhbHVlIiwiZW5kTGVuZ3RoIiwibWluRW5kIiwic2xpY2VUYWlsIiwidW5kZWZpbmVkIiwic2xpY2UiLCJhZGRQb29saW5nVG8iLCJTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50IiwiZGlzcGF0Y2hDb25maWciLCJkaXNwYXRjaE1hcmtlciIsIm5hdGl2ZUV2ZW50IiwibmF0aXZlRXZlbnRUYXJnZXQiLCJTeW50aGV0aWNFdmVudCIsIkNvbXBvc2l0aW9uRXZlbnRJbnRlcmZhY2UiLCJkYXRhIiwiYXVnbWVudENsYXNzIiwiU3ludGhldGljSW5wdXRFdmVudCIsIklucHV0RXZlbnRJbnRlcmZhY2UiLCJpc1ByZXN0byIsIm9wZXJhIiwid2luZG93IiwidmVyc2lvbiIsInBhcnNlSW50IiwiaXNLZXlwcmVzc0NvbW1hbmQiLCJjdHJsS2V5IiwiYWx0S2V5IiwibWV0YUtleSIsImdldENvbXBvc2l0aW9uRXZlbnRUeXBlIiwidG9wTGV2ZWxUeXBlIiwidG9wTGV2ZWxUeXBlcyIsInRvcENvbXBvc2l0aW9uU3RhcnQiLCJldmVudFR5cGVzIiwiY29tcG9zaXRpb25TdGFydCIsInRvcENvbXBvc2l0aW9uRW5kIiwiY29tcG9zaXRpb25FbmQiLCJ0b3BDb21wb3NpdGlvblVwZGF0ZSIsImNvbXBvc2l0aW9uVXBkYXRlIiwiaXNGYWxsYmFja0NvbXBvc2l0aW9uU3RhcnQiLCJ0b3BLZXlEb3duIiwia2V5Q29kZSIsIlNUQVJUX0tFWUNPREUiLCJpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQiLCJ0b3BLZXlVcCIsIkVORF9LRVlDT0RFUyIsInRvcEtleVByZXNzIiwidG9wTW91c2VEb3duIiwidG9wQmx1ciIsImdldERhdGFGcm9tQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJleHRyYWN0Q29tcG9zaXRpb25FdmVudCIsInRhcmdldEluc3QiLCJldmVudFR5cGUiLCJmYWxsYmFja0RhdGEiLCJjYW5Vc2VDb21wb3NpdGlvbkV2ZW50IiwiY3VycmVudENvbXBvc2l0aW9uIiwidXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEiLCJnZXRQb29sZWQiLCJldmVudCIsImN1c3RvbURhdGEiLCJFdmVudFByb3BhZ2F0b3JzIiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyIsImdldE5hdGl2ZUJlZm9yZUlucHV0Q2hhcnMiLCJ3aGljaCIsIlNQQUNFQkFSX0NPREUiLCJoYXNTcGFjZUtleXByZXNzIiwiU1BBQ0VCQVJfQ0hBUiIsInRvcFRleHRJbnB1dCIsImNoYXJzIiwiZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzIiwicmVsZWFzZSIsInRvcFBhc3RlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiZXh0cmFjdEJlZm9yZUlucHV0RXZlbnQiLCJjYW5Vc2VUZXh0SW5wdXRFdmVudCIsImJlZm9yZUlucHV0IiwiRXZlbnRDb25zdGFudHMiLCJFeGVjdXRpb25FbnZpcm9ubWVudCIsImtleU9mIiwiY2FuVXNlRE9NIiwiZG9jdW1lbnRNb2RlIiwiZG9jdW1lbnQiLCJwaGFzZWRSZWdpc3RyYXRpb25OYW1lcyIsImJ1YmJsZWQiLCJvbkJlZm9yZUlucHV0IiwiY2FwdHVyZWQiLCJvbkJlZm9yZUlucHV0Q2FwdHVyZSIsIm9uQ29tcG9zaXRpb25FbmQiLCJvbkNvbXBvc2l0aW9uRW5kQ2FwdHVyZSIsIm9uQ29tcG9zaXRpb25TdGFydCIsIm9uQ29tcG9zaXRpb25TdGFydENhcHR1cmUiLCJvbkNvbXBvc2l0aW9uVXBkYXRlIiwib25Db21wb3NpdGlvblVwZGF0ZUNhcHR1cmUiLCJCZWZvcmVJbnB1dEV2ZW50UGx1Z2luIiwiZXh0cmFjdEV2ZW50cyIsInNob3VsZFVzZUNoYW5nZUV2ZW50IiwiZWxlbSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJ0eXBlIiwibWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudCIsImNoYW5nZSIsImFjdGl2ZUVsZW1lbnRJbnN0IiwiZ2V0RXZlbnRUYXJnZXQiLCJSZWFjdFVwZGF0ZXMiLCJiYXRjaGVkVXBkYXRlcyIsInJ1bkV2ZW50SW5CYXRjaCIsIkV2ZW50UGx1Z2luSHViIiwiZW5xdWV1ZUV2ZW50cyIsInByb2Nlc3NFdmVudFF1ZXVlIiwic3RhcnRXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4IiwidGFyZ2V0IiwiYWN0aXZlRWxlbWVudCIsImF0dGFjaEV2ZW50Iiwic3RvcFdhdGNoaW5nRm9yQ2hhbmdlRXZlbnRJRTgiLCJkZXRhY2hFdmVudCIsImdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudCIsInRvcENoYW5nZSIsImhhbmRsZUV2ZW50c0ZvckNoYW5nZUV2ZW50SUU4IiwidG9wRm9jdXMiLCJzdGFydFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UiLCJhY3RpdmVFbGVtZW50VmFsdWUiLCJhY3RpdmVFbGVtZW50VmFsdWVQcm9wIiwiY29uc3RydWN0b3IiLCJuZXdWYWx1ZVByb3AiLCJoYW5kbGVQcm9wZXJ0eUNoYW5nZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwcm9wZXJ0eU5hbWUiLCJzcmNFbGVtZW50IiwiZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnQiLCJ0b3BJbnB1dCIsImhhbmRsZUV2ZW50c0ZvcklucHV0RXZlbnRJRSIsImdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50SUUiLCJ0b3BTZWxlY3Rpb25DaGFuZ2UiLCJzaG91bGRVc2VDbGlja0V2ZW50IiwiZ2V0VGFyZ2V0SW5zdEZvckNsaWNrRXZlbnQiLCJ0b3BDbGljayIsIlJlYWN0RE9NQ29tcG9uZW50VHJlZSIsImlzRXZlbnRTdXBwb3J0ZWQiLCJpc1RleHRJbnB1dEVsZW1lbnQiLCJvbkNoYW5nZSIsIm9uQ2hhbmdlQ2FwdHVyZSIsImRvZXNDaGFuZ2VFdmVudEJ1YmJsZSIsImlzSW5wdXRFdmVudFN1cHBvcnRlZCIsInZhbCIsIkNoYW5nZUV2ZW50UGx1Z2luIiwiZ2V0VGFyZ2V0SW5zdEZ1bmMiLCJoYW5kbGVFdmVudEZ1bmMiLCJ0YXJnZXROb2RlIiwiZ2V0Tm9kZUZyb21JbnN0YW5jZSIsImluc3QiLCJEZWZhdWx0RXZlbnRQbHVnaW5PcmRlciIsIlJlc3BvbmRlckV2ZW50UGx1Z2luIiwiU2ltcGxlRXZlbnRQbHVnaW4iLCJUYXBFdmVudFBsdWdpbiIsIkVudGVyTGVhdmVFdmVudFBsdWdpbiIsIlNlbGVjdEV2ZW50UGx1Z2luIiwiU3ludGhldGljTW91c2VFdmVudCIsIm1vdXNlRW50ZXIiLCJyZWdpc3RyYXRpb25OYW1lIiwib25Nb3VzZUVudGVyIiwidG9wTW91c2VPdXQiLCJ0b3BNb3VzZU92ZXIiLCJtb3VzZUxlYXZlIiwib25Nb3VzZUxlYXZlIiwicmVsYXRlZFRhcmdldCIsImZyb21FbGVtZW50Iiwid2luIiwiZG9jIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwicGFyZW50V2luZG93IiwiZnJvbSIsInRvIiwicmVsYXRlZCIsInRvRWxlbWVudCIsImdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlIiwiZnJvbU5vZGUiLCJ0b05vZGUiLCJsZWF2ZSIsImVudGVyIiwiYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzIiwiRE9NUHJvcGVydHkiLCJNVVNUX1VTRV9QUk9QRVJUWSIsImluamVjdGlvbiIsIkhBU19CT09MRUFOX1ZBTFVFIiwiSEFTX1NJREVfRUZGRUNUUyIsIkhBU19OVU1FUklDX1ZBTFVFIiwiSEFTX1BPU0lUSVZFX05VTUVSSUNfVkFMVUUiLCJIQVNfT1ZFUkxPQURFRF9CT09MRUFOX1ZBTFVFIiwiSFRNTERPTVByb3BlcnR5Q29uZmlnIiwiaXNDdXN0b21BdHRyaWJ1dGUiLCJSZWdFeHAiLCJ0ZXN0IiwiYmluZCIsIkFUVFJJQlVURV9OQU1FX0NIQVIiLCJQcm9wZXJ0aWVzIiwiYWNjZXB0IiwiYWNjZXB0Q2hhcnNldCIsImFjY2Vzc0tleSIsImFjdGlvbiIsImFsbG93RnVsbFNjcmVlbiIsImFsbG93VHJhbnNwYXJlbmN5IiwiYWx0IiwiYXN5bmMiLCJhdXRvQ29tcGxldGUiLCJhdXRvUGxheSIsImNhcHR1cmUiLCJjZWxsUGFkZGluZyIsImNlbGxTcGFjaW5nIiwiY2hhclNldCIsImNoYWxsZW5nZSIsImNoZWNrZWQiLCJjaXRlIiwiY2xhc3NJRCIsImNsYXNzTmFtZSIsImNvbHMiLCJjb2xTcGFuIiwiY29udGVudCIsImNvbnRlbnRFZGl0YWJsZSIsImNvbnRleHRNZW51IiwiY29udHJvbHMiLCJjb29yZHMiLCJjcm9zc09yaWdpbiIsImRhdGVUaW1lIiwiZGVmYXVsdCIsImRlZmVyIiwiZGlyIiwiZGlzYWJsZWQiLCJkb3dubG9hZCIsImRyYWdnYWJsZSIsImVuY1R5cGUiLCJmb3JtIiwiZm9ybUFjdGlvbiIsImZvcm1FbmNUeXBlIiwiZm9ybU1ldGhvZCIsImZvcm1Ob1ZhbGlkYXRlIiwiZm9ybVRhcmdldCIsImZyYW1lQm9yZGVyIiwiaGVhZGVycyIsImhlaWdodCIsImhpZGRlbiIsImhpZ2giLCJocmVmIiwiaHJlZkxhbmciLCJodG1sRm9yIiwiaHR0cEVxdWl2IiwiaWNvbiIsImlucHV0TW9kZSIsImludGVncml0eSIsImlzIiwia2V5UGFyYW1zIiwia2V5VHlwZSIsImtpbmQiLCJsYWJlbCIsImxhbmciLCJsaXN0IiwibG9vcCIsImxvdyIsIm1hbmlmZXN0IiwibWFyZ2luSGVpZ2h0IiwibWFyZ2luV2lkdGgiLCJtYXgiLCJtYXhMZW5ndGgiLCJtZWRpYSIsIm1lZGlhR3JvdXAiLCJtZXRob2QiLCJtaW4iLCJtaW5MZW5ndGgiLCJtdWx0aXBsZSIsIm11dGVkIiwibm9uY2UiLCJub1ZhbGlkYXRlIiwib3BlbiIsIm9wdGltdW0iLCJwYXR0ZXJuIiwicGxhY2Vob2xkZXIiLCJwb3N0ZXIiLCJwcmVsb2FkIiwicHJvZmlsZSIsInJhZGlvR3JvdXAiLCJyZWFkT25seSIsInJlbCIsInJlcXVpcmVkIiwicmV2ZXJzZWQiLCJyb2xlIiwicm93cyIsInJvd1NwYW4iLCJzYW5kYm94Iiwic2NvcGUiLCJzY29wZWQiLCJzY3JvbGxpbmciLCJzZWFtbGVzcyIsInNlbGVjdGVkIiwic2hhcGUiLCJzaXplIiwic2l6ZXMiLCJzcGFuIiwic3BlbGxDaGVjayIsInNyYyIsInNyY0RvYyIsInNyY0xhbmciLCJzcmNTZXQiLCJzdGVwIiwic3R5bGUiLCJzdW1tYXJ5IiwidGFiSW5kZXgiLCJ0aXRsZSIsInVzZU1hcCIsIndpZHRoIiwid21vZGUiLCJ3cmFwIiwiYWJvdXQiLCJkYXRhdHlwZSIsImlubGlzdCIsInByZWZpeCIsInByb3BlcnR5IiwicmVzb3VyY2UiLCJ0eXBlb2YiLCJ2b2NhYiIsImF1dG9DYXBpdGFsaXplIiwiYXV0b0NvcnJlY3QiLCJhdXRvU2F2ZSIsImNvbG9yIiwiaXRlbVByb3AiLCJpdGVtU2NvcGUiLCJpdGVtVHlwZSIsIml0ZW1JRCIsIml0ZW1SZWYiLCJyZXN1bHRzIiwic2VjdXJpdHkiLCJ1bnNlbGVjdGFibGUiLCJET01BdHRyaWJ1dGVOYW1lcyIsIkRPTVByb3BlcnR5TmFtZXMiLCJmb2N1c05vZGUiLCJBdXRvRm9jdXNVdGlscyIsImZvY3VzRE9NQ29tcG9uZW50IiwiY2FtZWxpemUiLCJzdHJpbmciLCJyZXBsYWNlIiwiX2h5cGhlblBhdHRlcm4iLCJjaGFyYWN0ZXIiLCJ0b1VwcGVyQ2FzZSIsImNhbWVsaXplU3R5bGVOYW1lIiwibXNQYXR0ZXJuIiwicHJlZml4S2V5Iiwia2V5IiwiY2hhckF0Iiwic3Vic3RyaW5nIiwiaXNVbml0bGVzc051bWJlciIsImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IiwiYm9yZGVySW1hZ2VPdXRzZXQiLCJib3JkZXJJbWFnZVNsaWNlIiwiYm9yZGVySW1hZ2VXaWR0aCIsImJveEZsZXgiLCJib3hGbGV4R3JvdXAiLCJib3hPcmRpbmFsR3JvdXAiLCJjb2x1bW5Db3VudCIsImZsZXgiLCJmbGV4R3JvdyIsImZsZXhQb3NpdGl2ZSIsImZsZXhTaHJpbmsiLCJmbGV4TmVnYXRpdmUiLCJmbGV4T3JkZXIiLCJncmlkUm93IiwiZ3JpZENvbHVtbiIsImZvbnRXZWlnaHQiLCJsaW5lQ2xhbXAiLCJsaW5lSGVpZ2h0Iiwib3BhY2l0eSIsIm9yZGVyIiwib3JwaGFucyIsInRhYlNpemUiLCJ3aWRvd3MiLCJ6SW5kZXgiLCJ6b29tIiwiZmlsbE9wYWNpdHkiLCJmbG9vZE9wYWNpdHkiLCJzdG9wT3BhY2l0eSIsInN0cm9rZURhc2hhcnJheSIsInN0cm9rZURhc2hvZmZzZXQiLCJzdHJva2VNaXRlcmxpbWl0Iiwic3Ryb2tlT3BhY2l0eSIsInN0cm9rZVdpZHRoIiwicHJlZml4ZXMiLCJrZXlzIiwiZm9yRWFjaCIsInByb3AiLCJzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnMiLCJiYWNrZ3JvdW5kIiwiYmFja2dyb3VuZEF0dGFjaG1lbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kUG9zaXRpb25YIiwiYmFja2dyb3VuZFBvc2l0aW9uWSIsImJhY2tncm91bmRSZXBlYXQiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJib3JkZXIiLCJib3JkZXJXaWR0aCIsImJvcmRlclN0eWxlIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJCb3R0b20iLCJib3JkZXJCb3R0b21XaWR0aCIsImJvcmRlckJvdHRvbVN0eWxlIiwiYm9yZGVyQm90dG9tQ29sb3IiLCJib3JkZXJMZWZ0IiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyTGVmdFN0eWxlIiwiYm9yZGVyTGVmdENvbG9yIiwiYm9yZGVyUmlnaHQiLCJib3JkZXJSaWdodFdpZHRoIiwiYm9yZGVyUmlnaHRTdHlsZSIsImJvcmRlclJpZ2h0Q29sb3IiLCJib3JkZXJUb3AiLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlclRvcFN0eWxlIiwiYm9yZGVyVG9wQ29sb3IiLCJmb250IiwiZm9udFN0eWxlIiwiZm9udFZhcmlhbnQiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJvdXRsaW5lIiwib3V0bGluZVdpZHRoIiwib3V0bGluZVN0eWxlIiwib3V0bGluZUNvbG9yIiwiQ1NTUHJvcGVydHkiLCJkYW5nZXJvdXNTdHlsZVZhbHVlIiwiY29tcG9uZW50IiwiaXNFbXB0eSIsImlzTm9uTnVtZXJpYyIsImlzTmFOIiwidHJpbSIsImh5cGhlbmF0ZSIsIl91cHBlcmNhc2VQYXR0ZXJuIiwiaHlwaGVuYXRlU3R5bGVOYW1lIiwibWVtb2l6ZVN0cmluZ09ubHkiLCJjYWxsYmFjayIsImNhY2hlIiwicHJvY2Vzc1N0eWxlTmFtZSIsInN0eWxlTmFtZSIsImhhc1Nob3J0aGFuZFByb3BlcnR5QnVnIiwic3R5bGVGbG9hdEFjY2Vzc29yIiwidGVtcFN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImRvY3VtZW50RWxlbWVudCIsImNzc0Zsb2F0IiwiQ1NTUHJvcGVydHlPcGVyYXRpb25zIiwiY3JlYXRlTWFya3VwRm9yU3R5bGVzIiwic3R5bGVzIiwic2VyaWFsaXplZCIsInN0eWxlVmFsdWUiLCJzZXRWYWx1ZUZvclN0eWxlcyIsIm5vZGUiLCJleHBhbnNpb24iLCJpbmRpdmlkdWFsU3R5bGVOYW1lIiwiRE9NQ2hpbGRyZW5PcGVyYXRpb25zIiwiUmVhY3RET01JRE9wZXJhdGlvbnMiLCJkYW5nZXJvdXNseVByb2Nlc3NDaGlsZHJlblVwZGF0ZXMiLCJwYXJlbnRJbnN0IiwidXBkYXRlcyIsInByb2Nlc3NVcGRhdGVzIiwiUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQiLCJwcm9jZXNzQ2hpbGRyZW5VcGRhdGVzIiwicmVwbGFjZU5vZGVXaXRoTWFya3VwIiwiZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAiLCJ1bm1vdW50SURGcm9tRW52aXJvbm1lbnQiLCJyb290Tm9kZUlEIiwiRGlzYWJsZWRJbnB1dFV0aWxzIiwiUmVhY3RET01CdXR0b24iLCJnZXROYXRpdmVQcm9wcyIsImZvcmNlVXBkYXRlSWZNb3VudGVkIiwiX3Jvb3ROb2RlSUQiLCJSZWFjdERPTUlucHV0IiwidXBkYXRlV3JhcHBlciIsIl9oYW5kbGVDaGFuZ2UiLCJwcm9wcyIsIl9jdXJyZW50RWxlbWVudCIsInJldHVyblZhbHVlIiwiTGlua2VkVmFsdWVVdGlscyIsImV4ZWN1dGVPbkNoYW5nZSIsImFzYXAiLCJyb290Tm9kZSIsInF1ZXJ5Um9vdCIsInBhcmVudE5vZGUiLCJncm91cCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJKU09OIiwic3RyaW5naWZ5Iiwib3RoZXJOb2RlIiwib3RoZXJJbnN0YW5jZSIsImdldEluc3RhbmNlRnJvbU5vZGUiLCJpbnZhcmlhbnQiLCJET01Qcm9wZXJ0eU9wZXJhdGlvbnMiLCJnZXRWYWx1ZSIsImdldENoZWNrZWQiLCJuYXRpdmVQcm9wcyIsImRlZmF1bHRDaGVja2VkIiwiZGVmYXVsdFZhbHVlIiwiX3dyYXBwZXJTdGF0ZSIsImluaXRpYWxWYWx1ZSIsImluaXRpYWxDaGVja2VkIiwibW91bnRXcmFwcGVyIiwibGlzdGVuZXJzIiwic2V0VmFsdWVGb3JQcm9wZXJ0eSIsIlJlYWN0Q2hpbGRyZW4iLCJSZWFjdERPTVNlbGVjdCIsIlJlYWN0RE9NT3B0aW9uIiwibmF0aXZlUGFyZW50Iiwic2VsZWN0VmFsdWUiLCJzZWxlY3RQYXJlbnQiLCJfdGFnIiwiX25hdGl2ZVBhcmVudCIsImdldFNlbGVjdFZhbHVlQ29udGV4dCIsImlzQXJyYXkiLCJwb3N0TW91bnRXcmFwcGVyIiwic2V0QXR0cmlidXRlIiwiY2hpbGRyZW4iLCJjaGlsZCIsInVwZGF0ZU9wdGlvbnNJZlBlbmRpbmdVcGRhdGVBbmRNb3VudGVkIiwicGVuZGluZ1VwZGF0ZSIsInVwZGF0ZU9wdGlvbnMiLCJCb29sZWFuIiwicHJvcFZhbHVlIiwic2VsZWN0ZWRWYWx1ZSIsIm9wdGlvbnMiLCJkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUiLCJ3YXNNdWx0aXBsZSIsInBvc3RVcGRhdGVXcmFwcGVyIiwiZGlzYWJsZWFibGVNb3VzZUxpc3RlbmVyTmFtZXMiLCJvbkNsaWNrIiwib25Eb3VibGVDbGljayIsIm9uTW91c2VEb3duIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJvbkNsaWNrQ2FwdHVyZSIsIm9uRG91YmxlQ2xpY2tDYXB0dXJlIiwib25Nb3VzZURvd25DYXB0dXJlIiwib25Nb3VzZU1vdmVDYXB0dXJlIiwib25Nb3VzZVVwQ2FwdHVyZSIsIndhcm5Vbmtub3duUHJvcGVydHkiLCJSZWFjdERPTVVua25vd25Qcm9wZXJ0eURldnRvb2wiLCJvbkNyZWF0ZU1hcmt1cEZvclByb3BlcnR5Iiwib25TZXRWYWx1ZUZvclByb3BlcnR5Iiwib25EZWxldGVWYWx1ZUZvclByb3BlcnR5IiwiZW1pdEV2ZW50IiwiaGFuZGxlckZ1bmN0aW9uTmFtZSIsImFyZzEiLCJhcmcyIiwiYXJnMyIsImFyZzQiLCJhcmc1IiwiZXZlbnRIYW5kbGVycyIsIlJlYWN0RE9NRGVidWdUb29sIiwiYWRkRGV2dG9vbCIsImRldnRvb2wiLCJyZW1vdmVEZXZ0b29sIiwiZGVidWdUb29sIiwicXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXIiLCJlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIiLCJpc0F0dHJpYnV0ZU5hbWVTYWZlIiwiYXR0cmlidXRlTmFtZSIsInZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZSIsImlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUiLCJWQUxJRF9BVFRSSUJVVEVfTkFNRV9SRUdFWCIsInNob3VsZElnbm9yZVZhbHVlIiwicHJvcGVydHlJbmZvIiwiaGFzQm9vbGVhblZhbHVlIiwiaGFzTnVtZXJpY1ZhbHVlIiwiaGFzUG9zaXRpdmVOdW1lcmljVmFsdWUiLCJoYXNPdmVybG9hZGVkQm9vbGVhblZhbHVlIiwiQVRUUklCVVRFX05BTUVfU1RBUlRfQ0hBUiIsImNyZWF0ZU1hcmt1cEZvcklEIiwiSURfQVRUUklCVVRFX05BTUUiLCJzZXRBdHRyaWJ1dGVGb3JJRCIsImNyZWF0ZU1hcmt1cEZvclJvb3QiLCJST09UX0FUVFJJQlVURV9OQU1FIiwic2V0QXR0cmlidXRlRm9yUm9vdCIsImNyZWF0ZU1hcmt1cEZvclByb3BlcnR5IiwicHJvcGVydGllcyIsImNyZWF0ZU1hcmt1cEZvckN1c3RvbUF0dHJpYnV0ZSIsIm11dGF0aW9uTWV0aG9kIiwiZGVsZXRlVmFsdWVGb3JQcm9wZXJ0eSIsIm11c3RVc2VQcm9wZXJ0eSIsInByb3BOYW1lIiwiaGFzU2lkZUVmZmVjdHMiLCJuYW1lc3BhY2UiLCJhdHRyaWJ1dGVOYW1lc3BhY2UiLCJzZXRBdHRyaWJ1dGVOUyIsInNldFZhbHVlRm9yQXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiX2Fzc2VydFNpbmdsZUxpbmsiLCJpbnB1dFByb3BzIiwiY2hlY2tlZExpbmsiLCJ2YWx1ZUxpbmsiLCJfYXNzZXJ0VmFsdWVMaW5rIiwiX2Fzc2VydENoZWNrZWRMaW5rIiwiZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtIiwib3duZXIiLCJnZXROYW1lIiwiUmVhY3RQcm9wVHlwZXMiLCJSZWFjdFByb3BUeXBlTG9jYXRpb25zIiwiaGFzUmVhZE9ubHlWYWx1ZSIsImJ1dHRvbiIsImNoZWNrYm94IiwiaW1hZ2UiLCJyYWRpbyIsInJlc2V0Iiwic3VibWl0IiwicHJvcFR5cGVzIiwiY29tcG9uZW50TmFtZSIsImZ1bmMiLCJsb2dnZWRUeXBlRmFpbHVyZXMiLCJjaGVja1Byb3BUeXBlcyIsInRhZ05hbWUiLCJlcnJvciIsIm1lc3NhZ2UiLCJyZXF1ZXN0Q2hhbmdlIiwiUmVhY3RET01UZXh0YXJlYSIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiaW5zdGFudGlhdGVDaGlsZCIsImNoaWxkSW5zdGFuY2VzIiwia2V5VW5pcXVlIiwiaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCIsIlJlYWN0UmVjb25jaWxlciIsInNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50IiwidHJhdmVyc2VBbGxDaGlsZHJlbiIsIlJlYWN0Q2hpbGRSZWNvbmNpbGVyIiwiaW5zdGFudGlhdGVDaGlsZHJlbiIsIm5lc3RlZENoaWxkTm9kZXMiLCJ0cmFuc2FjdGlvbiIsImNvbnRleHQiLCJ1cGRhdGVDaGlsZHJlbiIsInByZXZDaGlsZHJlbiIsIm5leHRDaGlsZHJlbiIsInJlbW92ZWROb2RlcyIsInByZXZDaGlsZCIsInByZXZFbGVtZW50IiwibmV4dEVsZW1lbnQiLCJyZWNlaXZlQ29tcG9uZW50IiwiZ2V0TmF0aXZlTm9kZSIsInVubW91bnRDb21wb25lbnQiLCJuZXh0Q2hpbGRJbnN0YW5jZSIsInVubW91bnRDaGlsZHJlbiIsInJlbmRlcmVkQ2hpbGRyZW4iLCJzYWZlbHkiLCJyZW5kZXJlZENoaWxkIiwiZmxhdHRlblNpbmdsZUNoaWxkSW50b0NvbnRleHQiLCJ0cmF2ZXJzZUNvbnRleHQiLCJyZXN1bHQiLCJmbGF0dGVuQ2hpbGRyZW4iLCJtYWtlSW5zZXJ0TWFya3VwIiwibWFya3VwIiwiYWZ0ZXJOb2RlIiwidG9JbmRleCIsIlJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzIiwiSU5TRVJUX01BUktVUCIsImZyb21JbmRleCIsIm1ha2VNb3ZlIiwiTU9WRV9FWElTVElORyIsIl9tb3VudEluZGV4IiwibWFrZVJlbW92ZSIsIlJFTU9WRV9OT0RFIiwibWFrZVNldE1hcmt1cCIsIlNFVF9NQVJLVVAiLCJtYWtlVGV4dENvbnRlbnQiLCJ0ZXh0Q29udGVudCIsIlRFWFRfQ09OVEVOVCIsImVucXVldWUiLCJxdWV1ZSIsInVwZGF0ZSIsInByb2Nlc3NRdWV1ZSIsInVwZGF0ZVF1ZXVlIiwiUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudCIsIlJlYWN0TXVsdGlDaGlsZCIsIk1peGluIiwiX3JlY29uY2lsZXJJbnN0YW50aWF0ZUNoaWxkcmVuIiwibmVzdGVkQ2hpbGRyZW4iLCJfcmVjb25jaWxlclVwZGF0ZUNoaWxkcmVuIiwibmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMiLCJtb3VudENoaWxkcmVuIiwiX3JlbmRlcmVkQ2hpbGRyZW4iLCJtb3VudEltYWdlcyIsImluZGV4IiwibW91bnRJbWFnZSIsIm1vdW50Q29tcG9uZW50IiwiX25hdGl2ZUNvbnRhaW5lckluZm8iLCJ1cGRhdGVUZXh0Q29udGVudCIsIm5leHRDb250ZW50IiwidXBkYXRlTWFya3VwIiwibmV4dE1hcmt1cCIsIl91cGRhdGVDaGlsZHJlbiIsImxhc3RJbmRleCIsIm5leHRJbmRleCIsImxhc3RQbGFjZWROb2RlIiwibmV4dENoaWxkIiwibW92ZUNoaWxkIiwiTWF0aCIsIl9tb3VudENoaWxkQXRJbmRleCIsIl91bm1vdW50Q2hpbGQiLCJjcmVhdGVDaGlsZCIsInJlbW92ZUNoaWxkIiwiUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbiIsInJlbmRlclRvU3RhdGljTWFya3VwIiwicmVpbml0aWFsaXplVHJhbnNhY3Rpb24iLCJ1c2VDcmVhdGVFbGVtZW50IiwiVHJhbnNhY3Rpb24iLCJUUkFOU0FDVElPTl9XUkFQUEVSUyIsIm5vb3BDYWxsYmFja1F1ZXVlIiwiZ2V0VHJhbnNhY3Rpb25XcmFwcGVycyIsImdldFJlYWN0TW91bnRSZWFkeSIsImNoZWNrcG9pbnQiLCJyb2xsYmFjayIsImFzc2VydFZhbGlkUHJvcHMiLCJ2b2lkRWxlbWVudFRhZ3MiLCJIVE1MIiwiZW5xdWV1ZVB1dExpc3RlbmVyIiwibGlzdGVuZXIiLCJjb250YWluZXJJbmZvIiwiaXNEb2N1bWVudEZyYWdtZW50IiwiX25vZGUiLCJub2RlVHlwZSIsIkRPQ19GUkFHTUVOVF9UWVBFIiwiX293bmVyRG9jdW1lbnQiLCJsaXN0ZW5UbyIsInB1dExpc3RlbmVyIiwibGlzdGVuZXJUb1B1dCIsIm9wdGlvblBvc3RNb3VudCIsInRyYXBCdWJibGVkRXZlbnRzTG9jYWwiLCJnZXROb2RlIiwiUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyIiwidHJhcEJ1YmJsZWRFdmVudCIsInRvcExvYWQiLCJtZWRpYUV2ZW50cyIsInRvcEVycm9yIiwidG9wUmVzZXQiLCJ0b3BTdWJtaXQiLCJ0b3BJbnZhbGlkIiwicG9zdFVwZGF0ZVNlbGVjdFdyYXBwZXIiLCJ2YWxpZGF0ZURhbmdlcm91c1RhZyIsInRhZyIsInZhbGlkYXRlZFRhZ0NhY2hlIiwiVkFMSURfVEFHX1JFR0VYIiwiaXNDdXN0b21Db21wb25lbnQiLCJSZWFjdERPTUNvbXBvbmVudCIsImVsZW1lbnQiLCJfbmFtZXNwYWNlVVJJIiwiX3ByZXZpb3VzU3R5bGUiLCJfcHJldmlvdXNTdHlsZUNvcHkiLCJfbmF0aXZlTm9kZSIsIl9kb21JRCIsIl90b3BMZXZlbFdyYXBwZXIiLCJfZmxhZ3MiLCJET01MYXp5VHJlZSIsIkRPTU5hbWVzcGFjZXMiLCJFdmVudFBsdWdpblJlZ2lzdHJ5IiwiUmVhY3RET01Db21wb25lbnRGbGFncyIsIkZsYWdzIiwiZGVsZXRlTGlzdGVuZXIiLCJyZWdpc3RyYXRpb25OYW1lTW9kdWxlcyIsIkNPTlRFTlRfVFlQRVMiLCJudW1iZXIiLCJTVFlMRSIsIl9faHRtbCIsIlJFU0VSVkVEX1BST1BTIiwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIiwidG9wQWJvcnQiLCJ0b3BDYW5QbGF5IiwidG9wQ2FuUGxheVRocm91Z2giLCJ0b3BEdXJhdGlvbkNoYW5nZSIsInRvcEVtcHRpZWQiLCJ0b3BFbmNyeXB0ZWQiLCJ0b3BFbmRlZCIsInRvcExvYWRlZERhdGEiLCJ0b3BMb2FkZWRNZXRhZGF0YSIsInRvcExvYWRTdGFydCIsInRvcFBhdXNlIiwidG9wUGxheSIsInRvcFBsYXlpbmciLCJ0b3BQcm9ncmVzcyIsInRvcFJhdGVDaGFuZ2UiLCJ0b3BTZWVrZWQiLCJ0b3BTZWVraW5nIiwidG9wU3RhbGxlZCIsInRvcFN1c3BlbmQiLCJ0b3BUaW1lVXBkYXRlIiwidG9wVm9sdW1lQ2hhbmdlIiwidG9wV2FpdGluZyIsIm9taXR0ZWRDbG9zZVRhZ3MiLCJhcmVhIiwiYmFzZSIsImJyIiwiY29sIiwiZW1iZWQiLCJociIsImltZyIsImlucHV0Iiwia2V5Z2VuIiwibGluayIsIm1ldGEiLCJwYXJhbSIsInNvdXJjZSIsInRyYWNrIiwid2JyIiwibmV3bGluZUVhdGluZ1RhZ3MiLCJsaXN0aW5nIiwicHJlIiwidGV4dGFyZWEiLCJtZW51aXRlbSIsImdsb2JhbElkQ291bnRlciIsImRpc3BsYXlOYW1lIiwibmF0aXZlQ29udGFpbmVySW5mbyIsIl9pZENvdW50ZXIiLCJuYW1lc3BhY2VVUkkiLCJwYXJlbnRUYWciLCJzdmciLCJodG1sIiwibWF0aG1sIiwiZWwiLCJkaXYiLCJpbm5lckhUTUwiLCJmaXJzdENoaWxkIiwiY3JlYXRlRWxlbWVudE5TIiwicHJlY2FjaGVOb2RlIiwiaGFzQ2FjaGVkQ2hpbGROb2RlcyIsIl91cGRhdGVET01Qcm9wZXJ0aWVzIiwibGF6eVRyZWUiLCJfY3JlYXRlSW5pdGlhbENoaWxkcmVuIiwidGFnT3BlbiIsIl9jcmVhdGVPcGVuVGFnTWFya3VwQW5kUHV0TGlzdGVuZXJzIiwidGFnQ29udGVudCIsIl9jcmVhdGVDb250ZW50TWFya3VwIiwiYXV0b0ZvY3VzIiwicmV0IiwicHJvcEtleSIsImNvbnRlbnRUb1VzZSIsImNoaWxkcmVuVG9Vc2UiLCJqb2luIiwicXVldWVIVE1MIiwicXVldWVUZXh0IiwicXVldWVDaGlsZCIsInVwZGF0ZUNvbXBvbmVudCIsImxhc3RQcm9wcyIsIm5leHRQcm9wcyIsIl91cGRhdGVET01DaGlsZHJlbiIsInN0eWxlVXBkYXRlcyIsImxhc3RTdHlsZSIsIm5leHRQcm9wIiwibGFzdFByb3AiLCJsYXN0Q29udGVudCIsImxhc3RIdG1sIiwibmV4dEh0bWwiLCJsYXN0Q2hpbGRyZW4iLCJsYXN0SGFzQ29udGVudE9ySHRtbCIsIm5leHRIYXNDb250ZW50T3JIdG1sIiwicmVtb3ZlIiwidW5jYWNoZU5vZGUiLCJkZWxldGVBbGxMaXN0ZW5lcnMiLCJnZXRQdWJsaWNJbnN0YW5jZSIsIlJlYWN0RE9NRW1wdHlDb21wb25lbnQiLCJpbnN0YW50aWF0ZSIsImRvbUlEIiwibm9kZVZhbHVlIiwiY3JlYXRlQ29tbWVudCIsImdldExvd2VzdENvbW1vbkFuY2VzdG9yIiwiaW5zdEEiLCJpbnN0QiIsImRlcHRoQSIsInRlbXBBIiwiZGVwdGhCIiwidGVtcEIiLCJkZXB0aCIsImlzQW5jZXN0b3IiLCJnZXRQYXJlbnRJbnN0YW5jZSIsInRyYXZlcnNlVHdvUGhhc2UiLCJmbiIsImFyZyIsInBhdGgiLCJ0cmF2ZXJzZUVudGVyTGVhdmUiLCJhcmdGcm9tIiwiYXJnVG8iLCJjb21tb24iLCJwYXRoRnJvbSIsInBhdGhUbyIsInRvQXJyYXkiLCJvYmoiLCJjYWxsZWUiLCJpaSIsImhhc0FycmF5TmF0dXJlIiwiY3JlYXRlQXJyYXlGcm9tTWl4ZWQiLCJnZXROb2RlTmFtZSIsIm5vZGVOYW1lTWF0Y2giLCJtYXRjaCIsIm5vZGVOYW1lUGF0dGVybiIsImNyZWF0ZU5vZGVzRnJvbU1hcmt1cCIsImhhbmRsZVNjcmlwdCIsImR1bW15Tm9kZSIsImdldE1hcmt1cFdyYXAiLCJ3cmFwRGVwdGgiLCJsYXN0Q2hpbGQiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJub2RlcyIsImNoaWxkTm9kZXMiLCJtYXJrdXBXcmFwIiwic2hvdWxkV3JhcCIsInNlbGVjdFdyYXAiLCJ0YWJsZVdyYXAiLCJ0cldyYXAiLCJzdmdXcmFwIiwiKiIsImxlZ2VuZCIsInRyIiwib3B0Z3JvdXAiLCJvcHRpb24iLCJjYXB0aW9uIiwiY29sZ3JvdXAiLCJ0Ym9keSIsInRmb290IiwidGhlYWQiLCJ0ZCIsInRoIiwic3ZnRWxlbWVudHMiLCJlbXB0eUZ1bmN0aW9uIiwiT1BFTl9UQUdfTkFNRV9FWFAiLCJSRVNVTFRfSU5ERVhfQVRUUiIsIkRhbmdlciIsImRhbmdlcm91c2x5UmVuZGVyTWFya3VwIiwibWFya3VwTGlzdCIsIm1hcmt1cEJ5Tm9kZU5hbWUiLCJyZXN1bHRMaXN0IiwicmVzdWx0TGlzdEFzc2lnbm1lbnRDb3VudCIsInJlc3VsdEluZGV4IiwibWFya3VwTGlzdEJ5Tm9kZU5hbWUiLCJyZW5kZXJOb2RlcyIsImoiLCJyZW5kZXJOb2RlIiwiaGFzQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwib2xkQ2hpbGQiLCJuZXdDaGlsZCIsInJlcGxhY2VDaGlsZCIsInJlcGxhY2VDaGlsZFdpdGhUcmVlIiwia2V5TWlycm9yIiwiZ2V0Tm9kZUFmdGVyIiwibmV4dFNpYmxpbmciLCJpbnNlcnRMYXp5VHJlZUNoaWxkQXQiLCJjaGlsZFRyZWUiLCJyZWZlcmVuY2VOb2RlIiwiaW5zZXJ0VHJlZUJlZm9yZSIsImNoaWxkTm9kZSIsIm1vdmVEZWxpbWl0ZWRUZXh0IiwiaW5zZXJ0Q2hpbGRBdCIsImNsb3NpbmdDb21tZW50IiwicmVtb3ZlRGVsaW1pdGVkVGV4dCIsIm9wZW5pbmdDb21tZW50IiwibmV4dE5vZGUiLCJzdGFydE5vZGUiLCJyZXBsYWNlRGVsaW1pdGVkVGV4dCIsInN0cmluZ1RleHQiLCJub2RlQWZ0ZXJDb21tZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJzZXRUZXh0Q29udGVudCIsImNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24iLCJzZXRJbm5lckhUTUwiLCJpbnNlcnRCZWZvcmUiLCJrIiwiUmVhY3RET01UZXh0Q29tcG9uZW50IiwidGV4dCIsIl9zdHJpbmdUZXh0IiwiX2Nsb3NpbmdDb21tZW50IiwiX2NvbW1lbnROb2RlcyIsIm9wZW5pbmdWYWx1ZSIsImNsb3NpbmdWYWx1ZSIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJlc2NhcGVkVGV4dCIsIm5leHRUZXh0IiwibmV4dFN0cmluZ1RleHQiLCJjb21tZW50Tm9kZXMiLCJuYXRpdmVOb2RlIiwiUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneVRyYW5zYWN0aW9uIiwiUkVTRVRfQkFUQ0hFRF9VUERBVEVTIiwiaW5pdGlhbGl6ZSIsImNsb3NlIiwiUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneSIsImlzQmF0Y2hpbmdVcGRhdGVzIiwiRkxVU0hfQkFUQ0hFRF9VUERBVEVTIiwiZmx1c2hCYXRjaGVkVXBkYXRlcyIsImIiLCJhbHJlYWR5QmF0Y2hpbmdVcGRhdGVzIiwicGVyZm9ybSIsImdldFVuYm91bmRlZFNjcm9sbFBvc2l0aW9uIiwic2Nyb2xsYWJsZSIsInBhZ2VYT2Zmc2V0Iiwic2Nyb2xsTGVmdCIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwiZmluZFBhcmVudCIsImNvbnRhaW5lciIsIlRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZyIsImFuY2VzdG9ycyIsImhhbmRsZVRvcExldmVsSW1wbCIsImJvb2tLZWVwaW5nIiwiYW5jZXN0b3IiLCJSZWFjdEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlVG9wTGV2ZWwiLCJzY3JvbGxWYWx1ZU1vbml0b3IiLCJjYiIsInNjcm9sbFBvc2l0aW9uIiwiRXZlbnRMaXN0ZW5lciIsInR3b0FyZ3VtZW50UG9vbGVyIiwiX2VuYWJsZWQiLCJXSU5ET1dfSEFORExFIiwic2V0SGFuZGxlVG9wTGV2ZWwiLCJoYW5kbGVUb3BMZXZlbCIsInNldEVuYWJsZWQiLCJlbmFibGVkIiwiaXNFbmFibGVkIiwiaGFuZGxlckJhc2VOYW1lIiwiaGFuZGxlIiwibGlzdGVuIiwiZGlzcGF0Y2hFdmVudCIsInRyYXBDYXB0dXJlZEV2ZW50IiwibW9uaXRvclNjcm9sbFZhbHVlIiwicmVmcmVzaCIsIkV2ZW50UGx1Z2luVXRpbHMiLCJSZWFjdENsYXNzIiwiUmVhY3RFbXB0eUNvbXBvbmVudCIsIlJlYWN0TmF0aXZlQ29tcG9uZW50IiwiUmVhY3RJbmplY3Rpb24iLCJDb21wb25lbnQiLCJDbGFzcyIsIkVtcHR5Q29tcG9uZW50IiwiRXZlbnRFbWl0dGVyIiwiTmF0aXZlQ29tcG9uZW50IiwiVXBkYXRlcyIsIlJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24iLCJyZWFjdE1vdW50UmVhZHkiLCJDYWxsYmFja1F1ZXVlIiwiUmVhY3RJbnB1dFNlbGVjdGlvbiIsIlNFTEVDVElPTl9SRVNUT1JBVElPTiIsImdldFNlbGVjdGlvbkluZm9ybWF0aW9uIiwicmVzdG9yZVNlbGVjdGlvbiIsIkVWRU5UX1NVUFBSRVNTSU9OIiwiY3VycmVudGx5RW5hYmxlZCIsInByZXZpb3VzbHlFbmFibGVkIiwiT05fRE9NX1JFQURZX1FVRVVFSU5HIiwibm90aWZ5QWxsIiwiTlMiLCJ4bGluayIsInhtbCIsIkFUVFJTIiwiYWNjZW50SGVpZ2h0IiwiYWNjdW11bGF0ZSIsImFkZGl0aXZlIiwiYWxpZ25tZW50QmFzZWxpbmUiLCJhbGxvd1Jlb3JkZXIiLCJhbHBoYWJldGljIiwiYW1wbGl0dWRlIiwiYXJhYmljRm9ybSIsImFzY2VudCIsImF0dHJpYnV0ZVR5cGUiLCJhdXRvUmV2ZXJzZSIsImF6aW11dGgiLCJiYXNlRnJlcXVlbmN5IiwiYmFzZVByb2ZpbGUiLCJiYXNlbGluZVNoaWZ0IiwiYmJveCIsImJlZ2luIiwiYmlhcyIsImJ5IiwiY2FsY01vZGUiLCJjYXBIZWlnaHQiLCJjbGlwIiwiY2xpcFBhdGgiLCJjbGlwUnVsZSIsImNsaXBQYXRoVW5pdHMiLCJjb2xvckludGVycG9sYXRpb24iLCJjb2xvckludGVycG9sYXRpb25GaWx0ZXJzIiwiY29sb3JQcm9maWxlIiwiY29sb3JSZW5kZXJpbmciLCJjb250ZW50U2NyaXB0VHlwZSIsImNvbnRlbnRTdHlsZVR5cGUiLCJjdXJzb3IiLCJjeCIsImN5IiwiZGVjZWxlcmF0ZSIsImRlc2NlbnQiLCJkaWZmdXNlQ29uc3RhbnQiLCJkaXJlY3Rpb24iLCJkaXNwbGF5IiwiZGl2aXNvciIsImRvbWluYW50QmFzZWxpbmUiLCJkdXIiLCJkeCIsImR5IiwiZWRnZU1vZGUiLCJlbGV2YXRpb24iLCJlbmFibGVCYWNrZ3JvdW5kIiwiZXhwb25lbnQiLCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkIiwiZmlsbCIsImZpbGxSdWxlIiwiZmlsdGVyIiwiZmlsdGVyUmVzIiwiZmlsdGVyVW5pdHMiLCJmbG9vZENvbG9yIiwiZm9jdXNhYmxlIiwiZm9udFNpemVBZGp1c3QiLCJmb250U3RyZXRjaCIsImZvcm1hdCIsImZ4IiwiZnkiLCJnMSIsImcyIiwiZ2x5cGhOYW1lIiwiZ2x5cGhPcmllbnRhdGlvbkhvcml6b250YWwiLCJnbHlwaE9yaWVudGF0aW9uVmVydGljYWwiLCJnbHlwaFJlZiIsImdyYWRpZW50VHJhbnNmb3JtIiwiZ3JhZGllbnRVbml0cyIsImhhbmdpbmciLCJob3JpekFkdlgiLCJob3Jpek9yaWdpblgiLCJpZGVvZ3JhcGhpYyIsImltYWdlUmVuZGVyaW5nIiwiaW4iLCJpbjIiLCJpbnRlcmNlcHQiLCJrMSIsImsyIiwiazMiLCJrNCIsImtlcm5lbE1hdHJpeCIsImtlcm5lbFVuaXRMZW5ndGgiLCJrZXJuaW5nIiwia2V5UG9pbnRzIiwia2V5U3BsaW5lcyIsImtleVRpbWVzIiwibGVuZ3RoQWRqdXN0IiwibGV0dGVyU3BhY2luZyIsImxpZ2h0aW5nQ29sb3IiLCJsaW1pdGluZ0NvbmVBbmdsZSIsImxvY2FsIiwibWFya2VyRW5kIiwibWFya2VyTWlkIiwibWFya2VyU3RhcnQiLCJtYXJrZXJIZWlnaHQiLCJtYXJrZXJVbml0cyIsIm1hcmtlcldpZHRoIiwibWFzayIsIm1hc2tDb250ZW50VW5pdHMiLCJtYXNrVW5pdHMiLCJtYXRoZW1hdGljYWwiLCJtb2RlIiwibnVtT2N0YXZlcyIsIm9mZnNldCIsIm9wZXJhdG9yIiwib3JpZW50Iiwib3JpZW50YXRpb24iLCJvcmlnaW4iLCJvdmVyZmxvdyIsIm92ZXJsaW5lUG9zaXRpb24iLCJvdmVybGluZVRoaWNrbmVzcyIsInBhaW50T3JkZXIiLCJwYW5vc2UxIiwicGF0aExlbmd0aCIsInBhdHRlcm5Db250ZW50VW5pdHMiLCJwYXR0ZXJuVHJhbnNmb3JtIiwicGF0dGVyblVuaXRzIiwicG9pbnRlckV2ZW50cyIsInBvaW50cyIsInBvaW50c0F0WCIsInBvaW50c0F0WSIsInBvaW50c0F0WiIsInByZXNlcnZlQWxwaGEiLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwicHJpbWl0aXZlVW5pdHMiLCJyYWRpdXMiLCJyZWZYIiwicmVmWSIsInJlbmRlcmluZ0ludGVudCIsInJlcGVhdENvdW50IiwicmVwZWF0RHVyIiwicmVxdWlyZWRFeHRlbnNpb25zIiwicmVxdWlyZWRGZWF0dXJlcyIsInJlc3RhcnQiLCJyb3RhdGUiLCJyeCIsInJ5Iiwic2NhbGUiLCJzZWVkIiwic2hhcGVSZW5kZXJpbmciLCJzbG9wZSIsInNwYWNpbmciLCJzcGVjdWxhckNvbnN0YW50Iiwic3BlY3VsYXJFeHBvbmVudCIsInNwZWVkIiwic3ByZWFkTWV0aG9kIiwic3RhcnRPZmZzZXQiLCJzdGREZXZpYXRpb24iLCJzdGVtaCIsInN0ZW12Iiwic3RpdGNoVGlsZXMiLCJzdG9wQ29sb3IiLCJzdHJpa2V0aHJvdWdoUG9zaXRpb24iLCJzdHJpa2V0aHJvdWdoVGhpY2tuZXNzIiwic3Ryb2tlIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwic3VyZmFjZVNjYWxlIiwic3lzdGVtTGFuZ3VhZ2UiLCJ0YWJsZVZhbHVlcyIsInRhcmdldFgiLCJ0YXJnZXRZIiwidGV4dEFuY2hvciIsInRleHREZWNvcmF0aW9uIiwidGV4dFJlbmRlcmluZyIsInRleHRMZW5ndGgiLCJ0cmFuc2Zvcm0iLCJ1MSIsInUyIiwidW5kZXJsaW5lUG9zaXRpb24iLCJ1bmRlcmxpbmVUaGlja25lc3MiLCJ1bmljb2RlIiwidW5pY29kZUJpZGkiLCJ1bmljb2RlUmFuZ2UiLCJ1bml0c1BlckVtIiwidkFscGhhYmV0aWMiLCJ2SGFuZ2luZyIsInZJZGVvZ3JhcGhpYyIsInZNYXRoZW1hdGljYWwiLCJ2YWx1ZXMiLCJ2ZWN0b3JFZmZlY3QiLCJ2ZXJ0QWR2WSIsInZlcnRPcmlnaW5YIiwidmVydE9yaWdpblkiLCJ2aWV3Qm94Iiwidmlld1RhcmdldCIsInZpc2liaWxpdHkiLCJ3aWR0aHMiLCJ3b3JkU3BhY2luZyIsIndyaXRpbmdNb2RlIiwieEhlaWdodCIsIngxIiwieDIiLCJ4Q2hhbm5lbFNlbGVjdG9yIiwieGxpbmtBY3R1YXRlIiwieGxpbmtBcmNyb2xlIiwieGxpbmtIcmVmIiwieGxpbmtSb2xlIiwieGxpbmtTaG93IiwieGxpbmtUaXRsZSIsInhsaW5rVHlwZSIsInhtbEJhc2UiLCJ4bWxMYW5nIiwieG1sU3BhY2UiLCJ5MSIsInkyIiwieUNoYW5uZWxTZWxlY3RvciIsInoiLCJ6b29tQW5kUGFuIiwiU1ZHRE9NUHJvcGVydHlDb25maWciLCJET01BdHRyaWJ1dGVOYW1lc3BhY2VzIiwiZ2V0TGVhZk5vZGUiLCJnZXRTaWJsaW5nTm9kZSIsImdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQiLCJub2RlU3RhcnQiLCJub2RlRW5kIiwiY29udGVudEtleSIsImlzQ29sbGFwc2VkIiwiYW5jaG9yTm9kZSIsImFuY2hvck9mZnNldCIsImZvY3VzT2Zmc2V0IiwiZ2V0SUVPZmZzZXRzIiwic2VsZWN0aW9uIiwic2VsZWN0ZWRSYW5nZSIsImNyZWF0ZVJhbmdlIiwic2VsZWN0ZWRMZW5ndGgiLCJmcm9tU3RhcnQiLCJkdXBsaWNhdGUiLCJtb3ZlVG9FbGVtZW50VGV4dCIsInNldEVuZFBvaW50IiwiZW5kT2Zmc2V0IiwiZ2V0TW9kZXJuT2Zmc2V0cyIsImdldFNlbGVjdGlvbiIsInJhbmdlQ291bnQiLCJjdXJyZW50UmFuZ2UiLCJnZXRSYW5nZUF0Iiwic3RhcnRDb250YWluZXIiLCJlbmRDb250YWluZXIiLCJpc1NlbGVjdGlvbkNvbGxhcHNlZCIsInJhbmdlTGVuZ3RoIiwidG9TdHJpbmciLCJ0ZW1wUmFuZ2UiLCJjbG9uZVJhbmdlIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwic2V0RW5kIiwiaXNUZW1wUmFuZ2VDb2xsYXBzZWQiLCJkZXRlY3Rpb25SYW5nZSIsInNldFN0YXJ0IiwiaXNCYWNrd2FyZCIsImNvbGxhcHNlZCIsInNldElFT2Zmc2V0cyIsIm9mZnNldHMiLCJyYW5nZSIsIm1vdmVTdGFydCIsIm1vdmVFbmQiLCJzZWxlY3QiLCJzZXRNb2Rlcm5PZmZzZXRzIiwiZXh0ZW5kIiwidGVtcCIsInN0YXJ0TWFya2VyIiwiZW5kTWFya2VyIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJ1c2VJRU9mZnNldHMiLCJSZWFjdERPTVNlbGVjdGlvbiIsImdldE9mZnNldHMiLCJzZXRPZmZzZXRzIiwiaXNOb2RlIiwib2JqZWN0IiwiTm9kZSIsImlzVGV4dE5vZGUiLCJjb250YWluc05vZGUiLCJvdXRlck5vZGUiLCJpbm5lck5vZGUiLCJjb250YWlucyIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiZm9jdXMiLCJpc0luRG9jdW1lbnQiLCJnZXRBY3RpdmVFbGVtZW50IiwiaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzIiwiZm9jdXNlZEVsZW0iLCJzZWxlY3Rpb25SYW5nZSIsInByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24iLCJjdXJGb2N1c2VkRWxlbSIsInByaW9yRm9jdXNlZEVsZW0iLCJwcmlvclNlbGVjdGlvblJhbmdlIiwic2V0U2VsZWN0aW9uIiwic2VsZWN0aW9uU3RhcnQiLCJzZWxlY3Rpb25FbmQiLCJwYXJlbnRFbGVtZW50IiwiY3JlYXRlVGV4dFJhbmdlIiwiY29sbGFwc2UiLCJib2R5Iiwic3VwcG9ydGVkSW5wdXRUeXBlcyIsImRhdGUiLCJkYXRldGltZSIsImRhdGV0aW1lLWxvY2FsIiwiZW1haWwiLCJtb250aCIsInBhc3N3b3JkIiwic2VhcmNoIiwidGVsIiwidGltZSIsInVybCIsIndlZWsiLCJzaGFsbG93RXF1YWwiLCJvYmpBIiwib2JqQiIsImtleXNBIiwia2V5c0IiLCJ0b3AiLCJib3VuZGluZ1RvcCIsImxlZnQiLCJib3VuZGluZ0xlZnQiLCJjb25zdHJ1Y3RTZWxlY3RFdmVudCIsIm1vdXNlRG93biIsImN1cnJlbnRTZWxlY3Rpb24iLCJsYXN0U2VsZWN0aW9uIiwic3ludGhldGljRXZlbnQiLCJza2lwU2VsZWN0aW9uQ2hhbmdlRXZlbnQiLCJvblNlbGVjdCIsIm9uU2VsZWN0Q2FwdHVyZSIsInRvcENvbnRleHRNZW51IiwidG9wTW91c2VVcCIsImhhc0xpc3RlbmVyIiwiT05fU0VMRUNUX0tFWSIsImRpZFB1dExpc3RlbmVyIiwicmVnaXN0ZXJEZWZhdWx0IiwibGlzdGVuZXJBdFBoYXNlIiwicHJvcGFnYXRpb25QaGFzZSIsImdldExpc3RlbmVyIiwiYWNjdW11bGF0ZURpcmVjdGlvbmFsRGlzcGF0Y2hlcyIsInVwd2FyZHMiLCJwaGFzZSIsIlByb3BhZ2F0aW9uUGhhc2VzIiwiX2Rpc3BhdGNoTGlzdGVuZXJzIiwiYWNjdW11bGF0ZUludG8iLCJfZGlzcGF0Y2hJbnN0YW5jZXMiLCJhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlIiwiX3RhcmdldEluc3QiLCJhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlU2tpcFRhcmdldCIsImFjY3VtdWxhdGVEaXNwYXRjaGVzIiwiaWdub3JlZERpcmVjdGlvbiIsImFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlIiwiZXZlbnRzIiwiZm9yRWFjaEFjY3VtdWxhdGVkIiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQiLCJhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyIsIlN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50IiwiQW5pbWF0aW9uRXZlbnRJbnRlcmZhY2UiLCJhbmltYXRpb25OYW1lIiwiZWxhcHNlZFRpbWUiLCJwc2V1ZG9FbGVtZW50IiwiU3ludGhldGljQ2xpcGJvYXJkRXZlbnQiLCJDbGlwYm9hcmRFdmVudEludGVyZmFjZSIsImNsaXBib2FyZERhdGEiLCJTeW50aGV0aWNGb2N1c0V2ZW50IiwiU3ludGhldGljVUlFdmVudCIsIkZvY3VzRXZlbnRJbnRlcmZhY2UiLCJnZXRFdmVudEtleSIsIm5vcm1hbGl6ZUtleSIsImNoYXJDb2RlIiwiZ2V0RXZlbnRDaGFyQ29kZSIsInRyYW5zbGF0ZVRvS2V5IiwiRXNjIiwiU3BhY2ViYXIiLCJMZWZ0IiwiVXAiLCJSaWdodCIsIkRvd24iLCJEZWwiLCJXaW4iLCJNZW51IiwiQXBwcyIsIlNjcm9sbCIsIk1velByaW50YWJsZUtleSIsOCw5LDEyLDEzLDE2LDE3LDE4LDE5LDIwLDI3LDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQ1LDQ2LDExMiwxMTMsMTE0LDExNSwxMTYsMTE3LDExOCwxMTksMTIwLDEyMSwxMjIsMTIzLDE0NCwxNDUsMjI0LCJTeW50aGV0aWNLZXlib2FyZEV2ZW50IiwiZ2V0RXZlbnRNb2RpZmllclN0YXRlIiwiS2V5Ym9hcmRFdmVudEludGVyZmFjZSIsImxvY2F0aW9uIiwic2hpZnRLZXkiLCJyZXBlYXQiLCJsb2NhbGUiLCJnZXRNb2RpZmllclN0YXRlIiwiU3ludGhldGljRHJhZ0V2ZW50IiwiRHJhZ0V2ZW50SW50ZXJmYWNlIiwiZGF0YVRyYW5zZmVyIiwiU3ludGhldGljVG91Y2hFdmVudCIsIlRvdWNoRXZlbnRJbnRlcmZhY2UiLCJ0b3VjaGVzIiwidGFyZ2V0VG91Y2hlcyIsImNoYW5nZWRUb3VjaGVzIiwiU3ludGhldGljVHJhbnNpdGlvbkV2ZW50IiwiVHJhbnNpdGlvbkV2ZW50SW50ZXJmYWNlIiwiSW50ZXJmYWNlIiwibm9ybWFsaXplIiwiZGVmYXVsdFByZXZlbnRlZCIsImlzRGVmYXVsdFByZXZlbnRlZCIsInRoYXRSZXR1cm5zVHJ1ZSIsInRoYXRSZXR1cm5zRmFsc2UiLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsInNob3VsZEJlUmVsZWFzZWRQcm9wZXJ0aWVzIiwiUHJveHkiLCJFdmVudEludGVyZmFjZSIsImN1cnJlbnRUYXJnZXQiLCJ0aGF0UmV0dXJuc051bGwiLCJldmVudFBoYXNlIiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJ0aW1lU3RhbXAiLCJEYXRlIiwibm93IiwiaXNUcnVzdGVkIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYW5jZWxCdWJibGUiLCJwZXJzaXN0IiwiaXNQZXJzaXN0ZW50IiwiU3VwZXIiLCJFIiwiZm91ckFyZ3VtZW50UG9vbGVyIiwiY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQiLCJVSUV2ZW50SW50ZXJmYWNlIiwidmlldyIsIm1vZGlmaWVyU3RhdGVHZXR0ZXIiLCJrZXlBcmciLCJrZXlQcm9wIiwibW9kaWZpZXJLZXlUb1Byb3AiLCJBbHQiLCJDb250cm9sIiwiTWV0YSIsIlNoaWZ0IiwiVmlld3BvcnRNZXRyaWNzIiwiTW91c2VFdmVudEludGVyZmFjZSIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY2xpZW50WCIsImNsaWVudFkiLCJidXR0b25zIiwicGFnZVgiLCJjdXJyZW50U2Nyb2xsTGVmdCIsInBhZ2VZIiwiY3VycmVudFNjcm9sbFRvcCIsIlN5bnRoZXRpY1doZWVsRXZlbnQiLCJXaGVlbEV2ZW50SW50ZXJmYWNlIiwiZGVsdGFYIiwid2hlZWxEZWx0YVgiLCJkZWx0YVkiLCJ3aGVlbERlbHRhWSIsIndoZWVsRGVsdGEiLCJkZWx0YVoiLCJkZWx0YU1vZGUiLCJhYm9ydCIsIm9uQWJvcnQiLCJvbkFib3J0Q2FwdHVyZSIsImFuaW1hdGlvbkVuZCIsIm9uQW5pbWF0aW9uRW5kIiwib25BbmltYXRpb25FbmRDYXB0dXJlIiwiYW5pbWF0aW9uSXRlcmF0aW9uIiwib25BbmltYXRpb25JdGVyYXRpb24iLCJvbkFuaW1hdGlvbkl0ZXJhdGlvbkNhcHR1cmUiLCJhbmltYXRpb25TdGFydCIsIm9uQW5pbWF0aW9uU3RhcnQiLCJvbkFuaW1hdGlvblN0YXJ0Q2FwdHVyZSIsImJsdXIiLCJvbkJsdXIiLCJvbkJsdXJDYXB0dXJlIiwiY2FuUGxheSIsIm9uQ2FuUGxheSIsIm9uQ2FuUGxheUNhcHR1cmUiLCJjYW5QbGF5VGhyb3VnaCIsIm9uQ2FuUGxheVRocm91Z2giLCJvbkNhblBsYXlUaHJvdWdoQ2FwdHVyZSIsImNsaWNrIiwib25Db250ZXh0TWVudSIsIm9uQ29udGV4dE1lbnVDYXB0dXJlIiwiY29weSIsIm9uQ29weSIsIm9uQ29weUNhcHR1cmUiLCJjdXQiLCJvbkN1dCIsIm9uQ3V0Q2FwdHVyZSIsImRvdWJsZUNsaWNrIiwiZHJhZyIsIm9uRHJhZyIsIm9uRHJhZ0NhcHR1cmUiLCJkcmFnRW5kIiwib25EcmFnRW5kIiwib25EcmFnRW5kQ2FwdHVyZSIsImRyYWdFbnRlciIsIm9uRHJhZ0VudGVyIiwib25EcmFnRW50ZXJDYXB0dXJlIiwiZHJhZ0V4aXQiLCJvbkRyYWdFeGl0Iiwib25EcmFnRXhpdENhcHR1cmUiLCJkcmFnTGVhdmUiLCJvbkRyYWdMZWF2ZSIsIm9uRHJhZ0xlYXZlQ2FwdHVyZSIsImRyYWdPdmVyIiwib25EcmFnT3ZlciIsIm9uRHJhZ092ZXJDYXB0dXJlIiwiZHJhZ1N0YXJ0Iiwib25EcmFnU3RhcnQiLCJvbkRyYWdTdGFydENhcHR1cmUiLCJkcm9wIiwib25Ecm9wIiwib25Ecm9wQ2FwdHVyZSIsImR1cmF0aW9uQ2hhbmdlIiwib25EdXJhdGlvbkNoYW5nZSIsIm9uRHVyYXRpb25DaGFuZ2VDYXB0dXJlIiwiZW1wdGllZCIsIm9uRW1wdGllZCIsIm9uRW1wdGllZENhcHR1cmUiLCJlbmNyeXB0ZWQiLCJvbkVuY3J5cHRlZCIsIm9uRW5jcnlwdGVkQ2FwdHVyZSIsImVuZGVkIiwib25FbmRlZCIsIm9uRW5kZWRDYXB0dXJlIiwib25FcnJvciIsIm9uRXJyb3JDYXB0dXJlIiwib25Gb2N1cyIsIm9uRm9jdXNDYXB0dXJlIiwib25JbnB1dCIsIm9uSW5wdXRDYXB0dXJlIiwiaW52YWxpZCIsIm9uSW52YWxpZCIsIm9uSW52YWxpZENhcHR1cmUiLCJrZXlEb3duIiwib25LZXlEb3duIiwib25LZXlEb3duQ2FwdHVyZSIsImtleVByZXNzIiwib25LZXlQcmVzcyIsIm9uS2V5UHJlc3NDYXB0dXJlIiwia2V5VXAiLCJvbktleVVwIiwib25LZXlVcENhcHR1cmUiLCJsb2FkIiwib25Mb2FkIiwib25Mb2FkQ2FwdHVyZSIsImxvYWRlZERhdGEiLCJvbkxvYWRlZERhdGEiLCJvbkxvYWRlZERhdGFDYXB0dXJlIiwibG9hZGVkTWV0YWRhdGEiLCJvbkxvYWRlZE1ldGFkYXRhIiwib25Mb2FkZWRNZXRhZGF0YUNhcHR1cmUiLCJsb2FkU3RhcnQiLCJvbkxvYWRTdGFydCIsIm9uTG9hZFN0YXJ0Q2FwdHVyZSIsIm1vdXNlTW92ZSIsIm1vdXNlT3V0Iiwib25Nb3VzZU91dCIsIm9uTW91c2VPdXRDYXB0dXJlIiwibW91c2VPdmVyIiwib25Nb3VzZU92ZXIiLCJvbk1vdXNlT3ZlckNhcHR1cmUiLCJtb3VzZVVwIiwicGFzdGUiLCJvblBhc3RlIiwib25QYXN0ZUNhcHR1cmUiLCJwYXVzZSIsIm9uUGF1c2UiLCJvblBhdXNlQ2FwdHVyZSIsInBsYXkiLCJvblBsYXkiLCJvblBsYXlDYXB0dXJlIiwicGxheWluZyIsIm9uUGxheWluZyIsIm9uUGxheWluZ0NhcHR1cmUiLCJwcm9ncmVzcyIsIm9uUHJvZ3Jlc3MiLCJvblByb2dyZXNzQ2FwdHVyZSIsInJhdGVDaGFuZ2UiLCJvblJhdGVDaGFuZ2UiLCJvblJhdGVDaGFuZ2VDYXB0dXJlIiwib25SZXNldCIsIm9uUmVzZXRDYXB0dXJlIiwic2Nyb2xsIiwib25TY3JvbGwiLCJvblNjcm9sbENhcHR1cmUiLCJzZWVrZWQiLCJvblNlZWtlZCIsIm9uU2Vla2VkQ2FwdHVyZSIsInNlZWtpbmciLCJvblNlZWtpbmciLCJvblNlZWtpbmdDYXB0dXJlIiwic3RhbGxlZCIsIm9uU3RhbGxlZCIsIm9uU3RhbGxlZENhcHR1cmUiLCJvblN1Ym1pdCIsIm9uU3VibWl0Q2FwdHVyZSIsInN1c3BlbmQiLCJvblN1c3BlbmQiLCJvblN1c3BlbmRDYXB0dXJlIiwidGltZVVwZGF0ZSIsIm9uVGltZVVwZGF0ZSIsIm9uVGltZVVwZGF0ZUNhcHR1cmUiLCJ0b3VjaENhbmNlbCIsIm9uVG91Y2hDYW5jZWwiLCJvblRvdWNoQ2FuY2VsQ2FwdHVyZSIsInRvdWNoRW5kIiwib25Ub3VjaEVuZCIsIm9uVG91Y2hFbmRDYXB0dXJlIiwidG91Y2hNb3ZlIiwib25Ub3VjaE1vdmUiLCJvblRvdWNoTW92ZUNhcHR1cmUiLCJ0b3VjaFN0YXJ0Iiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaFN0YXJ0Q2FwdHVyZSIsInRyYW5zaXRpb25FbmQiLCJvblRyYW5zaXRpb25FbmQiLCJvblRyYW5zaXRpb25FbmRDYXB0dXJlIiwidm9sdW1lQ2hhbmdlIiwib25Wb2x1bWVDaGFuZ2UiLCJvblZvbHVtZUNoYW5nZUNhcHR1cmUiLCJ3YWl0aW5nIiwib25XYWl0aW5nIiwib25XYWl0aW5nQ2FwdHVyZSIsIndoZWVsIiwib25XaGVlbCIsIm9uV2hlZWxDYXB0dXJlIiwidG9wTGV2ZWxFdmVudHNUb0Rpc3BhdGNoQ29uZmlnIiwidG9wQW5pbWF0aW9uRW5kIiwidG9wQW5pbWF0aW9uSXRlcmF0aW9uIiwidG9wQW5pbWF0aW9uU3RhcnQiLCJ0b3BDb3B5IiwidG9wQ3V0IiwidG9wRG91YmxlQ2xpY2siLCJ0b3BEcmFnIiwidG9wRHJhZ0VuZCIsInRvcERyYWdFbnRlciIsInRvcERyYWdFeGl0IiwidG9wRHJhZ0xlYXZlIiwidG9wRHJhZ092ZXIiLCJ0b3BEcmFnU3RhcnQiLCJ0b3BEcm9wIiwidG9wTW91c2VNb3ZlIiwidG9wU2Nyb2xsIiwidG9wVG91Y2hDYW5jZWwiLCJ0b3BUb3VjaEVuZCIsInRvcFRvdWNoTW92ZSIsInRvcFRvdWNoU3RhcnQiLCJ0b3BUcmFuc2l0aW9uRW5kIiwidG9wV2hlZWwiLCJPTl9DTElDS19LRVkiLCJvbkNsaWNrTGlzdGVuZXJzIiwiRXZlbnRDb25zdHJ1Y3RvciIsIndpbGxEZWxldGVMaXN0ZW5lciIsImluamVjdCIsImFscmVhZHlJbmplY3RlZCIsImluamVjdFJlYWN0RXZlbnRMaXN0ZW5lciIsImluamVjdEV2ZW50UGx1Z2luT3JkZXIiLCJpbmplY3RDb21wb25lbnRUcmVlIiwiaW5qZWN0VHJlZVRyYXZlcnNhbCIsIlJlYWN0RE9NVHJlZVRyYXZlcnNhbCIsImluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSIsImluamVjdEdlbmVyaWNDb21wb25lbnRDbGFzcyIsImluamVjdFRleHRDb21wb25lbnRDbGFzcyIsImluamVjdERPTVByb3BlcnR5Q29uZmlnIiwiaW5qZWN0RW1wdHlDb21wb25lbnRGYWN0b3J5IiwiaW5qZWN0UmVjb25jaWxlVHJhbnNhY3Rpb24iLCJpbmplY3RCYXRjaGluZ1N0cmF0ZWd5IiwiaW5qZWN0RW52aXJvbm1lbnQiLCJmaW5kRE9NTm9kZSIsImNvbXBvbmVudE9yRWxlbWVudCIsIlJlYWN0SW5zdGFuY2VNYXAiLCJnZXROYXRpdmVDb21wb25lbnRGcm9tQ29tcG9zaXRlIiwicmVuZGVyIiwiX3JlbmRlcmVkTm9kZVR5cGUiLCJSZWFjdE5vZGVUeXBlcyIsIkNPTVBPU0lURSIsIl9yZW5kZXJlZENvbXBvbmVudCIsIk5BVElWRSIsIkVNUFRZIiwiZXNjYXBlciIsIkVTQ0FQRV9MT09LVVAiLCJFU0NBUEVfUkVHRVgiLCImIiwiPiIsIjwiLCJcIiIsIiciLCJpbnNlcnRUcmVlQ2hpbGRyZW4iLCJ0cmVlIiwiZW5hYmxlTGF6eSIsIm9sZE5vZGUiLCJuZXdUcmVlIiwicGFyZW50VHJlZSIsImFwcGVuZENoaWxkIiwiRUxFTUVOVF9OT0RFX1RZUEUiLCJET0NVTUVOVF9GUkFHTUVOVF9OT0RFX1RZUEUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJyZWNvbXB1dGVQbHVnaW5PcmRlcmluZyIsIkV2ZW50UGx1Z2luT3JkZXIiLCJwbHVnaW5OYW1lIiwibmFtZXNUb1BsdWdpbnMiLCJQbHVnaW5Nb2R1bGUiLCJwbHVnaW5JbmRleCIsInBsdWdpbnMiLCJwdWJsaXNoZWRFdmVudHMiLCJldmVudE5hbWUiLCJwdWJsaXNoRXZlbnRGb3JQbHVnaW4iLCJldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MiLCJwaGFzZU5hbWUiLCJwaGFzZWRSZWdpc3RyYXRpb25OYW1lIiwicHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUiLCJyZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzIiwicG9zc2libGVSZWdpc3RyYXRpb25OYW1lcyIsIkluamVjdGVkRXZlbnRQbHVnaW5PcmRlciIsImluamVjdGVkTmFtZXNUb1BsdWdpbnMiLCJpc09yZGVyaW5nRGlydHkiLCJnZXRQbHVnaW5Nb2R1bGVGb3JFdmVudCIsIl9yZXNldEV2ZW50UGx1Z2lucyIsImlzRW5kaXNoIiwiaXNNb3ZlaXNoIiwiaXNTdGFydGlzaCIsImV4ZWN1dGVEaXNwYXRjaCIsInNpbXVsYXRlZCIsIlJlYWN0RXJyb3JVdGlscyIsImludm9rZUd1YXJkZWRDYWxsYmFja1dpdGhDYXRjaCIsImludm9rZUd1YXJkZWRDYWxsYmFjayIsImV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlciIsImRpc3BhdGNoTGlzdGVuZXJzIiwiZGlzcGF0Y2hJbnN0YW5jZXMiLCJleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlSW1wbCIsImV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlclN0b3BBdFRydWUiLCJleGVjdXRlRGlyZWN0RGlzcGF0Y2giLCJkaXNwYXRjaExpc3RlbmVyIiwiZGlzcGF0Y2hJbnN0YW5jZSIsInJlcyIsImhhc0Rpc3BhdGNoZXMiLCJDb21wb25lbnRUcmVlIiwiVHJlZVRyYXZlcnNhbCIsIkluamVjdGVkIiwiY3VycmVudCIsIm5leHQiLCJjdXJyZW50SXNBcnJheSIsIm5leHRJc0FycmF5IiwiY29uY2F0IiwiYXJyIiwibGlzdGVuZXJCYW5rIiwiZXZlbnRRdWV1ZSIsImV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZSIsImV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZVNpbXVsYXRlZCIsImV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZVRvcExldmVsIiwiYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWUiLCJwb3NzaWJsZVBsdWdpbiIsImV4dHJhY3RlZEV2ZW50cyIsInByb2Nlc3NpbmdFdmVudFF1ZXVlIiwicmV0aHJvd0NhdWdodEVycm9yIiwiX19wdXJnZSIsIl9fZ2V0TGlzdGVuZXJCYW5rIiwicnVuRXZlbnRRdWV1ZUluQmF0Y2giLCJSZWFjdEV2ZW50RW1pdHRlck1peGluIiwicmVmcmVzaFNjcm9sbFZhbHVlcyIsIm1ha2VQcmVmaXhNYXAiLCJzdHlsZVByb3AiLCJnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSIsInByZWZpeGVkRXZlbnROYW1lcyIsInZlbmRvclByZWZpeGVzIiwicHJlZml4TWFwIiwiYW5pbWF0aW9uZW5kIiwiYW5pbWF0aW9uaXRlcmF0aW9uIiwiYW5pbWF0aW9uc3RhcnQiLCJ0cmFuc2l0aW9uZW5kIiwiYW5pbWF0aW9uIiwidHJhbnNpdGlvbiIsImV2ZW50TmFtZVN1ZmZpeCIsImlzU3VwcG9ydGVkIiwidXNlSGFzRmVhdHVyZSIsImltcGxlbWVudGF0aW9uIiwiaGFzRmVhdHVyZSIsImdldExpc3RlbmluZ0ZvckRvY3VtZW50IiwibW91bnRBdCIsInRvcExpc3RlbmVyc0lES2V5IiwicmVhY3RUb3BMaXN0ZW5lcnNDb3VudGVyIiwiYWxyZWFkeUxpc3RlbmluZ1RvIiwiaGFzRXZlbnRQYWdlWFkiLCJpc01vbml0b3JpbmdTY3JvbGxWYWx1ZSIsInRvcEV2ZW50TWFwcGluZyIsInJhbmRvbSIsImNvbnRlbnREb2N1bWVudEhhbmRsZSIsImlzTGlzdGVuaW5nIiwiZGVwZW5kZW5jeSIsImVuc3VyZVNjcm9sbFZhbHVlTW9uaXRvcmluZyIsImNyZWF0ZUV2ZW50IiwiY2hlY2tNYXNrIiwiYml0bWFzayIsIkRPTVByb3BlcnR5SW5qZWN0aW9uIiwiZG9tUHJvcGVydHlDb25maWciLCJJbmplY3Rpb24iLCJET01NdXRhdGlvbk1ldGhvZHMiLCJfaXNDdXN0b21BdHRyaWJ1dGVGdW5jdGlvbnMiLCJsb3dlckNhc2VkIiwicHJvcENvbmZpZyIsImdldFBvc3NpYmxlU3RhbmRhcmROYW1lIiwiaXNDdXN0b21BdHRyaWJ1dGVGbiIsImdldFJlbmRlcmVkTmF0aXZlT3JUZXh0RnJvbUNvbXBvbmVudCIsInJlbmRlcmVkIiwibmF0aXZlSW5zdCIsImludGVybmFsSW5zdGFuY2VLZXkiLCJwcmVjYWNoZUNoaWxkTm9kZXMiLCJvdXRlciIsImNoaWxkSW5zdCIsImNoaWxkSUQiLCJBVFRSX05BTUUiLCJwYXJlbnRzIiwiY2xvc2VzdCIsInBvcCIsInZhbGlkYXRlRE9NTmVzdGluZyIsIlJlYWN0RE9NQ29udGFpbmVySW5mbyIsInRvcExldmVsV3JhcHBlciIsImluZm8iLCJET0NfTk9ERV9UWVBFIiwiUmVhY3RET01GZWF0dXJlRmxhZ3MiLCJhZGxlcjMyIiwiY2hhckNvZGVBdCIsIk1PRCIsIlRBR19FTkQiLCJDT01NRU5UX1NUQVJUIiwiUmVhY3RNYXJrdXBDaGVja3N1bSIsIkNIRUNLU1VNX0FUVFJfTkFNRSIsImFkZENoZWNrc3VtVG9NYXJrdXAiLCJjaGVja3N1bSIsImNhblJldXNlTWFya3VwIiwiZXhpc3RpbmdDaGVja3N1bSIsIm1hcmt1cENoZWNrc3VtIiwiaW5qZWN0ZWQiLCJlbnZpcm9ubWVudCIsImNhdWdodEVycm9yIiwiUmVhY3RFbGVtZW50IiwiZ2V0VHlwZSIsImlzVmFsaWRFbGVtZW50IiwiX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSIsImhhcyIsIl9jYWxsYmFja3MiLCJfY29udGV4dHMiLCJjYWxsYmFja3MiLCJjb250ZXh0cyIsImxlbiIsIlJlYWN0RmVhdHVyZUZsYWdzIiwibG9nVG9wTGV2ZWxSZW5kZXJzIiwiUmVhY3RPd25lciIsImlzVmFsaWRPd25lciIsImF0dGFjaFJlZiIsImRldGFjaFJlZiIsImFkZENvbXBvbmVudEFzUmVmVG8iLCJyZWYiLCJyZW1vdmVDb21wb25lbnRBc1JlZkZyb20iLCJvd25lclB1YmxpY0luc3RhbmNlIiwicmVmcyIsIlJlYWN0UmVmIiwiYXR0YWNoUmVmcyIsImluc3RhbmNlIiwiX293bmVyIiwic2hvdWxkVXBkYXRlUmVmcyIsInByZXZFbXB0eSIsIm5leHRFbXB0eSIsImRldGFjaFJlZnMiLCJpbnRlcm5hbEluc3RhbmNlIiwiX2NvbnRleHQiLCJyZWZzQ2hhbmdlZCIsInBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeSIsInVwZGF0ZUJhdGNoTnVtYmVyIiwiX3VwZGF0ZUJhdGNoTnVtYmVyIiwidHJhbnNhY3Rpb25XcmFwcGVycyIsIndyYXBwZXJJbml0RGF0YSIsIl9pc0luVHJhbnNhY3Rpb24iLCJpc0luVHJhbnNhY3Rpb24iLCJlcnJvclRocm93biIsImluaXRpYWxpemVBbGwiLCJjbG9zZUFsbCIsImVyciIsInN0YXJ0SW5kZXgiLCJ3cmFwcGVyIiwiT0JTRVJWRURfRVJST1IiLCJpbml0RGF0YSIsImVuc3VyZUluamVjdGVkIiwiYmF0Y2hpbmdTdHJhdGVneSIsIlJlYWN0VXBkYXRlc0ZsdXNoVHJhbnNhY3Rpb24iLCJkaXJ0eUNvbXBvbmVudHNMZW5ndGgiLCJjYWxsYmFja1F1ZXVlIiwicmVjb25jaWxlVHJhbnNhY3Rpb24iLCJtb3VudE9yZGVyQ29tcGFyYXRvciIsImMxIiwiYzIiLCJfbW91bnRPcmRlciIsInJ1bkJhdGNoZWRVcGRhdGVzIiwiZGlydHlDb21wb25lbnRzIiwic29ydCIsIl9wZW5kaW5nQ2FsbGJhY2tzIiwibWFya2VyTmFtZSIsIm5hbWVkQ29tcG9uZW50IiwiY29uc29sZSIsInRpbWVFbmQiLCJlbnF1ZXVlVXBkYXRlIiwiYXNhcENhbGxiYWNrUXVldWUiLCJhc2FwRW5xdWV1ZWQiLCJORVNURURfVVBEQVRFUyIsIlVQREFURV9RVUVVRUlORyIsIlJlYWN0VXBkYXRlc0luamVjdGlvbiIsIlJlY29uY2lsZVRyYW5zYWN0aW9uIiwiX2JhdGNoaW5nU3RyYXRlZ3kiLCJnZXRJbnRlcm5hbEluc3RhbmNlUmVhZHlGb3JVcGRhdGUiLCJwdWJsaWNJbnN0YW5jZSIsImNhbGxlck5hbWUiLCJSZWFjdFVwZGF0ZVF1ZXVlIiwiaXNNb3VudGVkIiwiZW5xdWV1ZUNhbGxiYWNrIiwidmFsaWRhdGVDYWxsYmFjayIsImVucXVldWVDYWxsYmFja0ludGVybmFsIiwiZW5xdWV1ZUZvcmNlVXBkYXRlIiwiX3BlbmRpbmdGb3JjZVVwZGF0ZSIsImVucXVldWVSZXBsYWNlU3RhdGUiLCJjb21wbGV0ZVN0YXRlIiwiX3BlbmRpbmdTdGF0ZVF1ZXVlIiwiX3BlbmRpbmdSZXBsYWNlU3RhdGUiLCJlbnF1ZXVlU2V0U3RhdGUiLCJwYXJ0aWFsU3RhdGUiLCJlbnF1ZXVlRWxlbWVudEludGVybmFsIiwibmV3RWxlbWVudCIsIl9wZW5kaW5nRWxlbWVudCIsIlN0YXRlbGVzc0NvbXBvbmVudCIsIndhcm5JZkludmFsaWRFbGVtZW50Iiwic2hvdWxkQ29uc3RydWN0IiwiaXNSZWFjdENvbXBvbmVudCIsIlJlYWN0Q3VycmVudE93bmVyIiwiZW1wdHlPYmplY3QiLCJ1cGRhdGVyIiwibmV4dE1vdW50SUQiLCJSZWFjdENvbXBvc2l0ZUNvbXBvbmVudE1peGluIiwiY29uc3RydWN0IiwiX2luc3RhbmNlIiwiX2NhbGxlZENvbXBvbmVudFdpbGxVbm1vdW50IiwicmVuZGVyZWRFbGVtZW50IiwicHVibGljUHJvcHMiLCJfcHJvY2Vzc1Byb3BzIiwicHVibGljQ29udGV4dCIsIl9wcm9jZXNzQ29udGV4dCIsIl9jb25zdHJ1Y3RDb21wb25lbnQiLCJpbml0aWFsU3RhdGUiLCJzdGF0ZSIsInVuc3RhYmxlX2hhbmRsZUVycm9yIiwicGVyZm9ybUluaXRpYWxNb3VudFdpdGhFcnJvckhhbmRsaW5nIiwicGVyZm9ybUluaXRpYWxNb3VudCIsImNvbXBvbmVudERpZE1vdW50IiwiX2NvbnN0cnVjdENvbXBvbmVudFdpdGhvdXRPd25lciIsImluc3RhbmNlT3JFbGVtZW50IiwiX3Byb2Nlc3NQZW5kaW5nU3RhdGUiLCJjb21wb25lbnRXaWxsTW91bnQiLCJfcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50IiwiX2luc3RhbnRpYXRlUmVhY3RDb21wb25lbnQiLCJfcHJvY2Vzc0NoaWxkQ29udGV4dCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiX21hc2tDb250ZXh0IiwiY29udGV4dFR5cGVzIiwibWFza2VkQ29udGV4dCIsImNvbnRleHROYW1lIiwiY3VycmVudENvbnRleHQiLCJjaGlsZENvbnRleHQiLCJnZXRDaGlsZENvbnRleHQiLCJjaGlsZENvbnRleHRUeXBlcyIsIm5ld1Byb3BzIiwiX2NoZWNrUHJvcFR5cGVzIiwiZXgiLCJuZXh0Q29udGV4dCIsInByZXZDb250ZXh0IiwicHJldlBhcmVudEVsZW1lbnQiLCJuZXh0UGFyZW50RWxlbWVudCIsInByZXZVbm1hc2tlZENvbnRleHQiLCJuZXh0VW5tYXNrZWRDb250ZXh0Iiwid2lsbFJlY2VpdmUiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFN0YXRlIiwic2hvdWxkVXBkYXRlIiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwiX3BlcmZvcm1Db21wb25lbnRVcGRhdGUiLCJwYXJ0aWFsIiwidW5tYXNrZWRDb250ZXh0IiwicHJldlByb3BzIiwicHJldlN0YXRlIiwiaGFzQ29tcG9uZW50RGlkVXBkYXRlIiwiY29tcG9uZW50RGlkVXBkYXRlIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsIl91cGRhdGVSZW5kZXJlZENvbXBvbmVudCIsInByZXZDb21wb25lbnRJbnN0YW5jZSIsInByZXZSZW5kZXJlZEVsZW1lbnQiLCJuZXh0UmVuZGVyZWRFbGVtZW50Iiwib2xkTmF0aXZlTm9kZSIsIl9yZXBsYWNlTm9kZVdpdGhNYXJrdXAiLCJwcmV2SW5zdGFuY2UiLCJfcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50V2l0aG91dE93bmVyT3JDb250ZXh0IiwicmVuZGVyZWRDb21wb25lbnQiLCJwdWJsaWNDb21wb25lbnRJbnN0YW5jZSIsIlJlYWN0Q29tcG9zaXRlQ29tcG9uZW50IiwiZW1wdHlDb21wb25lbnRGYWN0b3J5IiwiUmVhY3RFbXB0eUNvbXBvbmVudEluamVjdGlvbiIsImZhY3RvcnkiLCJjcmVhdGUiLCJnZXRDb21wb25lbnRDbGFzc0ZvckVsZW1lbnQiLCJjb21wb25lbnRDbGFzcyIsInRhZ1RvQ29tcG9uZW50Q2xhc3MiLCJhdXRvR2VuZXJhdGVXcmFwcGVyQ2xhc3MiLCJjcmVhdGVJbnRlcm5hbENvbXBvbmVudCIsImdlbmVyaWNDb21wb25lbnRDbGFzcyIsImNyZWF0ZUluc3RhbmNlRm9yVGV4dCIsInRleHRDb21wb25lbnRDbGFzcyIsImlzVGV4dENvbXBvbmVudCIsIlJlYWN0TmF0aXZlQ29tcG9uZW50SW5qZWN0aW9uIiwiaW5qZWN0Q29tcG9uZW50Q2xhc3NlcyIsImNvbXBvbmVudENsYXNzZXMiLCJpc0ludGVybmFsQ29tcG9uZW50VHlwZSIsIlJlYWN0Q29tcG9zaXRlQ29tcG9uZW50V3JhcHBlciIsIl9tb3VudEltYWdlIiwiTVNBcHAiLCJleGVjVW5zYWZlTG9jYWxGdW5jdGlvbiIsImFyZzAiLCJXSElURVNQQUNFX1RFU1QiLCJOT05WSVNJQkxFX1RFU1QiLCJ0ZXN0RWxlbWVudCIsInRleHROb2RlIiwiZGVsZXRlRGF0YSIsInByZXZUeXBlIiwibmV4dFR5cGUiLCJmaXJzdERpZmZlcmVuY2VJbmRleCIsInN0cmluZzEiLCJzdHJpbmcyIiwibWluTGVuIiwiZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyIiwiaW50ZXJuYWxHZXRJRCIsIm1vdW50Q29tcG9uZW50SW50b05vZGUiLCJ3cmFwcGVySW5zdGFuY2UiLCJzaG91bGRSZXVzZU1hcmt1cCIsIndyYXBwZWRFbGVtZW50IiwiUmVhY3RNb3VudCIsIl9tb3VudEltYWdlSW50b05vZGUiLCJiYXRjaGVkTW91bnRDb21wb25lbnRJbnRvTm9kZSIsImNvbXBvbmVudEluc3RhbmNlIiwidW5tb3VudENvbXBvbmVudEZyb21Ob2RlIiwiaGFzTm9uUm9vdFJlYWN0Q2hpbGQiLCJyb290RWwiLCJnZXROYXRpdmVSb290SW5zdGFuY2VJbkNvbnRhaW5lciIsInByZXZOYXRpdmVJbnN0YW5jZSIsImdldFRvcExldmVsV3JhcHBlckluQ29udGFpbmVyIiwiUk9PVF9BVFRSX05BTUUiLCJpbnN0YW5jZXNCeVJlYWN0Um9vdElEIiwidG9wTGV2ZWxSb290Q291bnRlciIsIlRvcExldmVsV3JhcHBlciIsInJvb3RJRCIsIl9pbnN0YW5jZXNCeVJlYWN0Um9vdElEIiwic2Nyb2xsTW9uaXRvciIsInJlbmRlckNhbGxiYWNrIiwiX3VwZGF0ZVJvb3RDb21wb25lbnQiLCJwcmV2Q29tcG9uZW50IiwiX3JlbmRlck5ld1Jvb3RDb21wb25lbnQiLCJ3cmFwcGVySUQiLCJyZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lciIsInBhcmVudENvbXBvbmVudCIsIl9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lciIsIm5leHRXcmFwcGVkRWxlbWVudCIsInByZXZXcmFwcGVkRWxlbWVudCIsInB1YmxpY0luc3QiLCJ1cGRhdGVkQ2FsbGJhY2siLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwicmVhY3RSb290RWxlbWVudCIsImNvbnRhaW5lckhhc1JlYWN0TWFya3VwIiwiY29udGFpbmVySGFzTm9uUm9vdFJlYWN0Q2hpbGQiLCJyb290RWxlbWVudCIsInJvb3RNYXJrdXAiLCJvdXRlckhUTUwiLCJub3JtYWxpemVkTWFya3VwIiwiZGlmZkluZGV4IiwiUmVhY3REZWZhdWx0SW5qZWN0aW9uIiwiUmVhY3RWZXJzaW9uIiwiUmVhY3QiLCJ1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyIsInVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyIiwiX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fIiwiTW91bnQiLCJSZWNvbmNpbGVyIiwiX2V4cG9ydCIsIk1haW5IZWFkZXIiLCJfYyIsIlByb3BUeXBlcyIsIkxhenlJbWciLCJCYW5uZXJCb3giLCJfZSIsIl9yZWYiLCJkZWZhdWx0UHJvcHMiLCJpc1JlcXVpcmVkIiwiZ2V0RGF0ZSIsIkhlYWRlckJhbm5lciIsIl9kIiwiZGF5IiwibWFwIiwiYXJyYXkiLCJfZ2V0IiwiX2luaGVyaXRzIiwiX2NyZWF0ZUNsYXNzIiwiX2NsYXNzQ2FsbENoZWNrIiwiY29ubmVjdCIsImZldGNoRXZlbnRzIiwiSGVhZGVyIiwibWFwU3RhdGVUb1Byb3BzIiwiX2EzIiwiX2E0IiwiX2E1IiwiX2E2IiwiX2EyIiwiX2YiLCJfYTEiLCJfQ29tcG9uZW50IiwiZ2V0UHJvdG90eXBlT2YiLCJkaXNwYXRjaCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJDb25zdHJ1Y3RvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiUmVmZXJlbmNlRXJyb3IiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9yZWFjdCIsIl9zdG9yZVNoYXBlIiwiX3N0b3JlU2hhcGUyIiwiX3dhcm5pbmciLCJQcm92aWRlciIsIl90aGlzIiwic3RvcmUiLCJDaGlsZHJlbiIsIm9ubHkiLCJvbmVBcmd1bWVudFBvb2xlciIsImNvcHlGaWVsZHNGcm9tIiwiS2xhc3MiLCJpbnN0YW5jZVBvb2wiLCJhMSIsImEyIiwidGhyZWVBcmd1bWVudFBvb2xlciIsImEzIiwiYTQiLCJmaXZlQXJndW1lbnRQb29sZXIiLCJhNSIsInN0YW5kYXJkUmVsZWFzZXIiLCJwb29sU2l6ZSIsIkRFRkFVTFRfUE9PTF9TSVpFIiwiREVGQVVMVF9QT09MRVIiLCJDb3B5Q29uc3RydWN0b3IiLCJwb29sZXIiLCJOZXdLbGFzcyIsImVzY2FwZSIsImVzY2FwZVJlZ2V4IiwiZXNjYXBlckxvb2t1cCIsIj0iLCI6IiwiZXNjYXBlZFN0cmluZyIsInVuZXNjYXBlIiwidW5lc2NhcGVSZWdleCIsInVuZXNjYXBlckxvb2t1cCIsIj0wIiwiPTIiLCJrZXlTdWJzdHJpbmciLCJLZXlFc2NhcGVVdGlscyIsImdldENvbXBvbmVudEtleSIsInRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsIiwibmFtZVNvRmFyIiwiU0VQQVJBVE9SIiwibmV4dE5hbWUiLCJzdWJ0cmVlQ291bnQiLCJuZXh0TmFtZVByZWZpeCIsIlNVQlNFUEFSQVRPUiIsIml0ZXJhdG9yRm4iLCJnZXRJdGVyYXRvckZuIiwiaXRlcmF0b3IiLCJlbnRyaWVzIiwiZG9uZSIsImVudHJ5IiwiZXNjYXBlVXNlclByb3ZpZGVkS2V5IiwidXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgiLCJGb3JFYWNoQm9va0tlZXBpbmciLCJmb3JFYWNoRnVuY3Rpb24iLCJmb3JFYWNoQ29udGV4dCIsImNvdW50IiwiZm9yRWFjaFNpbmdsZUNoaWxkIiwiZm9yRWFjaENoaWxkcmVuIiwiZm9yRWFjaEZ1bmMiLCJNYXBCb29rS2VlcGluZyIsIm1hcFJlc3VsdCIsImtleVByZWZpeCIsIm1hcEZ1bmN0aW9uIiwibWFwQ29udGV4dCIsIm1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQiLCJjaGlsZEtleSIsIm1hcHBlZENoaWxkIiwibWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbCIsInRoYXRSZXR1cm5zQXJndW1lbnQiLCJjbG9uZUFuZFJlcGxhY2VLZXkiLCJlc2NhcGVkUHJlZml4IiwibWFwQ2hpbGRyZW4iLCJmb3JFYWNoU2luZ2xlQ2hpbGREdW1teSIsImNvdW50Q2hpbGRyZW4iLCJwcm9jZXNzaW5nQ2hpbGRDb250ZXh0Iiwid2FybkludmFsaWRTZXRTdGF0ZSIsIlJlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2wiLCJvbkJlZ2luUHJvY2Vzc2luZ0NoaWxkQ29udGV4dCIsIm9uRW5kUHJvY2Vzc2luZ0NoaWxkQ29udGV4dCIsIm9uU2V0U3RhdGUiLCJSZWFjdERlYnVnVG9vbCIsIm9uTW91bnRSb290Q29tcG9uZW50Iiwib25Nb3VudENvbXBvbmVudCIsIm9uVXBkYXRlQ29tcG9uZW50Iiwib25Vbm1vdW50Q29tcG9uZW50IiwiUmVhY3RDb21wb25lbnQiLCJSZWFjdE5vb3BVcGRhdGVRdWV1ZSIsInNldFN0YXRlIiwiZm9yY2VVcGRhdGUiLCJ3YXJuVERaIiwidmFsaWRhdGVNZXRob2RPdmVycmlkZSIsImlzQWxyZWFkeURlZmluZWQiLCJzcGVjUG9saWN5IiwiUmVhY3RDbGFzc0ludGVyZmFjZSIsIlJlYWN0Q2xhc3NNaXhpbiIsIlNwZWNQb2xpY3kiLCJPVkVSUklERV9CQVNFIiwiREVGSU5FX01BTlkiLCJERUZJTkVfTUFOWV9NRVJHRUQiLCJtaXhTcGVjSW50b0NvbXBvbmVudCIsInNwZWMiLCJwcm90byIsImF1dG9CaW5kUGFpcnMiLCJfX3JlYWN0QXV0b0JpbmRQYWlycyIsIk1JWElOU19LRVkiLCJSRVNFUlZFRF9TUEVDX0tFWVMiLCJtaXhpbnMiLCJpc1JlYWN0Q2xhc3NNZXRob2QiLCJpc0Z1bmN0aW9uIiwic2hvdWxkQXV0b0JpbmQiLCJhdXRvYmluZCIsImNyZWF0ZU1lcmdlZFJlc3VsdEZ1bmN0aW9uIiwiY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uIiwibWl4U3RhdGljU3BlY0ludG9Db21wb25lbnQiLCJzdGF0aWNzIiwiaXNSZXNlcnZlZCIsImlzSW5oZXJpdGVkIiwibWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyIsIm9uZSIsInR3byIsImJpbmRBdXRvQmluZE1ldGhvZCIsImJvdW5kTWV0aG9kIiwiYmluZEF1dG9CaW5kTWV0aG9kcyIsInBhaXJzIiwiYXV0b0JpbmRLZXkiLCJERUZJTkVfT05DRSIsImluamVjdGVkTWl4aW5zIiwiZ2V0RGVmYXVsdFByb3BzIiwiZ2V0SW5pdGlhbFN0YXRlIiwicmVwbGFjZVN0YXRlIiwibmV3U3RhdGUiLCJSZWFjdENsYXNzQ29tcG9uZW50IiwiY3JlYXRlQ2xhc3MiLCJtZXRob2ROYW1lIiwiaW5qZWN0TWl4aW4iLCJtaXhpbiIsImNyZWF0ZURPTUZhY3RvcnkiLCJjcmVhdGVGYWN0b3J5IiwibWFwT2JqZWN0IiwiUmVhY3RET01GYWN0b3JpZXMiLCJhYmJyIiwiYWRkcmVzcyIsImFydGljbGUiLCJhc2lkZSIsImF1ZGlvIiwiYmRpIiwiYmRvIiwiYmlnIiwiYmxvY2txdW90ZSIsImNhbnZhcyIsImNvZGUiLCJkYXRhbGlzdCIsImRkIiwiZGVsIiwiZGV0YWlscyIsImRmbiIsImRpYWxvZyIsImRsIiwiZHQiLCJlbSIsImZpZWxkc2V0IiwiZmlnY2FwdGlvbiIsImZpZ3VyZSIsImZvb3RlciIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsImhlYWQiLCJoZWFkZXIiLCJoZ3JvdXAiLCJpZnJhbWUiLCJpbnMiLCJrYmQiLCJsaSIsIm1haW4iLCJtYXJrIiwibWVudSIsIm1ldGVyIiwibmF2Iiwibm9zY3JpcHQiLCJvbCIsIm91dHB1dCIsInBpY3R1cmUiLCJxIiwicnAiLCJydCIsInJ1YnkiLCJzYW1wIiwic2NyaXB0Iiwic2VjdGlvbiIsInNtYWxsIiwic3Ryb25nIiwic3ViIiwic3VwIiwidGFibGUiLCJ1bCIsInZhciIsInZpZGVvIiwiY2lyY2xlIiwiZGVmcyIsImVsbGlwc2UiLCJsaW5lIiwibGluZWFyR3JhZGllbnQiLCJwb2x5Z29uIiwicG9seWxpbmUiLCJyYWRpYWxHcmFkaWVudCIsInJlY3QiLCJzdG9wIiwidHNwYW4iLCJ2YWxpZGF0ZUV4cGxpY2l0S2V5IiwicGFyZW50VHlwZSIsIl9zdG9yZSIsInZhbGlkYXRlZCIsImdldEFkZGVuZGFGb3JLZXlVc2UiLCJtZXNzYWdlVHlwZSIsImFkZGVuZHVtIiwicGFyZW50TmFtZSIsIm1lbW9pemVyIiwib3duZXJIYXNLZXlVc2VXYXJuaW5nIiwiYWRkZW5kYSIsInBhcmVudE9yT3duZXIiLCJjaGlsZE93bmVyIiwidmFsaWRhdGVDaGlsZEtleXMiLCJ2YWxpZGF0ZVByb3BUeXBlcyIsIlJlYWN0RWxlbWVudFZhbGlkYXRvciIsInZhbGlkVHlwZSIsInZhbGlkYXRlZEZhY3RvcnkiLCJjbG9uZUVsZW1lbnQiLCJSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyIsIm1heWJlSXRlcmFibGUiLCJJVEVSQVRPUl9TWU1CT0wiLCJGQVVYX0lURVJBVE9SX1NZTUJPTCIsIlN5bWJvbCIsImNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyIiwidmFsaWRhdGUiLCJjaGVja1R5cGUiLCJwcm9wRnVsbE5hbWUiLCJBTk9OWU1PVVMiLCJsb2NhdGlvbk5hbWUiLCJjaGFpbmVkQ2hlY2tUeXBlIiwiY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIiLCJleHBlY3RlZFR5cGUiLCJwcm9wVHlwZSIsImdldFByb3BUeXBlIiwicHJlY2lzZVR5cGUiLCJnZXRQcmVjaXNlVHlwZSIsImNyZWF0ZUFueVR5cGVDaGVja2VyIiwidGhhdFJldHVybnMiLCJjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIiLCJ0eXBlQ2hlY2tlciIsImNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlciIsImNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIiLCJleHBlY3RlZENsYXNzIiwiZXhwZWN0ZWRDbGFzc05hbWUiLCJhY3R1YWxDbGFzc05hbWUiLCJnZXRDbGFzc05hbWUiLCJjcmVhdGVFbnVtVHlwZUNoZWNrZXIiLCJleHBlY3RlZFZhbHVlcyIsInZhbHVlc1N0cmluZyIsImNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIiLCJjcmVhdGVVbmlvblR5cGVDaGVja2VyIiwiYXJyYXlPZlR5cGVDaGVja2VycyIsImNoZWNrZXIiLCJjcmVhdGVOb2RlQ2hlY2tlciIsImNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIiLCJzaGFwZVR5cGVzIiwiZXZlcnkiLCJib29sIiwiYW55IiwiYXJyYXlPZiIsImluc3RhbmNlT2YiLCJvYmplY3RPZiIsIm9uZU9mIiwib25lT2ZUeXBlIiwiY2FuRGVmaW5lUHJvcGVydHkiLCJSRUFDVF9FTEVNRU5UX1RZUEUiLCJfX3NlbGYiLCJfX3NvdXJjZSIsIiQkdHlwZW9mIiwiY29uZmlnIiwiY2hpbGRyZW5MZW5ndGgiLCJjaGlsZEFycmF5Iiwib2xkRWxlbWVudCIsIm5ld0tleSIsIl9zZWxmIiwiX3NvdXJjZSIsIm9ubHlDaGlsZCIsIl9fc3ByZWFkIiwiY3JlYXRlTWl4aW4iLCJET00iLCJzdWJzY3JpYmUiLCJnZXRTdGF0ZSIsImhhc093biIsIndyYXBBY3Rpb25DcmVhdG9ycyIsImFjdGlvbkNyZWF0b3JzIiwiX3JlZHV4IiwiYmluZEFjdGlvbkNyZWF0b3JzIiwid2FybmluZyIsIlJFQUNUX1NUQVRJQ1MiLCJLTk9XTl9TVEFUSUNTIiwiY2FsbGVyIiwiYXJpdHkiLCJ0YXJnZXRDb21wb25lbnQiLCJzb3VyY2VDb21wb25lbnQiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY29uZGl0aW9uIiwiYXJncyIsImFyZ0luZGV4IiwiZnJhbWVzVG9Qb3AiLCJnZXREaXNwbGF5TmFtZSIsIldyYXBwZWRDb21wb25lbnQiLCJ0cnlDYXRjaCIsImN0eCIsImVycm9yT2JqZWN0IiwibWFwRGlzcGF0Y2hUb1Byb3BzIiwibWVyZ2VQcm9wcyIsInNob3VsZFN1YnNjcmliZSIsIm1hcFN0YXRlIiwiZGVmYXVsdE1hcFN0YXRlVG9Qcm9wcyIsIm1hcERpc3BhdGNoIiwiX3dyYXBBY3Rpb25DcmVhdG9yczIiLCJkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzIiwiZmluYWxNZXJnZVByb3BzIiwiZGVmYXVsdE1lcmdlUHJvcHMiLCJfb3B0aW9ucyRwdXJlIiwicHVyZSIsIl9vcHRpb25zJHdpdGhSZWYiLCJ3aXRoUmVmIiwiY2hlY2tNZXJnZWRFcXVhbHMiLCJuZXh0VmVyc2lvbiIsImNvbXB1dGVNZXJnZWRQcm9wcyIsInN0YXRlUHJvcHMiLCJkaXNwYXRjaFByb3BzIiwicGFyZW50UHJvcHMiLCJtZXJnZWRQcm9wcyIsImNvbm5lY3REaXNwbGF5TmFtZSIsIkNvbm5lY3QiLCJfaW52YXJpYW50MiIsInN0b3JlU3RhdGUiLCJjbGVhckNhY2hlIiwiaGF2ZU93blByb3BzQ2hhbmdlZCIsImhhc1N0b3JlU3RhdGVDaGFuZ2VkIiwiY29tcHV0ZVN0YXRlUHJvcHMiLCJmaW5hbE1hcFN0YXRlVG9Qcm9wcyIsImNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUiLCJkb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzIiwibWFwcGVkU3RhdGUiLCJpc0ZhY3RvcnkiLCJjb21wdXRlRGlzcGF0Y2hQcm9wcyIsImZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzIiwiY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaCIsImRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMiLCJtYXBwZWREaXNwYXRjaCIsInVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCIsIm5leHRTdGF0ZVByb3BzIiwiX3NoYWxsb3dFcXVhbDIiLCJ1cGRhdGVEaXNwYXRjaFByb3BzSWZOZWVkZWQiLCJuZXh0RGlzcGF0Y2hQcm9wcyIsInVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQiLCJuZXh0TWVyZ2VkUHJvcHMiLCJpc1N1YnNjcmliZWQiLCJ1bnN1YnNjcmliZSIsInRyeVN1YnNjcmliZSIsImhhbmRsZUNoYW5nZSIsInRyeVVuc3Vic2NyaWJlIiwiaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCIsInN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yIiwicHJldlN0b3JlU3RhdGUiLCJoYXZlU3RhdGVQcm9wc0NoYW5nZWQiLCJnZXRXcmFwcGVkSW5zdGFuY2UiLCJ3cmFwcGVkSW5zdGFuY2UiLCJzaG91bGRVcGRhdGVTdGF0ZVByb3BzIiwic2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcyIsImhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCIsImhhdmVNZXJnZWRQcm9wc0NoYW5nZWQiLCJfZXh0ZW5kcyIsIl9ob2lzdE5vblJlYWN0U3RhdGljczIiLCJhc3NpZ24iLCJfc2hhbGxvd0VxdWFsIiwiX3dyYXBBY3Rpb25DcmVhdG9ycyIsIl9pc1BsYWluT2JqZWN0IiwiX2hvaXN0Tm9uUmVhY3RTdGF0aWNzIiwiX2ludmFyaWFudCIsIl9Qcm92aWRlciIsIl9Qcm92aWRlcjIiLCJfY29ubmVjdCIsIl9jb25uZWN0MiIsIiRleHBvcnQiLCJjb3JlIiwiZmFpbHMiLCJLRVkiLCJleGVjIiwiZXhwIiwiUyIsIkYiLCJ0b0lPYmplY3QiLCIkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiaXQiLCIkIiwiZ2V0RGVzYyIsIl9PYmplY3QkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3giLCJfeDIiLCJfeDMiLCJfYWdhaW4iLCJyZWNlaXZlciIsIkZ1bmN0aW9uIiwiZGVzYyIsImdldHRlciIsInBhcmVudCIsIlAiLCJfT2JqZWN0JGNyZWF0ZSIsIl9PYmplY3Qkc2V0UHJvdG90eXBlT2YiLCJzZXREZXNjIiwiX09iamVjdCRkZWZpbmVQcm9wZXJ0eSIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiaXNMb2FkZWQiLCJoYW5kbGVMb2FkIiwiU3ZnSWNvbiIsImFyaWEtaGlkZGVuIiwiYXJpYS1sYWJlbCIsImdldE1vbnRoIiwiZm9ybWF0RGF0ZSIsIkV2ZW50TGlzdEl0ZW0iLCJfZGUiLCJtb250aHMiLCJ5ZWFyIiwiX3JlZjIiLCJpbm5lckxpbmsiLCJwcmljZSIsImxvY2F0aW9uVXJsIiwic2hvcnREZXNjcmlwdGlvbiIsIlBhZ2UiLCJfZTEiLCJfZGYiLCJBc2lkZSIsIk1haW5Db250ZW50IiwiX2EwIiwiX2UwIiwiX2UyIiwiY2FuVXNlV29ya2VycyIsIldvcmtlciIsImNhblVzZUV2ZW50TGlzdGVuZXJzIiwiY2FuVXNlVmlld3BvcnQiLCJzY3JlZW4iLCJpc0luV29ya2VyIiwicGVyZm9ybWFuY2UiLCJtc1BlcmZvcm1hbmNlIiwid2Via2l0UGVyZm9ybWFuY2UiLCJwZXJmb3JtYW5jZU5vdyIsImhpc3RvcnkiLCJSZWFjdE5hdGl2ZU9wZXJhdGlvbkhpc3RvcnlEZXZ0b29sIiwib25OYXRpdmVPcGVyYXRpb24iLCJkZWJ1Z0lEIiwicGF5bG9hZCIsImluc3RhbmNlSUQiLCJjbGVhckhpc3RvcnkiLCJfcHJldmVudENsZWFyaW5nIiwiZ2V0SGlzdG9yeSIsInVwZGF0ZVRyZWUiLCJwYXJlbnRJRCIsIm93bmVySUQiLCJjaGlsZElEcyIsInVwZGF0ZUNvdW50IiwicHVyZ2VEZWVwIiwiaXRlbSIsInJvb3RJRHMiLCJSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sIiwib25TZXREaXNwbGF5TmFtZSIsIm9uU2V0Q2hpbGRyZW4iLCJuZXh0Q2hpbGRJRHMiLCJwcmV2Q2hpbGRJRHMiLCJuZXh0Q2hpbGRJRCIsIm9uU2V0T3duZXIiLCJvblNldFRleHQiLCJwdXJnZVVubW91bnRlZENvbXBvbmVudHMiLCJfcHJldmVudFB1cmdpbmciLCJnZXRDaGlsZElEcyIsImdldE93bmVySUQiLCJnZXRQYXJlbnRJRCIsImdldFVwZGF0ZUNvdW50IiwiZ2V0Um9vdElEcyIsImdldFJlZ2lzdGVyZWRJRHMiLCJjaGVja0RlYnVnSUQiLCJiZWdpblByb2ZpbGluZyIsImVuZFByb2ZpbGluZyIsImdldEZsdXNoSGlzdG9yeSIsIm9uQmVnaW5GbHVzaCIsIm9uRW5kRmx1c2giLCJvbkJlZ2luTGlmZUN5Y2xlVGltZXIiLCJ0aW1lclR5cGUiLCJvbkVuZExpZmVDeWNsZVRpbWVyIiwib25CZWdpblJlY29uY2lsZXJUaW1lciIsIm9uRW5kUmVjb25jaWxlclRpbWVyIiwiY2hpbGREZWJ1Z0lEcyIsIm93bmVyRGVidWdJRCIsIm9uZUtleU9iaiIsInRvT2JqZWN0Iiwic2hvdWxkVXNlTmF0aXZlIiwidGVzdDEiLCJ0ZXN0MiIsIm9yZGVyMiIsInRlc3QzIiwic3BsaXQiLCJsZXR0ZXIiLCJwcm9wSXNFbnVtZXJhYmxlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibWFrZUVtcHR5RnVuY3Rpb24iLCJ0aGF0UmV0dXJuc1RoaXMiLCJmb290ZXJMaW5rcyIsIk1haW5Gb290ZXIiLCJBcHAiLCJfYiIsIl9lMyIsIl9mNCIsIm9ic2VydmFibGUiLCJjcmVhdGVTdG9yZSIsInJlZHVjZXIiLCJlbmhhbmNlciIsImVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMiLCJuZXh0TGlzdGVuZXJzIiwiY3VycmVudExpc3RlbmVycyIsImN1cnJlbnRTdGF0ZSIsIl9pc1BsYWluT2JqZWN0MiIsImlzRGlzcGF0Y2hpbmciLCJjdXJyZW50UmVkdWNlciIsInJlcGxhY2VSZWR1Y2VyIiwibmV4dFJlZHVjZXIiLCJBY3Rpb25UeXBlcyIsIklOSVQiLCJvdXRlclN1YnNjcmliZSIsIm9ic2VydmVyIiwib2JzZXJ2ZVN0YXRlIiwiX3N5bWJvbE9ic2VydmFibGUyIiwiX3N5bWJvbE9ic2VydmFibGUiLCJnZXRQcm90b3R5cGUiLCJuYXRpdmVHZXRQcm90b3R5cGUiLCJpc0hvc3RPYmplY3QiLCJpc09iamVjdExpa2UiLCJpc1BsYWluT2JqZWN0Iiwib2JqZWN0VG9TdHJpbmciLCJvYmplY3RUYWciLCJDdG9yIiwiZnVuY1RvU3RyaW5nIiwib2JqZWN0Q3RvclN0cmluZyIsIm9iamVjdFByb3RvIiwiZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2UiLCJhY3Rpb25UeXBlIiwiYWN0aW9uTmFtZSIsImFzc2VydFJlZHVjZXJTYW5pdHkiLCJyZWR1Y2VycyIsIl9jcmVhdGVTdG9yZSIsImNvbWJpbmVSZWR1Y2VycyIsInJlZHVjZXJLZXlzIiwiZmluYWxSZWR1Y2VycyIsInNhbml0eUVycm9yIiwiZmluYWxSZWR1Y2VyS2V5cyIsImhhc0NoYW5nZWQiLCJwcmV2aW91c1N0YXRlRm9yS2V5IiwibmV4dFN0YXRlRm9yS2V5IiwiZXJyb3JNZXNzYWdlIiwiYmluZEFjdGlvbkNyZWF0b3IiLCJhY3Rpb25DcmVhdG9yIiwiYm91bmRBY3Rpb25DcmVhdG9ycyIsImFwcGx5TWlkZGxld2FyZSIsIl9sZW4iLCJtaWRkbGV3YXJlcyIsIl9rZXkiLCJfZGlzcGF0Y2giLCJjaGFpbiIsIm1pZGRsZXdhcmVBUEkiLCJtaWRkbGV3YXJlIiwiX2NvbXBvc2UyIiwiX2NvbXBvc2UiLCJjb21wb3NlIiwiZnVuY3MiLCJfcmV0IiwibGFzdCIsInJlc3QiLCJyZWR1Y2VSaWdodCIsImNvbXBvc2VkIiwiX2NyZWF0ZVN0b3JlMiIsIl9jb21iaW5lUmVkdWNlcnMiLCJfY29tYmluZVJlZHVjZXJzMiIsIl9iaW5kQWN0aW9uQ3JlYXRvcnMiLCJfYmluZEFjdGlvbkNyZWF0b3JzMiIsIl9hcHBseU1pZGRsZXdhcmUiLCJfYXBwbHlNaWRkbGV3YXJlMiIsInRodW5rTWlkZGxld2FyZSIsIl90b0NvbnN1bWFibGVBcnJheSIsIl8yIiwiX2M1IiwiX3JlZiRpbml0aWFsU3RhdGUiLCJfcmVmJG1pZGRsZXdhcmVzIiwicm9vdFJlZHVjZXIiLCJJT2JqZWN0IiwiQSIsIkIiLCJLIiwiVCIsIiQkIiwiJCRsZW4iLCJnZXRLZXlzIiwiZ2V0U3ltYm9scyIsImlzRW51bSIsIl9PYmplY3QkYXNzaWduIiwiZGVmaW5lZCIsImlzQXJyYXlJdGVyIiwidG9MZW5ndGgiLCJnZXRJdGVyRm4iLCJpdGVyIiwiYXJyYXlMaWtlIiwiTyIsIkMiLCJtYXBmbiIsIm1hcHBpbmciLCJpdGVyRm4iLCJfQXJyYXkkZnJvbSIsImFycjIiLCJ0b0ludGVnZXIiLCJUT19TVFJJTkciLCJ0aGF0IiwicG9zIiwiJGF0IiwiaXRlcmF0ZWQiLCJfdCIsIl9pIiwicG9pbnQiLCJjb2YiLCJzZXRUb1N0cmluZ1RhZyIsIkl0ZXJhdG9yUHJvdG90eXBlIiwiTkFNRSIsIkxJQlJBUlkiLCJyZWRlZmluZSIsImhpZGUiLCJJdGVyYXRvcnMiLCIkaXRlckNyZWF0ZSIsImdldFByb3RvIiwiSVRFUkFUT1IiLCJCVUdHWSIsIkZGX0lURVJBVE9SIiwiS0VZUyIsIlZBTFVFUyIsInJldHVyblRoaXMiLCJCYXNlIiwiREVGQVVMVCIsIklTX1NFVCIsIkZPUkNFRCIsIm1ldGhvZHMiLCJnZXRNZXRob2QiLCJUQUciLCJERUZfVkFMVUVTIiwiVkFMVUVTX0JVRyIsIiRuYXRpdmUiLCIkZGVmYXVsdCIsImFkZFRvVW5zY29wYWJsZXMiLCJfayIsIkFyZ3VtZW50cyIsIk5vZGVMaXN0IiwiSFRNTENvbGxlY3Rpb24iLCJQUk9UT1RZUEUiLCJvd24iLCJvdXQiLCJJU19GT1JDRUQiLCJJU19HTE9CQUwiLCJHIiwiSVNfU1RBVElDIiwiSVNfUFJPVE8iLCJJU19CSU5EIiwiSVNfV1JBUCIsIlciLCJhbk9iamVjdCIsIkFycmF5UHJvdG8iLCJjZWlsIiwiZmxvb3IiLCJBUkciLCJjbGFzc29mIiwiZ2V0SXRlcmF0b3JNZXRob2QiLCJpdGVyYWJsZSIsImlzT2JqZWN0IiwiY2hlY2siLCJidWdneSIsImFGdW5jdGlvbiIsIlNQRUNJRVMiLCJ1biIsImNoYW5uZWwiLCJwb3J0IiwiaW52b2tlIiwiY2VsIiwic2V0VGFzayIsInNldEltbWVkaWF0ZSIsImNsZWFyVGFzayIsImNsZWFySW1tZWRpYXRlIiwiTWVzc2FnZUNoYW5uZWwiLCJjb3VudGVyIiwiT05SRUFEWVNUQVRFQ0hBTkdFIiwicnVuIiwibGlzdG5lciIsIm5leHRUaWNrIiwicG9ydDIiLCJwb3J0MSIsIm9ubWVzc2FnZSIsInBvc3RNZXNzYWdlIiwiaW1wb3J0U2NyaXB0cyIsInNldFRpbWVvdXQiLCJjbGVhciIsIm5vdGlmeSIsIm1hY3JvdGFzayIsIk9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiLCJQcm9taXNlIiwiZmx1c2giLCJkb21haW4iLCJleGl0IiwidG9nZ2xlIiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJ0aGVuIiwidGFzayIsImJpdG1hcCIsImNyZWF0ZURlc2MiLCJkZWYiLCJzdGF0IiwiJE9iamVjdCIsInNldERlc2NzIiwiZ2V0TmFtZXMiLCJlYWNoIiwiREVTQ1JJUFRPUlMiLCJTSEFSRUQiLCJweCIsIl9fZyIsInVpZCIsIlNBRkVfQ0xPU0lORyIsInJpdGVyIiwic2tpcENsb3NpbmciLCJzYWZlIiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJxdWV1ZUluZGV4IiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJJdGVtIiwiZnVuIiwibm9vcCIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsInVtYXNrIiwiV3JhcHBlciIsInN0cmljdE5ldyIsImZvck9mIiwic2V0UHJvdG8iLCJzYW1lIiwic3BlY2llc0NvbnN0cnVjdG9yIiwiUFJPTUlTRSIsInRlc3RSZXNvbHZlIiwiVVNFX05BVElWRSIsIlAyIiwid29ya3MiLCJ0aGVuYWJsZVRoZW5Hb3R0ZW4iLCJzYW1lQ29uc3RydWN0b3IiLCJnZXRDb25zdHJ1Y3RvciIsImlzVGhlbmFibGUiLCJQcm9taXNlQ2FwYWJpbGl0eSIsInJlamVjdCIsInByb21pc2UiLCIkJHJlc29sdmUiLCIkJHJlamVjdCIsInJlY29yZCIsImlzUmVqZWN0Iiwib2siLCJyZWFjdGlvbiIsImhhbmRsZXIiLCJmYWlsIiwiaXNVbmhhbmRsZWQiLCJvbnVuaGFuZGxlZHJlamVjdGlvbiIsInJlYXNvbiIsIiRyZWplY3QiLCIkcmVzb2x2ZSIsImV4ZWN1dG9yIiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwiY2F0Y2giLCJjYXBhYmlsaXR5IiwiYWxsIiwiYWJydXB0IiwicmVtYWluaW5nIiwiYWxyZWFkeUNhbGxlZCIsInJhY2UiLCJfX2UiLCJkZWZpbmUiLCJhbWQiLCJhamF4IiwiYmFzZVVybCIsInJlZHVjZSIsIlhNTEh0dHBSZXF1ZXN0Iiwic2VuZCIsInNldFJlcXVlc3RIZWFkZXIiLCJzb21lIiwicmVhZHlTdGF0ZSIsIkRPTkUiLCJhbHdheXMiLCJzdGF0dXMiLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImVuY29kZVVSSUNvbXBvbmVudCIsIl9Qcm9taXNlIiwiRkVUQ0hfRVZFTlRTIiwiRVZFTlRTX1NVQ0NFU1MiLCJFVkVOVFNfRkFJTEVEIiwiaXNGZXRjaGluZyIsIl9leHBvcnRPYmoiLCJjb25maWd1cmVTdG9yZSIsIl9hIiwiX2Y1IiwicXVlcnlTZWxlY3RvciJdLCJtYXBwaW5ncyI6IkNBQUMsU0FBU0EsR0FBRyxRQUFTQyxHQUFFRCxFQUFFQyxFQUFFQyxHQUFHLE1BQU8sS0FBSUMsVUFBVUMsT0FBT0MsRUFB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akIsR0FDSDQvQixZQUFZLElBR2xCLE1BQU81L0IsSXBVMHFqQkgySSxFQUFRLFVvVXZxakJDcndCLE9wVTJxakJmeDRDLEVBQVVOLFNBQVMsT0FBUSxPQUFRLFNBQVVtcEUsR3FVaHVqQjdDLFlyVW11akJFLElBQUlyd0IsRUFDSixRQUNFNzZDLFNBQVUsU0FBVWtCLEdBQ2xCMjVDLEVBQVMzNUMsRUFBRSxhQUViekMsUUFBUyxXQUNQeXNFLEVBQVEsV3FVcnVqQkdyd0IsT0FBQUEsUXJVeXVqQmpCeDRDLEVBQVVOLFNBQVMsS0FBTSxNQUFPLE1BQU8sS0FBTSxLQUFNLEtBQU0sTUFBTyxTQUFVbXBFLEdzVTd1akIxRSxZdFVndmpCRSxJQUFJbTNCLEdBQWdCcFIsRUFBVXJtQixFQUFPeFosRUFBUStjLEVBQVV1Z0IsRXNVdnVqQm5EcmdCLEN0VXd1akJKLFFBQ0VydUUsU0FBVSxTQUFVa0IsR0FDbEJtaEcsRUFBaUJuaEcsRUFBRSxZQUNsQixTQUFVdXlGLEdBQ1h4QyxFQUFXd0MsRUFBRyxZQUNiLFNBQVVyb0IsR0FDWFIsRUFBUVEsRUFBRyxZQUNWLFNBQVVrM0IsR0FDWGx4QyxFQUFTa3hDLEVzVXR2akJObHhDLFF0VXV2akJGLFNBQVUwYixHQUNYcUIsRUFBV3JCLEVzVXZ2akJScUIsVXRVd3ZqQkYsU0FBVW8wQixHQUNYN1QsRUFBTTZULEVBQUksYUFFWjlqRyxRQUFTLFdzVXR2akJQNHZFLEVBQVFnMEIsR0FBaUJwUixTQUFBQSxJQUUvQjcvQixFQUNFd1osRUFBQXhyRCxjQUFDK3VELEdBQVNFLE1BQU9BLEdBQ2Z6RCxFQUFBeHJELGNBQUNzdkUsRUFBRyxPQUVObm1GLFNBQVNpNkYsY0FBYywwQnRVNHZqQnhCLFNBQVN6OEIsR0FDUkEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcihlLHIsbyl7cmV0dXJuIDQ9PT1hcmd1bWVudHMubGVuZ3RoP3QuYXBwbHkodGhpcyxhcmd1bWVudHMpOnZvaWQgbihlLHtkZWNsYXJhdGl2ZTohMCxkZXBzOnIsZGVjbGFyZTpvfSl9ZnVuY3Rpb24gdChlLHIsdCxvKXtuKGUse2RlY2xhcmF0aXZlOiExLGRlcHM6cixleGVjdXRpbmdSZXF1aXJlOnQsZXhlY3V0ZTpvfSl9ZnVuY3Rpb24gbihlLHIpe3IubmFtZT1lLGUgaW4gZ3x8KGdbZV09ciksci5ub3JtYWxpemVkRGVwcz1yLmRlcHN9ZnVuY3Rpb24gbyhlLHIpe2lmKHJbZS5ncm91cEluZGV4XT1yW2UuZ3JvdXBJbmRleF18fFtdLC0xPT1tLmNhbGwocltlLmdyb3VwSW5kZXhdLGUpKXtyW2UuZ3JvdXBJbmRleF0ucHVzaChlKTtmb3IodmFyIHQ9MCxuPWUubm9ybWFsaXplZERlcHMubGVuZ3RoO24+dDt0Kyspe3ZhciBhPWUubm9ybWFsaXplZERlcHNbdF0sdT1nW2FdO2lmKHUmJiF1LmV2YWx1YXRlZCl7dmFyIGQ9ZS5ncm91cEluZGV4Kyh1LmRlY2xhcmF0aXZlIT1lLmRlY2xhcmF0aXZlKTtpZih2b2lkIDA9PT11Lmdyb3VwSW5kZXh8fHUuZ3JvdXBJbmRleDxkKXtpZih2b2lkIDAhPT11Lmdyb3VwSW5kZXgmJihyW3UuZ3JvdXBJbmRleF0uc3BsaWNlKG0uY2FsbChyW3UuZ3JvdXBJbmRleF0sdSksMSksMD09clt1Lmdyb3VwSW5kZXhdLmxlbmd0aCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk1peGVkIGRlcGVuZGVuY3kgY3ljbGUgZGV0ZWN0ZWRcIik7dS5ncm91cEluZGV4PWR9byh1LHIpfX19fWZ1bmN0aW9uIGEoZSl7dmFyIHI9Z1tlXTtyLmdyb3VwSW5kZXg9MDt2YXIgdD1bXTtvKHIsdCk7Zm9yKHZhciBuPSEhci5kZWNsYXJhdGl2ZT09dC5sZW5ndGglMixhPXQubGVuZ3RoLTE7YT49MDthLS0pe2Zvcih2YXIgdT10W2FdLGk9MDtpPHUubGVuZ3RoO2krKyl7dmFyIHM9dVtpXTtuP2Qocyk6bChzKX1uPSFufX1mdW5jdGlvbiB1KGUpe3JldHVybiBEW2VdfHwoRFtlXT17bmFtZTplLGRlcGVuZGVuY2llczpbXSxleHBvcnRzOnt9LGltcG9ydGVyczpbXX0pfWZ1bmN0aW9uIGQocil7aWYoIXIubW9kdWxlKXt2YXIgdD1yLm1vZHVsZT11KHIubmFtZSksbj1yLm1vZHVsZS5leHBvcnRzLG89ci5kZWNsYXJlLmNhbGwoZSxmdW5jdGlvbihlLHIpe2lmKHQubG9ja2VkPSEwLFwib2JqZWN0XCI9PXR5cGVvZiBlKWZvcih2YXIgbyBpbiBlKW5bb109ZVtvXTtlbHNlIG5bZV09cjtmb3IodmFyIGE9MCx1PXQuaW1wb3J0ZXJzLmxlbmd0aDt1PmE7YSsrKXt2YXIgZD10LmltcG9ydGVyc1thXTtpZighZC5sb2NrZWQpZm9yKHZhciBpPTA7aTxkLmRlcGVuZGVuY2llcy5sZW5ndGg7KytpKWQuZGVwZW5kZW5jaWVzW2ldPT09dCYmZC5zZXR0ZXJzW2ldKG4pfXJldHVybiB0LmxvY2tlZD0hMSxyfSxyLm5hbWUpO3Quc2V0dGVycz1vLnNldHRlcnMsdC5leGVjdXRlPW8uZXhlY3V0ZTtmb3IodmFyIGE9MCxpPXIubm9ybWFsaXplZERlcHMubGVuZ3RoO2k+YTthKyspe3ZhciBsLHM9ci5ub3JtYWxpemVkRGVwc1thXSxjPWdbc10sZj1EW3NdO2Y/bD1mLmV4cG9ydHM6YyYmIWMuZGVjbGFyYXRpdmU/bD1jLmVzTW9kdWxlOmM/KGQoYyksZj1jLm1vZHVsZSxsPWYuZXhwb3J0cyk6bD12KHMpLGYmJmYuaW1wb3J0ZXJzPyhmLmltcG9ydGVycy5wdXNoKHQpLHQuZGVwZW5kZW5jaWVzLnB1c2goZikpOnQuZGVwZW5kZW5jaWVzLnB1c2gobnVsbCksdC5zZXR0ZXJzW2FdJiZ0LnNldHRlcnNbYV0obCl9fX1mdW5jdGlvbiBpKGUpe3ZhciByLHQ9Z1tlXTtpZih0KXQuZGVjbGFyYXRpdmU/cChlLFtdKTp0LmV2YWx1YXRlZHx8bCh0KSxyPXQubW9kdWxlLmV4cG9ydHM7ZWxzZSBpZihyPXYoZSksIXIpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGxvYWQgZGVwZW5kZW5jeSBcIitlK1wiLlwiKTtyZXR1cm4oIXR8fHQuZGVjbGFyYXRpdmUpJiZyJiZyLl9fdXNlRGVmYXVsdD9yW1wiZGVmYXVsdFwiXTpyfWZ1bmN0aW9uIGwocil7aWYoIXIubW9kdWxlKXt2YXIgdD17fSxuPXIubW9kdWxlPXtleHBvcnRzOnQsaWQ6ci5uYW1lfTtpZighci5leGVjdXRpbmdSZXF1aXJlKWZvcih2YXIgbz0wLGE9ci5ub3JtYWxpemVkRGVwcy5sZW5ndGg7YT5vO28rKyl7dmFyIHU9ci5ub3JtYWxpemVkRGVwc1tvXSxkPWdbdV07ZCYmbChkKX1yLmV2YWx1YXRlZD0hMDt2YXIgYz1yLmV4ZWN1dGUuY2FsbChlLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49ci5kZXBzLmxlbmd0aDtuPnQ7dCsrKWlmKHIuZGVwc1t0XT09ZSlyZXR1cm4gaShyLm5vcm1hbGl6ZWREZXBzW3RdKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiTW9kdWxlIFwiK2UrXCIgbm90IGRlY2xhcmVkIGFzIGEgZGVwZW5kZW5jeS5cIil9LHQsbik7YyYmKG4uZXhwb3J0cz1jKSx0PW4uZXhwb3J0cyx0JiZ0Ll9fZXNNb2R1bGU/ci5lc01vZHVsZT10OnIuZXNNb2R1bGU9cyh0KX19ZnVuY3Rpb24gcyhlKXt2YXIgcj17fTtpZihcIm9iamVjdFwiPT10eXBlb2YgZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSl7dmFyIHQ9ZSYmZS5oYXNPd25Qcm9wZXJ0eTtpZihoKWZvcih2YXIgbiBpbiBlKWYocixlLG4pfHxjKHIsZSxuLHQpO2Vsc2UgZm9yKHZhciBuIGluIGUpYyhyLGUsbix0KX1yZXR1cm4gcltcImRlZmF1bHRcIl09ZSx5KHIsXCJfX3VzZURlZmF1bHRcIix7dmFsdWU6ITB9KSxyfWZ1bmN0aW9uIGMoZSxyLHQsbil7KCFufHxyLmhhc093blByb3BlcnR5KHQpKSYmKGVbdF09clt0XSl9ZnVuY3Rpb24gZihlLHIsdCl7dHJ5e3ZhciBuO3JldHVybihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSkmJnkoZSx0LG4pLCEwfWNhdGNoKG8pe3JldHVybiExfX1mdW5jdGlvbiBwKHIsdCl7dmFyIG49Z1tyXTtpZihuJiYhbi5ldmFsdWF0ZWQmJm4uZGVjbGFyYXRpdmUpe3QucHVzaChyKTtmb3IodmFyIG89MCxhPW4ubm9ybWFsaXplZERlcHMubGVuZ3RoO2E+bztvKyspe3ZhciB1PW4ubm9ybWFsaXplZERlcHNbb107LTE9PW0uY2FsbCh0LHUpJiYoZ1t1XT9wKHUsdCk6dih1KSl9bi5ldmFsdWF0ZWR8fChuLmV2YWx1YXRlZD0hMCxuLm1vZHVsZS5leGVjdXRlLmNhbGwoZSkpfX1mdW5jdGlvbiB2KGUpe2lmKElbZV0pcmV0dXJuIElbZV07aWYoXCJAbm9kZS9cIj09ZS5zdWJzdHIoMCw2KSlyZXR1cm4gXyhlLnN1YnN0cig2KSk7dmFyIHI9Z1tlXTtpZighcil0aHJvd1wiTW9kdWxlIFwiK2UrXCIgbm90IHByZXNlbnQuXCI7cmV0dXJuIGEoZSkscChlLFtdKSxnW2VdPXZvaWQgMCxyLmRlY2xhcmF0aXZlJiZ5KHIubW9kdWxlLmV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksSVtlXT1yLmRlY2xhcmF0aXZlP3IubW9kdWxlLmV4cG9ydHM6ci5lc01vZHVsZX12YXIgZz17fSxtPUFycmF5LnByb3RvdHlwZS5pbmRleE9mfHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MCx0PXRoaXMubGVuZ3RoO3Q+cjtyKyspaWYodGhpc1tyXT09PWUpcmV0dXJuIHI7cmV0dXJuLTF9LGg9ITA7dHJ5e09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioe2E6MH0sXCJhXCIpfWNhdGNoKHgpe2g9ITF9dmFyIHk7IWZ1bmN0aW9uKCl7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcImFcIix7fSkmJih5PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSl9Y2F0Y2goZSl7eT1mdW5jdGlvbihlLHIsdCl7dHJ5e2Vbcl09dC52YWx1ZXx8dC5nZXQuY2FsbChlKX1jYXRjaChuKXt9fX19KCk7dmFyIEQ9e30sXz1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3lzdGVtJiZTeXN0ZW0uX25vZGVSZXF1aXJlfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZS5yZXNvbHZlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmcmVxdWlyZSxJPXtcIkBlbXB0eVwiOnt9fTtyZXR1cm4gZnVuY3Rpb24oZSxuLG8pe3JldHVybiBmdW5jdGlvbihhKXthKGZ1bmN0aW9uKGEpe2Zvcih2YXIgdT17X25vZGVSZXF1aXJlOl8scmVnaXN0ZXI6cixyZWdpc3RlckR5bmFtaWM6dCxnZXQ6dixzZXQ6ZnVuY3Rpb24oZSxyKXtJW2VdPXJ9LG5ld01vZHVsZTpmdW5jdGlvbihlKXtyZXR1cm4gZX19LGQ9MDtkPG4ubGVuZ3RoO2QrKykoZnVuY3Rpb24oZSxyKXtyJiZyLl9fZXNNb2R1bGU/SVtlXT1yOklbZV09cyhyKX0pKG5bZF0sYXJndW1lbnRzW2RdKTtvKHUpO3ZhciBpPXYoZVswXSk7aWYoZS5sZW5ndGg+MSlmb3IodmFyIGQ9MTtkPGUubGVuZ3RoO2QrKyl2KGVbZF0pO3JldHVybiBpLl9fdXNlRGVmYXVsdD9pW1wiZGVmYXVsdFwiXTppfSl9fX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpnbG9iYWwpXG5cbihbXCIxXCIsXCIyXCJdLCBbXSwgZnVuY3Rpb24oJF9fU3lzdGVtKSB7XG52YXIgcmVxdWlyZSA9IHRoaXMucmVxdWlyZSwgZXhwb3J0cyA9IHRoaXMuZXhwb3J0cywgbW9kdWxlID0gdGhpcy5tb2R1bGU7XG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiM1wiLCBbXCI2XCIsIFwiNFwiLCBcIjVcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICB2YXIgUG9vbGVkQ2xhc3MgPSAkX19yZXF1aXJlKCc0Jyk7XG4gIHZhciBnZXRUZXh0Q29udGVudEFjY2Vzc29yID0gJF9fcmVxdWlyZSgnNScpO1xuICBmdW5jdGlvbiBGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUocm9vdCkge1xuICAgIHRoaXMuX3Jvb3QgPSByb290O1xuICAgIHRoaXMuX3N0YXJ0VGV4dCA9IHRoaXMuZ2V0VGV4dCgpO1xuICAgIHRoaXMuX2ZhbGxiYWNrVGV4dCA9IG51bGw7XG4gIH1cbiAgX2Fzc2lnbihGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUucHJvdG90eXBlLCB7XG4gICAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9yb290ID0gbnVsbDtcbiAgICAgIHRoaXMuX3N0YXJ0VGV4dCA9IG51bGw7XG4gICAgICB0aGlzLl9mYWxsYmFja1RleHQgPSBudWxsO1xuICAgIH0sXG4gICAgZ2V0VGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoJ3ZhbHVlJyBpbiB0aGlzLl9yb290KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb290LnZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3Jvb3RbZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcigpXTtcbiAgICB9LFxuICAgIGdldERhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuX2ZhbGxiYWNrVGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmFsbGJhY2tUZXh0O1xuICAgICAgfVxuICAgICAgdmFyIHN0YXJ0O1xuICAgICAgdmFyIHN0YXJ0VmFsdWUgPSB0aGlzLl9zdGFydFRleHQ7XG4gICAgICB2YXIgc3RhcnRMZW5ndGggPSBzdGFydFZhbHVlLmxlbmd0aDtcbiAgICAgIHZhciBlbmQ7XG4gICAgICB2YXIgZW5kVmFsdWUgPSB0aGlzLmdldFRleHQoKTtcbiAgICAgIHZhciBlbmRMZW5ndGggPSBlbmRWYWx1ZS5sZW5ndGg7XG4gICAgICBmb3IgKHN0YXJ0ID0gMDsgc3RhcnQgPCBzdGFydExlbmd0aDsgc3RhcnQrKykge1xuICAgICAgICBpZiAoc3RhcnRWYWx1ZVtzdGFydF0gIT09IGVuZFZhbHVlW3N0YXJ0XSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgbWluRW5kID0gc3RhcnRMZW5ndGggLSBzdGFydDtcbiAgICAgIGZvciAoZW5kID0gMTsgZW5kIDw9IG1pbkVuZDsgZW5kKyspIHtcbiAgICAgICAgaWYgKHN0YXJ0VmFsdWVbc3RhcnRMZW5ndGggLSBlbmRdICE9PSBlbmRWYWx1ZVtlbmRMZW5ndGggLSBlbmRdKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBzbGljZVRhaWwgPSBlbmQgPiAxID8gMSAtIGVuZCA6IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX2ZhbGxiYWNrVGV4dCA9IGVuZFZhbHVlLnNsaWNlKHN0YXJ0LCBzbGljZVRhaWwpO1xuICAgICAgcmV0dXJuIHRoaXMuX2ZhbGxiYWNrVGV4dDtcbiAgICB9XG4gIH0pO1xuICBQb29sZWRDbGFzcy5hZGRQb29saW5nVG8oRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiN1wiLCBbXCI4XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgU3ludGhldGljRXZlbnQgPSAkX19yZXF1aXJlKCc4Jyk7XG4gIHZhciBDb21wb3NpdGlvbkV2ZW50SW50ZXJmYWNlID0ge2RhdGE6IG51bGx9O1xuICBmdW5jdGlvbiBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgcmV0dXJuIFN5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICB9XG4gIFN5bnRoZXRpY0V2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50LCBDb21wb3NpdGlvbkV2ZW50SW50ZXJmYWNlKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjlcIiwgW1wiOFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFN5bnRoZXRpY0V2ZW50ID0gJF9fcmVxdWlyZSgnOCcpO1xuICB2YXIgSW5wdXRFdmVudEludGVyZmFjZSA9IHtkYXRhOiBudWxsfTtcbiAgZnVuY3Rpb24gU3ludGhldGljSW5wdXRFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHJldHVybiBTeW50aGV0aWNFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgfVxuICBTeW50aGV0aWNFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljSW5wdXRFdmVudCwgSW5wdXRFdmVudEludGVyZmFjZSk7XG4gIG1vZHVsZS5leHBvcnRzID0gU3ludGhldGljSW5wdXRFdmVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJhXCIsIFtcImJcIiwgXCJjXCIsIFwiZFwiLCBcIjNcIiwgXCI3XCIsIFwiOVwiLCBcImVcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBFdmVudENvbnN0YW50cyA9ICRfX3JlcXVpcmUoJ2InKTtcbiAgdmFyIEV2ZW50UHJvcGFnYXRvcnMgPSAkX19yZXF1aXJlKCdjJyk7XG4gIHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9ICRfX3JlcXVpcmUoJ2QnKTtcbiAgdmFyIEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZSA9ICRfX3JlcXVpcmUoJzMnKTtcbiAgdmFyIFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQgPSAkX19yZXF1aXJlKCc3Jyk7XG4gIHZhciBTeW50aGV0aWNJbnB1dEV2ZW50ID0gJF9fcmVxdWlyZSgnOScpO1xuICB2YXIga2V5T2YgPSAkX19yZXF1aXJlKCdlJyk7XG4gIHZhciBFTkRfS0VZQ09ERVMgPSBbOSwgMTMsIDI3LCAzMl07XG4gIHZhciBTVEFSVF9LRVlDT0RFID0gMjI5O1xuICB2YXIgY2FuVXNlQ29tcG9zaXRpb25FdmVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnQ29tcG9zaXRpb25FdmVudCcgaW4gd2luZG93O1xuICB2YXIgZG9jdW1lbnRNb2RlID0gbnVsbDtcbiAgaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnZG9jdW1lbnRNb2RlJyBpbiBkb2N1bWVudCkge1xuICAgIGRvY3VtZW50TW9kZSA9IGRvY3VtZW50LmRvY3VtZW50TW9kZTtcbiAgfVxuICB2YXIgY2FuVXNlVGV4dElucHV0RXZlbnQgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgJ1RleHRFdmVudCcgaW4gd2luZG93ICYmICFkb2N1bWVudE1vZGUgJiYgIWlzUHJlc3RvKCk7XG4gIHZhciB1c2VGYWxsYmFja0NvbXBvc2l0aW9uRGF0YSA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAoIWNhblVzZUNvbXBvc2l0aW9uRXZlbnQgfHwgZG9jdW1lbnRNb2RlICYmIGRvY3VtZW50TW9kZSA+IDggJiYgZG9jdW1lbnRNb2RlIDw9IDExKTtcbiAgZnVuY3Rpb24gaXNQcmVzdG8oKSB7XG4gICAgdmFyIG9wZXJhID0gd2luZG93Lm9wZXJhO1xuICAgIHJldHVybiB0eXBlb2Ygb3BlcmEgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvcGVyYS52ZXJzaW9uID09PSAnZnVuY3Rpb24nICYmIHBhcnNlSW50KG9wZXJhLnZlcnNpb24oKSwgMTApIDw9IDEyO1xuICB9XG4gIHZhciBTUEFDRUJBUl9DT0RFID0gMzI7XG4gIHZhciBTUEFDRUJBUl9DSEFSID0gU3RyaW5nLmZyb21DaGFyQ29kZShTUEFDRUJBUl9DT0RFKTtcbiAgdmFyIHRvcExldmVsVHlwZXMgPSBFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzO1xuICB2YXIgZXZlbnRUeXBlcyA9IHtcbiAgICBiZWZvcmVJbnB1dDoge1xuICAgICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQmVmb3JlSW5wdXQ6IG51bGx9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkJlZm9yZUlucHV0Q2FwdHVyZTogbnVsbH0pXG4gICAgICB9LFxuICAgICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BDb21wb3NpdGlvbkVuZCwgdG9wTGV2ZWxUeXBlcy50b3BLZXlQcmVzcywgdG9wTGV2ZWxUeXBlcy50b3BUZXh0SW5wdXQsIHRvcExldmVsVHlwZXMudG9wUGFzdGVdXG4gICAgfSxcbiAgICBjb21wb3NpdGlvbkVuZDoge1xuICAgICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ29tcG9zaXRpb25FbmQ6IG51bGx9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkNvbXBvc2l0aW9uRW5kQ2FwdHVyZTogbnVsbH0pXG4gICAgICB9LFxuICAgICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BCbHVyLCB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kLCB0b3BMZXZlbFR5cGVzLnRvcEtleURvd24sIHRvcExldmVsVHlwZXMudG9wS2V5UHJlc3MsIHRvcExldmVsVHlwZXMudG9wS2V5VXAsIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duXVxuICAgIH0sXG4gICAgY29tcG9zaXRpb25TdGFydDoge1xuICAgICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ29tcG9zaXRpb25TdGFydDogbnVsbH0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQ29tcG9zaXRpb25TdGFydENhcHR1cmU6IG51bGx9KVxuICAgICAgfSxcbiAgICAgIGRlcGVuZGVuY2llczogW3RvcExldmVsVHlwZXMudG9wQmx1ciwgdG9wTGV2ZWxUeXBlcy50b3BDb21wb3NpdGlvblN0YXJ0LCB0b3BMZXZlbFR5cGVzLnRvcEtleURvd24sIHRvcExldmVsVHlwZXMudG9wS2V5UHJlc3MsIHRvcExldmVsVHlwZXMudG9wS2V5VXAsIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duXVxuICAgIH0sXG4gICAgY29tcG9zaXRpb25VcGRhdGU6IHtcbiAgICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNvbXBvc2l0aW9uVXBkYXRlOiBudWxsfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Db21wb3NpdGlvblVwZGF0ZUNhcHR1cmU6IG51bGx9KVxuICAgICAgfSxcbiAgICAgIGRlcGVuZGVuY2llczogW3RvcExldmVsVHlwZXMudG9wQmx1ciwgdG9wTGV2ZWxUeXBlcy50b3BDb21wb3NpdGlvblVwZGF0ZSwgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duLCB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzLCB0b3BMZXZlbFR5cGVzLnRvcEtleVVwLCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93bl1cbiAgICB9XG4gIH07XG4gIHZhciBoYXNTcGFjZUtleXByZXNzID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGlzS2V5cHJlc3NDb21tYW5kKG5hdGl2ZUV2ZW50KSB7XG4gICAgcmV0dXJuIChuYXRpdmVFdmVudC5jdHJsS2V5IHx8IG5hdGl2ZUV2ZW50LmFsdEtleSB8fCBuYXRpdmVFdmVudC5tZXRhS2V5KSAmJiAhKG5hdGl2ZUV2ZW50LmN0cmxLZXkgJiYgbmF0aXZlRXZlbnQuYWx0S2V5KTtcbiAgfVxuICBmdW5jdGlvbiBnZXRDb21wb3NpdGlvbkV2ZW50VHlwZSh0b3BMZXZlbFR5cGUpIHtcbiAgICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uU3RhcnQ6XG4gICAgICAgIHJldHVybiBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQ7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25FbmQ6XG4gICAgICAgIHJldHVybiBldmVudFR5cGVzLmNvbXBvc2l0aW9uRW5kO1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uVXBkYXRlOlxuICAgICAgICByZXR1cm4gZXZlbnRUeXBlcy5jb21wb3NpdGlvblVwZGF0ZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaXNGYWxsYmFja0NvbXBvc2l0aW9uU3RhcnQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICAgIHJldHVybiB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wS2V5RG93biAmJiBuYXRpdmVFdmVudC5rZXlDb2RlID09PSBTVEFSVF9LRVlDT0RFO1xuICB9XG4gIGZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gICAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlVcDpcbiAgICAgICAgcmV0dXJuIEVORF9LRVlDT0RFUy5pbmRleE9mKG5hdGl2ZUV2ZW50LmtleUNvZGUpICE9PSAtMTtcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duOlxuICAgICAgICByZXR1cm4gbmF0aXZlRXZlbnQua2V5Q29kZSAhPT0gU1RBUlRfS0VZQ09ERTtcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlQcmVzczpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZURvd246XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQmx1cjpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgICB2YXIgZGV0YWlsID0gbmF0aXZlRXZlbnQuZGV0YWlsO1xuICAgIGlmICh0eXBlb2YgZGV0YWlsID09PSAnb2JqZWN0JyAmJiAnZGF0YScgaW4gZGV0YWlsKSB7XG4gICAgICByZXR1cm4gZGV0YWlsLmRhdGE7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBjdXJyZW50Q29tcG9zaXRpb24gPSBudWxsO1xuICBmdW5jdGlvbiBleHRyYWN0Q29tcG9zaXRpb25FdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHZhciBldmVudFR5cGU7XG4gICAgdmFyIGZhbGxiYWNrRGF0YTtcbiAgICBpZiAoY2FuVXNlQ29tcG9zaXRpb25FdmVudCkge1xuICAgICAgZXZlbnRUeXBlID0gZ2V0Q29tcG9zaXRpb25FdmVudFR5cGUodG9wTGV2ZWxUeXBlKTtcbiAgICB9IGVsc2UgaWYgKCFjdXJyZW50Q29tcG9zaXRpb24pIHtcbiAgICAgIGlmIChpc0ZhbGxiYWNrQ29tcG9zaXRpb25TdGFydCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICBldmVudFR5cGUgPSBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkpIHtcbiAgICAgIGV2ZW50VHlwZSA9IGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQ7XG4gICAgfVxuICAgIGlmICghZXZlbnRUeXBlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhKSB7XG4gICAgICBpZiAoIWN1cnJlbnRDb21wb3NpdGlvbiAmJiBldmVudFR5cGUgPT09IGV2ZW50VHlwZXMuY29tcG9zaXRpb25TdGFydCkge1xuICAgICAgICBjdXJyZW50Q29tcG9zaXRpb24gPSBGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUuZ2V0UG9vbGVkKG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlID09PSBldmVudFR5cGVzLmNvbXBvc2l0aW9uRW5kKSB7XG4gICAgICAgIGlmIChjdXJyZW50Q29tcG9zaXRpb24pIHtcbiAgICAgICAgICBmYWxsYmFja0RhdGEgPSBjdXJyZW50Q29tcG9zaXRpb24uZ2V0RGF0YSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBldmVudCA9IFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQuZ2V0UG9vbGVkKGV2ZW50VHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICBpZiAoZmFsbGJhY2tEYXRhKSB7XG4gICAgICBldmVudC5kYXRhID0gZmFsbGJhY2tEYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY3VzdG9tRGF0YSA9IGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgICAgaWYgKGN1c3RvbURhdGEgIT09IG51bGwpIHtcbiAgICAgICAgZXZlbnQuZGF0YSA9IGN1c3RvbURhdGE7XG4gICAgICB9XG4gICAgfVxuICAgIEV2ZW50UHJvcGFnYXRvcnMuYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudCk7XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG4gIGZ1bmN0aW9uIGdldE5hdGl2ZUJlZm9yZUlucHV0Q2hhcnModG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICAgIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25FbmQ6XG4gICAgICAgIHJldHVybiBnZXREYXRhRnJvbUN1c3RvbUV2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlQcmVzczpcbiAgICAgICAgdmFyIHdoaWNoID0gbmF0aXZlRXZlbnQud2hpY2g7XG4gICAgICAgIGlmICh3aGljaCAhPT0gU1BBQ0VCQVJfQ09ERSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGhhc1NwYWNlS2V5cHJlc3MgPSB0cnVlO1xuICAgICAgICByZXR1cm4gU1BBQ0VCQVJfQ0hBUjtcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BUZXh0SW5wdXQ6XG4gICAgICAgIHZhciBjaGFycyA9IG5hdGl2ZUV2ZW50LmRhdGE7XG4gICAgICAgIGlmIChjaGFycyA9PT0gU1BBQ0VCQVJfQ0hBUiAmJiBoYXNTcGFjZUtleXByZXNzKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYXJzO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldEZhbGxiYWNrQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gICAgaWYgKGN1cnJlbnRDb21wb3NpdGlvbikge1xuICAgICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BDb21wb3NpdGlvbkVuZCB8fCBpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgdmFyIGNoYXJzID0gY3VycmVudENvbXBvc2l0aW9uLmdldERhdGEoKTtcbiAgICAgICAgRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlLnJlbGVhc2UoY3VycmVudENvbXBvc2l0aW9uKTtcbiAgICAgICAgY3VycmVudENvbXBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGNoYXJzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wUGFzdGU6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzOlxuICAgICAgICBpZiAobmF0aXZlRXZlbnQud2hpY2ggJiYgIWlzS2V5cHJlc3NDb21tYW5kKG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG5hdGl2ZUV2ZW50LndoaWNoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDb21wb3NpdGlvbkVuZDpcbiAgICAgICAgcmV0dXJuIHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhID8gbnVsbCA6IG5hdGl2ZUV2ZW50LmRhdGE7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZXh0cmFjdEJlZm9yZUlucHV0RXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICB2YXIgY2hhcnM7XG4gICAgaWYgKGNhblVzZVRleHRJbnB1dEV2ZW50KSB7XG4gICAgICBjaGFycyA9IGdldE5hdGl2ZUJlZm9yZUlucHV0Q2hhcnModG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoYXJzID0gZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICAgIH1cbiAgICBpZiAoIWNoYXJzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGV2ZW50ID0gU3ludGhldGljSW5wdXRFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5iZWZvcmVJbnB1dCwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICBldmVudC5kYXRhID0gY2hhcnM7XG4gICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cbiAgdmFyIEJlZm9yZUlucHV0RXZlbnRQbHVnaW4gPSB7XG4gICAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyxcbiAgICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgcmV0dXJuIFtleHRyYWN0Q29tcG9zaXRpb25FdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCksIGV4dHJhY3RCZWZvcmVJbnB1dEV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KV07XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IEJlZm9yZUlucHV0RXZlbnRQbHVnaW47XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZlwiLCBbXCJiXCIsIFwiMTBcIiwgXCJjXCIsIFwiZFwiLCBcIjExXCIsIFwiMTJcIiwgXCI4XCIsIFwiMTNcIiwgXCIxNFwiLCBcIjE1XCIsIFwiZVwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBFdmVudENvbnN0YW50cyA9ICRfX3JlcXVpcmUoJ2InKTtcbiAgICB2YXIgRXZlbnRQbHVnaW5IdWIgPSAkX19yZXF1aXJlKCcxMCcpO1xuICAgIHZhciBFdmVudFByb3BhZ2F0b3JzID0gJF9fcmVxdWlyZSgnYycpO1xuICAgIHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9ICRfX3JlcXVpcmUoJ2QnKTtcbiAgICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gJF9fcmVxdWlyZSgnMTEnKTtcbiAgICB2YXIgUmVhY3RVcGRhdGVzID0gJF9fcmVxdWlyZSgnMTInKTtcbiAgICB2YXIgU3ludGhldGljRXZlbnQgPSAkX19yZXF1aXJlKCc4Jyk7XG4gICAgdmFyIGdldEV2ZW50VGFyZ2V0ID0gJF9fcmVxdWlyZSgnMTMnKTtcbiAgICB2YXIgaXNFdmVudFN1cHBvcnRlZCA9ICRfX3JlcXVpcmUoJzE0Jyk7XG4gICAgdmFyIGlzVGV4dElucHV0RWxlbWVudCA9ICRfX3JlcXVpcmUoJzE1Jyk7XG4gICAgdmFyIGtleU9mID0gJF9fcmVxdWlyZSgnZScpO1xuICAgIHZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbiAgICB2YXIgZXZlbnRUeXBlcyA9IHtjaGFuZ2U6IHtcbiAgICAgICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25DaGFuZ2U6IG51bGx9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQ2hhbmdlQ2FwdHVyZTogbnVsbH0pXG4gICAgICAgIH0sXG4gICAgICAgIGRlcGVuZGVuY2llczogW3RvcExldmVsVHlwZXMudG9wQmx1ciwgdG9wTGV2ZWxUeXBlcy50b3BDaGFuZ2UsIHRvcExldmVsVHlwZXMudG9wQ2xpY2ssIHRvcExldmVsVHlwZXMudG9wRm9jdXMsIHRvcExldmVsVHlwZXMudG9wSW5wdXQsIHRvcExldmVsVHlwZXMudG9wS2V5RG93biwgdG9wTGV2ZWxUeXBlcy50b3BLZXlVcCwgdG9wTGV2ZWxUeXBlcy50b3BTZWxlY3Rpb25DaGFuZ2VdXG4gICAgICB9fTtcbiAgICB2YXIgYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gICAgdmFyIGFjdGl2ZUVsZW1lbnRJbnN0ID0gbnVsbDtcbiAgICB2YXIgYWN0aXZlRWxlbWVudFZhbHVlID0gbnVsbDtcbiAgICB2YXIgYWN0aXZlRWxlbWVudFZhbHVlUHJvcCA9IG51bGw7XG4gICAgZnVuY3Rpb24gc2hvdWxkVXNlQ2hhbmdlRXZlbnQoZWxlbSkge1xuICAgICAgdmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gbm9kZU5hbWUgPT09ICdzZWxlY3QnIHx8IG5vZGVOYW1lID09PSAnaW5wdXQnICYmIGVsZW0udHlwZSA9PT0gJ2ZpbGUnO1xuICAgIH1cbiAgICB2YXIgZG9lc0NoYW5nZUV2ZW50QnViYmxlID0gZmFsc2U7XG4gICAgaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgICAgZG9lc0NoYW5nZUV2ZW50QnViYmxlID0gaXNFdmVudFN1cHBvcnRlZCgnY2hhbmdlJykgJiYgKCEoJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQpIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYW51YWxEaXNwYXRjaENoYW5nZUV2ZW50KG5hdGl2ZUV2ZW50KSB7XG4gICAgICB2YXIgZXZlbnQgPSBTeW50aGV0aWNFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5jaGFuZ2UsIGFjdGl2ZUVsZW1lbnRJbnN0LCBuYXRpdmVFdmVudCwgZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpKTtcbiAgICAgIEV2ZW50UHJvcGFnYXRvcnMuYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudCk7XG4gICAgICBSZWFjdFVwZGF0ZXMuYmF0Y2hlZFVwZGF0ZXMocnVuRXZlbnRJbkJhdGNoLCBldmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJ1bkV2ZW50SW5CYXRjaChldmVudCkge1xuICAgICAgRXZlbnRQbHVnaW5IdWIuZW5xdWV1ZUV2ZW50cyhldmVudCk7XG4gICAgICBFdmVudFBsdWdpbkh1Yi5wcm9jZXNzRXZlbnRRdWV1ZShmYWxzZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0YXJ0V2F0Y2hpbmdGb3JDaGFuZ2VFdmVudElFOCh0YXJnZXQsIHRhcmdldEluc3QpIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQgPSB0YXJnZXQ7XG4gICAgICBhY3RpdmVFbGVtZW50SW5zdCA9IHRhcmdldEluc3Q7XG4gICAgICBhY3RpdmVFbGVtZW50LmF0dGFjaEV2ZW50KCdvbmNoYW5nZScsIG1hbnVhbERpc3BhdGNoQ2hhbmdlRXZlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wV2F0Y2hpbmdGb3JDaGFuZ2VFdmVudElFOCgpIHtcbiAgICAgIGlmICghYWN0aXZlRWxlbWVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhY3RpdmVFbGVtZW50LmRldGFjaEV2ZW50KCdvbmNoYW5nZScsIG1hbnVhbERpc3BhdGNoQ2hhbmdlRXZlbnQpO1xuICAgICAgYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gICAgICBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpIHtcbiAgICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wQ2hhbmdlKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXRJbnN0O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVFdmVudHNGb3JDaGFuZ2VFdmVudElFOCh0b3BMZXZlbFR5cGUsIHRhcmdldCwgdGFyZ2V0SW5zdCkge1xuICAgICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BGb2N1cykge1xuICAgICAgICBzdG9wV2F0Y2hpbmdGb3JDaGFuZ2VFdmVudElFOCgpO1xuICAgICAgICBzdGFydFdhdGNoaW5nRm9yQ2hhbmdlRXZlbnRJRTgodGFyZ2V0LCB0YXJnZXRJbnN0KTtcbiAgICAgIH0gZWxzZSBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcEJsdXIpIHtcbiAgICAgICAgc3RvcFdhdGNoaW5nRm9yQ2hhbmdlRXZlbnRJRTgoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGlzSW5wdXRFdmVudFN1cHBvcnRlZCA9IGZhbHNlO1xuICAgIGlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgICAgIGlzSW5wdXRFdmVudFN1cHBvcnRlZCA9IGlzRXZlbnRTdXBwb3J0ZWQoJ2lucHV0JykgJiYgKCEoJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQpIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDExKTtcbiAgICB9XG4gICAgdmFyIG5ld1ZhbHVlUHJvcCA9IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBhY3RpdmVFbGVtZW50VmFsdWVQcm9wLmdldC5jYWxsKHRoaXMpO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnRWYWx1ZSA9ICcnICsgdmFsO1xuICAgICAgICBhY3RpdmVFbGVtZW50VmFsdWVQcm9wLnNldC5jYWxsKHRoaXMsIHZhbCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBzdGFydFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UodGFyZ2V0LCB0YXJnZXRJbnN0KSB7XG4gICAgICBhY3RpdmVFbGVtZW50ID0gdGFyZ2V0O1xuICAgICAgYWN0aXZlRWxlbWVudEluc3QgPSB0YXJnZXRJbnN0O1xuICAgICAgYWN0aXZlRWxlbWVudFZhbHVlID0gdGFyZ2V0LnZhbHVlO1xuICAgICAgYWN0aXZlRWxlbWVudFZhbHVlUHJvcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgJ3ZhbHVlJyk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYWN0aXZlRWxlbWVudCwgJ3ZhbHVlJywgbmV3VmFsdWVQcm9wKTtcbiAgICAgIGlmIChhY3RpdmVFbGVtZW50LmF0dGFjaEV2ZW50KSB7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQuYXR0YWNoRXZlbnQoJ29ucHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb3BlcnR5Y2hhbmdlJywgaGFuZGxlUHJvcGVydHlDaGFuZ2UsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKSB7XG4gICAgICBpZiAoIWFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVsZXRlIGFjdGl2ZUVsZW1lbnQudmFsdWU7XG4gICAgICBpZiAoYWN0aXZlRWxlbWVudC5kZXRhY2hFdmVudCkge1xuICAgICAgICBhY3RpdmVFbGVtZW50LmRldGFjaEV2ZW50KCdvbnByb3BlcnR5Y2hhbmdlJywgaGFuZGxlUHJvcGVydHlDaGFuZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aXZlRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9wZXJ0eWNoYW5nZScsIGhhbmRsZVByb3BlcnR5Q2hhbmdlLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0ID0gbnVsbDtcbiAgICAgIGFjdGl2ZUVsZW1lbnRWYWx1ZSA9IG51bGw7XG4gICAgICBhY3RpdmVFbGVtZW50VmFsdWVQcm9wID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlUHJvcGVydHlDaGFuZ2UobmF0aXZlRXZlbnQpIHtcbiAgICAgIGlmIChuYXRpdmVFdmVudC5wcm9wZXJ0eU5hbWUgIT09ICd2YWx1ZScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gbmF0aXZlRXZlbnQuc3JjRWxlbWVudC52YWx1ZTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gYWN0aXZlRWxlbWVudFZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZUVsZW1lbnRWYWx1ZSA9IHZhbHVlO1xuICAgICAgbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudChuYXRpdmVFdmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCkge1xuICAgICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BJbnB1dCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudElFKHRvcExldmVsVHlwZSwgdGFyZ2V0LCB0YXJnZXRJbnN0KSB7XG4gICAgICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcEZvY3VzKSB7XG4gICAgICAgIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCk7XG4gICAgICAgIHN0YXJ0V2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSh0YXJnZXQsIHRhcmdldEluc3QpO1xuICAgICAgfSBlbHNlIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wQmx1cikge1xuICAgICAgICBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRFdmVudElFKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCkge1xuICAgICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BTZWxlY3Rpb25DaGFuZ2UgfHwgdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcEtleVVwIHx8IHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duKSB7XG4gICAgICAgIGlmIChhY3RpdmVFbGVtZW50ICYmIGFjdGl2ZUVsZW1lbnQudmFsdWUgIT09IGFjdGl2ZUVsZW1lbnRWYWx1ZSkge1xuICAgICAgICAgIGFjdGl2ZUVsZW1lbnRWYWx1ZSA9IGFjdGl2ZUVsZW1lbnQudmFsdWU7XG4gICAgICAgICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnRJbnN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3VsZFVzZUNsaWNrRXZlbnQoZWxlbSkge1xuICAgICAgcmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnICYmIChlbGVtLnR5cGUgPT09ICdjaGVja2JveCcgfHwgZWxlbS50eXBlID09PSAncmFkaW8nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFyZ2V0SW5zdEZvckNsaWNrRXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0KSB7XG4gICAgICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcENsaWNrKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXRJbnN0O1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgQ2hhbmdlRXZlbnRQbHVnaW4gPSB7XG4gICAgICBldmVudFR5cGVzOiBldmVudFR5cGVzLFxuICAgICAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICAgICAgdmFyIHRhcmdldE5vZGUgPSB0YXJnZXRJbnN0ID8gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UodGFyZ2V0SW5zdCkgOiB3aW5kb3c7XG4gICAgICAgIHZhciBnZXRUYXJnZXRJbnN0RnVuYyxcbiAgICAgICAgICAgIGhhbmRsZUV2ZW50RnVuYztcbiAgICAgICAgaWYgKHNob3VsZFVzZUNoYW5nZUV2ZW50KHRhcmdldE5vZGUpKSB7XG4gICAgICAgICAgaWYgKGRvZXNDaGFuZ2VFdmVudEJ1YmJsZSkge1xuICAgICAgICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9yQ2hhbmdlRXZlbnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZUV2ZW50RnVuYyA9IGhhbmRsZUV2ZW50c0ZvckNoYW5nZUV2ZW50SUU4O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc1RleHRJbnB1dEVsZW1lbnQodGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICBpZiAoaXNJbnB1dEV2ZW50U3VwcG9ydGVkKSB7XG4gICAgICAgICAgICBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50SUU7XG4gICAgICAgICAgICBoYW5kbGVFdmVudEZ1bmMgPSBoYW5kbGVFdmVudHNGb3JJbnB1dEV2ZW50SUU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNob3VsZFVzZUNsaWNrRXZlbnQodGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JDbGlja0V2ZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZXRUYXJnZXRJbnN0RnVuYykge1xuICAgICAgICAgIHZhciBpbnN0ID0gZ2V0VGFyZ2V0SW5zdEZ1bmModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0KTtcbiAgICAgICAgICBpZiAoaW5zdCkge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gU3ludGhldGljRXZlbnQuZ2V0UG9vbGVkKGV2ZW50VHlwZXMuY2hhbmdlLCBpbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgICAgICAgZXZlbnQudHlwZSA9ICdjaGFuZ2UnO1xuICAgICAgICAgICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBldmVudDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhbmRsZUV2ZW50RnVuYykge1xuICAgICAgICAgIGhhbmRsZUV2ZW50RnVuYyh0b3BMZXZlbFR5cGUsIHRhcmdldE5vZGUsIHRhcmdldEluc3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IENoYW5nZUV2ZW50UGx1Z2luO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxN1wiLCBbXCJlXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIga2V5T2YgPSAkX19yZXF1aXJlKCdlJyk7XG4gIHZhciBEZWZhdWx0RXZlbnRQbHVnaW5PcmRlciA9IFtrZXlPZih7UmVzcG9uZGVyRXZlbnRQbHVnaW46IG51bGx9KSwga2V5T2Yoe1NpbXBsZUV2ZW50UGx1Z2luOiBudWxsfSksIGtleU9mKHtUYXBFdmVudFBsdWdpbjogbnVsbH0pLCBrZXlPZih7RW50ZXJMZWF2ZUV2ZW50UGx1Z2luOiBudWxsfSksIGtleU9mKHtDaGFuZ2VFdmVudFBsdWdpbjogbnVsbH0pLCBrZXlPZih7U2VsZWN0RXZlbnRQbHVnaW46IG51bGx9KSwga2V5T2Yoe0JlZm9yZUlucHV0RXZlbnRQbHVnaW46IG51bGx9KV07XG4gIG1vZHVsZS5leHBvcnRzID0gRGVmYXVsdEV2ZW50UGx1Z2luT3JkZXI7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMThcIiwgW1wiYlwiLCBcImNcIiwgXCIxMVwiLCBcIjE5XCIsIFwiZVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIEV2ZW50Q29uc3RhbnRzID0gJF9fcmVxdWlyZSgnYicpO1xuICB2YXIgRXZlbnRQcm9wYWdhdG9ycyA9ICRfX3JlcXVpcmUoJ2MnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9ICRfX3JlcXVpcmUoJzExJyk7XG4gIHZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gJF9fcmVxdWlyZSgnMTknKTtcbiAgdmFyIGtleU9mID0gJF9fcmVxdWlyZSgnZScpO1xuICB2YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG4gIHZhciBldmVudFR5cGVzID0ge1xuICAgIG1vdXNlRW50ZXI6IHtcbiAgICAgIHJlZ2lzdHJhdGlvbk5hbWU6IGtleU9mKHtvbk1vdXNlRW50ZXI6IG51bGx9KSxcbiAgICAgIGRlcGVuZGVuY2llczogW3RvcExldmVsVHlwZXMudG9wTW91c2VPdXQsIHRvcExldmVsVHlwZXMudG9wTW91c2VPdmVyXVxuICAgIH0sXG4gICAgbW91c2VMZWF2ZToge1xuICAgICAgcmVnaXN0cmF0aW9uTmFtZToga2V5T2Yoe29uTW91c2VMZWF2ZTogbnVsbH0pLFxuICAgICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU91dCwgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU92ZXJdXG4gICAgfVxuICB9O1xuICB2YXIgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luID0ge1xuICAgIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG4gICAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wTW91c2VPdmVyICYmIChuYXRpdmVFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LmZyb21FbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICh0b3BMZXZlbFR5cGUgIT09IHRvcExldmVsVHlwZXMudG9wTW91c2VPdXQgJiYgdG9wTGV2ZWxUeXBlICE9PSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3Zlcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHZhciB3aW47XG4gICAgICBpZiAobmF0aXZlRXZlbnRUYXJnZXQud2luZG93ID09PSBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgICB3aW4gPSBuYXRpdmVFdmVudFRhcmdldDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkb2MgPSBuYXRpdmVFdmVudFRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgICBpZiAoZG9jKSB7XG4gICAgICAgICAgd2luID0gZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3c7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2luID0gd2luZG93O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgZnJvbTtcbiAgICAgIHZhciB0bztcbiAgICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wTW91c2VPdXQpIHtcbiAgICAgICAgZnJvbSA9IHRhcmdldEluc3Q7XG4gICAgICAgIHZhciByZWxhdGVkID0gbmF0aXZlRXZlbnQucmVsYXRlZFRhcmdldCB8fCBuYXRpdmVFdmVudC50b0VsZW1lbnQ7XG4gICAgICAgIHRvID0gcmVsYXRlZCA/IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShyZWxhdGVkKSA6IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmcm9tID0gbnVsbDtcbiAgICAgICAgdG8gPSB0YXJnZXRJbnN0O1xuICAgICAgfVxuICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdmFyIGZyb21Ob2RlID0gZnJvbSA9PSBudWxsID8gd2luIDogUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoZnJvbSk7XG4gICAgICB2YXIgdG9Ob2RlID0gdG8gPT0gbnVsbCA/IHdpbiA6IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKHRvKTtcbiAgICAgIHZhciBsZWF2ZSA9IFN5bnRoZXRpY01vdXNlRXZlbnQuZ2V0UG9vbGVkKGV2ZW50VHlwZXMubW91c2VMZWF2ZSwgZnJvbSwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICAgIGxlYXZlLnR5cGUgPSAnbW91c2VsZWF2ZSc7XG4gICAgICBsZWF2ZS50YXJnZXQgPSBmcm9tTm9kZTtcbiAgICAgIGxlYXZlLnJlbGF0ZWRUYXJnZXQgPSB0b05vZGU7XG4gICAgICB2YXIgZW50ZXIgPSBTeW50aGV0aWNNb3VzZUV2ZW50LmdldFBvb2xlZChldmVudFR5cGVzLm1vdXNlRW50ZXIsIHRvLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgZW50ZXIudHlwZSA9ICdtb3VzZWVudGVyJztcbiAgICAgIGVudGVyLnRhcmdldCA9IHRvTm9kZTtcbiAgICAgIGVudGVyLnJlbGF0ZWRUYXJnZXQgPSBmcm9tTm9kZTtcbiAgICAgIEV2ZW50UHJvcGFnYXRvcnMuYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzKGxlYXZlLCBlbnRlciwgZnJvbSwgdG8pO1xuICAgICAgcmV0dXJuIFtsZWF2ZSwgZW50ZXJdO1xuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFbnRlckxlYXZlRXZlbnRQbHVnaW47XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMWFcIiwgW1wiMWJcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBET01Qcm9wZXJ0eSA9ICRfX3JlcXVpcmUoJzFiJyk7XG4gIHZhciBNVVNUX1VTRV9QUk9QRVJUWSA9IERPTVByb3BlcnR5LmluamVjdGlvbi5NVVNUX1VTRV9QUk9QRVJUWTtcbiAgdmFyIEhBU19CT09MRUFOX1ZBTFVFID0gRE9NUHJvcGVydHkuaW5qZWN0aW9uLkhBU19CT09MRUFOX1ZBTFVFO1xuICB2YXIgSEFTX1NJREVfRUZGRUNUUyA9IERPTVByb3BlcnR5LmluamVjdGlvbi5IQVNfU0lERV9FRkZFQ1RTO1xuICB2YXIgSEFTX05VTUVSSUNfVkFMVUUgPSBET01Qcm9wZXJ0eS5pbmplY3Rpb24uSEFTX05VTUVSSUNfVkFMVUU7XG4gIHZhciBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSA9IERPTVByb3BlcnR5LmluamVjdGlvbi5IQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRTtcbiAgdmFyIEhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUUgPSBET01Qcm9wZXJ0eS5pbmplY3Rpb24uSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRTtcbiAgdmFyIEhUTUxET01Qcm9wZXJ0eUNvbmZpZyA9IHtcbiAgICBpc0N1c3RvbUF0dHJpYnV0ZTogUmVnRXhwLnByb3RvdHlwZS50ZXN0LmJpbmQobmV3IFJlZ0V4cCgnXihkYXRhfGFyaWEpLVsnICsgRE9NUHJvcGVydHkuQVRUUklCVVRFX05BTUVfQ0hBUiArICddKiQnKSksXG4gICAgUHJvcGVydGllczoge1xuICAgICAgYWNjZXB0OiAwLFxuICAgICAgYWNjZXB0Q2hhcnNldDogMCxcbiAgICAgIGFjY2Vzc0tleTogMCxcbiAgICAgIGFjdGlvbjogMCxcbiAgICAgIGFsbG93RnVsbFNjcmVlbjogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgICBhbGxvd1RyYW5zcGFyZW5jeTogMCxcbiAgICAgIGFsdDogMCxcbiAgICAgIGFzeW5jOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIGF1dG9Db21wbGV0ZTogMCxcbiAgICAgIGF1dG9QbGF5OiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIGNhcHR1cmU6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgY2VsbFBhZGRpbmc6IDAsXG4gICAgICBjZWxsU3BhY2luZzogMCxcbiAgICAgIGNoYXJTZXQ6IDAsXG4gICAgICBjaGFsbGVuZ2U6IDAsXG4gICAgICBjaGVja2VkOiBNVVNUX1VTRV9QUk9QRVJUWSB8IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgY2l0ZTogMCxcbiAgICAgIGNsYXNzSUQ6IDAsXG4gICAgICBjbGFzc05hbWU6IDAsXG4gICAgICBjb2xzOiBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSxcbiAgICAgIGNvbFNwYW46IDAsXG4gICAgICBjb250ZW50OiAwLFxuICAgICAgY29udGVudEVkaXRhYmxlOiAwLFxuICAgICAgY29udGV4dE1lbnU6IDAsXG4gICAgICBjb250cm9sczogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgICBjb29yZHM6IDAsXG4gICAgICBjcm9zc09yaWdpbjogMCxcbiAgICAgIGRhdGE6IDAsXG4gICAgICBkYXRlVGltZTogMCxcbiAgICAgICdkZWZhdWx0JzogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgICBkZWZlcjogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgICBkaXI6IDAsXG4gICAgICBkaXNhYmxlZDogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgICBkb3dubG9hZDogSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRSxcbiAgICAgIGRyYWdnYWJsZTogMCxcbiAgICAgIGVuY1R5cGU6IDAsXG4gICAgICBmb3JtOiAwLFxuICAgICAgZm9ybUFjdGlvbjogMCxcbiAgICAgIGZvcm1FbmNUeXBlOiAwLFxuICAgICAgZm9ybU1ldGhvZDogMCxcbiAgICAgIGZvcm1Ob1ZhbGlkYXRlOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIGZvcm1UYXJnZXQ6IDAsXG4gICAgICBmcmFtZUJvcmRlcjogMCxcbiAgICAgIGhlYWRlcnM6IDAsXG4gICAgICBoZWlnaHQ6IDAsXG4gICAgICBoaWRkZW46IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgaGlnaDogMCxcbiAgICAgIGhyZWY6IDAsXG4gICAgICBocmVmTGFuZzogMCxcbiAgICAgIGh0bWxGb3I6IDAsXG4gICAgICBodHRwRXF1aXY6IDAsXG4gICAgICBpY29uOiAwLFxuICAgICAgaWQ6IDAsXG4gICAgICBpbnB1dE1vZGU6IDAsXG4gICAgICBpbnRlZ3JpdHk6IDAsXG4gICAgICBpczogMCxcbiAgICAgIGtleVBhcmFtczogMCxcbiAgICAgIGtleVR5cGU6IDAsXG4gICAgICBraW5kOiAwLFxuICAgICAgbGFiZWw6IDAsXG4gICAgICBsYW5nOiAwLFxuICAgICAgbGlzdDogMCxcbiAgICAgIGxvb3A6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgbG93OiAwLFxuICAgICAgbWFuaWZlc3Q6IDAsXG4gICAgICBtYXJnaW5IZWlnaHQ6IDAsXG4gICAgICBtYXJnaW5XaWR0aDogMCxcbiAgICAgIG1heDogMCxcbiAgICAgIG1heExlbmd0aDogMCxcbiAgICAgIG1lZGlhOiAwLFxuICAgICAgbWVkaWFHcm91cDogMCxcbiAgICAgIG1ldGhvZDogMCxcbiAgICAgIG1pbjogMCxcbiAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgIG11bHRpcGxlOiBNVVNUX1VTRV9QUk9QRVJUWSB8IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgbXV0ZWQ6IE1VU1RfVVNFX1BST1BFUlRZIHwgSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgICBuYW1lOiAwLFxuICAgICAgbm9uY2U6IDAsXG4gICAgICBub1ZhbGlkYXRlOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIG9wZW46IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgb3B0aW11bTogMCxcbiAgICAgIHBhdHRlcm46IDAsXG4gICAgICBwbGFjZWhvbGRlcjogMCxcbiAgICAgIHBvc3RlcjogMCxcbiAgICAgIHByZWxvYWQ6IDAsXG4gICAgICBwcm9maWxlOiAwLFxuICAgICAgcmFkaW9Hcm91cDogMCxcbiAgICAgIHJlYWRPbmx5OiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIHJlbDogMCxcbiAgICAgIHJlcXVpcmVkOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIHJldmVyc2VkOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIHJvbGU6IDAsXG4gICAgICByb3dzOiBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSxcbiAgICAgIHJvd1NwYW46IEhBU19OVU1FUklDX1ZBTFVFLFxuICAgICAgc2FuZGJveDogMCxcbiAgICAgIHNjb3BlOiAwLFxuICAgICAgc2NvcGVkOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIHNjcm9sbGluZzogMCxcbiAgICAgIHNlYW1sZXNzOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICAgIHNlbGVjdGVkOiBNVVNUX1VTRV9QUk9QRVJUWSB8IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgc2hhcGU6IDAsXG4gICAgICBzaXplOiBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSxcbiAgICAgIHNpemVzOiAwLFxuICAgICAgc3BhbjogSEFTX1BPU0lUSVZFX05VTUVSSUNfVkFMVUUsXG4gICAgICBzcGVsbENoZWNrOiAwLFxuICAgICAgc3JjOiAwLFxuICAgICAgc3JjRG9jOiAwLFxuICAgICAgc3JjTGFuZzogMCxcbiAgICAgIHNyY1NldDogMCxcbiAgICAgIHN0YXJ0OiBIQVNfTlVNRVJJQ19WQUxVRSxcbiAgICAgIHN0ZXA6IDAsXG4gICAgICBzdHlsZTogMCxcbiAgICAgIHN1bW1hcnk6IDAsXG4gICAgICB0YWJJbmRleDogMCxcbiAgICAgIHRhcmdldDogMCxcbiAgICAgIHRpdGxlOiAwLFxuICAgICAgdHlwZTogMCxcbiAgICAgIHVzZU1hcDogMCxcbiAgICAgIHZhbHVlOiBNVVNUX1VTRV9QUk9QRVJUWSB8IEhBU19TSURFX0VGRkVDVFMsXG4gICAgICB3aWR0aDogMCxcbiAgICAgIHdtb2RlOiAwLFxuICAgICAgd3JhcDogMCxcbiAgICAgIGFib3V0OiAwLFxuICAgICAgZGF0YXR5cGU6IDAsXG4gICAgICBpbmxpc3Q6IDAsXG4gICAgICBwcmVmaXg6IDAsXG4gICAgICBwcm9wZXJ0eTogMCxcbiAgICAgIHJlc291cmNlOiAwLFxuICAgICAgJ3R5cGVvZic6IDAsXG4gICAgICB2b2NhYjogMCxcbiAgICAgIGF1dG9DYXBpdGFsaXplOiAwLFxuICAgICAgYXV0b0NvcnJlY3Q6IDAsXG4gICAgICBhdXRvU2F2ZTogMCxcbiAgICAgIGNvbG9yOiAwLFxuICAgICAgaXRlbVByb3A6IDAsXG4gICAgICBpdGVtU2NvcGU6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgICAgaXRlbVR5cGU6IDAsXG4gICAgICBpdGVtSUQ6IDAsXG4gICAgICBpdGVtUmVmOiAwLFxuICAgICAgcmVzdWx0czogMCxcbiAgICAgIHNlY3VyaXR5OiAwLFxuICAgICAgdW5zZWxlY3RhYmxlOiAwXG4gICAgfSxcbiAgICBET01BdHRyaWJ1dGVOYW1lczoge1xuICAgICAgYWNjZXB0Q2hhcnNldDogJ2FjY2VwdC1jaGFyc2V0JyxcbiAgICAgIGNsYXNzTmFtZTogJ2NsYXNzJyxcbiAgICAgIGh0bWxGb3I6ICdmb3InLFxuICAgICAgaHR0cEVxdWl2OiAnaHR0cC1lcXVpdidcbiAgICB9LFxuICAgIERPTVByb3BlcnR5TmFtZXM6IHt9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gSFRNTERPTVByb3BlcnR5Q29uZmlnO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjFjXCIsIFtcIjExXCIsIFwiMWRcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSAkX19yZXF1aXJlKCcxMScpO1xuICB2YXIgZm9jdXNOb2RlID0gJF9fcmVxdWlyZSgnMWQnKTtcbiAgdmFyIEF1dG9Gb2N1c1V0aWxzID0ge2ZvY3VzRE9NQ29tcG9uZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIGZvY3VzTm9kZShSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZSh0aGlzKSk7XG4gICAgfX07XG4gIG1vZHVsZS5leHBvcnRzID0gQXV0b0ZvY3VzVXRpbHM7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMWVcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBfaHlwaGVuUGF0dGVybiA9IC8tKC4pL2c7XG4gIGZ1bmN0aW9uIGNhbWVsaXplKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShfaHlwaGVuUGF0dGVybiwgZnVuY3Rpb24oXywgY2hhcmFjdGVyKSB7XG4gICAgICByZXR1cm4gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBjYW1lbGl6ZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxZlwiLCBbXCIxZVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGNhbWVsaXplID0gJF9fcmVxdWlyZSgnMWUnKTtcbiAgdmFyIG1zUGF0dGVybiA9IC9eLW1zLS87XG4gIGZ1bmN0aW9uIGNhbWVsaXplU3R5bGVOYW1lKHN0cmluZykge1xuICAgIHJldHVybiBjYW1lbGl6ZShzdHJpbmcucmVwbGFjZShtc1BhdHRlcm4sICdtcy0nKSk7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBjYW1lbGl6ZVN0eWxlTmFtZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIyMFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGlzVW5pdGxlc3NOdW1iZXIgPSB7XG4gICAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IHRydWUsXG4gICAgYm9yZGVySW1hZ2VPdXRzZXQ6IHRydWUsXG4gICAgYm9yZGVySW1hZ2VTbGljZTogdHJ1ZSxcbiAgICBib3JkZXJJbWFnZVdpZHRoOiB0cnVlLFxuICAgIGJveEZsZXg6IHRydWUsXG4gICAgYm94RmxleEdyb3VwOiB0cnVlLFxuICAgIGJveE9yZGluYWxHcm91cDogdHJ1ZSxcbiAgICBjb2x1bW5Db3VudDogdHJ1ZSxcbiAgICBmbGV4OiB0cnVlLFxuICAgIGZsZXhHcm93OiB0cnVlLFxuICAgIGZsZXhQb3NpdGl2ZTogdHJ1ZSxcbiAgICBmbGV4U2hyaW5rOiB0cnVlLFxuICAgIGZsZXhOZWdhdGl2ZTogdHJ1ZSxcbiAgICBmbGV4T3JkZXI6IHRydWUsXG4gICAgZ3JpZFJvdzogdHJ1ZSxcbiAgICBncmlkQ29sdW1uOiB0cnVlLFxuICAgIGZvbnRXZWlnaHQ6IHRydWUsXG4gICAgbGluZUNsYW1wOiB0cnVlLFxuICAgIGxpbmVIZWlnaHQ6IHRydWUsXG4gICAgb3BhY2l0eTogdHJ1ZSxcbiAgICBvcmRlcjogdHJ1ZSxcbiAgICBvcnBoYW5zOiB0cnVlLFxuICAgIHRhYlNpemU6IHRydWUsXG4gICAgd2lkb3dzOiB0cnVlLFxuICAgIHpJbmRleDogdHJ1ZSxcbiAgICB6b29tOiB0cnVlLFxuICAgIGZpbGxPcGFjaXR5OiB0cnVlLFxuICAgIGZsb29kT3BhY2l0eTogdHJ1ZSxcbiAgICBzdG9wT3BhY2l0eTogdHJ1ZSxcbiAgICBzdHJva2VEYXNoYXJyYXk6IHRydWUsXG4gICAgc3Ryb2tlRGFzaG9mZnNldDogdHJ1ZSxcbiAgICBzdHJva2VNaXRlcmxpbWl0OiB0cnVlLFxuICAgIHN0cm9rZU9wYWNpdHk6IHRydWUsXG4gICAgc3Ryb2tlV2lkdGg6IHRydWVcbiAgfTtcbiAgZnVuY3Rpb24gcHJlZml4S2V5KHByZWZpeCwga2V5KSB7XG4gICAgcmV0dXJuIHByZWZpeCArIGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHJpbmcoMSk7XG4gIH1cbiAgdmFyIHByZWZpeGVzID0gWydXZWJraXQnLCAnbXMnLCAnTW96JywgJ08nXTtcbiAgT2JqZWN0LmtleXMoaXNVbml0bGVzc051bWJlcikuZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7XG4gICAgcHJlZml4ZXMuZm9yRWFjaChmdW5jdGlvbihwcmVmaXgpIHtcbiAgICAgIGlzVW5pdGxlc3NOdW1iZXJbcHJlZml4S2V5KHByZWZpeCwgcHJvcCldID0gaXNVbml0bGVzc051bWJlcltwcm9wXTtcbiAgICB9KTtcbiAgfSk7XG4gIHZhciBzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnMgPSB7XG4gICAgYmFja2dyb3VuZDoge1xuICAgICAgYmFja2dyb3VuZEF0dGFjaG1lbnQ6IHRydWUsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRydWUsXG4gICAgICBiYWNrZ3JvdW5kSW1hZ2U6IHRydWUsXG4gICAgICBiYWNrZ3JvdW5kUG9zaXRpb25YOiB0cnVlLFxuICAgICAgYmFja2dyb3VuZFBvc2l0aW9uWTogdHJ1ZSxcbiAgICAgIGJhY2tncm91bmRSZXBlYXQ6IHRydWVcbiAgICB9LFxuICAgIGJhY2tncm91bmRQb3NpdGlvbjoge1xuICAgICAgYmFja2dyb3VuZFBvc2l0aW9uWDogdHJ1ZSxcbiAgICAgIGJhY2tncm91bmRQb3NpdGlvblk6IHRydWVcbiAgICB9LFxuICAgIGJvcmRlcjoge1xuICAgICAgYm9yZGVyV2lkdGg6IHRydWUsXG4gICAgICBib3JkZXJTdHlsZTogdHJ1ZSxcbiAgICAgIGJvcmRlckNvbG9yOiB0cnVlXG4gICAgfSxcbiAgICBib3JkZXJCb3R0b206IHtcbiAgICAgIGJvcmRlckJvdHRvbVdpZHRoOiB0cnVlLFxuICAgICAgYm9yZGVyQm90dG9tU3R5bGU6IHRydWUsXG4gICAgICBib3JkZXJCb3R0b21Db2xvcjogdHJ1ZVxuICAgIH0sXG4gICAgYm9yZGVyTGVmdDoge1xuICAgICAgYm9yZGVyTGVmdFdpZHRoOiB0cnVlLFxuICAgICAgYm9yZGVyTGVmdFN0eWxlOiB0cnVlLFxuICAgICAgYm9yZGVyTGVmdENvbG9yOiB0cnVlXG4gICAgfSxcbiAgICBib3JkZXJSaWdodDoge1xuICAgICAgYm9yZGVyUmlnaHRXaWR0aDogdHJ1ZSxcbiAgICAgIGJvcmRlclJpZ2h0U3R5bGU6IHRydWUsXG4gICAgICBib3JkZXJSaWdodENvbG9yOiB0cnVlXG4gICAgfSxcbiAgICBib3JkZXJUb3A6IHtcbiAgICAgIGJvcmRlclRvcFdpZHRoOiB0cnVlLFxuICAgICAgYm9yZGVyVG9wU3R5bGU6IHRydWUsXG4gICAgICBib3JkZXJUb3BDb2xvcjogdHJ1ZVxuICAgIH0sXG4gICAgZm9udDoge1xuICAgICAgZm9udFN0eWxlOiB0cnVlLFxuICAgICAgZm9udFZhcmlhbnQ6IHRydWUsXG4gICAgICBmb250V2VpZ2h0OiB0cnVlLFxuICAgICAgZm9udFNpemU6IHRydWUsXG4gICAgICBsaW5lSGVpZ2h0OiB0cnVlLFxuICAgICAgZm9udEZhbWlseTogdHJ1ZVxuICAgIH0sXG4gICAgb3V0bGluZToge1xuICAgICAgb3V0bGluZVdpZHRoOiB0cnVlLFxuICAgICAgb3V0bGluZVN0eWxlOiB0cnVlLFxuICAgICAgb3V0bGluZUNvbG9yOiB0cnVlXG4gICAgfVxuICB9O1xuICB2YXIgQ1NTUHJvcGVydHkgPSB7XG4gICAgaXNVbml0bGVzc051bWJlcjogaXNVbml0bGVzc051bWJlcixcbiAgICBzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnM6IHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uc1xuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IENTU1Byb3BlcnR5O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjIxXCIsIFtcIjIwXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgQ1NTUHJvcGVydHkgPSAkX19yZXF1aXJlKCcyMCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgaXNVbml0bGVzc051bWJlciA9IENTU1Byb3BlcnR5LmlzVW5pdGxlc3NOdW1iZXI7XG4gICAgdmFyIHN0eWxlV2FybmluZ3MgPSB7fTtcbiAgICBmdW5jdGlvbiBkYW5nZXJvdXNTdHlsZVZhbHVlKG5hbWUsIHZhbHVlLCBjb21wb25lbnQpIHtcbiAgICAgIHZhciBpc0VtcHR5ID0gdmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyB8fCB2YWx1ZSA9PT0gJyc7XG4gICAgICBpZiAoaXNFbXB0eSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICB2YXIgaXNOb25OdW1lcmljID0gaXNOYU4odmFsdWUpO1xuICAgICAgaWYgKGlzTm9uTnVtZXJpYyB8fCB2YWx1ZSA9PT0gMCB8fCBpc1VuaXRsZXNzTnVtYmVyLmhhc093blByb3BlcnR5KG5hbWUpICYmIGlzVW5pdGxlc3NOdW1iZXJbbmFtZV0pIHtcbiAgICAgICAgcmV0dXJuICcnICsgdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgICAgIHZhciBvd25lciA9IGNvbXBvbmVudC5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgICAgICAgdmFyIG93bmVyTmFtZSA9IG93bmVyID8gb3duZXIuZ2V0TmFtZSgpIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChvd25lck5hbWUgJiYgIXN0eWxlV2FybmluZ3Nbb3duZXJOYW1lXSkge1xuICAgICAgICAgICAgICBzdHlsZVdhcm5pbmdzW293bmVyTmFtZV0gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChvd25lck5hbWUpIHtcbiAgICAgICAgICAgICAgdmFyIHdhcm5pbmdzID0gc3R5bGVXYXJuaW5nc1tvd25lck5hbWVdO1xuICAgICAgICAgICAgICB3YXJuZWQgPSB3YXJuaW5nc1tuYW1lXTtcbiAgICAgICAgICAgICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgICAgICAgICAgICB3YXJuaW5nc1tuYW1lXSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghd2FybmVkKSB7XG4gICAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYSBgJXNgIHRhZyAob3duZXI6IGAlc2ApIHdhcyBwYXNzZWQgYSBudW1lcmljIHN0cmluZyB2YWx1ZSAnICsgJ2ZvciBDU1MgcHJvcGVydHkgYCVzYCAodmFsdWU6IGAlc2ApIHdoaWNoIHdpbGwgYmUgdHJlYXRlZCAnICsgJ2FzIGEgdW5pdGxlc3MgbnVtYmVyIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgUmVhY3QuJywgY29tcG9uZW50Ll9jdXJyZW50RWxlbWVudC50eXBlLCBvd25lck5hbWUgfHwgJ3Vua25vd24nLCBuYW1lLCB2YWx1ZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlICsgJ3B4JztcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBkYW5nZXJvdXNTdHlsZVZhbHVlO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIyM1wiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIF91cHBlcmNhc2VQYXR0ZXJuID0gLyhbQS1aXSkvZztcbiAgZnVuY3Rpb24gaHlwaGVuYXRlKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShfdXBwZXJjYXNlUGF0dGVybiwgJy0kMScpLnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBoeXBoZW5hdGU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMjRcIiwgW1wiMjNcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBoeXBoZW5hdGUgPSAkX19yZXF1aXJlKCcyMycpO1xuICB2YXIgbXNQYXR0ZXJuID0gL15tcy0vO1xuICBmdW5jdGlvbiBoeXBoZW5hdGVTdHlsZU5hbWUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGh5cGhlbmF0ZShzdHJpbmcpLnJlcGxhY2UobXNQYXR0ZXJuLCAnLW1zLScpO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gaHlwaGVuYXRlU3R5bGVOYW1lO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjI1XCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBmdW5jdGlvbiBtZW1vaXplU3RyaW5nT25seShjYWxsYmFjaykge1xuICAgIHZhciBjYWNoZSA9IHt9O1xuICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIGlmICghY2FjaGUuaGFzT3duUHJvcGVydHkoc3RyaW5nKSkge1xuICAgICAgICBjYWNoZVtzdHJpbmddID0gY2FsbGJhY2suY2FsbCh0aGlzLCBzdHJpbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhY2hlW3N0cmluZ107XG4gICAgfTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IG1lbW9pemVTdHJpbmdPbmx5O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjI2XCIsIFtcIjIwXCIsIFwiZFwiLCBcIjI3XCIsIFwiMWZcIiwgXCIyMVwiLCBcIjI0XCIsIFwiMjVcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBDU1NQcm9wZXJ0eSA9ICRfX3JlcXVpcmUoJzIwJyk7XG4gICAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnZCcpO1xuICAgIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9ICRfX3JlcXVpcmUoJzI3Jyk7XG4gICAgdmFyIGNhbWVsaXplU3R5bGVOYW1lID0gJF9fcmVxdWlyZSgnMWYnKTtcbiAgICB2YXIgZGFuZ2Vyb3VzU3R5bGVWYWx1ZSA9ICRfX3JlcXVpcmUoJzIxJyk7XG4gICAgdmFyIGh5cGhlbmF0ZVN0eWxlTmFtZSA9ICRfX3JlcXVpcmUoJzI0Jyk7XG4gICAgdmFyIG1lbW9pemVTdHJpbmdPbmx5ID0gJF9fcmVxdWlyZSgnMjUnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIHByb2Nlc3NTdHlsZU5hbWUgPSBtZW1vaXplU3RyaW5nT25seShmdW5jdGlvbihzdHlsZU5hbWUpIHtcbiAgICAgIHJldHVybiBoeXBoZW5hdGVTdHlsZU5hbWUoc3R5bGVOYW1lKTtcbiAgICB9KTtcbiAgICB2YXIgaGFzU2hvcnRoYW5kUHJvcGVydHlCdWcgPSBmYWxzZTtcbiAgICB2YXIgc3R5bGVGbG9hdEFjY2Vzc29yID0gJ2Nzc0Zsb2F0JztcbiAgICBpZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgICB2YXIgdGVtcFN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGU7XG4gICAgICB0cnkge1xuICAgICAgICB0ZW1wU3R5bGUuZm9udCA9ICcnO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBoYXNTaG9ydGhhbmRQcm9wZXJ0eUJ1ZyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmNzc0Zsb2F0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3R5bGVGbG9hdEFjY2Vzc29yID0gJ3N0eWxlRmxvYXQnO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIGJhZFZlbmRvcmVkU3R5bGVOYW1lUGF0dGVybiA9IC9eKD86d2Via2l0fG1venxvKVtBLVpdLztcbiAgICAgIHZhciBiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4gPSAvO1xccyokLztcbiAgICAgIHZhciB3YXJuZWRTdHlsZU5hbWVzID0ge307XG4gICAgICB2YXIgd2FybmVkU3R5bGVWYWx1ZXMgPSB7fTtcbiAgICAgIHZhciB3YXJuZWRGb3JOYU5WYWx1ZSA9IGZhbHNlO1xuICAgICAgdmFyIHdhcm5IeXBoZW5hdGVkU3R5bGVOYW1lID0gZnVuY3Rpb24obmFtZSwgb3duZXIpIHtcbiAgICAgICAgaWYgKHdhcm5lZFN0eWxlTmFtZXMuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YXJuZWRTdHlsZU5hbWVzW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdVbnN1cHBvcnRlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzPyVzJywgbmFtZSwgY2FtZWxpemVTdHlsZU5hbWUobmFtZSksIGNoZWNrUmVuZGVyTWVzc2FnZShvd25lcikpIDogdm9pZCAwO1xuICAgICAgfTtcbiAgICAgIHZhciB3YXJuQmFkVmVuZG9yZWRTdHlsZU5hbWUgPSBmdW5jdGlvbihuYW1lLCBvd25lcikge1xuICAgICAgICBpZiAod2FybmVkU3R5bGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiB3YXJuZWRTdHlsZU5hbWVzW25hbWVdKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ1Vuc3VwcG9ydGVkIHZlbmRvci1wcmVmaXhlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzPyVzJywgbmFtZSwgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSksIGNoZWNrUmVuZGVyTWVzc2FnZShvd25lcikpIDogdm9pZCAwO1xuICAgICAgfTtcbiAgICAgIHZhciB3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24gPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgb3duZXIpIHtcbiAgICAgICAgaWYgKHdhcm5lZFN0eWxlVmFsdWVzLmhhc093blByb3BlcnR5KHZhbHVlKSAmJiB3YXJuZWRTdHlsZVZhbHVlc1t2YWx1ZV0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FybmVkU3R5bGVWYWx1ZXNbdmFsdWVdID0gdHJ1ZTtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdTdHlsZSBwcm9wZXJ0eSB2YWx1ZXMgc2hvdWxkblxcJ3QgY29udGFpbiBhIHNlbWljb2xvbi4lcyAnICsgJ1RyeSBcIiVzOiAlc1wiIGluc3RlYWQuJywgY2hlY2tSZW5kZXJNZXNzYWdlKG93bmVyKSwgbmFtZSwgdmFsdWUucmVwbGFjZShiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4sICcnKSkgOiB2b2lkIDA7XG4gICAgICB9O1xuICAgICAgdmFyIHdhcm5TdHlsZVZhbHVlSXNOYU4gPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgb3duZXIpIHtcbiAgICAgICAgaWYgKHdhcm5lZEZvck5hTlZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdhcm5lZEZvck5hTlZhbHVlID0gdHJ1ZTtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdgTmFOYCBpcyBhbiBpbnZhbGlkIHZhbHVlIGZvciB0aGUgYCVzYCBjc3Mgc3R5bGUgcHJvcGVydHkuJXMnLCBuYW1lLCBjaGVja1JlbmRlck1lc3NhZ2Uob3duZXIpKSA6IHZvaWQgMDtcbiAgICAgIH07XG4gICAgICB2YXIgY2hlY2tSZW5kZXJNZXNzYWdlID0gZnVuY3Rpb24ob3duZXIpIHtcbiAgICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiAnIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH07XG4gICAgICB2YXIgd2FyblZhbGlkU3R5bGUgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgY29tcG9uZW50KSB7XG4gICAgICAgIHZhciBvd25lcjtcbiAgICAgICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICAgIG93bmVyID0gY29tcG9uZW50Ll9jdXJyZW50RWxlbWVudC5fb3duZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgICAgICB3YXJuSHlwaGVuYXRlZFN0eWxlTmFtZShuYW1lLCBvd25lcik7XG4gICAgICAgIH0gZWxzZSBpZiAoYmFkVmVuZG9yZWRTdHlsZU5hbWVQYXR0ZXJuLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICB3YXJuQmFkVmVuZG9yZWRTdHlsZU5hbWUobmFtZSwgb3duZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybi50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgIHdhcm5TdHlsZVZhbHVlV2l0aFNlbWljb2xvbihuYW1lLCB2YWx1ZSwgb3duZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzTmFOKHZhbHVlKSkge1xuICAgICAgICAgIHdhcm5TdHlsZVZhbHVlSXNOYU4obmFtZSwgdmFsdWUsIG93bmVyKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIENTU1Byb3BlcnR5T3BlcmF0aW9ucyA9IHtcbiAgICAgIGNyZWF0ZU1hcmt1cEZvclN0eWxlczogZnVuY3Rpb24oc3R5bGVzLCBjb21wb25lbnQpIHtcbiAgICAgICAgdmFyIHNlcmlhbGl6ZWQgPSAnJztcbiAgICAgICAgZm9yICh2YXIgc3R5bGVOYW1lIGluIHN0eWxlcykge1xuICAgICAgICAgIGlmICghc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgc3R5bGVWYWx1ZSA9IHN0eWxlc1tzdHlsZU5hbWVdO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICB3YXJuVmFsaWRTdHlsZShzdHlsZU5hbWUsIHN0eWxlVmFsdWUsIGNvbXBvbmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdHlsZVZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHNlcmlhbGl6ZWQgKz0gcHJvY2Vzc1N0eWxlTmFtZShzdHlsZU5hbWUpICsgJzonO1xuICAgICAgICAgICAgc2VyaWFsaXplZCArPSBkYW5nZXJvdXNTdHlsZVZhbHVlKHN0eWxlTmFtZSwgc3R5bGVWYWx1ZSwgY29tcG9uZW50KSArICc7JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZWQgfHwgbnVsbDtcbiAgICAgIH0sXG4gICAgICBzZXRWYWx1ZUZvclN0eWxlczogZnVuY3Rpb24obm9kZSwgc3R5bGVzLCBjb21wb25lbnQpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24oY29tcG9uZW50Ll9kZWJ1Z0lELCAndXBkYXRlIHN0eWxlcycsIHN0eWxlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlID0gbm9kZS5zdHlsZTtcbiAgICAgICAgZm9yICh2YXIgc3R5bGVOYW1lIGluIHN0eWxlcykge1xuICAgICAgICAgIGlmICghc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgd2FyblZhbGlkU3R5bGUoc3R5bGVOYW1lLCBzdHlsZXNbc3R5bGVOYW1lXSwgY29tcG9uZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHN0eWxlVmFsdWUgPSBkYW5nZXJvdXNTdHlsZVZhbHVlKHN0eWxlTmFtZSwgc3R5bGVzW3N0eWxlTmFtZV0sIGNvbXBvbmVudCk7XG4gICAgICAgICAgaWYgKHN0eWxlTmFtZSA9PT0gJ2Zsb2F0JyB8fCBzdHlsZU5hbWUgPT09ICdjc3NGbG9hdCcpIHtcbiAgICAgICAgICAgIHN0eWxlTmFtZSA9IHN0eWxlRmxvYXRBY2Nlc3NvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0eWxlVmFsdWUpIHtcbiAgICAgICAgICAgIHN0eWxlW3N0eWxlTmFtZV0gPSBzdHlsZVZhbHVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZXhwYW5zaW9uID0gaGFzU2hvcnRoYW5kUHJvcGVydHlCdWcgJiYgQ1NTUHJvcGVydHkuc2hvcnRoYW5kUHJvcGVydHlFeHBhbnNpb25zW3N0eWxlTmFtZV07XG4gICAgICAgICAgICBpZiAoZXhwYW5zaW9uKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGluZGl2aWR1YWxTdHlsZU5hbWUgaW4gZXhwYW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVbaW5kaXZpZHVhbFN0eWxlTmFtZV0gPSAnJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3R5bGVbc3R5bGVOYW1lXSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDU1NQcm9wZXJ0eU9wZXJhdGlvbnM7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjI4XCIsIFtcIjI5XCIsIFwiMTFcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRE9NQ2hpbGRyZW5PcGVyYXRpb25zID0gJF9fcmVxdWlyZSgnMjknKTtcbiAgICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gJF9fcmVxdWlyZSgnMTEnKTtcbiAgICB2YXIgUmVhY3RET01JRE9wZXJhdGlvbnMgPSB7ZGFuZ2Vyb3VzbHlQcm9jZXNzQ2hpbGRyZW5VcGRhdGVzOiBmdW5jdGlvbihwYXJlbnRJbnN0LCB1cGRhdGVzKSB7XG4gICAgICAgIHZhciBub2RlID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UocGFyZW50SW5zdCk7XG4gICAgICAgIERPTUNoaWxkcmVuT3BlcmF0aW9ucy5wcm9jZXNzVXBkYXRlcyhub2RlLCB1cGRhdGVzKTtcbiAgICAgIH19O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01JRE9wZXJhdGlvbnM7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjJhXCIsIFtcIjI5XCIsIFwiMjhcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRE9NQ2hpbGRyZW5PcGVyYXRpb25zID0gJF9fcmVxdWlyZSgnMjknKTtcbiAgICB2YXIgUmVhY3RET01JRE9wZXJhdGlvbnMgPSAkX19yZXF1aXJlKCcyOCcpO1xuICAgIHZhciBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCA9IHtcbiAgICAgIHByb2Nlc3NDaGlsZHJlblVwZGF0ZXM6IFJlYWN0RE9NSURPcGVyYXRpb25zLmRhbmdlcm91c2x5UHJvY2Vzc0NoaWxkcmVuVXBkYXRlcyxcbiAgICAgIHJlcGxhY2VOb2RlV2l0aE1hcmt1cDogRE9NQ2hpbGRyZW5PcGVyYXRpb25zLmRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwLFxuICAgICAgdW5tb3VudElERnJvbUVudmlyb25tZW50OiBmdW5jdGlvbihyb290Tm9kZUlEKSB7fVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMmJcIiwgW1wiMmNcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBEaXNhYmxlZElucHV0VXRpbHMgPSAkX19yZXF1aXJlKCcyYycpO1xuICB2YXIgUmVhY3RET01CdXR0b24gPSB7Z2V0TmF0aXZlUHJvcHM6IERpc2FibGVkSW5wdXRVdGlscy5nZXROYXRpdmVQcm9wc307XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01CdXR0b247XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMmRcIiwgW1wiNlwiLCBcIjJjXCIsIFwiMmVcIiwgXCIyZlwiLCBcIjExXCIsIFwiMTJcIiwgXCIzMFwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIERpc2FibGVkSW5wdXRVdGlscyA9ICRfX3JlcXVpcmUoJzJjJyk7XG4gICAgdmFyIERPTVByb3BlcnR5T3BlcmF0aW9ucyA9ICRfX3JlcXVpcmUoJzJlJyk7XG4gICAgdmFyIExpbmtlZFZhbHVlVXRpbHMgPSAkX19yZXF1aXJlKCcyZicpO1xuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSAkX19yZXF1aXJlKCcxMScpO1xuICAgIHZhciBSZWFjdFVwZGF0ZXMgPSAkX19yZXF1aXJlKCcxMicpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgZGlkV2FyblZhbHVlTGluayA9IGZhbHNlO1xuICAgIHZhciBkaWRXYXJuQ2hlY2tlZExpbmsgPSBmYWxzZTtcbiAgICB2YXIgZGlkV2FyblZhbHVlTnVsbCA9IGZhbHNlO1xuICAgIHZhciBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUgPSBmYWxzZTtcbiAgICB2YXIgZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCA9IGZhbHNlO1xuICAgIHZhciBkaWRXYXJuQ29udHJvbGxlZFRvVW5jb250cm9sbGVkID0gZmFsc2U7XG4gICAgdmFyIGRpZFdhcm5VbmNvbnRyb2xsZWRUb0NvbnRyb2xsZWQgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBmb3JjZVVwZGF0ZUlmTW91bnRlZCgpIHtcbiAgICAgIGlmICh0aGlzLl9yb290Tm9kZUlEKSB7XG4gICAgICAgIFJlYWN0RE9NSW5wdXQudXBkYXRlV3JhcHBlcih0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybklmVmFsdWVJc051bGwocHJvcHMpIHtcbiAgICAgIGlmIChwcm9wcyAhPSBudWxsICYmIHByb3BzLnZhbHVlID09PSBudWxsICYmICFkaWRXYXJuVmFsdWVOdWxsKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYHZhbHVlYCBwcm9wIG9uIGBpbnB1dGAgc2hvdWxkIG5vdCBiZSBudWxsLiAnICsgJ0NvbnNpZGVyIHVzaW5nIHRoZSBlbXB0eSBzdHJpbmcgdG8gY2xlYXIgdGhlIGNvbXBvbmVudCBvciBgdW5kZWZpbmVkYCAnICsgJ2ZvciB1bmNvbnRyb2xsZWQgY29tcG9uZW50cy4nKSA6IHZvaWQgMDtcbiAgICAgICAgZGlkV2FyblZhbHVlTnVsbCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBSZWFjdERPTUlucHV0ID0ge1xuICAgICAgZ2V0TmF0aXZlUHJvcHM6IGZ1bmN0aW9uKGluc3QsIHByb3BzKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgICAgICB2YXIgY2hlY2tlZCA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0Q2hlY2tlZChwcm9wcyk7XG4gICAgICAgIHZhciBuYXRpdmVQcm9wcyA9IF9hc3NpZ24oe3R5cGU6IHVuZGVmaW5lZH0sIERpc2FibGVkSW5wdXRVdGlscy5nZXROYXRpdmVQcm9wcyhpbnN0LCBwcm9wcyksIHtcbiAgICAgICAgICBkZWZhdWx0Q2hlY2tlZDogdW5kZWZpbmVkLFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBpbnN0Ll93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlLFxuICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWQgIT0gbnVsbCA/IGNoZWNrZWQgOiBpbnN0Ll93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWQsXG4gICAgICAgICAgb25DaGFuZ2U6IGluc3QuX3dyYXBwZXJTdGF0ZS5vbkNoYW5nZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZVByb3BzO1xuICAgICAgfSxcbiAgICAgIG1vdW50V3JhcHBlcjogZnVuY3Rpb24oaW5zdCwgcHJvcHMpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBMaW5rZWRWYWx1ZVV0aWxzLmNoZWNrUHJvcFR5cGVzKCdpbnB1dCcsIHByb3BzLCBpbnN0Ll9jdXJyZW50RWxlbWVudC5fb3duZXIpO1xuICAgICAgICAgIHZhciBvd25lciA9IGluc3QuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgICAgICBpZiAocHJvcHMudmFsdWVMaW5rICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZUxpbmspIHtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYHZhbHVlTGlua2AgcHJvcCBvbiBgaW5wdXRgIGlzIGRlcHJlY2F0ZWQ7IHNldCBgdmFsdWVgIGFuZCBgb25DaGFuZ2VgIGluc3RlYWQuJykgOiB2b2lkIDA7XG4gICAgICAgICAgICBkaWRXYXJuVmFsdWVMaW5rID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByb3BzLmNoZWNrZWRMaW5rICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5DaGVja2VkTGluaykge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdgY2hlY2tlZExpbmtgIHByb3Agb24gYGlucHV0YCBpcyBkZXByZWNhdGVkOyBzZXQgYHZhbHVlYCBhbmQgYG9uQ2hhbmdlYCBpbnN0ZWFkLicpIDogdm9pZCAwO1xuICAgICAgICAgICAgZGlkV2FybkNoZWNrZWRMaW5rID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByb3BzLmNoZWNrZWQgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5kZWZhdWx0Q2hlY2tlZCAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuQ2hlY2tlZERlZmF1bHRDaGVja2VkKSB7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzIGNvbnRhaW5zIGFuIGlucHV0IG9mIHR5cGUgJXMgd2l0aCBib3RoIGNoZWNrZWQgYW5kIGRlZmF1bHRDaGVja2VkIHByb3BzLiAnICsgJ0lucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSBjaGVja2VkIHByb3AsIG9yIHRoZSBkZWZhdWx0Q2hlY2tlZCBwcm9wLCBidXQgbm90ICcgKyAnYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgJyArICdlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnLCBvd25lciAmJiBvd25lci5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JywgcHJvcHMudHlwZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICBkaWRXYXJuQ2hlY2tlZERlZmF1bHRDaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByb3BzLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclcyBjb250YWlucyBhbiBpbnB1dCBvZiB0eXBlICVzIHdpdGggYm90aCB2YWx1ZSBhbmQgZGVmYXVsdFZhbHVlIHByb3BzLiAnICsgJ0lucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycsIG93bmVyICYmIG93bmVyLmdldE5hbWUoKSB8fCAnQSBjb21wb25lbnQnLCBwcm9wcy50eXBlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdhcm5JZlZhbHVlSXNOdWxsKHByb3BzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUgPSB7XG4gICAgICAgICAgaW5pdGlhbENoZWNrZWQ6IHByb3BzLmRlZmF1bHRDaGVja2VkIHx8IGZhbHNlLFxuICAgICAgICAgIGluaXRpYWxWYWx1ZTogZGVmYXVsdFZhbHVlICE9IG51bGwgPyBkZWZhdWx0VmFsdWUgOiBudWxsLFxuICAgICAgICAgIGxpc3RlbmVyczogbnVsbCxcbiAgICAgICAgICBvbkNoYW5nZTogX2hhbmRsZUNoYW5nZS5iaW5kKGluc3QpXG4gICAgICAgIH07XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmNvbnRyb2xsZWQgPSBwcm9wcy5jaGVja2VkICE9PSB1bmRlZmluZWQgfHwgcHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVwZGF0ZVdyYXBwZXI6IGZ1bmN0aW9uKGluc3QpIHtcbiAgICAgICAgdmFyIHByb3BzID0gaW5zdC5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgd2FybklmVmFsdWVJc051bGwocHJvcHMpO1xuICAgICAgICAgIHZhciBpbml0aWFsVmFsdWUgPSBpbnN0Ll93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWQgfHwgaW5zdC5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZTtcbiAgICAgICAgICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdENoZWNrZWQgfHwgcHJvcHMuZGVmYXVsdFZhbHVlO1xuICAgICAgICAgIHZhciBjb250cm9sbGVkID0gcHJvcHMuY2hlY2tlZCAhPT0gdW5kZWZpbmVkIHx8IHByb3BzLnZhbHVlICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgdmFyIG93bmVyID0gaW5zdC5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgICAgIGlmICgoaW5pdGlhbFZhbHVlIHx8ICFpbnN0Ll93cmFwcGVyU3RhdGUuY29udHJvbGxlZCkgJiYgY29udHJvbGxlZCAmJiAhZGlkV2FyblVuY29udHJvbGxlZFRvQ29udHJvbGxlZCkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclcyBpcyBjaGFuZ2luZyBhbiB1bmNvbnRyb2xsZWQgaW5wdXQgb2YgdHlwZSAlcyB0byBiZSBjb250cm9sbGVkLiAnICsgJ0lucHV0IGVsZW1lbnRzIHNob3VsZCBub3Qgc3dpdGNoIGZyb20gdW5jb250cm9sbGVkIHRvIGNvbnRyb2xsZWQgKG9yIHZpY2UgdmVyc2EpLiAnICsgJ0RlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgJyArICdlbGVtZW50IGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIGNvbXBvbmVudC4gTW9yZSBpbmZvOiBodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycsIG93bmVyICYmIG93bmVyLmdldE5hbWUoKSB8fCAnQSBjb21wb25lbnQnLCBwcm9wcy50eXBlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGRpZFdhcm5VbmNvbnRyb2xsZWRUb0NvbnRyb2xsZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5zdC5fd3JhcHBlclN0YXRlLmNvbnRyb2xsZWQgJiYgKGRlZmF1bHRWYWx1ZSB8fCAhY29udHJvbGxlZCkgJiYgIWRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQpIHtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMgaXMgY2hhbmdpbmcgYSBjb250cm9sbGVkIGlucHV0IG9mIHR5cGUgJXMgdG8gYmUgdW5jb250cm9sbGVkLiAnICsgJ0lucHV0IGVsZW1lbnRzIHNob3VsZCBub3Qgc3dpdGNoIGZyb20gY29udHJvbGxlZCB0byB1bmNvbnRyb2xsZWQgKG9yIHZpY2UgdmVyc2EpLiAnICsgJ0RlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgJyArICdlbGVtZW50IGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIGNvbXBvbmVudC4gTW9yZSBpbmZvOiBodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycsIG93bmVyICYmIG93bmVyLmdldE5hbWUoKSB8fCAnQSBjb21wb25lbnQnLCBwcm9wcy50eXBlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hlY2tlZCA9IHByb3BzLmNoZWNrZWQ7XG4gICAgICAgIGlmIChjaGVja2VkICE9IG51bGwpIHtcbiAgICAgICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JQcm9wZXJ0eShSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KSwgJ2NoZWNrZWQnLCBjaGVja2VkIHx8IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldFZhbHVlKHByb3BzKTtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JQcm9wZXJ0eShSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KSwgJ3ZhbHVlJywgJycgKyB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIF9oYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICAgIHZhciBwcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgICAgdmFyIHJldHVyblZhbHVlID0gTGlua2VkVmFsdWVVdGlscy5leGVjdXRlT25DaGFuZ2UocHJvcHMsIGV2ZW50KTtcbiAgICAgIFJlYWN0VXBkYXRlcy5hc2FwKGZvcmNlVXBkYXRlSWZNb3VudGVkLCB0aGlzKTtcbiAgICAgIHZhciBuYW1lID0gcHJvcHMubmFtZTtcbiAgICAgIGlmIChwcm9wcy50eXBlID09PSAncmFkaW8nICYmIG5hbWUgIT0gbnVsbCkge1xuICAgICAgICB2YXIgcm9vdE5vZGUgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZSh0aGlzKTtcbiAgICAgICAgdmFyIHF1ZXJ5Um9vdCA9IHJvb3ROb2RlO1xuICAgICAgICB3aGlsZSAocXVlcnlSb290LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBxdWVyeVJvb3QgPSBxdWVyeVJvb3QucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ3JvdXAgPSBxdWVyeVJvb3QucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT0nICsgSlNPTi5zdHJpbmdpZnkoJycgKyBuYW1lKSArICddW3R5cGU9XCJyYWRpb1wiXScpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3VwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIG90aGVyTm9kZSA9IGdyb3VwW2ldO1xuICAgICAgICAgIGlmIChvdGhlck5vZGUgPT09IHJvb3ROb2RlIHx8IG90aGVyTm9kZS5mb3JtICE9PSByb290Tm9kZS5mb3JtKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG90aGVySW5zdGFuY2UgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShvdGhlck5vZGUpO1xuICAgICAgICAgICFvdGhlckluc3RhbmNlID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0RE9NSW5wdXQ6IE1peGluZyBSZWFjdCBhbmQgbm9uLVJlYWN0IHJhZGlvIGlucHV0cyB3aXRoIHRoZSAnICsgJ3NhbWUgYG5hbWVgIGlzIG5vdCBzdXBwb3J0ZWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIFJlYWN0VXBkYXRlcy5hc2FwKGZvcmNlVXBkYXRlSWZNb3VudGVkLCBvdGhlckluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NSW5wdXQ7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjMxXCIsIFtcIjZcIiwgXCIzMlwiLCBcIjExXCIsIFwiMzNcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICAgIHZhciBSZWFjdENoaWxkcmVuID0gJF9fcmVxdWlyZSgnMzInKTtcbiAgICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gJF9fcmVxdWlyZSgnMTEnKTtcbiAgICB2YXIgUmVhY3RET01TZWxlY3QgPSAkX19yZXF1aXJlKCczMycpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgUmVhY3RET01PcHRpb24gPSB7XG4gICAgICBtb3VudFdyYXBwZXI6IGZ1bmN0aW9uKGluc3QsIHByb3BzLCBuYXRpdmVQYXJlbnQpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhwcm9wcy5zZWxlY3RlZCA9PSBudWxsLCAnVXNlIHRoZSBgZGVmYXVsdFZhbHVlYCBvciBgdmFsdWVgIHByb3BzIG9uIDxzZWxlY3Q+IGluc3RlYWQgb2YgJyArICdzZXR0aW5nIGBzZWxlY3RlZGAgb24gPG9wdGlvbj4uJykgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbGVjdFZhbHVlID0gbnVsbDtcbiAgICAgICAgaWYgKG5hdGl2ZVBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdFBhcmVudCA9IG5hdGl2ZVBhcmVudDtcbiAgICAgICAgICBpZiAoc2VsZWN0UGFyZW50Ll90YWcgPT09ICdvcHRncm91cCcpIHtcbiAgICAgICAgICAgIHNlbGVjdFBhcmVudCA9IHNlbGVjdFBhcmVudC5fbmF0aXZlUGFyZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2VsZWN0UGFyZW50ICE9IG51bGwgJiYgc2VsZWN0UGFyZW50Ll90YWcgPT09ICdzZWxlY3QnKSB7XG4gICAgICAgICAgICBzZWxlY3RWYWx1ZSA9IFJlYWN0RE9NU2VsZWN0LmdldFNlbGVjdFZhbHVlQ29udGV4dChzZWxlY3RQYXJlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBudWxsO1xuICAgICAgICBpZiAoc2VsZWN0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIHNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0VmFsdWUpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGVjdFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICgnJyArIHNlbGVjdFZhbHVlW2ldID09PSAnJyArIHByb3BzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGVjdGVkID0gJycgKyBzZWxlY3RWYWx1ZSA9PT0gJycgKyBwcm9wcy52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlID0ge3NlbGVjdGVkOiBzZWxlY3RlZH07XG4gICAgICB9LFxuICAgICAgcG9zdE1vdW50V3JhcHBlcjogZnVuY3Rpb24oaW5zdCkge1xuICAgICAgICB2YXIgcHJvcHMgPSBpbnN0Ll9jdXJyZW50RWxlbWVudC5wcm9wcztcbiAgICAgICAgaWYgKHByb3BzLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICB2YXIgbm9kZSA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKGluc3QpO1xuICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHByb3BzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldE5hdGl2ZVByb3BzOiBmdW5jdGlvbihpbnN0LCBwcm9wcykge1xuICAgICAgICB2YXIgbmF0aXZlUHJvcHMgPSBfYXNzaWduKHtcbiAgICAgICAgICBzZWxlY3RlZDogdW5kZWZpbmVkLFxuICAgICAgICAgIGNoaWxkcmVuOiB1bmRlZmluZWRcbiAgICAgICAgfSwgcHJvcHMpO1xuICAgICAgICBpZiAoaW5zdC5fd3JhcHBlclN0YXRlLnNlbGVjdGVkICE9IG51bGwpIHtcbiAgICAgICAgICBuYXRpdmVQcm9wcy5zZWxlY3RlZCA9IGluc3QuX3dyYXBwZXJTdGF0ZS5zZWxlY3RlZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGVudCA9ICcnO1xuICAgICAgICBSZWFjdENoaWxkcmVuLmZvckVhY2gocHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgaWYgKGNoaWxkID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGNoaWxkID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29udGVudCArPSBjaGlsZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdPbmx5IHN0cmluZ3MgYW5kIG51bWJlcnMgYXJlIHN1cHBvcnRlZCBhcyA8b3B0aW9uPiBjaGlsZHJlbi4nKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgIG5hdGl2ZVByb3BzLmNoaWxkcmVuID0gY29udGVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmF0aXZlUHJvcHM7XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NT3B0aW9uO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIzM1wiLCBbXCI2XCIsIFwiMmNcIiwgXCIyZlwiLCBcIjExXCIsIFwiMTJcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICAgIHZhciBEaXNhYmxlZElucHV0VXRpbHMgPSAkX19yZXF1aXJlKCcyYycpO1xuICAgIHZhciBMaW5rZWRWYWx1ZVV0aWxzID0gJF9fcmVxdWlyZSgnMmYnKTtcbiAgICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gJF9fcmVxdWlyZSgnMTEnKTtcbiAgICB2YXIgUmVhY3RVcGRhdGVzID0gJF9fcmVxdWlyZSgnMTInKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIGRpZFdhcm5WYWx1ZUxpbmsgPSBmYWxzZTtcbiAgICB2YXIgZGlkV2FyblZhbHVlTnVsbCA9IGZhbHNlO1xuICAgIHZhciBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25zSWZQZW5kaW5nVXBkYXRlQW5kTW91bnRlZCgpIHtcbiAgICAgIGlmICh0aGlzLl9yb290Tm9kZUlEICYmIHRoaXMuX3dyYXBwZXJTdGF0ZS5wZW5kaW5nVXBkYXRlKSB7XG4gICAgICAgIHRoaXMuX3dyYXBwZXJTdGF0ZS5wZW5kaW5nVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBwcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgICAgICB2YXIgdmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldFZhbHVlKHByb3BzKTtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVPcHRpb25zKHRoaXMsIEJvb2xlYW4ocHJvcHMubXVsdGlwbGUpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKG93bmVyKSB7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcykge1xuICAgICAgaWYgKHByb3BzICE9IG51bGwgJiYgcHJvcHMudmFsdWUgPT09IG51bGwgJiYgIWRpZFdhcm5WYWx1ZU51bGwpIHtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdgdmFsdWVgIHByb3Agb24gYHNlbGVjdGAgc2hvdWxkIG5vdCBiZSBudWxsLiAnICsgJ0NvbnNpZGVyIHVzaW5nIHRoZSBlbXB0eSBzdHJpbmcgdG8gY2xlYXIgdGhlIGNvbXBvbmVudCBvciBgdW5kZWZpbmVkYCAnICsgJ2ZvciB1bmNvbnRyb2xsZWQgY29tcG9uZW50cy4nKSA6IHZvaWQgMDtcbiAgICAgICAgZGlkV2FyblZhbHVlTnVsbCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciB2YWx1ZVByb3BOYW1lcyA9IFsndmFsdWUnLCAnZGVmYXVsdFZhbHVlJ107XG4gICAgZnVuY3Rpb24gY2hlY2tTZWxlY3RQcm9wVHlwZXMoaW5zdCwgcHJvcHMpIHtcbiAgICAgIHZhciBvd25lciA9IGluc3QuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgIExpbmtlZFZhbHVlVXRpbHMuY2hlY2tQcm9wVHlwZXMoJ3NlbGVjdCcsIHByb3BzLCBvd25lcik7XG4gICAgICBpZiAocHJvcHMudmFsdWVMaW5rICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZUxpbmspIHtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdgdmFsdWVMaW5rYCBwcm9wIG9uIGBzZWxlY3RgIGlzIGRlcHJlY2F0ZWQ7IHNldCBgdmFsdWVgIGFuZCBgb25DaGFuZ2VgIGluc3RlYWQuJykgOiB2b2lkIDA7XG4gICAgICAgIGRpZFdhcm5WYWx1ZUxpbmsgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZVByb3BOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSB2YWx1ZVByb3BOYW1lc1tpXTtcbiAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BzLm11bHRpcGxlKSB7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoQXJyYXkuaXNBcnJheShwcm9wc1twcm9wTmFtZV0pLCAnVGhlIGAlc2AgcHJvcCBzdXBwbGllZCB0byA8c2VsZWN0PiBtdXN0IGJlIGFuIGFycmF5IGlmICcgKyAnYG11bHRpcGxlYCBpcyB0cnVlLiVzJywgcHJvcE5hbWUsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShvd25lcikpIDogdm9pZCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFBcnJheS5pc0FycmF5KHByb3BzW3Byb3BOYW1lXSksICdUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYSBzY2FsYXIgJyArICd2YWx1ZSBpZiBgbXVsdGlwbGVgIGlzIGZhbHNlLiVzJywgcHJvcE5hbWUsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShvd25lcikpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMoaW5zdCwgbXVsdGlwbGUsIHByb3BWYWx1ZSkge1xuICAgICAgdmFyIHNlbGVjdGVkVmFsdWUsXG4gICAgICAgICAgaTtcbiAgICAgIHZhciBvcHRpb25zID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCkub3B0aW9ucztcbiAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICBzZWxlY3RlZFZhbHVlID0ge307XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwcm9wVmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBzZWxlY3RlZFZhbHVlWycnICsgcHJvcFZhbHVlW2ldXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZWxlY3RlZFZhbHVlLmhhc093blByb3BlcnR5KG9wdGlvbnNbaV0udmFsdWUpO1xuICAgICAgICAgIGlmIChvcHRpb25zW2ldLnNlbGVjdGVkICE9PSBzZWxlY3RlZCkge1xuICAgICAgICAgICAgb3B0aW9uc1tpXS5zZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZSA9ICcnICsgcHJvcFZhbHVlO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChvcHRpb25zW2ldLnZhbHVlID09PSBzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICBvcHRpb25zW2ldLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgb3B0aW9uc1swXS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFJlYWN0RE9NU2VsZWN0ID0ge1xuICAgICAgZ2V0TmF0aXZlUHJvcHM6IGZ1bmN0aW9uKGluc3QsIHByb3BzKSB7XG4gICAgICAgIHJldHVybiBfYXNzaWduKHt9LCBEaXNhYmxlZElucHV0VXRpbHMuZ2V0TmF0aXZlUHJvcHMoaW5zdCwgcHJvcHMpLCB7XG4gICAgICAgICAgb25DaGFuZ2U6IGluc3QuX3dyYXBwZXJTdGF0ZS5vbkNoYW5nZSxcbiAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG1vdW50V3JhcHBlcjogZnVuY3Rpb24oaW5zdCwgcHJvcHMpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjaGVja1NlbGVjdFByb3BUeXBlcyhpbnN0LCBwcm9wcyk7XG4gICAgICAgICAgd2FybklmVmFsdWVJc051bGwocHJvcHMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUgPSB7XG4gICAgICAgICAgcGVuZGluZ1VwZGF0ZTogZmFsc2UsXG4gICAgICAgICAgaW5pdGlhbFZhbHVlOiB2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgbGlzdGVuZXJzOiBudWxsLFxuICAgICAgICAgIG9uQ2hhbmdlOiBfaGFuZGxlQ2hhbmdlLmJpbmQoaW5zdCksXG4gICAgICAgICAgd2FzTXVsdGlwbGU6IEJvb2xlYW4ocHJvcHMubXVsdGlwbGUpXG4gICAgICAgIH07XG4gICAgICAgIGlmIChwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ1NlbGVjdCBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAnICsgJyhzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90ICcgKyAnYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgc2VsZWN0ICcgKyAnZWxlbWVudCBhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy4gTW9yZSBpbmZvOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzJykgOiB2b2lkIDA7XG4gICAgICAgICAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldFNlbGVjdFZhbHVlQ29udGV4dDogZnVuY3Rpb24oaW5zdCkge1xuICAgICAgICByZXR1cm4gaW5zdC5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZTtcbiAgICAgIH0sXG4gICAgICBwb3N0VXBkYXRlV3JhcHBlcjogZnVuY3Rpb24oaW5zdCkge1xuICAgICAgICB2YXIgcHJvcHMgPSBpbnN0Ll9jdXJyZW50RWxlbWVudC5wcm9wcztcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcyk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHdhc011bHRpcGxlID0gaW5zdC5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlO1xuICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGUgPSBCb29sZWFuKHByb3BzLm11bHRpcGxlKTtcbiAgICAgICAgdmFyIHZhbHVlID0gTGlua2VkVmFsdWVVdGlscy5nZXRWYWx1ZShwcm9wcyk7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLnBlbmRpbmdVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICB1cGRhdGVPcHRpb25zKGluc3QsIEJvb2xlYW4ocHJvcHMubXVsdGlwbGUpLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAod2FzTXVsdGlwbGUgIT09IEJvb2xlYW4ocHJvcHMubXVsdGlwbGUpKSB7XG4gICAgICAgICAgaWYgKHByb3BzLmRlZmF1bHRWYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB1cGRhdGVPcHRpb25zKGluc3QsIEJvb2xlYW4ocHJvcHMubXVsdGlwbGUpLCBwcm9wcy5kZWZhdWx0VmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVPcHRpb25zKGluc3QsIEJvb2xlYW4ocHJvcHMubXVsdGlwbGUpLCBwcm9wcy5tdWx0aXBsZSA/IFtdIDogJycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShldmVudCkge1xuICAgICAgdmFyIHByb3BzID0gdGhpcy5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICB2YXIgcmV0dXJuVmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmV4ZWN1dGVPbkNoYW5nZShwcm9wcywgZXZlbnQpO1xuICAgICAgaWYgKHRoaXMuX3Jvb3ROb2RlSUQpIHtcbiAgICAgICAgdGhpcy5fd3JhcHBlclN0YXRlLnBlbmRpbmdVcGRhdGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgUmVhY3RVcGRhdGVzLmFzYXAodXBkYXRlT3B0aW9uc0lmUGVuZGluZ1VwZGF0ZUFuZE1vdW50ZWQsIHRoaXMpO1xuICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NU2VsZWN0O1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIyY1wiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGRpc2FibGVhYmxlTW91c2VMaXN0ZW5lck5hbWVzID0ge1xuICAgIG9uQ2xpY2s6IHRydWUsXG4gICAgb25Eb3VibGVDbGljazogdHJ1ZSxcbiAgICBvbk1vdXNlRG93bjogdHJ1ZSxcbiAgICBvbk1vdXNlTW92ZTogdHJ1ZSxcbiAgICBvbk1vdXNlVXA6IHRydWUsXG4gICAgb25DbGlja0NhcHR1cmU6IHRydWUsXG4gICAgb25Eb3VibGVDbGlja0NhcHR1cmU6IHRydWUsXG4gICAgb25Nb3VzZURvd25DYXB0dXJlOiB0cnVlLFxuICAgIG9uTW91c2VNb3ZlQ2FwdHVyZTogdHJ1ZSxcbiAgICBvbk1vdXNlVXBDYXB0dXJlOiB0cnVlXG4gIH07XG4gIHZhciBEaXNhYmxlZElucHV0VXRpbHMgPSB7Z2V0TmF0aXZlUHJvcHM6IGZ1bmN0aW9uKGluc3QsIHByb3BzKSB7XG4gICAgICBpZiAoIXByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybiBwcm9wcztcbiAgICAgIH1cbiAgICAgIHZhciBuYXRpdmVQcm9wcyA9IHt9O1xuICAgICAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG4gICAgICAgIGlmICghZGlzYWJsZWFibGVNb3VzZUxpc3RlbmVyTmFtZXNba2V5XSAmJiBwcm9wcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgbmF0aXZlUHJvcHNba2V5XSA9IHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQcm9wcztcbiAgICB9fTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBEaXNhYmxlZElucHV0VXRpbHM7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMzRcIiwgW1wiMWJcIiwgXCIzNVwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIERPTVByb3BlcnR5ID0gJF9fcmVxdWlyZSgnMWInKTtcbiAgICB2YXIgRXZlbnRQbHVnaW5SZWdpc3RyeSA9ICRfX3JlcXVpcmUoJzM1Jyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgcmVhY3RQcm9wcyA9IHtcbiAgICAgICAgY2hpbGRyZW46IHRydWUsXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB0cnVlLFxuICAgICAgICBrZXk6IHRydWUsXG4gICAgICAgIHJlZjogdHJ1ZVxuICAgICAgfTtcbiAgICAgIHZhciB3YXJuZWRQcm9wZXJ0aWVzID0ge307XG4gICAgICB2YXIgd2FyblVua25vd25Qcm9wZXJ0eSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgaWYgKERPTVByb3BlcnR5LnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkobmFtZSkgfHwgRE9NUHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlYWN0UHJvcHMuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgcmVhY3RQcm9wc1tuYW1lXSB8fCB3YXJuZWRQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KG5hbWUpICYmIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FybmVkUHJvcGVydGllc1tuYW1lXSA9IHRydWU7XG4gICAgICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdmFyIHN0YW5kYXJkTmFtZSA9IERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKGxvd2VyQ2FzZWROYW1lKSA/IGxvd2VyQ2FzZWROYW1lIDogRE9NUHJvcGVydHkuZ2V0UG9zc2libGVTdGFuZGFyZE5hbWUuaGFzT3duUHJvcGVydHkobG93ZXJDYXNlZE5hbWUpID8gRE9NUHJvcGVydHkuZ2V0UG9zc2libGVTdGFuZGFyZE5hbWVbbG93ZXJDYXNlZE5hbWVdIDogbnVsbDtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoc3RhbmRhcmROYW1lID09IG51bGwsICdVbmtub3duIERPTSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzPycsIG5hbWUsIHN0YW5kYXJkTmFtZSkgOiB2b2lkIDA7XG4gICAgICAgIHZhciByZWdpc3RyYXRpb25OYW1lID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5wb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKSA/IEV2ZW50UGx1Z2luUmVnaXN0cnkucG9zc2libGVSZWdpc3RyYXRpb25OYW1lc1tsb3dlckNhc2VkTmFtZV0gOiBudWxsO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhyZWdpc3RyYXRpb25OYW1lID09IG51bGwsICdVbmtub3duIGV2ZW50IGhhbmRsZXIgcHJvcGVydHkgJXMuIERpZCB5b3UgbWVhbiBgJXNgPycsIG5hbWUsIHJlZ2lzdHJhdGlvbk5hbWUpIDogdm9pZCAwO1xuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIFJlYWN0RE9NVW5rbm93blByb3BlcnR5RGV2dG9vbCA9IHtcbiAgICAgIG9uQ3JlYXRlTWFya3VwRm9yUHJvcGVydHk6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHdhcm5Vbmtub3duUHJvcGVydHkobmFtZSk7XG4gICAgICB9LFxuICAgICAgb25TZXRWYWx1ZUZvclByb3BlcnR5OiBmdW5jdGlvbihub2RlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICB3YXJuVW5rbm93blByb3BlcnR5KG5hbWUpO1xuICAgICAgfSxcbiAgICAgIG9uRGVsZXRlVmFsdWVGb3JQcm9wZXJ0eTogZnVuY3Rpb24obm9kZSwgbmFtZSkge1xuICAgICAgICB3YXJuVW5rbm93blByb3BlcnR5KG5hbWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTVVua25vd25Qcm9wZXJ0eURldnRvb2w7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjM2XCIsIFtcIjM0XCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RET01Vbmtub3duUHJvcGVydHlEZXZ0b29sID0gJF9fcmVxdWlyZSgnMzQnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIGV2ZW50SGFuZGxlcnMgPSBbXTtcbiAgICB2YXIgaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50ID0ge307XG4gICAgZnVuY3Rpb24gZW1pdEV2ZW50KGhhbmRsZXJGdW5jdGlvbk5hbWUsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGV2ZW50SGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyW2hhbmRsZXJGdW5jdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICAgIGhhbmRsZXJbaGFuZGxlckZ1bmN0aW9uTmFtZV0oYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWhhbmRsZXJEb2VzVGhyb3dGb3JFdmVudFtoYW5kbGVyRnVuY3Rpb25OYW1lXSwgJ2V4Y2VwdGlvbiB0aHJvd24gYnkgZGV2dG9vbCB3aGlsZSBoYW5kbGluZyAlczogJXMnLCBoYW5kbGVyRnVuY3Rpb25OYW1lLCBlLm1lc3NhZ2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50W2hhbmRsZXJGdW5jdGlvbk5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgUmVhY3RET01EZWJ1Z1Rvb2wgPSB7XG4gICAgICBhZGREZXZ0b29sOiBmdW5jdGlvbihkZXZ0b29sKSB7XG4gICAgICAgIGV2ZW50SGFuZGxlcnMucHVzaChkZXZ0b29sKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVEZXZ0b29sOiBmdW5jdGlvbihkZXZ0b29sKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChldmVudEhhbmRsZXJzW2ldID09PSBkZXZ0b29sKSB7XG4gICAgICAgICAgICBldmVudEhhbmRsZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbkNyZWF0ZU1hcmt1cEZvclByb3BlcnR5OiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uQ3JlYXRlTWFya3VwRm9yUHJvcGVydHknLCBuYW1lLCB2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgb25TZXRWYWx1ZUZvclByb3BlcnR5OiBmdW5jdGlvbihub2RlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uU2V0VmFsdWVGb3JQcm9wZXJ0eScsIG5vZGUsIG5hbWUsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBvbkRlbGV0ZVZhbHVlRm9yUHJvcGVydHk6IGZ1bmN0aW9uKG5vZGUsIG5hbWUpIHtcbiAgICAgICAgZW1pdEV2ZW50KCdvbkRlbGV0ZVZhbHVlRm9yUHJvcGVydHknLCBub2RlLCBuYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0RE9NRGVidWdUb29sLmFkZERldnRvb2woUmVhY3RET01Vbmtub3duUHJvcGVydHlEZXZ0b29sKTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NRGVidWdUb29sO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIzN1wiLCBbXCIzNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFJlYWN0RE9NRGVidWdUb29sID0gJF9fcmVxdWlyZSgnMzYnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7ZGVidWdUb29sOiBSZWFjdERPTURlYnVnVG9vbH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMzhcIiwgW1wiMzlcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIgPSAkX19yZXF1aXJlKCczOScpO1xuICBmdW5jdGlvbiBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3Nlcih2YWx1ZSkge1xuICAgIHJldHVybiAnXCInICsgZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyKHZhbHVlKSArICdcIic7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3NlcjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIyZVwiLCBbXCIxYlwiLCBcIjExXCIsIFwiMzdcIiwgXCIyN1wiLCBcIjM4XCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRE9NUHJvcGVydHkgPSAkX19yZXF1aXJlKCcxYicpO1xuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSAkX19yZXF1aXJlKCcxMScpO1xuICAgIHZhciBSZWFjdERPTUluc3RydW1lbnRhdGlvbiA9ICRfX3JlcXVpcmUoJzM3Jyk7XG4gICAgdmFyIFJlYWN0SW5zdHJ1bWVudGF0aW9uID0gJF9fcmVxdWlyZSgnMjcnKTtcbiAgICB2YXIgcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXIgPSAkX19yZXF1aXJlKCczOCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgVkFMSURfQVRUUklCVVRFX05BTUVfUkVHRVggPSBuZXcgUmVnRXhwKCdeWycgKyBET01Qcm9wZXJ0eS5BVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSICsgJ11bJyArIERPTVByb3BlcnR5LkFUVFJJQlVURV9OQU1FX0NIQVIgKyAnXSokJyk7XG4gICAgdmFyIGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUgPSB7fTtcbiAgICB2YXIgdmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlID0ge307XG4gICAgZnVuY3Rpb24gaXNBdHRyaWJ1dGVOYW1lU2FmZShhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICBpZiAodmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUuaGFzT3duUHJvcGVydHkoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKFZBTElEX0FUVFJJQlVURV9OQU1FX1JFR0VYLnRlc3QoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgdmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlW2F0dHJpYnV0ZU5hbWVdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlW2F0dHJpYnV0ZU5hbWVdID0gdHJ1ZTtcbiAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCBhdHRyaWJ1dGUgbmFtZTogYCVzYCcsIGF0dHJpYnV0ZU5hbWUpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaG91bGRJZ25vcmVWYWx1ZShwcm9wZXJ0eUluZm8sIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCB8fCBwcm9wZXJ0eUluZm8uaGFzQm9vbGVhblZhbHVlICYmICF2YWx1ZSB8fCBwcm9wZXJ0eUluZm8uaGFzTnVtZXJpY1ZhbHVlICYmIGlzTmFOKHZhbHVlKSB8fCBwcm9wZXJ0eUluZm8uaGFzUG9zaXRpdmVOdW1lcmljVmFsdWUgJiYgdmFsdWUgPCAxIHx8IHByb3BlcnR5SW5mby5oYXNPdmVybG9hZGVkQm9vbGVhblZhbHVlICYmIHZhbHVlID09PSBmYWxzZTtcbiAgICB9XG4gICAgdmFyIERPTVByb3BlcnR5T3BlcmF0aW9ucyA9IHtcbiAgICAgIGNyZWF0ZU1hcmt1cEZvcklEOiBmdW5jdGlvbihpZCkge1xuICAgICAgICByZXR1cm4gRE9NUHJvcGVydHkuSURfQVRUUklCVVRFX05BTUUgKyAnPScgKyBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3NlcihpZCk7XG4gICAgICB9LFxuICAgICAgc2V0QXR0cmlidXRlRm9ySUQ6IGZ1bmN0aW9uKG5vZGUsIGlkKSB7XG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKERPTVByb3BlcnR5LklEX0FUVFJJQlVURV9OQU1FLCBpZCk7XG4gICAgICB9LFxuICAgICAgY3JlYXRlTWFya3VwRm9yUm9vdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBET01Qcm9wZXJ0eS5ST09UX0FUVFJJQlVURV9OQU1FICsgJz1cIlwiJztcbiAgICAgIH0sXG4gICAgICBzZXRBdHRyaWJ1dGVGb3JSb290OiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKERPTVByb3BlcnR5LlJPT1RfQVRUUklCVVRFX05BTUUsICcnKTtcbiAgICAgIH0sXG4gICAgICBjcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eTogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBSZWFjdERPTUluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25DcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb3BlcnR5SW5mbyA9IERPTVByb3BlcnR5LnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkobmFtZSkgPyBET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzW25hbWVdIDogbnVsbDtcbiAgICAgICAgaWYgKHByb3BlcnR5SW5mbykge1xuICAgICAgICAgIGlmIChzaG91bGRJZ25vcmVWYWx1ZShwcm9wZXJ0eUluZm8sIHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lO1xuICAgICAgICAgIGlmIChwcm9wZXJ0eUluZm8uaGFzQm9vbGVhblZhbHVlIHx8IHByb3BlcnR5SW5mby5oYXNPdmVybG9hZGVkQm9vbGVhblZhbHVlICYmIHZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXR0cmlidXRlTmFtZSArICc9XCJcIic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGVOYW1lICsgJz0nICsgcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXIodmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5hbWUgKyAnPScgKyBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3Nlcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9LFxuICAgICAgY3JlYXRlTWFya3VwRm9yQ3VzdG9tQXR0cmlidXRlOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIWlzQXR0cmlidXRlTmFtZVNhZmUobmFtZSkgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmFtZSArICc9JyArIHF1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyKHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBzZXRWYWx1ZUZvclByb3BlcnR5OiBmdW5jdGlvbihub2RlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICB2YXIgcHJvcGVydHlJbmZvID0gRE9NUHJvcGVydHkucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IERPTVByb3BlcnR5LnByb3BlcnRpZXNbbmFtZV0gOiBudWxsO1xuICAgICAgICBpZiAocHJvcGVydHlJbmZvKSB7XG4gICAgICAgICAgdmFyIG11dGF0aW9uTWV0aG9kID0gcHJvcGVydHlJbmZvLm11dGF0aW9uTWV0aG9kO1xuICAgICAgICAgIGlmIChtdXRhdGlvbk1ldGhvZCkge1xuICAgICAgICAgICAgbXV0YXRpb25NZXRob2Qobm9kZSwgdmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkSWdub3JlVmFsdWUocHJvcGVydHlJbmZvLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlVmFsdWVGb3JQcm9wZXJ0eShub2RlLCBuYW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHByb3BlcnR5SW5mby5tdXN0VXNlUHJvcGVydHkpIHtcbiAgICAgICAgICAgIHZhciBwcm9wTmFtZSA9IHByb3BlcnR5SW5mby5wcm9wZXJ0eU5hbWU7XG4gICAgICAgICAgICBpZiAoIXByb3BlcnR5SW5mby5oYXNTaWRlRWZmZWN0cyB8fCAnJyArIG5vZGVbcHJvcE5hbWVdICE9PSAnJyArIHZhbHVlKSB7XG4gICAgICAgICAgICAgIG5vZGVbcHJvcE5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gcHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWU7XG4gICAgICAgICAgICB2YXIgbmFtZXNwYWNlID0gcHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWVzcGFjZTtcbiAgICAgICAgICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGVOUyhuYW1lc3BhY2UsIGF0dHJpYnV0ZU5hbWUsICcnICsgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eUluZm8uaGFzQm9vbGVhblZhbHVlIHx8IHByb3BlcnR5SW5mby5oYXNPdmVybG9hZGVkQm9vbGVhblZhbHVlICYmIHZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsICcnICsgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChET01Qcm9wZXJ0eS5pc0N1c3RvbUF0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5zZXRWYWx1ZUZvckF0dHJpYnV0ZShub2RlLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgUmVhY3RET01JbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uU2V0VmFsdWVGb3JQcm9wZXJ0eShub2RlLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSB7fTtcbiAgICAgICAgICBwYXlsb2FkW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRJbnN0YW5jZUZyb21Ob2RlKG5vZGUpLl9kZWJ1Z0lELCAndXBkYXRlIGF0dHJpYnV0ZScsIHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2V0VmFsdWVGb3JBdHRyaWJ1dGU6IGZ1bmN0aW9uKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmICghaXNBdHRyaWJ1dGVOYW1lU2FmZShuYW1lKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsICcnICsgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSB7fTtcbiAgICAgICAgICBwYXlsb2FkW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRJbnN0YW5jZUZyb21Ob2RlKG5vZGUpLl9kZWJ1Z0lELCAndXBkYXRlIGF0dHJpYnV0ZScsIHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGVsZXRlVmFsdWVGb3JQcm9wZXJ0eTogZnVuY3Rpb24obm9kZSwgbmFtZSkge1xuICAgICAgICB2YXIgcHJvcGVydHlJbmZvID0gRE9NUHJvcGVydHkucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IERPTVByb3BlcnR5LnByb3BlcnRpZXNbbmFtZV0gOiBudWxsO1xuICAgICAgICBpZiAocHJvcGVydHlJbmZvKSB7XG4gICAgICAgICAgdmFyIG11dGF0aW9uTWV0aG9kID0gcHJvcGVydHlJbmZvLm11dGF0aW9uTWV0aG9kO1xuICAgICAgICAgIGlmIChtdXRhdGlvbk1ldGhvZCkge1xuICAgICAgICAgICAgbXV0YXRpb25NZXRob2Qobm9kZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHByb3BlcnR5SW5mby5tdXN0VXNlUHJvcGVydHkpIHtcbiAgICAgICAgICAgIHZhciBwcm9wTmFtZSA9IHByb3BlcnR5SW5mby5wcm9wZXJ0eU5hbWU7XG4gICAgICAgICAgICBpZiAocHJvcGVydHlJbmZvLmhhc0Jvb2xlYW5WYWx1ZSkge1xuICAgICAgICAgICAgICBub2RlW3Byb3BOYW1lXSA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eUluZm8uaGFzU2lkZUVmZmVjdHMgfHwgJycgKyBub2RlW3Byb3BOYW1lXSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICBub2RlW3Byb3BOYW1lXSA9ICcnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoRE9NUHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIFJlYWN0RE9NSW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkRlbGV0ZVZhbHVlRm9yUHJvcGVydHkobm9kZSwgbmFtZSk7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRJbnN0YW5jZUZyb21Ob2RlKG5vZGUpLl9kZWJ1Z0lELCAncmVtb3ZlIGF0dHJpYnV0ZScsIG5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IERPTVByb3BlcnR5T3BlcmF0aW9ucztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMmZcIiwgW1wiM2FcIiwgXCIzYlwiLCBcIjMwXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RQcm9wVHlwZXMgPSAkX19yZXF1aXJlKCczYScpO1xuICAgIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0gJF9fcmVxdWlyZSgnM2InKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIGhhc1JlYWRPbmx5VmFsdWUgPSB7XG4gICAgICAnYnV0dG9uJzogdHJ1ZSxcbiAgICAgICdjaGVja2JveCc6IHRydWUsXG4gICAgICAnaW1hZ2UnOiB0cnVlLFxuICAgICAgJ2hpZGRlbic6IHRydWUsXG4gICAgICAncmFkaW8nOiB0cnVlLFxuICAgICAgJ3Jlc2V0JzogdHJ1ZSxcbiAgICAgICdzdWJtaXQnOiB0cnVlXG4gICAgfTtcbiAgICBmdW5jdGlvbiBfYXNzZXJ0U2luZ2xlTGluayhpbnB1dFByb3BzKSB7XG4gICAgICAhKGlucHV0UHJvcHMuY2hlY2tlZExpbmsgPT0gbnVsbCB8fCBpbnB1dFByb3BzLnZhbHVlTGluayA9PSBudWxsKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgcHJvdmlkZSBhIGNoZWNrZWRMaW5rIGFuZCBhIHZhbHVlTGluay4gSWYgeW91IHdhbnQgdG8gdXNlICcgKyAnY2hlY2tlZExpbmssIHlvdSBwcm9iYWJseSBkb25cXCd0IHdhbnQgdG8gdXNlIHZhbHVlTGluayBhbmQgdmljZSB2ZXJzYS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9hc3NlcnRWYWx1ZUxpbmsoaW5wdXRQcm9wcykge1xuICAgICAgX2Fzc2VydFNpbmdsZUxpbmsoaW5wdXRQcm9wcyk7XG4gICAgICAhKGlucHV0UHJvcHMudmFsdWUgPT0gbnVsbCAmJiBpbnB1dFByb3BzLm9uQ2hhbmdlID09IG51bGwpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBwcm92aWRlIGEgdmFsdWVMaW5rIGFuZCBhIHZhbHVlIG9yIG9uQ2hhbmdlIGV2ZW50LiBJZiB5b3Ugd2FudCAnICsgJ3RvIHVzZSB2YWx1ZSBvciBvbkNoYW5nZSwgeW91IHByb2JhYmx5IGRvblxcJ3Qgd2FudCB0byB1c2UgdmFsdWVMaW5rLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gX2Fzc2VydENoZWNrZWRMaW5rKGlucHV0UHJvcHMpIHtcbiAgICAgIF9hc3NlcnRTaW5nbGVMaW5rKGlucHV0UHJvcHMpO1xuICAgICAgIShpbnB1dFByb3BzLmNoZWNrZWQgPT0gbnVsbCAmJiBpbnB1dFByb3BzLm9uQ2hhbmdlID09IG51bGwpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBwcm92aWRlIGEgY2hlY2tlZExpbmsgYW5kIGEgY2hlY2tlZCBwcm9wZXJ0eSBvciBvbkNoYW5nZSBldmVudC4gJyArICdJZiB5b3Ugd2FudCB0byB1c2UgY2hlY2tlZCBvciBvbkNoYW5nZSwgeW91IHByb2JhYmx5IGRvblxcJ3Qgd2FudCB0byAnICsgJ3VzZSBjaGVja2VkTGluaycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgdmFyIHByb3BUeXBlcyA9IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICAgICAgaWYgKCFwcm9wc1twcm9wTmFtZV0gfHwgaGFzUmVhZE9ubHlWYWx1ZVtwcm9wcy50eXBlXSB8fCBwcm9wcy5vbkNoYW5nZSB8fCBwcm9wcy5yZWFkT25seSB8fCBwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1lvdSBwcm92aWRlZCBhIGB2YWx1ZWAgcHJvcCB0byBhIGZvcm0gZmllbGQgd2l0aG91dCBhbiAnICsgJ2BvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBmaWVsZC4gSWYgJyArICd0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0VmFsdWVgLiBPdGhlcndpc2UsICcgKyAnc2V0IGVpdGhlciBgb25DaGFuZ2VgIG9yIGByZWFkT25seWAuJyk7XG4gICAgICB9LFxuICAgICAgY2hlY2tlZDogZnVuY3Rpb24ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICAgIGlmICghcHJvcHNbcHJvcE5hbWVdIHx8IHByb3BzLm9uQ2hhbmdlIHx8IHByb3BzLnJlYWRPbmx5IHx8IHByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignWW91IHByb3ZpZGVkIGEgYGNoZWNrZWRgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gJyArICdgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgZmllbGQuIElmICcgKyAndGhlIGZpZWxkIHNob3VsZCBiZSBtdXRhYmxlIHVzZSBgZGVmYXVsdENoZWNrZWRgLiBPdGhlcndpc2UsICcgKyAnc2V0IGVpdGhlciBgb25DaGFuZ2VgIG9yIGByZWFkT25seWAuJyk7XG4gICAgICB9LFxuICAgICAgb25DaGFuZ2U6IFJlYWN0UHJvcFR5cGVzLmZ1bmNcbiAgICB9O1xuICAgIHZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcbiAgICBmdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0ob3duZXIpIHtcbiAgICAgIGlmIChvd25lcikge1xuICAgICAgICB2YXIgbmFtZSA9IG93bmVyLmdldE5hbWUoKTtcbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gJyBDaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHZhciBMaW5rZWRWYWx1ZVV0aWxzID0ge1xuICAgICAgY2hlY2tQcm9wVHlwZXM6IGZ1bmN0aW9uKHRhZ05hbWUsIHByb3BzLCBvd25lcikge1xuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBwcm9wVHlwZXMpIHtcbiAgICAgICAgICBpZiAocHJvcFR5cGVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gcHJvcFR5cGVzW3Byb3BOYW1lXShwcm9wcywgcHJvcE5hbWUsIHRhZ05hbWUsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMucHJvcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGFkZGVuZHVtID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKG93bmVyKTtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRmFpbGVkIGZvcm0gcHJvcFR5cGU6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ2V0VmFsdWU6IGZ1bmN0aW9uKGlucHV0UHJvcHMpIHtcbiAgICAgICAgaWYgKGlucHV0UHJvcHMudmFsdWVMaW5rKSB7XG4gICAgICAgICAgX2Fzc2VydFZhbHVlTGluayhpbnB1dFByb3BzKTtcbiAgICAgICAgICByZXR1cm4gaW5wdXRQcm9wcy52YWx1ZUxpbmsudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlucHV0UHJvcHMudmFsdWU7XG4gICAgICB9LFxuICAgICAgZ2V0Q2hlY2tlZDogZnVuY3Rpb24oaW5wdXRQcm9wcykge1xuICAgICAgICBpZiAoaW5wdXRQcm9wcy5jaGVja2VkTGluaykge1xuICAgICAgICAgIF9hc3NlcnRDaGVja2VkTGluayhpbnB1dFByb3BzKTtcbiAgICAgICAgICByZXR1cm4gaW5wdXRQcm9wcy5jaGVja2VkTGluay52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5wdXRQcm9wcy5jaGVja2VkO1xuICAgICAgfSxcbiAgICAgIGV4ZWN1dGVPbkNoYW5nZTogZnVuY3Rpb24oaW5wdXRQcm9wcywgZXZlbnQpIHtcbiAgICAgICAgaWYgKGlucHV0UHJvcHMudmFsdWVMaW5rKSB7XG4gICAgICAgICAgX2Fzc2VydFZhbHVlTGluayhpbnB1dFByb3BzKTtcbiAgICAgICAgICByZXR1cm4gaW5wdXRQcm9wcy52YWx1ZUxpbmsucmVxdWVzdENoYW5nZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0UHJvcHMuY2hlY2tlZExpbmspIHtcbiAgICAgICAgICBfYXNzZXJ0Q2hlY2tlZExpbmsoaW5wdXRQcm9wcyk7XG4gICAgICAgICAgcmV0dXJuIGlucHV0UHJvcHMuY2hlY2tlZExpbmsucmVxdWVzdENoYW5nZShldmVudC50YXJnZXQuY2hlY2tlZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXRQcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICAgIHJldHVybiBpbnB1dFByb3BzLm9uQ2hhbmdlLmNhbGwodW5kZWZpbmVkLCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gTGlua2VkVmFsdWVVdGlscztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiM2NcIiwgW1wiNlwiLCBcIjJjXCIsIFwiMmVcIiwgXCIyZlwiLCBcIjExXCIsIFwiMTJcIiwgXCIzMFwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIERpc2FibGVkSW5wdXRVdGlscyA9ICRfX3JlcXVpcmUoJzJjJyk7XG4gICAgdmFyIERPTVByb3BlcnR5T3BlcmF0aW9ucyA9ICRfX3JlcXVpcmUoJzJlJyk7XG4gICAgdmFyIExpbmtlZFZhbHVlVXRpbHMgPSAkX19yZXF1aXJlKCcyZicpO1xuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSAkX19yZXF1aXJlKCcxMScpO1xuICAgIHZhciBSZWFjdFVwZGF0ZXMgPSAkX19yZXF1aXJlKCcxMicpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgZGlkV2FyblZhbHVlTGluayA9IGZhbHNlO1xuICAgIHZhciBkaWRXYXJuVmFsdWVOdWxsID0gZmFsc2U7XG4gICAgdmFyIGRpZFdhcm5WYWxEZWZhdWx0VmFsID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gZm9yY2VVcGRhdGVJZk1vdW50ZWQoKSB7XG4gICAgICBpZiAodGhpcy5fcm9vdE5vZGVJRCkge1xuICAgICAgICBSZWFjdERPTVRleHRhcmVhLnVwZGF0ZVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5JZlZhbHVlSXNOdWxsKHByb3BzKSB7XG4gICAgICBpZiAocHJvcHMgIT0gbnVsbCAmJiBwcm9wcy52YWx1ZSA9PT0gbnVsbCAmJiAhZGlkV2FyblZhbHVlTnVsbCkge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2B2YWx1ZWAgcHJvcCBvbiBgdGV4dGFyZWFgIHNob3VsZCBub3QgYmUgbnVsbC4gJyArICdDb25zaWRlciB1c2luZyB0aGUgZW1wdHkgc3RyaW5nIHRvIGNsZWFyIHRoZSBjb21wb25lbnQgb3IgYHVuZGVmaW5lZGAgJyArICdmb3IgdW5jb250cm9sbGVkIGNvbXBvbmVudHMuJykgOiB2b2lkIDA7XG4gICAgICAgIGRpZFdhcm5WYWx1ZU51bGwgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgUmVhY3RET01UZXh0YXJlYSA9IHtcbiAgICAgIGdldE5hdGl2ZVByb3BzOiBmdW5jdGlvbihpbnN0LCBwcm9wcykge1xuICAgICAgICAhKHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID09IG51bGwpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2BkYW5nZXJvdXNseVNldElubmVySFRNTGAgZG9lcyBub3QgbWFrZSBzZW5zZSBvbiA8dGV4dGFyZWE+LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgdmFyIG5hdGl2ZVByb3BzID0gX2Fzc2lnbih7fSwgRGlzYWJsZWRJbnB1dFV0aWxzLmdldE5hdGl2ZVByb3BzKGluc3QsIHByb3BzKSwge1xuICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgY2hpbGRyZW46IGluc3QuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUsXG4gICAgICAgICAgb25DaGFuZ2U6IGluc3QuX3dyYXBwZXJTdGF0ZS5vbkNoYW5nZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZVByb3BzO1xuICAgICAgfSxcbiAgICAgIG1vdW50V3JhcHBlcjogZnVuY3Rpb24oaW5zdCwgcHJvcHMpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBMaW5rZWRWYWx1ZVV0aWxzLmNoZWNrUHJvcFR5cGVzKCd0ZXh0YXJlYScsIHByb3BzLCBpbnN0Ll9jdXJyZW50RWxlbWVudC5fb3duZXIpO1xuICAgICAgICAgIGlmIChwcm9wcy52YWx1ZUxpbmsgIT09IHVuZGVmaW5lZCAmJiAhZGlkV2FyblZhbHVlTGluaykge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdgdmFsdWVMaW5rYCBwcm9wIG9uIGB0ZXh0YXJlYWAgaXMgZGVwcmVjYXRlZDsgc2V0IGB2YWx1ZWAgYW5kIGBvbkNoYW5nZWAgaW5zdGVhZC4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGRpZFdhcm5WYWx1ZUxpbmsgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5kZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZGlkV2FyblZhbERlZmF1bHRWYWwpIHtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnVGV4dGFyZWEgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgJyArICcoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCAnICsgJ2JvdGgpLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIHRleHRhcmVhICcgKyAnYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycpIDogdm9pZCAwO1xuICAgICAgICAgICAgZGlkV2FyblZhbERlZmF1bHRWYWwgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gICAgICAgIGlmIChjaGlsZHJlbiAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnVXNlIHRoZSBgZGVmYXVsdFZhbHVlYCBvciBgdmFsdWVgIHByb3BzIGluc3RlYWQgb2Ygc2V0dGluZyAnICsgJ2NoaWxkcmVuIG9uIDx0ZXh0YXJlYT4uJykgOiB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICAgICEoZGVmYXVsdFZhbHVlID09IG51bGwpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0lmIHlvdSBzdXBwbHkgYGRlZmF1bHRWYWx1ZWAgb24gYSA8dGV4dGFyZWE+LCBkbyBub3QgcGFzcyBjaGlsZHJlbi4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAhKGNoaWxkcmVuLmxlbmd0aCA8PSAxKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICc8dGV4dGFyZWE+IGNhbiBvbmx5IGhhdmUgYXQgbW9zdCBvbmUgY2hpbGQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgY2hpbGRyZW4gPSBjaGlsZHJlblswXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdFZhbHVlID0gJycgKyBjaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmYXVsdFZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICBkZWZhdWx0VmFsdWUgPSAnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldFZhbHVlKHByb3BzKTtcbiAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlID0ge1xuICAgICAgICAgIGluaXRpYWxWYWx1ZTogJycgKyAodmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogZGVmYXVsdFZhbHVlKSxcbiAgICAgICAgICBsaXN0ZW5lcnM6IG51bGwsXG4gICAgICAgICAgb25DaGFuZ2U6IF9oYW5kbGVDaGFuZ2UuYmluZChpbnN0KVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZVdyYXBwZXI6IGZ1bmN0aW9uKGluc3QpIHtcbiAgICAgICAgdmFyIHByb3BzID0gaW5zdC5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgd2FybklmVmFsdWVJc051bGwocHJvcHMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5zZXRWYWx1ZUZvclByb3BlcnR5KFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKGluc3QpLCAndmFsdWUnLCAnJyArIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShldmVudCkge1xuICAgICAgdmFyIHByb3BzID0gdGhpcy5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICB2YXIgcmV0dXJuVmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmV4ZWN1dGVPbkNoYW5nZShwcm9wcywgZXZlbnQpO1xuICAgICAgUmVhY3RVcGRhdGVzLmFzYXAoZm9yY2VVcGRhdGVJZk1vdW50ZWQsIHRoaXMpO1xuICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NVGV4dGFyZWE7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjNkXCIsIFtcIjNlXCIsIFwiM2ZcIiwgXCI0MFwiLCBcIjQxXCIsIFwiNDJcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdFJlY29uY2lsZXIgPSAkX19yZXF1aXJlKCczZScpO1xuICAgIHZhciBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50ID0gJF9fcmVxdWlyZSgnM2YnKTtcbiAgICB2YXIgS2V5RXNjYXBlVXRpbHMgPSAkX19yZXF1aXJlKCc0MCcpO1xuICAgIHZhciBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudCA9ICRfX3JlcXVpcmUoJzQxJyk7XG4gICAgdmFyIHRyYXZlcnNlQWxsQ2hpbGRyZW4gPSAkX19yZXF1aXJlKCc0MicpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICBmdW5jdGlvbiBpbnN0YW50aWF0ZUNoaWxkKGNoaWxkSW5zdGFuY2VzLCBjaGlsZCwgbmFtZSkge1xuICAgICAgdmFyIGtleVVuaXF1ZSA9IGNoaWxkSW5zdGFuY2VzW25hbWVdID09PSB1bmRlZmluZWQ7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhrZXlVbmlxdWUsICdmbGF0dGVuQ2hpbGRyZW4oLi4uKTogRW5jb3VudGVyZWQgdHdvIGNoaWxkcmVuIHdpdGggdGhlIHNhbWUga2V5LCAnICsgJ2Alc2AuIENoaWxkIGtleXMgbXVzdCBiZSB1bmlxdWU7IHdoZW4gdHdvIGNoaWxkcmVuIHNoYXJlIGEga2V5LCBvbmx5ICcgKyAndGhlIGZpcnN0IGNoaWxkIHdpbGwgYmUgdXNlZC4nLCBLZXlFc2NhcGVVdGlscy51bmVzY2FwZShuYW1lKSkgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBpZiAoY2hpbGQgIT0gbnVsbCAmJiBrZXlVbmlxdWUpIHtcbiAgICAgICAgY2hpbGRJbnN0YW5jZXNbbmFtZV0gPSBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50KGNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFJlYWN0Q2hpbGRSZWNvbmNpbGVyID0ge1xuICAgICAgaW5zdGFudGlhdGVDaGlsZHJlbjogZnVuY3Rpb24obmVzdGVkQ2hpbGROb2RlcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKG5lc3RlZENoaWxkTm9kZXMgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGlsZEluc3RhbmNlcyA9IHt9O1xuICAgICAgICB0cmF2ZXJzZUFsbENoaWxkcmVuKG5lc3RlZENoaWxkTm9kZXMsIGluc3RhbnRpYXRlQ2hpbGQsIGNoaWxkSW5zdGFuY2VzKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkSW5zdGFuY2VzO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZUNoaWxkcmVuOiBmdW5jdGlvbihwcmV2Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgcmVtb3ZlZE5vZGVzLCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgICBpZiAoIW5leHRDaGlsZHJlbiAmJiAhcHJldkNoaWxkcmVuKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuYW1lO1xuICAgICAgICB2YXIgcHJldkNoaWxkO1xuICAgICAgICBmb3IgKG5hbWUgaW4gbmV4dENoaWxkcmVuKSB7XG4gICAgICAgICAgaWYgKCFuZXh0Q2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmV2Q2hpbGQgPSBwcmV2Q2hpbGRyZW4gJiYgcHJldkNoaWxkcmVuW25hbWVdO1xuICAgICAgICAgIHZhciBwcmV2RWxlbWVudCA9IHByZXZDaGlsZCAmJiBwcmV2Q2hpbGQuX2N1cnJlbnRFbGVtZW50O1xuICAgICAgICAgIHZhciBuZXh0RWxlbWVudCA9IG5leHRDaGlsZHJlbltuYW1lXTtcbiAgICAgICAgICBpZiAocHJldkNoaWxkICE9IG51bGwgJiYgc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQocHJldkVsZW1lbnQsIG5leHRFbGVtZW50KSkge1xuICAgICAgICAgICAgUmVhY3RSZWNvbmNpbGVyLnJlY2VpdmVDb21wb25lbnQocHJldkNoaWxkLCBuZXh0RWxlbWVudCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICAgICAgbmV4dENoaWxkcmVuW25hbWVdID0gcHJldkNoaWxkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocHJldkNoaWxkKSB7XG4gICAgICAgICAgICAgIHJlbW92ZWROb2Rlc1tuYW1lXSA9IFJlYWN0UmVjb25jaWxlci5nZXROYXRpdmVOb2RlKHByZXZDaGlsZCk7XG4gICAgICAgICAgICAgIFJlYWN0UmVjb25jaWxlci51bm1vdW50Q29tcG9uZW50KHByZXZDaGlsZCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5leHRDaGlsZEluc3RhbmNlID0gaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudChuZXh0RWxlbWVudCk7XG4gICAgICAgICAgICBuZXh0Q2hpbGRyZW5bbmFtZV0gPSBuZXh0Q2hpbGRJbnN0YW5jZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChuYW1lIGluIHByZXZDaGlsZHJlbikge1xuICAgICAgICAgIGlmIChwcmV2Q2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkgJiYgIShuZXh0Q2hpbGRyZW4gJiYgbmV4dENoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpKSkge1xuICAgICAgICAgICAgcHJldkNoaWxkID0gcHJldkNoaWxkcmVuW25hbWVdO1xuICAgICAgICAgICAgcmVtb3ZlZE5vZGVzW25hbWVdID0gUmVhY3RSZWNvbmNpbGVyLmdldE5hdGl2ZU5vZGUocHJldkNoaWxkKTtcbiAgICAgICAgICAgIFJlYWN0UmVjb25jaWxlci51bm1vdW50Q29tcG9uZW50KHByZXZDaGlsZCwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVubW91bnRDaGlsZHJlbjogZnVuY3Rpb24ocmVuZGVyZWRDaGlsZHJlbiwgc2FmZWx5KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gcmVuZGVyZWRDaGlsZHJlbikge1xuICAgICAgICAgIGlmIChyZW5kZXJlZENoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyZWRDaGlsZCA9IHJlbmRlcmVkQ2hpbGRyZW5bbmFtZV07XG4gICAgICAgICAgICBSZWFjdFJlY29uY2lsZXIudW5tb3VudENvbXBvbmVudChyZW5kZXJlZENoaWxkLCBzYWZlbHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdENoaWxkUmVjb25jaWxlcjtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNDNcIiwgW1wiNDBcIiwgXCI0MlwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEtleUVzY2FwZVV0aWxzID0gJF9fcmVxdWlyZSgnNDAnKTtcbiAgICB2YXIgdHJhdmVyc2VBbGxDaGlsZHJlbiA9ICRfX3JlcXVpcmUoJzQyJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5TaW5nbGVDaGlsZEludG9Db250ZXh0KHRyYXZlcnNlQ29udGV4dCwgY2hpbGQsIG5hbWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0cmF2ZXJzZUNvbnRleHQ7XG4gICAgICB2YXIga2V5VW5pcXVlID0gcmVzdWx0W25hbWVdID09PSB1bmRlZmluZWQ7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhrZXlVbmlxdWUsICdmbGF0dGVuQ2hpbGRyZW4oLi4uKTogRW5jb3VudGVyZWQgdHdvIGNoaWxkcmVuIHdpdGggdGhlIHNhbWUga2V5LCAnICsgJ2Alc2AuIENoaWxkIGtleXMgbXVzdCBiZSB1bmlxdWU7IHdoZW4gdHdvIGNoaWxkcmVuIHNoYXJlIGEga2V5LCBvbmx5ICcgKyAndGhlIGZpcnN0IGNoaWxkIHdpbGwgYmUgdXNlZC4nLCBLZXlFc2NhcGVVdGlscy51bmVzY2FwZShuYW1lKSkgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBpZiAoa2V5VW5pcXVlICYmIGNoaWxkICE9IG51bGwpIHtcbiAgICAgICAgcmVzdWx0W25hbWVdID0gY2hpbGQ7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZsYXR0ZW5DaGlsZHJlbihjaGlsZHJlbikge1xuICAgICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZmxhdHRlblNpbmdsZUNoaWxkSW50b0NvbnRleHQsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZsYXR0ZW5DaGlsZHJlbjtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNDRcIiwgW1wiNDVcIiwgXCIyN1wiLCBcIjQ2XCIsIFwiNDdcIiwgXCIzZVwiLCBcIjNkXCIsIFwiNDhcIiwgXCI0M1wiLCBcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQgPSAkX19yZXF1aXJlKCc0NScpO1xuICAgIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9ICRfX3JlcXVpcmUoJzI3Jyk7XG4gICAgdmFyIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzID0gJF9fcmVxdWlyZSgnNDYnKTtcbiAgICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSAkX19yZXF1aXJlKCc0NycpO1xuICAgIHZhciBSZWFjdFJlY29uY2lsZXIgPSAkX19yZXF1aXJlKCczZScpO1xuICAgIHZhciBSZWFjdENoaWxkUmVjb25jaWxlciA9ICRfX3JlcXVpcmUoJzNkJyk7XG4gICAgdmFyIGVtcHR5RnVuY3Rpb24gPSAkX19yZXF1aXJlKCc0OCcpO1xuICAgIHZhciBmbGF0dGVuQ2hpbGRyZW4gPSAkX19yZXF1aXJlKCc0MycpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIGZ1bmN0aW9uIG1ha2VJbnNlcnRNYXJrdXAobWFya3VwLCBhZnRlck5vZGUsIHRvSW5kZXgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLklOU0VSVF9NQVJLVVAsXG4gICAgICAgIGNvbnRlbnQ6IG1hcmt1cCxcbiAgICAgICAgZnJvbUluZGV4OiBudWxsLFxuICAgICAgICBmcm9tTm9kZTogbnVsbCxcbiAgICAgICAgdG9JbmRleDogdG9JbmRleCxcbiAgICAgICAgYWZ0ZXJOb2RlOiBhZnRlck5vZGVcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1ha2VNb3ZlKGNoaWxkLCBhZnRlck5vZGUsIHRvSW5kZXgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLk1PVkVfRVhJU1RJTkcsXG4gICAgICAgIGNvbnRlbnQ6IG51bGwsXG4gICAgICAgIGZyb21JbmRleDogY2hpbGQuX21vdW50SW5kZXgsXG4gICAgICAgIGZyb21Ob2RlOiBSZWFjdFJlY29uY2lsZXIuZ2V0TmF0aXZlTm9kZShjaGlsZCksXG4gICAgICAgIHRvSW5kZXg6IHRvSW5kZXgsXG4gICAgICAgIGFmdGVyTm9kZTogYWZ0ZXJOb2RlXG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYWtlUmVtb3ZlKGNoaWxkLCBub2RlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5SRU1PVkVfTk9ERSxcbiAgICAgICAgY29udGVudDogbnVsbCxcbiAgICAgICAgZnJvbUluZGV4OiBjaGlsZC5fbW91bnRJbmRleCxcbiAgICAgICAgZnJvbU5vZGU6IG5vZGUsXG4gICAgICAgIHRvSW5kZXg6IG51bGwsXG4gICAgICAgIGFmdGVyTm9kZTogbnVsbFxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFrZVNldE1hcmt1cChtYXJrdXApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLlNFVF9NQVJLVVAsXG4gICAgICAgIGNvbnRlbnQ6IG1hcmt1cCxcbiAgICAgICAgZnJvbUluZGV4OiBudWxsLFxuICAgICAgICBmcm9tTm9kZTogbnVsbCxcbiAgICAgICAgdG9JbmRleDogbnVsbCxcbiAgICAgICAgYWZ0ZXJOb2RlOiBudWxsXG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYWtlVGV4dENvbnRlbnQodGV4dENvbnRlbnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLlRFWFRfQ09OVEVOVCxcbiAgICAgICAgY29udGVudDogdGV4dENvbnRlbnQsXG4gICAgICAgIGZyb21JbmRleDogbnVsbCxcbiAgICAgICAgZnJvbU5vZGU6IG51bGwsXG4gICAgICAgIHRvSW5kZXg6IG51bGwsXG4gICAgICAgIGFmdGVyTm9kZTogbnVsbFxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZShxdWV1ZSwgdXBkYXRlKSB7XG4gICAgICBpZiAodXBkYXRlKSB7XG4gICAgICAgIHF1ZXVlID0gcXVldWUgfHwgW107XG4gICAgICAgIHF1ZXVlLnB1c2godXBkYXRlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBxdWV1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvY2Vzc1F1ZXVlKGluc3QsIHVwZGF0ZVF1ZXVlKSB7XG4gICAgICBSZWFjdENvbXBvbmVudEVudmlyb25tZW50LnByb2Nlc3NDaGlsZHJlblVwZGF0ZXMoaW5zdCwgdXBkYXRlUXVldWUpO1xuICAgIH1cbiAgICB2YXIgc2V0Q2hpbGRyZW5Gb3JJbnN0cnVtZW50YXRpb24gPSBlbXB0eUZ1bmN0aW9uO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBzZXRDaGlsZHJlbkZvckluc3RydW1lbnRhdGlvbiA9IGZ1bmN0aW9uKGNoaWxkcmVuKSB7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldENoaWxkcmVuKHRoaXMuX2RlYnVnSUQsIGNoaWxkcmVuID8gT2JqZWN0LmtleXMoY2hpbGRyZW4pLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGRyZW5ba2V5XS5fZGVidWdJRDtcbiAgICAgICAgfSkgOiBbXSk7XG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgUmVhY3RNdWx0aUNoaWxkID0ge01peGluOiB7XG4gICAgICAgIF9yZWNvbmNpbGVySW5zdGFudGlhdGVDaGlsZHJlbjogZnVuY3Rpb24obmVzdGVkQ2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSB0aGlzLl9jdXJyZW50RWxlbWVudC5fb3duZXI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLmluc3RhbnRpYXRlQ2hpbGRyZW4obmVzdGVkQ2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gUmVhY3RDaGlsZFJlY29uY2lsZXIuaW5zdGFudGlhdGVDaGlsZHJlbihuZXN0ZWRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICB9LFxuICAgICAgICBfcmVjb25jaWxlclVwZGF0ZUNoaWxkcmVuOiBmdW5jdGlvbihwcmV2Q2hpbGRyZW4sIG5leHROZXN0ZWRDaGlsZHJlbkVsZW1lbnRzLCByZW1vdmVkTm9kZXMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgICAgdmFyIG5leHRDaGlsZHJlbjtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgICAgICAgICAgICBuZXh0Q2hpbGRyZW4gPSBmbGF0dGVuQ2hpbGRyZW4obmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMpO1xuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLnVwZGF0ZUNoaWxkcmVuKHByZXZDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCByZW1vdmVkTm9kZXMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHRDaGlsZHJlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbmV4dENoaWxkcmVuID0gZmxhdHRlbkNoaWxkcmVuKG5leHROZXN0ZWRDaGlsZHJlbkVsZW1lbnRzKTtcbiAgICAgICAgICBSZWFjdENoaWxkUmVjb25jaWxlci51cGRhdGVDaGlsZHJlbihwcmV2Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgcmVtb3ZlZE5vZGVzLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgICAgcmV0dXJuIG5leHRDaGlsZHJlbjtcbiAgICAgICAgfSxcbiAgICAgICAgbW91bnRDaGlsZHJlbjogZnVuY3Rpb24obmVzdGVkQ2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5fcmVjb25jaWxlckluc3RhbnRpYXRlQ2hpbGRyZW4obmVzdGVkQ2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgICB0aGlzLl9yZW5kZXJlZENoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgICAgdmFyIG1vdW50SW1hZ2VzID0gW107XG4gICAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIGNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5bbmFtZV07XG4gICAgICAgICAgICAgIHZhciBtb3VudEltYWdlID0gUmVhY3RSZWNvbmNpbGVyLm1vdW50Q29tcG9uZW50KGNoaWxkLCB0cmFuc2FjdGlvbiwgdGhpcywgdGhpcy5fbmF0aXZlQ29udGFpbmVySW5mbywgY29udGV4dCk7XG4gICAgICAgICAgICAgIGNoaWxkLl9tb3VudEluZGV4ID0gaW5kZXgrKztcbiAgICAgICAgICAgICAgbW91bnRJbWFnZXMucHVzaChtb3VudEltYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHNldENoaWxkcmVuRm9ySW5zdHJ1bWVudGF0aW9uLmNhbGwodGhpcywgY2hpbGRyZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbW91bnRJbWFnZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZVRleHRDb250ZW50OiBmdW5jdGlvbihuZXh0Q29udGVudCkge1xuICAgICAgICAgIHZhciBwcmV2Q2hpbGRyZW4gPSB0aGlzLl9yZW5kZXJlZENoaWxkcmVuO1xuICAgICAgICAgIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLnVubW91bnRDaGlsZHJlbihwcmV2Q2hpbGRyZW4sIGZhbHNlKTtcbiAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIHByZXZDaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKHByZXZDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICAhZmFsc2UgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlVGV4dENvbnRlbnQgY2FsbGVkIG9uIG5vbi1lbXB0eSBjb21wb25lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdXBkYXRlcyA9IFttYWtlVGV4dENvbnRlbnQobmV4dENvbnRlbnQpXTtcbiAgICAgICAgICBwcm9jZXNzUXVldWUodGhpcywgdXBkYXRlcyk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZU1hcmt1cDogZnVuY3Rpb24obmV4dE1hcmt1cCkge1xuICAgICAgICAgIHZhciBwcmV2Q2hpbGRyZW4gPSB0aGlzLl9yZW5kZXJlZENoaWxkcmVuO1xuICAgICAgICAgIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLnVubW91bnRDaGlsZHJlbihwcmV2Q2hpbGRyZW4sIGZhbHNlKTtcbiAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIHByZXZDaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKHByZXZDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICAhZmFsc2UgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlVGV4dENvbnRlbnQgY2FsbGVkIG9uIG5vbi1lbXB0eSBjb21wb25lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdXBkYXRlcyA9IFttYWtlU2V0TWFya3VwKG5leHRNYXJrdXApXTtcbiAgICAgICAgICBwcm9jZXNzUXVldWUodGhpcywgdXBkYXRlcyk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZUNoaWxkcmVuOiBmdW5jdGlvbihuZXh0TmVzdGVkQ2hpbGRyZW5FbGVtZW50cywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgICB0aGlzLl91cGRhdGVDaGlsZHJlbihuZXh0TmVzdGVkQ2hpbGRyZW5FbGVtZW50cywgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICB9LFxuICAgICAgICBfdXBkYXRlQ2hpbGRyZW46IGZ1bmN0aW9uKG5leHROZXN0ZWRDaGlsZHJlbkVsZW1lbnRzLCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgICAgIHZhciBwcmV2Q2hpbGRyZW4gPSB0aGlzLl9yZW5kZXJlZENoaWxkcmVuO1xuICAgICAgICAgIHZhciByZW1vdmVkTm9kZXMgPSB7fTtcbiAgICAgICAgICB2YXIgbmV4dENoaWxkcmVuID0gdGhpcy5fcmVjb25jaWxlclVwZGF0ZUNoaWxkcmVuKHByZXZDaGlsZHJlbiwgbmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMsIHJlbW92ZWROb2RlcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICAgIGlmICghbmV4dENoaWxkcmVuICYmICFwcmV2Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHVwZGF0ZXMgPSBudWxsO1xuICAgICAgICAgIHZhciBuYW1lO1xuICAgICAgICAgIHZhciBsYXN0SW5kZXggPSAwO1xuICAgICAgICAgIHZhciBuZXh0SW5kZXggPSAwO1xuICAgICAgICAgIHZhciBsYXN0UGxhY2VkTm9kZSA9IG51bGw7XG4gICAgICAgICAgZm9yIChuYW1lIGluIG5leHRDaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKCFuZXh0Q2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJldkNoaWxkID0gcHJldkNoaWxkcmVuICYmIHByZXZDaGlsZHJlbltuYW1lXTtcbiAgICAgICAgICAgIHZhciBuZXh0Q2hpbGQgPSBuZXh0Q2hpbGRyZW5bbmFtZV07XG4gICAgICAgICAgICBpZiAocHJldkNoaWxkID09PSBuZXh0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgdXBkYXRlcyA9IGVucXVldWUodXBkYXRlcywgdGhpcy5tb3ZlQ2hpbGQocHJldkNoaWxkLCBsYXN0UGxhY2VkTm9kZSwgbmV4dEluZGV4LCBsYXN0SW5kZXgpKTtcbiAgICAgICAgICAgICAgbGFzdEluZGV4ID0gTWF0aC5tYXgocHJldkNoaWxkLl9tb3VudEluZGV4LCBsYXN0SW5kZXgpO1xuICAgICAgICAgICAgICBwcmV2Q2hpbGQuX21vdW50SW5kZXggPSBuZXh0SW5kZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAocHJldkNoaWxkKSB7XG4gICAgICAgICAgICAgICAgbGFzdEluZGV4ID0gTWF0aC5tYXgocHJldkNoaWxkLl9tb3VudEluZGV4LCBsYXN0SW5kZXgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHVwZGF0ZXMgPSBlbnF1ZXVlKHVwZGF0ZXMsIHRoaXMuX21vdW50Q2hpbGRBdEluZGV4KG5leHRDaGlsZCwgbGFzdFBsYWNlZE5vZGUsIG5leHRJbmRleCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRJbmRleCsrO1xuICAgICAgICAgICAgbGFzdFBsYWNlZE5vZGUgPSBSZWFjdFJlY29uY2lsZXIuZ2V0TmF0aXZlTm9kZShuZXh0Q2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKG5hbWUgaW4gcmVtb3ZlZE5vZGVzKSB7XG4gICAgICAgICAgICBpZiAocmVtb3ZlZE5vZGVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZXMgPSBlbnF1ZXVlKHVwZGF0ZXMsIHRoaXMuX3VubW91bnRDaGlsZChwcmV2Q2hpbGRyZW5bbmFtZV0sIHJlbW92ZWROb2Rlc1tuYW1lXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodXBkYXRlcykge1xuICAgICAgICAgICAgcHJvY2Vzc1F1ZXVlKHRoaXMsIHVwZGF0ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9yZW5kZXJlZENoaWxkcmVuID0gbmV4dENoaWxkcmVuO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBzZXRDaGlsZHJlbkZvckluc3RydW1lbnRhdGlvbi5jYWxsKHRoaXMsIG5leHRDaGlsZHJlbik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB1bm1vdW50Q2hpbGRyZW46IGZ1bmN0aW9uKHNhZmVseSkge1xuICAgICAgICAgIHZhciByZW5kZXJlZENoaWxkcmVuID0gdGhpcy5fcmVuZGVyZWRDaGlsZHJlbjtcbiAgICAgICAgICBSZWFjdENoaWxkUmVjb25jaWxlci51bm1vdW50Q2hpbGRyZW4ocmVuZGVyZWRDaGlsZHJlbiwgc2FmZWx5KTtcbiAgICAgICAgICB0aGlzLl9yZW5kZXJlZENoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgbW92ZUNoaWxkOiBmdW5jdGlvbihjaGlsZCwgYWZ0ZXJOb2RlLCB0b0luZGV4LCBsYXN0SW5kZXgpIHtcbiAgICAgICAgICBpZiAoY2hpbGQuX21vdW50SW5kZXggPCBsYXN0SW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlTW92ZShjaGlsZCwgYWZ0ZXJOb2RlLCB0b0luZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZUNoaWxkOiBmdW5jdGlvbihjaGlsZCwgYWZ0ZXJOb2RlLCBtb3VudEltYWdlKSB7XG4gICAgICAgICAgcmV0dXJuIG1ha2VJbnNlcnRNYXJrdXAobW91bnRJbWFnZSwgYWZ0ZXJOb2RlLCBjaGlsZC5fbW91bnRJbmRleCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZUNoaWxkOiBmdW5jdGlvbihjaGlsZCwgbm9kZSkge1xuICAgICAgICAgIHJldHVybiBtYWtlUmVtb3ZlKGNoaWxkLCBub2RlKTtcbiAgICAgICAgfSxcbiAgICAgICAgX21vdW50Q2hpbGRBdEluZGV4OiBmdW5jdGlvbihjaGlsZCwgYWZ0ZXJOb2RlLCBpbmRleCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgICB2YXIgbW91bnRJbWFnZSA9IFJlYWN0UmVjb25jaWxlci5tb3VudENvbXBvbmVudChjaGlsZCwgdHJhbnNhY3Rpb24sIHRoaXMsIHRoaXMuX25hdGl2ZUNvbnRhaW5lckluZm8sIGNvbnRleHQpO1xuICAgICAgICAgIGNoaWxkLl9tb3VudEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQ2hpbGQoY2hpbGQsIGFmdGVyTm9kZSwgbW91bnRJbWFnZSk7XG4gICAgICAgIH0sXG4gICAgICAgIF91bm1vdW50Q2hpbGQ6IGZ1bmN0aW9uKGNoaWxkLCBub2RlKSB7XG4gICAgICAgICAgdmFyIHVwZGF0ZSA9IHRoaXMucmVtb3ZlQ2hpbGQoY2hpbGQsIG5vZGUpO1xuICAgICAgICAgIGNoaWxkLl9tb3VudEluZGV4ID0gbnVsbDtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlO1xuICAgICAgICB9XG4gICAgICB9fTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0TXVsdGlDaGlsZDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNDlcIiwgW1wiNlwiLCBcIjRcIiwgXCI0YVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gIHZhciBQb29sZWRDbGFzcyA9ICRfX3JlcXVpcmUoJzQnKTtcbiAgdmFyIFRyYW5zYWN0aW9uID0gJF9fcmVxdWlyZSgnNGEnKTtcbiAgdmFyIFRSQU5TQUNUSU9OX1dSQVBQRVJTID0gW107XG4gIHZhciBub29wQ2FsbGJhY2tRdWV1ZSA9IHtlbnF1ZXVlOiBmdW5jdGlvbigpIHt9fTtcbiAgZnVuY3Rpb24gUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbihyZW5kZXJUb1N0YXRpY01hcmt1cCkge1xuICAgIHRoaXMucmVpbml0aWFsaXplVHJhbnNhY3Rpb24oKTtcbiAgICB0aGlzLnJlbmRlclRvU3RhdGljTWFya3VwID0gcmVuZGVyVG9TdGF0aWNNYXJrdXA7XG4gICAgdGhpcy51c2VDcmVhdGVFbGVtZW50ID0gZmFsc2U7XG4gIH1cbiAgdmFyIE1peGluID0ge1xuICAgIGdldFRyYW5zYWN0aW9uV3JhcHBlcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFRSQU5TQUNUSU9OX1dSQVBQRVJTO1xuICAgIH0sXG4gICAgZ2V0UmVhY3RNb3VudFJlYWR5OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBub29wQ2FsbGJhY2tRdWV1ZTtcbiAgICB9LFxuICAgIGRlc3RydWN0b3I6IGZ1bmN0aW9uKCkge30sXG4gICAgY2hlY2twb2ludDogZnVuY3Rpb24oKSB7fSxcbiAgICByb2xsYmFjazogZnVuY3Rpb24oKSB7fVxuICB9O1xuICBfYXNzaWduKFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb24ucHJvdG90eXBlLCBUcmFuc2FjdGlvbi5NaXhpbiwgTWl4aW4pO1xuICBQb29sZWRDbGFzcy5hZGRQb29saW5nVG8oUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbik7XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI0YlwiLCBbXCI2XCIsIFwiMWNcIiwgXCIyNlwiLCBcIjRjXCIsIFwiNGRcIiwgXCIxYlwiLCBcIjJlXCIsIFwiYlwiLCBcIjEwXCIsIFwiMzVcIiwgXCI0ZVwiLCBcIjJhXCIsIFwiMmJcIiwgXCI0ZlwiLCBcIjExXCIsIFwiMmRcIiwgXCIzMVwiLCBcIjMzXCIsIFwiM2NcIiwgXCIyN1wiLCBcIjQ0XCIsIFwiNDlcIiwgXCI0OFwiLCBcIjM5XCIsIFwiMzBcIiwgXCIxNFwiLCBcImVcIiwgXCI1MVwiLCBcIjUwXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgICB2YXIgQXV0b0ZvY3VzVXRpbHMgPSAkX19yZXF1aXJlKCcxYycpO1xuICAgIHZhciBDU1NQcm9wZXJ0eU9wZXJhdGlvbnMgPSAkX19yZXF1aXJlKCcyNicpO1xuICAgIHZhciBET01MYXp5VHJlZSA9ICRfX3JlcXVpcmUoJzRjJyk7XG4gICAgdmFyIERPTU5hbWVzcGFjZXMgPSAkX19yZXF1aXJlKCc0ZCcpO1xuICAgIHZhciBET01Qcm9wZXJ0eSA9ICRfX3JlcXVpcmUoJzFiJyk7XG4gICAgdmFyIERPTVByb3BlcnR5T3BlcmF0aW9ucyA9ICRfX3JlcXVpcmUoJzJlJyk7XG4gICAgdmFyIEV2ZW50Q29uc3RhbnRzID0gJF9fcmVxdWlyZSgnYicpO1xuICAgIHZhciBFdmVudFBsdWdpbkh1YiA9ICRfX3JlcXVpcmUoJzEwJyk7XG4gICAgdmFyIEV2ZW50UGx1Z2luUmVnaXN0cnkgPSAkX19yZXF1aXJlKCczNScpO1xuICAgIHZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSAkX19yZXF1aXJlKCc0ZScpO1xuICAgIHZhciBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCA9ICRfX3JlcXVpcmUoJzJhJyk7XG4gICAgdmFyIFJlYWN0RE9NQnV0dG9uID0gJF9fcmVxdWlyZSgnMmInKTtcbiAgICB2YXIgUmVhY3RET01Db21wb25lbnRGbGFncyA9ICRfX3JlcXVpcmUoJzRmJyk7XG4gICAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9ICRfX3JlcXVpcmUoJzExJyk7XG4gICAgdmFyIFJlYWN0RE9NSW5wdXQgPSAkX19yZXF1aXJlKCcyZCcpO1xuICAgIHZhciBSZWFjdERPTU9wdGlvbiA9ICRfX3JlcXVpcmUoJzMxJyk7XG4gICAgdmFyIFJlYWN0RE9NU2VsZWN0ID0gJF9fcmVxdWlyZSgnMzMnKTtcbiAgICB2YXIgUmVhY3RET01UZXh0YXJlYSA9ICRfX3JlcXVpcmUoJzNjJyk7XG4gICAgdmFyIFJlYWN0SW5zdHJ1bWVudGF0aW9uID0gJF9fcmVxdWlyZSgnMjcnKTtcbiAgICB2YXIgUmVhY3RNdWx0aUNoaWxkID0gJF9fcmVxdWlyZSgnNDQnKTtcbiAgICB2YXIgUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbiA9ICRfX3JlcXVpcmUoJzQ5Jyk7XG4gICAgdmFyIGVtcHR5RnVuY3Rpb24gPSAkX19yZXF1aXJlKCc0OCcpO1xuICAgIHZhciBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIgPSAkX19yZXF1aXJlKCczOScpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBpc0V2ZW50U3VwcG9ydGVkID0gJF9fcmVxdWlyZSgnMTQnKTtcbiAgICB2YXIga2V5T2YgPSAkX19yZXF1aXJlKCdlJyk7XG4gICAgdmFyIHNoYWxsb3dFcXVhbCA9ICRfX3JlcXVpcmUoJzUxJyk7XG4gICAgdmFyIHZhbGlkYXRlRE9NTmVzdGluZyA9ICRfX3JlcXVpcmUoJzUwJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciBGbGFncyA9IFJlYWN0RE9NQ29tcG9uZW50RmxhZ3M7XG4gICAgdmFyIGRlbGV0ZUxpc3RlbmVyID0gRXZlbnRQbHVnaW5IdWIuZGVsZXRlTGlzdGVuZXI7XG4gICAgdmFyIGdldE5vZGUgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZTtcbiAgICB2YXIgbGlzdGVuVG8gPSBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIubGlzdGVuVG87XG4gICAgdmFyIHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlcztcbiAgICB2YXIgQ09OVEVOVF9UWVBFUyA9IHtcbiAgICAgICdzdHJpbmcnOiB0cnVlLFxuICAgICAgJ251bWJlcic6IHRydWVcbiAgICB9O1xuICAgIHZhciBTVFlMRSA9IGtleU9mKHtzdHlsZTogbnVsbH0pO1xuICAgIHZhciBIVE1MID0ga2V5T2Yoe19faHRtbDogbnVsbH0pO1xuICAgIHZhciBSRVNFUlZFRF9QUk9QUyA9IHtcbiAgICAgIGNoaWxkcmVuOiBudWxsLFxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IG51bGwsXG4gICAgICBzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmc6IG51bGxcbiAgICB9O1xuICAgIHZhciBET0NfRlJBR01FTlRfVFlQRSA9IDExO1xuICAgIGZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICB2YXIgb3duZXIgPSBpbnRlcm5hbEluc3RhbmNlLl9jdXJyZW50RWxlbWVudC5fb3duZXIgfHwgbnVsbDtcbiAgICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiAnIFRoaXMgRE9NIG5vZGUgd2FzIHJlbmRlcmVkIGJ5IGAnICsgbmFtZSArICdgLic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZyaWVuZGx5U3RyaW5naWZ5KG9iaikge1xuICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICByZXR1cm4gJ1snICsgb2JqLm1hcChmcmllbmRseVN0cmluZ2lmeSkuam9pbignLCAnKSArICddJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcGFpcnMgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgICB2YXIga2V5RXNjYXBlZCA9IC9eW2EteiRfXVtcXHckX10qJC9pLnRlc3Qoa2V5KSA/IGtleSA6IEpTT04uc3RyaW5naWZ5KGtleSk7XG4gICAgICAgICAgICAgIHBhaXJzLnB1c2goa2V5RXNjYXBlZCArICc6ICcgKyBmcmllbmRseVN0cmluZ2lmeShvYmpba2V5XSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gJ3snICsgcGFpcnMuam9pbignLCAnKSArICd9JztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gJ1tmdW5jdGlvbiBvYmplY3RdJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBTdHJpbmcob2JqKTtcbiAgICB9XG4gICAgdmFyIHN0eWxlTXV0YXRpb25XYXJuaW5nID0ge307XG4gICAgZnVuY3Rpb24gY2hlY2tBbmRXYXJuRm9yTXV0YXRlZFN0eWxlKHN0eWxlMSwgc3R5bGUyLCBjb21wb25lbnQpIHtcbiAgICAgIGlmIChzdHlsZTEgPT0gbnVsbCB8fCBzdHlsZTIgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoc2hhbGxvd0VxdWFsKHN0eWxlMSwgc3R5bGUyKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudC5fdGFnO1xuICAgICAgdmFyIG93bmVyID0gY29tcG9uZW50Ll9jdXJyZW50RWxlbWVudC5fb3duZXI7XG4gICAgICB2YXIgb3duZXJOYW1lO1xuICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgIG93bmVyTmFtZSA9IG93bmVyLmdldE5hbWUoKTtcbiAgICAgIH1cbiAgICAgIHZhciBoYXNoID0gb3duZXJOYW1lICsgJ3wnICsgY29tcG9uZW50TmFtZTtcbiAgICAgIGlmIChzdHlsZU11dGF0aW9uV2FybmluZy5oYXNPd25Qcm9wZXJ0eShoYXNoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzdHlsZU11dGF0aW9uV2FybmluZ1toYXNoXSA9IHRydWU7XG4gICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2Alc2Agd2FzIHBhc3NlZCBhIHN0eWxlIG9iamVjdCB0aGF0IGhhcyBwcmV2aW91c2x5IGJlZW4gbXV0YXRlZC4gJyArICdNdXRhdGluZyBgc3R5bGVgIGlzIGRlcHJlY2F0ZWQuIENvbnNpZGVyIGNsb25pbmcgaXQgYmVmb3JlaGFuZC4gQ2hlY2sgJyArICd0aGUgYHJlbmRlcmAgJXMuIFByZXZpb3VzIHN0eWxlOiAlcy4gTXV0YXRlZCBzdHlsZTogJXMuJywgY29tcG9uZW50TmFtZSwgb3duZXIgPyAnb2YgYCcgKyBvd25lck5hbWUgKyAnYCcgOiAndXNpbmcgPCcgKyBjb21wb25lbnROYW1lICsgJz4nLCBmcmllbmRseVN0cmluZ2lmeShzdHlsZTEpLCBmcmllbmRseVN0cmluZ2lmeShzdHlsZTIpKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXNzZXJ0VmFsaWRQcm9wcyhjb21wb25lbnQsIHByb3BzKSB7XG4gICAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh2b2lkRWxlbWVudFRhZ3NbY29tcG9uZW50Ll90YWddKSB7XG4gICAgICAgICEocHJvcHMuY2hpbGRyZW4gPT0gbnVsbCAmJiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PSBudWxsKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcyBpcyBhIHZvaWQgZWxlbWVudCB0YWcgYW5kIG11c3Qgbm90IGhhdmUgYGNoaWxkcmVuYCBvciAnICsgJ3VzZSBgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLiVzJywgY29tcG9uZW50Ll90YWcsIGNvbXBvbmVudC5fY3VycmVudEVsZW1lbnQuX293bmVyID8gJyBDaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiAnICsgY29tcG9uZW50Ll9jdXJyZW50RWxlbWVudC5fb3duZXIuZ2V0TmFtZSgpICsgJy4nIDogJycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCAhPSBudWxsKSB7XG4gICAgICAgICEocHJvcHMuY2hpbGRyZW4gPT0gbnVsbCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnQ2FuIG9ubHkgc2V0IG9uZSBvZiBgY2hpbGRyZW5gIG9yIGBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAhKHR5cGVvZiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PT0gJ29iamVjdCcgJiYgSFRNTCBpbiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYCBtdXN0IGJlIGluIHRoZSBmb3JtIGB7X19odG1sOiAuLi59YC4gJyArICdQbGVhc2UgdmlzaXQgaHR0cHM6Ly9mYi5tZS9yZWFjdC1pbnZhcmlhbnQtZGFuZ2Vyb3VzbHktc2V0LWlubmVyLWh0bWwgJyArICdmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhwcm9wcy5pbm5lckhUTUwgPT0gbnVsbCwgJ0RpcmVjdGx5IHNldHRpbmcgcHJvcGVydHkgYGlubmVySFRNTGAgaXMgbm90IHBlcm1pdHRlZC4gJyArICdGb3IgbW9yZSBpbmZvcm1hdGlvbiwgbG9va3VwIGRvY3VtZW50YXRpb24gb24gYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC4nKSA6IHZvaWQgMDtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcocHJvcHMuc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIHx8ICFwcm9wcy5jb250ZW50RWRpdGFibGUgfHwgcHJvcHMuY2hpbGRyZW4gPT0gbnVsbCwgJ0EgY29tcG9uZW50IGlzIGBjb250ZW50RWRpdGFibGVgIGFuZCBjb250YWlucyBgY2hpbGRyZW5gIG1hbmFnZWQgYnkgJyArICdSZWFjdC4gSXQgaXMgbm93IHlvdXIgcmVzcG9uc2liaWxpdHkgdG8gZ3VhcmFudGVlIHRoYXQgbm9uZSBvZiAnICsgJ3Rob3NlIG5vZGVzIGFyZSB1bmV4cGVjdGVkbHkgbW9kaWZpZWQgb3IgZHVwbGljYXRlZC4gVGhpcyBpcyAnICsgJ3Byb2JhYmx5IG5vdCBpbnRlbnRpb25hbC4nKSA6IHZvaWQgMDtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcocHJvcHMub25Gb2N1c0luID09IG51bGwgJiYgcHJvcHMub25Gb2N1c091dCA9PSBudWxsLCAnUmVhY3QgdXNlcyBvbkZvY3VzIGFuZCBvbkJsdXIgaW5zdGVhZCBvZiBvbkZvY3VzSW4gYW5kIG9uRm9jdXNPdXQuICcgKyAnQWxsIFJlYWN0IGV2ZW50cyBhcmUgbm9ybWFsaXplZCB0byBidWJibGUsIHNvIG9uRm9jdXNJbiBhbmQgb25Gb2N1c091dCAnICsgJ2FyZSBub3QgbmVlZGVkL3N1cHBvcnRlZCBieSBSZWFjdC4nKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgICEocHJvcHMuc3R5bGUgPT0gbnVsbCB8fCB0eXBlb2YgcHJvcHMuc3R5bGUgPT09ICdvYmplY3QnKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdUaGUgYHN0eWxlYCBwcm9wIGV4cGVjdHMgYSBtYXBwaW5nIGZyb20gc3R5bGUgcHJvcGVydGllcyB0byB2YWx1ZXMsICcgKyAnbm90IGEgc3RyaW5nLiBGb3IgZXhhbXBsZSwgc3R5bGU9e3ttYXJnaW5SaWdodDogc3BhY2luZyArIFxcJ2VtXFwnfX0gd2hlbiAnICsgJ3VzaW5nIEpTWC4lcycsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShjb21wb25lbnQpKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVucXVldWVQdXRMaXN0ZW5lcihpbnN0LCByZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lciwgdHJhbnNhY3Rpb24pIHtcbiAgICAgIGlmICh0cmFuc2FjdGlvbiBpbnN0YW5jZW9mIFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcocmVnaXN0cmF0aW9uTmFtZSAhPT0gJ29uU2Nyb2xsJyB8fCBpc0V2ZW50U3VwcG9ydGVkKCdzY3JvbGwnLCB0cnVlKSwgJ1RoaXMgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCB0aGUgYG9uU2Nyb2xsYCBldmVudCcpIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgdmFyIGNvbnRhaW5lckluZm8gPSBpbnN0Ll9uYXRpdmVDb250YWluZXJJbmZvO1xuICAgICAgdmFyIGlzRG9jdW1lbnRGcmFnbWVudCA9IGNvbnRhaW5lckluZm8uX25vZGUgJiYgY29udGFpbmVySW5mby5fbm9kZS5ub2RlVHlwZSA9PT0gRE9DX0ZSQUdNRU5UX1RZUEU7XG4gICAgICB2YXIgZG9jID0gaXNEb2N1bWVudEZyYWdtZW50ID8gY29udGFpbmVySW5mby5fbm9kZSA6IGNvbnRhaW5lckluZm8uX293bmVyRG9jdW1lbnQ7XG4gICAgICBsaXN0ZW5UbyhyZWdpc3RyYXRpb25OYW1lLCBkb2MpO1xuICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShwdXRMaXN0ZW5lciwge1xuICAgICAgICBpbnN0OiBpbnN0LFxuICAgICAgICByZWdpc3RyYXRpb25OYW1lOiByZWdpc3RyYXRpb25OYW1lLFxuICAgICAgICBsaXN0ZW5lcjogbGlzdGVuZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXRMaXN0ZW5lcigpIHtcbiAgICAgIHZhciBsaXN0ZW5lclRvUHV0ID0gdGhpcztcbiAgICAgIEV2ZW50UGx1Z2luSHViLnB1dExpc3RlbmVyKGxpc3RlbmVyVG9QdXQuaW5zdCwgbGlzdGVuZXJUb1B1dC5yZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lclRvUHV0Lmxpc3RlbmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3B0aW9uUG9zdE1vdW50KCkge1xuICAgICAgdmFyIGluc3QgPSB0aGlzO1xuICAgICAgUmVhY3RET01PcHRpb24ucG9zdE1vdW50V3JhcHBlcihpbnN0KTtcbiAgICB9XG4gICAgdmFyIHNldENvbnRlbnRDaGlsZEZvckluc3RydW1lbnRhdGlvbiA9IGVtcHR5RnVuY3Rpb247XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHNldENvbnRlbnRDaGlsZEZvckluc3RydW1lbnRhdGlvbiA9IGZ1bmN0aW9uKGNvbnRlbnRUb1VzZSkge1xuICAgICAgICB2YXIgZGVidWdJRCA9IHRoaXMuX2RlYnVnSUQ7XG4gICAgICAgIHZhciBjb250ZW50RGVidWdJRCA9IGRlYnVnSUQgKyAnI3RleHQnO1xuICAgICAgICB0aGlzLl9jb250ZW50RGVidWdJRCA9IGNvbnRlbnREZWJ1Z0lEO1xuICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXREaXNwbGF5TmFtZShjb250ZW50RGVidWdJRCwgJyN0ZXh0Jyk7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldFRleHQoY29udGVudERlYnVnSUQsICcnICsgY29udGVudFRvVXNlKTtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTW91bnRDb21wb25lbnQoY29udGVudERlYnVnSUQpO1xuICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRDaGlsZHJlbihkZWJ1Z0lELCBbY29udGVudERlYnVnSURdKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHZhciBtZWRpYUV2ZW50cyA9IHtcbiAgICAgIHRvcEFib3J0OiAnYWJvcnQnLFxuICAgICAgdG9wQ2FuUGxheTogJ2NhbnBsYXknLFxuICAgICAgdG9wQ2FuUGxheVRocm91Z2g6ICdjYW5wbGF5dGhyb3VnaCcsXG4gICAgICB0b3BEdXJhdGlvbkNoYW5nZTogJ2R1cmF0aW9uY2hhbmdlJyxcbiAgICAgIHRvcEVtcHRpZWQ6ICdlbXB0aWVkJyxcbiAgICAgIHRvcEVuY3J5cHRlZDogJ2VuY3J5cHRlZCcsXG4gICAgICB0b3BFbmRlZDogJ2VuZGVkJyxcbiAgICAgIHRvcEVycm9yOiAnZXJyb3InLFxuICAgICAgdG9wTG9hZGVkRGF0YTogJ2xvYWRlZGRhdGEnLFxuICAgICAgdG9wTG9hZGVkTWV0YWRhdGE6ICdsb2FkZWRtZXRhZGF0YScsXG4gICAgICB0b3BMb2FkU3RhcnQ6ICdsb2Fkc3RhcnQnLFxuICAgICAgdG9wUGF1c2U6ICdwYXVzZScsXG4gICAgICB0b3BQbGF5OiAncGxheScsXG4gICAgICB0b3BQbGF5aW5nOiAncGxheWluZycsXG4gICAgICB0b3BQcm9ncmVzczogJ3Byb2dyZXNzJyxcbiAgICAgIHRvcFJhdGVDaGFuZ2U6ICdyYXRlY2hhbmdlJyxcbiAgICAgIHRvcFNlZWtlZDogJ3NlZWtlZCcsXG4gICAgICB0b3BTZWVraW5nOiAnc2Vla2luZycsXG4gICAgICB0b3BTdGFsbGVkOiAnc3RhbGxlZCcsXG4gICAgICB0b3BTdXNwZW5kOiAnc3VzcGVuZCcsXG4gICAgICB0b3BUaW1lVXBkYXRlOiAndGltZXVwZGF0ZScsXG4gICAgICB0b3BWb2x1bWVDaGFuZ2U6ICd2b2x1bWVjaGFuZ2UnLFxuICAgICAgdG9wV2FpdGluZzogJ3dhaXRpbmcnXG4gICAgfTtcbiAgICBmdW5jdGlvbiB0cmFwQnViYmxlZEV2ZW50c0xvY2FsKCkge1xuICAgICAgdmFyIGluc3QgPSB0aGlzO1xuICAgICAgIWluc3QuX3Jvb3ROb2RlSUQgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnTXVzdCBiZSBtb3VudGVkIHRvIHRyYXAgZXZlbnRzJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIG5vZGUgPSBnZXROb2RlKGluc3QpO1xuICAgICAgIW5vZGUgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndHJhcEJ1YmJsZWRFdmVudCguLi4pOiBSZXF1aXJlcyBub2RlIHRvIGJlIHJlbmRlcmVkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHN3aXRjaCAoaW5zdC5fdGFnKSB7XG4gICAgICAgIGNhc2UgJ2lmcmFtZSc6XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycyA9IFtSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcExvYWQsICdsb2FkJywgbm9kZSldO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd2aWRlbyc6XG4gICAgICAgIGNhc2UgJ2F1ZGlvJzpcbiAgICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUubGlzdGVuZXJzID0gW107XG4gICAgICAgICAgZm9yICh2YXIgZXZlbnQgaW4gbWVkaWFFdmVudHMpIHtcbiAgICAgICAgICAgIGlmIChtZWRpYUV2ZW50cy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcbiAgICAgICAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycy5wdXNoKFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci50cmFwQnViYmxlZEV2ZW50KEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXNbZXZlbnRdLCBtZWRpYUV2ZW50c1tldmVudF0sIG5vZGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2ltZyc6XG4gICAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycyA9IFtSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcEVycm9yLCAnZXJyb3InLCBub2RlKSwgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnRyYXBCdWJibGVkRXZlbnQoRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcy50b3BMb2FkLCAnbG9hZCcsIG5vZGUpXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZm9ybSc6XG4gICAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycyA9IFtSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcFJlc2V0LCAncmVzZXQnLCBub2RlKSwgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnRyYXBCdWJibGVkRXZlbnQoRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcy50b3BTdWJtaXQsICdzdWJtaXQnLCBub2RlKV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgICAgIGluc3QuX3dyYXBwZXJTdGF0ZS5saXN0ZW5lcnMgPSBbUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnRyYXBCdWJibGVkRXZlbnQoRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcy50b3BJbnZhbGlkLCAnaW52YWxpZCcsIG5vZGUpXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcG9zdFVwZGF0ZVNlbGVjdFdyYXBwZXIoKSB7XG4gICAgICBSZWFjdERPTVNlbGVjdC5wb3N0VXBkYXRlV3JhcHBlcih0aGlzKTtcbiAgICB9XG4gICAgdmFyIG9taXR0ZWRDbG9zZVRhZ3MgPSB7XG4gICAgICAnYXJlYSc6IHRydWUsXG4gICAgICAnYmFzZSc6IHRydWUsXG4gICAgICAnYnInOiB0cnVlLFxuICAgICAgJ2NvbCc6IHRydWUsXG4gICAgICAnZW1iZWQnOiB0cnVlLFxuICAgICAgJ2hyJzogdHJ1ZSxcbiAgICAgICdpbWcnOiB0cnVlLFxuICAgICAgJ2lucHV0JzogdHJ1ZSxcbiAgICAgICdrZXlnZW4nOiB0cnVlLFxuICAgICAgJ2xpbmsnOiB0cnVlLFxuICAgICAgJ21ldGEnOiB0cnVlLFxuICAgICAgJ3BhcmFtJzogdHJ1ZSxcbiAgICAgICdzb3VyY2UnOiB0cnVlLFxuICAgICAgJ3RyYWNrJzogdHJ1ZSxcbiAgICAgICd3YnInOiB0cnVlXG4gICAgfTtcbiAgICB2YXIgbmV3bGluZUVhdGluZ1RhZ3MgPSB7XG4gICAgICAnbGlzdGluZyc6IHRydWUsXG4gICAgICAncHJlJzogdHJ1ZSxcbiAgICAgICd0ZXh0YXJlYSc6IHRydWVcbiAgICB9O1xuICAgIHZhciB2b2lkRWxlbWVudFRhZ3MgPSBfYXNzaWduKHsnbWVudWl0ZW0nOiB0cnVlfSwgb21pdHRlZENsb3NlVGFncyk7XG4gICAgdmFyIFZBTElEX1RBR19SRUdFWCA9IC9eW2EtekEtWl1bYS16QS1aOl9cXC5cXC1cXGRdKiQvO1xuICAgIHZhciB2YWxpZGF0ZWRUYWdDYWNoZSA9IHt9O1xuICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRGFuZ2Vyb3VzVGFnKHRhZykge1xuICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbGlkYXRlZFRhZ0NhY2hlLCB0YWcpKSB7XG4gICAgICAgICFWQUxJRF9UQUdfUkVHRVgudGVzdCh0YWcpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0ludmFsaWQgdGFnOiAlcycsIHRhZykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB2YWxpZGF0ZWRUYWdDYWNoZVt0YWddID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaXNDdXN0b21Db21wb25lbnQodGFnTmFtZSwgcHJvcHMpIHtcbiAgICAgIHJldHVybiB0YWdOYW1lLmluZGV4T2YoJy0nKSA+PSAwIHx8IHByb3BzLmlzICE9IG51bGw7XG4gICAgfVxuICAgIHZhciBnbG9iYWxJZENvdW50ZXIgPSAxO1xuICAgIGZ1bmN0aW9uIFJlYWN0RE9NQ29tcG9uZW50KGVsZW1lbnQpIHtcbiAgICAgIHZhciB0YWcgPSBlbGVtZW50LnR5cGU7XG4gICAgICB2YWxpZGF0ZURhbmdlcm91c1RhZyh0YWcpO1xuICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5fdGFnID0gdGFnLnRvTG93ZXJDYXNlKCk7XG4gICAgICB0aGlzLl9uYW1lc3BhY2VVUkkgPSBudWxsO1xuICAgICAgdGhpcy5fcmVuZGVyZWRDaGlsZHJlbiA9IG51bGw7XG4gICAgICB0aGlzLl9wcmV2aW91c1N0eWxlID0gbnVsbDtcbiAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5ID0gbnVsbDtcbiAgICAgIHRoaXMuX25hdGl2ZU5vZGUgPSBudWxsO1xuICAgICAgdGhpcy5fbmF0aXZlUGFyZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSBudWxsO1xuICAgICAgdGhpcy5fZG9tSUQgPSBudWxsO1xuICAgICAgdGhpcy5fbmF0aXZlQ29udGFpbmVySW5mbyA9IG51bGw7XG4gICAgICB0aGlzLl93cmFwcGVyU3RhdGUgPSBudWxsO1xuICAgICAgdGhpcy5fdG9wTGV2ZWxXcmFwcGVyID0gbnVsbDtcbiAgICAgIHRoaXMuX2ZsYWdzID0gMDtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX2FuY2VzdG9ySW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NvbnRlbnREZWJ1Z0lEID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgUmVhY3RET01Db21wb25lbnQuZGlzcGxheU5hbWUgPSAnUmVhY3RET01Db21wb25lbnQnO1xuICAgIFJlYWN0RE9NQ29tcG9uZW50Lk1peGluID0ge1xuICAgICAgbW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fcm9vdE5vZGVJRCA9IGdsb2JhbElkQ291bnRlcisrO1xuICAgICAgICB0aGlzLl9kb21JRCA9IG5hdGl2ZUNvbnRhaW5lckluZm8uX2lkQ291bnRlcisrO1xuICAgICAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBuYXRpdmVQYXJlbnQ7XG4gICAgICAgIHRoaXMuX25hdGl2ZUNvbnRhaW5lckluZm8gPSBuYXRpdmVDb250YWluZXJJbmZvO1xuICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLl9jdXJyZW50RWxlbWVudC5wcm9wcztcbiAgICAgICAgc3dpdGNoICh0aGlzLl90YWcpIHtcbiAgICAgICAgICBjYXNlICdpZnJhbWUnOlxuICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgY2FzZSAnaW1nJzpcbiAgICAgICAgICBjYXNlICdmb3JtJzpcbiAgICAgICAgICBjYXNlICd2aWRlbyc6XG4gICAgICAgICAgY2FzZSAnYXVkaW8nOlxuICAgICAgICAgICAgdGhpcy5fd3JhcHBlclN0YXRlID0ge2xpc3RlbmVyczogbnVsbH07XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKHRyYXBCdWJibGVkRXZlbnRzTG9jYWwsIHRoaXMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnYnV0dG9uJzpcbiAgICAgICAgICAgIHByb3BzID0gUmVhY3RET01CdXR0b24uZ2V0TmF0aXZlUHJvcHModGhpcywgcHJvcHMsIG5hdGl2ZVBhcmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdpbnB1dCc6XG4gICAgICAgICAgICBSZWFjdERPTUlucHV0Lm1vdW50V3JhcHBlcih0aGlzLCBwcm9wcywgbmF0aXZlUGFyZW50KTtcbiAgICAgICAgICAgIHByb3BzID0gUmVhY3RET01JbnB1dC5nZXROYXRpdmVQcm9wcyh0aGlzLCBwcm9wcyk7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKHRyYXBCdWJibGVkRXZlbnRzTG9jYWwsIHRoaXMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgICAgICAgIFJlYWN0RE9NT3B0aW9uLm1vdW50V3JhcHBlcih0aGlzLCBwcm9wcywgbmF0aXZlUGFyZW50KTtcbiAgICAgICAgICAgIHByb3BzID0gUmVhY3RET01PcHRpb24uZ2V0TmF0aXZlUHJvcHModGhpcywgcHJvcHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgICAgIFJlYWN0RE9NU2VsZWN0Lm1vdW50V3JhcHBlcih0aGlzLCBwcm9wcywgbmF0aXZlUGFyZW50KTtcbiAgICAgICAgICAgIHByb3BzID0gUmVhY3RET01TZWxlY3QuZ2V0TmF0aXZlUHJvcHModGhpcywgcHJvcHMpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZSh0cmFwQnViYmxlZEV2ZW50c0xvY2FsLCB0aGlzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgICAgICAgIFJlYWN0RE9NVGV4dGFyZWEubW91bnRXcmFwcGVyKHRoaXMsIHByb3BzLCBuYXRpdmVQYXJlbnQpO1xuICAgICAgICAgICAgcHJvcHMgPSBSZWFjdERPTVRleHRhcmVhLmdldE5hdGl2ZVByb3BzKHRoaXMsIHByb3BzKTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUodHJhcEJ1YmJsZWRFdmVudHNMb2NhbCwgdGhpcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnRWYWxpZFByb3BzKHRoaXMsIHByb3BzKTtcbiAgICAgICAgdmFyIG5hbWVzcGFjZVVSSTtcbiAgICAgICAgdmFyIHBhcmVudFRhZztcbiAgICAgICAgaWYgKG5hdGl2ZVBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgbmFtZXNwYWNlVVJJID0gbmF0aXZlUGFyZW50Ll9uYW1lc3BhY2VVUkk7XG4gICAgICAgICAgcGFyZW50VGFnID0gbmF0aXZlUGFyZW50Ll90YWc7XG4gICAgICAgIH0gZWxzZSBpZiAobmF0aXZlQ29udGFpbmVySW5mby5fdGFnKSB7XG4gICAgICAgICAgbmFtZXNwYWNlVVJJID0gbmF0aXZlQ29udGFpbmVySW5mby5fbmFtZXNwYWNlVVJJO1xuICAgICAgICAgIHBhcmVudFRhZyA9IG5hdGl2ZUNvbnRhaW5lckluZm8uX3RhZztcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZXNwYWNlVVJJID09IG51bGwgfHwgbmFtZXNwYWNlVVJJID09PSBET01OYW1lc3BhY2VzLnN2ZyAmJiBwYXJlbnRUYWcgPT09ICdmb3JlaWdub2JqZWN0Jykge1xuICAgICAgICAgIG5hbWVzcGFjZVVSSSA9IERPTU5hbWVzcGFjZXMuaHRtbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZXNwYWNlVVJJID09PSBET01OYW1lc3BhY2VzLmh0bWwpIHtcbiAgICAgICAgICBpZiAodGhpcy5fdGFnID09PSAnc3ZnJykge1xuICAgICAgICAgICAgbmFtZXNwYWNlVVJJID0gRE9NTmFtZXNwYWNlcy5zdmc7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl90YWcgPT09ICdtYXRoJykge1xuICAgICAgICAgICAgbmFtZXNwYWNlVVJJID0gRE9NTmFtZXNwYWNlcy5tYXRobWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX25hbWVzcGFjZVVSSSA9IG5hbWVzcGFjZVVSSTtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB2YXIgcGFyZW50SW5mbztcbiAgICAgICAgICBpZiAobmF0aXZlUGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHBhcmVudEluZm8gPSBuYXRpdmVQYXJlbnQuX2FuY2VzdG9ySW5mbztcbiAgICAgICAgICB9IGVsc2UgaWYgKG5hdGl2ZUNvbnRhaW5lckluZm8uX3RhZykge1xuICAgICAgICAgICAgcGFyZW50SW5mbyA9IG5hdGl2ZUNvbnRhaW5lckluZm8uX2FuY2VzdG9ySW5mbztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhcmVudEluZm8pIHtcbiAgICAgICAgICAgIHZhbGlkYXRlRE9NTmVzdGluZyh0aGlzLl90YWcsIHRoaXMsIHBhcmVudEluZm8pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9hbmNlc3RvckluZm8gPSB2YWxpZGF0ZURPTU5lc3RpbmcudXBkYXRlZEFuY2VzdG9ySW5mbyhwYXJlbnRJbmZvLCB0aGlzLl90YWcsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtb3VudEltYWdlO1xuICAgICAgICBpZiAodHJhbnNhY3Rpb24udXNlQ3JlYXRlRWxlbWVudCkge1xuICAgICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gbmF0aXZlQ29udGFpbmVySW5mby5fb3duZXJEb2N1bWVudDtcbiAgICAgICAgICB2YXIgZWw7XG4gICAgICAgICAgaWYgKG5hbWVzcGFjZVVSSSA9PT0gRE9NTmFtZXNwYWNlcy5odG1sKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGFnID09PSAnc2NyaXB0Jykge1xuICAgICAgICAgICAgICB2YXIgZGl2ID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgdmFyIHR5cGUgPSB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlO1xuICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gJzwnICsgdHlwZSArICc+PC8nICsgdHlwZSArICc+JztcbiAgICAgICAgICAgICAgZWwgPSBkaXYucmVtb3ZlQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZWwgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5fY3VycmVudEVsZW1lbnQudHlwZSwgcHJvcHMuaXMgfHwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlVVJJLCB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgUmVhY3RET01Db21wb25lbnRUcmVlLnByZWNhY2hlTm9kZSh0aGlzLCBlbCk7XG4gICAgICAgICAgdGhpcy5fZmxhZ3MgfD0gRmxhZ3MuaGFzQ2FjaGVkQ2hpbGROb2RlcztcbiAgICAgICAgICBpZiAoIXRoaXMuX25hdGl2ZVBhcmVudCkge1xuICAgICAgICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLnNldEF0dHJpYnV0ZUZvclJvb3QoZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl91cGRhdGVET01Qcm9wZXJ0aWVzKG51bGwsIHByb3BzLCB0cmFuc2FjdGlvbik7XG4gICAgICAgICAgdmFyIGxhenlUcmVlID0gRE9NTGF6eVRyZWUoZWwpO1xuICAgICAgICAgIHRoaXMuX2NyZWF0ZUluaXRpYWxDaGlsZHJlbih0cmFuc2FjdGlvbiwgcHJvcHMsIGNvbnRleHQsIGxhenlUcmVlKTtcbiAgICAgICAgICBtb3VudEltYWdlID0gbGF6eVRyZWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHRhZ09wZW4gPSB0aGlzLl9jcmVhdGVPcGVuVGFnTWFya3VwQW5kUHV0TGlzdGVuZXJzKHRyYW5zYWN0aW9uLCBwcm9wcyk7XG4gICAgICAgICAgdmFyIHRhZ0NvbnRlbnQgPSB0aGlzLl9jcmVhdGVDb250ZW50TWFya3VwKHRyYW5zYWN0aW9uLCBwcm9wcywgY29udGV4dCk7XG4gICAgICAgICAgaWYgKCF0YWdDb250ZW50ICYmIG9taXR0ZWRDbG9zZVRhZ3NbdGhpcy5fdGFnXSkge1xuICAgICAgICAgICAgbW91bnRJbWFnZSA9IHRhZ09wZW4gKyAnLz4nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb3VudEltYWdlID0gdGFnT3BlbiArICc+JyArIHRhZ0NvbnRlbnQgKyAnPC8nICsgdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZSArICc+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLl90YWcpIHtcbiAgICAgICAgICBjYXNlICdidXR0b24nOlxuICAgICAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgICAgICAgIGlmIChwcm9wcy5hdXRvRm9jdXMpIHtcbiAgICAgICAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShBdXRvRm9jdXNVdGlscy5mb2N1c0RPTUNvbXBvbmVudCwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdvcHRpb24nOlxuICAgICAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShvcHRpb25Qb3N0TW91bnQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb3VudEltYWdlO1xuICAgICAgfSxcbiAgICAgIF9jcmVhdGVPcGVuVGFnTWFya3VwQW5kUHV0TGlzdGVuZXJzOiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgcHJvcHMpIHtcbiAgICAgICAgdmFyIHJldCA9ICc8JyArIHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICAgIGZvciAodmFyIHByb3BLZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICBpZiAoIXByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BLZXldO1xuICAgICAgICAgIGlmIChwcm9wVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lTW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgICAgaWYgKHByb3BWYWx1ZSkge1xuICAgICAgICAgICAgICBlbnF1ZXVlUHV0TGlzdGVuZXIodGhpcywgcHJvcEtleSwgcHJvcFZhbHVlLCB0cmFuc2FjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAgICAgICAgICBpZiAocHJvcFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGUgPSBwcm9wVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb3BWYWx1ZSA9IHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5ID0gX2Fzc2lnbih7fSwgcHJvcHMuc3R5bGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHByb3BWYWx1ZSA9IENTU1Byb3BlcnR5T3BlcmF0aW9ucy5jcmVhdGVNYXJrdXBGb3JTdHlsZXMocHJvcFZhbHVlLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtYXJrdXAgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RhZyAhPSBudWxsICYmIGlzQ3VzdG9tQ29tcG9uZW50KHRoaXMuX3RhZywgcHJvcHMpKSB7XG4gICAgICAgICAgICAgIGlmICghUkVTRVJWRURfUFJPUFMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgICAgICAgICBtYXJrdXAgPSBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuY3JlYXRlTWFya3VwRm9yQ3VzdG9tQXR0cmlidXRlKHByb3BLZXksIHByb3BWYWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1hcmt1cCA9IERPTVByb3BlcnR5T3BlcmF0aW9ucy5jcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eShwcm9wS2V5LCBwcm9wVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hcmt1cCkge1xuICAgICAgICAgICAgICByZXQgKz0gJyAnICsgbWFya3VwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhbnNhY3Rpb24ucmVuZGVyVG9TdGF0aWNNYXJrdXApIHtcbiAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fbmF0aXZlUGFyZW50KSB7XG4gICAgICAgICAgcmV0ICs9ICcgJyArIERPTVByb3BlcnR5T3BlcmF0aW9ucy5jcmVhdGVNYXJrdXBGb3JSb290KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0ICs9ICcgJyArIERPTVByb3BlcnR5T3BlcmF0aW9ucy5jcmVhdGVNYXJrdXBGb3JJRCh0aGlzLl9kb21JRCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9LFxuICAgICAgX2NyZWF0ZUNvbnRlbnRNYXJrdXA6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBwcm9wcywgY29udGV4dCkge1xuICAgICAgICB2YXIgcmV0ID0gJyc7XG4gICAgICAgIHZhciBpbm5lckhUTUwgPSBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTDtcbiAgICAgICAgaWYgKGlubmVySFRNTCAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKGlubmVySFRNTC5fX2h0bWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0ID0gaW5uZXJIVE1MLl9faHRtbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnRUb1VzZSA9IENPTlRFTlRfVFlQRVNbdHlwZW9mIHByb3BzLmNoaWxkcmVuXSA/IHByb3BzLmNoaWxkcmVuIDogbnVsbDtcbiAgICAgICAgICB2YXIgY2hpbGRyZW5Ub1VzZSA9IGNvbnRlbnRUb1VzZSAhPSBudWxsID8gbnVsbCA6IHByb3BzLmNoaWxkcmVuO1xuICAgICAgICAgIGlmIChjb250ZW50VG9Vc2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0ID0gZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyKGNvbnRlbnRUb1VzZSk7XG4gICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBzZXRDb250ZW50Q2hpbGRGb3JJbnN0cnVtZW50YXRpb24uY2FsbCh0aGlzLCBjb250ZW50VG9Vc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5Ub1VzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbW91bnRJbWFnZXMgPSB0aGlzLm1vdW50Q2hpbGRyZW4oY2hpbGRyZW5Ub1VzZSwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICAgICAgcmV0ID0gbW91bnRJbWFnZXMuam9pbignJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdsaW5lRWF0aW5nVGFnc1t0aGlzLl90YWddICYmIHJldC5jaGFyQXQoMCkgPT09ICdcXG4nKSB7XG4gICAgICAgICAgcmV0dXJuICdcXG4nICsgcmV0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBfY3JlYXRlSW5pdGlhbENoaWxkcmVuOiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgcHJvcHMsIGNvbnRleHQsIGxhenlUcmVlKSB7XG4gICAgICAgIHZhciBpbm5lckhUTUwgPSBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTDtcbiAgICAgICAgaWYgKGlubmVySFRNTCAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKGlubmVySFRNTC5fX2h0bWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgRE9NTGF6eVRyZWUucXVldWVIVE1MKGxhenlUcmVlLCBpbm5lckhUTUwuX19odG1sKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnRUb1VzZSA9IENPTlRFTlRfVFlQRVNbdHlwZW9mIHByb3BzLmNoaWxkcmVuXSA/IHByb3BzLmNoaWxkcmVuIDogbnVsbDtcbiAgICAgICAgICB2YXIgY2hpbGRyZW5Ub1VzZSA9IGNvbnRlbnRUb1VzZSAhPSBudWxsID8gbnVsbCA6IHByb3BzLmNoaWxkcmVuO1xuICAgICAgICAgIGlmIChjb250ZW50VG9Vc2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgc2V0Q29udGVudENoaWxkRm9ySW5zdHJ1bWVudGF0aW9uLmNhbGwodGhpcywgY29udGVudFRvVXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIERPTUxhenlUcmVlLnF1ZXVlVGV4dChsYXp5VHJlZSwgY29udGVudFRvVXNlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkcmVuVG9Vc2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIG1vdW50SW1hZ2VzID0gdGhpcy5tb3VudENoaWxkcmVuKGNoaWxkcmVuVG9Vc2UsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW91bnRJbWFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgRE9NTGF6eVRyZWUucXVldWVDaGlsZChsYXp5VHJlZSwgbW91bnRJbWFnZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlY2VpdmVDb21wb25lbnQ6IGZ1bmN0aW9uKG5leHRFbGVtZW50LCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgcHJldkVsZW1lbnQgPSB0aGlzLl9jdXJyZW50RWxlbWVudDtcbiAgICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBuZXh0RWxlbWVudDtcbiAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQodHJhbnNhY3Rpb24sIHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCwgY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXBkYXRlQ29tcG9uZW50OiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgcHJldkVsZW1lbnQsIG5leHRFbGVtZW50LCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBsYXN0UHJvcHMgPSBwcmV2RWxlbWVudC5wcm9wcztcbiAgICAgICAgdmFyIG5leHRQcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3RhZykge1xuICAgICAgICAgIGNhc2UgJ2J1dHRvbic6XG4gICAgICAgICAgICBsYXN0UHJvcHMgPSBSZWFjdERPTUJ1dHRvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBsYXN0UHJvcHMpO1xuICAgICAgICAgICAgbmV4dFByb3BzID0gUmVhY3RET01CdXR0b24uZ2V0TmF0aXZlUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgICAgIFJlYWN0RE9NSW5wdXQudXBkYXRlV3JhcHBlcih0aGlzKTtcbiAgICAgICAgICAgIGxhc3RQcm9wcyA9IFJlYWN0RE9NSW5wdXQuZ2V0TmF0aXZlUHJvcHModGhpcywgbGFzdFByb3BzKTtcbiAgICAgICAgICAgIG5leHRQcm9wcyA9IFJlYWN0RE9NSW5wdXQuZ2V0TmF0aXZlUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICAgICAgICBsYXN0UHJvcHMgPSBSZWFjdERPTU9wdGlvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBsYXN0UHJvcHMpO1xuICAgICAgICAgICAgbmV4dFByb3BzID0gUmVhY3RET01PcHRpb24uZ2V0TmF0aXZlUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgICBsYXN0UHJvcHMgPSBSZWFjdERPTVNlbGVjdC5nZXROYXRpdmVQcm9wcyh0aGlzLCBsYXN0UHJvcHMpO1xuICAgICAgICAgICAgbmV4dFByb3BzID0gUmVhY3RET01TZWxlY3QuZ2V0TmF0aXZlUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgICAgICAgIFJlYWN0RE9NVGV4dGFyZWEudXBkYXRlV3JhcHBlcih0aGlzKTtcbiAgICAgICAgICAgIGxhc3RQcm9wcyA9IFJlYWN0RE9NVGV4dGFyZWEuZ2V0TmF0aXZlUHJvcHModGhpcywgbGFzdFByb3BzKTtcbiAgICAgICAgICAgIG5leHRQcm9wcyA9IFJlYWN0RE9NVGV4dGFyZWEuZ2V0TmF0aXZlUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydFZhbGlkUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRE9NUHJvcGVydGllcyhsYXN0UHJvcHMsIG5leHRQcm9wcywgdHJhbnNhY3Rpb24pO1xuICAgICAgICB0aGlzLl91cGRhdGVET01DaGlsZHJlbihsYXN0UHJvcHMsIG5leHRQcm9wcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICBpZiAodGhpcy5fdGFnID09PSAnc2VsZWN0Jykge1xuICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUocG9zdFVwZGF0ZVNlbGVjdFdyYXBwZXIsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX3VwZGF0ZURPTVByb3BlcnRpZXM6IGZ1bmN0aW9uKGxhc3RQcm9wcywgbmV4dFByb3BzLCB0cmFuc2FjdGlvbikge1xuICAgICAgICB2YXIgcHJvcEtleTtcbiAgICAgICAgdmFyIHN0eWxlTmFtZTtcbiAgICAgICAgdmFyIHN0eWxlVXBkYXRlcztcbiAgICAgICAgZm9yIChwcm9wS2V5IGluIGxhc3RQcm9wcykge1xuICAgICAgICAgIGlmIChuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgfHwgIWxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSB8fCBsYXN0UHJvcHNbcHJvcEtleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAgICAgICAgdmFyIGxhc3RTdHlsZSA9IHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5O1xuICAgICAgICAgICAgZm9yIChzdHlsZU5hbWUgaW4gbGFzdFN0eWxlKSB7XG4gICAgICAgICAgICAgIGlmIChsYXN0U3R5bGUuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IHN0eWxlVXBkYXRlcyB8fCB7fTtcbiAgICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXNbc3R5bGVOYW1lXSA9ICcnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9wcmV2aW91c1N0eWxlQ29weSA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIGlmIChyZWdpc3RyYXRpb25OYW1lTW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgICAgaWYgKGxhc3RQcm9wc1twcm9wS2V5XSkge1xuICAgICAgICAgICAgICBkZWxldGVMaXN0ZW5lcih0aGlzLCBwcm9wS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKERPTVByb3BlcnR5LnByb3BlcnRpZXNbcHJvcEtleV0gfHwgRE9NUHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUocHJvcEtleSkpIHtcbiAgICAgICAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5kZWxldGVWYWx1ZUZvclByb3BlcnR5KGdldE5vZGUodGhpcyksIHByb3BLZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHByb3BLZXkgaW4gbmV4dFByb3BzKSB7XG4gICAgICAgICAgdmFyIG5leHRQcm9wID0gbmV4dFByb3BzW3Byb3BLZXldO1xuICAgICAgICAgIHZhciBsYXN0UHJvcCA9IHByb3BLZXkgPT09IFNUWUxFID8gdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgOiBsYXN0UHJvcHMgIT0gbnVsbCA/IGxhc3RQcm9wc1twcm9wS2V5XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAoIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSB8fCBuZXh0UHJvcCA9PT0gbGFzdFByb3AgfHwgbmV4dFByb3AgPT0gbnVsbCAmJiBsYXN0UHJvcCA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByb3BLZXkgPT09IFNUWUxFKSB7XG4gICAgICAgICAgICBpZiAobmV4dFByb3ApIHtcbiAgICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjaGVja0FuZFdhcm5Gb3JNdXRhdGVkU3R5bGUodGhpcy5fcHJldmlvdXNTdHlsZUNvcHksIHRoaXMuX3ByZXZpb3VzU3R5bGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGUgPSBuZXh0UHJvcDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBuZXh0UHJvcCA9IHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5ID0gX2Fzc2lnbih7fSwgbmV4dFByb3ApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhc3RQcm9wKSB7XG4gICAgICAgICAgICAgIGZvciAoc3R5bGVOYW1lIGluIGxhc3RQcm9wKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RQcm9wLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkgJiYgKCFuZXh0UHJvcCB8fCAhbmV4dFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkpIHtcbiAgICAgICAgICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IHN0eWxlVXBkYXRlcyB8fCB7fTtcbiAgICAgICAgICAgICAgICAgIHN0eWxlVXBkYXRlc1tzdHlsZU5hbWVdID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZvciAoc3R5bGVOYW1lIGluIG5leHRQcm9wKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRQcm9wLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkgJiYgbGFzdFByb3Bbc3R5bGVOYW1lXSAhPT0gbmV4dFByb3Bbc3R5bGVOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgc3R5bGVVcGRhdGVzID0gc3R5bGVVcGRhdGVzIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgc3R5bGVVcGRhdGVzW3N0eWxlTmFtZV0gPSBuZXh0UHJvcFtzdHlsZU5hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3R5bGVVcGRhdGVzID0gbmV4dFByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChyZWdpc3RyYXRpb25OYW1lTW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgICAgaWYgKG5leHRQcm9wKSB7XG4gICAgICAgICAgICAgIGVucXVldWVQdXRMaXN0ZW5lcih0aGlzLCBwcm9wS2V5LCBuZXh0UHJvcCwgdHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsYXN0UHJvcCkge1xuICAgICAgICAgICAgICBkZWxldGVMaXN0ZW5lcih0aGlzLCBwcm9wS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzQ3VzdG9tQ29tcG9uZW50KHRoaXMuX3RhZywgbmV4dFByb3BzKSkge1xuICAgICAgICAgICAgaWYgKCFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JBdHRyaWJ1dGUoZ2V0Tm9kZSh0aGlzKSwgcHJvcEtleSwgbmV4dFByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoRE9NUHJvcGVydHkucHJvcGVydGllc1twcm9wS2V5XSB8fCBET01Qcm9wZXJ0eS5pc0N1c3RvbUF0dHJpYnV0ZShwcm9wS2V5KSkge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBnZXROb2RlKHRoaXMpO1xuICAgICAgICAgICAgaWYgKG5leHRQcm9wICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLnNldFZhbHVlRm9yUHJvcGVydHkobm9kZSwgcHJvcEtleSwgbmV4dFByb3ApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLmRlbGV0ZVZhbHVlRm9yUHJvcGVydHkobm9kZSwgcHJvcEtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZVVwZGF0ZXMpIHtcbiAgICAgICAgICBDU1NQcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JTdHlsZXMoZ2V0Tm9kZSh0aGlzKSwgc3R5bGVVcGRhdGVzLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF91cGRhdGVET01DaGlsZHJlbjogZnVuY3Rpb24obGFzdFByb3BzLCBuZXh0UHJvcHMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBsYXN0Q29udGVudCA9IENPTlRFTlRfVFlQRVNbdHlwZW9mIGxhc3RQcm9wcy5jaGlsZHJlbl0gPyBsYXN0UHJvcHMuY2hpbGRyZW4gOiBudWxsO1xuICAgICAgICB2YXIgbmV4dENvbnRlbnQgPSBDT05URU5UX1RZUEVTW3R5cGVvZiBuZXh0UHJvcHMuY2hpbGRyZW5dID8gbmV4dFByb3BzLmNoaWxkcmVuIDogbnVsbDtcbiAgICAgICAgdmFyIGxhc3RIdG1sID0gbGFzdFByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICYmIGxhc3RQcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTC5fX2h0bWw7XG4gICAgICAgIHZhciBuZXh0SHRtbCA9IG5leHRQcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCAmJiBuZXh0UHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwuX19odG1sO1xuICAgICAgICB2YXIgbGFzdENoaWxkcmVuID0gbGFzdENvbnRlbnQgIT0gbnVsbCA/IG51bGwgOiBsYXN0UHJvcHMuY2hpbGRyZW47XG4gICAgICAgIHZhciBuZXh0Q2hpbGRyZW4gPSBuZXh0Q29udGVudCAhPSBudWxsID8gbnVsbCA6IG5leHRQcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgdmFyIGxhc3RIYXNDb250ZW50T3JIdG1sID0gbGFzdENvbnRlbnQgIT0gbnVsbCB8fCBsYXN0SHRtbCAhPSBudWxsO1xuICAgICAgICB2YXIgbmV4dEhhc0NvbnRlbnRPckh0bWwgPSBuZXh0Q29udGVudCAhPSBudWxsIHx8IG5leHRIdG1sICE9IG51bGw7XG4gICAgICAgIGlmIChsYXN0Q2hpbGRyZW4gIT0gbnVsbCAmJiBuZXh0Q2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMudXBkYXRlQ2hpbGRyZW4obnVsbCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICB9IGVsc2UgaWYgKGxhc3RIYXNDb250ZW50T3JIdG1sICYmICFuZXh0SGFzQ29udGVudE9ySHRtbCkge1xuICAgICAgICAgIHRoaXMudXBkYXRlVGV4dENvbnRlbnQoJycpO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRDaGlsZHJlbih0aGlzLl9kZWJ1Z0lELCBbXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0Q29udGVudCAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKGxhc3RDb250ZW50ICE9PSBuZXh0Q29udGVudCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0Q29udGVudCgnJyArIG5leHRDb250ZW50KTtcbiAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2NvbnRlbnREZWJ1Z0lEID0gdGhpcy5fZGVidWdJRCArICcjdGV4dCc7XG4gICAgICAgICAgICAgIHNldENvbnRlbnRDaGlsZEZvckluc3RydW1lbnRhdGlvbi5jYWxsKHRoaXMsIG5leHRDb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobmV4dEh0bWwgIT0gbnVsbCkge1xuICAgICAgICAgIGlmIChsYXN0SHRtbCAhPT0gbmV4dEh0bWwpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWFya3VwKCcnICsgbmV4dEh0bWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uU2V0Q2hpbGRyZW4odGhpcy5fZGVidWdJRCwgW10pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChuZXh0Q2hpbGRyZW4gIT0gbnVsbCkge1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29udGVudERlYnVnSUQpIHtcbiAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uVW5tb3VudENvbXBvbmVudCh0aGlzLl9jb250ZW50RGVidWdJRCk7XG4gICAgICAgICAgICAgIHRoaXMuX2NvbnRlbnREZWJ1Z0lEID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy51cGRhdGVDaGlsZHJlbihuZXh0Q2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldE5hdGl2ZU5vZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZ2V0Tm9kZSh0aGlzKTtcbiAgICAgIH0sXG4gICAgICB1bm1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihzYWZlbHkpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl90YWcpIHtcbiAgICAgICAgICBjYXNlICdpZnJhbWUnOlxuICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgY2FzZSAnaW1nJzpcbiAgICAgICAgICBjYXNlICdmb3JtJzpcbiAgICAgICAgICBjYXNlICd2aWRlbyc6XG4gICAgICAgICAgY2FzZSAnYXVkaW8nOlxuICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX3dyYXBwZXJTdGF0ZS5saXN0ZW5lcnM7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzW2ldLnJlbW92ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgICBjYXNlICdoZWFkJzpcbiAgICAgICAgICBjYXNlICdib2R5JzpcbiAgICAgICAgICAgICFmYWxzZSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICc8JXM+IHRyaWVkIHRvIHVubW91bnQuIEJlY2F1c2Ugb2YgY3Jvc3MtYnJvd3NlciBxdWlya3MgaXQgaXMgJyArICdpbXBvc3NpYmxlIHRvIHVubW91bnQgc29tZSB0b3AtbGV2ZWwgY29tcG9uZW50cyAoZWcgPGh0bWw+LCAnICsgJzxoZWFkPiwgYW5kIDxib2R5PikgcmVsaWFibHkgYW5kIGVmZmljaWVudGx5LiBUbyBmaXggdGhpcywgaGF2ZSBhICcgKyAnc2luZ2xlIHRvcC1sZXZlbCBjb21wb25lbnQgdGhhdCBuZXZlciB1bm1vdW50cyByZW5kZXIgdGhlc2UgJyArICdlbGVtZW50cy4nLCB0aGlzLl90YWcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5tb3VudENoaWxkcmVuKHNhZmVseSk7XG4gICAgICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZS51bmNhY2hlTm9kZSh0aGlzKTtcbiAgICAgICAgRXZlbnRQbHVnaW5IdWIuZGVsZXRlQWxsTGlzdGVuZXJzKHRoaXMpO1xuICAgICAgICBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudC51bm1vdW50SURGcm9tRW52aXJvbm1lbnQodGhpcy5fcm9vdE5vZGVJRCk7XG4gICAgICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSBudWxsO1xuICAgICAgICB0aGlzLl9kb21JRCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3dyYXBwZXJTdGF0ZSA9IG51bGw7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnREZWJ1Z0lEKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25Vbm1vdW50Q29tcG9uZW50KHRoaXMuX2NvbnRlbnREZWJ1Z0lEKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnREZWJ1Z0lEID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXRQdWJsaWNJbnN0YW5jZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBnZXROb2RlKHRoaXMpO1xuICAgICAgfVxuICAgIH07XG4gICAgX2Fzc2lnbihSZWFjdERPTUNvbXBvbmVudC5wcm90b3R5cGUsIFJlYWN0RE9NQ29tcG9uZW50Lk1peGluLCBSZWFjdE11bHRpQ2hpbGQuTWl4aW4pO1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01Db21wb25lbnQ7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjUyXCIsIFtcIjZcIiwgXCI0Y1wiLCBcIjExXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgdmFyIERPTUxhenlUcmVlID0gJF9fcmVxdWlyZSgnNGMnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9ICRfX3JlcXVpcmUoJzExJyk7XG4gIHZhciBSZWFjdERPTUVtcHR5Q29tcG9uZW50ID0gZnVuY3Rpb24oaW5zdGFudGlhdGUpIHtcbiAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5fbmF0aXZlTm9kZSA9IG51bGw7XG4gICAgdGhpcy5fbmF0aXZlUGFyZW50ID0gbnVsbDtcbiAgICB0aGlzLl9uYXRpdmVDb250YWluZXJJbmZvID0gbnVsbDtcbiAgICB0aGlzLl9kb21JRCA9IG51bGw7XG4gIH07XG4gIF9hc3NpZ24oUmVhY3RET01FbXB0eUNvbXBvbmVudC5wcm90b3R5cGUsIHtcbiAgICBtb3VudENvbXBvbmVudDogZnVuY3Rpb24odHJhbnNhY3Rpb24sIG5hdGl2ZVBhcmVudCwgbmF0aXZlQ29udGFpbmVySW5mbywgY29udGV4dCkge1xuICAgICAgdmFyIGRvbUlEID0gbmF0aXZlQ29udGFpbmVySW5mby5faWRDb3VudGVyKys7XG4gICAgICB0aGlzLl9kb21JRCA9IGRvbUlEO1xuICAgICAgdGhpcy5fbmF0aXZlUGFyZW50ID0gbmF0aXZlUGFyZW50O1xuICAgICAgdGhpcy5fbmF0aXZlQ29udGFpbmVySW5mbyA9IG5hdGl2ZUNvbnRhaW5lckluZm87XG4gICAgICB2YXIgbm9kZVZhbHVlID0gJyByZWFjdC1lbXB0eTogJyArIHRoaXMuX2RvbUlEICsgJyAnO1xuICAgICAgaWYgKHRyYW5zYWN0aW9uLnVzZUNyZWF0ZUVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBuYXRpdmVDb250YWluZXJJbmZvLl9vd25lckRvY3VtZW50O1xuICAgICAgICB2YXIgbm9kZSA9IG93bmVyRG9jdW1lbnQuY3JlYXRlQ29tbWVudChub2RlVmFsdWUpO1xuICAgICAgICBSZWFjdERPTUNvbXBvbmVudFRyZWUucHJlY2FjaGVOb2RlKHRoaXMsIG5vZGUpO1xuICAgICAgICByZXR1cm4gRE9NTGF6eVRyZWUobm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHJhbnNhY3Rpb24ucmVuZGVyVG9TdGF0aWNNYXJrdXApIHtcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICc8IS0tJyArIG5vZGVWYWx1ZSArICctLT4nO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVjZWl2ZUNvbXBvbmVudDogZnVuY3Rpb24oKSB7fSxcbiAgICBnZXROYXRpdmVOb2RlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZSh0aGlzKTtcbiAgICB9LFxuICAgIHVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgUmVhY3RET01Db21wb25lbnRUcmVlLnVuY2FjaGVOb2RlKHRoaXMpO1xuICAgIH1cbiAgfSk7XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01FbXB0eUNvbXBvbmVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI1M1wiLCBbXCIzMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIGZ1bmN0aW9uIGdldExvd2VzdENvbW1vbkFuY2VzdG9yKGluc3RBLCBpbnN0Qikge1xuICAgICAgISgnX25hdGl2ZU5vZGUnIGluIGluc3RBKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdnZXROb2RlRnJvbUluc3RhbmNlOiBJbnZhbGlkIGFyZ3VtZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICEoJ19uYXRpdmVOb2RlJyBpbiBpbnN0QikgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZ2V0Tm9kZUZyb21JbnN0YW5jZTogSW52YWxpZCBhcmd1bWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgZGVwdGhBID0gMDtcbiAgICAgIGZvciAodmFyIHRlbXBBID0gaW5zdEE7IHRlbXBBOyB0ZW1wQSA9IHRlbXBBLl9uYXRpdmVQYXJlbnQpIHtcbiAgICAgICAgZGVwdGhBKys7XG4gICAgICB9XG4gICAgICB2YXIgZGVwdGhCID0gMDtcbiAgICAgIGZvciAodmFyIHRlbXBCID0gaW5zdEI7IHRlbXBCOyB0ZW1wQiA9IHRlbXBCLl9uYXRpdmVQYXJlbnQpIHtcbiAgICAgICAgZGVwdGhCKys7XG4gICAgICB9XG4gICAgICB3aGlsZSAoZGVwdGhBIC0gZGVwdGhCID4gMCkge1xuICAgICAgICBpbnN0QSA9IGluc3RBLl9uYXRpdmVQYXJlbnQ7XG4gICAgICAgIGRlcHRoQS0tO1xuICAgICAgfVxuICAgICAgd2hpbGUgKGRlcHRoQiAtIGRlcHRoQSA+IDApIHtcbiAgICAgICAgaW5zdEIgPSBpbnN0Qi5fbmF0aXZlUGFyZW50O1xuICAgICAgICBkZXB0aEItLTtcbiAgICAgIH1cbiAgICAgIHZhciBkZXB0aCA9IGRlcHRoQTtcbiAgICAgIHdoaWxlIChkZXB0aC0tKSB7XG4gICAgICAgIGlmIChpbnN0QSA9PT0gaW5zdEIpIHtcbiAgICAgICAgICByZXR1cm4gaW5zdEE7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdEEgPSBpbnN0QS5fbmF0aXZlUGFyZW50O1xuICAgICAgICBpbnN0QiA9IGluc3RCLl9uYXRpdmVQYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNBbmNlc3RvcihpbnN0QSwgaW5zdEIpIHtcbiAgICAgICEoJ19uYXRpdmVOb2RlJyBpbiBpbnN0QSkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnaXNBbmNlc3RvcjogSW52YWxpZCBhcmd1bWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAhKCdfbmF0aXZlTm9kZScgaW4gaW5zdEIpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2lzQW5jZXN0b3I6IEludmFsaWQgYXJndW1lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgd2hpbGUgKGluc3RCKSB7XG4gICAgICAgIGlmIChpbnN0QiA9PT0gaW5zdEEpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0QiA9IGluc3RCLl9uYXRpdmVQYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFBhcmVudEluc3RhbmNlKGluc3QpIHtcbiAgICAgICEoJ19uYXRpdmVOb2RlJyBpbiBpbnN0KSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdnZXRQYXJlbnRJbnN0YW5jZTogSW52YWxpZCBhcmd1bWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gaW5zdC5fbmF0aXZlUGFyZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmF2ZXJzZVR3b1BoYXNlKGluc3QsIGZuLCBhcmcpIHtcbiAgICAgIHZhciBwYXRoID0gW107XG4gICAgICB3aGlsZSAoaW5zdCkge1xuICAgICAgICBwYXRoLnB1c2goaW5zdCk7XG4gICAgICAgIGluc3QgPSBpbnN0Ll9uYXRpdmVQYXJlbnQ7XG4gICAgICB9XG4gICAgICB2YXIgaTtcbiAgICAgIGZvciAoaSA9IHBhdGgubGVuZ3RoOyBpLS0gPiAwOyApIHtcbiAgICAgICAgZm4ocGF0aFtpXSwgZmFsc2UsIGFyZyk7XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICBmbihwYXRoW2ldLCB0cnVlLCBhcmcpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0cmF2ZXJzZUVudGVyTGVhdmUoZnJvbSwgdG8sIGZuLCBhcmdGcm9tLCBhcmdUbykge1xuICAgICAgdmFyIGNvbW1vbiA9IGZyb20gJiYgdG8gPyBnZXRMb3dlc3RDb21tb25BbmNlc3Rvcihmcm9tLCB0bykgOiBudWxsO1xuICAgICAgdmFyIHBhdGhGcm9tID0gW107XG4gICAgICB3aGlsZSAoZnJvbSAmJiBmcm9tICE9PSBjb21tb24pIHtcbiAgICAgICAgcGF0aEZyb20ucHVzaChmcm9tKTtcbiAgICAgICAgZnJvbSA9IGZyb20uX25hdGl2ZVBhcmVudDtcbiAgICAgIH1cbiAgICAgIHZhciBwYXRoVG8gPSBbXTtcbiAgICAgIHdoaWxlICh0byAmJiB0byAhPT0gY29tbW9uKSB7XG4gICAgICAgIHBhdGhUby5wdXNoKHRvKTtcbiAgICAgICAgdG8gPSB0by5fbmF0aXZlUGFyZW50O1xuICAgICAgfVxuICAgICAgdmFyIGk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcGF0aEZyb20ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm4ocGF0aEZyb21baV0sIHRydWUsIGFyZ0Zyb20pO1xuICAgICAgfVxuICAgICAgZm9yIChpID0gcGF0aFRvLmxlbmd0aDsgaS0tID4gMDsgKSB7XG4gICAgICAgIGZuKHBhdGhUb1tpXSwgZmFsc2UsIGFyZ1RvKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBpc0FuY2VzdG9yOiBpc0FuY2VzdG9yLFxuICAgICAgZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3I6IGdldExvd2VzdENvbW1vbkFuY2VzdG9yLFxuICAgICAgZ2V0UGFyZW50SW5zdGFuY2U6IGdldFBhcmVudEluc3RhbmNlLFxuICAgICAgdHJhdmVyc2VUd29QaGFzZTogdHJhdmVyc2VUd29QaGFzZSxcbiAgICAgIHRyYXZlcnNlRW50ZXJMZWF2ZTogdHJhdmVyc2VFbnRlckxlYXZlXG4gICAgfTtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNTRcIiwgW1wiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICBmdW5jdGlvbiB0b0FycmF5KG9iaikge1xuICAgICAgdmFyIGxlbmd0aCA9IG9iai5sZW5ndGg7XG4gICAgICAhKCFBcnJheS5pc0FycmF5KG9iaikgJiYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnIHx8IHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd0b0FycmF5OiBBcnJheS1saWtlIG9iamVjdCBleHBlY3RlZCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICEodHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3RvQXJyYXk6IE9iamVjdCBuZWVkcyBhIGxlbmd0aCBwcm9wZXJ0eScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICEobGVuZ3RoID09PSAwIHx8IGxlbmd0aCAtIDEgaW4gb2JqKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd0b0FycmF5OiBPYmplY3Qgc2hvdWxkIGhhdmUga2V5cyBmb3IgaW5kaWNlcycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICEodHlwZW9mIG9iai5jYWxsZWUgIT09ICdmdW5jdGlvbicpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3RvQXJyYXk6IE9iamVjdCBjYW5cXCd0IGJlIGBhcmd1bWVudHNgLiBVc2UgcmVzdCBwYXJhbXMgJyArICcoZnVuY3Rpb24oLi4uYXJncykge30pIG9yIEFycmF5LmZyb20oKSBpbnN0ZWFkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICAgIHZhciByZXQgPSBBcnJheShsZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgICAgICByZXRbaWldID0gb2JqW2lpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc0FycmF5TmF0dXJlKG9iaikge1xuICAgICAgcmV0dXJuICghIW9iaiAmJiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqID09ICdmdW5jdGlvbicpICYmICdsZW5ndGgnIGluIG9iaiAmJiAhKCdzZXRJbnRlcnZhbCcgaW4gb2JqKSAmJiB0eXBlb2Ygb2JqLm5vZGVUeXBlICE9ICdudW1iZXInICYmIChBcnJheS5pc0FycmF5KG9iaikgfHwgJ2NhbGxlZScgaW4gb2JqIHx8ICdpdGVtJyBpbiBvYmopKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQXJyYXlGcm9tTWl4ZWQob2JqKSB7XG4gICAgICBpZiAoIWhhc0FycmF5TmF0dXJlKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIFtvYmpdO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG9iai5zbGljZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRvQXJyYXkob2JqKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVBcnJheUZyb21NaXhlZDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNTVcIiwgW1wiZFwiLCBcIjU0XCIsIFwiNTZcIiwgXCIzMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9ICRfX3JlcXVpcmUoJ2QnKTtcbiAgICB2YXIgY3JlYXRlQXJyYXlGcm9tTWl4ZWQgPSAkX19yZXF1aXJlKCc1NCcpO1xuICAgIHZhciBnZXRNYXJrdXBXcmFwID0gJF9fcmVxdWlyZSgnNTYnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgZHVtbXlOb2RlID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykgOiBudWxsO1xuICAgIHZhciBub2RlTmFtZVBhdHRlcm4gPSAvXlxccyo8KFxcdyspLztcbiAgICBmdW5jdGlvbiBnZXROb2RlTmFtZShtYXJrdXApIHtcbiAgICAgIHZhciBub2RlTmFtZU1hdGNoID0gbWFya3VwLm1hdGNoKG5vZGVOYW1lUGF0dGVybik7XG4gICAgICByZXR1cm4gbm9kZU5hbWVNYXRjaCAmJiBub2RlTmFtZU1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZU5vZGVzRnJvbU1hcmt1cChtYXJrdXAsIGhhbmRsZVNjcmlwdCkge1xuICAgICAgdmFyIG5vZGUgPSBkdW1teU5vZGU7XG4gICAgICAhISFkdW1teU5vZGUgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnY3JlYXRlTm9kZXNGcm9tTWFya3VwIGR1bW15IG5vdCBpbml0aWFsaXplZCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHZhciBub2RlTmFtZSA9IGdldE5vZGVOYW1lKG1hcmt1cCk7XG4gICAgICB2YXIgd3JhcCA9IG5vZGVOYW1lICYmIGdldE1hcmt1cFdyYXAobm9kZU5hbWUpO1xuICAgICAgaWYgKHdyYXApIHtcbiAgICAgICAgbm9kZS5pbm5lckhUTUwgPSB3cmFwWzFdICsgbWFya3VwICsgd3JhcFsyXTtcbiAgICAgICAgdmFyIHdyYXBEZXB0aCA9IHdyYXBbMF07XG4gICAgICAgIHdoaWxlICh3cmFwRGVwdGgtLSkge1xuICAgICAgICAgIG5vZGUgPSBub2RlLmxhc3RDaGlsZDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5pbm5lckhUTUwgPSBtYXJrdXA7XG4gICAgICB9XG4gICAgICB2YXIgc2NyaXB0cyA9IG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xuICAgICAgaWYgKHNjcmlwdHMubGVuZ3RoKSB7XG4gICAgICAgICFoYW5kbGVTY3JpcHQgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnY3JlYXRlTm9kZXNGcm9tTWFya3VwKC4uLik6IFVuZXhwZWN0ZWQgPHNjcmlwdD4gZWxlbWVudCByZW5kZXJlZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIGNyZWF0ZUFycmF5RnJvbU1peGVkKHNjcmlwdHMpLmZvckVhY2goaGFuZGxlU2NyaXB0KTtcbiAgICAgIH1cbiAgICAgIHZhciBub2RlcyA9IEFycmF5LmZyb20obm9kZS5jaGlsZE5vZGVzKTtcbiAgICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkge1xuICAgICAgICBub2RlLnJlbW92ZUNoaWxkKG5vZGUubGFzdENoaWxkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlcztcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVOb2Rlc0Zyb21NYXJrdXA7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjU2XCIsIFtcImRcIiwgXCIzMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9ICRfX3JlcXVpcmUoJ2QnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgZHVtbXlOb2RlID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykgOiBudWxsO1xuICAgIHZhciBzaG91bGRXcmFwID0ge307XG4gICAgdmFyIHNlbGVjdFdyYXAgPSBbMSwgJzxzZWxlY3QgbXVsdGlwbGU9XCJ0cnVlXCI+JywgJzwvc2VsZWN0PiddO1xuICAgIHZhciB0YWJsZVdyYXAgPSBbMSwgJzx0YWJsZT4nLCAnPC90YWJsZT4nXTtcbiAgICB2YXIgdHJXcmFwID0gWzMsICc8dGFibGU+PHRib2R5Pjx0cj4nLCAnPC90cj48L3Rib2R5PjwvdGFibGU+J107XG4gICAgdmFyIHN2Z1dyYXAgPSBbMSwgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPicsICc8L3N2Zz4nXTtcbiAgICB2YXIgbWFya3VwV3JhcCA9IHtcbiAgICAgICcqJzogWzEsICc/PGRpdj4nLCAnPC9kaXY+J10sXG4gICAgICAnYXJlYSc6IFsxLCAnPG1hcD4nLCAnPC9tYXA+J10sXG4gICAgICAnY29sJzogWzIsICc8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPicsICc8L2NvbGdyb3VwPjwvdGFibGU+J10sXG4gICAgICAnbGVnZW5kJzogWzEsICc8ZmllbGRzZXQ+JywgJzwvZmllbGRzZXQ+J10sXG4gICAgICAncGFyYW0nOiBbMSwgJzxvYmplY3Q+JywgJzwvb2JqZWN0PiddLFxuICAgICAgJ3RyJzogWzIsICc8dGFibGU+PHRib2R5PicsICc8L3Rib2R5PjwvdGFibGU+J10sXG4gICAgICAnb3B0Z3JvdXAnOiBzZWxlY3RXcmFwLFxuICAgICAgJ29wdGlvbic6IHNlbGVjdFdyYXAsXG4gICAgICAnY2FwdGlvbic6IHRhYmxlV3JhcCxcbiAgICAgICdjb2xncm91cCc6IHRhYmxlV3JhcCxcbiAgICAgICd0Ym9keSc6IHRhYmxlV3JhcCxcbiAgICAgICd0Zm9vdCc6IHRhYmxlV3JhcCxcbiAgICAgICd0aGVhZCc6IHRhYmxlV3JhcCxcbiAgICAgICd0ZCc6IHRyV3JhcCxcbiAgICAgICd0aCc6IHRyV3JhcFxuICAgIH07XG4gICAgdmFyIHN2Z0VsZW1lbnRzID0gWydjaXJjbGUnLCAnY2xpcFBhdGgnLCAnZGVmcycsICdlbGxpcHNlJywgJ2cnLCAnaW1hZ2UnLCAnbGluZScsICdsaW5lYXJHcmFkaWVudCcsICdtYXNrJywgJ3BhdGgnLCAncGF0dGVybicsICdwb2x5Z29uJywgJ3BvbHlsaW5lJywgJ3JhZGlhbEdyYWRpZW50JywgJ3JlY3QnLCAnc3RvcCcsICd0ZXh0JywgJ3RzcGFuJ107XG4gICAgc3ZnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihub2RlTmFtZSkge1xuICAgICAgbWFya3VwV3JhcFtub2RlTmFtZV0gPSBzdmdXcmFwO1xuICAgICAgc2hvdWxkV3JhcFtub2RlTmFtZV0gPSB0cnVlO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGdldE1hcmt1cFdyYXAobm9kZU5hbWUpIHtcbiAgICAgICEhIWR1bW15Tm9kZSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdNYXJrdXAgd3JhcHBpbmcgbm9kZSBub3QgaW5pdGlhbGl6ZWQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBpZiAoIW1hcmt1cFdyYXAuaGFzT3duUHJvcGVydHkobm9kZU5hbWUpKSB7XG4gICAgICAgIG5vZGVOYW1lID0gJyonO1xuICAgICAgfVxuICAgICAgaWYgKCFzaG91bGRXcmFwLmhhc093blByb3BlcnR5KG5vZGVOYW1lKSkge1xuICAgICAgICBpZiAobm9kZU5hbWUgPT09ICcqJykge1xuICAgICAgICAgIGR1bW15Tm9kZS5pbm5lckhUTUwgPSAnPGxpbmsgLz4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGR1bW15Tm9kZS5pbm5lckhUTUwgPSAnPCcgKyBub2RlTmFtZSArICc+PC8nICsgbm9kZU5hbWUgKyAnPic7XG4gICAgICAgIH1cbiAgICAgICAgc2hvdWxkV3JhcFtub2RlTmFtZV0gPSAhZHVtbXlOb2RlLmZpcnN0Q2hpbGQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2hvdWxkV3JhcFtub2RlTmFtZV0gPyBtYXJrdXBXcmFwW25vZGVOYW1lXSA6IG51bGw7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZ2V0TWFya3VwV3JhcDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNTdcIiwgW1wiNGNcIiwgXCJkXCIsIFwiNTVcIiwgXCI0OFwiLCBcIjU2XCIsIFwiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRE9NTGF6eVRyZWUgPSAkX19yZXF1aXJlKCc0YycpO1xuICAgIHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9ICRfX3JlcXVpcmUoJ2QnKTtcbiAgICB2YXIgY3JlYXRlTm9kZXNGcm9tTWFya3VwID0gJF9fcmVxdWlyZSgnNTUnKTtcbiAgICB2YXIgZW1wdHlGdW5jdGlvbiA9ICRfX3JlcXVpcmUoJzQ4Jyk7XG4gICAgdmFyIGdldE1hcmt1cFdyYXAgPSAkX19yZXF1aXJlKCc1NicpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBPUEVOX1RBR19OQU1FX0VYUCA9IC9eKDxbXiBcXC8+XSspLztcbiAgICB2YXIgUkVTVUxUX0lOREVYX0FUVFIgPSAnZGF0YS1kYW5nZXItaW5kZXgnO1xuICAgIGZ1bmN0aW9uIGdldE5vZGVOYW1lKG1hcmt1cCkge1xuICAgICAgcmV0dXJuIG1hcmt1cC5zdWJzdHJpbmcoMSwgbWFya3VwLmluZGV4T2YoJyAnKSk7XG4gICAgfVxuICAgIHZhciBEYW5nZXIgPSB7XG4gICAgICBkYW5nZXJvdXNseVJlbmRlck1hcmt1cDogZnVuY3Rpb24obWFya3VwTGlzdCkge1xuICAgICAgICAhRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2Rhbmdlcm91c2x5UmVuZGVyTWFya3VwKC4uLik6IENhbm5vdCByZW5kZXIgbWFya3VwIGluIGEgd29ya2VyICcgKyAndGhyZWFkLiBNYWtlIHN1cmUgYHdpbmRvd2AgYW5kIGBkb2N1bWVudGAgYXJlIGF2YWlsYWJsZSBnbG9iYWxseSAnICsgJ2JlZm9yZSByZXF1aXJpbmcgUmVhY3Qgd2hlbiB1bml0IHRlc3Rpbmcgb3IgdXNlICcgKyAnUmVhY3RET01TZXJ2ZXIucmVuZGVyVG9TdHJpbmcgZm9yIHNlcnZlciByZW5kZXJpbmcuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB2YXIgbm9kZU5hbWU7XG4gICAgICAgIHZhciBtYXJrdXBCeU5vZGVOYW1lID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya3VwTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICFtYXJrdXBMaXN0W2ldID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2Rhbmdlcm91c2x5UmVuZGVyTWFya3VwKC4uLik6IE1pc3NpbmcgbWFya3VwLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBub2RlTmFtZSA9IGdldE5vZGVOYW1lKG1hcmt1cExpc3RbaV0pO1xuICAgICAgICAgIG5vZGVOYW1lID0gZ2V0TWFya3VwV3JhcChub2RlTmFtZSkgPyBub2RlTmFtZSA6ICcqJztcbiAgICAgICAgICBtYXJrdXBCeU5vZGVOYW1lW25vZGVOYW1lXSA9IG1hcmt1cEJ5Tm9kZU5hbWVbbm9kZU5hbWVdIHx8IFtdO1xuICAgICAgICAgIG1hcmt1cEJ5Tm9kZU5hbWVbbm9kZU5hbWVdW2ldID0gbWFya3VwTGlzdFtpXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0TGlzdCA9IFtdO1xuICAgICAgICB2YXIgcmVzdWx0TGlzdEFzc2lnbm1lbnRDb3VudCA9IDA7XG4gICAgICAgIGZvciAobm9kZU5hbWUgaW4gbWFya3VwQnlOb2RlTmFtZSkge1xuICAgICAgICAgIGlmICghbWFya3VwQnlOb2RlTmFtZS5oYXNPd25Qcm9wZXJ0eShub2RlTmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbWFya3VwTGlzdEJ5Tm9kZU5hbWUgPSBtYXJrdXBCeU5vZGVOYW1lW25vZGVOYW1lXTtcbiAgICAgICAgICB2YXIgcmVzdWx0SW5kZXg7XG4gICAgICAgICAgZm9yIChyZXN1bHRJbmRleCBpbiBtYXJrdXBMaXN0QnlOb2RlTmFtZSkge1xuICAgICAgICAgICAgaWYgKG1hcmt1cExpc3RCeU5vZGVOYW1lLmhhc093blByb3BlcnR5KHJlc3VsdEluZGV4KSkge1xuICAgICAgICAgICAgICB2YXIgbWFya3VwID0gbWFya3VwTGlzdEJ5Tm9kZU5hbWVbcmVzdWx0SW5kZXhdO1xuICAgICAgICAgICAgICBtYXJrdXBMaXN0QnlOb2RlTmFtZVtyZXN1bHRJbmRleF0gPSBtYXJrdXAucmVwbGFjZShPUEVOX1RBR19OQU1FX0VYUCwgJyQxICcgKyBSRVNVTFRfSU5ERVhfQVRUUiArICc9XCInICsgcmVzdWx0SW5kZXggKyAnXCIgJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciByZW5kZXJOb2RlcyA9IGNyZWF0ZU5vZGVzRnJvbU1hcmt1cChtYXJrdXBMaXN0QnlOb2RlTmFtZS5qb2luKCcnKSwgZW1wdHlGdW5jdGlvbik7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZW5kZXJOb2Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgdmFyIHJlbmRlck5vZGUgPSByZW5kZXJOb2Rlc1tqXTtcbiAgICAgICAgICAgIGlmIChyZW5kZXJOb2RlLmhhc0F0dHJpYnV0ZSAmJiByZW5kZXJOb2RlLmhhc0F0dHJpYnV0ZShSRVNVTFRfSU5ERVhfQVRUUikpIHtcbiAgICAgICAgICAgICAgcmVzdWx0SW5kZXggPSArcmVuZGVyTm9kZS5nZXRBdHRyaWJ1dGUoUkVTVUxUX0lOREVYX0FUVFIpO1xuICAgICAgICAgICAgICByZW5kZXJOb2RlLnJlbW92ZUF0dHJpYnV0ZShSRVNVTFRfSU5ERVhfQVRUUik7XG4gICAgICAgICAgICAgICEhcmVzdWx0TGlzdC5oYXNPd25Qcm9wZXJ0eShyZXN1bHRJbmRleCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRGFuZ2VyOiBBc3NpZ25pbmcgdG8gYW4gYWxyZWFkeS1vY2N1cGllZCByZXN1bHQgaW5kZXguJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgICByZXN1bHRMaXN0W3Jlc3VsdEluZGV4XSA9IHJlbmRlck5vZGU7XG4gICAgICAgICAgICAgIHJlc3VsdExpc3RBc3NpZ25tZW50Q291bnQgKz0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdEYW5nZXI6IERpc2NhcmRpbmcgdW5leHBlY3RlZCBub2RlOicsIHJlbmRlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAhKHJlc3VsdExpc3RBc3NpZ25tZW50Q291bnQgPT09IHJlc3VsdExpc3QubGVuZ3RoKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEYW5nZXI6IERpZCBub3QgYXNzaWduIHRvIGV2ZXJ5IGluZGV4IG9mIHJlc3VsdExpc3QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAhKHJlc3VsdExpc3QubGVuZ3RoID09PSBtYXJrdXBMaXN0Lmxlbmd0aCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRGFuZ2VyOiBFeHBlY3RlZCBtYXJrdXAgdG8gcmVuZGVyICVzIG5vZGVzLCBidXQgcmVuZGVyZWQgJXMuJywgbWFya3VwTGlzdC5sZW5ndGgsIHJlc3VsdExpc3QubGVuZ3RoKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIHJldHVybiByZXN1bHRMaXN0O1xuICAgICAgfSxcbiAgICAgIGRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwOiBmdW5jdGlvbihvbGRDaGlsZCwgbWFya3VwKSB7XG4gICAgICAgICFFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAoLi4uKTogQ2Fubm90IHJlbmRlciBtYXJrdXAgaW4gYSAnICsgJ3dvcmtlciB0aHJlYWQuIE1ha2Ugc3VyZSBgd2luZG93YCBhbmQgYGRvY3VtZW50YCBhcmUgYXZhaWxhYmxlICcgKyAnZ2xvYmFsbHkgYmVmb3JlIHJlcXVpcmluZyBSZWFjdCB3aGVuIHVuaXQgdGVzdGluZyBvciB1c2UgJyArICdSZWFjdERPTVNlcnZlci5yZW5kZXJUb1N0cmluZygpIGZvciBzZXJ2ZXIgcmVuZGVyaW5nLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgIW1hcmt1cCA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cCguLi4pOiBNaXNzaW5nIG1hcmt1cC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICEob2xkQ2hpbGQubm9kZU5hbWUgIT09ICdIVE1MJykgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAoLi4uKTogQ2Fubm90IHJlcGxhY2UgbWFya3VwIG9mIHRoZSAnICsgJzxodG1sPiBub2RlLiBUaGlzIGlzIGJlY2F1c2UgYnJvd3NlciBxdWlya3MgbWFrZSB0aGlzIHVucmVsaWFibGUgJyArICdhbmQvb3Igc2xvdy4gSWYgeW91IHdhbnQgdG8gcmVuZGVyIHRvIHRoZSByb290IHlvdSBtdXN0IHVzZSAnICsgJ3NlcnZlciByZW5kZXJpbmcuIFNlZSBSZWFjdERPTVNlcnZlci5yZW5kZXJUb1N0cmluZygpLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgaWYgKHR5cGVvZiBtYXJrdXAgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdmFyIG5ld0NoaWxkID0gY3JlYXRlTm9kZXNGcm9tTWFya3VwKG1hcmt1cCwgZW1wdHlGdW5jdGlvbilbMF07XG4gICAgICAgICAgb2xkQ2hpbGQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3Q2hpbGQsIG9sZENoaWxkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBET01MYXp5VHJlZS5yZXBsYWNlQ2hpbGRXaXRoVHJlZShvbGRDaGlsZCwgbWFya3VwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBEYW5nZXI7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjQ2XCIsIFtcIjU4XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIga2V5TWlycm9yID0gJF9fcmVxdWlyZSgnNTgnKTtcbiAgdmFyIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzID0ga2V5TWlycm9yKHtcbiAgICBJTlNFUlRfTUFSS1VQOiBudWxsLFxuICAgIE1PVkVfRVhJU1RJTkc6IG51bGwsXG4gICAgUkVNT1ZFX05PREU6IG51bGwsXG4gICAgU0VUX01BUktVUDogbnVsbCxcbiAgICBURVhUX0NPTlRFTlQ6IG51bGxcbiAgfSk7XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXM7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMjlcIiwgW1wiNGNcIiwgXCI1N1wiLCBcIjQ2XCIsIFwiMTFcIiwgXCIyN1wiLCBcIjU5XCIsIFwiNWFcIiwgXCI1YlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBET01MYXp5VHJlZSA9ICRfX3JlcXVpcmUoJzRjJyk7XG4gICAgdmFyIERhbmdlciA9ICRfX3JlcXVpcmUoJzU3Jyk7XG4gICAgdmFyIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzID0gJF9fcmVxdWlyZSgnNDYnKTtcbiAgICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gJF9fcmVxdWlyZSgnMTEnKTtcbiAgICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSAkX19yZXF1aXJlKCcyNycpO1xuICAgIHZhciBjcmVhdGVNaWNyb3NvZnRVbnNhZmVMb2NhbEZ1bmN0aW9uID0gJF9fcmVxdWlyZSgnNTknKTtcbiAgICB2YXIgc2V0SW5uZXJIVE1MID0gJF9fcmVxdWlyZSgnNWEnKTtcbiAgICB2YXIgc2V0VGV4dENvbnRlbnQgPSAkX19yZXF1aXJlKCc1YicpO1xuICAgIGZ1bmN0aW9uIGdldE5vZGVBZnRlcihwYXJlbnROb2RlLCBub2RlKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgICAgICBub2RlID0gbm9kZVsxXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlID8gbm9kZS5uZXh0U2libGluZyA6IHBhcmVudE5vZGUuZmlyc3RDaGlsZDtcbiAgICB9XG4gICAgdmFyIGluc2VydENoaWxkQXQgPSBjcmVhdGVNaWNyb3NvZnRVbnNhZmVMb2NhbEZ1bmN0aW9uKGZ1bmN0aW9uKHBhcmVudE5vZGUsIGNoaWxkTm9kZSwgcmVmZXJlbmNlTm9kZSkge1xuICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2hpbGROb2RlLCByZWZlcmVuY2VOb2RlKTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBpbnNlcnRMYXp5VHJlZUNoaWxkQXQocGFyZW50Tm9kZSwgY2hpbGRUcmVlLCByZWZlcmVuY2VOb2RlKSB7XG4gICAgICBET01MYXp5VHJlZS5pbnNlcnRUcmVlQmVmb3JlKHBhcmVudE5vZGUsIGNoaWxkVHJlZSwgcmVmZXJlbmNlTm9kZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdmVDaGlsZChwYXJlbnROb2RlLCBjaGlsZE5vZGUsIHJlZmVyZW5jZU5vZGUpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkTm9kZSkpIHtcbiAgICAgICAgbW92ZURlbGltaXRlZFRleHQocGFyZW50Tm9kZSwgY2hpbGROb2RlWzBdLCBjaGlsZE5vZGVbMV0sIHJlZmVyZW5jZU5vZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zZXJ0Q2hpbGRBdChwYXJlbnROb2RlLCBjaGlsZE5vZGUsIHJlZmVyZW5jZU5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVDaGlsZChwYXJlbnROb2RlLCBjaGlsZE5vZGUpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkTm9kZSkpIHtcbiAgICAgICAgdmFyIGNsb3NpbmdDb21tZW50ID0gY2hpbGROb2RlWzFdO1xuICAgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGVbMF07XG4gICAgICAgIHJlbW92ZURlbGltaXRlZFRleHQocGFyZW50Tm9kZSwgY2hpbGROb2RlLCBjbG9zaW5nQ29tbWVudCk7XG4gICAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xvc2luZ0NvbW1lbnQpO1xuICAgICAgfVxuICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjaGlsZE5vZGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3ZlRGVsaW1pdGVkVGV4dChwYXJlbnROb2RlLCBvcGVuaW5nQ29tbWVudCwgY2xvc2luZ0NvbW1lbnQsIHJlZmVyZW5jZU5vZGUpIHtcbiAgICAgIHZhciBub2RlID0gb3BlbmluZ0NvbW1lbnQ7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgbmV4dE5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICBpbnNlcnRDaGlsZEF0KHBhcmVudE5vZGUsIG5vZGUsIHJlZmVyZW5jZU5vZGUpO1xuICAgICAgICBpZiAobm9kZSA9PT0gY2xvc2luZ0NvbW1lbnQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbmV4dE5vZGU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZURlbGltaXRlZFRleHQocGFyZW50Tm9kZSwgc3RhcnROb2RlLCBjbG9zaW5nQ29tbWVudCkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBzdGFydE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIGlmIChub2RlID09PSBjbG9zaW5nQ29tbWVudCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVwbGFjZURlbGltaXRlZFRleHQob3BlbmluZ0NvbW1lbnQsIGNsb3NpbmdDb21tZW50LCBzdHJpbmdUZXh0KSB7XG4gICAgICB2YXIgcGFyZW50Tm9kZSA9IG9wZW5pbmdDb21tZW50LnBhcmVudE5vZGU7XG4gICAgICB2YXIgbm9kZUFmdGVyQ29tbWVudCA9IG9wZW5pbmdDb21tZW50Lm5leHRTaWJsaW5nO1xuICAgICAgaWYgKG5vZGVBZnRlckNvbW1lbnQgPT09IGNsb3NpbmdDb21tZW50KSB7XG4gICAgICAgIGlmIChzdHJpbmdUZXh0KSB7XG4gICAgICAgICAgaW5zZXJ0Q2hpbGRBdChwYXJlbnROb2RlLCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzdHJpbmdUZXh0KSwgbm9kZUFmdGVyQ29tbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdHJpbmdUZXh0KSB7XG4gICAgICAgICAgc2V0VGV4dENvbnRlbnQobm9kZUFmdGVyQ29tbWVudCwgc3RyaW5nVGV4dCk7XG4gICAgICAgICAgcmVtb3ZlRGVsaW1pdGVkVGV4dChwYXJlbnROb2RlLCBub2RlQWZ0ZXJDb21tZW50LCBjbG9zaW5nQ29tbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVtb3ZlRGVsaW1pdGVkVGV4dChwYXJlbnROb2RlLCBvcGVuaW5nQ29tbWVudCwgY2xvc2luZ0NvbW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24oUmVhY3RET01Db21wb25lbnRUcmVlLmdldEluc3RhbmNlRnJvbU5vZGUob3BlbmluZ0NvbW1lbnQpLl9kZWJ1Z0lELCAncmVwbGFjZSB0ZXh0Jywgc3RyaW5nVGV4dCk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cCA9IERhbmdlci5kYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cDtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAgPSBmdW5jdGlvbihvbGRDaGlsZCwgbWFya3VwLCBwcmV2SW5zdGFuY2UpIHtcbiAgICAgICAgRGFuZ2VyLmRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwKG9sZENoaWxkLCBtYXJrdXApO1xuICAgICAgICBpZiAocHJldkluc3RhbmNlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKHByZXZJbnN0YW5jZS5fZGVidWdJRCwgJ3JlcGxhY2Ugd2l0aCcsIG1hcmt1cC50b1N0cmluZygpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbmV4dEluc3RhbmNlID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldEluc3RhbmNlRnJvbU5vZGUobWFya3VwLm5vZGUpO1xuICAgICAgICAgIGlmIChuZXh0SW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihuZXh0SW5zdGFuY2UuX2RlYnVnSUQsICdtb3VudCcsIG1hcmt1cC50b1N0cmluZygpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIHZhciBET01DaGlsZHJlbk9wZXJhdGlvbnMgPSB7XG4gICAgICBkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cDogZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAsXG4gICAgICByZXBsYWNlRGVsaW1pdGVkVGV4dDogcmVwbGFjZURlbGltaXRlZFRleHQsXG4gICAgICBwcm9jZXNzVXBkYXRlczogZnVuY3Rpb24ocGFyZW50Tm9kZSwgdXBkYXRlcykge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhciBwYXJlbnROb2RlRGVidWdJRCA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRJbnN0YW5jZUZyb21Ob2RlKHBhcmVudE5vZGUpLl9kZWJ1Z0lEO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdXBkYXRlcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgIHZhciB1cGRhdGUgPSB1cGRhdGVzW2tdO1xuICAgICAgICAgIHN3aXRjaCAodXBkYXRlLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuSU5TRVJUX01BUktVUDpcbiAgICAgICAgICAgICAgaW5zZXJ0TGF6eVRyZWVDaGlsZEF0KHBhcmVudE5vZGUsIHVwZGF0ZS5jb250ZW50LCBnZXROb2RlQWZ0ZXIocGFyZW50Tm9kZSwgdXBkYXRlLmFmdGVyTm9kZSkpO1xuICAgICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihwYXJlbnROb2RlRGVidWdJRCwgJ2luc2VydCBjaGlsZCcsIHtcbiAgICAgICAgICAgICAgICAgIHRvSW5kZXg6IHVwZGF0ZS50b0luZGV4LFxuICAgICAgICAgICAgICAgICAgY29udGVudDogdXBkYXRlLmNvbnRlbnQudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5NT1ZFX0VYSVNUSU5HOlxuICAgICAgICAgICAgICBtb3ZlQ2hpbGQocGFyZW50Tm9kZSwgdXBkYXRlLmZyb21Ob2RlLCBnZXROb2RlQWZ0ZXIocGFyZW50Tm9kZSwgdXBkYXRlLmFmdGVyTm9kZSkpO1xuICAgICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihwYXJlbnROb2RlRGVidWdJRCwgJ21vdmUgY2hpbGQnLCB7XG4gICAgICAgICAgICAgICAgICBmcm9tSW5kZXg6IHVwZGF0ZS5mcm9tSW5kZXgsXG4gICAgICAgICAgICAgICAgICB0b0luZGV4OiB1cGRhdGUudG9JbmRleFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5TRVRfTUFSS1VQOlxuICAgICAgICAgICAgICBzZXRJbm5lckhUTUwocGFyZW50Tm9kZSwgdXBkYXRlLmNvbnRlbnQpO1xuICAgICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihwYXJlbnROb2RlRGVidWdJRCwgJ3JlcGxhY2UgY2hpbGRyZW4nLCB1cGRhdGUuY29udGVudC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuVEVYVF9DT05URU5UOlxuICAgICAgICAgICAgICBzZXRUZXh0Q29udGVudChwYXJlbnROb2RlLCB1cGRhdGUuY29udGVudCk7XG4gICAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKHBhcmVudE5vZGVEZWJ1Z0lELCAncmVwbGFjZSB0ZXh0JywgdXBkYXRlLmNvbnRlbnQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLlJFTU9WRV9OT0RFOlxuICAgICAgICAgICAgICByZW1vdmVDaGlsZChwYXJlbnROb2RlLCB1cGRhdGUuZnJvbU5vZGUpO1xuICAgICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihwYXJlbnROb2RlRGVidWdJRCwgJ3JlbW92ZSBjaGlsZCcsIHtmcm9tSW5kZXg6IHVwZGF0ZS5mcm9tSW5kZXh9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gRE9NQ2hpbGRyZW5PcGVyYXRpb25zO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI1Y1wiLCBbXCI2XCIsIFwiMjlcIiwgXCI0Y1wiLCBcIjExXCIsIFwiMjdcIiwgXCIzOVwiLCBcIjMwXCIsIFwiNTBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgICB2YXIgRE9NQ2hpbGRyZW5PcGVyYXRpb25zID0gJF9fcmVxdWlyZSgnMjknKTtcbiAgICB2YXIgRE9NTGF6eVRyZWUgPSAkX19yZXF1aXJlKCc0YycpO1xuICAgIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSAkX19yZXF1aXJlKCcxMScpO1xuICAgIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9ICRfX3JlcXVpcmUoJzI3Jyk7XG4gICAgdmFyIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlciA9ICRfX3JlcXVpcmUoJzM5Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIHZhbGlkYXRlRE9NTmVzdGluZyA9ICRfX3JlcXVpcmUoJzUwJyk7XG4gICAgdmFyIFJlYWN0RE9NVGV4dENvbXBvbmVudCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gdGV4dDtcbiAgICAgIHRoaXMuX3N0cmluZ1RleHQgPSAnJyArIHRleHQ7XG4gICAgICB0aGlzLl9uYXRpdmVOb2RlID0gbnVsbDtcbiAgICAgIHRoaXMuX25hdGl2ZVBhcmVudCA9IG51bGw7XG4gICAgICB0aGlzLl9kb21JRCA9IG51bGw7XG4gICAgICB0aGlzLl9tb3VudEluZGV4ID0gMDtcbiAgICAgIHRoaXMuX2Nsb3NpbmdDb21tZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX2NvbW1lbnROb2RlcyA9IG51bGw7XG4gICAgfTtcbiAgICBfYXNzaWduKFJlYWN0RE9NVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIHtcbiAgICAgIG1vdW50Q29tcG9uZW50OiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uU2V0VGV4dCh0aGlzLl9kZWJ1Z0lELCB0aGlzLl9zdHJpbmdUZXh0KTtcbiAgICAgICAgICB2YXIgcGFyZW50SW5mbztcbiAgICAgICAgICBpZiAobmF0aXZlUGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHBhcmVudEluZm8gPSBuYXRpdmVQYXJlbnQuX2FuY2VzdG9ySW5mbztcbiAgICAgICAgICB9IGVsc2UgaWYgKG5hdGl2ZUNvbnRhaW5lckluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyZW50SW5mbyA9IG5hdGl2ZUNvbnRhaW5lckluZm8uX2FuY2VzdG9ySW5mbztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhcmVudEluZm8pIHtcbiAgICAgICAgICAgIHZhbGlkYXRlRE9NTmVzdGluZygnI3RleHQnLCB0aGlzLCBwYXJlbnRJbmZvKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRvbUlEID0gbmF0aXZlQ29udGFpbmVySW5mby5faWRDb3VudGVyKys7XG4gICAgICAgIHZhciBvcGVuaW5nVmFsdWUgPSAnIHJlYWN0LXRleHQ6ICcgKyBkb21JRCArICcgJztcbiAgICAgICAgdmFyIGNsb3NpbmdWYWx1ZSA9ICcgL3JlYWN0LXRleHQgJztcbiAgICAgICAgdGhpcy5fZG9tSUQgPSBkb21JRDtcbiAgICAgICAgdGhpcy5fbmF0aXZlUGFyZW50ID0gbmF0aXZlUGFyZW50O1xuICAgICAgICBpZiAodHJhbnNhY3Rpb24udXNlQ3JlYXRlRWxlbWVudCkge1xuICAgICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gbmF0aXZlQ29udGFpbmVySW5mby5fb3duZXJEb2N1bWVudDtcbiAgICAgICAgICB2YXIgb3BlbmluZ0NvbW1lbnQgPSBvd25lckRvY3VtZW50LmNyZWF0ZUNvbW1lbnQob3BlbmluZ1ZhbHVlKTtcbiAgICAgICAgICB2YXIgY2xvc2luZ0NvbW1lbnQgPSBvd25lckRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoY2xvc2luZ1ZhbHVlKTtcbiAgICAgICAgICB2YXIgbGF6eVRyZWUgPSBET01MYXp5VHJlZShvd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7XG4gICAgICAgICAgRE9NTGF6eVRyZWUucXVldWVDaGlsZChsYXp5VHJlZSwgRE9NTGF6eVRyZWUob3BlbmluZ0NvbW1lbnQpKTtcbiAgICAgICAgICBpZiAodGhpcy5fc3RyaW5nVGV4dCkge1xuICAgICAgICAgICAgRE9NTGF6eVRyZWUucXVldWVDaGlsZChsYXp5VHJlZSwgRE9NTGF6eVRyZWUob3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLl9zdHJpbmdUZXh0KSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBET01MYXp5VHJlZS5xdWV1ZUNoaWxkKGxhenlUcmVlLCBET01MYXp5VHJlZShjbG9zaW5nQ29tbWVudCkpO1xuICAgICAgICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZS5wcmVjYWNoZU5vZGUodGhpcywgb3BlbmluZ0NvbW1lbnQpO1xuICAgICAgICAgIHRoaXMuX2Nsb3NpbmdDb21tZW50ID0gY2xvc2luZ0NvbW1lbnQ7XG4gICAgICAgICAgcmV0dXJuIGxhenlUcmVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBlc2NhcGVkVGV4dCA9IGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3Nlcih0aGlzLl9zdHJpbmdUZXh0KTtcbiAgICAgICAgICBpZiAodHJhbnNhY3Rpb24ucmVuZGVyVG9TdGF0aWNNYXJrdXApIHtcbiAgICAgICAgICAgIHJldHVybiBlc2NhcGVkVGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICc8IS0tJyArIG9wZW5pbmdWYWx1ZSArICctLT4nICsgZXNjYXBlZFRleHQgKyAnPCEtLScgKyBjbG9zaW5nVmFsdWUgKyAnLS0+JztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlY2VpdmVDb21wb25lbnQ6IGZ1bmN0aW9uKG5leHRUZXh0LCB0cmFuc2FjdGlvbikge1xuICAgICAgICBpZiAobmV4dFRleHQgIT09IHRoaXMuX2N1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBuZXh0VGV4dDtcbiAgICAgICAgICB2YXIgbmV4dFN0cmluZ1RleHQgPSAnJyArIG5leHRUZXh0O1xuICAgICAgICAgIGlmIChuZXh0U3RyaW5nVGV4dCAhPT0gdGhpcy5fc3RyaW5nVGV4dCkge1xuICAgICAgICAgICAgdGhpcy5fc3RyaW5nVGV4dCA9IG5leHRTdHJpbmdUZXh0O1xuICAgICAgICAgICAgdmFyIGNvbW1lbnROb2RlcyA9IHRoaXMuZ2V0TmF0aXZlTm9kZSgpO1xuICAgICAgICAgICAgRE9NQ2hpbGRyZW5PcGVyYXRpb25zLnJlcGxhY2VEZWxpbWl0ZWRUZXh0KGNvbW1lbnROb2Rlc1swXSwgY29tbWVudE5vZGVzWzFdLCBuZXh0U3RyaW5nVGV4dCk7XG4gICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRUZXh0KHRoaXMuX2RlYnVnSUQsIG5leHRTdHJpbmdUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXROYXRpdmVOb2RlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG5hdGl2ZU5vZGUgPSB0aGlzLl9jb21tZW50Tm9kZXM7XG4gICAgICAgIGlmIChuYXRpdmVOb2RlKSB7XG4gICAgICAgICAgcmV0dXJuIG5hdGl2ZU5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jbG9zaW5nQ29tbWVudCkge1xuICAgICAgICAgIHZhciBvcGVuaW5nQ29tbWVudCA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKHRoaXMpO1xuICAgICAgICAgIHZhciBub2RlID0gb3BlbmluZ0NvbW1lbnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICEobm9kZSAhPSBudWxsKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdNaXNzaW5nIGNsb3NpbmcgY29tbWVudCBmb3IgdGV4dCBjb21wb25lbnQgJXMnLCB0aGlzLl9kb21JRCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggJiYgbm9kZS5ub2RlVmFsdWUgPT09ICcgL3JlYWN0LXRleHQgJykge1xuICAgICAgICAgICAgICB0aGlzLl9jbG9zaW5nQ29tbWVudCA9IG5vZGU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5hdGl2ZU5vZGUgPSBbdGhpcy5fbmF0aXZlTm9kZSwgdGhpcy5fY2xvc2luZ0NvbW1lbnRdO1xuICAgICAgICB0aGlzLl9jb21tZW50Tm9kZXMgPSBuYXRpdmVOb2RlO1xuICAgICAgICByZXR1cm4gbmF0aXZlTm9kZTtcbiAgICAgIH0sXG4gICAgICB1bm1vdW50Q29tcG9uZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fY2xvc2luZ0NvbW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9jb21tZW50Tm9kZXMgPSBudWxsO1xuICAgICAgICBSZWFjdERPTUNvbXBvbmVudFRyZWUudW5jYWNoZU5vZGUodGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTVRleHRDb21wb25lbnQ7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjVkXCIsIFtcIjZcIiwgXCIxMlwiLCBcIjRhXCIsIFwiNDhcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICB2YXIgUmVhY3RVcGRhdGVzID0gJF9fcmVxdWlyZSgnMTInKTtcbiAgdmFyIFRyYW5zYWN0aW9uID0gJF9fcmVxdWlyZSgnNGEnKTtcbiAgdmFyIGVtcHR5RnVuY3Rpb24gPSAkX19yZXF1aXJlKCc0OCcpO1xuICB2YXIgUkVTRVRfQkFUQ0hFRF9VUERBVEVTID0ge1xuICAgIGluaXRpYWxpemU6IGVtcHR5RnVuY3Rpb24sXG4gICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcyA9IGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgdmFyIEZMVVNIX0JBVENIRURfVVBEQVRFUyA9IHtcbiAgICBpbml0aWFsaXplOiBlbXB0eUZ1bmN0aW9uLFxuICAgIGNsb3NlOiBSZWFjdFVwZGF0ZXMuZmx1c2hCYXRjaGVkVXBkYXRlcy5iaW5kKFJlYWN0VXBkYXRlcylcbiAgfTtcbiAgdmFyIFRSQU5TQUNUSU9OX1dSQVBQRVJTID0gW0ZMVVNIX0JBVENIRURfVVBEQVRFUywgUkVTRVRfQkFUQ0hFRF9VUERBVEVTXTtcbiAgZnVuY3Rpb24gUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneVRyYW5zYWN0aW9uKCkge1xuICAgIHRoaXMucmVpbml0aWFsaXplVHJhbnNhY3Rpb24oKTtcbiAgfVxuICBfYXNzaWduKFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3lUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFRyYW5zYWN0aW9uLk1peGluLCB7Z2V0VHJhbnNhY3Rpb25XcmFwcGVyczogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gVFJBTlNBQ1RJT05fV1JBUFBFUlM7XG4gICAgfX0pO1xuICB2YXIgdHJhbnNhY3Rpb24gPSBuZXcgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneVRyYW5zYWN0aW9uKCk7XG4gIHZhciBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5ID0ge1xuICAgIGlzQmF0Y2hpbmdVcGRhdGVzOiBmYWxzZSxcbiAgICBiYXRjaGVkVXBkYXRlczogZnVuY3Rpb24oY2FsbGJhY2ssIGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgIHZhciBhbHJlYWR5QmF0Y2hpbmdVcGRhdGVzID0gUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcztcbiAgICAgIFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3kuaXNCYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuICAgICAgaWYgKGFscmVhZHlCYXRjaGluZ1VwZGF0ZXMpIHtcbiAgICAgICAgY2FsbGJhY2soYSwgYiwgYywgZCwgZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2FjdGlvbi5wZXJmb3JtKGNhbGxiYWNrLCBudWxsLCBhLCBiLCBjLCBkLCBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI1ZVwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZnVuY3Rpb24gZ2V0VW5ib3VuZGVkU2Nyb2xsUG9zaXRpb24oc2Nyb2xsYWJsZSkge1xuICAgIGlmIChzY3JvbGxhYmxlID09PSB3aW5kb3cpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgICAgeTogd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB4OiBzY3JvbGxhYmxlLnNjcm9sbExlZnQsXG4gICAgICB5OiBzY3JvbGxhYmxlLnNjcm9sbFRvcFxuICAgIH07XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBnZXRVbmJvdW5kZWRTY3JvbGxQb3NpdGlvbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI1ZlwiLCBbXCI2XCIsIFwiNjBcIiwgXCJkXCIsIFwiNFwiLCBcIjExXCIsIFwiMTJcIiwgXCIxM1wiLCBcIjVlXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIEV2ZW50TGlzdGVuZXIgPSAkX19yZXF1aXJlKCc2MCcpO1xuICAgIHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9ICRfX3JlcXVpcmUoJ2QnKTtcbiAgICB2YXIgUG9vbGVkQ2xhc3MgPSAkX19yZXF1aXJlKCc0Jyk7XG4gICAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9ICRfX3JlcXVpcmUoJzExJyk7XG4gICAgdmFyIFJlYWN0VXBkYXRlcyA9ICRfX3JlcXVpcmUoJzEyJyk7XG4gICAgdmFyIGdldEV2ZW50VGFyZ2V0ID0gJF9fcmVxdWlyZSgnMTMnKTtcbiAgICB2YXIgZ2V0VW5ib3VuZGVkU2Nyb2xsUG9zaXRpb24gPSAkX19yZXF1aXJlKCc1ZScpO1xuICAgIGZ1bmN0aW9uIGZpbmRQYXJlbnQoaW5zdCkge1xuICAgICAgd2hpbGUgKGluc3QuX25hdGl2ZVBhcmVudCkge1xuICAgICAgICBpbnN0ID0gaW5zdC5fbmF0aXZlUGFyZW50O1xuICAgICAgfVxuICAgICAgdmFyIHJvb3ROb2RlID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCk7XG4gICAgICB2YXIgY29udGFpbmVyID0gcm9vdE5vZGUucGFyZW50Tm9kZTtcbiAgICAgIHJldHVybiBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUoY29udGFpbmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgICAgIHRoaXMudG9wTGV2ZWxUeXBlID0gdG9wTGV2ZWxUeXBlO1xuICAgICAgdGhpcy5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICAgICAgdGhpcy5hbmNlc3RvcnMgPSBbXTtcbiAgICB9XG4gICAgX2Fzc2lnbihUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcucHJvdG90eXBlLCB7ZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudG9wTGV2ZWxUeXBlID0gbnVsbDtcbiAgICAgICAgdGhpcy5uYXRpdmVFdmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuYW5jZXN0b3JzLmxlbmd0aCA9IDA7XG4gICAgICB9fSk7XG4gICAgUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZywgUG9vbGVkQ2xhc3MudHdvQXJndW1lbnRQb29sZXIpO1xuICAgIGZ1bmN0aW9uIGhhbmRsZVRvcExldmVsSW1wbChib29rS2VlcGluZykge1xuICAgICAgdmFyIG5hdGl2ZUV2ZW50VGFyZ2V0ID0gZ2V0RXZlbnRUYXJnZXQoYm9va0tlZXBpbmcubmF0aXZlRXZlbnQpO1xuICAgICAgdmFyIHRhcmdldEluc3QgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUobmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgdmFyIGFuY2VzdG9yID0gdGFyZ2V0SW5zdDtcbiAgICAgIGRvIHtcbiAgICAgICAgYm9va0tlZXBpbmcuYW5jZXN0b3JzLnB1c2goYW5jZXN0b3IpO1xuICAgICAgICBhbmNlc3RvciA9IGFuY2VzdG9yICYmIGZpbmRQYXJlbnQoYW5jZXN0b3IpO1xuICAgICAgfSB3aGlsZSAoYW5jZXN0b3IpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib29rS2VlcGluZy5hbmNlc3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGFyZ2V0SW5zdCA9IGJvb2tLZWVwaW5nLmFuY2VzdG9yc1tpXTtcbiAgICAgICAgUmVhY3RFdmVudExpc3RlbmVyLl9oYW5kbGVUb3BMZXZlbChib29rS2VlcGluZy50b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50LCBnZXRFdmVudFRhcmdldChib29rS2VlcGluZy5uYXRpdmVFdmVudCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzY3JvbGxWYWx1ZU1vbml0b3IoY2IpIHtcbiAgICAgIHZhciBzY3JvbGxQb3NpdGlvbiA9IGdldFVuYm91bmRlZFNjcm9sbFBvc2l0aW9uKHdpbmRvdyk7XG4gICAgICBjYihzY3JvbGxQb3NpdGlvbik7XG4gICAgfVxuICAgIHZhciBSZWFjdEV2ZW50TGlzdGVuZXIgPSB7XG4gICAgICBfZW5hYmxlZDogdHJ1ZSxcbiAgICAgIF9oYW5kbGVUb3BMZXZlbDogbnVsbCxcbiAgICAgIFdJTkRPV19IQU5ETEU6IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IHdpbmRvdyA6IG51bGwsXG4gICAgICBzZXRIYW5kbGVUb3BMZXZlbDogZnVuY3Rpb24oaGFuZGxlVG9wTGV2ZWwpIHtcbiAgICAgICAgUmVhY3RFdmVudExpc3RlbmVyLl9oYW5kbGVUb3BMZXZlbCA9IGhhbmRsZVRvcExldmVsO1xuICAgICAgfSxcbiAgICAgIHNldEVuYWJsZWQ6IGZ1bmN0aW9uKGVuYWJsZWQpIHtcbiAgICAgICAgUmVhY3RFdmVudExpc3RlbmVyLl9lbmFibGVkID0gISFlbmFibGVkO1xuICAgICAgfSxcbiAgICAgIGlzRW5hYmxlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBSZWFjdEV2ZW50TGlzdGVuZXIuX2VuYWJsZWQ7XG4gICAgICB9LFxuICAgICAgdHJhcEJ1YmJsZWRFdmVudDogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCBoYW5kbGVyQmFzZU5hbWUsIGhhbmRsZSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGhhbmRsZTtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEV2ZW50TGlzdGVuZXIubGlzdGVuKGVsZW1lbnQsIGhhbmRsZXJCYXNlTmFtZSwgUmVhY3RFdmVudExpc3RlbmVyLmRpc3BhdGNoRXZlbnQuYmluZChudWxsLCB0b3BMZXZlbFR5cGUpKTtcbiAgICAgIH0sXG4gICAgICB0cmFwQ2FwdHVyZWRFdmVudDogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCBoYW5kbGVyQmFzZU5hbWUsIGhhbmRsZSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGhhbmRsZTtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEV2ZW50TGlzdGVuZXIuY2FwdHVyZShlbGVtZW50LCBoYW5kbGVyQmFzZU5hbWUsIFJlYWN0RXZlbnRMaXN0ZW5lci5kaXNwYXRjaEV2ZW50LmJpbmQobnVsbCwgdG9wTGV2ZWxUeXBlKSk7XG4gICAgICB9LFxuICAgICAgbW9uaXRvclNjcm9sbFZhbHVlOiBmdW5jdGlvbihyZWZyZXNoKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHNjcm9sbFZhbHVlTW9uaXRvci5iaW5kKG51bGwsIHJlZnJlc2gpO1xuICAgICAgICBFdmVudExpc3RlbmVyLmxpc3Rlbih3aW5kb3csICdzY3JvbGwnLCBjYWxsYmFjayk7XG4gICAgICB9LFxuICAgICAgZGlzcGF0Y2hFdmVudDogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICAgICAgICBpZiAoIVJlYWN0RXZlbnRMaXN0ZW5lci5fZW5hYmxlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYm9va0tlZXBpbmcgPSBUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcuZ2V0UG9vbGVkKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIFJlYWN0VXBkYXRlcy5iYXRjaGVkVXBkYXRlcyhoYW5kbGVUb3BMZXZlbEltcGwsIGJvb2tLZWVwaW5nKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcucmVsZWFzZShib29rS2VlcGluZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RFdmVudExpc3RlbmVyO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI2MVwiLCBbXCIxYlwiLCBcIjEwXCIsIFwiNjJcIiwgXCI0NVwiLCBcIjYzXCIsIFwiNjRcIiwgXCI0ZVwiLCBcIjY1XCIsIFwiMTJcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBET01Qcm9wZXJ0eSA9ICRfX3JlcXVpcmUoJzFiJyk7XG4gIHZhciBFdmVudFBsdWdpbkh1YiA9ICRfX3JlcXVpcmUoJzEwJyk7XG4gIHZhciBFdmVudFBsdWdpblV0aWxzID0gJF9fcmVxdWlyZSgnNjInKTtcbiAgdmFyIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQgPSAkX19yZXF1aXJlKCc0NScpO1xuICB2YXIgUmVhY3RDbGFzcyA9ICRfX3JlcXVpcmUoJzYzJyk7XG4gIHZhciBSZWFjdEVtcHR5Q29tcG9uZW50ID0gJF9fcmVxdWlyZSgnNjQnKTtcbiAgdmFyIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlciA9ICRfX3JlcXVpcmUoJzRlJyk7XG4gIHZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudCA9ICRfX3JlcXVpcmUoJzY1Jyk7XG4gIHZhciBSZWFjdFVwZGF0ZXMgPSAkX19yZXF1aXJlKCcxMicpO1xuICB2YXIgUmVhY3RJbmplY3Rpb24gPSB7XG4gICAgQ29tcG9uZW50OiBSZWFjdENvbXBvbmVudEVudmlyb25tZW50LmluamVjdGlvbixcbiAgICBDbGFzczogUmVhY3RDbGFzcy5pbmplY3Rpb24sXG4gICAgRE9NUHJvcGVydHk6IERPTVByb3BlcnR5LmluamVjdGlvbixcbiAgICBFbXB0eUNvbXBvbmVudDogUmVhY3RFbXB0eUNvbXBvbmVudC5pbmplY3Rpb24sXG4gICAgRXZlbnRQbHVnaW5IdWI6IEV2ZW50UGx1Z2luSHViLmluamVjdGlvbixcbiAgICBFdmVudFBsdWdpblV0aWxzOiBFdmVudFBsdWdpblV0aWxzLmluamVjdGlvbixcbiAgICBFdmVudEVtaXR0ZXI6IFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5pbmplY3Rpb24sXG4gICAgTmF0aXZlQ29tcG9uZW50OiBSZWFjdE5hdGl2ZUNvbXBvbmVudC5pbmplY3Rpb24sXG4gICAgVXBkYXRlczogUmVhY3RVcGRhdGVzLmluamVjdGlvblxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0SW5qZWN0aW9uO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjY2XCIsIFtcIjZcIiwgXCI2N1wiLCBcIjRcIiwgXCI0ZVwiLCBcIjY4XCIsIFwiNGFcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICB2YXIgQ2FsbGJhY2tRdWV1ZSA9ICRfX3JlcXVpcmUoJzY3Jyk7XG4gIHZhciBQb29sZWRDbGFzcyA9ICRfX3JlcXVpcmUoJzQnKTtcbiAgdmFyIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlciA9ICRfX3JlcXVpcmUoJzRlJyk7XG4gIHZhciBSZWFjdElucHV0U2VsZWN0aW9uID0gJF9fcmVxdWlyZSgnNjgnKTtcbiAgdmFyIFRyYW5zYWN0aW9uID0gJF9fcmVxdWlyZSgnNGEnKTtcbiAgdmFyIFNFTEVDVElPTl9SRVNUT1JBVElPTiA9IHtcbiAgICBpbml0aWFsaXplOiBSZWFjdElucHV0U2VsZWN0aW9uLmdldFNlbGVjdGlvbkluZm9ybWF0aW9uLFxuICAgIGNsb3NlOiBSZWFjdElucHV0U2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb25cbiAgfTtcbiAgdmFyIEVWRU5UX1NVUFBSRVNTSU9OID0ge1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGN1cnJlbnRseUVuYWJsZWQgPSBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuaXNFbmFibGVkKCk7XG4gICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICByZXR1cm4gY3VycmVudGx5RW5hYmxlZDtcbiAgICB9LFxuICAgIGNsb3NlOiBmdW5jdGlvbihwcmV2aW91c2x5RW5hYmxlZCkge1xuICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnNldEVuYWJsZWQocHJldmlvdXNseUVuYWJsZWQpO1xuICAgIH1cbiAgfTtcbiAgdmFyIE9OX0RPTV9SRUFEWV9RVUVVRUlORyA9IHtcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMucmVhY3RNb3VudFJlYWR5LnJlc2V0KCk7XG4gICAgfSxcbiAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnJlYWN0TW91bnRSZWFkeS5ub3RpZnlBbGwoKTtcbiAgICB9XG4gIH07XG4gIHZhciBUUkFOU0FDVElPTl9XUkFQUEVSUyA9IFtTRUxFQ1RJT05fUkVTVE9SQVRJT04sIEVWRU5UX1NVUFBSRVNTSU9OLCBPTl9ET01fUkVBRFlfUVVFVUVJTkddO1xuICBmdW5jdGlvbiBSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uKHVzZUNyZWF0ZUVsZW1lbnQpIHtcbiAgICB0aGlzLnJlaW5pdGlhbGl6ZVRyYW5zYWN0aW9uKCk7XG4gICAgdGhpcy5yZW5kZXJUb1N0YXRpY01hcmt1cCA9IGZhbHNlO1xuICAgIHRoaXMucmVhY3RNb3VudFJlYWR5ID0gQ2FsbGJhY2tRdWV1ZS5nZXRQb29sZWQobnVsbCk7XG4gICAgdGhpcy51c2VDcmVhdGVFbGVtZW50ID0gdXNlQ3JlYXRlRWxlbWVudDtcbiAgfVxuICB2YXIgTWl4aW4gPSB7XG4gICAgZ2V0VHJhbnNhY3Rpb25XcmFwcGVyczogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gVFJBTlNBQ1RJT05fV1JBUFBFUlM7XG4gICAgfSxcbiAgICBnZXRSZWFjdE1vdW50UmVhZHk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVhY3RNb3VudFJlYWR5O1xuICAgIH0sXG4gICAgY2hlY2twb2ludDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWFjdE1vdW50UmVhZHkuY2hlY2twb2ludCgpO1xuICAgIH0sXG4gICAgcm9sbGJhY2s6IGZ1bmN0aW9uKGNoZWNrcG9pbnQpIHtcbiAgICAgIHRoaXMucmVhY3RNb3VudFJlYWR5LnJvbGxiYWNrKGNoZWNrcG9pbnQpO1xuICAgIH0sXG4gICAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgICBDYWxsYmFja1F1ZXVlLnJlbGVhc2UodGhpcy5yZWFjdE1vdW50UmVhZHkpO1xuICAgICAgdGhpcy5yZWFjdE1vdW50UmVhZHkgPSBudWxsO1xuICAgIH1cbiAgfTtcbiAgX2Fzc2lnbihSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uLnByb3RvdHlwZSwgVHJhbnNhY3Rpb24uTWl4aW4sIE1peGluKTtcbiAgUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKFJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24pO1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb247XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNjlcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBOUyA9IHtcbiAgICB4bGluazogJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLFxuICAgIHhtbDogJ2h0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSdcbiAgfTtcbiAgdmFyIEFUVFJTID0ge1xuICAgIGFjY2VudEhlaWdodDogJ2FjY2VudC1oZWlnaHQnLFxuICAgIGFjY3VtdWxhdGU6IDAsXG4gICAgYWRkaXRpdmU6IDAsXG4gICAgYWxpZ25tZW50QmFzZWxpbmU6ICdhbGlnbm1lbnQtYmFzZWxpbmUnLFxuICAgIGFsbG93UmVvcmRlcjogJ2FsbG93UmVvcmRlcicsXG4gICAgYWxwaGFiZXRpYzogMCxcbiAgICBhbXBsaXR1ZGU6IDAsXG4gICAgYXJhYmljRm9ybTogJ2FyYWJpYy1mb3JtJyxcbiAgICBhc2NlbnQ6IDAsXG4gICAgYXR0cmlidXRlTmFtZTogJ2F0dHJpYnV0ZU5hbWUnLFxuICAgIGF0dHJpYnV0ZVR5cGU6ICdhdHRyaWJ1dGVUeXBlJyxcbiAgICBhdXRvUmV2ZXJzZTogJ2F1dG9SZXZlcnNlJyxcbiAgICBhemltdXRoOiAwLFxuICAgIGJhc2VGcmVxdWVuY3k6ICdiYXNlRnJlcXVlbmN5JyxcbiAgICBiYXNlUHJvZmlsZTogJ2Jhc2VQcm9maWxlJyxcbiAgICBiYXNlbGluZVNoaWZ0OiAnYmFzZWxpbmUtc2hpZnQnLFxuICAgIGJib3g6IDAsXG4gICAgYmVnaW46IDAsXG4gICAgYmlhczogMCxcbiAgICBieTogMCxcbiAgICBjYWxjTW9kZTogJ2NhbGNNb2RlJyxcbiAgICBjYXBIZWlnaHQ6ICdjYXAtaGVpZ2h0JyxcbiAgICBjbGlwOiAwLFxuICAgIGNsaXBQYXRoOiAnY2xpcC1wYXRoJyxcbiAgICBjbGlwUnVsZTogJ2NsaXAtcnVsZScsXG4gICAgY2xpcFBhdGhVbml0czogJ2NsaXBQYXRoVW5pdHMnLFxuICAgIGNvbG9ySW50ZXJwb2xhdGlvbjogJ2NvbG9yLWludGVycG9sYXRpb24nLFxuICAgIGNvbG9ySW50ZXJwb2xhdGlvbkZpbHRlcnM6ICdjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMnLFxuICAgIGNvbG9yUHJvZmlsZTogJ2NvbG9yLXByb2ZpbGUnLFxuICAgIGNvbG9yUmVuZGVyaW5nOiAnY29sb3ItcmVuZGVyaW5nJyxcbiAgICBjb250ZW50U2NyaXB0VHlwZTogJ2NvbnRlbnRTY3JpcHRUeXBlJyxcbiAgICBjb250ZW50U3R5bGVUeXBlOiAnY29udGVudFN0eWxlVHlwZScsXG4gICAgY3Vyc29yOiAwLFxuICAgIGN4OiAwLFxuICAgIGN5OiAwLFxuICAgIGQ6IDAsXG4gICAgZGVjZWxlcmF0ZTogMCxcbiAgICBkZXNjZW50OiAwLFxuICAgIGRpZmZ1c2VDb25zdGFudDogJ2RpZmZ1c2VDb25zdGFudCcsXG4gICAgZGlyZWN0aW9uOiAwLFxuICAgIGRpc3BsYXk6IDAsXG4gICAgZGl2aXNvcjogMCxcbiAgICBkb21pbmFudEJhc2VsaW5lOiAnZG9taW5hbnQtYmFzZWxpbmUnLFxuICAgIGR1cjogMCxcbiAgICBkeDogMCxcbiAgICBkeTogMCxcbiAgICBlZGdlTW9kZTogJ2VkZ2VNb2RlJyxcbiAgICBlbGV2YXRpb246IDAsXG4gICAgZW5hYmxlQmFja2dyb3VuZDogJ2VuYWJsZS1iYWNrZ3JvdW5kJyxcbiAgICBlbmQ6IDAsXG4gICAgZXhwb25lbnQ6IDAsXG4gICAgZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZDogJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLFxuICAgIGZpbGw6IDAsXG4gICAgZmlsbE9wYWNpdHk6ICdmaWxsLW9wYWNpdHknLFxuICAgIGZpbGxSdWxlOiAnZmlsbC1ydWxlJyxcbiAgICBmaWx0ZXI6IDAsXG4gICAgZmlsdGVyUmVzOiAnZmlsdGVyUmVzJyxcbiAgICBmaWx0ZXJVbml0czogJ2ZpbHRlclVuaXRzJyxcbiAgICBmbG9vZENvbG9yOiAnZmxvb2QtY29sb3InLFxuICAgIGZsb29kT3BhY2l0eTogJ2Zsb29kLW9wYWNpdHknLFxuICAgIGZvY3VzYWJsZTogMCxcbiAgICBmb250RmFtaWx5OiAnZm9udC1mYW1pbHknLFxuICAgIGZvbnRTaXplOiAnZm9udC1zaXplJyxcbiAgICBmb250U2l6ZUFkanVzdDogJ2ZvbnQtc2l6ZS1hZGp1c3QnLFxuICAgIGZvbnRTdHJldGNoOiAnZm9udC1zdHJldGNoJyxcbiAgICBmb250U3R5bGU6ICdmb250LXN0eWxlJyxcbiAgICBmb250VmFyaWFudDogJ2ZvbnQtdmFyaWFudCcsXG4gICAgZm9udFdlaWdodDogJ2ZvbnQtd2VpZ2h0JyxcbiAgICBmb3JtYXQ6IDAsXG4gICAgZnJvbTogMCxcbiAgICBmeDogMCxcbiAgICBmeTogMCxcbiAgICBnMTogMCxcbiAgICBnMjogMCxcbiAgICBnbHlwaE5hbWU6ICdnbHlwaC1uYW1lJyxcbiAgICBnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbDogJ2dseXBoLW9yaWVudGF0aW9uLWhvcml6b250YWwnLFxuICAgIGdseXBoT3JpZW50YXRpb25WZXJ0aWNhbDogJ2dseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsJyxcbiAgICBnbHlwaFJlZjogJ2dseXBoUmVmJyxcbiAgICBncmFkaWVudFRyYW5zZm9ybTogJ2dyYWRpZW50VHJhbnNmb3JtJyxcbiAgICBncmFkaWVudFVuaXRzOiAnZ3JhZGllbnRVbml0cycsXG4gICAgaGFuZ2luZzogMCxcbiAgICBob3JpekFkdlg6ICdob3Jpei1hZHYteCcsXG4gICAgaG9yaXpPcmlnaW5YOiAnaG9yaXotb3JpZ2luLXgnLFxuICAgIGlkZW9ncmFwaGljOiAwLFxuICAgIGltYWdlUmVuZGVyaW5nOiAnaW1hZ2UtcmVuZGVyaW5nJyxcbiAgICAnaW4nOiAwLFxuICAgIGluMjogMCxcbiAgICBpbnRlcmNlcHQ6IDAsXG4gICAgazogMCxcbiAgICBrMTogMCxcbiAgICBrMjogMCxcbiAgICBrMzogMCxcbiAgICBrNDogMCxcbiAgICBrZXJuZWxNYXRyaXg6ICdrZXJuZWxNYXRyaXgnLFxuICAgIGtlcm5lbFVuaXRMZW5ndGg6ICdrZXJuZWxVbml0TGVuZ3RoJyxcbiAgICBrZXJuaW5nOiAwLFxuICAgIGtleVBvaW50czogJ2tleVBvaW50cycsXG4gICAga2V5U3BsaW5lczogJ2tleVNwbGluZXMnLFxuICAgIGtleVRpbWVzOiAna2V5VGltZXMnLFxuICAgIGxlbmd0aEFkanVzdDogJ2xlbmd0aEFkanVzdCcsXG4gICAgbGV0dGVyU3BhY2luZzogJ2xldHRlci1zcGFjaW5nJyxcbiAgICBsaWdodGluZ0NvbG9yOiAnbGlnaHRpbmctY29sb3InLFxuICAgIGxpbWl0aW5nQ29uZUFuZ2xlOiAnbGltaXRpbmdDb25lQW5nbGUnLFxuICAgIGxvY2FsOiAwLFxuICAgIG1hcmtlckVuZDogJ21hcmtlci1lbmQnLFxuICAgIG1hcmtlck1pZDogJ21hcmtlci1taWQnLFxuICAgIG1hcmtlclN0YXJ0OiAnbWFya2VyLXN0YXJ0JyxcbiAgICBtYXJrZXJIZWlnaHQ6ICdtYXJrZXJIZWlnaHQnLFxuICAgIG1hcmtlclVuaXRzOiAnbWFya2VyVW5pdHMnLFxuICAgIG1hcmtlcldpZHRoOiAnbWFya2VyV2lkdGgnLFxuICAgIG1hc2s6IDAsXG4gICAgbWFza0NvbnRlbnRVbml0czogJ21hc2tDb250ZW50VW5pdHMnLFxuICAgIG1hc2tVbml0czogJ21hc2tVbml0cycsXG4gICAgbWF0aGVtYXRpY2FsOiAwLFxuICAgIG1vZGU6IDAsXG4gICAgbnVtT2N0YXZlczogJ251bU9jdGF2ZXMnLFxuICAgIG9mZnNldDogMCxcbiAgICBvcGFjaXR5OiAwLFxuICAgIG9wZXJhdG9yOiAwLFxuICAgIG9yZGVyOiAwLFxuICAgIG9yaWVudDogMCxcbiAgICBvcmllbnRhdGlvbjogMCxcbiAgICBvcmlnaW46IDAsXG4gICAgb3ZlcmZsb3c6IDAsXG4gICAgb3ZlcmxpbmVQb3NpdGlvbjogJ292ZXJsaW5lLXBvc2l0aW9uJyxcbiAgICBvdmVybGluZVRoaWNrbmVzczogJ292ZXJsaW5lLXRoaWNrbmVzcycsXG4gICAgcGFpbnRPcmRlcjogJ3BhaW50LW9yZGVyJyxcbiAgICBwYW5vc2UxOiAncGFub3NlLTEnLFxuICAgIHBhdGhMZW5ndGg6ICdwYXRoTGVuZ3RoJyxcbiAgICBwYXR0ZXJuQ29udGVudFVuaXRzOiAncGF0dGVybkNvbnRlbnRVbml0cycsXG4gICAgcGF0dGVyblRyYW5zZm9ybTogJ3BhdHRlcm5UcmFuc2Zvcm0nLFxuICAgIHBhdHRlcm5Vbml0czogJ3BhdHRlcm5Vbml0cycsXG4gICAgcG9pbnRlckV2ZW50czogJ3BvaW50ZXItZXZlbnRzJyxcbiAgICBwb2ludHM6IDAsXG4gICAgcG9pbnRzQXRYOiAncG9pbnRzQXRYJyxcbiAgICBwb2ludHNBdFk6ICdwb2ludHNBdFknLFxuICAgIHBvaW50c0F0WjogJ3BvaW50c0F0WicsXG4gICAgcHJlc2VydmVBbHBoYTogJ3ByZXNlcnZlQWxwaGEnLFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86ICdwcmVzZXJ2ZUFzcGVjdFJhdGlvJyxcbiAgICBwcmltaXRpdmVVbml0czogJ3ByaW1pdGl2ZVVuaXRzJyxcbiAgICByOiAwLFxuICAgIHJhZGl1czogMCxcbiAgICByZWZYOiAncmVmWCcsXG4gICAgcmVmWTogJ3JlZlknLFxuICAgIHJlbmRlcmluZ0ludGVudDogJ3JlbmRlcmluZy1pbnRlbnQnLFxuICAgIHJlcGVhdENvdW50OiAncmVwZWF0Q291bnQnLFxuICAgIHJlcGVhdER1cjogJ3JlcGVhdER1cicsXG4gICAgcmVxdWlyZWRFeHRlbnNpb25zOiAncmVxdWlyZWRFeHRlbnNpb25zJyxcbiAgICByZXF1aXJlZEZlYXR1cmVzOiAncmVxdWlyZWRGZWF0dXJlcycsXG4gICAgcmVzdGFydDogMCxcbiAgICByZXN1bHQ6IDAsXG4gICAgcm90YXRlOiAwLFxuICAgIHJ4OiAwLFxuICAgIHJ5OiAwLFxuICAgIHNjYWxlOiAwLFxuICAgIHNlZWQ6IDAsXG4gICAgc2hhcGVSZW5kZXJpbmc6ICdzaGFwZS1yZW5kZXJpbmcnLFxuICAgIHNsb3BlOiAwLFxuICAgIHNwYWNpbmc6IDAsXG4gICAgc3BlY3VsYXJDb25zdGFudDogJ3NwZWN1bGFyQ29uc3RhbnQnLFxuICAgIHNwZWN1bGFyRXhwb25lbnQ6ICdzcGVjdWxhckV4cG9uZW50JyxcbiAgICBzcGVlZDogMCxcbiAgICBzcHJlYWRNZXRob2Q6ICdzcHJlYWRNZXRob2QnLFxuICAgIHN0YXJ0T2Zmc2V0OiAnc3RhcnRPZmZzZXQnLFxuICAgIHN0ZERldmlhdGlvbjogJ3N0ZERldmlhdGlvbicsXG4gICAgc3RlbWg6IDAsXG4gICAgc3RlbXY6IDAsXG4gICAgc3RpdGNoVGlsZXM6ICdzdGl0Y2hUaWxlcycsXG4gICAgc3RvcENvbG9yOiAnc3RvcC1jb2xvcicsXG4gICAgc3RvcE9wYWNpdHk6ICdzdG9wLW9wYWNpdHknLFxuICAgIHN0cmlrZXRocm91Z2hQb3NpdGlvbjogJ3N0cmlrZXRocm91Z2gtcG9zaXRpb24nLFxuICAgIHN0cmlrZXRocm91Z2hUaGlja25lc3M6ICdzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcycsXG4gICAgc3RyaW5nOiAwLFxuICAgIHN0cm9rZTogMCxcbiAgICBzdHJva2VEYXNoYXJyYXk6ICdzdHJva2UtZGFzaGFycmF5JyxcbiAgICBzdHJva2VEYXNob2Zmc2V0OiAnc3Ryb2tlLWRhc2hvZmZzZXQnLFxuICAgIHN0cm9rZUxpbmVjYXA6ICdzdHJva2UtbGluZWNhcCcsXG4gICAgc3Ryb2tlTGluZWpvaW46ICdzdHJva2UtbGluZWpvaW4nLFxuICAgIHN0cm9rZU1pdGVybGltaXQ6ICdzdHJva2UtbWl0ZXJsaW1pdCcsXG4gICAgc3Ryb2tlT3BhY2l0eTogJ3N0cm9rZS1vcGFjaXR5JyxcbiAgICBzdHJva2VXaWR0aDogJ3N0cm9rZS13aWR0aCcsXG4gICAgc3VyZmFjZVNjYWxlOiAnc3VyZmFjZVNjYWxlJyxcbiAgICBzeXN0ZW1MYW5ndWFnZTogJ3N5c3RlbUxhbmd1YWdlJyxcbiAgICB0YWJsZVZhbHVlczogJ3RhYmxlVmFsdWVzJyxcbiAgICB0YXJnZXRYOiAndGFyZ2V0WCcsXG4gICAgdGFyZ2V0WTogJ3RhcmdldFknLFxuICAgIHRleHRBbmNob3I6ICd0ZXh0LWFuY2hvcicsXG4gICAgdGV4dERlY29yYXRpb246ICd0ZXh0LWRlY29yYXRpb24nLFxuICAgIHRleHRSZW5kZXJpbmc6ICd0ZXh0LXJlbmRlcmluZycsXG4gICAgdGV4dExlbmd0aDogJ3RleHRMZW5ndGgnLFxuICAgIHRvOiAwLFxuICAgIHRyYW5zZm9ybTogMCxcbiAgICB1MTogMCxcbiAgICB1MjogMCxcbiAgICB1bmRlcmxpbmVQb3NpdGlvbjogJ3VuZGVybGluZS1wb3NpdGlvbicsXG4gICAgdW5kZXJsaW5lVGhpY2tuZXNzOiAndW5kZXJsaW5lLXRoaWNrbmVzcycsXG4gICAgdW5pY29kZTogMCxcbiAgICB1bmljb2RlQmlkaTogJ3VuaWNvZGUtYmlkaScsXG4gICAgdW5pY29kZVJhbmdlOiAndW5pY29kZS1yYW5nZScsXG4gICAgdW5pdHNQZXJFbTogJ3VuaXRzLXBlci1lbScsXG4gICAgdkFscGhhYmV0aWM6ICd2LWFscGhhYmV0aWMnLFxuICAgIHZIYW5naW5nOiAndi1oYW5naW5nJyxcbiAgICB2SWRlb2dyYXBoaWM6ICd2LWlkZW9ncmFwaGljJyxcbiAgICB2TWF0aGVtYXRpY2FsOiAndi1tYXRoZW1hdGljYWwnLFxuICAgIHZhbHVlczogMCxcbiAgICB2ZWN0b3JFZmZlY3Q6ICd2ZWN0b3ItZWZmZWN0JyxcbiAgICB2ZXJzaW9uOiAwLFxuICAgIHZlcnRBZHZZOiAndmVydC1hZHYteScsXG4gICAgdmVydE9yaWdpblg6ICd2ZXJ0LW9yaWdpbi14JyxcbiAgICB2ZXJ0T3JpZ2luWTogJ3ZlcnQtb3JpZ2luLXknLFxuICAgIHZpZXdCb3g6ICd2aWV3Qm94JyxcbiAgICB2aWV3VGFyZ2V0OiAndmlld1RhcmdldCcsXG4gICAgdmlzaWJpbGl0eTogMCxcbiAgICB3aWR0aHM6IDAsXG4gICAgd29yZFNwYWNpbmc6ICd3b3JkLXNwYWNpbmcnLFxuICAgIHdyaXRpbmdNb2RlOiAnd3JpdGluZy1tb2RlJyxcbiAgICB4OiAwLFxuICAgIHhIZWlnaHQ6ICd4LWhlaWdodCcsXG4gICAgeDE6IDAsXG4gICAgeDI6IDAsXG4gICAgeENoYW5uZWxTZWxlY3RvcjogJ3hDaGFubmVsU2VsZWN0b3InLFxuICAgIHhsaW5rQWN0dWF0ZTogJ3hsaW5rOmFjdHVhdGUnLFxuICAgIHhsaW5rQXJjcm9sZTogJ3hsaW5rOmFyY3JvbGUnLFxuICAgIHhsaW5rSHJlZjogJ3hsaW5rOmhyZWYnLFxuICAgIHhsaW5rUm9sZTogJ3hsaW5rOnJvbGUnLFxuICAgIHhsaW5rU2hvdzogJ3hsaW5rOnNob3cnLFxuICAgIHhsaW5rVGl0bGU6ICd4bGluazp0aXRsZScsXG4gICAgeGxpbmtUeXBlOiAneGxpbms6dHlwZScsXG4gICAgeG1sQmFzZTogJ3htbDpiYXNlJyxcbiAgICB4bWxMYW5nOiAneG1sOmxhbmcnLFxuICAgIHhtbFNwYWNlOiAneG1sOnNwYWNlJyxcbiAgICB5OiAwLFxuICAgIHkxOiAwLFxuICAgIHkyOiAwLFxuICAgIHlDaGFubmVsU2VsZWN0b3I6ICd5Q2hhbm5lbFNlbGVjdG9yJyxcbiAgICB6OiAwLFxuICAgIHpvb21BbmRQYW46ICd6b29tQW5kUGFuJ1xuICB9O1xuICB2YXIgU1ZHRE9NUHJvcGVydHlDb25maWcgPSB7XG4gICAgUHJvcGVydGllczoge30sXG4gICAgRE9NQXR0cmlidXRlTmFtZXNwYWNlczoge1xuICAgICAgeGxpbmtBY3R1YXRlOiBOUy54bGluayxcbiAgICAgIHhsaW5rQXJjcm9sZTogTlMueGxpbmssXG4gICAgICB4bGlua0hyZWY6IE5TLnhsaW5rLFxuICAgICAgeGxpbmtSb2xlOiBOUy54bGluayxcbiAgICAgIHhsaW5rU2hvdzogTlMueGxpbmssXG4gICAgICB4bGlua1RpdGxlOiBOUy54bGluayxcbiAgICAgIHhsaW5rVHlwZTogTlMueGxpbmssXG4gICAgICB4bWxCYXNlOiBOUy54bWwsXG4gICAgICB4bWxMYW5nOiBOUy54bWwsXG4gICAgICB4bWxTcGFjZTogTlMueG1sXG4gICAgfSxcbiAgICBET01BdHRyaWJ1dGVOYW1lczoge31cbiAgfTtcbiAgT2JqZWN0LmtleXMoQVRUUlMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgU1ZHRE9NUHJvcGVydHlDb25maWcuUHJvcGVydGllc1trZXldID0gMDtcbiAgICBpZiAoQVRUUlNba2V5XSkge1xuICAgICAgU1ZHRE9NUHJvcGVydHlDb25maWcuRE9NQXR0cmlidXRlTmFtZXNba2V5XSA9IEFUVFJTW2tleV07XG4gICAgfVxuICB9KTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBTVkdET01Qcm9wZXJ0eUNvbmZpZztcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI2YVwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZnVuY3Rpb24gZ2V0TGVhZk5vZGUobm9kZSkge1xuICAgIHdoaWxlIChub2RlICYmIG5vZGUuZmlyc3RDaGlsZCkge1xuICAgICAgbm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0U2libGluZ05vZGUobm9kZSkge1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICBpZiAobm9kZS5uZXh0U2libGluZykge1xuICAgICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZztcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQocm9vdCwgb2Zmc2V0KSB7XG4gICAgdmFyIG5vZGUgPSBnZXRMZWFmTm9kZShyb290KTtcbiAgICB2YXIgbm9kZVN0YXJ0ID0gMDtcbiAgICB2YXIgbm9kZUVuZCA9IDA7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgIG5vZGVFbmQgPSBub2RlU3RhcnQgKyBub2RlLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgICAgICAgaWYgKG5vZGVTdGFydCA8PSBvZmZzZXQgJiYgbm9kZUVuZCA+PSBvZmZzZXQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0IC0gbm9kZVN0YXJ0XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBub2RlU3RhcnQgPSBub2RlRW5kO1xuICAgICAgfVxuICAgICAgbm9kZSA9IGdldExlYWZOb2RlKGdldFNpYmxpbmdOb2RlKG5vZGUpKTtcbiAgICB9XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjVcIiwgW1wiZFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnZCcpO1xuICB2YXIgY29udGVudEtleSA9IG51bGw7XG4gIGZ1bmN0aW9uIGdldFRleHRDb250ZW50QWNjZXNzb3IoKSB7XG4gICAgaWYgKCFjb250ZW50S2V5ICYmIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgICAgY29udGVudEtleSA9ICd0ZXh0Q29udGVudCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID8gJ3RleHRDb250ZW50JyA6ICdpbm5lclRleHQnO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudEtleTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGdldFRleHRDb250ZW50QWNjZXNzb3I7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNmJcIiwgW1wiZFwiLCBcIjZhXCIsIFwiNVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnZCcpO1xuICB2YXIgZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldCA9ICRfX3JlcXVpcmUoJzZhJyk7XG4gIHZhciBnZXRUZXh0Q29udGVudEFjY2Vzc29yID0gJF9fcmVxdWlyZSgnNScpO1xuICBmdW5jdGlvbiBpc0NvbGxhcHNlZChhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQsIGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQpIHtcbiAgICByZXR1cm4gYW5jaG9yTm9kZSA9PT0gZm9jdXNOb2RlICYmIGFuY2hvck9mZnNldCA9PT0gZm9jdXNPZmZzZXQ7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0SUVPZmZzZXRzKG5vZGUpIHtcbiAgICB2YXIgc2VsZWN0aW9uID0gZG9jdW1lbnQuc2VsZWN0aW9uO1xuICAgIHZhciBzZWxlY3RlZFJhbmdlID0gc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gICAgdmFyIHNlbGVjdGVkTGVuZ3RoID0gc2VsZWN0ZWRSYW5nZS50ZXh0Lmxlbmd0aDtcbiAgICB2YXIgZnJvbVN0YXJ0ID0gc2VsZWN0ZWRSYW5nZS5kdXBsaWNhdGUoKTtcbiAgICBmcm9tU3RhcnQubW92ZVRvRWxlbWVudFRleHQobm9kZSk7XG4gICAgZnJvbVN0YXJ0LnNldEVuZFBvaW50KCdFbmRUb1N0YXJ0Jywgc2VsZWN0ZWRSYW5nZSk7XG4gICAgdmFyIHN0YXJ0T2Zmc2V0ID0gZnJvbVN0YXJ0LnRleHQubGVuZ3RoO1xuICAgIHZhciBlbmRPZmZzZXQgPSBzdGFydE9mZnNldCArIHNlbGVjdGVkTGVuZ3RoO1xuICAgIHJldHVybiB7XG4gICAgICBzdGFydDogc3RhcnRPZmZzZXQsXG4gICAgICBlbmQ6IGVuZE9mZnNldFxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0TW9kZXJuT2Zmc2V0cyhub2RlKSB7XG4gICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24gJiYgd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGFuY2hvck5vZGUgPSBzZWxlY3Rpb24uYW5jaG9yTm9kZTtcbiAgICB2YXIgYW5jaG9yT2Zmc2V0ID0gc2VsZWN0aW9uLmFuY2hvck9mZnNldDtcbiAgICB2YXIgZm9jdXNOb2RlID0gc2VsZWN0aW9uLmZvY3VzTm9kZTtcbiAgICB2YXIgZm9jdXNPZmZzZXQgPSBzZWxlY3Rpb24uZm9jdXNPZmZzZXQ7XG4gICAgdmFyIGN1cnJlbnRSYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuICAgIHRyeSB7XG4gICAgICBjdXJyZW50UmFuZ2Uuc3RhcnRDb250YWluZXIubm9kZVR5cGU7XG4gICAgICBjdXJyZW50UmFuZ2UuZW5kQ29udGFpbmVyLm5vZGVUeXBlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgaXNTZWxlY3Rpb25Db2xsYXBzZWQgPSBpc0NvbGxhcHNlZChzZWxlY3Rpb24uYW5jaG9yTm9kZSwgc2VsZWN0aW9uLmFuY2hvck9mZnNldCwgc2VsZWN0aW9uLmZvY3VzTm9kZSwgc2VsZWN0aW9uLmZvY3VzT2Zmc2V0KTtcbiAgICB2YXIgcmFuZ2VMZW5ndGggPSBpc1NlbGVjdGlvbkNvbGxhcHNlZCA/IDAgOiBjdXJyZW50UmFuZ2UudG9TdHJpbmcoKS5sZW5ndGg7XG4gICAgdmFyIHRlbXBSYW5nZSA9IGN1cnJlbnRSYW5nZS5jbG9uZVJhbmdlKCk7XG4gICAgdGVtcFJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhub2RlKTtcbiAgICB0ZW1wUmFuZ2Uuc2V0RW5kKGN1cnJlbnRSYW5nZS5zdGFydENvbnRhaW5lciwgY3VycmVudFJhbmdlLnN0YXJ0T2Zmc2V0KTtcbiAgICB2YXIgaXNUZW1wUmFuZ2VDb2xsYXBzZWQgPSBpc0NvbGxhcHNlZCh0ZW1wUmFuZ2Uuc3RhcnRDb250YWluZXIsIHRlbXBSYW5nZS5zdGFydE9mZnNldCwgdGVtcFJhbmdlLmVuZENvbnRhaW5lciwgdGVtcFJhbmdlLmVuZE9mZnNldCk7XG4gICAgdmFyIHN0YXJ0ID0gaXNUZW1wUmFuZ2VDb2xsYXBzZWQgPyAwIDogdGVtcFJhbmdlLnRvU3RyaW5nKCkubGVuZ3RoO1xuICAgIHZhciBlbmQgPSBzdGFydCArIHJhbmdlTGVuZ3RoO1xuICAgIHZhciBkZXRlY3Rpb25SYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgZGV0ZWN0aW9uUmFuZ2Uuc2V0U3RhcnQoYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0KTtcbiAgICBkZXRlY3Rpb25SYW5nZS5zZXRFbmQoZm9jdXNOb2RlLCBmb2N1c09mZnNldCk7XG4gICAgdmFyIGlzQmFja3dhcmQgPSBkZXRlY3Rpb25SYW5nZS5jb2xsYXBzZWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0OiBpc0JhY2t3YXJkID8gZW5kIDogc3RhcnQsXG4gICAgICBlbmQ6IGlzQmFja3dhcmQgPyBzdGFydCA6IGVuZFxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gc2V0SUVPZmZzZXRzKG5vZGUsIG9mZnNldHMpIHtcbiAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS5kdXBsaWNhdGUoKTtcbiAgICB2YXIgc3RhcnQsXG4gICAgICAgIGVuZDtcbiAgICBpZiAob2Zmc2V0cy5lbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc3RhcnQgPSBvZmZzZXRzLnN0YXJ0O1xuICAgICAgZW5kID0gc3RhcnQ7XG4gICAgfSBlbHNlIGlmIChvZmZzZXRzLnN0YXJ0ID4gb2Zmc2V0cy5lbmQpIHtcbiAgICAgIHN0YXJ0ID0gb2Zmc2V0cy5lbmQ7XG4gICAgICBlbmQgPSBvZmZzZXRzLnN0YXJ0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydCA9IG9mZnNldHMuc3RhcnQ7XG4gICAgICBlbmQgPSBvZmZzZXRzLmVuZDtcbiAgICB9XG4gICAgcmFuZ2UubW92ZVRvRWxlbWVudFRleHQobm9kZSk7XG4gICAgcmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCBzdGFydCk7XG4gICAgcmFuZ2Uuc2V0RW5kUG9pbnQoJ0VuZFRvU3RhcnQnLCByYW5nZSk7XG4gICAgcmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgZW5kIC0gc3RhcnQpO1xuICAgIHJhbmdlLnNlbGVjdCgpO1xuICB9XG4gIGZ1bmN0aW9uIHNldE1vZGVybk9mZnNldHMobm9kZSwgb2Zmc2V0cykge1xuICAgIGlmICghd2luZG93LmdldFNlbGVjdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIHZhciBsZW5ndGggPSBub2RlW2dldFRleHRDb250ZW50QWNjZXNzb3IoKV0ubGVuZ3RoO1xuICAgIHZhciBzdGFydCA9IE1hdGgubWluKG9mZnNldHMuc3RhcnQsIGxlbmd0aCk7XG4gICAgdmFyIGVuZCA9IG9mZnNldHMuZW5kID09PSB1bmRlZmluZWQgPyBzdGFydCA6IE1hdGgubWluKG9mZnNldHMuZW5kLCBsZW5ndGgpO1xuICAgIGlmICghc2VsZWN0aW9uLmV4dGVuZCAmJiBzdGFydCA+IGVuZCkge1xuICAgICAgdmFyIHRlbXAgPSBlbmQ7XG4gICAgICBlbmQgPSBzdGFydDtcbiAgICAgIHN0YXJ0ID0gdGVtcDtcbiAgICB9XG4gICAgdmFyIHN0YXJ0TWFya2VyID0gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChub2RlLCBzdGFydCk7XG4gICAgdmFyIGVuZE1hcmtlciA9IGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQobm9kZSwgZW5kKTtcbiAgICBpZiAoc3RhcnRNYXJrZXIgJiYgZW5kTWFya2VyKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgcmFuZ2Uuc2V0U3RhcnQoc3RhcnRNYXJrZXIubm9kZSwgc3RhcnRNYXJrZXIub2Zmc2V0KTtcbiAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgIGlmIChzdGFydCA+IGVuZCkge1xuICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICBzZWxlY3Rpb24uZXh0ZW5kKGVuZE1hcmtlci5ub2RlLCBlbmRNYXJrZXIub2Zmc2V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJhbmdlLnNldEVuZChlbmRNYXJrZXIubm9kZSwgZW5kTWFya2VyLm9mZnNldCk7XG4gICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhciB1c2VJRU9mZnNldHMgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgJ3NlbGVjdGlvbicgaW4gZG9jdW1lbnQgJiYgISgnZ2V0U2VsZWN0aW9uJyBpbiB3aW5kb3cpO1xuICB2YXIgUmVhY3RET01TZWxlY3Rpb24gPSB7XG4gICAgZ2V0T2Zmc2V0czogdXNlSUVPZmZzZXRzID8gZ2V0SUVPZmZzZXRzIDogZ2V0TW9kZXJuT2Zmc2V0cyxcbiAgICBzZXRPZmZzZXRzOiB1c2VJRU9mZnNldHMgPyBzZXRJRU9mZnNldHMgOiBzZXRNb2Rlcm5PZmZzZXRzXG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01TZWxlY3Rpb247XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNmNcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGZ1bmN0aW9uIGlzTm9kZShvYmplY3QpIHtcbiAgICByZXR1cm4gISEob2JqZWN0ICYmICh0eXBlb2YgTm9kZSA9PT0gJ2Z1bmN0aW9uJyA/IG9iamVjdCBpbnN0YW5jZW9mIE5vZGUgOiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb2JqZWN0Lm5vZGVUeXBlID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygb2JqZWN0Lm5vZGVOYW1lID09PSAnc3RyaW5nJykpO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gaXNOb2RlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjZkXCIsIFtcIjZjXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgaXNOb2RlID0gJF9fcmVxdWlyZSgnNmMnKTtcbiAgZnVuY3Rpb24gaXNUZXh0Tm9kZShvYmplY3QpIHtcbiAgICByZXR1cm4gaXNOb2RlKG9iamVjdCkgJiYgb2JqZWN0Lm5vZGVUeXBlID09IDM7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBpc1RleHROb2RlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjZlXCIsIFtcIjZkXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgaXNUZXh0Tm9kZSA9ICRfX3JlcXVpcmUoJzZkJyk7XG4gIGZ1bmN0aW9uIGNvbnRhaW5zTm9kZShvdXRlck5vZGUsIGlubmVyTm9kZSkge1xuICAgIGlmICghb3V0ZXJOb2RlIHx8ICFpbm5lck5vZGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKG91dGVyTm9kZSA9PT0gaW5uZXJOb2RlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGlzVGV4dE5vZGUob3V0ZXJOb2RlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoaXNUZXh0Tm9kZShpbm5lck5vZGUpKSB7XG4gICAgICByZXR1cm4gY29udGFpbnNOb2RlKG91dGVyTm9kZSwgaW5uZXJOb2RlLnBhcmVudE5vZGUpO1xuICAgIH0gZWxzZSBpZiAob3V0ZXJOb2RlLmNvbnRhaW5zKSB7XG4gICAgICByZXR1cm4gb3V0ZXJOb2RlLmNvbnRhaW5zKGlubmVyTm9kZSk7XG4gICAgfSBlbHNlIGlmIChvdXRlck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24pIHtcbiAgICAgIHJldHVybiAhIShvdXRlck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oaW5uZXJOb2RlKSAmIDE2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGNvbnRhaW5zTm9kZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxZFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZnVuY3Rpb24gZm9jdXNOb2RlKG5vZGUpIHtcbiAgICB0cnkge1xuICAgICAgbm9kZS5mb2N1cygpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBmb2N1c05vZGU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNjhcIiwgW1wiNmJcIiwgXCI2ZVwiLCBcIjFkXCIsIFwiNmZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBSZWFjdERPTVNlbGVjdGlvbiA9ICRfX3JlcXVpcmUoJzZiJyk7XG4gIHZhciBjb250YWluc05vZGUgPSAkX19yZXF1aXJlKCc2ZScpO1xuICB2YXIgZm9jdXNOb2RlID0gJF9fcmVxdWlyZSgnMWQnKTtcbiAgdmFyIGdldEFjdGl2ZUVsZW1lbnQgPSAkX19yZXF1aXJlKCc2ZicpO1xuICBmdW5jdGlvbiBpc0luRG9jdW1lbnQobm9kZSkge1xuICAgIHJldHVybiBjb250YWluc05vZGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBub2RlKTtcbiAgfVxuICB2YXIgUmVhY3RJbnB1dFNlbGVjdGlvbiA9IHtcbiAgICBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXM6IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgIHZhciBub2RlTmFtZSA9IGVsZW0gJiYgZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gbm9kZU5hbWUgJiYgKG5vZGVOYW1lID09PSAnaW5wdXQnICYmIGVsZW0udHlwZSA9PT0gJ3RleHQnIHx8IG5vZGVOYW1lID09PSAndGV4dGFyZWEnIHx8IGVsZW0uY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScpO1xuICAgIH0sXG4gICAgZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGZvY3VzZWRFbGVtID0gZ2V0QWN0aXZlRWxlbWVudCgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZm9jdXNlZEVsZW06IGZvY3VzZWRFbGVtLFxuICAgICAgICBzZWxlY3Rpb25SYW5nZTogUmVhY3RJbnB1dFNlbGVjdGlvbi5oYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMoZm9jdXNlZEVsZW0pID8gUmVhY3RJbnB1dFNlbGVjdGlvbi5nZXRTZWxlY3Rpb24oZm9jdXNlZEVsZW0pIDogbnVsbFxuICAgICAgfTtcbiAgICB9LFxuICAgIHJlc3RvcmVTZWxlY3Rpb246IGZ1bmN0aW9uKHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24pIHtcbiAgICAgIHZhciBjdXJGb2N1c2VkRWxlbSA9IGdldEFjdGl2ZUVsZW1lbnQoKTtcbiAgICAgIHZhciBwcmlvckZvY3VzZWRFbGVtID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5mb2N1c2VkRWxlbTtcbiAgICAgIHZhciBwcmlvclNlbGVjdGlvblJhbmdlID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5zZWxlY3Rpb25SYW5nZTtcbiAgICAgIGlmIChjdXJGb2N1c2VkRWxlbSAhPT0gcHJpb3JGb2N1c2VkRWxlbSAmJiBpc0luRG9jdW1lbnQocHJpb3JGb2N1c2VkRWxlbSkpIHtcbiAgICAgICAgaWYgKFJlYWN0SW5wdXRTZWxlY3Rpb24uaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKHByaW9yRm9jdXNlZEVsZW0pKSB7XG4gICAgICAgICAgUmVhY3RJbnB1dFNlbGVjdGlvbi5zZXRTZWxlY3Rpb24ocHJpb3JGb2N1c2VkRWxlbSwgcHJpb3JTZWxlY3Rpb25SYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9jdXNOb2RlKHByaW9yRm9jdXNlZEVsZW0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0U2VsZWN0aW9uOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgdmFyIHNlbGVjdGlvbjtcbiAgICAgIGlmICgnc2VsZWN0aW9uU3RhcnQnIGluIGlucHV0KSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IHtcbiAgICAgICAgICBzdGFydDogaW5wdXQuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgZW5kOiBpbnB1dC5zZWxlY3Rpb25FbmRcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uICYmIGlucHV0Lm5vZGVOYW1lICYmIGlucHV0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcpIHtcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgIGlmIChyYW5nZS5wYXJlbnRFbGVtZW50KCkgPT09IGlucHV0KSB7XG4gICAgICAgICAgc2VsZWN0aW9uID0ge1xuICAgICAgICAgICAgc3RhcnQ6IC1yYW5nZS5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIC1pbnB1dC52YWx1ZS5sZW5ndGgpLFxuICAgICAgICAgICAgZW5kOiAtcmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgLWlucHV0LnZhbHVlLmxlbmd0aClcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxlY3Rpb24gPSBSZWFjdERPTVNlbGVjdGlvbi5nZXRPZmZzZXRzKGlucHV0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWxlY3Rpb24gfHwge1xuICAgICAgICBzdGFydDogMCxcbiAgICAgICAgZW5kOiAwXG4gICAgICB9O1xuICAgIH0sXG4gICAgc2V0U2VsZWN0aW9uOiBmdW5jdGlvbihpbnB1dCwgb2Zmc2V0cykge1xuICAgICAgdmFyIHN0YXJ0ID0gb2Zmc2V0cy5zdGFydDtcbiAgICAgIHZhciBlbmQgPSBvZmZzZXRzLmVuZDtcbiAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgIH1cbiAgICAgIGlmICgnc2VsZWN0aW9uU3RhcnQnIGluIGlucHV0KSB7XG4gICAgICAgIGlucHV0LnNlbGVjdGlvblN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIGlucHV0LnNlbGVjdGlvbkVuZCA9IE1hdGgubWluKGVuZCwgaW5wdXQudmFsdWUubGVuZ3RoKTtcbiAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uICYmIGlucHV0Lm5vZGVOYW1lICYmIGlucHV0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcpIHtcbiAgICAgICAgdmFyIHJhbmdlID0gaW5wdXQuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICByYW5nZS5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIHN0YXJ0KTtcbiAgICAgICAgcmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgZW5kIC0gc3RhcnQpO1xuICAgICAgICByYW5nZS5zZWxlY3QoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFJlYWN0RE9NU2VsZWN0aW9uLnNldE9mZnNldHMoaW5wdXQsIG9mZnNldHMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdElucHV0U2VsZWN0aW9uO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjZmXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBmdW5jdGlvbiBnZXRBY3RpdmVFbGVtZW50KCkge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50IHx8IGRvY3VtZW50LmJvZHk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZ2V0QWN0aXZlRWxlbWVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxNVwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIHN1cHBvcnRlZElucHV0VHlwZXMgPSB7XG4gICAgJ2NvbG9yJzogdHJ1ZSxcbiAgICAnZGF0ZSc6IHRydWUsXG4gICAgJ2RhdGV0aW1lJzogdHJ1ZSxcbiAgICAnZGF0ZXRpbWUtbG9jYWwnOiB0cnVlLFxuICAgICdlbWFpbCc6IHRydWUsXG4gICAgJ21vbnRoJzogdHJ1ZSxcbiAgICAnbnVtYmVyJzogdHJ1ZSxcbiAgICAncGFzc3dvcmQnOiB0cnVlLFxuICAgICdyYW5nZSc6IHRydWUsXG4gICAgJ3NlYXJjaCc6IHRydWUsXG4gICAgJ3RlbCc6IHRydWUsXG4gICAgJ3RleHQnOiB0cnVlLFxuICAgICd0aW1lJzogdHJ1ZSxcbiAgICAndXJsJzogdHJ1ZSxcbiAgICAnd2Vlayc6IHRydWVcbiAgfTtcbiAgZnVuY3Rpb24gaXNUZXh0SW5wdXRFbGVtZW50KGVsZW0pIHtcbiAgICB2YXIgbm9kZU5hbWUgPSBlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBub2RlTmFtZSAmJiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgc3VwcG9ydGVkSW5wdXRUeXBlc1tlbGVtLnR5cGVdIHx8IG5vZGVOYW1lID09PSAndGV4dGFyZWEnKTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGlzVGV4dElucHV0RWxlbWVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI1MVwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgZnVuY3Rpb24gaXMoeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gICAgaWYgKGlzKG9iakEsIG9iakIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmpBICE9PSAnb2JqZWN0JyB8fCBvYmpBID09PSBudWxsIHx8IHR5cGVvZiBvYmpCICE9PSAnb2JqZWN0JyB8fCBvYmpCID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuICAgIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuICAgIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXNBLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwob2JqQiwga2V5c0FbaV0pIHx8ICFpcyhvYmpBW2tleXNBW2ldXSwgb2JqQltrZXlzQVtpXV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBzaGFsbG93RXF1YWw7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNzBcIiwgW1wiYlwiLCBcImNcIiwgXCJkXCIsIFwiMTFcIiwgXCI2OFwiLCBcIjhcIiwgXCI2ZlwiLCBcIjE1XCIsIFwiZVwiLCBcIjUxXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgRXZlbnRDb25zdGFudHMgPSAkX19yZXF1aXJlKCdiJyk7XG4gIHZhciBFdmVudFByb3BhZ2F0b3JzID0gJF9fcmVxdWlyZSgnYycpO1xuICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSAkX19yZXF1aXJlKCdkJyk7XG4gIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSAkX19yZXF1aXJlKCcxMScpO1xuICB2YXIgUmVhY3RJbnB1dFNlbGVjdGlvbiA9ICRfX3JlcXVpcmUoJzY4Jyk7XG4gIHZhciBTeW50aGV0aWNFdmVudCA9ICRfX3JlcXVpcmUoJzgnKTtcbiAgdmFyIGdldEFjdGl2ZUVsZW1lbnQgPSAkX19yZXF1aXJlKCc2ZicpO1xuICB2YXIgaXNUZXh0SW5wdXRFbGVtZW50ID0gJF9fcmVxdWlyZSgnMTUnKTtcbiAgdmFyIGtleU9mID0gJF9fcmVxdWlyZSgnZScpO1xuICB2YXIgc2hhbGxvd0VxdWFsID0gJF9fcmVxdWlyZSgnNTEnKTtcbiAgdmFyIHRvcExldmVsVHlwZXMgPSBFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzO1xuICB2YXIgc2tpcFNlbGVjdGlvbkNoYW5nZUV2ZW50ID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICdkb2N1bWVudE1vZGUnIGluIGRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50TW9kZSA8PSAxMTtcbiAgdmFyIGV2ZW50VHlwZXMgPSB7c2VsZWN0OiB7XG4gICAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25TZWxlY3Q6IG51bGx9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblNlbGVjdENhcHR1cmU6IG51bGx9KVxuICAgICAgfSxcbiAgICAgIGRlcGVuZGVuY2llczogW3RvcExldmVsVHlwZXMudG9wQmx1ciwgdG9wTGV2ZWxUeXBlcy50b3BDb250ZXh0TWVudSwgdG9wTGV2ZWxUeXBlcy50b3BGb2N1cywgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duLCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93biwgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZVVwLCB0b3BMZXZlbFR5cGVzLnRvcFNlbGVjdGlvbkNoYW5nZV1cbiAgICB9fTtcbiAgdmFyIGFjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICB2YXIgYWN0aXZlRWxlbWVudEluc3QgPSBudWxsO1xuICB2YXIgbGFzdFNlbGVjdGlvbiA9IG51bGw7XG4gIHZhciBtb3VzZURvd24gPSBmYWxzZTtcbiAgdmFyIGhhc0xpc3RlbmVyID0gZmFsc2U7XG4gIHZhciBPTl9TRUxFQ1RfS0VZID0ga2V5T2Yoe29uU2VsZWN0OiBudWxsfSk7XG4gIGZ1bmN0aW9uIGdldFNlbGVjdGlvbihub2RlKSB7XG4gICAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gbm9kZSAmJiBSZWFjdElucHV0U2VsZWN0aW9uLmhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhub2RlKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IG5vZGUuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgIGVuZDogbm9kZS5zZWxlY3Rpb25FbmRcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYW5jaG9yTm9kZTogc2VsZWN0aW9uLmFuY2hvck5vZGUsXG4gICAgICAgIGFuY2hvck9mZnNldDogc2VsZWN0aW9uLmFuY2hvck9mZnNldCxcbiAgICAgICAgZm9jdXNOb2RlOiBzZWxlY3Rpb24uZm9jdXNOb2RlLFxuICAgICAgICBmb2N1c09mZnNldDogc2VsZWN0aW9uLmZvY3VzT2Zmc2V0XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhcmVudEVsZW1lbnQ6IHJhbmdlLnBhcmVudEVsZW1lbnQoKSxcbiAgICAgICAgdGV4dDogcmFuZ2UudGV4dCxcbiAgICAgICAgdG9wOiByYW5nZS5ib3VuZGluZ1RvcCxcbiAgICAgICAgbGVmdDogcmFuZ2UuYm91bmRpbmdMZWZ0XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjb25zdHJ1Y3RTZWxlY3RFdmVudChuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICBpZiAobW91c2VEb3duIHx8IGFjdGl2ZUVsZW1lbnQgPT0gbnVsbCB8fCBhY3RpdmVFbGVtZW50ICE9PSBnZXRBY3RpdmVFbGVtZW50KCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgY3VycmVudFNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbihhY3RpdmVFbGVtZW50KTtcbiAgICBpZiAoIWxhc3RTZWxlY3Rpb24gfHwgIXNoYWxsb3dFcXVhbChsYXN0U2VsZWN0aW9uLCBjdXJyZW50U2VsZWN0aW9uKSkge1xuICAgICAgbGFzdFNlbGVjdGlvbiA9IGN1cnJlbnRTZWxlY3Rpb247XG4gICAgICB2YXIgc3ludGhldGljRXZlbnQgPSBTeW50aGV0aWNFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5zZWxlY3QsIGFjdGl2ZUVsZW1lbnRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgc3ludGhldGljRXZlbnQudHlwZSA9ICdzZWxlY3QnO1xuICAgICAgc3ludGhldGljRXZlbnQudGFyZ2V0ID0gYWN0aXZlRWxlbWVudDtcbiAgICAgIEV2ZW50UHJvcGFnYXRvcnMuYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhzeW50aGV0aWNFdmVudCk7XG4gICAgICByZXR1cm4gc3ludGhldGljRXZlbnQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBTZWxlY3RFdmVudFBsdWdpbiA9IHtcbiAgICBldmVudFR5cGVzOiBldmVudFR5cGVzLFxuICAgIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgICBpZiAoIWhhc0xpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdmFyIHRhcmdldE5vZGUgPSB0YXJnZXRJbnN0ID8gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UodGFyZ2V0SW5zdCkgOiB3aW5kb3c7XG4gICAgICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRm9jdXM6XG4gICAgICAgICAgaWYgKGlzVGV4dElucHV0RWxlbWVudCh0YXJnZXROb2RlKSB8fCB0YXJnZXROb2RlLmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgICAgICAgICAgIGxhc3RTZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEJsdXI6XG4gICAgICAgICAgYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgYWN0aXZlRWxlbWVudEluc3QgPSBudWxsO1xuICAgICAgICAgIGxhc3RTZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duOlxuICAgICAgICAgIG1vdXNlRG93biA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDb250ZXh0TWVudTpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlVXA6XG4gICAgICAgICAgbW91c2VEb3duID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdFNlbGVjdEV2ZW50KG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BTZWxlY3Rpb25DaGFuZ2U6XG4gICAgICAgICAgaWYgKHNraXBTZWxlY3Rpb25DaGFuZ2VFdmVudCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wS2V5RG93bjpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVVwOlxuICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RTZWxlY3RFdmVudChuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBkaWRQdXRMaXN0ZW5lcjogZnVuY3Rpb24oaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSwgbGlzdGVuZXIpIHtcbiAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lID09PSBPTl9TRUxFQ1RfS0VZKSB7XG4gICAgICAgIGhhc0xpc3RlbmVyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gU2VsZWN0RXZlbnRQbHVnaW47XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNjBcIiwgW1wiNDhcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgZW1wdHlGdW5jdGlvbiA9ICRfX3JlcXVpcmUoJzQ4Jyk7XG4gICAgdmFyIEV2ZW50TGlzdGVuZXIgPSB7XG4gICAgICBsaXN0ZW46IGZ1bmN0aW9uKHRhcmdldCwgZXZlbnRUeXBlLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrLCBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuIHtyZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrLCBmYWxzZSk7XG4gICAgICAgICAgICB9fTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgICB0YXJnZXQuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50VHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgIHJldHVybiB7cmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0LmRldGFjaEV2ZW50KCdvbicgKyBldmVudFR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH19O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FwdHVyZTogZnVuY3Rpb24odGFyZ2V0LCBldmVudFR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2ssIHRydWUpO1xuICAgICAgICAgIHJldHVybiB7cmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgICAgICB9fTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQXR0ZW1wdGVkIHRvIGxpc3RlbiB0byBldmVudHMgZHVyaW5nIHRoZSBjYXB0dXJlIHBoYXNlIG9uIGEgJyArICdicm93c2VyIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCB0aGUgY2FwdHVyZSBwaGFzZS4gWW91ciBhcHBsaWNhdGlvbiAnICsgJ3dpbGwgbm90IHJlY2VpdmUgc29tZSBldmVudHMuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7cmVtb3ZlOiBlbXB0eUZ1bmN0aW9ufTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlZ2lzdGVyRGVmYXVsdDogZnVuY3Rpb24oKSB7fVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudExpc3RlbmVyO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJjXCIsIFtcImJcIiwgXCIxMFwiLCBcIjYyXCIsIFwiNzFcIiwgXCI3MlwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEV2ZW50Q29uc3RhbnRzID0gJF9fcmVxdWlyZSgnYicpO1xuICAgIHZhciBFdmVudFBsdWdpbkh1YiA9ICRfX3JlcXVpcmUoJzEwJyk7XG4gICAgdmFyIEV2ZW50UGx1Z2luVXRpbHMgPSAkX19yZXF1aXJlKCc2MicpO1xuICAgIHZhciBhY2N1bXVsYXRlSW50byA9ICRfX3JlcXVpcmUoJzcxJyk7XG4gICAgdmFyIGZvckVhY2hBY2N1bXVsYXRlZCA9ICRfX3JlcXVpcmUoJzcyJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciBQcm9wYWdhdGlvblBoYXNlcyA9IEV2ZW50Q29uc3RhbnRzLlByb3BhZ2F0aW9uUGhhc2VzO1xuICAgIHZhciBnZXRMaXN0ZW5lciA9IEV2ZW50UGx1Z2luSHViLmdldExpc3RlbmVyO1xuICAgIGZ1bmN0aW9uIGxpc3RlbmVyQXRQaGFzZShpbnN0LCBldmVudCwgcHJvcGFnYXRpb25QaGFzZSkge1xuICAgICAgdmFyIHJlZ2lzdHJhdGlvbk5hbWUgPSBldmVudC5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lc1twcm9wYWdhdGlvblBoYXNlXTtcbiAgICAgIHJldHVybiBnZXRMaXN0ZW5lcihpbnN0LCByZWdpc3RyYXRpb25OYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWNjdW11bGF0ZURpcmVjdGlvbmFsRGlzcGF0Y2hlcyhpbnN0LCB1cHdhcmRzLCBldmVudCkge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoaW5zdCwgJ0Rpc3BhdGNoaW5nIGluc3QgbXVzdCBub3QgYmUgbnVsbCcpIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgdmFyIHBoYXNlID0gdXB3YXJkcyA/IFByb3BhZ2F0aW9uUGhhc2VzLmJ1YmJsZWQgOiBQcm9wYWdhdGlvblBoYXNlcy5jYXB0dXJlZDtcbiAgICAgIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyQXRQaGFzZShpbnN0LCBldmVudCwgcGhhc2UpO1xuICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycywgbGlzdGVuZXIpO1xuICAgICAgICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBhY2N1bXVsYXRlSW50byhldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMsIGluc3QpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgICAgRXZlbnRQbHVnaW5VdGlscy50cmF2ZXJzZVR3b1BoYXNlKGV2ZW50Ll90YXJnZXRJbnN0LCBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzLCBldmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGVTa2lwVGFyZ2V0KGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgICAgdmFyIHRhcmdldEluc3QgPSBldmVudC5fdGFyZ2V0SW5zdDtcbiAgICAgICAgdmFyIHBhcmVudEluc3QgPSB0YXJnZXRJbnN0ID8gRXZlbnRQbHVnaW5VdGlscy5nZXRQYXJlbnRJbnN0YW5jZSh0YXJnZXRJbnN0KSA6IG51bGw7XG4gICAgICAgIEV2ZW50UGx1Z2luVXRpbHMudHJhdmVyc2VUd29QaGFzZShwYXJlbnRJbnN0LCBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzLCBldmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVEaXNwYXRjaGVzKGluc3QsIGlnbm9yZWREaXJlY3Rpb24sIGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uTmFtZSA9IGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWU7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IGdldExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpO1xuICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBhY2N1bXVsYXRlSW50byhldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMsIGxpc3RlbmVyKTtcbiAgICAgICAgICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBhY2N1bXVsYXRlSW50byhldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMsIGluc3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgICBhY2N1bXVsYXRlRGlzcGF0Y2hlcyhldmVudC5fdGFyZ2V0SW5zdCwgbnVsbCwgZXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50cykge1xuICAgICAgZm9yRWFjaEFjY3VtdWxhdGVkKGV2ZW50cywgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTa2lwVGFyZ2V0KGV2ZW50cykge1xuICAgICAgZm9yRWFjaEFjY3VtdWxhdGVkKGV2ZW50cywgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZVNraXBUYXJnZXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXMobGVhdmUsIGVudGVyLCBmcm9tLCB0bykge1xuICAgICAgRXZlbnRQbHVnaW5VdGlscy50cmF2ZXJzZUVudGVyTGVhdmUoZnJvbSwgdG8sIGFjY3VtdWxhdGVEaXNwYXRjaGVzLCBsZWF2ZSwgZW50ZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyhldmVudHMpIHtcbiAgICAgIGZvckVhY2hBY2N1bXVsYXRlZChldmVudHMsIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlKTtcbiAgICB9XG4gICAgdmFyIEV2ZW50UHJvcGFnYXRvcnMgPSB7XG4gICAgICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzOiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzLFxuICAgICAgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQ6IGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTa2lwVGFyZ2V0LFxuICAgICAgYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXM6IGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzLFxuICAgICAgYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzOiBhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXNcbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gRXZlbnRQcm9wYWdhdG9ycztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNzNcIiwgW1wiOFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFN5bnRoZXRpY0V2ZW50ID0gJF9fcmVxdWlyZSgnOCcpO1xuICB2YXIgQW5pbWF0aW9uRXZlbnRJbnRlcmZhY2UgPSB7XG4gICAgYW5pbWF0aW9uTmFtZTogbnVsbCxcbiAgICBlbGFwc2VkVGltZTogbnVsbCxcbiAgICBwc2V1ZG9FbGVtZW50OiBudWxsXG4gIH07XG4gIGZ1bmN0aW9uIFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgcmV0dXJuIFN5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICB9XG4gIFN5bnRoZXRpY0V2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNBbmltYXRpb25FdmVudCwgQW5pbWF0aW9uRXZlbnRJbnRlcmZhY2UpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjc0XCIsIFtcIjhcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBTeW50aGV0aWNFdmVudCA9ICRfX3JlcXVpcmUoJzgnKTtcbiAgdmFyIENsaXBib2FyZEV2ZW50SW50ZXJmYWNlID0ge2NsaXBib2FyZERhdGE6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICByZXR1cm4gJ2NsaXBib2FyZERhdGEnIGluIGV2ZW50ID8gZXZlbnQuY2xpcGJvYXJkRGF0YSA6IHdpbmRvdy5jbGlwYm9hcmREYXRhO1xuICAgIH19O1xuICBmdW5jdGlvbiBTeW50aGV0aWNDbGlwYm9hcmRFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHJldHVybiBTeW50aGV0aWNFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgfVxuICBTeW50aGV0aWNFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljQ2xpcGJvYXJkRXZlbnQsIENsaXBib2FyZEV2ZW50SW50ZXJmYWNlKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNDbGlwYm9hcmRFdmVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI3NVwiLCBbXCI3NlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFN5bnRoZXRpY1VJRXZlbnQgPSAkX19yZXF1aXJlKCc3NicpO1xuICB2YXIgRm9jdXNFdmVudEludGVyZmFjZSA9IHtyZWxhdGVkVGFyZ2V0OiBudWxsfTtcbiAgZnVuY3Rpb24gU3ludGhldGljRm9jdXNFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHJldHVybiBTeW50aGV0aWNVSUV2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICB9XG4gIFN5bnRoZXRpY1VJRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY0ZvY3VzRXZlbnQsIEZvY3VzRXZlbnRJbnRlcmZhY2UpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0ZvY3VzRXZlbnQ7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNzdcIiwgW1wiNzhcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBnZXRFdmVudENoYXJDb2RlID0gJF9fcmVxdWlyZSgnNzgnKTtcbiAgdmFyIG5vcm1hbGl6ZUtleSA9IHtcbiAgICAnRXNjJzogJ0VzY2FwZScsXG4gICAgJ1NwYWNlYmFyJzogJyAnLFxuICAgICdMZWZ0JzogJ0Fycm93TGVmdCcsXG4gICAgJ1VwJzogJ0Fycm93VXAnLFxuICAgICdSaWdodCc6ICdBcnJvd1JpZ2h0JyxcbiAgICAnRG93bic6ICdBcnJvd0Rvd24nLFxuICAgICdEZWwnOiAnRGVsZXRlJyxcbiAgICAnV2luJzogJ09TJyxcbiAgICAnTWVudSc6ICdDb250ZXh0TWVudScsXG4gICAgJ0FwcHMnOiAnQ29udGV4dE1lbnUnLFxuICAgICdTY3JvbGwnOiAnU2Nyb2xsTG9jaycsXG4gICAgJ01velByaW50YWJsZUtleSc6ICdVbmlkZW50aWZpZWQnXG4gIH07XG4gIHZhciB0cmFuc2xhdGVUb0tleSA9IHtcbiAgICA4OiAnQmFja3NwYWNlJyxcbiAgICA5OiAnVGFiJyxcbiAgICAxMjogJ0NsZWFyJyxcbiAgICAxMzogJ0VudGVyJyxcbiAgICAxNjogJ1NoaWZ0JyxcbiAgICAxNzogJ0NvbnRyb2wnLFxuICAgIDE4OiAnQWx0JyxcbiAgICAxOTogJ1BhdXNlJyxcbiAgICAyMDogJ0NhcHNMb2NrJyxcbiAgICAyNzogJ0VzY2FwZScsXG4gICAgMzI6ICcgJyxcbiAgICAzMzogJ1BhZ2VVcCcsXG4gICAgMzQ6ICdQYWdlRG93bicsXG4gICAgMzU6ICdFbmQnLFxuICAgIDM2OiAnSG9tZScsXG4gICAgMzc6ICdBcnJvd0xlZnQnLFxuICAgIDM4OiAnQXJyb3dVcCcsXG4gICAgMzk6ICdBcnJvd1JpZ2h0JyxcbiAgICA0MDogJ0Fycm93RG93bicsXG4gICAgNDU6ICdJbnNlcnQnLFxuICAgIDQ2OiAnRGVsZXRlJyxcbiAgICAxMTI6ICdGMScsXG4gICAgMTEzOiAnRjInLFxuICAgIDExNDogJ0YzJyxcbiAgICAxMTU6ICdGNCcsXG4gICAgMTE2OiAnRjUnLFxuICAgIDExNzogJ0Y2JyxcbiAgICAxMTg6ICdGNycsXG4gICAgMTE5OiAnRjgnLFxuICAgIDEyMDogJ0Y5JyxcbiAgICAxMjE6ICdGMTAnLFxuICAgIDEyMjogJ0YxMScsXG4gICAgMTIzOiAnRjEyJyxcbiAgICAxNDQ6ICdOdW1Mb2NrJyxcbiAgICAxNDU6ICdTY3JvbGxMb2NrJyxcbiAgICAyMjQ6ICdNZXRhJ1xuICB9O1xuICBmdW5jdGlvbiBnZXRFdmVudEtleShuYXRpdmVFdmVudCkge1xuICAgIGlmIChuYXRpdmVFdmVudC5rZXkpIHtcbiAgICAgIHZhciBrZXkgPSBub3JtYWxpemVLZXlbbmF0aXZlRXZlbnQua2V5XSB8fCBuYXRpdmVFdmVudC5rZXk7XG4gICAgICBpZiAoa2V5ICE9PSAnVW5pZGVudGlmaWVkJykge1xuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobmF0aXZlRXZlbnQudHlwZSA9PT0gJ2tleXByZXNzJykge1xuICAgICAgdmFyIGNoYXJDb2RlID0gZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCk7XG4gICAgICByZXR1cm4gY2hhckNvZGUgPT09IDEzID8gJ0VudGVyJyA6IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpO1xuICAgIH1cbiAgICBpZiAobmF0aXZlRXZlbnQudHlwZSA9PT0gJ2tleWRvd24nIHx8IG5hdGl2ZUV2ZW50LnR5cGUgPT09ICdrZXl1cCcpIHtcbiAgICAgIHJldHVybiB0cmFuc2xhdGVUb0tleVtuYXRpdmVFdmVudC5rZXlDb2RlXSB8fCAnVW5pZGVudGlmaWVkJztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZ2V0RXZlbnRLZXk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNzlcIiwgW1wiNzZcIiwgXCI3OFwiLCBcIjc3XCIsIFwiN2FcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBTeW50aGV0aWNVSUV2ZW50ID0gJF9fcmVxdWlyZSgnNzYnKTtcbiAgdmFyIGdldEV2ZW50Q2hhckNvZGUgPSAkX19yZXF1aXJlKCc3OCcpO1xuICB2YXIgZ2V0RXZlbnRLZXkgPSAkX19yZXF1aXJlKCc3NycpO1xuICB2YXIgZ2V0RXZlbnRNb2RpZmllclN0YXRlID0gJF9fcmVxdWlyZSgnN2EnKTtcbiAgdmFyIEtleWJvYXJkRXZlbnRJbnRlcmZhY2UgPSB7XG4gICAga2V5OiBnZXRFdmVudEtleSxcbiAgICBsb2NhdGlvbjogbnVsbCxcbiAgICBjdHJsS2V5OiBudWxsLFxuICAgIHNoaWZ0S2V5OiBudWxsLFxuICAgIGFsdEtleTogbnVsbCxcbiAgICBtZXRhS2V5OiBudWxsLFxuICAgIHJlcGVhdDogbnVsbCxcbiAgICBsb2NhbGU6IG51bGwsXG4gICAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlLFxuICAgIGNoYXJDb2RlOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICAgICAgcmV0dXJuIGdldEV2ZW50Q2hhckNvZGUoZXZlbnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgICBrZXlDb2RlOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJyB8fCBldmVudC50eXBlID09PSAna2V5dXAnKSB7XG4gICAgICAgIHJldHVybiBldmVudC5rZXlDb2RlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgICB3aGljaDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50eXBlID09PSAna2V5cHJlc3MnKSB7XG4gICAgICAgIHJldHVybiBnZXRFdmVudENoYXJDb2RlKGV2ZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChldmVudC50eXBlID09PSAna2V5ZG93bicgfHwgZXZlbnQudHlwZSA9PT0gJ2tleXVwJykge1xuICAgICAgICByZXR1cm4gZXZlbnQua2V5Q29kZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gU3ludGhldGljS2V5Ym9hcmRFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHJldHVybiBTeW50aGV0aWNVSUV2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICB9XG4gIFN5bnRoZXRpY1VJRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY0tleWJvYXJkRXZlbnQsIEtleWJvYXJkRXZlbnRJbnRlcmZhY2UpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0tleWJvYXJkRXZlbnQ7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiN2JcIiwgW1wiMTlcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gJF9fcmVxdWlyZSgnMTknKTtcbiAgdmFyIERyYWdFdmVudEludGVyZmFjZSA9IHtkYXRhVHJhbnNmZXI6IG51bGx9O1xuICBmdW5jdGlvbiBTeW50aGV0aWNEcmFnRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICByZXR1cm4gU3ludGhldGljTW91c2VFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgfVxuICBTeW50aGV0aWNNb3VzZUV2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNEcmFnRXZlbnQsIERyYWdFdmVudEludGVyZmFjZSk7XG4gIG1vZHVsZS5leHBvcnRzID0gU3ludGhldGljRHJhZ0V2ZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjdjXCIsIFtcIjc2XCIsIFwiN2FcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBTeW50aGV0aWNVSUV2ZW50ID0gJF9fcmVxdWlyZSgnNzYnKTtcbiAgdmFyIGdldEV2ZW50TW9kaWZpZXJTdGF0ZSA9ICRfX3JlcXVpcmUoJzdhJyk7XG4gIHZhciBUb3VjaEV2ZW50SW50ZXJmYWNlID0ge1xuICAgIHRvdWNoZXM6IG51bGwsXG4gICAgdGFyZ2V0VG91Y2hlczogbnVsbCxcbiAgICBjaGFuZ2VkVG91Y2hlczogbnVsbCxcbiAgICBhbHRLZXk6IG51bGwsXG4gICAgbWV0YUtleTogbnVsbCxcbiAgICBjdHJsS2V5OiBudWxsLFxuICAgIHNoaWZ0S2V5OiBudWxsLFxuICAgIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZVxuICB9O1xuICBmdW5jdGlvbiBTeW50aGV0aWNUb3VjaEV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgcmV0dXJuIFN5bnRoZXRpY1VJRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gIH1cbiAgU3ludGhldGljVUlFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljVG91Y2hFdmVudCwgVG91Y2hFdmVudEludGVyZmFjZSk7XG4gIG1vZHVsZS5leHBvcnRzID0gU3ludGhldGljVG91Y2hFdmVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI3ZFwiLCBbXCI4XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgU3ludGhldGljRXZlbnQgPSAkX19yZXF1aXJlKCc4Jyk7XG4gIHZhciBUcmFuc2l0aW9uRXZlbnRJbnRlcmZhY2UgPSB7XG4gICAgcHJvcGVydHlOYW1lOiBudWxsLFxuICAgIGVsYXBzZWRUaW1lOiBudWxsLFxuICAgIHBzZXVkb0VsZW1lbnQ6IG51bGxcbiAgfTtcbiAgZnVuY3Rpb24gU3ludGhldGljVHJhbnNpdGlvbkV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgcmV0dXJuIFN5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICB9XG4gIFN5bnRoZXRpY0V2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQsIFRyYW5zaXRpb25FdmVudEludGVyZmFjZSk7XG4gIG1vZHVsZS5leHBvcnRzID0gU3ludGhldGljVHJhbnNpdGlvbkV2ZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjhcIiwgW1wiNlwiLCBcIjRcIiwgXCI0OFwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIFBvb2xlZENsYXNzID0gJF9fcmVxdWlyZSgnNCcpO1xuICAgIHZhciBlbXB0eUZ1bmN0aW9uID0gJF9fcmVxdWlyZSgnNDgnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIGRpZFdhcm5Gb3JBZGRlZE5ld1Byb3BlcnR5ID0gZmFsc2U7XG4gICAgdmFyIGlzUHJveHlTdXBwb3J0ZWQgPSB0eXBlb2YgUHJveHkgPT09ICdmdW5jdGlvbic7XG4gICAgdmFyIHNob3VsZEJlUmVsZWFzZWRQcm9wZXJ0aWVzID0gWydkaXNwYXRjaENvbmZpZycsICdfdGFyZ2V0SW5zdCcsICduYXRpdmVFdmVudCcsICdpc0RlZmF1bHRQcmV2ZW50ZWQnLCAnaXNQcm9wYWdhdGlvblN0b3BwZWQnLCAnX2Rpc3BhdGNoTGlzdGVuZXJzJywgJ19kaXNwYXRjaEluc3RhbmNlcyddO1xuICAgIHZhciBFdmVudEludGVyZmFjZSA9IHtcbiAgICAgIHR5cGU6IG51bGwsXG4gICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICBjdXJyZW50VGFyZ2V0OiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCxcbiAgICAgIGV2ZW50UGhhc2U6IG51bGwsXG4gICAgICBidWJibGVzOiBudWxsLFxuICAgICAgY2FuY2VsYWJsZTogbnVsbCxcbiAgICAgIHRpbWVTdGFtcDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpO1xuICAgICAgfSxcbiAgICAgIGRlZmF1bHRQcmV2ZW50ZWQ6IG51bGwsXG4gICAgICBpc1RydXN0ZWQ6IG51bGxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIFN5bnRoZXRpY0V2ZW50KGRpc3BhdGNoQ29uZmlnLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgICAgICBkZWxldGUgdGhpcy5wcmV2ZW50RGVmYXVsdDtcbiAgICAgICAgZGVsZXRlIHRoaXMuc3RvcFByb3BhZ2F0aW9uO1xuICAgICAgfVxuICAgICAgdGhpcy5kaXNwYXRjaENvbmZpZyA9IGRpc3BhdGNoQ29uZmlnO1xuICAgICAgdGhpcy5fdGFyZ2V0SW5zdCA9IHRhcmdldEluc3Q7XG4gICAgICB0aGlzLm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgICB2YXIgSW50ZXJmYWNlID0gdGhpcy5jb25zdHJ1Y3Rvci5JbnRlcmZhY2U7XG4gICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBJbnRlcmZhY2UpIHtcbiAgICAgICAgaWYgKCFJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBkZWxldGUgdGhpc1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vcm1hbGl6ZSA9IEludGVyZmFjZVtwcm9wTmFtZV07XG4gICAgICAgIGlmIChub3JtYWxpemUpIHtcbiAgICAgICAgICB0aGlzW3Byb3BOYW1lXSA9IG5vcm1hbGl6ZShuYXRpdmVFdmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHByb3BOYW1lID09PSAndGFyZ2V0Jykge1xuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBuYXRpdmVFdmVudFRhcmdldDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpc1twcm9wTmFtZV0gPSBuYXRpdmVFdmVudFtwcm9wTmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgZGVmYXVsdFByZXZlbnRlZCA9IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgIT0gbnVsbCA/IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgOiBuYXRpdmVFdmVudC5yZXR1cm5WYWx1ZSA9PT0gZmFsc2U7XG4gICAgICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIF9hc3NpZ24oU3ludGhldGljRXZlbnQucHJvdG90eXBlLCB7XG4gICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgIHZhciBldmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gICAgICB9LFxuICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gdGhpcy5uYXRpdmVFdmVudDtcbiAgICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gICAgICB9LFxuICAgICAgcGVyc2lzdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuaXNQZXJzaXN0ZW50ID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gICAgICB9LFxuICAgICAgaXNQZXJzaXN0ZW50OiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UsXG4gICAgICBkZXN0cnVjdG9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIEludGVyZmFjZSA9IHRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlO1xuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBJbnRlcmZhY2UpIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIHByb3BOYW1lLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKHByb3BOYW1lLCBJbnRlcmZhY2VbcHJvcE5hbWVdKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNbcHJvcE5hbWVdID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaG91bGRCZVJlbGVhc2VkUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXNbc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXNbaV1dID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhciBub29wID0gJF9fcmVxdWlyZSgnNDgnKTtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ25hdGl2ZUV2ZW50JywgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbignbmF0aXZlRXZlbnQnLCBudWxsKSk7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdwcmV2ZW50RGVmYXVsdCcsIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24oJ3ByZXZlbnREZWZhdWx0Jywgbm9vcCkpO1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnc3RvcFByb3BhZ2F0aW9uJywgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbignc3RvcFByb3BhZ2F0aW9uJywgbm9vcCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgU3ludGhldGljRXZlbnQuSW50ZXJmYWNlID0gRXZlbnRJbnRlcmZhY2U7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmIChpc1Byb3h5U3VwcG9ydGVkKSB7XG4gICAgICAgIFN5bnRoZXRpY0V2ZW50ID0gbmV3IFByb3h5KFN5bnRoZXRpY0V2ZW50LCB7XG4gICAgICAgICAgY29uc3RydWN0OiBmdW5jdGlvbih0YXJnZXQsIGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFwcGx5KHRhcmdldCwgT2JqZWN0LmNyZWF0ZSh0YXJnZXQucHJvdG90eXBlKSwgYXJncyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcHBseTogZnVuY3Rpb24oY29uc3RydWN0b3IsIHRoYXQsIGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkoY29uc3RydWN0b3IuYXBwbHkodGhhdCwgYXJncyksIHtzZXQ6IGZ1bmN0aW9uKHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcCAhPT0gJ2lzUGVyc2lzdGVudCcgJiYgIXRhcmdldC5jb25zdHJ1Y3Rvci5JbnRlcmZhY2UuaGFzT3duUHJvcGVydHkocHJvcCkgJiYgc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMuaW5kZXhPZihwcm9wKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGRpZFdhcm5Gb3JBZGRlZE5ld1Byb3BlcnR5IHx8IHRhcmdldC5pc1BlcnNpc3RlbnQoKSwgJ1RoaXMgc3ludGhldGljIGV2ZW50IGlzIHJldXNlZCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy4gSWYgeW91XFwncmUgJyArICdzZWVpbmcgdGhpcywgeW91XFwncmUgYWRkaW5nIGEgbmV3IHByb3BlcnR5IGluIHRoZSBzeW50aGV0aWMgZXZlbnQgb2JqZWN0LiAnICsgJ1RoZSBwcm9wZXJ0eSBpcyBuZXZlciByZWxlYXNlZC4gU2VlICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1ldmVudC1wb29saW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLicpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgZGlkV2FybkZvckFkZGVkTmV3UHJvcGVydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFN5bnRoZXRpY0V2ZW50LmF1Z21lbnRDbGFzcyA9IGZ1bmN0aW9uKENsYXNzLCBJbnRlcmZhY2UpIHtcbiAgICAgIHZhciBTdXBlciA9IHRoaXM7XG4gICAgICB2YXIgRSA9IGZ1bmN0aW9uKCkge307XG4gICAgICBFLnByb3RvdHlwZSA9IFN1cGVyLnByb3RvdHlwZTtcbiAgICAgIHZhciBwcm90b3R5cGUgPSBuZXcgRSgpO1xuICAgICAgX2Fzc2lnbihwcm90b3R5cGUsIENsYXNzLnByb3RvdHlwZSk7XG4gICAgICBDbGFzcy5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gICAgICBDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDbGFzcztcbiAgICAgIENsYXNzLkludGVyZmFjZSA9IF9hc3NpZ24oe30sIFN1cGVyLkludGVyZmFjZSwgSW50ZXJmYWNlKTtcbiAgICAgIENsYXNzLmF1Z21lbnRDbGFzcyA9IFN1cGVyLmF1Z21lbnRDbGFzcztcbiAgICAgIFBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhDbGFzcywgUG9vbGVkQ2xhc3MuZm91ckFyZ3VtZW50UG9vbGVyKTtcbiAgICB9O1xuICAgIFBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhTeW50aGV0aWNFdmVudCwgUG9vbGVkQ2xhc3MuZm91ckFyZ3VtZW50UG9vbGVyKTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0V2ZW50O1xuICAgIGZ1bmN0aW9uIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24ocHJvcE5hbWUsIGdldFZhbCkge1xuICAgICAgdmFyIGlzRnVuY3Rpb24gPSB0eXBlb2YgZ2V0VmFsID09PSAnZnVuY3Rpb24nO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBzZXQ6IHNldCxcbiAgICAgICAgZ2V0OiBnZXRcbiAgICAgIH07XG4gICAgICBmdW5jdGlvbiBzZXQodmFsKSB7XG4gICAgICAgIHZhciBhY3Rpb24gPSBpc0Z1bmN0aW9uID8gJ3NldHRpbmcgdGhlIG1ldGhvZCcgOiAnc2V0dGluZyB0aGUgcHJvcGVydHknO1xuICAgICAgICB3YXJuKGFjdGlvbiwgJ1RoaXMgaXMgZWZmZWN0aXZlbHkgYSBuby1vcCcpO1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICB2YXIgYWN0aW9uID0gaXNGdW5jdGlvbiA/ICdhY2Nlc3NpbmcgdGhlIG1ldGhvZCcgOiAnYWNjZXNzaW5nIHRoZSBwcm9wZXJ0eSc7XG4gICAgICAgIHZhciByZXN1bHQgPSBpc0Z1bmN0aW9uID8gJ1RoaXMgaXMgYSBuby1vcCBmdW5jdGlvbicgOiAnVGhpcyBpcyBzZXQgdG8gbnVsbCc7XG4gICAgICAgIHdhcm4oYWN0aW9uLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gZ2V0VmFsO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gd2FybihhY3Rpb24sIHJlc3VsdCkge1xuICAgICAgICB2YXIgd2FybmluZ0NvbmRpdGlvbiA9IGZhbHNlO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh3YXJuaW5nQ29uZGl0aW9uLCAnVGhpcyBzeW50aGV0aWMgZXZlbnQgaXMgcmV1c2VkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLiBJZiB5b3VcXCdyZSBzZWVpbmcgdGhpcywgJyArICd5b3VcXCdyZSAlcyBgJXNgIG9uIGEgcmVsZWFzZWQvbnVsbGlmaWVkIHN5bnRoZXRpYyBldmVudC4gJXMuICcgKyAnSWYgeW91IG11c3Qga2VlcCB0aGUgb3JpZ2luYWwgc3ludGhldGljIGV2ZW50IGFyb3VuZCwgdXNlIGV2ZW50LnBlcnNpc3QoKS4gJyArICdTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1ldmVudC1wb29saW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGFjdGlvbiwgcHJvcE5hbWUsIHJlc3VsdCkgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxM1wiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gbmF0aXZlRXZlbnQudGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LnNyY0VsZW1lbnQgfHwgd2luZG93O1xuICAgIGlmICh0YXJnZXQuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQpIHtcbiAgICAgIHRhcmdldCA9IHRhcmdldC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldC5ub2RlVHlwZSA9PT0gMyA/IHRhcmdldC5wYXJlbnROb2RlIDogdGFyZ2V0O1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZ2V0RXZlbnRUYXJnZXQ7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNzZcIiwgW1wiOFwiLCBcIjEzXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgU3ludGhldGljRXZlbnQgPSAkX19yZXF1aXJlKCc4Jyk7XG4gIHZhciBnZXRFdmVudFRhcmdldCA9ICRfX3JlcXVpcmUoJzEzJyk7XG4gIHZhciBVSUV2ZW50SW50ZXJmYWNlID0ge1xuICAgIHZpZXc6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudmlldykge1xuICAgICAgICByZXR1cm4gZXZlbnQudmlldztcbiAgICAgIH1cbiAgICAgIHZhciB0YXJnZXQgPSBnZXRFdmVudFRhcmdldChldmVudCk7XG4gICAgICBpZiAodGFyZ2V0ICE9IG51bGwgJiYgdGFyZ2V0LndpbmRvdyA9PT0gdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgICB2YXIgZG9jID0gdGFyZ2V0Lm93bmVyRG9jdW1lbnQ7XG4gICAgICBpZiAoZG9jKSB7XG4gICAgICAgIHJldHVybiBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgICB9XG4gICAgfSxcbiAgICBkZXRhaWw6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQuZGV0YWlsIHx8IDA7XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBTeW50aGV0aWNVSUV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgcmV0dXJuIFN5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICB9XG4gIFN5bnRoZXRpY0V2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNVSUV2ZW50LCBVSUV2ZW50SW50ZXJmYWNlKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNVSUV2ZW50O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjdhXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgbW9kaWZpZXJLZXlUb1Byb3AgPSB7XG4gICAgJ0FsdCc6ICdhbHRLZXknLFxuICAgICdDb250cm9sJzogJ2N0cmxLZXknLFxuICAgICdNZXRhJzogJ21ldGFLZXknLFxuICAgICdTaGlmdCc6ICdzaGlmdEtleSdcbiAgfTtcbiAgZnVuY3Rpb24gbW9kaWZpZXJTdGF0ZUdldHRlcihrZXlBcmcpIHtcbiAgICB2YXIgc3ludGhldGljRXZlbnQgPSB0aGlzO1xuICAgIHZhciBuYXRpdmVFdmVudCA9IHN5bnRoZXRpY0V2ZW50Lm5hdGl2ZUV2ZW50O1xuICAgIGlmIChuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlKSB7XG4gICAgICByZXR1cm4gbmF0aXZlRXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZShrZXlBcmcpO1xuICAgIH1cbiAgICB2YXIga2V5UHJvcCA9IG1vZGlmaWVyS2V5VG9Qcm9wW2tleUFyZ107XG4gICAgcmV0dXJuIGtleVByb3AgPyAhIW5hdGl2ZUV2ZW50W2tleVByb3BdIDogZmFsc2U7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0RXZlbnRNb2RpZmllclN0YXRlKG5hdGl2ZUV2ZW50KSB7XG4gICAgcmV0dXJuIG1vZGlmaWVyU3RhdGVHZXR0ZXI7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBnZXRFdmVudE1vZGlmaWVyU3RhdGU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTlcIiwgW1wiNzZcIiwgXCI3ZVwiLCBcIjdhXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgU3ludGhldGljVUlFdmVudCA9ICRfX3JlcXVpcmUoJzc2Jyk7XG4gIHZhciBWaWV3cG9ydE1ldHJpY3MgPSAkX19yZXF1aXJlKCc3ZScpO1xuICB2YXIgZ2V0RXZlbnRNb2RpZmllclN0YXRlID0gJF9fcmVxdWlyZSgnN2EnKTtcbiAgdmFyIE1vdXNlRXZlbnRJbnRlcmZhY2UgPSB7XG4gICAgc2NyZWVuWDogbnVsbCxcbiAgICBzY3JlZW5ZOiBudWxsLFxuICAgIGNsaWVudFg6IG51bGwsXG4gICAgY2xpZW50WTogbnVsbCxcbiAgICBjdHJsS2V5OiBudWxsLFxuICAgIHNoaWZ0S2V5OiBudWxsLFxuICAgIGFsdEtleTogbnVsbCxcbiAgICBtZXRhS2V5OiBudWxsLFxuICAgIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZSxcbiAgICBidXR0b246IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuICAgICAgaWYgKCd3aGljaCcgaW4gZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBidXR0b24gPT09IDIgPyAyIDogYnV0dG9uID09PSA0ID8gMSA6IDA7XG4gICAgfSxcbiAgICBidXR0b25zOiBudWxsLFxuICAgIHJlbGF0ZWRUYXJnZXQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQucmVsYXRlZFRhcmdldCB8fCAoZXZlbnQuZnJvbUVsZW1lbnQgPT09IGV2ZW50LnNyY0VsZW1lbnQgPyBldmVudC50b0VsZW1lbnQgOiBldmVudC5mcm9tRWxlbWVudCk7XG4gICAgfSxcbiAgICBwYWdlWDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHJldHVybiAncGFnZVgnIGluIGV2ZW50ID8gZXZlbnQucGFnZVggOiBldmVudC5jbGllbnRYICsgVmlld3BvcnRNZXRyaWNzLmN1cnJlbnRTY3JvbGxMZWZ0O1xuICAgIH0sXG4gICAgcGFnZVk6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICByZXR1cm4gJ3BhZ2VZJyBpbiBldmVudCA/IGV2ZW50LnBhZ2VZIDogZXZlbnQuY2xpZW50WSArIFZpZXdwb3J0TWV0cmljcy5jdXJyZW50U2Nyb2xsVG9wO1xuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gU3ludGhldGljTW91c2VFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHJldHVybiBTeW50aGV0aWNVSUV2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICB9XG4gIFN5bnRoZXRpY1VJRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY01vdXNlRXZlbnQsIE1vdXNlRXZlbnRJbnRlcmZhY2UpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY01vdXNlRXZlbnQ7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiN2ZcIiwgW1wiMTlcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gJF9fcmVxdWlyZSgnMTknKTtcbiAgdmFyIFdoZWVsRXZlbnRJbnRlcmZhY2UgPSB7XG4gICAgZGVsdGFYOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgcmV0dXJuICdkZWx0YVgnIGluIGV2ZW50ID8gZXZlbnQuZGVsdGFYIDogJ3doZWVsRGVsdGFYJyBpbiBldmVudCA/IC1ldmVudC53aGVlbERlbHRhWCA6IDA7XG4gICAgfSxcbiAgICBkZWx0YVk6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICByZXR1cm4gJ2RlbHRhWScgaW4gZXZlbnQgPyBldmVudC5kZWx0YVkgOiAnd2hlZWxEZWx0YVknIGluIGV2ZW50ID8gLWV2ZW50LndoZWVsRGVsdGFZIDogJ3doZWVsRGVsdGEnIGluIGV2ZW50ID8gLWV2ZW50LndoZWVsRGVsdGEgOiAwO1xuICAgIH0sXG4gICAgZGVsdGFaOiBudWxsLFxuICAgIGRlbHRhTW9kZTogbnVsbFxuICB9O1xuICBmdW5jdGlvbiBTeW50aGV0aWNXaGVlbEV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgcmV0dXJuIFN5bnRoZXRpY01vdXNlRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gIH1cbiAgU3ludGhldGljTW91c2VFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljV2hlZWxFdmVudCwgV2hlZWxFdmVudEludGVyZmFjZSk7XG4gIG1vZHVsZS5leHBvcnRzID0gU3ludGhldGljV2hlZWxFdmVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI3OFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZnVuY3Rpb24gZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkge1xuICAgIHZhciBjaGFyQ29kZTtcbiAgICB2YXIga2V5Q29kZSA9IG5hdGl2ZUV2ZW50LmtleUNvZGU7XG4gICAgaWYgKCdjaGFyQ29kZScgaW4gbmF0aXZlRXZlbnQpIHtcbiAgICAgIGNoYXJDb2RlID0gbmF0aXZlRXZlbnQuY2hhckNvZGU7XG4gICAgICBpZiAoY2hhckNvZGUgPT09IDAgJiYga2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgY2hhckNvZGUgPSAxMztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY2hhckNvZGUgPSBrZXlDb2RlO1xuICAgIH1cbiAgICBpZiAoY2hhckNvZGUgPj0gMzIgfHwgY2hhckNvZGUgPT09IDEzKSB7XG4gICAgICByZXR1cm4gY2hhckNvZGU7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZ2V0RXZlbnRDaGFyQ29kZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI4MFwiLCBbXCJiXCIsIFwiNjBcIiwgXCJjXCIsIFwiMTFcIiwgXCI3M1wiLCBcIjc0XCIsIFwiOFwiLCBcIjc1XCIsIFwiNzlcIiwgXCIxOVwiLCBcIjdiXCIsIFwiN2NcIiwgXCI3ZFwiLCBcIjc2XCIsIFwiN2ZcIiwgXCI0OFwiLCBcIjc4XCIsIFwiMzBcIiwgXCJlXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEV2ZW50Q29uc3RhbnRzID0gJF9fcmVxdWlyZSgnYicpO1xuICAgIHZhciBFdmVudExpc3RlbmVyID0gJF9fcmVxdWlyZSgnNjAnKTtcbiAgICB2YXIgRXZlbnRQcm9wYWdhdG9ycyA9ICRfX3JlcXVpcmUoJ2MnKTtcbiAgICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gJF9fcmVxdWlyZSgnMTEnKTtcbiAgICB2YXIgU3ludGhldGljQW5pbWF0aW9uRXZlbnQgPSAkX19yZXF1aXJlKCc3MycpO1xuICAgIHZhciBTeW50aGV0aWNDbGlwYm9hcmRFdmVudCA9ICRfX3JlcXVpcmUoJzc0Jyk7XG4gICAgdmFyIFN5bnRoZXRpY0V2ZW50ID0gJF9fcmVxdWlyZSgnOCcpO1xuICAgIHZhciBTeW50aGV0aWNGb2N1c0V2ZW50ID0gJF9fcmVxdWlyZSgnNzUnKTtcbiAgICB2YXIgU3ludGhldGljS2V5Ym9hcmRFdmVudCA9ICRfX3JlcXVpcmUoJzc5Jyk7XG4gICAgdmFyIFN5bnRoZXRpY01vdXNlRXZlbnQgPSAkX19yZXF1aXJlKCcxOScpO1xuICAgIHZhciBTeW50aGV0aWNEcmFnRXZlbnQgPSAkX19yZXF1aXJlKCc3YicpO1xuICAgIHZhciBTeW50aGV0aWNUb3VjaEV2ZW50ID0gJF9fcmVxdWlyZSgnN2MnKTtcbiAgICB2YXIgU3ludGhldGljVHJhbnNpdGlvbkV2ZW50ID0gJF9fcmVxdWlyZSgnN2QnKTtcbiAgICB2YXIgU3ludGhldGljVUlFdmVudCA9ICRfX3JlcXVpcmUoJzc2Jyk7XG4gICAgdmFyIFN5bnRoZXRpY1doZWVsRXZlbnQgPSAkX19yZXF1aXJlKCc3ZicpO1xuICAgIHZhciBlbXB0eUZ1bmN0aW9uID0gJF9fcmVxdWlyZSgnNDgnKTtcbiAgICB2YXIgZ2V0RXZlbnRDaGFyQ29kZSA9ICRfX3JlcXVpcmUoJzc4Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIGtleU9mID0gJF9fcmVxdWlyZSgnZScpO1xuICAgIHZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbiAgICB2YXIgZXZlbnRUeXBlcyA9IHtcbiAgICAgIGFib3J0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25BYm9ydDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25BYm9ydENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGFuaW1hdGlvbkVuZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQW5pbWF0aW9uRW5kOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkFuaW1hdGlvbkVuZENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGFuaW1hdGlvbkl0ZXJhdGlvbjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQW5pbWF0aW9uSXRlcmF0aW9uOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkFuaW1hdGlvbkl0ZXJhdGlvbkNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGFuaW1hdGlvblN0YXJ0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25BbmltYXRpb25TdGFydDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25BbmltYXRpb25TdGFydENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGJsdXI6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkJsdXI6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQmx1ckNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGNhblBsYXk6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNhblBsYXk6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQ2FuUGxheUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGNhblBsYXlUaHJvdWdoOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25DYW5QbGF5VGhyb3VnaDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25DYW5QbGF5VGhyb3VnaENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGNsaWNrOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25DbGljazogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25DbGlja0NhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGNvbnRleHRNZW51OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25Db250ZXh0TWVudTogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Db250ZXh0TWVudUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGNvcHk6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNvcHk6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQ29weUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGN1dDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ3V0OiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkN1dENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGRvdWJsZUNsaWNrOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25Eb3VibGVDbGljazogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Eb3VibGVDbGlja0NhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGRyYWc6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyYWc6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRHJhZ0NhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGRyYWdFbmQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyYWdFbmQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRHJhZ0VuZENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGRyYWdFbnRlcjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJhZ0VudGVyOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyYWdFbnRlckNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGRyYWdFeGl0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25EcmFnRXhpdDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25EcmFnRXhpdENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGRyYWdMZWF2ZToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJhZ0xlYXZlOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyYWdMZWF2ZUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGRyYWdPdmVyOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25EcmFnT3ZlcjogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25EcmFnT3ZlckNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGRyYWdTdGFydDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJhZ1N0YXJ0OiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyYWdTdGFydENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGRyb3A6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyb3A6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRHJvcENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGR1cmF0aW9uQ2hhbmdlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25EdXJhdGlvbkNoYW5nZTogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25EdXJhdGlvbkNoYW5nZUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGVtcHRpZWQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkVtcHRpZWQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRW1wdGllZENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGVuY3J5cHRlZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRW5jcnlwdGVkOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkVuY3J5cHRlZENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGVuZGVkOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25FbmRlZDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25FbmRlZENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGVycm9yOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25FcnJvcjogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25FcnJvckNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGZvY3VzOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25Gb2N1czogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Gb2N1c0NhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGlucHV0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25JbnB1dDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25JbnB1dENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGludmFsaWQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkludmFsaWQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uSW52YWxpZENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGtleURvd246IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbktleURvd246IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uS2V5RG93bkNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGtleVByZXNzOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25LZXlQcmVzczogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25LZXlQcmVzc0NhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGtleVVwOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25LZXlVcDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25LZXlVcENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGxvYWQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkxvYWQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTG9hZENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGxvYWRlZERhdGE6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkxvYWRlZERhdGE6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTG9hZGVkRGF0YUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGxvYWRlZE1ldGFkYXRhOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25Mb2FkZWRNZXRhZGF0YTogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Mb2FkZWRNZXRhZGF0YUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIGxvYWRTdGFydDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uTG9hZFN0YXJ0OiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkxvYWRTdGFydENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIG1vdXNlRG93bjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uTW91c2VEb3duOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbk1vdXNlRG93bkNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIG1vdXNlTW92ZToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uTW91c2VNb3ZlOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbk1vdXNlTW92ZUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIG1vdXNlT3V0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25Nb3VzZU91dDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Nb3VzZU91dENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIG1vdXNlT3Zlcjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uTW91c2VPdmVyOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbk1vdXNlT3ZlckNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIG1vdXNlVXA6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbk1vdXNlVXA6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTW91c2VVcENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHBhc3RlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25QYXN0ZTogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25QYXN0ZUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHBhdXNlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25QYXVzZTogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25QYXVzZUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHBsYXk6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblBsYXk6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uUGxheUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHBsYXlpbmc6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblBsYXlpbmc6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uUGxheWluZ0NhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHByb2dyZXNzOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25Qcm9ncmVzczogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Qcm9ncmVzc0NhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHJhdGVDaGFuZ2U6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblJhdGVDaGFuZ2U6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uUmF0ZUNoYW5nZUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHJlc2V0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25SZXNldDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25SZXNldENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHNjcm9sbDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uU2Nyb2xsOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblNjcm9sbENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHNlZWtlZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uU2Vla2VkOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblNlZWtlZENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHNlZWtpbmc6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblNlZWtpbmc6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uU2Vla2luZ0NhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHN0YWxsZWQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblN0YWxsZWQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uU3RhbGxlZENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHN1Ym1pdDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uU3VibWl0OiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblN1Ym1pdENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHN1c3BlbmQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblN1c3BlbmQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uU3VzcGVuZENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHRpbWVVcGRhdGU6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblRpbWVVcGRhdGU6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVGltZVVwZGF0ZUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHRvdWNoQ2FuY2VsOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25Ub3VjaENhbmNlbDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Ub3VjaENhbmNlbENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHRvdWNoRW5kOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25Ub3VjaEVuZDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Ub3VjaEVuZENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHRvdWNoTW92ZToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uVG91Y2hNb3ZlOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblRvdWNoTW92ZUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHRvdWNoU3RhcnQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblRvdWNoU3RhcnQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVG91Y2hTdGFydENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHRyYW5zaXRpb25FbmQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblRyYW5zaXRpb25FbmQ6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVHJhbnNpdGlvbkVuZENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHZvbHVtZUNoYW5nZToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uVm9sdW1lQ2hhbmdlOiB0cnVlfSksXG4gICAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblZvbHVtZUNoYW5nZUNhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHdhaXRpbmc6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbldhaXRpbmc6IHRydWV9KSxcbiAgICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uV2FpdGluZ0NhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fSxcbiAgICAgIHdoZWVsOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgICBidWJibGVkOiBrZXlPZih7b25XaGVlbDogdHJ1ZX0pLFxuICAgICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25XaGVlbENhcHR1cmU6IHRydWV9KVxuICAgICAgICB9fVxuICAgIH07XG4gICAgdmFyIHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZyA9IHtcbiAgICAgIHRvcEFib3J0OiBldmVudFR5cGVzLmFib3J0LFxuICAgICAgdG9wQW5pbWF0aW9uRW5kOiBldmVudFR5cGVzLmFuaW1hdGlvbkVuZCxcbiAgICAgIHRvcEFuaW1hdGlvbkl0ZXJhdGlvbjogZXZlbnRUeXBlcy5hbmltYXRpb25JdGVyYXRpb24sXG4gICAgICB0b3BBbmltYXRpb25TdGFydDogZXZlbnRUeXBlcy5hbmltYXRpb25TdGFydCxcbiAgICAgIHRvcEJsdXI6IGV2ZW50VHlwZXMuYmx1cixcbiAgICAgIHRvcENhblBsYXk6IGV2ZW50VHlwZXMuY2FuUGxheSxcbiAgICAgIHRvcENhblBsYXlUaHJvdWdoOiBldmVudFR5cGVzLmNhblBsYXlUaHJvdWdoLFxuICAgICAgdG9wQ2xpY2s6IGV2ZW50VHlwZXMuY2xpY2ssXG4gICAgICB0b3BDb250ZXh0TWVudTogZXZlbnRUeXBlcy5jb250ZXh0TWVudSxcbiAgICAgIHRvcENvcHk6IGV2ZW50VHlwZXMuY29weSxcbiAgICAgIHRvcEN1dDogZXZlbnRUeXBlcy5jdXQsXG4gICAgICB0b3BEb3VibGVDbGljazogZXZlbnRUeXBlcy5kb3VibGVDbGljayxcbiAgICAgIHRvcERyYWc6IGV2ZW50VHlwZXMuZHJhZyxcbiAgICAgIHRvcERyYWdFbmQ6IGV2ZW50VHlwZXMuZHJhZ0VuZCxcbiAgICAgIHRvcERyYWdFbnRlcjogZXZlbnRUeXBlcy5kcmFnRW50ZXIsXG4gICAgICB0b3BEcmFnRXhpdDogZXZlbnRUeXBlcy5kcmFnRXhpdCxcbiAgICAgIHRvcERyYWdMZWF2ZTogZXZlbnRUeXBlcy5kcmFnTGVhdmUsXG4gICAgICB0b3BEcmFnT3ZlcjogZXZlbnRUeXBlcy5kcmFnT3ZlcixcbiAgICAgIHRvcERyYWdTdGFydDogZXZlbnRUeXBlcy5kcmFnU3RhcnQsXG4gICAgICB0b3BEcm9wOiBldmVudFR5cGVzLmRyb3AsXG4gICAgICB0b3BEdXJhdGlvbkNoYW5nZTogZXZlbnRUeXBlcy5kdXJhdGlvbkNoYW5nZSxcbiAgICAgIHRvcEVtcHRpZWQ6IGV2ZW50VHlwZXMuZW1wdGllZCxcbiAgICAgIHRvcEVuY3J5cHRlZDogZXZlbnRUeXBlcy5lbmNyeXB0ZWQsXG4gICAgICB0b3BFbmRlZDogZXZlbnRUeXBlcy5lbmRlZCxcbiAgICAgIHRvcEVycm9yOiBldmVudFR5cGVzLmVycm9yLFxuICAgICAgdG9wRm9jdXM6IGV2ZW50VHlwZXMuZm9jdXMsXG4gICAgICB0b3BJbnB1dDogZXZlbnRUeXBlcy5pbnB1dCxcbiAgICAgIHRvcEludmFsaWQ6IGV2ZW50VHlwZXMuaW52YWxpZCxcbiAgICAgIHRvcEtleURvd246IGV2ZW50VHlwZXMua2V5RG93bixcbiAgICAgIHRvcEtleVByZXNzOiBldmVudFR5cGVzLmtleVByZXNzLFxuICAgICAgdG9wS2V5VXA6IGV2ZW50VHlwZXMua2V5VXAsXG4gICAgICB0b3BMb2FkOiBldmVudFR5cGVzLmxvYWQsXG4gICAgICB0b3BMb2FkZWREYXRhOiBldmVudFR5cGVzLmxvYWRlZERhdGEsXG4gICAgICB0b3BMb2FkZWRNZXRhZGF0YTogZXZlbnRUeXBlcy5sb2FkZWRNZXRhZGF0YSxcbiAgICAgIHRvcExvYWRTdGFydDogZXZlbnRUeXBlcy5sb2FkU3RhcnQsXG4gICAgICB0b3BNb3VzZURvd246IGV2ZW50VHlwZXMubW91c2VEb3duLFxuICAgICAgdG9wTW91c2VNb3ZlOiBldmVudFR5cGVzLm1vdXNlTW92ZSxcbiAgICAgIHRvcE1vdXNlT3V0OiBldmVudFR5cGVzLm1vdXNlT3V0LFxuICAgICAgdG9wTW91c2VPdmVyOiBldmVudFR5cGVzLm1vdXNlT3ZlcixcbiAgICAgIHRvcE1vdXNlVXA6IGV2ZW50VHlwZXMubW91c2VVcCxcbiAgICAgIHRvcFBhc3RlOiBldmVudFR5cGVzLnBhc3RlLFxuICAgICAgdG9wUGF1c2U6IGV2ZW50VHlwZXMucGF1c2UsXG4gICAgICB0b3BQbGF5OiBldmVudFR5cGVzLnBsYXksXG4gICAgICB0b3BQbGF5aW5nOiBldmVudFR5cGVzLnBsYXlpbmcsXG4gICAgICB0b3BQcm9ncmVzczogZXZlbnRUeXBlcy5wcm9ncmVzcyxcbiAgICAgIHRvcFJhdGVDaGFuZ2U6IGV2ZW50VHlwZXMucmF0ZUNoYW5nZSxcbiAgICAgIHRvcFJlc2V0OiBldmVudFR5cGVzLnJlc2V0LFxuICAgICAgdG9wU2Nyb2xsOiBldmVudFR5cGVzLnNjcm9sbCxcbiAgICAgIHRvcFNlZWtlZDogZXZlbnRUeXBlcy5zZWVrZWQsXG4gICAgICB0b3BTZWVraW5nOiBldmVudFR5cGVzLnNlZWtpbmcsXG4gICAgICB0b3BTdGFsbGVkOiBldmVudFR5cGVzLnN0YWxsZWQsXG4gICAgICB0b3BTdWJtaXQ6IGV2ZW50VHlwZXMuc3VibWl0LFxuICAgICAgdG9wU3VzcGVuZDogZXZlbnRUeXBlcy5zdXNwZW5kLFxuICAgICAgdG9wVGltZVVwZGF0ZTogZXZlbnRUeXBlcy50aW1lVXBkYXRlLFxuICAgICAgdG9wVG91Y2hDYW5jZWw6IGV2ZW50VHlwZXMudG91Y2hDYW5jZWwsXG4gICAgICB0b3BUb3VjaEVuZDogZXZlbnRUeXBlcy50b3VjaEVuZCxcbiAgICAgIHRvcFRvdWNoTW92ZTogZXZlbnRUeXBlcy50b3VjaE1vdmUsXG4gICAgICB0b3BUb3VjaFN0YXJ0OiBldmVudFR5cGVzLnRvdWNoU3RhcnQsXG4gICAgICB0b3BUcmFuc2l0aW9uRW5kOiBldmVudFR5cGVzLnRyYW5zaXRpb25FbmQsXG4gICAgICB0b3BWb2x1bWVDaGFuZ2U6IGV2ZW50VHlwZXMudm9sdW1lQ2hhbmdlLFxuICAgICAgdG9wV2FpdGluZzogZXZlbnRUeXBlcy53YWl0aW5nLFxuICAgICAgdG9wV2hlZWw6IGV2ZW50VHlwZXMud2hlZWxcbiAgICB9O1xuICAgIGZvciAodmFyIHR5cGUgaW4gdG9wTGV2ZWxFdmVudHNUb0Rpc3BhdGNoQ29uZmlnKSB7XG4gICAgICB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWdbdHlwZV0uZGVwZW5kZW5jaWVzID0gW3R5cGVdO1xuICAgIH1cbiAgICB2YXIgT05fQ0xJQ0tfS0VZID0ga2V5T2Yoe29uQ2xpY2s6IG51bGx9KTtcbiAgICB2YXIgb25DbGlja0xpc3RlbmVycyA9IHt9O1xuICAgIHZhciBTaW1wbGVFdmVudFBsdWdpbiA9IHtcbiAgICAgIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG4gICAgICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgICB2YXIgZGlzcGF0Y2hDb25maWcgPSB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWdbdG9wTGV2ZWxUeXBlXTtcbiAgICAgICAgaWYgKCFkaXNwYXRjaENvbmZpZykge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBFdmVudENvbnN0cnVjdG9yO1xuICAgICAgICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BBYm9ydDpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ2FuUGxheTpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ2FuUGxheVRocm91Z2g6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcER1cmF0aW9uQ2hhbmdlOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BFbXB0aWVkOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BFbmNyeXB0ZWQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEVuZGVkOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BFcnJvcjpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wSW5wdXQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEludmFsaWQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcExvYWQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcExvYWRlZERhdGE6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcExvYWRlZE1ldGFkYXRhOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BMb2FkU3RhcnQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFBhdXNlOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BQbGF5OlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BQbGF5aW5nOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BQcm9ncmVzczpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wUmF0ZUNoYW5nZTpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wUmVzZXQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFNlZWtlZDpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU2Vla2luZzpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU3RhbGxlZDpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU3VibWl0OlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BTdXNwZW5kOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BUaW1lVXBkYXRlOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BWb2x1bWVDaGFuZ2U6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFdhaXRpbmc6XG4gICAgICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljRXZlbnQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wS2V5UHJlc3M6XG4gICAgICAgICAgICBpZiAoZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkgPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleURvd246XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVVwOlxuICAgICAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0tleWJvYXJkRXZlbnQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQmx1cjpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRm9jdXM6XG4gICAgICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljRm9jdXNFdmVudDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDbGljazpcbiAgICAgICAgICAgIGlmIChuYXRpdmVFdmVudC5idXR0b24gPT09IDIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbnRleHRNZW51OlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEb3VibGVDbGljazpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU1vdmU6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3V0OlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU92ZXI6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlVXA6XG4gICAgICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljTW91c2VFdmVudDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnRW5kOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnRW50ZXI6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWdFeGl0OlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnTGVhdmU6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWdPdmVyOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnU3RhcnQ6XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyb3A6XG4gICAgICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljRHJhZ0V2ZW50O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoQ2FuY2VsOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BUb3VjaEVuZDpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wVG91Y2hNb3ZlOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BUb3VjaFN0YXJ0OlxuICAgICAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY1RvdWNoRXZlbnQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQW5pbWF0aW9uRW5kOlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BBbmltYXRpb25JdGVyYXRpb246XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEFuaW1hdGlvblN0YXJ0OlxuICAgICAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRyYW5zaXRpb25FbmQ6XG4gICAgICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljVHJhbnNpdGlvbkV2ZW50O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFNjcm9sbDpcbiAgICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNVSUV2ZW50O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFdoZWVsOlxuICAgICAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY1doZWVsRXZlbnQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ29weTpcbiAgICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ3V0OlxuICAgICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BQYXN0ZTpcbiAgICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNDbGlwYm9hcmRFdmVudDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgICFFdmVudENvbnN0cnVjdG9yID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1NpbXBsZUV2ZW50UGx1Z2luOiBVbmhhbmRsZWQgZXZlbnQgdHlwZSwgYCVzYC4nLCB0b3BMZXZlbFR5cGUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgdmFyIGV2ZW50ID0gRXZlbnRDb25zdHJ1Y3Rvci5nZXRQb29sZWQoZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICAgIEV2ZW50UHJvcGFnYXRvcnMuYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudCk7XG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICAgIH0sXG4gICAgICBkaWRQdXRMaXN0ZW5lcjogZnVuY3Rpb24oaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWUgPT09IE9OX0NMSUNLX0tFWSkge1xuICAgICAgICAgIHZhciBpZCA9IGluc3QuX3Jvb3ROb2RlSUQ7XG4gICAgICAgICAgdmFyIG5vZGUgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KTtcbiAgICAgICAgICBpZiAoIW9uQ2xpY2tMaXN0ZW5lcnNbaWRdKSB7XG4gICAgICAgICAgICBvbkNsaWNrTGlzdGVuZXJzW2lkXSA9IEV2ZW50TGlzdGVuZXIubGlzdGVuKG5vZGUsICdjbGljaycsIGVtcHR5RnVuY3Rpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHdpbGxEZWxldGVMaXN0ZW5lcjogZnVuY3Rpb24oaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZSA9PT0gT05fQ0xJQ0tfS0VZKSB7XG4gICAgICAgICAgdmFyIGlkID0gaW5zdC5fcm9vdE5vZGVJRDtcbiAgICAgICAgICBvbkNsaWNrTGlzdGVuZXJzW2lkXS5yZW1vdmUoKTtcbiAgICAgICAgICBkZWxldGUgb25DbGlja0xpc3RlbmVyc1tpZF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gU2ltcGxlRXZlbnRQbHVnaW47XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjgxXCIsIFtcImFcIiwgXCJmXCIsIFwiMTdcIiwgXCIxOFwiLCBcIjFhXCIsIFwiMmFcIiwgXCI0YlwiLCBcIjExXCIsIFwiNTJcIiwgXCI1M1wiLCBcIjVjXCIsIFwiNWRcIiwgXCI1ZlwiLCBcIjYxXCIsIFwiNjZcIiwgXCI2OVwiLCBcIjcwXCIsIFwiODBcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luID0gJF9fcmVxdWlyZSgnYScpO1xuICB2YXIgQ2hhbmdlRXZlbnRQbHVnaW4gPSAkX19yZXF1aXJlKCdmJyk7XG4gIHZhciBEZWZhdWx0RXZlbnRQbHVnaW5PcmRlciA9ICRfX3JlcXVpcmUoJzE3Jyk7XG4gIHZhciBFbnRlckxlYXZlRXZlbnRQbHVnaW4gPSAkX19yZXF1aXJlKCcxOCcpO1xuICB2YXIgSFRNTERPTVByb3BlcnR5Q29uZmlnID0gJF9fcmVxdWlyZSgnMWEnKTtcbiAgdmFyIFJlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnMmEnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50ID0gJF9fcmVxdWlyZSgnNGInKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9ICRfX3JlcXVpcmUoJzExJyk7XG4gIHZhciBSZWFjdERPTUVtcHR5Q29tcG9uZW50ID0gJF9fcmVxdWlyZSgnNTInKTtcbiAgdmFyIFJlYWN0RE9NVHJlZVRyYXZlcnNhbCA9ICRfX3JlcXVpcmUoJzUzJyk7XG4gIHZhciBSZWFjdERPTVRleHRDb21wb25lbnQgPSAkX19yZXF1aXJlKCc1YycpO1xuICB2YXIgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneSA9ICRfX3JlcXVpcmUoJzVkJyk7XG4gIHZhciBSZWFjdEV2ZW50TGlzdGVuZXIgPSAkX19yZXF1aXJlKCc1ZicpO1xuICB2YXIgUmVhY3RJbmplY3Rpb24gPSAkX19yZXF1aXJlKCc2MScpO1xuICB2YXIgUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbiA9ICRfX3JlcXVpcmUoJzY2Jyk7XG4gIHZhciBTVkdET01Qcm9wZXJ0eUNvbmZpZyA9ICRfX3JlcXVpcmUoJzY5Jyk7XG4gIHZhciBTZWxlY3RFdmVudFBsdWdpbiA9ICRfX3JlcXVpcmUoJzcwJyk7XG4gIHZhciBTaW1wbGVFdmVudFBsdWdpbiA9ICRfX3JlcXVpcmUoJzgwJyk7XG4gIHZhciBhbHJlYWR5SW5qZWN0ZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gaW5qZWN0KCkge1xuICAgIGlmIChhbHJlYWR5SW5qZWN0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWxyZWFkeUluamVjdGVkID0gdHJ1ZTtcbiAgICBSZWFjdEluamVjdGlvbi5FdmVudEVtaXR0ZXIuaW5qZWN0UmVhY3RFdmVudExpc3RlbmVyKFJlYWN0RXZlbnRMaXN0ZW5lcik7XG4gICAgUmVhY3RJbmplY3Rpb24uRXZlbnRQbHVnaW5IdWIuaW5qZWN0RXZlbnRQbHVnaW5PcmRlcihEZWZhdWx0RXZlbnRQbHVnaW5PcmRlcik7XG4gICAgUmVhY3RJbmplY3Rpb24uRXZlbnRQbHVnaW5VdGlscy5pbmplY3RDb21wb25lbnRUcmVlKFJlYWN0RE9NQ29tcG9uZW50VHJlZSk7XG4gICAgUmVhY3RJbmplY3Rpb24uRXZlbnRQbHVnaW5VdGlscy5pbmplY3RUcmVlVHJhdmVyc2FsKFJlYWN0RE9NVHJlZVRyYXZlcnNhbCk7XG4gICAgUmVhY3RJbmplY3Rpb24uRXZlbnRQbHVnaW5IdWIuaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lKHtcbiAgICAgIFNpbXBsZUV2ZW50UGx1Z2luOiBTaW1wbGVFdmVudFBsdWdpbixcbiAgICAgIEVudGVyTGVhdmVFdmVudFBsdWdpbjogRW50ZXJMZWF2ZUV2ZW50UGx1Z2luLFxuICAgICAgQ2hhbmdlRXZlbnRQbHVnaW46IENoYW5nZUV2ZW50UGx1Z2luLFxuICAgICAgU2VsZWN0RXZlbnRQbHVnaW46IFNlbGVjdEV2ZW50UGx1Z2luLFxuICAgICAgQmVmb3JlSW5wdXRFdmVudFBsdWdpbjogQmVmb3JlSW5wdXRFdmVudFBsdWdpblxuICAgIH0pO1xuICAgIFJlYWN0SW5qZWN0aW9uLk5hdGl2ZUNvbXBvbmVudC5pbmplY3RHZW5lcmljQ29tcG9uZW50Q2xhc3MoUmVhY3RET01Db21wb25lbnQpO1xuICAgIFJlYWN0SW5qZWN0aW9uLk5hdGl2ZUNvbXBvbmVudC5pbmplY3RUZXh0Q29tcG9uZW50Q2xhc3MoUmVhY3RET01UZXh0Q29tcG9uZW50KTtcbiAgICBSZWFjdEluamVjdGlvbi5ET01Qcm9wZXJ0eS5pbmplY3RET01Qcm9wZXJ0eUNvbmZpZyhIVE1MRE9NUHJvcGVydHlDb25maWcpO1xuICAgIFJlYWN0SW5qZWN0aW9uLkRPTVByb3BlcnR5LmluamVjdERPTVByb3BlcnR5Q29uZmlnKFNWR0RPTVByb3BlcnR5Q29uZmlnKTtcbiAgICBSZWFjdEluamVjdGlvbi5FbXB0eUNvbXBvbmVudC5pbmplY3RFbXB0eUNvbXBvbmVudEZhY3RvcnkoZnVuY3Rpb24oaW5zdGFudGlhdGUpIHtcbiAgICAgIHJldHVybiBuZXcgUmVhY3RET01FbXB0eUNvbXBvbmVudChpbnN0YW50aWF0ZSk7XG4gICAgfSk7XG4gICAgUmVhY3RJbmplY3Rpb24uVXBkYXRlcy5pbmplY3RSZWNvbmNpbGVUcmFuc2FjdGlvbihSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uKTtcbiAgICBSZWFjdEluamVjdGlvbi5VcGRhdGVzLmluamVjdEJhdGNoaW5nU3RyYXRlZ3koUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneSk7XG4gICAgUmVhY3RJbmplY3Rpb24uQ29tcG9uZW50LmluamVjdEVudmlyb25tZW50KFJlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50KTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IHtpbmplY3Q6IGluamVjdH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiODJcIiwgW1wiNDdcIiwgXCIxMVwiLCBcIjgzXCIsIFwiODRcIiwgXCIzMFwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gJF9fcmVxdWlyZSgnNDcnKTtcbiAgICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gJF9fcmVxdWlyZSgnMTEnKTtcbiAgICB2YXIgUmVhY3RJbnN0YW5jZU1hcCA9ICRfX3JlcXVpcmUoJzgzJyk7XG4gICAgdmFyIGdldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUgPSAkX19yZXF1aXJlKCc4NCcpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICBmdW5jdGlvbiBmaW5kRE9NTm9kZShjb21wb25lbnRPckVsZW1lbnQpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhciBvd25lciA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQ7XG4gICAgICAgIGlmIChvd25lciAhPT0gbnVsbCkge1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKG93bmVyLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciwgJyVzIGlzIGFjY2Vzc2luZyBmaW5kRE9NTm9kZSBpbnNpZGUgaXRzIHJlbmRlcigpLiAnICsgJ3JlbmRlcigpIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlLiBJdCBzaG91bGQgJyArICduZXZlciBhY2Nlc3Mgc29tZXRoaW5nIHRoYXQgcmVxdWlyZXMgc3RhbGUgZGF0YSBmcm9tIHRoZSBwcmV2aW91cyAnICsgJ3JlbmRlciwgc3VjaCBhcyByZWZzLiBNb3ZlIHRoaXMgbG9naWMgdG8gY29tcG9uZW50RGlkTW91bnQgYW5kICcgKyAnY29tcG9uZW50RGlkVXBkYXRlIGluc3RlYWQuJywgb3duZXIuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICAgIG93bmVyLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb21wb25lbnRPckVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wb25lbnRPckVsZW1lbnQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudE9yRWxlbWVudDtcbiAgICAgIH1cbiAgICAgIHZhciBpbnN0ID0gUmVhY3RJbnN0YW5jZU1hcC5nZXQoY29tcG9uZW50T3JFbGVtZW50KTtcbiAgICAgIGlmIChpbnN0KSB7XG4gICAgICAgIGluc3QgPSBnZXROYXRpdmVDb21wb25lbnRGcm9tQ29tcG9zaXRlKGluc3QpO1xuICAgICAgICByZXR1cm4gaW5zdCA/IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKGluc3QpIDogbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50T3JFbGVtZW50LnJlbmRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAhZmFsc2UgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZmluZERPTU5vZGUgd2FzIGNhbGxlZCBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICFmYWxzZSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFbGVtZW50IGFwcGVhcnMgdG8gYmUgbmVpdGhlciBSZWFjdENvbXBvbmVudCBub3IgRE9NTm9kZSAoa2V5czogJXMpJywgT2JqZWN0LmtleXMoY29tcG9uZW50T3JFbGVtZW50KSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZpbmRET01Ob2RlO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI4NFwiLCBbXCI4NVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFJlYWN0Tm9kZVR5cGVzID0gJF9fcmVxdWlyZSgnODUnKTtcbiAgZnVuY3Rpb24gZ2V0TmF0aXZlQ29tcG9uZW50RnJvbUNvbXBvc2l0ZShpbnN0KSB7XG4gICAgdmFyIHR5cGU7XG4gICAgd2hpbGUgKCh0eXBlID0gaW5zdC5fcmVuZGVyZWROb2RlVHlwZSkgPT09IFJlYWN0Tm9kZVR5cGVzLkNPTVBPU0lURSkge1xuICAgICAgaW5zdCA9IGluc3QuX3JlbmRlcmVkQ29tcG9uZW50O1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gUmVhY3ROb2RlVHlwZXMuTkFUSVZFKSB7XG4gICAgICByZXR1cm4gaW5zdC5fcmVuZGVyZWRDb21wb25lbnQ7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBSZWFjdE5vZGVUeXBlcy5FTVBUWSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZ2V0TmF0aXZlQ29tcG9uZW50RnJvbUNvbXBvc2l0ZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI0ZFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIERPTU5hbWVzcGFjZXMgPSB7XG4gICAgaHRtbDogJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnLFxuICAgIG1hdGhtbDogJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnLFxuICAgIHN2ZzogJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJ1xuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IERPTU5hbWVzcGFjZXM7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMzlcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBFU0NBUEVfTE9PS1VQID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAnXFwnJzogJyYjeDI3OydcbiAgfTtcbiAgdmFyIEVTQ0FQRV9SRUdFWCA9IC9bJj48XCInXS9nO1xuICBmdW5jdGlvbiBlc2NhcGVyKG1hdGNoKSB7XG4gICAgcmV0dXJuIEVTQ0FQRV9MT09LVVBbbWF0Y2hdO1xuICB9XG4gIGZ1bmN0aW9uIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3Nlcih0ZXh0KSB7XG4gICAgcmV0dXJuICgnJyArIHRleHQpLnJlcGxhY2UoRVNDQVBFX1JFR0VYLCBlc2NhcGVyKTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlcjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI1YlwiLCBbXCJkXCIsIFwiMzlcIiwgXCI1YVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnZCcpO1xuICB2YXIgZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyID0gJF9fcmVxdWlyZSgnMzknKTtcbiAgdmFyIHNldElubmVySFRNTCA9ICRfX3JlcXVpcmUoJzVhJyk7XG4gIHZhciBzZXRUZXh0Q29udGVudCA9IGZ1bmN0aW9uKG5vZGUsIHRleHQpIHtcbiAgICBub2RlLnRleHRDb250ZW50ID0gdGV4dDtcbiAgfTtcbiAgaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIGlmICghKCd0ZXh0Q29udGVudCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgc2V0VGV4dENvbnRlbnQgPSBmdW5jdGlvbihub2RlLCB0ZXh0KSB7XG4gICAgICAgIHNldElubmVySFRNTChub2RlLCBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIodGV4dCkpO1xuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBzZXRUZXh0Q29udGVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI0Y1wiLCBbXCI0ZFwiLCBcIjU5XCIsIFwiNWJcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBET01OYW1lc3BhY2VzID0gJF9fcmVxdWlyZSgnNGQnKTtcbiAgdmFyIGNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24gPSAkX19yZXF1aXJlKCc1OScpO1xuICB2YXIgc2V0VGV4dENvbnRlbnQgPSAkX19yZXF1aXJlKCc1YicpO1xuICB2YXIgRUxFTUVOVF9OT0RFX1RZUEUgPSAxO1xuICB2YXIgRE9DVU1FTlRfRlJBR01FTlRfTk9ERV9UWVBFID0gMTE7XG4gIHZhciBlbmFibGVMYXp5ID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQuZG9jdW1lbnRNb2RlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbmF2aWdhdG9yLnVzZXJBZ2VudCA9PT0gJ3N0cmluZycgJiYgL1xcYkVkZ2VcXC9cXGQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIGZ1bmN0aW9uIGluc2VydFRyZWVDaGlsZHJlbih0cmVlKSB7XG4gICAgaWYgKCFlbmFibGVMYXp5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBub2RlID0gdHJlZS5ub2RlO1xuICAgIHZhciBjaGlsZHJlbiA9IHRyZWUuY2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpbnNlcnRUcmVlQmVmb3JlKG5vZGUsIGNoaWxkcmVuW2ldLCBudWxsKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRyZWUuaHRtbCAhPSBudWxsKSB7XG4gICAgICBub2RlLmlubmVySFRNTCA9IHRyZWUuaHRtbDtcbiAgICB9IGVsc2UgaWYgKHRyZWUudGV4dCAhPSBudWxsKSB7XG4gICAgICBzZXRUZXh0Q29udGVudChub2RlLCB0cmVlLnRleHQpO1xuICAgIH1cbiAgfVxuICB2YXIgaW5zZXJ0VHJlZUJlZm9yZSA9IGNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24oZnVuY3Rpb24ocGFyZW50Tm9kZSwgdHJlZSwgcmVmZXJlbmNlTm9kZSkge1xuICAgIGlmICh0cmVlLm5vZGUubm9kZVR5cGUgPT09IERPQ1VNRU5UX0ZSQUdNRU5UX05PREVfVFlQRSB8fCB0cmVlLm5vZGUubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERV9UWVBFICYmIHRyZWUubm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnb2JqZWN0JyAmJiAodHJlZS5ub2RlLm5hbWVzcGFjZVVSSSA9PSBudWxsIHx8IHRyZWUubm9kZS5uYW1lc3BhY2VVUkkgPT09IERPTU5hbWVzcGFjZXMuaHRtbCkpIHtcbiAgICAgIGluc2VydFRyZWVDaGlsZHJlbih0cmVlKTtcbiAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRyZWUubm9kZSwgcmVmZXJlbmNlTm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRyZWUubm9kZSwgcmVmZXJlbmNlTm9kZSk7XG4gICAgICBpbnNlcnRUcmVlQ2hpbGRyZW4odHJlZSk7XG4gICAgfVxuICB9KTtcbiAgZnVuY3Rpb24gcmVwbGFjZUNoaWxkV2l0aFRyZWUob2xkTm9kZSwgbmV3VHJlZSkge1xuICAgIG9sZE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3VHJlZS5ub2RlLCBvbGROb2RlKTtcbiAgICBpbnNlcnRUcmVlQ2hpbGRyZW4obmV3VHJlZSk7XG4gIH1cbiAgZnVuY3Rpb24gcXVldWVDaGlsZChwYXJlbnRUcmVlLCBjaGlsZFRyZWUpIHtcbiAgICBpZiAoZW5hYmxlTGF6eSkge1xuICAgICAgcGFyZW50VHJlZS5jaGlsZHJlbi5wdXNoKGNoaWxkVHJlZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmVudFRyZWUubm9kZS5hcHBlbmRDaGlsZChjaGlsZFRyZWUubm9kZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHF1ZXVlSFRNTCh0cmVlLCBodG1sKSB7XG4gICAgaWYgKGVuYWJsZUxhenkpIHtcbiAgICAgIHRyZWUuaHRtbCA9IGh0bWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyZWUubm9kZS5pbm5lckhUTUwgPSBodG1sO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBxdWV1ZVRleHQodHJlZSwgdGV4dCkge1xuICAgIGlmIChlbmFibGVMYXp5KSB7XG4gICAgICB0cmVlLnRleHQgPSB0ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRUZXh0Q29udGVudCh0cmVlLm5vZGUsIHRleHQpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlLm5vZGVOYW1lO1xuICB9XG4gIGZ1bmN0aW9uIERPTUxhenlUcmVlKG5vZGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm9kZTogbm9kZSxcbiAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgIGh0bWw6IG51bGwsXG4gICAgICB0ZXh0OiBudWxsLFxuICAgICAgdG9TdHJpbmc6IHRvU3RyaW5nXG4gICAgfTtcbiAgfVxuICBET01MYXp5VHJlZS5pbnNlcnRUcmVlQmVmb3JlID0gaW5zZXJ0VHJlZUJlZm9yZTtcbiAgRE9NTGF6eVRyZWUucmVwbGFjZUNoaWxkV2l0aFRyZWUgPSByZXBsYWNlQ2hpbGRXaXRoVHJlZTtcbiAgRE9NTGF6eVRyZWUucXVldWVDaGlsZCA9IHF1ZXVlQ2hpbGQ7XG4gIERPTUxhenlUcmVlLnF1ZXVlSFRNTCA9IHF1ZXVlSFRNTDtcbiAgRE9NTGF6eVRyZWUucXVldWVUZXh0ID0gcXVldWVUZXh0O1xuICBtb2R1bGUuZXhwb3J0cyA9IERPTUxhenlUcmVlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjM1XCIsIFtcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIEV2ZW50UGx1Z2luT3JkZXIgPSBudWxsO1xuICAgIHZhciBuYW1lc1RvUGx1Z2lucyA9IHt9O1xuICAgIGZ1bmN0aW9uIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCkge1xuICAgICAgaWYgKCFFdmVudFBsdWdpbk9yZGVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIHBsdWdpbk5hbWUgaW4gbmFtZXNUb1BsdWdpbnMpIHtcbiAgICAgICAgdmFyIFBsdWdpbk1vZHVsZSA9IG5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdO1xuICAgICAgICB2YXIgcGx1Z2luSW5kZXggPSBFdmVudFBsdWdpbk9yZGVyLmluZGV4T2YocGx1Z2luTmFtZSk7XG4gICAgICAgICEocGx1Z2luSW5kZXggPiAtMSkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCBldmVudCBwbHVnaW5zIHRoYXQgZG8gbm90IGV4aXN0IGluICcgKyAndGhlIHBsdWdpbiBvcmRlcmluZywgYCVzYC4nLCBwbHVnaW5OYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIGlmIChFdmVudFBsdWdpblJlZ2lzdHJ5LnBsdWdpbnNbcGx1Z2luSW5kZXhdKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgIVBsdWdpbk1vZHVsZS5leHRyYWN0RXZlbnRzID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IEV2ZW50IHBsdWdpbnMgbXVzdCBpbXBsZW1lbnQgYW4gYGV4dHJhY3RFdmVudHNgICcgKyAnbWV0aG9kLCBidXQgYCVzYCBkb2VzIG5vdC4nLCBwbHVnaW5OYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIEV2ZW50UGx1Z2luUmVnaXN0cnkucGx1Z2luc1twbHVnaW5JbmRleF0gPSBQbHVnaW5Nb2R1bGU7XG4gICAgICAgIHZhciBwdWJsaXNoZWRFdmVudHMgPSBQbHVnaW5Nb2R1bGUuZXZlbnRUeXBlcztcbiAgICAgICAgZm9yICh2YXIgZXZlbnROYW1lIGluIHB1Ymxpc2hlZEV2ZW50cykge1xuICAgICAgICAgICFwdWJsaXNoRXZlbnRGb3JQbHVnaW4ocHVibGlzaGVkRXZlbnRzW2V2ZW50TmFtZV0sIFBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpblJlZ2lzdHJ5OiBGYWlsZWQgdG8gcHVibGlzaCBldmVudCBgJXNgIGZvciBwbHVnaW4gYCVzYC4nLCBldmVudE5hbWUsIHBsdWdpbk5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwdWJsaXNoRXZlbnRGb3JQbHVnaW4oZGlzcGF0Y2hDb25maWcsIFBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKSB7XG4gICAgICAhIUV2ZW50UGx1Z2luUmVnaXN0cnkuZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5IdWI6IE1vcmUgdGhhbiBvbmUgcGx1Z2luIGF0dGVtcHRlZCB0byBwdWJsaXNoIHRoZSBzYW1lICcgKyAnZXZlbnQgbmFtZSwgYCVzYC4nLCBldmVudE5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIEV2ZW50UGx1Z2luUmVnaXN0cnkuZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzW2V2ZW50TmFtZV0gPSBkaXNwYXRjaENvbmZpZztcbiAgICAgIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lcyA9IGRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzO1xuICAgICAgaWYgKHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgICAgIGZvciAodmFyIHBoYXNlTmFtZSBpbiBwaGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgICAgICAgIGlmIChwaGFzZWRSZWdpc3RyYXRpb25OYW1lcy5oYXNPd25Qcm9wZXJ0eShwaGFzZU5hbWUpKSB7XG4gICAgICAgICAgICB2YXIgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZSA9IHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3BoYXNlTmFtZV07XG4gICAgICAgICAgICBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShwaGFzZWRSZWdpc3RyYXRpb25OYW1lLCBQbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChkaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICAgIHB1Ymxpc2hSZWdpc3RyYXRpb25OYW1lKGRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUsIFBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1Ymxpc2hSZWdpc3RyYXRpb25OYW1lKHJlZ2lzdHJhdGlvbk5hbWUsIFBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKSB7XG4gICAgICAhIUV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbcmVnaXN0cmF0aW9uTmFtZV0gPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5IdWI6IE1vcmUgdGhhbiBvbmUgcGx1Z2luIGF0dGVtcHRlZCB0byBwdWJsaXNoIHRoZSBzYW1lICcgKyAncmVnaXN0cmF0aW9uIG5hbWUsIGAlc2AuJywgcmVnaXN0cmF0aW9uTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSA9IFBsdWdpbk1vZHVsZTtcbiAgICAgIEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1tyZWdpc3RyYXRpb25OYW1lXSA9IFBsdWdpbk1vZHVsZS5ldmVudFR5cGVzW2V2ZW50TmFtZV0uZGVwZW5kZW5jaWVzO1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIGxvd2VyQ2FzZWROYW1lID0gcmVnaXN0cmF0aW9uTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBFdmVudFBsdWdpblJlZ2lzdHJ5LnBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXNbbG93ZXJDYXNlZE5hbWVdID0gcmVnaXN0cmF0aW9uTmFtZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIEV2ZW50UGx1Z2luUmVnaXN0cnkgPSB7XG4gICAgICBwbHVnaW5zOiBbXSxcbiAgICAgIGV2ZW50TmFtZURpc3BhdGNoQ29uZmlnczoge30sXG4gICAgICByZWdpc3RyYXRpb25OYW1lTW9kdWxlczoge30sXG4gICAgICByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzOiB7fSxcbiAgICAgIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXM6IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB7fSA6IG51bGwsXG4gICAgICBpbmplY3RFdmVudFBsdWdpbk9yZGVyOiBmdW5jdGlvbihJbmplY3RlZEV2ZW50UGx1Z2luT3JkZXIpIHtcbiAgICAgICAgISFFdmVudFBsdWdpbk9yZGVyID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IENhbm5vdCBpbmplY3QgZXZlbnQgcGx1Z2luIG9yZGVyaW5nIG1vcmUgdGhhbiAnICsgJ29uY2UuIFlvdSBhcmUgbGlrZWx5IHRyeWluZyB0byBsb2FkIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIEV2ZW50UGx1Z2luT3JkZXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChJbmplY3RlZEV2ZW50UGx1Z2luT3JkZXIpO1xuICAgICAgICByZWNvbXB1dGVQbHVnaW5PcmRlcmluZygpO1xuICAgICAgfSxcbiAgICAgIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTogZnVuY3Rpb24oaW5qZWN0ZWROYW1lc1RvUGx1Z2lucykge1xuICAgICAgICB2YXIgaXNPcmRlcmluZ0RpcnR5ID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIHBsdWdpbk5hbWUgaW4gaW5qZWN0ZWROYW1lc1RvUGx1Z2lucykge1xuICAgICAgICAgIGlmICghaW5qZWN0ZWROYW1lc1RvUGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShwbHVnaW5OYW1lKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBQbHVnaW5Nb2R1bGUgPSBpbmplY3RlZE5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdO1xuICAgICAgICAgIGlmICghbmFtZXNUb1BsdWdpbnMuaGFzT3duUHJvcGVydHkocGx1Z2luTmFtZSkgfHwgbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0gIT09IFBsdWdpbk1vZHVsZSkge1xuICAgICAgICAgICAgISFuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpblJlZ2lzdHJ5OiBDYW5ub3QgaW5qZWN0IHR3byBkaWZmZXJlbnQgZXZlbnQgcGx1Z2lucyAnICsgJ3VzaW5nIHRoZSBzYW1lIG5hbWUsIGAlc2AuJywgcGx1Z2luTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0gPSBQbHVnaW5Nb2R1bGU7XG4gICAgICAgICAgICBpc09yZGVyaW5nRGlydHkgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNPcmRlcmluZ0RpcnR5KSB7XG4gICAgICAgICAgcmVjb21wdXRlUGx1Z2luT3JkZXJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldFBsdWdpbk1vZHVsZUZvckV2ZW50OiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgZGlzcGF0Y2hDb25maWcgPSBldmVudC5kaXNwYXRjaENvbmZpZztcbiAgICAgICAgaWYgKGRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tkaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lXSB8fCBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIHBoYXNlIGluIGRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgICAgICAgaWYgKCFkaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcy5oYXNPd25Qcm9wZXJ0eShwaGFzZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgUGx1Z2luTW9kdWxlID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tkaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lc1twaGFzZV1dO1xuICAgICAgICAgIGlmIChQbHVnaW5Nb2R1bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBQbHVnaW5Nb2R1bGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSxcbiAgICAgIF9yZXNldEV2ZW50UGx1Z2luczogZnVuY3Rpb24oKSB7XG4gICAgICAgIEV2ZW50UGx1Z2luT3JkZXIgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBwbHVnaW5OYW1lIGluIG5hbWVzVG9QbHVnaW5zKSB7XG4gICAgICAgICAgaWYgKG5hbWVzVG9QbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbk5hbWUpKSB7XG4gICAgICAgICAgICBkZWxldGUgbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEV2ZW50UGx1Z2luUmVnaXN0cnkucGx1Z2lucy5sZW5ndGggPSAwO1xuICAgICAgICB2YXIgZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5ldmVudE5hbWVEaXNwYXRjaENvbmZpZ3M7XG4gICAgICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MpIHtcbiAgICAgICAgICBpZiAoZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3NbZXZlbnROYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlcztcbiAgICAgICAgZm9yICh2YXIgcmVnaXN0cmF0aW9uTmFtZSBpbiByZWdpc3RyYXRpb25OYW1lTW9kdWxlcykge1xuICAgICAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lTW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShyZWdpc3RyYXRpb25OYW1lKSkge1xuICAgICAgICAgICAgZGVsZXRlIHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhciBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5wb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzO1xuICAgICAgICAgIGZvciAodmFyIGxvd2VyQ2FzZWROYW1lIGluIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgICAgICAgIGlmIChwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKSkge1xuICAgICAgICAgICAgICBkZWxldGUgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lc1tsb3dlckNhc2VkTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50UGx1Z2luUmVnaXN0cnk7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImJcIiwgW1wiNThcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBrZXlNaXJyb3IgPSAkX19yZXF1aXJlKCc1OCcpO1xuICB2YXIgUHJvcGFnYXRpb25QaGFzZXMgPSBrZXlNaXJyb3Ioe1xuICAgIGJ1YmJsZWQ6IG51bGwsXG4gICAgY2FwdHVyZWQ6IG51bGxcbiAgfSk7XG4gIHZhciB0b3BMZXZlbFR5cGVzID0ga2V5TWlycm9yKHtcbiAgICB0b3BBYm9ydDogbnVsbCxcbiAgICB0b3BBbmltYXRpb25FbmQ6IG51bGwsXG4gICAgdG9wQW5pbWF0aW9uSXRlcmF0aW9uOiBudWxsLFxuICAgIHRvcEFuaW1hdGlvblN0YXJ0OiBudWxsLFxuICAgIHRvcEJsdXI6IG51bGwsXG4gICAgdG9wQ2FuUGxheTogbnVsbCxcbiAgICB0b3BDYW5QbGF5VGhyb3VnaDogbnVsbCxcbiAgICB0b3BDaGFuZ2U6IG51bGwsXG4gICAgdG9wQ2xpY2s6IG51bGwsXG4gICAgdG9wQ29tcG9zaXRpb25FbmQ6IG51bGwsXG4gICAgdG9wQ29tcG9zaXRpb25TdGFydDogbnVsbCxcbiAgICB0b3BDb21wb3NpdGlvblVwZGF0ZTogbnVsbCxcbiAgICB0b3BDb250ZXh0TWVudTogbnVsbCxcbiAgICB0b3BDb3B5OiBudWxsLFxuICAgIHRvcEN1dDogbnVsbCxcbiAgICB0b3BEb3VibGVDbGljazogbnVsbCxcbiAgICB0b3BEcmFnOiBudWxsLFxuICAgIHRvcERyYWdFbmQ6IG51bGwsXG4gICAgdG9wRHJhZ0VudGVyOiBudWxsLFxuICAgIHRvcERyYWdFeGl0OiBudWxsLFxuICAgIHRvcERyYWdMZWF2ZTogbnVsbCxcbiAgICB0b3BEcmFnT3ZlcjogbnVsbCxcbiAgICB0b3BEcmFnU3RhcnQ6IG51bGwsXG4gICAgdG9wRHJvcDogbnVsbCxcbiAgICB0b3BEdXJhdGlvbkNoYW5nZTogbnVsbCxcbiAgICB0b3BFbXB0aWVkOiBudWxsLFxuICAgIHRvcEVuY3J5cHRlZDogbnVsbCxcbiAgICB0b3BFbmRlZDogbnVsbCxcbiAgICB0b3BFcnJvcjogbnVsbCxcbiAgICB0b3BGb2N1czogbnVsbCxcbiAgICB0b3BJbnB1dDogbnVsbCxcbiAgICB0b3BJbnZhbGlkOiBudWxsLFxuICAgIHRvcEtleURvd246IG51bGwsXG4gICAgdG9wS2V5UHJlc3M6IG51bGwsXG4gICAgdG9wS2V5VXA6IG51bGwsXG4gICAgdG9wTG9hZDogbnVsbCxcbiAgICB0b3BMb2FkZWREYXRhOiBudWxsLFxuICAgIHRvcExvYWRlZE1ldGFkYXRhOiBudWxsLFxuICAgIHRvcExvYWRTdGFydDogbnVsbCxcbiAgICB0b3BNb3VzZURvd246IG51bGwsXG4gICAgdG9wTW91c2VNb3ZlOiBudWxsLFxuICAgIHRvcE1vdXNlT3V0OiBudWxsLFxuICAgIHRvcE1vdXNlT3ZlcjogbnVsbCxcbiAgICB0b3BNb3VzZVVwOiBudWxsLFxuICAgIHRvcFBhc3RlOiBudWxsLFxuICAgIHRvcFBhdXNlOiBudWxsLFxuICAgIHRvcFBsYXk6IG51bGwsXG4gICAgdG9wUGxheWluZzogbnVsbCxcbiAgICB0b3BQcm9ncmVzczogbnVsbCxcbiAgICB0b3BSYXRlQ2hhbmdlOiBudWxsLFxuICAgIHRvcFJlc2V0OiBudWxsLFxuICAgIHRvcFNjcm9sbDogbnVsbCxcbiAgICB0b3BTZWVrZWQ6IG51bGwsXG4gICAgdG9wU2Vla2luZzogbnVsbCxcbiAgICB0b3BTZWxlY3Rpb25DaGFuZ2U6IG51bGwsXG4gICAgdG9wU3RhbGxlZDogbnVsbCxcbiAgICB0b3BTdWJtaXQ6IG51bGwsXG4gICAgdG9wU3VzcGVuZDogbnVsbCxcbiAgICB0b3BUZXh0SW5wdXQ6IG51bGwsXG4gICAgdG9wVGltZVVwZGF0ZTogbnVsbCxcbiAgICB0b3BUb3VjaENhbmNlbDogbnVsbCxcbiAgICB0b3BUb3VjaEVuZDogbnVsbCxcbiAgICB0b3BUb3VjaE1vdmU6IG51bGwsXG4gICAgdG9wVG91Y2hTdGFydDogbnVsbCxcbiAgICB0b3BUcmFuc2l0aW9uRW5kOiBudWxsLFxuICAgIHRvcFZvbHVtZUNoYW5nZTogbnVsbCxcbiAgICB0b3BXYWl0aW5nOiBudWxsLFxuICAgIHRvcFdoZWVsOiBudWxsXG4gIH0pO1xuICB2YXIgRXZlbnRDb25zdGFudHMgPSB7XG4gICAgdG9wTGV2ZWxUeXBlczogdG9wTGV2ZWxUeXBlcyxcbiAgICBQcm9wYWdhdGlvblBoYXNlczogUHJvcGFnYXRpb25QaGFzZXNcbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudENvbnN0YW50cztcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI2MlwiLCBbXCJiXCIsIFwiODZcIiwgXCIzMFwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEV2ZW50Q29uc3RhbnRzID0gJF9fcmVxdWlyZSgnYicpO1xuICAgIHZhciBSZWFjdEVycm9yVXRpbHMgPSAkX19yZXF1aXJlKCc4NicpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgQ29tcG9uZW50VHJlZTtcbiAgICB2YXIgVHJlZVRyYXZlcnNhbDtcbiAgICB2YXIgaW5qZWN0aW9uID0ge1xuICAgICAgaW5qZWN0Q29tcG9uZW50VHJlZTogZnVuY3Rpb24oSW5qZWN0ZWQpIHtcbiAgICAgICAgQ29tcG9uZW50VHJlZSA9IEluamVjdGVkO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKEluamVjdGVkICYmIEluamVjdGVkLmdldE5vZGVGcm9tSW5zdGFuY2UgJiYgSW5qZWN0ZWQuZ2V0SW5zdGFuY2VGcm9tTm9kZSwgJ0V2ZW50UGx1Z2luVXRpbHMuaW5qZWN0aW9uLmluamVjdENvbXBvbmVudFRyZWUoLi4uKTogSW5qZWN0ZWQgJyArICdtb2R1bGUgaXMgbWlzc2luZyBnZXROb2RlRnJvbUluc3RhbmNlIG9yIGdldEluc3RhbmNlRnJvbU5vZGUuJykgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbmplY3RUcmVlVHJhdmVyc2FsOiBmdW5jdGlvbihJbmplY3RlZCkge1xuICAgICAgICBUcmVlVHJhdmVyc2FsID0gSW5qZWN0ZWQ7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoSW5qZWN0ZWQgJiYgSW5qZWN0ZWQuaXNBbmNlc3RvciAmJiBJbmplY3RlZC5nZXRMb3dlc3RDb21tb25BbmNlc3RvciwgJ0V2ZW50UGx1Z2luVXRpbHMuaW5qZWN0aW9uLmluamVjdFRyZWVUcmF2ZXJzYWwoLi4uKTogSW5qZWN0ZWQgJyArICdtb2R1bGUgaXMgbWlzc2luZyBpc0FuY2VzdG9yIG9yIGdldExvd2VzdENvbW1vbkFuY2VzdG9yLicpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG4gICAgZnVuY3Rpb24gaXNFbmRpc2godG9wTGV2ZWxUeXBlKSB7XG4gICAgICByZXR1cm4gdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlVXAgfHwgdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoRW5kIHx8IHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BUb3VjaENhbmNlbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNNb3ZlaXNoKHRvcExldmVsVHlwZSkge1xuICAgICAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU1vdmUgfHwgdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoTW92ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNTdGFydGlzaCh0b3BMZXZlbFR5cGUpIHtcbiAgICAgIHJldHVybiB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duIHx8IHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BUb3VjaFN0YXJ0O1xuICAgIH1cbiAgICB2YXIgdmFsaWRhdGVFdmVudERpc3BhdGNoZXM7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIGRpc3BhdGNoTGlzdGVuZXJzID0gZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzO1xuICAgICAgICB2YXIgZGlzcGF0Y2hJbnN0YW5jZXMgPSBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXM7XG4gICAgICAgIHZhciBsaXN0ZW5lcnNJc0FyciA9IEFycmF5LmlzQXJyYXkoZGlzcGF0Y2hMaXN0ZW5lcnMpO1xuICAgICAgICB2YXIgbGlzdGVuZXJzTGVuID0gbGlzdGVuZXJzSXNBcnIgPyBkaXNwYXRjaExpc3RlbmVycy5sZW5ndGggOiBkaXNwYXRjaExpc3RlbmVycyA/IDEgOiAwO1xuICAgICAgICB2YXIgaW5zdGFuY2VzSXNBcnIgPSBBcnJheS5pc0FycmF5KGRpc3BhdGNoSW5zdGFuY2VzKTtcbiAgICAgICAgdmFyIGluc3RhbmNlc0xlbiA9IGluc3RhbmNlc0lzQXJyID8gZGlzcGF0Y2hJbnN0YW5jZXMubGVuZ3RoIDogZGlzcGF0Y2hJbnN0YW5jZXMgPyAxIDogMDtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoaW5zdGFuY2VzSXNBcnIgPT09IGxpc3RlbmVyc0lzQXJyICYmIGluc3RhbmNlc0xlbiA9PT0gbGlzdGVuZXJzTGVuLCAnRXZlbnRQbHVnaW5VdGlsczogSW52YWxpZCBgZXZlbnRgLicpIDogdm9pZCAwO1xuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGxpc3RlbmVyLCBpbnN0KSB7XG4gICAgICB2YXIgdHlwZSA9IGV2ZW50LnR5cGUgfHwgJ3Vua25vd24tZXZlbnQnO1xuICAgICAgZXZlbnQuY3VycmVudFRhcmdldCA9IEV2ZW50UGx1Z2luVXRpbHMuZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KTtcbiAgICAgIGlmIChzaW11bGF0ZWQpIHtcbiAgICAgICAgUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFja1dpdGhDYXRjaCh0eXBlLCBsaXN0ZW5lciwgZXZlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjayh0eXBlLCBsaXN0ZW5lciwgZXZlbnQpO1xuICAgICAgfVxuICAgICAgZXZlbnQuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcihldmVudCwgc2ltdWxhdGVkKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hMaXN0ZW5lcnMgPSBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG4gICAgICB2YXIgZGlzcGF0Y2hJbnN0YW5jZXMgPSBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXM7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyhldmVudCk7XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVycykpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXNwYXRjaExpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGRpc3BhdGNoTGlzdGVuZXJzW2ldLCBkaXNwYXRjaEluc3RhbmNlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZGlzcGF0Y2hMaXN0ZW5lcnMpIHtcbiAgICAgICAgZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGRpc3BhdGNoTGlzdGVuZXJzLCBkaXNwYXRjaEluc3RhbmNlcyk7XG4gICAgICB9XG4gICAgICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBudWxsO1xuICAgICAgZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZUltcGwoZXZlbnQpIHtcbiAgICAgIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgICAgIHZhciBkaXNwYXRjaEluc3RhbmNlcyA9IGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcztcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzKGV2ZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXJzKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BhdGNoTGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGlzcGF0Y2hMaXN0ZW5lcnNbaV0oZXZlbnQsIGRpc3BhdGNoSW5zdGFuY2VzW2ldKSkge1xuICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoSW5zdGFuY2VzW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChkaXNwYXRjaExpc3RlbmVycykge1xuICAgICAgICBpZiAoZGlzcGF0Y2hMaXN0ZW5lcnMoZXZlbnQsIGRpc3BhdGNoSW5zdGFuY2VzKSkge1xuICAgICAgICAgIHJldHVybiBkaXNwYXRjaEluc3RhbmNlcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlclN0b3BBdFRydWUoZXZlbnQpIHtcbiAgICAgIHZhciByZXQgPSBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlSW1wbChldmVudCk7XG4gICAgICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBudWxsO1xuICAgICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gbnVsbDtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4ZWN1dGVEaXJlY3REaXNwYXRjaChldmVudCkge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMoZXZlbnQpO1xuICAgICAgfVxuICAgICAgdmFyIGRpc3BhdGNoTGlzdGVuZXIgPSBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG4gICAgICB2YXIgZGlzcGF0Y2hJbnN0YW5jZSA9IGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcztcbiAgICAgICEhQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVyKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdleGVjdXRlRGlyZWN0RGlzcGF0Y2goLi4uKTogSW52YWxpZCBgZXZlbnRgLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBkaXNwYXRjaExpc3RlbmVyID8gRXZlbnRQbHVnaW5VdGlscy5nZXROb2RlRnJvbUluc3RhbmNlKGRpc3BhdGNoSW5zdGFuY2UpIDogbnVsbDtcbiAgICAgIHZhciByZXMgPSBkaXNwYXRjaExpc3RlbmVyID8gZGlzcGF0Y2hMaXN0ZW5lcihldmVudCkgOiBudWxsO1xuICAgICAgZXZlbnQuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBudWxsO1xuICAgICAgZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzID0gbnVsbDtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc0Rpc3BhdGNoZXMoZXZlbnQpIHtcbiAgICAgIHJldHVybiAhIWV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgICB9XG4gICAgdmFyIEV2ZW50UGx1Z2luVXRpbHMgPSB7XG4gICAgICBpc0VuZGlzaDogaXNFbmRpc2gsXG4gICAgICBpc01vdmVpc2g6IGlzTW92ZWlzaCxcbiAgICAgIGlzU3RhcnRpc2g6IGlzU3RhcnRpc2gsXG4gICAgICBleGVjdXRlRGlyZWN0RGlzcGF0Y2g6IGV4ZWN1dGVEaXJlY3REaXNwYXRjaCxcbiAgICAgIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcjogZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyLFxuICAgICAgZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZTogZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZSxcbiAgICAgIGhhc0Rpc3BhdGNoZXM6IGhhc0Rpc3BhdGNoZXMsXG4gICAgICBnZXRJbnN0YW5jZUZyb21Ob2RlOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIHJldHVybiBDb21wb25lbnRUcmVlLmdldEluc3RhbmNlRnJvbU5vZGUobm9kZSk7XG4gICAgICB9LFxuICAgICAgZ2V0Tm9kZUZyb21JbnN0YW5jZTogZnVuY3Rpb24obm9kZSkge1xuICAgICAgICByZXR1cm4gQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKG5vZGUpO1xuICAgICAgfSxcbiAgICAgIGlzQW5jZXN0b3I6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIFRyZWVUcmF2ZXJzYWwuaXNBbmNlc3RvcihhLCBiKTtcbiAgICAgIH0sXG4gICAgICBnZXRMb3dlc3RDb21tb25BbmNlc3RvcjogZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gVHJlZVRyYXZlcnNhbC5nZXRMb3dlc3RDb21tb25BbmNlc3RvcihhLCBiKTtcbiAgICAgIH0sXG4gICAgICBnZXRQYXJlbnRJbnN0YW5jZTogZnVuY3Rpb24oaW5zdCkge1xuICAgICAgICByZXR1cm4gVHJlZVRyYXZlcnNhbC5nZXRQYXJlbnRJbnN0YW5jZShpbnN0KTtcbiAgICAgIH0sXG4gICAgICB0cmF2ZXJzZVR3b1BoYXNlOiBmdW5jdGlvbih0YXJnZXQsIGZuLCBhcmcpIHtcbiAgICAgICAgcmV0dXJuIFRyZWVUcmF2ZXJzYWwudHJhdmVyc2VUd29QaGFzZSh0YXJnZXQsIGZuLCBhcmcpO1xuICAgICAgfSxcbiAgICAgIHRyYXZlcnNlRW50ZXJMZWF2ZTogZnVuY3Rpb24oZnJvbSwgdG8sIGZuLCBhcmdGcm9tLCBhcmdUbykge1xuICAgICAgICByZXR1cm4gVHJlZVRyYXZlcnNhbC50cmF2ZXJzZUVudGVyTGVhdmUoZnJvbSwgdG8sIGZuLCBhcmdGcm9tLCBhcmdUbyk7XG4gICAgICB9LFxuICAgICAgaW5qZWN0aW9uOiBpbmplY3Rpb25cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gRXZlbnRQbHVnaW5VdGlscztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNzFcIiwgW1wiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICBmdW5jdGlvbiBhY2N1bXVsYXRlSW50byhjdXJyZW50LCBuZXh0KSB7XG4gICAgICAhKG5leHQgIT0gbnVsbCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnYWNjdW11bGF0ZUludG8oLi4uKTogQWNjdW11bGF0ZWQgaXRlbXMgbXVzdCBub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaWYgKGN1cnJlbnQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgIH1cbiAgICAgIHZhciBjdXJyZW50SXNBcnJheSA9IEFycmF5LmlzQXJyYXkoY3VycmVudCk7XG4gICAgICB2YXIgbmV4dElzQXJyYXkgPSBBcnJheS5pc0FycmF5KG5leHQpO1xuICAgICAgaWYgKGN1cnJlbnRJc0FycmF5ICYmIG5leHRJc0FycmF5KSB7XG4gICAgICAgIGN1cnJlbnQucHVzaC5hcHBseShjdXJyZW50LCBuZXh0KTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudElzQXJyYXkpIHtcbiAgICAgICAgY3VycmVudC5wdXNoKG5leHQpO1xuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgIH1cbiAgICAgIGlmIChuZXh0SXNBcnJheSkge1xuICAgICAgICByZXR1cm4gW2N1cnJlbnRdLmNvbmNhdChuZXh0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbY3VycmVudCwgbmV4dF07XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gYWNjdW11bGF0ZUludG87XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjcyXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgZm9yRWFjaEFjY3VtdWxhdGVkID0gZnVuY3Rpb24oYXJyLCBjYiwgc2NvcGUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICBhcnIuZm9yRWFjaChjYiwgc2NvcGUpO1xuICAgIH0gZWxzZSBpZiAoYXJyKSB7XG4gICAgICBjYi5jYWxsKHNjb3BlLCBhcnIpO1xuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmb3JFYWNoQWNjdW11bGF0ZWQ7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTBcIiwgW1wiMzVcIiwgXCI2MlwiLCBcIjg2XCIsIFwiNzFcIiwgXCI3MlwiLCBcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEV2ZW50UGx1Z2luUmVnaXN0cnkgPSAkX19yZXF1aXJlKCczNScpO1xuICAgIHZhciBFdmVudFBsdWdpblV0aWxzID0gJF9fcmVxdWlyZSgnNjInKTtcbiAgICB2YXIgUmVhY3RFcnJvclV0aWxzID0gJF9fcmVxdWlyZSgnODYnKTtcbiAgICB2YXIgYWNjdW11bGF0ZUludG8gPSAkX19yZXF1aXJlKCc3MScpO1xuICAgIHZhciBmb3JFYWNoQWNjdW11bGF0ZWQgPSAkX19yZXF1aXJlKCc3MicpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBsaXN0ZW5lckJhbmsgPSB7fTtcbiAgICB2YXIgZXZlbnRRdWV1ZSA9IG51bGw7XG4gICAgdmFyIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZSA9IGZ1bmN0aW9uKGV2ZW50LCBzaW11bGF0ZWQpIHtcbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICBFdmVudFBsdWdpblV0aWxzLmV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcihldmVudCwgc2ltdWxhdGVkKTtcbiAgICAgICAgaWYgKCFldmVudC5pc1BlcnNpc3RlbnQoKSkge1xuICAgICAgICAgIGV2ZW50LmNvbnN0cnVjdG9yLnJlbGVhc2UoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlU2ltdWxhdGVkID0gZnVuY3Rpb24oZSkge1xuICAgICAgcmV0dXJuIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZShlLCB0cnVlKTtcbiAgICB9O1xuICAgIHZhciBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VUb3BMZXZlbCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHJldHVybiBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UoZSwgZmFsc2UpO1xuICAgIH07XG4gICAgdmFyIEV2ZW50UGx1Z2luSHViID0ge1xuICAgICAgaW5qZWN0aW9uOiB7XG4gICAgICAgIGluamVjdEV2ZW50UGx1Z2luT3JkZXI6IEV2ZW50UGx1Z2luUmVnaXN0cnkuaW5qZWN0RXZlbnRQbHVnaW5PcmRlcixcbiAgICAgICAgaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lOiBFdmVudFBsdWdpblJlZ2lzdHJ5LmluamVjdEV2ZW50UGx1Z2luc0J5TmFtZVxuICAgICAgfSxcbiAgICAgIHB1dExpc3RlbmVyOiBmdW5jdGlvbihpbnN0LCByZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lcikge1xuICAgICAgICAhKHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgJXMgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbiwgaW5zdGVhZCBnb3QgdHlwZSAlcycsIHJlZ2lzdHJhdGlvbk5hbWUsIHR5cGVvZiBsaXN0ZW5lcikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB2YXIgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWUgPSBsaXN0ZW5lckJhbmtbcmVnaXN0cmF0aW9uTmFtZV0gfHwgKGxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXSA9IHt9KTtcbiAgICAgICAgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWVbaW5zdC5fcm9vdE5vZGVJRF0gPSBsaXN0ZW5lcjtcbiAgICAgICAgdmFyIFBsdWdpbk1vZHVsZSA9IEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgICAgIGlmIChQbHVnaW5Nb2R1bGUgJiYgUGx1Z2luTW9kdWxlLmRpZFB1dExpc3RlbmVyKSB7XG4gICAgICAgICAgUGx1Z2luTW9kdWxlLmRpZFB1dExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUsIGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldExpc3RlbmVyOiBmdW5jdGlvbihpbnN0LCByZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBiYW5rRm9yUmVnaXN0cmF0aW9uTmFtZSA9IGxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgICAgICAgcmV0dXJuIGJhbmtGb3JSZWdpc3RyYXRpb25OYW1lICYmIGJhbmtGb3JSZWdpc3RyYXRpb25OYW1lW2luc3QuX3Jvb3ROb2RlSURdO1xuICAgICAgfSxcbiAgICAgIGRlbGV0ZUxpc3RlbmVyOiBmdW5jdGlvbihpbnN0LCByZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBQbHVnaW5Nb2R1bGUgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICAgICAgICBpZiAoUGx1Z2luTW9kdWxlICYmIFBsdWdpbk1vZHVsZS53aWxsRGVsZXRlTGlzdGVuZXIpIHtcbiAgICAgICAgICBQbHVnaW5Nb2R1bGUud2lsbERlbGV0ZUxpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYW5rRm9yUmVnaXN0cmF0aW9uTmFtZSA9IGxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgICAgICAgaWYgKGJhbmtGb3JSZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICAgICAgZGVsZXRlIGJhbmtGb3JSZWdpc3RyYXRpb25OYW1lW2luc3QuX3Jvb3ROb2RlSURdO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGVsZXRlQWxsTGlzdGVuZXJzOiBmdW5jdGlvbihpbnN0KSB7XG4gICAgICAgIGZvciAodmFyIHJlZ2lzdHJhdGlvbk5hbWUgaW4gbGlzdGVuZXJCYW5rKSB7XG4gICAgICAgICAgaWYgKCFsaXN0ZW5lckJhbmtbcmVnaXN0cmF0aW9uTmFtZV1baW5zdC5fcm9vdE5vZGVJRF0pIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgUGx1Z2luTW9kdWxlID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgICAgICAgICBpZiAoUGx1Z2luTW9kdWxlICYmIFBsdWdpbk1vZHVsZS53aWxsRGVsZXRlTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIFBsdWdpbk1vZHVsZS53aWxsRGVsZXRlTGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSBsaXN0ZW5lckJhbmtbcmVnaXN0cmF0aW9uTmFtZV1baW5zdC5fcm9vdE5vZGVJRF07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgICB2YXIgZXZlbnRzO1xuICAgICAgICB2YXIgcGx1Z2lucyA9IEV2ZW50UGx1Z2luUmVnaXN0cnkucGx1Z2lucztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwbHVnaW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHBvc3NpYmxlUGx1Z2luID0gcGx1Z2luc1tpXTtcbiAgICAgICAgICBpZiAocG9zc2libGVQbHVnaW4pIHtcbiAgICAgICAgICAgIHZhciBleHRyYWN0ZWRFdmVudHMgPSBwb3NzaWJsZVBsdWdpbi5leHRyYWN0RXZlbnRzKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICAgICAgICAgIGlmIChleHRyYWN0ZWRFdmVudHMpIHtcbiAgICAgICAgICAgICAgZXZlbnRzID0gYWNjdW11bGF0ZUludG8oZXZlbnRzLCBleHRyYWN0ZWRFdmVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXZlbnRzO1xuICAgICAgfSxcbiAgICAgIGVucXVldWVFdmVudHM6IGZ1bmN0aW9uKGV2ZW50cykge1xuICAgICAgICBpZiAoZXZlbnRzKSB7XG4gICAgICAgICAgZXZlbnRRdWV1ZSA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50UXVldWUsIGV2ZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwcm9jZXNzRXZlbnRRdWV1ZTogZnVuY3Rpb24oc2ltdWxhdGVkKSB7XG4gICAgICAgIHZhciBwcm9jZXNzaW5nRXZlbnRRdWV1ZSA9IGV2ZW50UXVldWU7XG4gICAgICAgIGV2ZW50UXVldWUgPSBudWxsO1xuICAgICAgICBpZiAoc2ltdWxhdGVkKSB7XG4gICAgICAgICAgZm9yRWFjaEFjY3VtdWxhdGVkKHByb2Nlc3NpbmdFdmVudFF1ZXVlLCBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VTaW11bGF0ZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvckVhY2hBY2N1bXVsYXRlZChwcm9jZXNzaW5nRXZlbnRRdWV1ZSwgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWwpO1xuICAgICAgICB9XG4gICAgICAgICEhZXZlbnRRdWV1ZSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdwcm9jZXNzRXZlbnRRdWV1ZSgpOiBBZGRpdGlvbmFsIGV2ZW50cyB3ZXJlIGVucXVldWVkIHdoaWxlIHByb2Nlc3NpbmcgJyArICdhbiBldmVudCBxdWV1ZS4gU3VwcG9ydCBmb3IgdGhpcyBoYXMgbm90IHlldCBiZWVuIGltcGxlbWVudGVkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgUmVhY3RFcnJvclV0aWxzLnJldGhyb3dDYXVnaHRFcnJvcigpO1xuICAgICAgfSxcbiAgICAgIF9fcHVyZ2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICBsaXN0ZW5lckJhbmsgPSB7fTtcbiAgICAgIH0sXG4gICAgICBfX2dldExpc3RlbmVyQmFuazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5lckJhbms7XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50UGx1Z2luSHViO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI4N1wiLCBbXCIxMFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIEV2ZW50UGx1Z2luSHViID0gJF9fcmVxdWlyZSgnMTAnKTtcbiAgZnVuY3Rpb24gcnVuRXZlbnRRdWV1ZUluQmF0Y2goZXZlbnRzKSB7XG4gICAgRXZlbnRQbHVnaW5IdWIuZW5xdWV1ZUV2ZW50cyhldmVudHMpO1xuICAgIEV2ZW50UGx1Z2luSHViLnByb2Nlc3NFdmVudFF1ZXVlKGZhbHNlKTtcbiAgfVxuICB2YXIgUmVhY3RFdmVudEVtaXR0ZXJNaXhpbiA9IHtoYW5kbGVUb3BMZXZlbDogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICAgIHZhciBldmVudHMgPSBFdmVudFBsdWdpbkh1Yi5leHRyYWN0RXZlbnRzKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICAgIHJ1bkV2ZW50UXVldWVJbkJhdGNoKGV2ZW50cyk7XG4gICAgfX07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RFdmVudEVtaXR0ZXJNaXhpbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI3ZVwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFZpZXdwb3J0TWV0cmljcyA9IHtcbiAgICBjdXJyZW50U2Nyb2xsTGVmdDogMCxcbiAgICBjdXJyZW50U2Nyb2xsVG9wOiAwLFxuICAgIHJlZnJlc2hTY3JvbGxWYWx1ZXM6IGZ1bmN0aW9uKHNjcm9sbFBvc2l0aW9uKSB7XG4gICAgICBWaWV3cG9ydE1ldHJpY3MuY3VycmVudFNjcm9sbExlZnQgPSBzY3JvbGxQb3NpdGlvbi54O1xuICAgICAgVmlld3BvcnRNZXRyaWNzLmN1cnJlbnRTY3JvbGxUb3AgPSBzY3JvbGxQb3NpdGlvbi55O1xuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBWaWV3cG9ydE1ldHJpY3M7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiODhcIiwgW1wiZFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnZCcpO1xuICBmdW5jdGlvbiBtYWtlUHJlZml4TWFwKHN0eWxlUHJvcCwgZXZlbnROYW1lKSB7XG4gICAgdmFyIHByZWZpeGVzID0ge307XG4gICAgcHJlZml4ZXNbc3R5bGVQcm9wLnRvTG93ZXJDYXNlKCldID0gZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgcHJlZml4ZXNbJ1dlYmtpdCcgKyBzdHlsZVByb3BdID0gJ3dlYmtpdCcgKyBldmVudE5hbWU7XG4gICAgcHJlZml4ZXNbJ01veicgKyBzdHlsZVByb3BdID0gJ21veicgKyBldmVudE5hbWU7XG4gICAgcHJlZml4ZXNbJ21zJyArIHN0eWxlUHJvcF0gPSAnTVMnICsgZXZlbnROYW1lO1xuICAgIHByZWZpeGVzWydPJyArIHN0eWxlUHJvcF0gPSAnbycgKyBldmVudE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gcHJlZml4ZXM7XG4gIH1cbiAgdmFyIHZlbmRvclByZWZpeGVzID0ge1xuICAgIGFuaW1hdGlvbmVuZDogbWFrZVByZWZpeE1hcCgnQW5pbWF0aW9uJywgJ0FuaW1hdGlvbkVuZCcpLFxuICAgIGFuaW1hdGlvbml0ZXJhdGlvbjogbWFrZVByZWZpeE1hcCgnQW5pbWF0aW9uJywgJ0FuaW1hdGlvbkl0ZXJhdGlvbicpLFxuICAgIGFuaW1hdGlvbnN0YXJ0OiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uU3RhcnQnKSxcbiAgICB0cmFuc2l0aW9uZW5kOiBtYWtlUHJlZml4TWFwKCdUcmFuc2l0aW9uJywgJ1RyYW5zaXRpb25FbmQnKVxuICB9O1xuICB2YXIgcHJlZml4ZWRFdmVudE5hbWVzID0ge307XG4gIHZhciBzdHlsZSA9IHt9O1xuICBpZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTtcbiAgICBpZiAoISgnQW5pbWF0aW9uRXZlbnQnIGluIHdpbmRvdykpIHtcbiAgICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25lbmQuYW5pbWF0aW9uO1xuICAgICAgZGVsZXRlIHZlbmRvclByZWZpeGVzLmFuaW1hdGlvbml0ZXJhdGlvbi5hbmltYXRpb247XG4gICAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMuYW5pbWF0aW9uc3RhcnQuYW5pbWF0aW9uO1xuICAgIH1cbiAgICBpZiAoISgnVHJhbnNpdGlvbkV2ZW50JyBpbiB3aW5kb3cpKSB7XG4gICAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShldmVudE5hbWUpIHtcbiAgICBpZiAocHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV0pIHtcbiAgICAgIHJldHVybiBwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXTtcbiAgICB9IGVsc2UgaWYgKCF2ZW5kb3JQcmVmaXhlc1tldmVudE5hbWVdKSB7XG4gICAgICByZXR1cm4gZXZlbnROYW1lO1xuICAgIH1cbiAgICB2YXIgcHJlZml4TWFwID0gdmVuZG9yUHJlZml4ZXNbZXZlbnROYW1lXTtcbiAgICBmb3IgKHZhciBzdHlsZVByb3AgaW4gcHJlZml4TWFwKSB7XG4gICAgICBpZiAocHJlZml4TWFwLmhhc093blByb3BlcnR5KHN0eWxlUHJvcCkgJiYgc3R5bGVQcm9wIGluIHN0eWxlKSB7XG4gICAgICAgIHJldHVybiBwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXSA9IHByZWZpeE1hcFtzdHlsZVByb3BdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxNFwiLCBbXCJkXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSAkX19yZXF1aXJlKCdkJyk7XG4gIHZhciB1c2VIYXNGZWF0dXJlO1xuICBpZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgdXNlSGFzRmVhdHVyZSA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uICYmIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUgJiYgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgnJywgJycpICE9PSB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIGlzRXZlbnRTdXBwb3J0ZWQoZXZlbnROYW1lU3VmZml4LCBjYXB0dXJlKSB7XG4gICAgaWYgKCFFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gfHwgY2FwdHVyZSAmJiAhKCdhZGRFdmVudExpc3RlbmVyJyBpbiBkb2N1bWVudCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGV2ZW50TmFtZSA9ICdvbicgKyBldmVudE5hbWVTdWZmaXg7XG4gICAgdmFyIGlzU3VwcG9ydGVkID0gZXZlbnROYW1lIGluIGRvY3VtZW50O1xuICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShldmVudE5hbWUsICdyZXR1cm47Jyk7XG4gICAgICBpc1N1cHBvcnRlZCA9IHR5cGVvZiBlbGVtZW50W2V2ZW50TmFtZV0gPT09ICdmdW5jdGlvbic7XG4gICAgfVxuICAgIGlmICghaXNTdXBwb3J0ZWQgJiYgdXNlSGFzRmVhdHVyZSAmJiBldmVudE5hbWVTdWZmaXggPT09ICd3aGVlbCcpIHtcbiAgICAgIGlzU3VwcG9ydGVkID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgnRXZlbnRzLndoZWVsJywgJzMuMCcpO1xuICAgIH1cbiAgICByZXR1cm4gaXNTdXBwb3J0ZWQ7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBpc0V2ZW50U3VwcG9ydGVkO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjRlXCIsIFtcIjZcIiwgXCJiXCIsIFwiMzVcIiwgXCI4N1wiLCBcIjdlXCIsIFwiODhcIiwgXCIxNFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICAgIHZhciBFdmVudENvbnN0YW50cyA9ICRfX3JlcXVpcmUoJ2InKTtcbiAgICB2YXIgRXZlbnRQbHVnaW5SZWdpc3RyeSA9ICRfX3JlcXVpcmUoJzM1Jyk7XG4gICAgdmFyIFJlYWN0RXZlbnRFbWl0dGVyTWl4aW4gPSAkX19yZXF1aXJlKCc4NycpO1xuICAgIHZhciBWaWV3cG9ydE1ldHJpY3MgPSAkX19yZXF1aXJlKCc3ZScpO1xuICAgIHZhciBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSA9ICRfX3JlcXVpcmUoJzg4Jyk7XG4gICAgdmFyIGlzRXZlbnRTdXBwb3J0ZWQgPSAkX19yZXF1aXJlKCcxNCcpO1xuICAgIHZhciBoYXNFdmVudFBhZ2VYWTtcbiAgICB2YXIgYWxyZWFkeUxpc3RlbmluZ1RvID0ge307XG4gICAgdmFyIGlzTW9uaXRvcmluZ1Njcm9sbFZhbHVlID0gZmFsc2U7XG4gICAgdmFyIHJlYWN0VG9wTGlzdGVuZXJzQ291bnRlciA9IDA7XG4gICAgdmFyIHRvcEV2ZW50TWFwcGluZyA9IHtcbiAgICAgIHRvcEFib3J0OiAnYWJvcnQnLFxuICAgICAgdG9wQW5pbWF0aW9uRW5kOiBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSgnYW5pbWF0aW9uZW5kJykgfHwgJ2FuaW1hdGlvbmVuZCcsXG4gICAgICB0b3BBbmltYXRpb25JdGVyYXRpb246IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCdhbmltYXRpb25pdGVyYXRpb24nKSB8fCAnYW5pbWF0aW9uaXRlcmF0aW9uJyxcbiAgICAgIHRvcEFuaW1hdGlvblN0YXJ0OiBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSgnYW5pbWF0aW9uc3RhcnQnKSB8fCAnYW5pbWF0aW9uc3RhcnQnLFxuICAgICAgdG9wQmx1cjogJ2JsdXInLFxuICAgICAgdG9wQ2FuUGxheTogJ2NhbnBsYXknLFxuICAgICAgdG9wQ2FuUGxheVRocm91Z2g6ICdjYW5wbGF5dGhyb3VnaCcsXG4gICAgICB0b3BDaGFuZ2U6ICdjaGFuZ2UnLFxuICAgICAgdG9wQ2xpY2s6ICdjbGljaycsXG4gICAgICB0b3BDb21wb3NpdGlvbkVuZDogJ2NvbXBvc2l0aW9uZW5kJyxcbiAgICAgIHRvcENvbXBvc2l0aW9uU3RhcnQ6ICdjb21wb3NpdGlvbnN0YXJ0JyxcbiAgICAgIHRvcENvbXBvc2l0aW9uVXBkYXRlOiAnY29tcG9zaXRpb251cGRhdGUnLFxuICAgICAgdG9wQ29udGV4dE1lbnU6ICdjb250ZXh0bWVudScsXG4gICAgICB0b3BDb3B5OiAnY29weScsXG4gICAgICB0b3BDdXQ6ICdjdXQnLFxuICAgICAgdG9wRG91YmxlQ2xpY2s6ICdkYmxjbGljaycsXG4gICAgICB0b3BEcmFnOiAnZHJhZycsXG4gICAgICB0b3BEcmFnRW5kOiAnZHJhZ2VuZCcsXG4gICAgICB0b3BEcmFnRW50ZXI6ICdkcmFnZW50ZXInLFxuICAgICAgdG9wRHJhZ0V4aXQ6ICdkcmFnZXhpdCcsXG4gICAgICB0b3BEcmFnTGVhdmU6ICdkcmFnbGVhdmUnLFxuICAgICAgdG9wRHJhZ092ZXI6ICdkcmFnb3ZlcicsXG4gICAgICB0b3BEcmFnU3RhcnQ6ICdkcmFnc3RhcnQnLFxuICAgICAgdG9wRHJvcDogJ2Ryb3AnLFxuICAgICAgdG9wRHVyYXRpb25DaGFuZ2U6ICdkdXJhdGlvbmNoYW5nZScsXG4gICAgICB0b3BFbXB0aWVkOiAnZW1wdGllZCcsXG4gICAgICB0b3BFbmNyeXB0ZWQ6ICdlbmNyeXB0ZWQnLFxuICAgICAgdG9wRW5kZWQ6ICdlbmRlZCcsXG4gICAgICB0b3BFcnJvcjogJ2Vycm9yJyxcbiAgICAgIHRvcEZvY3VzOiAnZm9jdXMnLFxuICAgICAgdG9wSW5wdXQ6ICdpbnB1dCcsXG4gICAgICB0b3BLZXlEb3duOiAna2V5ZG93bicsXG4gICAgICB0b3BLZXlQcmVzczogJ2tleXByZXNzJyxcbiAgICAgIHRvcEtleVVwOiAna2V5dXAnLFxuICAgICAgdG9wTG9hZGVkRGF0YTogJ2xvYWRlZGRhdGEnLFxuICAgICAgdG9wTG9hZGVkTWV0YWRhdGE6ICdsb2FkZWRtZXRhZGF0YScsXG4gICAgICB0b3BMb2FkU3RhcnQ6ICdsb2Fkc3RhcnQnLFxuICAgICAgdG9wTW91c2VEb3duOiAnbW91c2Vkb3duJyxcbiAgICAgIHRvcE1vdXNlTW92ZTogJ21vdXNlbW92ZScsXG4gICAgICB0b3BNb3VzZU91dDogJ21vdXNlb3V0JyxcbiAgICAgIHRvcE1vdXNlT3ZlcjogJ21vdXNlb3ZlcicsXG4gICAgICB0b3BNb3VzZVVwOiAnbW91c2V1cCcsXG4gICAgICB0b3BQYXN0ZTogJ3Bhc3RlJyxcbiAgICAgIHRvcFBhdXNlOiAncGF1c2UnLFxuICAgICAgdG9wUGxheTogJ3BsYXknLFxuICAgICAgdG9wUGxheWluZzogJ3BsYXlpbmcnLFxuICAgICAgdG9wUHJvZ3Jlc3M6ICdwcm9ncmVzcycsXG4gICAgICB0b3BSYXRlQ2hhbmdlOiAncmF0ZWNoYW5nZScsXG4gICAgICB0b3BTY3JvbGw6ICdzY3JvbGwnLFxuICAgICAgdG9wU2Vla2VkOiAnc2Vla2VkJyxcbiAgICAgIHRvcFNlZWtpbmc6ICdzZWVraW5nJyxcbiAgICAgIHRvcFNlbGVjdGlvbkNoYW5nZTogJ3NlbGVjdGlvbmNoYW5nZScsXG4gICAgICB0b3BTdGFsbGVkOiAnc3RhbGxlZCcsXG4gICAgICB0b3BTdXNwZW5kOiAnc3VzcGVuZCcsXG4gICAgICB0b3BUZXh0SW5wdXQ6ICd0ZXh0SW5wdXQnLFxuICAgICAgdG9wVGltZVVwZGF0ZTogJ3RpbWV1cGRhdGUnLFxuICAgICAgdG9wVG91Y2hDYW5jZWw6ICd0b3VjaGNhbmNlbCcsXG4gICAgICB0b3BUb3VjaEVuZDogJ3RvdWNoZW5kJyxcbiAgICAgIHRvcFRvdWNoTW92ZTogJ3RvdWNobW92ZScsXG4gICAgICB0b3BUb3VjaFN0YXJ0OiAndG91Y2hzdGFydCcsXG4gICAgICB0b3BUcmFuc2l0aW9uRW5kOiBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSgndHJhbnNpdGlvbmVuZCcpIHx8ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgIHRvcFZvbHVtZUNoYW5nZTogJ3ZvbHVtZWNoYW5nZScsXG4gICAgICB0b3BXYWl0aW5nOiAnd2FpdGluZycsXG4gICAgICB0b3BXaGVlbDogJ3doZWVsJ1xuICAgIH07XG4gICAgdmFyIHRvcExpc3RlbmVyc0lES2V5ID0gJ19yZWFjdExpc3RlbmVyc0lEJyArIFN0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgyKTtcbiAgICBmdW5jdGlvbiBnZXRMaXN0ZW5pbmdGb3JEb2N1bWVudChtb3VudEF0KSB7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3VudEF0LCB0b3BMaXN0ZW5lcnNJREtleSkpIHtcbiAgICAgICAgbW91bnRBdFt0b3BMaXN0ZW5lcnNJREtleV0gPSByZWFjdFRvcExpc3RlbmVyc0NvdW50ZXIrKztcbiAgICAgICAgYWxyZWFkeUxpc3RlbmluZ1RvW21vdW50QXRbdG9wTGlzdGVuZXJzSURLZXldXSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFscmVhZHlMaXN0ZW5pbmdUb1ttb3VudEF0W3RvcExpc3RlbmVyc0lES2V5XV07XG4gICAgfVxuICAgIHZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSBfYXNzaWduKHt9LCBSZWFjdEV2ZW50RW1pdHRlck1peGluLCB7XG4gICAgICBSZWFjdEV2ZW50TGlzdGVuZXI6IG51bGwsXG4gICAgICBpbmplY3Rpb246IHtpbmplY3RSZWFjdEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uKFJlYWN0RXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgIFJlYWN0RXZlbnRMaXN0ZW5lci5zZXRIYW5kbGVUb3BMZXZlbChSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuaGFuZGxlVG9wTGV2ZWwpO1xuICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIgPSBSZWFjdEV2ZW50TGlzdGVuZXI7XG4gICAgICAgIH19LFxuICAgICAgc2V0RW5hYmxlZDogZnVuY3Rpb24oZW5hYmxlZCkge1xuICAgICAgICBpZiAoUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIuc2V0RW5hYmxlZChlbmFibGVkKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGlzRW5hYmxlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAhIShSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyICYmIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIuaXNFbmFibGVkKCkpO1xuICAgICAgfSxcbiAgICAgIGxpc3RlblRvOiBmdW5jdGlvbihyZWdpc3RyYXRpb25OYW1lLCBjb250ZW50RG9jdW1lbnRIYW5kbGUpIHtcbiAgICAgICAgdmFyIG1vdW50QXQgPSBjb250ZW50RG9jdW1lbnRIYW5kbGU7XG4gICAgICAgIHZhciBpc0xpc3RlbmluZyA9IGdldExpc3RlbmluZ0ZvckRvY3VtZW50KG1vdW50QXQpO1xuICAgICAgICB2YXIgZGVwZW5kZW5jaWVzID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICAgICAgICB2YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGRlcGVuZGVuY3kgPSBkZXBlbmRlbmNpZXNbaV07XG4gICAgICAgICAgaWYgKCEoaXNMaXN0ZW5pbmcuaGFzT3duUHJvcGVydHkoZGVwZW5kZW5jeSkgJiYgaXNMaXN0ZW5pbmdbZGVwZW5kZW5jeV0pKSB7XG4gICAgICAgICAgICBpZiAoZGVwZW5kZW5jeSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BXaGVlbCkge1xuICAgICAgICAgICAgICBpZiAoaXNFdmVudFN1cHBvcnRlZCgnd2hlZWwnKSkge1xuICAgICAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcFdoZWVsLCAnd2hlZWwnLCBtb3VudEF0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0V2ZW50U3VwcG9ydGVkKCdtb3VzZXdoZWVsJykpIHtcbiAgICAgICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBCdWJibGVkRXZlbnQodG9wTGV2ZWxUeXBlcy50b3BXaGVlbCwgJ21vdXNld2hlZWwnLCBtb3VudEF0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBCdWJibGVkRXZlbnQodG9wTGV2ZWxUeXBlcy50b3BXaGVlbCwgJ0RPTU1vdXNlU2Nyb2xsJywgbW91bnRBdCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVwZW5kZW5jeSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BTY3JvbGwpIHtcbiAgICAgICAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ3Njcm9sbCcsIHRydWUpKSB7XG4gICAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQ2FwdHVyZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcFNjcm9sbCwgJ3Njcm9sbCcsIG1vdW50QXQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcFNjcm9sbCwgJ3Njcm9sbCcsIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIuV0lORE9XX0hBTkRMRSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVwZW5kZW5jeSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BGb2N1cyB8fCBkZXBlbmRlbmN5ID09PSB0b3BMZXZlbFR5cGVzLnRvcEJsdXIpIHtcbiAgICAgICAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ2ZvY3VzJywgdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBDYXB0dXJlZEV2ZW50KHRvcExldmVsVHlwZXMudG9wRm9jdXMsICdmb2N1cycsIG1vdW50QXQpO1xuICAgICAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcENhcHR1cmVkRXZlbnQodG9wTGV2ZWxUeXBlcy50b3BCbHVyLCAnYmx1cicsIG1vdW50QXQpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ2ZvY3VzaW4nKSkge1xuICAgICAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcEZvY3VzLCAnZm9jdXNpbicsIG1vdW50QXQpO1xuICAgICAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcEJsdXIsICdmb2N1c291dCcsIG1vdW50QXQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlzTGlzdGVuaW5nW3RvcExldmVsVHlwZXMudG9wQmx1cl0gPSB0cnVlO1xuICAgICAgICAgICAgICBpc0xpc3RlbmluZ1t0b3BMZXZlbFR5cGVzLnRvcEZvY3VzXSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRvcEV2ZW50TWFwcGluZy5oYXNPd25Qcm9wZXJ0eShkZXBlbmRlbmN5KSkge1xuICAgICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBCdWJibGVkRXZlbnQoZGVwZW5kZW5jeSwgdG9wRXZlbnRNYXBwaW5nW2RlcGVuZGVuY3ldLCBtb3VudEF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzTGlzdGVuaW5nW2RlcGVuZGVuY3ldID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0cmFwQnViYmxlZEV2ZW50OiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgaGFuZGxlKSB7XG4gICAgICAgIHJldHVybiBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBCdWJibGVkRXZlbnQodG9wTGV2ZWxUeXBlLCBoYW5kbGVyQmFzZU5hbWUsIGhhbmRsZSk7XG4gICAgICB9LFxuICAgICAgdHJhcENhcHR1cmVkRXZlbnQ6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgaGFuZGxlckJhc2VOYW1lLCBoYW5kbGUpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcENhcHR1cmVkRXZlbnQodG9wTGV2ZWxUeXBlLCBoYW5kbGVyQmFzZU5hbWUsIGhhbmRsZSk7XG4gICAgICB9LFxuICAgICAgZW5zdXJlU2Nyb2xsVmFsdWVNb25pdG9yaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGhhc0V2ZW50UGFnZVhZID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBoYXNFdmVudFBhZ2VYWSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50ICYmICdwYWdlWCcgaW4gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc0V2ZW50UGFnZVhZICYmICFpc01vbml0b3JpbmdTY3JvbGxWYWx1ZSkge1xuICAgICAgICAgIHZhciByZWZyZXNoID0gVmlld3BvcnRNZXRyaWNzLnJlZnJlc2hTY3JvbGxWYWx1ZXM7XG4gICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci5tb25pdG9yU2Nyb2xsVmFsdWUocmVmcmVzaCk7XG4gICAgICAgICAgaXNNb25pdG9yaW5nU2Nyb2xsVmFsdWUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXI7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjFiXCIsIFtcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgZnVuY3Rpb24gY2hlY2tNYXNrKHZhbHVlLCBiaXRtYXNrKSB7XG4gICAgICByZXR1cm4gKHZhbHVlICYgYml0bWFzaykgPT09IGJpdG1hc2s7XG4gICAgfVxuICAgIHZhciBET01Qcm9wZXJ0eUluamVjdGlvbiA9IHtcbiAgICAgIE1VU1RfVVNFX1BST1BFUlRZOiAweDEsXG4gICAgICBIQVNfU0lERV9FRkZFQ1RTOiAweDIsXG4gICAgICBIQVNfQk9PTEVBTl9WQUxVRTogMHg0LFxuICAgICAgSEFTX05VTUVSSUNfVkFMVUU6IDB4OCxcbiAgICAgIEhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFOiAweDEwIHwgMHg4LFxuICAgICAgSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRTogMHgyMCxcbiAgICAgIGluamVjdERPTVByb3BlcnR5Q29uZmlnOiBmdW5jdGlvbihkb21Qcm9wZXJ0eUNvbmZpZykge1xuICAgICAgICB2YXIgSW5qZWN0aW9uID0gRE9NUHJvcGVydHlJbmplY3Rpb247XG4gICAgICAgIHZhciBQcm9wZXJ0aWVzID0gZG9tUHJvcGVydHlDb25maWcuUHJvcGVydGllcyB8fCB7fTtcbiAgICAgICAgdmFyIERPTUF0dHJpYnV0ZU5hbWVzcGFjZXMgPSBkb21Qcm9wZXJ0eUNvbmZpZy5ET01BdHRyaWJ1dGVOYW1lc3BhY2VzIHx8IHt9O1xuICAgICAgICB2YXIgRE9NQXR0cmlidXRlTmFtZXMgPSBkb21Qcm9wZXJ0eUNvbmZpZy5ET01BdHRyaWJ1dGVOYW1lcyB8fCB7fTtcbiAgICAgICAgdmFyIERPTVByb3BlcnR5TmFtZXMgPSBkb21Qcm9wZXJ0eUNvbmZpZy5ET01Qcm9wZXJ0eU5hbWVzIHx8IHt9O1xuICAgICAgICB2YXIgRE9NTXV0YXRpb25NZXRob2RzID0gZG9tUHJvcGVydHlDb25maWcuRE9NTXV0YXRpb25NZXRob2RzIHx8IHt9O1xuICAgICAgICBpZiAoZG9tUHJvcGVydHlDb25maWcuaXNDdXN0b21BdHRyaWJ1dGUpIHtcbiAgICAgICAgICBET01Qcm9wZXJ0eS5faXNDdXN0b21BdHRyaWJ1dGVGdW5jdGlvbnMucHVzaChkb21Qcm9wZXJ0eUNvbmZpZy5pc0N1c3RvbUF0dHJpYnV0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gUHJvcGVydGllcykge1xuICAgICAgICAgICEhRE9NUHJvcGVydHkucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnaW5qZWN0RE9NUHJvcGVydHlDb25maWcoLi4uKTogWW91XFwncmUgdHJ5aW5nIHRvIGluamVjdCBET00gcHJvcGVydHkgJyArICdcXCclc1xcJyB3aGljaCBoYXMgYWxyZWFkeSBiZWVuIGluamVjdGVkLiBZb3UgbWF5IGJlIGFjY2lkZW50YWxseSAnICsgJ2luamVjdGluZyB0aGUgc2FtZSBET00gcHJvcGVydHkgY29uZmlnIHR3aWNlLCBvciB5b3UgbWF5IGJlICcgKyAnaW5qZWN0aW5nIHR3byBjb25maWdzIHRoYXQgaGF2ZSBjb25mbGljdGluZyBwcm9wZXJ0eSBuYW1lcy4nLCBwcm9wTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIHZhciBsb3dlckNhc2VkID0gcHJvcE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICB2YXIgcHJvcENvbmZpZyA9IFByb3BlcnRpZXNbcHJvcE5hbWVdO1xuICAgICAgICAgIHZhciBwcm9wZXJ0eUluZm8gPSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiBsb3dlckNhc2VkLFxuICAgICAgICAgICAgYXR0cmlidXRlTmFtZXNwYWNlOiBudWxsLFxuICAgICAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wTmFtZSxcbiAgICAgICAgICAgIG11dGF0aW9uTWV0aG9kOiBudWxsLFxuICAgICAgICAgICAgbXVzdFVzZVByb3BlcnR5OiBjaGVja01hc2socHJvcENvbmZpZywgSW5qZWN0aW9uLk1VU1RfVVNFX1BST1BFUlRZKSxcbiAgICAgICAgICAgIGhhc1NpZGVFZmZlY3RzOiBjaGVja01hc2socHJvcENvbmZpZywgSW5qZWN0aW9uLkhBU19TSURFX0VGRkVDVFMpLFxuICAgICAgICAgICAgaGFzQm9vbGVhblZhbHVlOiBjaGVja01hc2socHJvcENvbmZpZywgSW5qZWN0aW9uLkhBU19CT09MRUFOX1ZBTFVFKSxcbiAgICAgICAgICAgIGhhc051bWVyaWNWYWx1ZTogY2hlY2tNYXNrKHByb3BDb25maWcsIEluamVjdGlvbi5IQVNfTlVNRVJJQ19WQUxVRSksXG4gICAgICAgICAgICBoYXNQb3NpdGl2ZU51bWVyaWNWYWx1ZTogY2hlY2tNYXNrKHByb3BDb25maWcsIEluamVjdGlvbi5IQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSksXG4gICAgICAgICAgICBoYXNPdmVybG9hZGVkQm9vbGVhblZhbHVlOiBjaGVja01hc2socHJvcENvbmZpZywgSW5qZWN0aW9uLkhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUUpXG4gICAgICAgICAgfTtcbiAgICAgICAgICAhKHByb3BlcnR5SW5mby5tdXN0VXNlUHJvcGVydHkgfHwgIXByb3BlcnR5SW5mby5oYXNTaWRlRWZmZWN0cykgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRE9NUHJvcGVydHk6IFByb3BlcnRpZXMgdGhhdCBoYXZlIHNpZGUgZWZmZWN0cyBtdXN0IHVzZSBwcm9wZXJ0eTogJXMnLCBwcm9wTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgICEocHJvcGVydHlJbmZvLmhhc0Jvb2xlYW5WYWx1ZSArIHByb3BlcnR5SW5mby5oYXNOdW1lcmljVmFsdWUgKyBwcm9wZXJ0eUluZm8uaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZSA8PSAxKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdET01Qcm9wZXJ0eTogVmFsdWUgY2FuIGJlIG9uZSBvZiBib29sZWFuLCBvdmVybG9hZGVkIGJvb2xlYW4sIG9yICcgKyAnbnVtZXJpYyB2YWx1ZSwgYnV0IG5vdCBhIGNvbWJpbmF0aW9uOiAlcycsIHByb3BOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIERPTVByb3BlcnR5LmdldFBvc3NpYmxlU3RhbmRhcmROYW1lW2xvd2VyQ2FzZWRdID0gcHJvcE5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChET01BdHRyaWJ1dGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gRE9NQXR0cmlidXRlTmFtZXNbcHJvcE5hbWVdO1xuICAgICAgICAgICAgcHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGVOYW1lO1xuICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgRE9NUHJvcGVydHkuZ2V0UG9zc2libGVTdGFuZGFyZE5hbWVbYXR0cmlidXRlTmFtZV0gPSBwcm9wTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKERPTUF0dHJpYnV0ZU5hbWVzcGFjZXMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eUluZm8uYXR0cmlidXRlTmFtZXNwYWNlID0gRE9NQXR0cmlidXRlTmFtZXNwYWNlc1twcm9wTmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChET01Qcm9wZXJ0eU5hbWVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZSA9IERPTVByb3BlcnR5TmFtZXNbcHJvcE5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoRE9NTXV0YXRpb25NZXRob2RzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgcHJvcGVydHlJbmZvLm11dGF0aW9uTWV0aG9kID0gRE9NTXV0YXRpb25NZXRob2RzW3Byb3BOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgRE9NUHJvcGVydHkucHJvcGVydGllc1twcm9wTmFtZV0gPSBwcm9wZXJ0eUluZm87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSID0gJzpBLVpfYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkQnO1xuICAgIHZhciBET01Qcm9wZXJ0eSA9IHtcbiAgICAgIElEX0FUVFJJQlVURV9OQU1FOiAnZGF0YS1yZWFjdGlkJyxcbiAgICAgIFJPT1RfQVRUUklCVVRFX05BTUU6ICdkYXRhLXJlYWN0cm9vdCcsXG4gICAgICBBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSOiBBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSLFxuICAgICAgQVRUUklCVVRFX05BTUVfQ0hBUjogQVRUUklCVVRFX05BTUVfU1RBUlRfQ0hBUiArICdcXFxcLS4wLTlcXFxcdUI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDAnLFxuICAgICAgcHJvcGVydGllczoge30sXG4gICAgICBnZXRQb3NzaWJsZVN0YW5kYXJkTmFtZTogXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHt9IDogbnVsbCxcbiAgICAgIF9pc0N1c3RvbUF0dHJpYnV0ZUZ1bmN0aW9uczogW10sXG4gICAgICBpc0N1c3RvbUF0dHJpYnV0ZTogZnVuY3Rpb24oYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IERPTVByb3BlcnR5Ll9pc0N1c3RvbUF0dHJpYnV0ZUZ1bmN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBpc0N1c3RvbUF0dHJpYnV0ZUZuID0gRE9NUHJvcGVydHkuX2lzQ3VzdG9tQXR0cmlidXRlRnVuY3Rpb25zW2ldO1xuICAgICAgICAgIGlmIChpc0N1c3RvbUF0dHJpYnV0ZUZuKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSxcbiAgICAgIGluamVjdGlvbjogRE9NUHJvcGVydHlJbmplY3Rpb25cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gRE9NUHJvcGVydHk7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjRmXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRGbGFncyA9IHtoYXNDYWNoZWRDaGlsZE5vZGVzOiAxIDw8IDB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NQ29tcG9uZW50RmxhZ3M7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTFcIiwgW1wiMWJcIiwgXCI0ZlwiLCBcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIERPTVByb3BlcnR5ID0gJF9fcmVxdWlyZSgnMWInKTtcbiAgICB2YXIgUmVhY3RET01Db21wb25lbnRGbGFncyA9ICRfX3JlcXVpcmUoJzRmJyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIEFUVFJfTkFNRSA9IERPTVByb3BlcnR5LklEX0FUVFJJQlVURV9OQU1FO1xuICAgIHZhciBGbGFncyA9IFJlYWN0RE9NQ29tcG9uZW50RmxhZ3M7XG4gICAgdmFyIGludGVybmFsSW5zdGFuY2VLZXkgPSAnX19yZWFjdEludGVybmFsSW5zdGFuY2UkJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xuICAgIGZ1bmN0aW9uIGdldFJlbmRlcmVkTmF0aXZlT3JUZXh0RnJvbUNvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICAgIHZhciByZW5kZXJlZDtcbiAgICAgIHdoaWxlIChyZW5kZXJlZCA9IGNvbXBvbmVudC5fcmVuZGVyZWRDb21wb25lbnQpIHtcbiAgICAgICAgY29tcG9uZW50ID0gcmVuZGVyZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVjYWNoZU5vZGUoaW5zdCwgbm9kZSkge1xuICAgICAgdmFyIG5hdGl2ZUluc3QgPSBnZXRSZW5kZXJlZE5hdGl2ZU9yVGV4dEZyb21Db21wb25lbnQoaW5zdCk7XG4gICAgICBuYXRpdmVJbnN0Ll9uYXRpdmVOb2RlID0gbm9kZTtcbiAgICAgIG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSBuYXRpdmVJbnN0O1xuICAgIH1cbiAgICBmdW5jdGlvbiB1bmNhY2hlTm9kZShpbnN0KSB7XG4gICAgICB2YXIgbm9kZSA9IGluc3QuX25hdGl2ZU5vZGU7XG4gICAgICBpZiAobm9kZSkge1xuICAgICAgICBkZWxldGUgbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XTtcbiAgICAgICAgaW5zdC5fbmF0aXZlTm9kZSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZWNhY2hlQ2hpbGROb2RlcyhpbnN0LCBub2RlKSB7XG4gICAgICBpZiAoaW5zdC5fZmxhZ3MgJiBGbGFncy5oYXNDYWNoZWRDaGlsZE5vZGVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBjaGlsZHJlbiA9IGluc3QuX3JlbmRlcmVkQ2hpbGRyZW47XG4gICAgICB2YXIgY2hpbGROb2RlID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgb3V0ZXI6IGZvciAodmFyIG5hbWUgaW4gY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKCFjaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGlsZEluc3QgPSBjaGlsZHJlbltuYW1lXTtcbiAgICAgICAgdmFyIGNoaWxkSUQgPSBnZXRSZW5kZXJlZE5hdGl2ZU9yVGV4dEZyb21Db21wb25lbnQoY2hpbGRJbnN0KS5fZG9tSUQ7XG4gICAgICAgIGlmIChjaGlsZElEID09IG51bGwpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKDsgY2hpbGROb2RlICE9PSBudWxsOyBjaGlsZE5vZGUgPSBjaGlsZE5vZGUubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICBpZiAoY2hpbGROb2RlLm5vZGVUeXBlID09PSAxICYmIGNoaWxkTm9kZS5nZXRBdHRyaWJ1dGUoQVRUUl9OQU1FKSA9PT0gU3RyaW5nKGNoaWxkSUQpIHx8IGNoaWxkTm9kZS5ub2RlVHlwZSA9PT0gOCAmJiBjaGlsZE5vZGUubm9kZVZhbHVlID09PSAnIHJlYWN0LXRleHQ6ICcgKyBjaGlsZElEICsgJyAnIHx8IGNoaWxkTm9kZS5ub2RlVHlwZSA9PT0gOCAmJiBjaGlsZE5vZGUubm9kZVZhbHVlID09PSAnIHJlYWN0LWVtcHR5OiAnICsgY2hpbGRJRCArICcgJykge1xuICAgICAgICAgICAgcHJlY2FjaGVOb2RlKGNoaWxkSW5zdCwgY2hpbGROb2RlKTtcbiAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAhZmFsc2UgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnVW5hYmxlIHRvIGZpbmQgZWxlbWVudCB3aXRoIElEICVzLicsIGNoaWxkSUQpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGluc3QuX2ZsYWdzIHw9IEZsYWdzLmhhc0NhY2hlZENoaWxkTm9kZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKG5vZGUpIHtcbiAgICAgIGlmIChub2RlW2ludGVybmFsSW5zdGFuY2VLZXldKSB7XG4gICAgICAgIHJldHVybiBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldO1xuICAgICAgfVxuICAgICAgdmFyIHBhcmVudHMgPSBbXTtcbiAgICAgIHdoaWxlICghbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSkge1xuICAgICAgICBwYXJlbnRzLnB1c2gobm9kZSk7XG4gICAgICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgY2xvc2VzdDtcbiAgICAgIHZhciBpbnN0O1xuICAgICAgZm9yICg7IG5vZGUgJiYgKGluc3QgPSBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldKTsgbm9kZSA9IHBhcmVudHMucG9wKCkpIHtcbiAgICAgICAgY2xvc2VzdCA9IGluc3Q7XG4gICAgICAgIGlmIChwYXJlbnRzLmxlbmd0aCkge1xuICAgICAgICAgIHByZWNhY2hlQ2hpbGROb2RlcyhpbnN0LCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNsb3Nlc3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEluc3RhbmNlRnJvbU5vZGUobm9kZSkge1xuICAgICAgdmFyIGluc3QgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShub2RlKTtcbiAgICAgIGlmIChpbnN0ICE9IG51bGwgJiYgaW5zdC5fbmF0aXZlTm9kZSA9PT0gbm9kZSkge1xuICAgICAgICByZXR1cm4gaW5zdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROb2RlRnJvbUluc3RhbmNlKGluc3QpIHtcbiAgICAgICEoaW5zdC5fbmF0aXZlTm9kZSAhPT0gdW5kZWZpbmVkKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdnZXROb2RlRnJvbUluc3RhbmNlOiBJbnZhbGlkIGFyZ3VtZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIGlmIChpbnN0Ll9uYXRpdmVOb2RlKSB7XG4gICAgICAgIHJldHVybiBpbnN0Ll9uYXRpdmVOb2RlO1xuICAgICAgfVxuICAgICAgdmFyIHBhcmVudHMgPSBbXTtcbiAgICAgIHdoaWxlICghaW5zdC5fbmF0aXZlTm9kZSkge1xuICAgICAgICBwYXJlbnRzLnB1c2goaW5zdCk7XG4gICAgICAgICFpbnN0Ll9uYXRpdmVQYXJlbnQgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3QgRE9NIHRyZWUgcm9vdCBzaG91bGQgYWx3YXlzIGhhdmUgYSBub2RlIHJlZmVyZW5jZS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIGluc3QgPSBpbnN0Ll9uYXRpdmVQYXJlbnQ7XG4gICAgICB9XG4gICAgICBmb3IgKDsgcGFyZW50cy5sZW5ndGg7IGluc3QgPSBwYXJlbnRzLnBvcCgpKSB7XG4gICAgICAgIHByZWNhY2hlQ2hpbGROb2RlcyhpbnN0LCBpbnN0Ll9uYXRpdmVOb2RlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnN0Ll9uYXRpdmVOb2RlO1xuICAgIH1cbiAgICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0ge1xuICAgICAgZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGU6IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlLFxuICAgICAgZ2V0SW5zdGFuY2VGcm9tTm9kZTogZ2V0SW5zdGFuY2VGcm9tTm9kZSxcbiAgICAgIGdldE5vZGVGcm9tSW5zdGFuY2U6IGdldE5vZGVGcm9tSW5zdGFuY2UsXG4gICAgICBwcmVjYWNoZUNoaWxkTm9kZXM6IHByZWNhY2hlQ2hpbGROb2RlcyxcbiAgICAgIHByZWNhY2hlTm9kZTogcHJlY2FjaGVOb2RlLFxuICAgICAgdW5jYWNoZU5vZGU6IHVuY2FjaGVOb2RlXG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZTtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNTBcIiwgW1wiNlwiLCBcIjQ4XCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgICB2YXIgZW1wdHlGdW5jdGlvbiA9ICRfX3JlcXVpcmUoJzQ4Jyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciB2YWxpZGF0ZURPTU5lc3RpbmcgPSBlbXB0eUZ1bmN0aW9uO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgc3BlY2lhbFRhZ3MgPSBbJ2FkZHJlc3MnLCAnYXBwbGV0JywgJ2FyZWEnLCAnYXJ0aWNsZScsICdhc2lkZScsICdiYXNlJywgJ2Jhc2Vmb250JywgJ2Jnc291bmQnLCAnYmxvY2txdW90ZScsICdib2R5JywgJ2JyJywgJ2J1dHRvbicsICdjYXB0aW9uJywgJ2NlbnRlcicsICdjb2wnLCAnY29sZ3JvdXAnLCAnZGQnLCAnZGV0YWlscycsICdkaXInLCAnZGl2JywgJ2RsJywgJ2R0JywgJ2VtYmVkJywgJ2ZpZWxkc2V0JywgJ2ZpZ2NhcHRpb24nLCAnZmlndXJlJywgJ2Zvb3RlcicsICdmb3JtJywgJ2ZyYW1lJywgJ2ZyYW1lc2V0JywgJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2JywgJ2hlYWQnLCAnaGVhZGVyJywgJ2hncm91cCcsICdocicsICdodG1sJywgJ2lmcmFtZScsICdpbWcnLCAnaW5wdXQnLCAnaXNpbmRleCcsICdsaScsICdsaW5rJywgJ2xpc3RpbmcnLCAnbWFpbicsICdtYXJxdWVlJywgJ21lbnUnLCAnbWVudWl0ZW0nLCAnbWV0YScsICduYXYnLCAnbm9lbWJlZCcsICdub2ZyYW1lcycsICdub3NjcmlwdCcsICdvYmplY3QnLCAnb2wnLCAncCcsICdwYXJhbScsICdwbGFpbnRleHQnLCAncHJlJywgJ3NjcmlwdCcsICdzZWN0aW9uJywgJ3NlbGVjdCcsICdzb3VyY2UnLCAnc3R5bGUnLCAnc3VtbWFyeScsICd0YWJsZScsICd0Ym9keScsICd0ZCcsICd0ZW1wbGF0ZScsICd0ZXh0YXJlYScsICd0Zm9vdCcsICd0aCcsICd0aGVhZCcsICd0aXRsZScsICd0cicsICd0cmFjaycsICd1bCcsICd3YnInLCAneG1wJ107XG4gICAgICB2YXIgaW5TY29wZVRhZ3MgPSBbJ2FwcGxldCcsICdjYXB0aW9uJywgJ2h0bWwnLCAndGFibGUnLCAndGQnLCAndGgnLCAnbWFycXVlZScsICdvYmplY3QnLCAndGVtcGxhdGUnLCAnZm9yZWlnbk9iamVjdCcsICdkZXNjJywgJ3RpdGxlJ107XG4gICAgICB2YXIgYnV0dG9uU2NvcGVUYWdzID0gaW5TY29wZVRhZ3MuY29uY2F0KFsnYnV0dG9uJ10pO1xuICAgICAgdmFyIGltcGxpZWRFbmRUYWdzID0gWydkZCcsICdkdCcsICdsaScsICdvcHRpb24nLCAnb3B0Z3JvdXAnLCAncCcsICdycCcsICdydCddO1xuICAgICAgdmFyIGVtcHR5QW5jZXN0b3JJbmZvID0ge1xuICAgICAgICBjdXJyZW50OiBudWxsLFxuICAgICAgICBmb3JtVGFnOiBudWxsLFxuICAgICAgICBhVGFnSW5TY29wZTogbnVsbCxcbiAgICAgICAgYnV0dG9uVGFnSW5TY29wZTogbnVsbCxcbiAgICAgICAgbm9iclRhZ0luU2NvcGU6IG51bGwsXG4gICAgICAgIHBUYWdJbkJ1dHRvblNjb3BlOiBudWxsLFxuICAgICAgICBsaXN0SXRlbVRhZ0F1dG9jbG9zaW5nOiBudWxsLFxuICAgICAgICBkbEl0ZW1UYWdBdXRvY2xvc2luZzogbnVsbFxuICAgICAgfTtcbiAgICAgIHZhciB1cGRhdGVkQW5jZXN0b3JJbmZvID0gZnVuY3Rpb24ob2xkSW5mbywgdGFnLCBpbnN0YW5jZSkge1xuICAgICAgICB2YXIgYW5jZXN0b3JJbmZvID0gX2Fzc2lnbih7fSwgb2xkSW5mbyB8fCBlbXB0eUFuY2VzdG9ySW5mbyk7XG4gICAgICAgIHZhciBpbmZvID0ge1xuICAgICAgICAgIHRhZzogdGFnLFxuICAgICAgICAgIGluc3RhbmNlOiBpbnN0YW5jZVxuICAgICAgICB9O1xuICAgICAgICBpZiAoaW5TY29wZVRhZ3MuaW5kZXhPZih0YWcpICE9PSAtMSkge1xuICAgICAgICAgIGFuY2VzdG9ySW5mby5hVGFnSW5TY29wZSA9IG51bGw7XG4gICAgICAgICAgYW5jZXN0b3JJbmZvLmJ1dHRvblRhZ0luU2NvcGUgPSBudWxsO1xuICAgICAgICAgIGFuY2VzdG9ySW5mby5ub2JyVGFnSW5TY29wZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1dHRvblNjb3BlVGFncy5pbmRleE9mKHRhZykgIT09IC0xKSB7XG4gICAgICAgICAgYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BlY2lhbFRhZ3MuaW5kZXhPZih0YWcpICE9PSAtMSAmJiB0YWcgIT09ICdhZGRyZXNzJyAmJiB0YWcgIT09ICdkaXYnICYmIHRhZyAhPT0gJ3AnKSB7XG4gICAgICAgICAgYW5jZXN0b3JJbmZvLmxpc3RJdGVtVGFnQXV0b2Nsb3NpbmcgPSBudWxsO1xuICAgICAgICAgIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgYW5jZXN0b3JJbmZvLmN1cnJlbnQgPSBpbmZvO1xuICAgICAgICBpZiAodGFnID09PSAnZm9ybScpIHtcbiAgICAgICAgICBhbmNlc3RvckluZm8uZm9ybVRhZyA9IGluZm87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PT0gJ2EnKSB7XG4gICAgICAgICAgYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlID0gaW5mbztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09PSAnYnV0dG9uJykge1xuICAgICAgICAgIGFuY2VzdG9ySW5mby5idXR0b25UYWdJblNjb3BlID0gaW5mbztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09PSAnbm9icicpIHtcbiAgICAgICAgICBhbmNlc3RvckluZm8ubm9iclRhZ0luU2NvcGUgPSBpbmZvO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT09ICdwJykge1xuICAgICAgICAgIGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZSA9IGluZm87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PT0gJ2xpJykge1xuICAgICAgICAgIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nID0gaW5mbztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09PSAnZGQnIHx8IHRhZyA9PT0gJ2R0Jykge1xuICAgICAgICAgIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZyA9IGluZm87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mbztcbiAgICAgIH07XG4gICAgICB2YXIgaXNUYWdWYWxpZFdpdGhQYXJlbnQgPSBmdW5jdGlvbih0YWcsIHBhcmVudFRhZykge1xuICAgICAgICBzd2l0Y2ggKHBhcmVudFRhZykge1xuICAgICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgICByZXR1cm4gdGFnID09PSAnb3B0aW9uJyB8fCB0YWcgPT09ICdvcHRncm91cCcgfHwgdGFnID09PSAnI3RleHQnO1xuICAgICAgICAgIGNhc2UgJ29wdGdyb3VwJzpcbiAgICAgICAgICAgIHJldHVybiB0YWcgPT09ICdvcHRpb24nIHx8IHRhZyA9PT0gJyN0ZXh0JztcbiAgICAgICAgICBjYXNlICdvcHRpb24nOlxuICAgICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJyN0ZXh0JztcbiAgICAgICAgICBjYXNlICd0cic6XG4gICAgICAgICAgICByZXR1cm4gdGFnID09PSAndGgnIHx8IHRhZyA9PT0gJ3RkJyB8fCB0YWcgPT09ICdzdHlsZScgfHwgdGFnID09PSAnc2NyaXB0JyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG4gICAgICAgICAgY2FzZSAndGJvZHknOlxuICAgICAgICAgIGNhc2UgJ3RoZWFkJzpcbiAgICAgICAgICBjYXNlICd0Zm9vdCc6XG4gICAgICAgICAgICByZXR1cm4gdGFnID09PSAndHInIHx8IHRhZyA9PT0gJ3N0eWxlJyB8fCB0YWcgPT09ICdzY3JpcHQnIHx8IHRhZyA9PT0gJ3RlbXBsYXRlJztcbiAgICAgICAgICBjYXNlICdjb2xncm91cCc6XG4gICAgICAgICAgICByZXR1cm4gdGFnID09PSAnY29sJyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG4gICAgICAgICAgY2FzZSAndGFibGUnOlxuICAgICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2NhcHRpb24nIHx8IHRhZyA9PT0gJ2NvbGdyb3VwJyB8fCB0YWcgPT09ICd0Ym9keScgfHwgdGFnID09PSAndGZvb3QnIHx8IHRhZyA9PT0gJ3RoZWFkJyB8fCB0YWcgPT09ICdzdHlsZScgfHwgdGFnID09PSAnc2NyaXB0JyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG4gICAgICAgICAgY2FzZSAnaGVhZCc6XG4gICAgICAgICAgICByZXR1cm4gdGFnID09PSAnYmFzZScgfHwgdGFnID09PSAnYmFzZWZvbnQnIHx8IHRhZyA9PT0gJ2Jnc291bmQnIHx8IHRhZyA9PT0gJ2xpbmsnIHx8IHRhZyA9PT0gJ21ldGEnIHx8IHRhZyA9PT0gJ3RpdGxlJyB8fCB0YWcgPT09ICdub3NjcmlwdCcgfHwgdGFnID09PSAnbm9mcmFtZXMnIHx8IHRhZyA9PT0gJ3N0eWxlJyB8fCB0YWcgPT09ICdzY3JpcHQnIHx8IHRhZyA9PT0gJ3RlbXBsYXRlJztcbiAgICAgICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgICAgIHJldHVybiB0YWcgPT09ICdoZWFkJyB8fCB0YWcgPT09ICdib2R5JztcbiAgICAgICAgICBjYXNlICcjZG9jdW1lbnQnOlxuICAgICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2h0bWwnO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgICAgY2FzZSAnaDEnOlxuICAgICAgICAgIGNhc2UgJ2gyJzpcbiAgICAgICAgICBjYXNlICdoMyc6XG4gICAgICAgICAgY2FzZSAnaDQnOlxuICAgICAgICAgIGNhc2UgJ2g1JzpcbiAgICAgICAgICBjYXNlICdoNic6XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50VGFnICE9PSAnaDEnICYmIHBhcmVudFRhZyAhPT0gJ2gyJyAmJiBwYXJlbnRUYWcgIT09ICdoMycgJiYgcGFyZW50VGFnICE9PSAnaDQnICYmIHBhcmVudFRhZyAhPT0gJ2g1JyAmJiBwYXJlbnRUYWcgIT09ICdoNic7XG4gICAgICAgICAgY2FzZSAncnAnOlxuICAgICAgICAgIGNhc2UgJ3J0JzpcbiAgICAgICAgICAgIHJldHVybiBpbXBsaWVkRW5kVGFncy5pbmRleE9mKHBhcmVudFRhZykgPT09IC0xO1xuICAgICAgICAgIGNhc2UgJ2JvZHknOlxuICAgICAgICAgIGNhc2UgJ2NhcHRpb24nOlxuICAgICAgICAgIGNhc2UgJ2NvbCc6XG4gICAgICAgICAgY2FzZSAnY29sZ3JvdXAnOlxuICAgICAgICAgIGNhc2UgJ2ZyYW1lJzpcbiAgICAgICAgICBjYXNlICdoZWFkJzpcbiAgICAgICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgICBjYXNlICd0Ym9keSc6XG4gICAgICAgICAgY2FzZSAndGQnOlxuICAgICAgICAgIGNhc2UgJ3Rmb290JzpcbiAgICAgICAgICBjYXNlICd0aCc6XG4gICAgICAgICAgY2FzZSAndGhlYWQnOlxuICAgICAgICAgIGNhc2UgJ3RyJzpcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnRUYWcgPT0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG4gICAgICB2YXIgZmluZEludmFsaWRBbmNlc3RvckZvclRhZyA9IGZ1bmN0aW9uKHRhZywgYW5jZXN0b3JJbmZvKSB7XG4gICAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgICAgY2FzZSAnYWRkcmVzcyc6XG4gICAgICAgICAgY2FzZSAnYXJ0aWNsZSc6XG4gICAgICAgICAgY2FzZSAnYXNpZGUnOlxuICAgICAgICAgIGNhc2UgJ2Jsb2NrcXVvdGUnOlxuICAgICAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgICAgY2FzZSAnZGV0YWlscyc6XG4gICAgICAgICAgY2FzZSAnZGlhbG9nJzpcbiAgICAgICAgICBjYXNlICdkaXInOlxuICAgICAgICAgIGNhc2UgJ2Rpdic6XG4gICAgICAgICAgY2FzZSAnZGwnOlxuICAgICAgICAgIGNhc2UgJ2ZpZWxkc2V0JzpcbiAgICAgICAgICBjYXNlICdmaWdjYXB0aW9uJzpcbiAgICAgICAgICBjYXNlICdmaWd1cmUnOlxuICAgICAgICAgIGNhc2UgJ2Zvb3Rlcic6XG4gICAgICAgICAgY2FzZSAnaGVhZGVyJzpcbiAgICAgICAgICBjYXNlICdoZ3JvdXAnOlxuICAgICAgICAgIGNhc2UgJ21haW4nOlxuICAgICAgICAgIGNhc2UgJ21lbnUnOlxuICAgICAgICAgIGNhc2UgJ25hdic6XG4gICAgICAgICAgY2FzZSAnb2wnOlxuICAgICAgICAgIGNhc2UgJ3AnOlxuICAgICAgICAgIGNhc2UgJ3NlY3Rpb24nOlxuICAgICAgICAgIGNhc2UgJ3N1bW1hcnknOlxuICAgICAgICAgIGNhc2UgJ3VsJzpcbiAgICAgICAgICBjYXNlICdwcmUnOlxuICAgICAgICAgIGNhc2UgJ2xpc3RpbmcnOlxuICAgICAgICAgIGNhc2UgJ3RhYmxlJzpcbiAgICAgICAgICBjYXNlICdocic6XG4gICAgICAgICAgY2FzZSAneG1wJzpcbiAgICAgICAgICBjYXNlICdoMSc6XG4gICAgICAgICAgY2FzZSAnaDInOlxuICAgICAgICAgIGNhc2UgJ2gzJzpcbiAgICAgICAgICBjYXNlICdoNCc6XG4gICAgICAgICAgY2FzZSAnaDUnOlxuICAgICAgICAgIGNhc2UgJ2g2JzpcbiAgICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGU7XG4gICAgICAgICAgY2FzZSAnZm9ybSc6XG4gICAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmZvcm1UYWcgfHwgYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlO1xuICAgICAgICAgIGNhc2UgJ2xpJzpcbiAgICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8ubGlzdEl0ZW1UYWdBdXRvY2xvc2luZztcbiAgICAgICAgICBjYXNlICdkZCc6XG4gICAgICAgICAgY2FzZSAnZHQnOlxuICAgICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZztcbiAgICAgICAgICBjYXNlICdidXR0b24nOlxuICAgICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5idXR0b25UYWdJblNjb3BlO1xuICAgICAgICAgIGNhc2UgJ2EnOlxuICAgICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5hVGFnSW5TY29wZTtcbiAgICAgICAgICBjYXNlICdub2JyJzpcbiAgICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8ubm9iclRhZ0luU2NvcGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9O1xuICAgICAgdmFyIGZpbmRPd25lclN0YWNrID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIHN0YWNrLnB1c2goaW5zdGFuY2UpO1xuICAgICAgICB9IHdoaWxlIChpbnN0YW5jZSA9IGluc3RhbmNlLl9jdXJyZW50RWxlbWVudC5fb3duZXIpO1xuICAgICAgICBzdGFjay5yZXZlcnNlKCk7XG4gICAgICAgIHJldHVybiBzdGFjaztcbiAgICAgIH07XG4gICAgICB2YXIgZGlkV2FybiA9IHt9O1xuICAgICAgdmFsaWRhdGVET01OZXN0aW5nID0gZnVuY3Rpb24oY2hpbGRUYWcsIGNoaWxkSW5zdGFuY2UsIGFuY2VzdG9ySW5mbykge1xuICAgICAgICBhbmNlc3RvckluZm8gPSBhbmNlc3RvckluZm8gfHwgZW1wdHlBbmNlc3RvckluZm87XG4gICAgICAgIHZhciBwYXJlbnRJbmZvID0gYW5jZXN0b3JJbmZvLmN1cnJlbnQ7XG4gICAgICAgIHZhciBwYXJlbnRUYWcgPSBwYXJlbnRJbmZvICYmIHBhcmVudEluZm8udGFnO1xuICAgICAgICB2YXIgaW52YWxpZFBhcmVudCA9IGlzVGFnVmFsaWRXaXRoUGFyZW50KGNoaWxkVGFnLCBwYXJlbnRUYWcpID8gbnVsbCA6IHBhcmVudEluZm87XG4gICAgICAgIHZhciBpbnZhbGlkQW5jZXN0b3IgPSBpbnZhbGlkUGFyZW50ID8gbnVsbCA6IGZpbmRJbnZhbGlkQW5jZXN0b3JGb3JUYWcoY2hpbGRUYWcsIGFuY2VzdG9ySW5mbyk7XG4gICAgICAgIHZhciBwcm9ibGVtYXRpYyA9IGludmFsaWRQYXJlbnQgfHwgaW52YWxpZEFuY2VzdG9yO1xuICAgICAgICBpZiAocHJvYmxlbWF0aWMpIHtcbiAgICAgICAgICB2YXIgYW5jZXN0b3JUYWcgPSBwcm9ibGVtYXRpYy50YWc7XG4gICAgICAgICAgdmFyIGFuY2VzdG9ySW5zdGFuY2UgPSBwcm9ibGVtYXRpYy5pbnN0YW5jZTtcbiAgICAgICAgICB2YXIgY2hpbGRPd25lciA9IGNoaWxkSW5zdGFuY2UgJiYgY2hpbGRJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgICAgIHZhciBhbmNlc3Rvck93bmVyID0gYW5jZXN0b3JJbnN0YW5jZSAmJiBhbmNlc3Rvckluc3RhbmNlLl9jdXJyZW50RWxlbWVudC5fb3duZXI7XG4gICAgICAgICAgdmFyIGNoaWxkT3duZXJzID0gZmluZE93bmVyU3RhY2soY2hpbGRPd25lcik7XG4gICAgICAgICAgdmFyIGFuY2VzdG9yT3duZXJzID0gZmluZE93bmVyU3RhY2soYW5jZXN0b3JPd25lcik7XG4gICAgICAgICAgdmFyIG1pblN0YWNrTGVuID0gTWF0aC5taW4oY2hpbGRPd25lcnMubGVuZ3RoLCBhbmNlc3Rvck93bmVycy5sZW5ndGgpO1xuICAgICAgICAgIHZhciBpO1xuICAgICAgICAgIHZhciBkZWVwZXN0Q29tbW9uID0gLTE7XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IG1pblN0YWNrTGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChjaGlsZE93bmVyc1tpXSA9PT0gYW5jZXN0b3JPd25lcnNbaV0pIHtcbiAgICAgICAgICAgICAgZGVlcGVzdENvbW1vbiA9IGk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIFVOS05PV04gPSAnKHVua25vd24pJztcbiAgICAgICAgICB2YXIgY2hpbGRPd25lck5hbWVzID0gY2hpbGRPd25lcnMuc2xpY2UoZGVlcGVzdENvbW1vbiArIDEpLm1hcChmdW5jdGlvbihpbnN0KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5zdC5nZXROYW1lKCkgfHwgVU5LTk9XTjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgYW5jZXN0b3JPd25lck5hbWVzID0gYW5jZXN0b3JPd25lcnMuc2xpY2UoZGVlcGVzdENvbW1vbiArIDEpLm1hcChmdW5jdGlvbihpbnN0KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5zdC5nZXROYW1lKCkgfHwgVU5LTk9XTjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgb3duZXJJbmZvID0gW10uY29uY2F0KGRlZXBlc3RDb21tb24gIT09IC0xID8gY2hpbGRPd25lcnNbZGVlcGVzdENvbW1vbl0uZ2V0TmFtZSgpIHx8IFVOS05PV04gOiBbXSwgYW5jZXN0b3JPd25lck5hbWVzLCBhbmNlc3RvclRhZywgaW52YWxpZEFuY2VzdG9yID8gWycuLi4nXSA6IFtdLCBjaGlsZE93bmVyTmFtZXMsIGNoaWxkVGFnKS5qb2luKCcgPiAnKTtcbiAgICAgICAgICB2YXIgd2FybktleSA9ICEhaW52YWxpZFBhcmVudCArICd8JyArIGNoaWxkVGFnICsgJ3wnICsgYW5jZXN0b3JUYWcgKyAnfCcgKyBvd25lckluZm87XG4gICAgICAgICAgaWYgKGRpZFdhcm5bd2FybktleV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGlkV2Fyblt3YXJuS2V5XSA9IHRydWU7XG4gICAgICAgICAgdmFyIHRhZ0Rpc3BsYXlOYW1lID0gY2hpbGRUYWc7XG4gICAgICAgICAgaWYgKGNoaWxkVGFnICE9PSAnI3RleHQnKSB7XG4gICAgICAgICAgICB0YWdEaXNwbGF5TmFtZSA9ICc8JyArIGNoaWxkVGFnICsgJz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW52YWxpZFBhcmVudCkge1xuICAgICAgICAgICAgdmFyIGluZm8gPSAnJztcbiAgICAgICAgICAgIGlmIChhbmNlc3RvclRhZyA9PT0gJ3RhYmxlJyAmJiBjaGlsZFRhZyA9PT0gJ3RyJykge1xuICAgICAgICAgICAgICBpbmZvICs9ICcgQWRkIGEgPHRib2R5PiB0byB5b3VyIGNvZGUgdG8gbWF0Y2ggdGhlIERPTSB0cmVlIGdlbmVyYXRlZCBieSAnICsgJ3RoZSBicm93c2VyLic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ3ZhbGlkYXRlRE9NTmVzdGluZyguLi4pOiAlcyBjYW5ub3QgYXBwZWFyIGFzIGEgY2hpbGQgb2YgPCVzPi4gJyArICdTZWUgJXMuJXMnLCB0YWdEaXNwbGF5TmFtZSwgYW5jZXN0b3JUYWcsIG93bmVySW5mbywgaW5mbykgOiB2b2lkIDA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAndmFsaWRhdGVET01OZXN0aW5nKC4uLik6ICVzIGNhbm5vdCBhcHBlYXIgYXMgYSBkZXNjZW5kYW50IG9mICcgKyAnPCVzPi4gU2VlICVzLicsIHRhZ0Rpc3BsYXlOYW1lLCBhbmNlc3RvclRhZywgb3duZXJJbmZvKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB2YWxpZGF0ZURPTU5lc3RpbmcudXBkYXRlZEFuY2VzdG9ySW5mbyA9IHVwZGF0ZWRBbmNlc3RvckluZm87XG4gICAgICB2YWxpZGF0ZURPTU5lc3RpbmcuaXNUYWdWYWxpZEluQ29udGV4dCA9IGZ1bmN0aW9uKHRhZywgYW5jZXN0b3JJbmZvKSB7XG4gICAgICAgIGFuY2VzdG9ySW5mbyA9IGFuY2VzdG9ySW5mbyB8fCBlbXB0eUFuY2VzdG9ySW5mbztcbiAgICAgICAgdmFyIHBhcmVudEluZm8gPSBhbmNlc3RvckluZm8uY3VycmVudDtcbiAgICAgICAgdmFyIHBhcmVudFRhZyA9IHBhcmVudEluZm8gJiYgcGFyZW50SW5mby50YWc7XG4gICAgICAgIHJldHVybiBpc1RhZ1ZhbGlkV2l0aFBhcmVudCh0YWcsIHBhcmVudFRhZykgJiYgIWZpbmRJbnZhbGlkQW5jZXN0b3JGb3JUYWcodGFnLCBhbmNlc3RvckluZm8pO1xuICAgICAgfTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB2YWxpZGF0ZURPTU5lc3Rpbmc7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjg5XCIsIFtcIjUwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIHZhbGlkYXRlRE9NTmVzdGluZyA9ICRfX3JlcXVpcmUoJzUwJyk7XG4gICAgdmFyIERPQ19OT0RFX1RZUEUgPSA5O1xuICAgIGZ1bmN0aW9uIFJlYWN0RE9NQ29udGFpbmVySW5mbyh0b3BMZXZlbFdyYXBwZXIsIG5vZGUpIHtcbiAgICAgIHZhciBpbmZvID0ge1xuICAgICAgICBfdG9wTGV2ZWxXcmFwcGVyOiB0b3BMZXZlbFdyYXBwZXIsXG4gICAgICAgIF9pZENvdW50ZXI6IDEsXG4gICAgICAgIF9vd25lckRvY3VtZW50OiBub2RlID8gbm9kZS5ub2RlVHlwZSA9PT0gRE9DX05PREVfVFlQRSA/IG5vZGUgOiBub2RlLm93bmVyRG9jdW1lbnQgOiBudWxsLFxuICAgICAgICBfbm9kZTogbm9kZSxcbiAgICAgICAgX3RhZzogbm9kZSA/IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA6IG51bGwsXG4gICAgICAgIF9uYW1lc3BhY2VVUkk6IG5vZGUgPyBub2RlLm5hbWVzcGFjZVVSSSA6IG51bGxcbiAgICAgIH07XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpbmZvLl9hbmNlc3RvckluZm8gPSBub2RlID8gdmFsaWRhdGVET01OZXN0aW5nLnVwZGF0ZWRBbmNlc3RvckluZm8obnVsbCwgaW5mby5fdGFnLCBudWxsKSA6IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUNvbnRhaW5lckluZm87XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjhhXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgUmVhY3RET01GZWF0dXJlRmxhZ3MgPSB7dXNlQ3JlYXRlRWxlbWVudDogdHJ1ZX07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01GZWF0dXJlRmxhZ3M7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiOGJcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBNT0QgPSA2NTUyMTtcbiAgZnVuY3Rpb24gYWRsZXIzMihkYXRhKSB7XG4gICAgdmFyIGEgPSAxO1xuICAgIHZhciBiID0gMDtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGwgPSBkYXRhLmxlbmd0aDtcbiAgICB2YXIgbSA9IGwgJiB+MHgzO1xuICAgIHdoaWxlIChpIDwgbSkge1xuICAgICAgdmFyIG4gPSBNYXRoLm1pbihpICsgNDA5NiwgbSk7XG4gICAgICBmb3IgKDsgaSA8IG47IGkgKz0gNCkge1xuICAgICAgICBiICs9IChhICs9IGRhdGEuY2hhckNvZGVBdChpKSkgKyAoYSArPSBkYXRhLmNoYXJDb2RlQXQoaSArIDEpKSArIChhICs9IGRhdGEuY2hhckNvZGVBdChpICsgMikpICsgKGEgKz0gZGF0YS5jaGFyQ29kZUF0KGkgKyAzKSk7XG4gICAgICB9XG4gICAgICBhICU9IE1PRDtcbiAgICAgIGIgJT0gTU9EO1xuICAgIH1cbiAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgYiArPSBhICs9IGRhdGEuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgYSAlPSBNT0Q7XG4gICAgYiAlPSBNT0Q7XG4gICAgcmV0dXJuIGEgfCBiIDw8IDE2O1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gYWRsZXIzMjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI4Y1wiLCBbXCI4YlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGFkbGVyMzIgPSAkX19yZXF1aXJlKCc4YicpO1xuICB2YXIgVEFHX0VORCA9IC9cXC8/Pi87XG4gIHZhciBDT01NRU5UX1NUQVJUID0gL148XFwhXFwtXFwtLztcbiAgdmFyIFJlYWN0TWFya3VwQ2hlY2tzdW0gPSB7XG4gICAgQ0hFQ0tTVU1fQVRUUl9OQU1FOiAnZGF0YS1yZWFjdC1jaGVja3N1bScsXG4gICAgYWRkQ2hlY2tzdW1Ub01hcmt1cDogZnVuY3Rpb24obWFya3VwKSB7XG4gICAgICB2YXIgY2hlY2tzdW0gPSBhZGxlcjMyKG1hcmt1cCk7XG4gICAgICBpZiAoQ09NTUVOVF9TVEFSVC50ZXN0KG1hcmt1cCkpIHtcbiAgICAgICAgcmV0dXJuIG1hcmt1cDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBtYXJrdXAucmVwbGFjZShUQUdfRU5ELCAnICcgKyBSZWFjdE1hcmt1cENoZWNrc3VtLkNIRUNLU1VNX0FUVFJfTkFNRSArICc9XCInICsgY2hlY2tzdW0gKyAnXCIkJicpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2FuUmV1c2VNYXJrdXA6IGZ1bmN0aW9uKG1hcmt1cCwgZWxlbWVudCkge1xuICAgICAgdmFyIGV4aXN0aW5nQ2hlY2tzdW0gPSBlbGVtZW50LmdldEF0dHJpYnV0ZShSZWFjdE1hcmt1cENoZWNrc3VtLkNIRUNLU1VNX0FUVFJfTkFNRSk7XG4gICAgICBleGlzdGluZ0NoZWNrc3VtID0gZXhpc3RpbmdDaGVja3N1bSAmJiBwYXJzZUludChleGlzdGluZ0NoZWNrc3VtLCAxMCk7XG4gICAgICB2YXIgbWFya3VwQ2hlY2tzdW0gPSBhZGxlcjMyKG1hcmt1cCk7XG4gICAgICByZXR1cm4gbWFya3VwQ2hlY2tzdW0gPT09IGV4aXN0aW5nQ2hlY2tzdW07XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0TWFya3VwQ2hlY2tzdW07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNDVcIiwgW1wiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgaW5qZWN0ZWQgPSBmYWxzZTtcbiAgICB2YXIgUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudCA9IHtcbiAgICAgIHVubW91bnRJREZyb21FbnZpcm9ubWVudDogbnVsbCxcbiAgICAgIHJlcGxhY2VOb2RlV2l0aE1hcmt1cDogbnVsbCxcbiAgICAgIHByb2Nlc3NDaGlsZHJlblVwZGF0ZXM6IG51bGwsXG4gICAgICBpbmplY3Rpb246IHtpbmplY3RFbnZpcm9ubWVudDogZnVuY3Rpb24oZW52aXJvbm1lbnQpIHtcbiAgICAgICAgICAhIWluamVjdGVkID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50OiBpbmplY3RFbnZpcm9ubWVudCgpIGNhbiBvbmx5IGJlIGNhbGxlZCBvbmNlLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBSZWFjdENvbXBvbmVudEVudmlyb25tZW50LnVubW91bnRJREZyb21FbnZpcm9ubWVudCA9IGVudmlyb25tZW50LnVubW91bnRJREZyb21FbnZpcm9ubWVudDtcbiAgICAgICAgICBSZWFjdENvbXBvbmVudEVudmlyb25tZW50LnJlcGxhY2VOb2RlV2l0aE1hcmt1cCA9IGVudmlyb25tZW50LnJlcGxhY2VOb2RlV2l0aE1hcmt1cDtcbiAgICAgICAgICBSZWFjdENvbXBvbmVudEVudmlyb25tZW50LnByb2Nlc3NDaGlsZHJlblVwZGF0ZXMgPSBlbnZpcm9ubWVudC5wcm9jZXNzQ2hpbGRyZW5VcGRhdGVzO1xuICAgICAgICAgIGluamVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfX1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiODZcIiwgW1wiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGNhdWdodEVycm9yID0gbnVsbDtcbiAgICBmdW5jdGlvbiBpbnZva2VHdWFyZGVkQ2FsbGJhY2sobmFtZSwgZnVuYywgYSwgYikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZ1bmMoYSwgYik7XG4gICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgIGlmIChjYXVnaHRFcnJvciA9PT0gbnVsbCkge1xuICAgICAgICAgIGNhdWdodEVycm9yID0geDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgUmVhY3RFcnJvclV0aWxzID0ge1xuICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrOiBpbnZva2VHdWFyZGVkQ2FsbGJhY2ssXG4gICAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2tXaXRoQ2F0Y2g6IGludm9rZUd1YXJkZWRDYWxsYmFjayxcbiAgICAgIHJldGhyb3dDYXVnaHRFcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjYXVnaHRFcnJvcikge1xuICAgICAgICAgIHZhciBlcnJvciA9IGNhdWdodEVycm9yO1xuICAgICAgICAgIGNhdWdodEVycm9yID0gbnVsbDtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRpc3BhdGNoRXZlbnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGZha2VOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncmVhY3QnKTtcbiAgICAgICAgUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjayA9IGZ1bmN0aW9uKG5hbWUsIGZ1bmMsIGEsIGIpIHtcbiAgICAgICAgICB2YXIgYm91bmRGdW5jID0gZnVuYy5iaW5kKG51bGwsIGEsIGIpO1xuICAgICAgICAgIHZhciBldnRUeXBlID0gJ3JlYWN0LScgKyBuYW1lO1xuICAgICAgICAgIGZha2VOb2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgYm91bmRGdW5jLCBmYWxzZSk7XG4gICAgICAgICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICAgIGV2dC5pbml0RXZlbnQoZXZ0VHlwZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICBmYWtlTm9kZS5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICAgICAgZmFrZU5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBib3VuZEZ1bmMsIGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdEVycm9yVXRpbHM7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjg1XCIsIFtcIjhkXCIsIFwiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gJF9fcmVxdWlyZSgnOGQnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgUmVhY3ROb2RlVHlwZXMgPSB7XG4gICAgICBOQVRJVkU6IDAsXG4gICAgICBDT01QT1NJVEU6IDEsXG4gICAgICBFTVBUWTogMixcbiAgICAgIGdldFR5cGU6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gUmVhY3ROb2RlVHlwZXMuRU1QVFk7XG4gICAgICAgIH0gZWxzZSBpZiAoUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBub2RlLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdE5vZGVUeXBlcy5DT01QT1NJVEU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdE5vZGVUeXBlcy5OQVRJVkU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICFmYWxzZSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdVbmV4cGVjdGVkIG5vZGU6ICVzJywgbm9kZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdE5vZGVUeXBlcztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiODNcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBSZWFjdEluc3RhbmNlTWFwID0ge1xuICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICBrZXkuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSA9IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4ga2V5Ll9yZWFjdEludGVybmFsSW5zdGFuY2U7XG4gICAgfSxcbiAgICBoYXM6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIGtleS5fcmVhY3RJbnRlcm5hbEluc3RhbmNlICE9PSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIGtleS5fcmVhY3RJbnRlcm5hbEluc3RhbmNlID0gdmFsdWU7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0SW5zdGFuY2VNYXA7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNjdcIiwgW1wiNlwiLCBcIjRcIiwgXCIzMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICAgIHZhciBQb29sZWRDbGFzcyA9ICRfX3JlcXVpcmUoJzQnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICBmdW5jdGlvbiBDYWxsYmFja1F1ZXVlKCkge1xuICAgICAgdGhpcy5fY2FsbGJhY2tzID0gbnVsbDtcbiAgICAgIHRoaXMuX2NvbnRleHRzID0gbnVsbDtcbiAgICB9XG4gICAgX2Fzc2lnbihDYWxsYmFja1F1ZXVlLnByb3RvdHlwZSwge1xuICAgICAgZW5xdWV1ZTogZnVuY3Rpb24oY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IFtdO1xuICAgICAgICB0aGlzLl9jb250ZXh0cyA9IHRoaXMuX2NvbnRleHRzIHx8IFtdO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHRoaXMuX2NvbnRleHRzLnB1c2goY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgbm90aWZ5QWxsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcztcbiAgICAgICAgdmFyIGNvbnRleHRzID0gdGhpcy5fY29udGV4dHM7XG4gICAgICAgIGlmIChjYWxsYmFja3MpIHtcbiAgICAgICAgICAhKGNhbGxiYWNrcy5sZW5ndGggPT09IGNvbnRleHRzLmxlbmd0aCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnTWlzbWF0Y2hlZCBsaXN0IG9mIGNvbnRleHRzIGluIGNhbGxiYWNrIHF1ZXVlJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IG51bGw7XG4gICAgICAgICAgdGhpcy5fY29udGV4dHMgPSBudWxsO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjYWxsYmFja3NbaV0uY2FsbChjb250ZXh0c1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgICAgICAgIGNvbnRleHRzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjaGVja3BvaW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrcyA/IHRoaXMuX2NhbGxiYWNrcy5sZW5ndGggOiAwO1xuICAgICAgfSxcbiAgICAgIHJvbGxiYWNrOiBmdW5jdGlvbihsZW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhbGxiYWNrcykge1xuICAgICAgICAgIHRoaXMuX2NhbGxiYWNrcy5sZW5ndGggPSBsZW47XG4gICAgICAgICAgdGhpcy5fY29udGV4dHMubGVuZ3RoID0gbGVuO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSBudWxsO1xuICAgICAgICB0aGlzLl9jb250ZXh0cyA9IG51bGw7XG4gICAgICB9LFxuICAgICAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBQb29sZWRDbGFzcy5hZGRQb29saW5nVG8oQ2FsbGJhY2tRdWV1ZSk7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDYWxsYmFja1F1ZXVlO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI4ZVwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFJlYWN0RmVhdHVyZUZsYWdzID0ge2xvZ1RvcExldmVsUmVuZGVyczogZmFsc2V9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RmVhdHVyZUZsYWdzO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjhmXCIsIFtcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIFJlYWN0T3duZXIgPSB7XG4gICAgICBpc1ZhbGlkT3duZXI6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gISEob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QuYXR0YWNoUmVmID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmplY3QuZGV0YWNoUmVmID09PSAnZnVuY3Rpb24nKTtcbiAgICAgIH0sXG4gICAgICBhZGRDb21wb25lbnRBc1JlZlRvOiBmdW5jdGlvbihjb21wb25lbnQsIHJlZiwgb3duZXIpIHtcbiAgICAgICAgIVJlYWN0T3duZXIuaXNWYWxpZE93bmVyKG93bmVyKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdhZGRDb21wb25lbnRBc1JlZlRvKC4uLik6IE9ubHkgYSBSZWFjdE93bmVyIGNhbiBoYXZlIHJlZnMuIFlvdSBtaWdodCAnICsgJ2JlIGFkZGluZyBhIHJlZiB0byBhIGNvbXBvbmVudCB0aGF0IHdhcyBub3QgY3JlYXRlZCBpbnNpZGUgYSBjb21wb25lbnRcXCdzICcgKyAnYHJlbmRlcmAgbWV0aG9kLCBvciB5b3UgaGF2ZSBtdWx0aXBsZSBjb3BpZXMgb2YgUmVhY3QgbG9hZGVkICcgKyAnKGRldGFpbHM6IGh0dHBzOi8vZmIubWUvcmVhY3QtcmVmcy1tdXN0LWhhdmUtb3duZXIpLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgb3duZXIuYXR0YWNoUmVmKHJlZiwgY29tcG9uZW50KTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVDb21wb25lbnRBc1JlZkZyb206IGZ1bmN0aW9uKGNvbXBvbmVudCwgcmVmLCBvd25lcikge1xuICAgICAgICAhUmVhY3RPd25lci5pc1ZhbGlkT3duZXIob3duZXIpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3JlbW92ZUNvbXBvbmVudEFzUmVmRnJvbSguLi4pOiBPbmx5IGEgUmVhY3RPd25lciBjYW4gaGF2ZSByZWZzLiBZb3UgbWlnaHQgJyArICdiZSByZW1vdmluZyBhIHJlZiB0byBhIGNvbXBvbmVudCB0aGF0IHdhcyBub3QgY3JlYXRlZCBpbnNpZGUgYSBjb21wb25lbnRcXCdzICcgKyAnYHJlbmRlcmAgbWV0aG9kLCBvciB5b3UgaGF2ZSBtdWx0aXBsZSBjb3BpZXMgb2YgUmVhY3QgbG9hZGVkICcgKyAnKGRldGFpbHM6IGh0dHBzOi8vZmIubWUvcmVhY3QtcmVmcy1tdXN0LWhhdmUtb3duZXIpLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgdmFyIG93bmVyUHVibGljSW5zdGFuY2UgPSBvd25lci5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgICAgICBpZiAob3duZXJQdWJsaWNJbnN0YW5jZSAmJiBvd25lclB1YmxpY0luc3RhbmNlLnJlZnNbcmVmXSA9PT0gY29tcG9uZW50LmdldFB1YmxpY0luc3RhbmNlKCkpIHtcbiAgICAgICAgICBvd25lci5kZXRhY2hSZWYocmVmKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdE93bmVyO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI5MFwiLCBbXCI4ZlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdE93bmVyID0gJF9fcmVxdWlyZSgnOGYnKTtcbiAgICB2YXIgUmVhY3RSZWYgPSB7fTtcbiAgICBmdW5jdGlvbiBhdHRhY2hSZWYocmVmLCBjb21wb25lbnQsIG93bmVyKSB7XG4gICAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZWYoY29tcG9uZW50LmdldFB1YmxpY0luc3RhbmNlKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgUmVhY3RPd25lci5hZGRDb21wb25lbnRBc1JlZlRvKGNvbXBvbmVudCwgcmVmLCBvd25lcik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRldGFjaFJlZihyZWYsIGNvbXBvbmVudCwgb3duZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJlZihudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFJlYWN0T3duZXIucmVtb3ZlQ29tcG9uZW50QXNSZWZGcm9tKGNvbXBvbmVudCwgcmVmLCBvd25lcik7XG4gICAgICB9XG4gICAgfVxuICAgIFJlYWN0UmVmLmF0dGFjaFJlZnMgPSBmdW5jdGlvbihpbnN0YW5jZSwgZWxlbWVudCkge1xuICAgICAgaWYgKGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHJlZiA9IGVsZW1lbnQucmVmO1xuICAgICAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICAgIGF0dGFjaFJlZihyZWYsIGluc3RhbmNlLCBlbGVtZW50Ll9vd25lcik7XG4gICAgICB9XG4gICAgfTtcbiAgICBSZWFjdFJlZi5zaG91bGRVcGRhdGVSZWZzID0gZnVuY3Rpb24ocHJldkVsZW1lbnQsIG5leHRFbGVtZW50KSB7XG4gICAgICB2YXIgcHJldkVtcHR5ID0gcHJldkVsZW1lbnQgPT09IG51bGwgfHwgcHJldkVsZW1lbnQgPT09IGZhbHNlO1xuICAgICAgdmFyIG5leHRFbXB0eSA9IG5leHRFbGVtZW50ID09PSBudWxsIHx8IG5leHRFbGVtZW50ID09PSBmYWxzZTtcbiAgICAgIHJldHVybiAocHJldkVtcHR5IHx8IG5leHRFbXB0eSB8fCBuZXh0RWxlbWVudC5fb3duZXIgIT09IHByZXZFbGVtZW50Ll9vd25lciB8fCBuZXh0RWxlbWVudC5yZWYgIT09IHByZXZFbGVtZW50LnJlZik7XG4gICAgfTtcbiAgICBSZWFjdFJlZi5kZXRhY2hSZWZzID0gZnVuY3Rpb24oaW5zdGFuY2UsIGVsZW1lbnQpIHtcbiAgICAgIGlmIChlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciByZWYgPSBlbGVtZW50LnJlZjtcbiAgICAgIGlmIChyZWYgIT0gbnVsbCkge1xuICAgICAgICBkZXRhY2hSZWYocmVmLCBpbnN0YW5jZSwgZWxlbWVudC5fb3duZXIpO1xuICAgICAgfVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdFJlZjtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiM2VcIiwgW1wiOTBcIiwgXCIyN1wiLCBcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJlYWN0UmVmID0gJF9fcmVxdWlyZSgnOTAnKTtcbiAgICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSAkX19yZXF1aXJlKCcyNycpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIGZ1bmN0aW9uIGF0dGFjaFJlZnMoKSB7XG4gICAgICBSZWFjdFJlZi5hdHRhY2hSZWZzKHRoaXMsIHRoaXMuX2N1cnJlbnRFbGVtZW50KTtcbiAgICB9XG4gICAgdmFyIFJlYWN0UmVjb25jaWxlciA9IHtcbiAgICAgIG1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCB0cmFuc2FjdGlvbiwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luUmVjb25jaWxlclRpbWVyKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQsICdtb3VudENvbXBvbmVudCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbWFya3VwID0gaW50ZXJuYWxJbnN0YW5jZS5tb3VudENvbXBvbmVudCh0cmFuc2FjdGlvbiwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50ICYmIGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50LnJlZiAhPSBudWxsKSB7XG4gICAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShhdHRhY2hSZWZzLCBpbnRlcm5hbEluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25FbmRSZWNvbmNpbGVyVGltZXIoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCwgJ21vdW50Q29tcG9uZW50Jyk7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25Nb3VudENvbXBvbmVudChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcmt1cDtcbiAgICAgIH0sXG4gICAgICBnZXROYXRpdmVOb2RlOiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBpbnRlcm5hbEluc3RhbmNlLmdldE5hdGl2ZU5vZGUoKTtcbiAgICAgIH0sXG4gICAgICB1bm1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCBzYWZlbHkpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5SZWNvbmNpbGVyVGltZXIoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCwgJ3VubW91bnRDb21wb25lbnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgUmVhY3RSZWYuZGV0YWNoUmVmcyhpbnRlcm5hbEluc3RhbmNlLCBpbnRlcm5hbEluc3RhbmNlLl9jdXJyZW50RWxlbWVudCk7XG4gICAgICAgIGludGVybmFsSW5zdGFuY2UudW5tb3VudENvbXBvbmVudChzYWZlbHkpO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25FbmRSZWNvbmNpbGVyVGltZXIoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCwgJ3VubW91bnRDb21wb25lbnQnKTtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblVubW91bnRDb21wb25lbnQoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVjZWl2ZUNvbXBvbmVudDogZnVuY3Rpb24oaW50ZXJuYWxJbnN0YW5jZSwgbmV4dEVsZW1lbnQsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBwcmV2RWxlbWVudCA9IGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50O1xuICAgICAgICBpZiAobmV4dEVsZW1lbnQgPT09IHByZXZFbGVtZW50ICYmIGNvbnRleHQgPT09IGludGVybmFsSW5zdGFuY2UuX2NvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5SZWNvbmNpbGVyVGltZXIoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCwgJ3JlY2VpdmVDb21wb25lbnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlZnNDaGFuZ2VkID0gUmVhY3RSZWYuc2hvdWxkVXBkYXRlUmVmcyhwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQpO1xuICAgICAgICBpZiAocmVmc0NoYW5nZWQpIHtcbiAgICAgICAgICBSZWFjdFJlZi5kZXRhY2hSZWZzKGludGVybmFsSW5zdGFuY2UsIHByZXZFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpbnRlcm5hbEluc3RhbmNlLnJlY2VpdmVDb21wb25lbnQobmV4dEVsZW1lbnQsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlZnNDaGFuZ2VkICYmIGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50ICYmIGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50LnJlZiAhPSBudWxsKSB7XG4gICAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShhdHRhY2hSZWZzLCBpbnRlcm5hbEluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25FbmRSZWNvbmNpbGVyVGltZXIoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCwgJ3JlY2VpdmVDb21wb25lbnQnKTtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblVwZGF0ZUNvbXBvbmVudChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwZXJmb3JtVXBkYXRlSWZOZWNlc3Nhcnk6IGZ1bmN0aW9uKGludGVybmFsSW5zdGFuY2UsIHRyYW5zYWN0aW9uLCB1cGRhdGVCYXRjaE51bWJlcikge1xuICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fdXBkYXRlQmF0Y2hOdW1iZXIgIT09IHVwZGF0ZUJhdGNoTnVtYmVyKSB7XG4gICAgICAgICAgIShpbnRlcm5hbEluc3RhbmNlLl91cGRhdGVCYXRjaE51bWJlciA9PSBudWxsIHx8IGludGVybmFsSW5zdGFuY2UuX3VwZGF0ZUJhdGNoTnVtYmVyID09PSB1cGRhdGVCYXRjaE51bWJlciArIDEpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3BlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeTogVW5leHBlY3RlZCBiYXRjaCBudW1iZXIgKGN1cnJlbnQgJXMsICcgKyAncGVuZGluZyAlcyknLCB1cGRhdGVCYXRjaE51bWJlciwgaW50ZXJuYWxJbnN0YW5jZS5fdXBkYXRlQmF0Y2hOdW1iZXIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5SZWNvbmNpbGVyVGltZXIoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCwgJ3BlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnRlcm5hbEluc3RhbmNlLnBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeSh0cmFuc2FjdGlvbik7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZFJlY29uY2lsZXJUaW1lcihpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lELCAncGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5Jyk7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25VcGRhdGVDb21wb25lbnQoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0UmVjb25jaWxlcjtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNGFcIiwgW1wiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgTWl4aW4gPSB7XG4gICAgICByZWluaXRpYWxpemVUcmFuc2FjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25XcmFwcGVycyA9IHRoaXMuZ2V0VHJhbnNhY3Rpb25XcmFwcGVycygpO1xuICAgICAgICBpZiAodGhpcy53cmFwcGVySW5pdERhdGEpIHtcbiAgICAgICAgICB0aGlzLndyYXBwZXJJbml0RGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMud3JhcHBlckluaXREYXRhID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNJblRyYW5zYWN0aW9uID0gZmFsc2U7XG4gICAgICB9LFxuICAgICAgX2lzSW5UcmFuc2FjdGlvbjogZmFsc2UsXG4gICAgICBnZXRUcmFuc2FjdGlvbldyYXBwZXJzOiBudWxsLFxuICAgICAgaXNJblRyYW5zYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5faXNJblRyYW5zYWN0aW9uO1xuICAgICAgfSxcbiAgICAgIHBlcmZvcm06IGZ1bmN0aW9uKG1ldGhvZCwgc2NvcGUsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAgICAgISF0aGlzLmlzSW5UcmFuc2FjdGlvbigpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1RyYW5zYWN0aW9uLnBlcmZvcm0oLi4uKTogQ2Fubm90IGluaXRpYWxpemUgYSB0cmFuc2FjdGlvbiB3aGVuIHRoZXJlICcgKyAnaXMgYWxyZWFkeSBhbiBvdXRzdGFuZGluZyB0cmFuc2FjdGlvbi4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIHZhciBlcnJvclRocm93bjtcbiAgICAgICAgdmFyIHJldDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLl9pc0luVHJhbnNhY3Rpb24gPSB0cnVlO1xuICAgICAgICAgIGVycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmluaXRpYWxpemVBbGwoMCk7XG4gICAgICAgICAgcmV0ID0gbWV0aG9kLmNhbGwoc2NvcGUsIGEsIGIsIGMsIGQsIGUsIGYpO1xuICAgICAgICAgIGVycm9yVGhyb3duID0gZmFsc2U7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChlcnJvclRocm93bikge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VBbGwoMCk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge31cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuY2xvc2VBbGwoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuX2lzSW5UcmFuc2FjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfSxcbiAgICAgIGluaXRpYWxpemVBbGw6IGZ1bmN0aW9uKHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgdmFyIHRyYW5zYWN0aW9uV3JhcHBlcnMgPSB0aGlzLnRyYW5zYWN0aW9uV3JhcHBlcnM7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydEluZGV4OyBpIDwgdHJhbnNhY3Rpb25XcmFwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciB3cmFwcGVyID0gdHJhbnNhY3Rpb25XcmFwcGVyc1tpXTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy53cmFwcGVySW5pdERhdGFbaV0gPSBUcmFuc2FjdGlvbi5PQlNFUlZFRF9FUlJPUjtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlckluaXREYXRhW2ldID0gd3JhcHBlci5pbml0aWFsaXplID8gd3JhcHBlci5pbml0aWFsaXplLmNhbGwodGhpcykgOiBudWxsO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAodGhpcy53cmFwcGVySW5pdERhdGFbaV0gPT09IFRyYW5zYWN0aW9uLk9CU0VSVkVEX0VSUk9SKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQWxsKGkgKyAxKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNsb3NlQWxsOiBmdW5jdGlvbihzdGFydEluZGV4KSB7XG4gICAgICAgICF0aGlzLmlzSW5UcmFuc2FjdGlvbigpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1RyYW5zYWN0aW9uLmNsb3NlQWxsKCk6IENhbm5vdCBjbG9zZSB0cmFuc2FjdGlvbiB3aGVuIG5vbmUgYXJlIG9wZW4uJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB2YXIgdHJhbnNhY3Rpb25XcmFwcGVycyA9IHRoaXMudHJhbnNhY3Rpb25XcmFwcGVycztcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXg7IGkgPCB0cmFuc2FjdGlvbldyYXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHdyYXBwZXIgPSB0cmFuc2FjdGlvbldyYXBwZXJzW2ldO1xuICAgICAgICAgIHZhciBpbml0RGF0YSA9IHRoaXMud3JhcHBlckluaXREYXRhW2ldO1xuICAgICAgICAgIHZhciBlcnJvclRocm93bjtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGluaXREYXRhICE9PSBUcmFuc2FjdGlvbi5PQlNFUlZFRF9FUlJPUiAmJiB3cmFwcGVyLmNsb3NlKSB7XG4gICAgICAgICAgICAgIHdyYXBwZXIuY2xvc2UuY2FsbCh0aGlzLCBpbml0RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlcnJvclRocm93biA9IGZhbHNlO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQWxsKGkgKyAxKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53cmFwcGVySW5pdERhdGEubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBUcmFuc2FjdGlvbiA9IHtcbiAgICAgIE1peGluOiBNaXhpbixcbiAgICAgIE9CU0VSVkVEX0VSUk9SOiB7fVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBUcmFuc2FjdGlvbjtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTJcIiwgW1wiNlwiLCBcIjY3XCIsIFwiNFwiLCBcIjhlXCIsIFwiMjdcIiwgXCIzZVwiLCBcIjRhXCIsIFwiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgICB2YXIgQ2FsbGJhY2tRdWV1ZSA9ICRfX3JlcXVpcmUoJzY3Jyk7XG4gICAgdmFyIFBvb2xlZENsYXNzID0gJF9fcmVxdWlyZSgnNCcpO1xuICAgIHZhciBSZWFjdEZlYXR1cmVGbGFncyA9ICRfX3JlcXVpcmUoJzhlJyk7XG4gICAgdmFyIFJlYWN0SW5zdHJ1bWVudGF0aW9uID0gJF9fcmVxdWlyZSgnMjcnKTtcbiAgICB2YXIgUmVhY3RSZWNvbmNpbGVyID0gJF9fcmVxdWlyZSgnM2UnKTtcbiAgICB2YXIgVHJhbnNhY3Rpb24gPSAkX19yZXF1aXJlKCc0YScpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBkaXJ0eUNvbXBvbmVudHMgPSBbXTtcbiAgICB2YXIgdXBkYXRlQmF0Y2hOdW1iZXIgPSAwO1xuICAgIHZhciBhc2FwQ2FsbGJhY2tRdWV1ZSA9IENhbGxiYWNrUXVldWUuZ2V0UG9vbGVkKCk7XG4gICAgdmFyIGFzYXBFbnF1ZXVlZCA9IGZhbHNlO1xuICAgIHZhciBiYXRjaGluZ1N0cmF0ZWd5ID0gbnVsbDtcbiAgICBmdW5jdGlvbiBlbnN1cmVJbmplY3RlZCgpIHtcbiAgICAgICEoUmVhY3RVcGRhdGVzLlJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24gJiYgYmF0Y2hpbmdTdHJhdGVneSkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RVcGRhdGVzOiBtdXN0IGluamVjdCBhIHJlY29uY2lsZSB0cmFuc2FjdGlvbiBjbGFzcyBhbmQgYmF0Y2hpbmcgJyArICdzdHJhdGVneScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgdmFyIE5FU1RFRF9VUERBVEVTID0ge1xuICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZGlydHlDb21wb25lbnRzTGVuZ3RoID0gZGlydHlDb21wb25lbnRzLmxlbmd0aDtcbiAgICAgIH0sXG4gICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5Q29tcG9uZW50c0xlbmd0aCAhPT0gZGlydHlDb21wb25lbnRzLmxlbmd0aCkge1xuICAgICAgICAgIGRpcnR5Q29tcG9uZW50cy5zcGxpY2UoMCwgdGhpcy5kaXJ0eUNvbXBvbmVudHNMZW5ndGgpO1xuICAgICAgICAgIGZsdXNoQmF0Y2hlZFVwZGF0ZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIFVQREFURV9RVUVVRUlORyA9IHtcbiAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrUXVldWUucmVzZXQoKTtcbiAgICAgIH0sXG4gICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tRdWV1ZS5ub3RpZnlBbGwoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBUUkFOU0FDVElPTl9XUkFQUEVSUyA9IFtORVNURURfVVBEQVRFUywgVVBEQVRFX1FVRVVFSU5HXTtcbiAgICBmdW5jdGlvbiBSZWFjdFVwZGF0ZXNGbHVzaFRyYW5zYWN0aW9uKCkge1xuICAgICAgdGhpcy5yZWluaXRpYWxpemVUcmFuc2FjdGlvbigpO1xuICAgICAgdGhpcy5kaXJ0eUNvbXBvbmVudHNMZW5ndGggPSBudWxsO1xuICAgICAgdGhpcy5jYWxsYmFja1F1ZXVlID0gQ2FsbGJhY2tRdWV1ZS5nZXRQb29sZWQoKTtcbiAgICAgIHRoaXMucmVjb25jaWxlVHJhbnNhY3Rpb24gPSBSZWFjdFVwZGF0ZXMuUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbi5nZXRQb29sZWQodHJ1ZSk7XG4gICAgfVxuICAgIF9hc3NpZ24oUmVhY3RVcGRhdGVzRmx1c2hUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFRyYW5zYWN0aW9uLk1peGluLCB7XG4gICAgICBnZXRUcmFuc2FjdGlvbldyYXBwZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFRSQU5TQUNUSU9OX1dSQVBQRVJTO1xuICAgICAgfSxcbiAgICAgIGRlc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmRpcnR5Q29tcG9uZW50c0xlbmd0aCA9IG51bGw7XG4gICAgICAgIENhbGxiYWNrUXVldWUucmVsZWFzZSh0aGlzLmNhbGxiYWNrUXVldWUpO1xuICAgICAgICB0aGlzLmNhbGxiYWNrUXVldWUgPSBudWxsO1xuICAgICAgICBSZWFjdFVwZGF0ZXMuUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbi5yZWxlYXNlKHRoaXMucmVjb25jaWxlVHJhbnNhY3Rpb24pO1xuICAgICAgICB0aGlzLnJlY29uY2lsZVRyYW5zYWN0aW9uID0gbnVsbDtcbiAgICAgIH0sXG4gICAgICBwZXJmb3JtOiBmdW5jdGlvbihtZXRob2QsIHNjb3BlLCBhKSB7XG4gICAgICAgIHJldHVybiBUcmFuc2FjdGlvbi5NaXhpbi5wZXJmb3JtLmNhbGwodGhpcywgdGhpcy5yZWNvbmNpbGVUcmFuc2FjdGlvbi5wZXJmb3JtLCB0aGlzLnJlY29uY2lsZVRyYW5zYWN0aW9uLCBtZXRob2QsIHNjb3BlLCBhKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBQb29sZWRDbGFzcy5hZGRQb29saW5nVG8oUmVhY3RVcGRhdGVzRmx1c2hUcmFuc2FjdGlvbik7XG4gICAgZnVuY3Rpb24gYmF0Y2hlZFVwZGF0ZXMoY2FsbGJhY2ssIGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgIGVuc3VyZUluamVjdGVkKCk7XG4gICAgICBiYXRjaGluZ1N0cmF0ZWd5LmJhdGNoZWRVcGRhdGVzKGNhbGxiYWNrLCBhLCBiLCBjLCBkLCBlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRPcmRlckNvbXBhcmF0b3IoYzEsIGMyKSB7XG4gICAgICByZXR1cm4gYzEuX21vdW50T3JkZXIgLSBjMi5fbW91bnRPcmRlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcnVuQmF0Y2hlZFVwZGF0ZXModHJhbnNhY3Rpb24pIHtcbiAgICAgIHZhciBsZW4gPSB0cmFuc2FjdGlvbi5kaXJ0eUNvbXBvbmVudHNMZW5ndGg7XG4gICAgICAhKGxlbiA9PT0gZGlydHlDb21wb25lbnRzLmxlbmd0aCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgZmx1c2ggdHJhbnNhY3Rpb25cXCdzIHN0b3JlZCBkaXJ0eS1jb21wb25lbnRzIGxlbmd0aCAoJXMpIHRvICcgKyAnbWF0Y2ggZGlydHktY29tcG9uZW50cyBhcnJheSBsZW5ndGggKCVzKS4nLCBsZW4sIGRpcnR5Q29tcG9uZW50cy5sZW5ndGgpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIGRpcnR5Q29tcG9uZW50cy5zb3J0KG1vdW50T3JkZXJDb21wYXJhdG9yKTtcbiAgICAgIHVwZGF0ZUJhdGNoTnVtYmVyKys7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBjb21wb25lbnQgPSBkaXJ0eUNvbXBvbmVudHNbaV07XG4gICAgICAgIHZhciBjYWxsYmFja3MgPSBjb21wb25lbnQuX3BlbmRpbmdDYWxsYmFja3M7XG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ0NhbGxiYWNrcyA9IG51bGw7XG4gICAgICAgIHZhciBtYXJrZXJOYW1lO1xuICAgICAgICBpZiAoUmVhY3RGZWF0dXJlRmxhZ3MubG9nVG9wTGV2ZWxSZW5kZXJzKSB7XG4gICAgICAgICAgdmFyIG5hbWVkQ29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgICAgICAgIGlmIChjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50LnByb3BzID09PSBjb21wb25lbnQuX3JlbmRlcmVkQ29tcG9uZW50Ll9jdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgbmFtZWRDb21wb25lbnQgPSBjb21wb25lbnQuX3JlbmRlcmVkQ29tcG9uZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBtYXJrZXJOYW1lID0gJ1JlYWN0IHVwZGF0ZTogJyArIG5hbWVkQ29tcG9uZW50LmdldE5hbWUoKTtcbiAgICAgICAgICBjb25zb2xlLnRpbWUobWFya2VyTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgUmVhY3RSZWNvbmNpbGVyLnBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeShjb21wb25lbnQsIHRyYW5zYWN0aW9uLnJlY29uY2lsZVRyYW5zYWN0aW9uLCB1cGRhdGVCYXRjaE51bWJlcik7XG4gICAgICAgIGlmIChtYXJrZXJOYW1lKSB7XG4gICAgICAgICAgY29uc29sZS50aW1lRW5kKG1hcmtlck5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYWxsYmFja3MpIHtcbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNhbGxiYWNrcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24uY2FsbGJhY2tRdWV1ZS5lbnF1ZXVlKGNhbGxiYWNrc1tqXSwgY29tcG9uZW50LmdldFB1YmxpY0luc3RhbmNlKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgZmx1c2hCYXRjaGVkVXBkYXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5GbHVzaCgpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKGRpcnR5Q29tcG9uZW50cy5sZW5ndGggfHwgYXNhcEVucXVldWVkKSB7XG4gICAgICAgIGlmIChkaXJ0eUNvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gUmVhY3RVcGRhdGVzRmx1c2hUcmFuc2FjdGlvbi5nZXRQb29sZWQoKTtcbiAgICAgICAgICB0cmFuc2FjdGlvbi5wZXJmb3JtKHJ1bkJhdGNoZWRVcGRhdGVzLCBudWxsLCB0cmFuc2FjdGlvbik7XG4gICAgICAgICAgUmVhY3RVcGRhdGVzRmx1c2hUcmFuc2FjdGlvbi5yZWxlYXNlKHRyYW5zYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXNhcEVucXVldWVkKSB7XG4gICAgICAgICAgYXNhcEVucXVldWVkID0gZmFsc2U7XG4gICAgICAgICAgdmFyIHF1ZXVlID0gYXNhcENhbGxiYWNrUXVldWU7XG4gICAgICAgICAgYXNhcENhbGxiYWNrUXVldWUgPSBDYWxsYmFja1F1ZXVlLmdldFBvb2xlZCgpO1xuICAgICAgICAgIHF1ZXVlLm5vdGlmeUFsbCgpO1xuICAgICAgICAgIENhbGxiYWNrUXVldWUucmVsZWFzZShxdWV1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZEZsdXNoKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBlbnF1ZXVlVXBkYXRlKGNvbXBvbmVudCkge1xuICAgICAgZW5zdXJlSW5qZWN0ZWQoKTtcbiAgICAgIGlmICghYmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcykge1xuICAgICAgICBiYXRjaGluZ1N0cmF0ZWd5LmJhdGNoZWRVcGRhdGVzKGVucXVldWVVcGRhdGUsIGNvbXBvbmVudCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRpcnR5Q29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgICBpZiAoY29tcG9uZW50Ll91cGRhdGVCYXRjaE51bWJlciA9PSBudWxsKSB7XG4gICAgICAgIGNvbXBvbmVudC5fdXBkYXRlQmF0Y2hOdW1iZXIgPSB1cGRhdGVCYXRjaE51bWJlciArIDE7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFzYXAoY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgICFiYXRjaGluZ1N0cmF0ZWd5LmlzQmF0Y2hpbmdVcGRhdGVzID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlcy5hc2FwOiBDYW5cXCd0IGVucXVldWUgYW4gYXNhcCBjYWxsYmFjayBpbiBhIGNvbnRleHQgd2hlcmUnICsgJ3VwZGF0ZXMgYXJlIG5vdCBiZWluZyBiYXRjaGVkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIGFzYXBDYWxsYmFja1F1ZXVlLmVucXVldWUoY2FsbGJhY2ssIGNvbnRleHQpO1xuICAgICAgYXNhcEVucXVldWVkID0gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIFJlYWN0VXBkYXRlc0luamVjdGlvbiA9IHtcbiAgICAgIGluamVjdFJlY29uY2lsZVRyYW5zYWN0aW9uOiBmdW5jdGlvbihSZWNvbmNpbGVUcmFuc2FjdGlvbikge1xuICAgICAgICAhUmVjb25jaWxlVHJhbnNhY3Rpb24gPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RVcGRhdGVzOiBtdXN0IHByb3ZpZGUgYSByZWNvbmNpbGUgdHJhbnNhY3Rpb24gY2xhc3MnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIFJlYWN0VXBkYXRlcy5SZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uID0gUmVjb25jaWxlVHJhbnNhY3Rpb247XG4gICAgICB9LFxuICAgICAgaW5qZWN0QmF0Y2hpbmdTdHJhdGVneTogZnVuY3Rpb24oX2JhdGNoaW5nU3RyYXRlZ3kpIHtcbiAgICAgICAgIV9iYXRjaGluZ1N0cmF0ZWd5ID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlczogbXVzdCBwcm92aWRlIGEgYmF0Y2hpbmcgc3RyYXRlZ3knKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICEodHlwZW9mIF9iYXRjaGluZ1N0cmF0ZWd5LmJhdGNoZWRVcGRhdGVzID09PSAnZnVuY3Rpb24nKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdFVwZGF0ZXM6IG11c3QgcHJvdmlkZSBhIGJhdGNoZWRVcGRhdGVzKCkgZnVuY3Rpb24nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICEodHlwZW9mIF9iYXRjaGluZ1N0cmF0ZWd5LmlzQmF0Y2hpbmdVcGRhdGVzID09PSAnYm9vbGVhbicpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlczogbXVzdCBwcm92aWRlIGFuIGlzQmF0Y2hpbmdVcGRhdGVzIGJvb2xlYW4gYXR0cmlidXRlJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBiYXRjaGluZ1N0cmF0ZWd5ID0gX2JhdGNoaW5nU3RyYXRlZ3k7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgUmVhY3RVcGRhdGVzID0ge1xuICAgICAgUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbjogbnVsbCxcbiAgICAgIGJhdGNoZWRVcGRhdGVzOiBiYXRjaGVkVXBkYXRlcyxcbiAgICAgIGVucXVldWVVcGRhdGU6IGVucXVldWVVcGRhdGUsXG4gICAgICBmbHVzaEJhdGNoZWRVcGRhdGVzOiBmbHVzaEJhdGNoZWRVcGRhdGVzLFxuICAgICAgaW5qZWN0aW9uOiBSZWFjdFVwZGF0ZXNJbmplY3Rpb24sXG4gICAgICBhc2FwOiBhc2FwXG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0VXBkYXRlcztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiOTFcIiwgW1wiNDdcIiwgXCI4M1wiLCBcIjEyXCIsIFwiMzBcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdEN1cnJlbnRPd25lciA9ICRfX3JlcXVpcmUoJzQ3Jyk7XG4gICAgdmFyIFJlYWN0SW5zdGFuY2VNYXAgPSAkX19yZXF1aXJlKCc4MycpO1xuICAgIHZhciBSZWFjdFVwZGF0ZXMgPSAkX19yZXF1aXJlKCcxMicpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICBmdW5jdGlvbiBlbnF1ZXVlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgIFJlYWN0VXBkYXRlcy5lbnF1ZXVlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmb3JtYXRVbmV4cGVjdGVkQXJndW1lbnQoYXJnKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBhcmc7XG4gICAgICBpZiAodHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICB9XG4gICAgICB2YXIgZGlzcGxheU5hbWUgPSBhcmcuY29uc3RydWN0b3IgJiYgYXJnLmNvbnN0cnVjdG9yLm5hbWUgfHwgdHlwZTtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYXJnKTtcbiAgICAgIGlmIChrZXlzLmxlbmd0aCA+IDAgJiYga2V5cy5sZW5ndGggPCAyMCkge1xuICAgICAgICByZXR1cm4gZGlzcGxheU5hbWUgKyAnIChrZXlzOiAnICsga2V5cy5qb2luKCcsICcpICsgJyknO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRpc3BsYXlOYW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJbnRlcm5hbEluc3RhbmNlUmVhZHlGb3JVcGRhdGUocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHtcbiAgICAgIHZhciBpbnRlcm5hbEluc3RhbmNlID0gUmVhY3RJbnN0YW5jZU1hcC5nZXQocHVibGljSW5zdGFuY2UpO1xuICAgICAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWNhbGxlck5hbWUsICclcyguLi4pOiBDYW4gb25seSB1cGRhdGUgYSBtb3VudGVkIG9yIG1vdW50aW5nIGNvbXBvbmVudC4gJyArICdUaGlzIHVzdWFsbHkgbWVhbnMgeW91IGNhbGxlZCAlcygpIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuICcgKyAnVGhpcyBpcyBhIG5vLW9wLiBQbGVhc2UgY2hlY2sgdGhlIGNvZGUgZm9yIHRoZSAlcyBjb21wb25lbnQuJywgY2FsbGVyTmFtZSwgY2FsbGVyTmFtZSwgcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3IuZGlzcGxheU5hbWUpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9PSBudWxsLCAnJXMoLi4uKTogQ2Fubm90IHVwZGF0ZSBkdXJpbmcgYW4gZXhpc3Rpbmcgc3RhdGUgdHJhbnNpdGlvbiAoc3VjaCBhcyAnICsgJ3dpdGhpbiBgcmVuZGVyYCBvciBhbm90aGVyIGNvbXBvbmVudFxcJ3MgY29uc3RydWN0b3IpLiBSZW5kZXIgbWV0aG9kcyAnICsgJ3Nob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlOyBjb25zdHJ1Y3RvciAnICsgJ3NpZGUtZWZmZWN0cyBhcmUgYW4gYW50aS1wYXR0ZXJuLCBidXQgY2FuIGJlIG1vdmVkIHRvICcgKyAnYGNvbXBvbmVudFdpbGxNb3VudGAuJywgY2FsbGVyTmFtZSkgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW50ZXJuYWxJbnN0YW5jZTtcbiAgICB9XG4gICAgdmFyIFJlYWN0VXBkYXRlUXVldWUgPSB7XG4gICAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFyIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICAgICAgICBpZiAob3duZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKG93bmVyLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciwgJyVzIGlzIGFjY2Vzc2luZyBpc01vdW50ZWQgaW5zaWRlIGl0cyByZW5kZXIoKSBmdW5jdGlvbi4gJyArICdyZW5kZXIoKSBzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uIG9mIHByb3BzIGFuZCBzdGF0ZS4gSXQgc2hvdWxkICcgKyAnbmV2ZXIgYWNjZXNzIHNvbWV0aGluZyB0aGF0IHJlcXVpcmVzIHN0YWxlIGRhdGEgZnJvbSB0aGUgcHJldmlvdXMgJyArICdyZW5kZXIsIHN1Y2ggYXMgcmVmcy4gTW92ZSB0aGlzIGxvZ2ljIHRvIGNvbXBvbmVudERpZE1vdW50IGFuZCAnICsgJ2NvbXBvbmVudERpZFVwZGF0ZSBpbnN0ZWFkLicsIG93bmVyLmdldE5hbWUoKSB8fCAnQSBjb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIG93bmVyLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBpbnRlcm5hbEluc3RhbmNlID0gUmVhY3RJbnN0YW5jZU1hcC5nZXQocHVibGljSW5zdGFuY2UpO1xuICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICAgIHJldHVybiAhIWludGVybmFsSW5zdGFuY2UuX3JlbmRlcmVkQ29tcG9uZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVucXVldWVDYWxsYmFjazogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgICAgIFJlYWN0VXBkYXRlUXVldWUudmFsaWRhdGVDYWxsYmFjayhjYWxsYmFjaywgY2FsbGVyTmFtZSk7XG4gICAgICAgIHZhciBpbnRlcm5hbEluc3RhbmNlID0gZ2V0SW50ZXJuYWxJbnN0YW5jZVJlYWR5Rm9yVXBkYXRlKHB1YmxpY0luc3RhbmNlKTtcbiAgICAgICAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MpIHtcbiAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MgPSBbY2FsbGJhY2tdO1xuICAgICAgICB9XG4gICAgICAgIGVucXVldWVVcGRhdGUoaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgICB9LFxuICAgICAgZW5xdWV1ZUNhbGxiYWNrSW50ZXJuYWw6IGZ1bmN0aW9uKGludGVybmFsSW5zdGFuY2UsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nQ2FsbGJhY2tzID0gW2NhbGxiYWNrXTtcbiAgICAgICAgfVxuICAgICAgICBlbnF1ZXVlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpO1xuICAgICAgfSxcbiAgICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBnZXRJbnRlcm5hbEluc3RhbmNlUmVhZHlGb3JVcGRhdGUocHVibGljSW5zdGFuY2UsICdmb3JjZVVwZGF0ZScpO1xuICAgICAgICBpZiAoIWludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0ZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgICAgIH0sXG4gICAgICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSwgY29tcGxldGVTdGF0ZSkge1xuICAgICAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZShwdWJsaWNJbnN0YW5jZSwgJ3JlcGxhY2VTdGF0ZScpO1xuICAgICAgICBpZiAoIWludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ1N0YXRlUXVldWUgPSBbY29tcGxldGVTdGF0ZV07XG4gICAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdSZXBsYWNlU3RhdGUgPSB0cnVlO1xuICAgICAgICBlbnF1ZXVlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpO1xuICAgICAgfSxcbiAgICAgIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSkge1xuICAgICAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZShwdWJsaWNJbnN0YW5jZSwgJ3NldFN0YXRlJyk7XG4gICAgICAgIGlmICghaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcXVldWUgPSBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nU3RhdGVRdWV1ZSB8fCAoaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ1N0YXRlUXVldWUgPSBbXSk7XG4gICAgICAgIHF1ZXVlLnB1c2gocGFydGlhbFN0YXRlKTtcbiAgICAgICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgICAgIH0sXG4gICAgICBlbnF1ZXVlRWxlbWVudEludGVybmFsOiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCBuZXdFbGVtZW50KSB7XG4gICAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdFbGVtZW50ID0gbmV3RWxlbWVudDtcbiAgICAgICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgICAgIH0sXG4gICAgICB2YWxpZGF0ZUNhbGxiYWNrOiBmdW5jdGlvbihjYWxsYmFjaywgY2FsbGVyTmFtZSkge1xuICAgICAgICAhKCFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzKC4uLik6IEV4cGVjdGVkIHRoZSBsYXN0IG9wdGlvbmFsIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYmUgYSAnICsgJ2Z1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy4nLCBjYWxsZXJOYW1lLCBmb3JtYXRVbmV4cGVjdGVkQXJndW1lbnQoY2FsbGJhY2spKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0VXBkYXRlUXVldWU7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjkyXCIsIFtcIjZcIiwgXCI0NVwiLCBcIjQ3XCIsIFwiOGRcIiwgXCI4NlwiLCBcIjgzXCIsIFwiMjdcIiwgXCI4NVwiLCBcIjNiXCIsIFwiOTNcIiwgXCIzZVwiLCBcIjkxXCIsIFwiOTRcIiwgXCIzMFwiLCBcIjQxXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgICB2YXIgUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudCA9ICRfX3JlcXVpcmUoJzQ1Jyk7XG4gICAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gJF9fcmVxdWlyZSgnNDcnKTtcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gJF9fcmVxdWlyZSgnOGQnKTtcbiAgICB2YXIgUmVhY3RFcnJvclV0aWxzID0gJF9fcmVxdWlyZSgnODYnKTtcbiAgICB2YXIgUmVhY3RJbnN0YW5jZU1hcCA9ICRfX3JlcXVpcmUoJzgzJyk7XG4gICAgdmFyIFJlYWN0SW5zdHJ1bWVudGF0aW9uID0gJF9fcmVxdWlyZSgnMjcnKTtcbiAgICB2YXIgUmVhY3ROb2RlVHlwZXMgPSAkX19yZXF1aXJlKCc4NScpO1xuICAgIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0gJF9fcmVxdWlyZSgnM2InKTtcbiAgICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSAkX19yZXF1aXJlKCc5MycpO1xuICAgIHZhciBSZWFjdFJlY29uY2lsZXIgPSAkX19yZXF1aXJlKCczZScpO1xuICAgIHZhciBSZWFjdFVwZGF0ZVF1ZXVlID0gJF9fcmVxdWlyZSgnOTEnKTtcbiAgICB2YXIgZW1wdHlPYmplY3QgPSAkX19yZXF1aXJlKCc5NCcpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudCA9ICRfX3JlcXVpcmUoJzQxJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIGZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShjb21wb25lbnQpIHtcbiAgICAgIHZhciBvd25lciA9IGNvbXBvbmVudC5fY3VycmVudEVsZW1lbnQuX293bmVyIHx8IG51bGw7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBmdW5jdGlvbiBTdGF0ZWxlc3NDb21wb25lbnQoQ29tcG9uZW50KSB7fVxuICAgIFN0YXRlbGVzc0NvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgQ29tcG9uZW50ID0gUmVhY3RJbnN0YW5jZU1hcC5nZXQodGhpcykuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICB2YXIgZWxlbWVudCA9IENvbXBvbmVudCh0aGlzLnByb3BzLCB0aGlzLmNvbnRleHQsIHRoaXMudXBkYXRlcik7XG4gICAgICB3YXJuSWZJbnZhbGlkRWxlbWVudChDb21wb25lbnQsIGVsZW1lbnQpO1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcbiAgICBmdW5jdGlvbiB3YXJuSWZJbnZhbGlkRWxlbWVudChDb21wb25lbnQsIGVsZW1lbnQpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gZmFsc2UgfHwgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpLCAnJXMoLi4uKTogQSB2YWxpZCBSZWFjdCBlbGVtZW50IChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkLiBZb3UgbWF5IGhhdmUgJyArICdyZXR1cm5lZCB1bmRlZmluZWQsIGFuIGFycmF5IG9yIHNvbWUgb3RoZXIgaW52YWxpZCBvYmplY3QuJywgQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaW52b2tlQ29tcG9uZW50RGlkTW91bnRXaXRoVGltZXIoKSB7XG4gICAgICB2YXIgcHVibGljSW5zdGFuY2UgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2NvbXBvbmVudERpZE1vdW50Jyk7XG4gICAgICB9XG4gICAgICBwdWJsaWNJbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCgpO1xuICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2NvbXBvbmVudERpZE1vdW50Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGludm9rZUNvbXBvbmVudERpZFVwZGF0ZVdpdGhUaW1lcihwcmV2UHJvcHMsIHByZXZTdGF0ZSwgcHJldkNvbnRleHQpIHtcbiAgICAgIHZhciBwdWJsaWNJbnN0YW5jZSA9IHRoaXMuX2luc3RhbmNlO1xuICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50RGlkVXBkYXRlJyk7XG4gICAgICB9XG4gICAgICBwdWJsaWNJbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUsIHByZXZDb250ZXh0KTtcbiAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnREaWRVcGRhdGUnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkQ29uc3RydWN0KENvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIENvbXBvbmVudC5wcm90b3R5cGUgJiYgQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50O1xuICAgIH1cbiAgICB2YXIgbmV4dE1vdW50SUQgPSAxO1xuICAgIHZhciBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudE1peGluID0ge1xuICAgICAgY29uc3RydWN0OiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5fcm9vdE5vZGVJRCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbmF0aXZlUGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbmF0aXZlQ29udGFpbmVySW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoTnVtYmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0VsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wZW5kaW5nU3RhdGVRdWV1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdSZXBsYWNlU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0ZvcmNlVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkTm9kZVR5cGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZENvbXBvbmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLl9tb3VudE9yZGVyID0gMDtcbiAgICAgICAgdGhpcy5fdG9wTGV2ZWxXcmFwcGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NhbGxiYWNrcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NhbGxlZENvbXBvbmVudFdpbGxVbm1vdW50ID0gZmFsc2U7XG4gICAgICB9LFxuICAgICAgbW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuX21vdW50T3JkZXIgPSBuZXh0TW91bnRJRCsrO1xuICAgICAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBuYXRpdmVQYXJlbnQ7XG4gICAgICAgIHRoaXMuX25hdGl2ZUNvbnRhaW5lckluZm8gPSBuYXRpdmVDb250YWluZXJJbmZvO1xuICAgICAgICB2YXIgcHVibGljUHJvcHMgPSB0aGlzLl9wcm9jZXNzUHJvcHModGhpcy5fY3VycmVudEVsZW1lbnQucHJvcHMpO1xuICAgICAgICB2YXIgcHVibGljQ29udGV4dCA9IHRoaXMuX3Byb2Nlc3NDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICB2YXIgQ29tcG9uZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgICAgdmFyIGluc3QgPSB0aGlzLl9jb25zdHJ1Y3RDb21wb25lbnQocHVibGljUHJvcHMsIHB1YmxpY0NvbnRleHQpO1xuICAgICAgICB2YXIgcmVuZGVyZWRFbGVtZW50O1xuICAgICAgICBpZiAoIXNob3VsZENvbnN0cnVjdChDb21wb25lbnQpICYmIChpbnN0ID09IG51bGwgfHwgaW5zdC5yZW5kZXIgPT0gbnVsbCkpIHtcbiAgICAgICAgICByZW5kZXJlZEVsZW1lbnQgPSBpbnN0O1xuICAgICAgICAgIHdhcm5JZkludmFsaWRFbGVtZW50KENvbXBvbmVudCwgcmVuZGVyZWRFbGVtZW50KTtcbiAgICAgICAgICAhKGluc3QgPT09IG51bGwgfHwgaW5zdCA9PT0gZmFsc2UgfHwgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGluc3QpKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcyguLi4pOiBBIHZhbGlkIFJlYWN0IGVsZW1lbnQgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQuIFlvdSBtYXkgaGF2ZSAnICsgJ3JldHVybmVkIHVuZGVmaW5lZCwgYW4gYXJyYXkgb3Igc29tZSBvdGhlciBpbnZhbGlkIG9iamVjdC4nLCBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBpbnN0ID0gbmV3IFN0YXRlbGVzc0NvbXBvbmVudChDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGluc3QucmVuZGVyID09IG51bGwpIHtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKTogTm8gYHJlbmRlcmAgbWV0aG9kIGZvdW5kIG9uIHRoZSByZXR1cm5lZCBjb21wb25lbnQgJyArICdpbnN0YW5jZTogeW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBkZWZpbmUgYHJlbmRlcmAuJywgQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHByb3BzTXV0YXRlZCA9IGluc3QucHJvcHMgIT09IHB1YmxpY1Byb3BzO1xuICAgICAgICAgIHZhciBjb21wb25lbnROYW1lID0gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGluc3QucHJvcHMgPT09IHVuZGVmaW5lZCB8fCAhcHJvcHNNdXRhdGVkLCAnJXMoLi4uKTogV2hlbiBjYWxsaW5nIHN1cGVyKCkgaW4gYCVzYCwgbWFrZSBzdXJlIHRvIHBhc3MgJyArICd1cCB0aGUgc2FtZSBwcm9wcyB0aGF0IHlvdXIgY29tcG9uZW50XFwncyBjb25zdHJ1Y3RvciB3YXMgcGFzc2VkLicsIGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudE5hbWUpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGluc3QucHJvcHMgPSBwdWJsaWNQcm9wcztcbiAgICAgICAgaW5zdC5jb250ZXh0ID0gcHVibGljQ29udGV4dDtcbiAgICAgICAgaW5zdC5yZWZzID0gZW1wdHlPYmplY3Q7XG4gICAgICAgIGluc3QudXBkYXRlciA9IFJlYWN0VXBkYXRlUXVldWU7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlID0gaW5zdDtcbiAgICAgICAgUmVhY3RJbnN0YW5jZU1hcC5zZXQoaW5zdCwgdGhpcyk7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWluc3QuZ2V0SW5pdGlhbFN0YXRlIHx8IGluc3QuZ2V0SW5pdGlhbFN0YXRlLmlzUmVhY3RDbGFzc0FwcHJvdmVkLCAnZ2V0SW5pdGlhbFN0YXRlIHdhcyBkZWZpbmVkIG9uICVzLCBhIHBsYWluIEphdmFTY3JpcHQgY2xhc3MuICcgKyAnVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiAnICsgJ0RpZCB5b3UgbWVhbiB0byBkZWZpbmUgYSBzdGF0ZSBwcm9wZXJ0eSBpbnN0ZWFkPycsIHRoaXMuZ2V0TmFtZSgpIHx8ICdhIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFpbnN0LmdldERlZmF1bHRQcm9wcyB8fCBpbnN0LmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZCwgJ2dldERlZmF1bHRQcm9wcyB3YXMgZGVmaW5lZCBvbiAlcywgYSBwbGFpbiBKYXZhU2NyaXB0IGNsYXNzLiAnICsgJ1RoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGNsYXNzZXMgY3JlYXRlZCB1c2luZyBSZWFjdC5jcmVhdGVDbGFzcy4gJyArICdVc2UgYSBzdGF0aWMgcHJvcGVydHkgdG8gZGVmaW5lIGRlZmF1bHRQcm9wcyBpbnN0ZWFkLicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdhIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFpbnN0LnByb3BUeXBlcywgJ3Byb3BUeXBlcyB3YXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcy4gVXNlIGEgc3RhdGljICcgKyAncHJvcGVydHkgdG8gZGVmaW5lIHByb3BUeXBlcyBpbnN0ZWFkLicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdhIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFpbnN0LmNvbnRleHRUeXBlcywgJ2NvbnRleHRUeXBlcyB3YXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcy4gVXNlIGEgJyArICdzdGF0aWMgcHJvcGVydHkgdG8gZGVmaW5lIGNvbnRleHRUeXBlcyBpbnN0ZWFkLicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdhIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHR5cGVvZiBpbnN0LmNvbXBvbmVudFNob3VsZFVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJywgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnRTaG91bGRVcGRhdGUoKS4gRGlkIHlvdSBtZWFuIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpPyAnICsgJ1RoZSBuYW1lIGlzIHBocmFzZWQgYXMgYSBxdWVzdGlvbiBiZWNhdXNlIHRoZSBmdW5jdGlvbiBpcyAnICsgJ2V4cGVjdGVkIHRvIHJldHVybiBhIHZhbHVlLicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHR5cGVvZiBpbnN0LmNvbXBvbmVudERpZFVubW91bnQgIT09ICdmdW5jdGlvbicsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50RGlkVW5tb3VudCgpLiBCdXQgdGhlcmUgaXMgbm8gc3VjaCBsaWZlY3ljbGUgbWV0aG9kLiAnICsgJ0RpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsVW5tb3VudCgpPycsIHRoaXMuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHR5cGVvZiBpbnN0LmNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgIT09ICdmdW5jdGlvbicsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiBEaWQgeW91IG1lYW4gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpPycsIHRoaXMuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbml0aWFsU3RhdGUgPSBpbnN0LnN0YXRlO1xuICAgICAgICBpZiAoaW5pdGlhbFN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpbnN0LnN0YXRlID0gaW5pdGlhbFN0YXRlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAhKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGluaXRpYWxTdGF0ZSkpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzLnN0YXRlOiBtdXN0IGJlIHNldCB0byBhbiBvYmplY3Qgb3IgbnVsbCcsIHRoaXMuZ2V0TmFtZSgpIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1N0YXRlUXVldWUgPSBudWxsO1xuICAgICAgICB0aGlzLl9wZW5kaW5nUmVwbGFjZVN0YXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdGb3JjZVVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgbWFya3VwO1xuICAgICAgICBpZiAoaW5zdC51bnN0YWJsZV9oYW5kbGVFcnJvcikge1xuICAgICAgICAgIG1hcmt1cCA9IHRoaXMucGVyZm9ybUluaXRpYWxNb3VudFdpdGhFcnJvckhhbmRsaW5nKHJlbmRlcmVkRWxlbWVudCwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWFya3VwID0gdGhpcy5wZXJmb3JtSW5pdGlhbE1vdW50KHJlbmRlcmVkRWxlbWVudCwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluc3QuY29tcG9uZW50RGlkTW91bnQpIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShpbnZva2VDb21wb25lbnREaWRNb3VudFdpdGhUaW1lciwgdGhpcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoaW5zdC5jb21wb25lbnREaWRNb3VudCwgaW5zdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXJrdXA7XG4gICAgICB9LFxuICAgICAgX2NvbnN0cnVjdENvbXBvbmVudDogZnVuY3Rpb24ocHVibGljUHJvcHMsIHB1YmxpY0NvbnRleHQpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gdGhpcztcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnN0cnVjdENvbXBvbmVudFdpdGhvdXRPd25lcihwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fY29uc3RydWN0Q29tcG9uZW50V2l0aG91dE93bmVyKHB1YmxpY1Byb3BzLCBwdWJsaWNDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF9jb25zdHJ1Y3RDb21wb25lbnRXaXRob3V0T3duZXI6IGZ1bmN0aW9uKHB1YmxpY1Byb3BzLCBwdWJsaWNDb250ZXh0KSB7XG4gICAgICAgIHZhciBDb21wb25lbnQgPSB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlO1xuICAgICAgICB2YXIgaW5zdGFuY2VPckVsZW1lbnQ7XG4gICAgICAgIGlmIChzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSkge1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkxpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjdG9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGluc3RhbmNlT3JFbGVtZW50ID0gbmV3IENvbXBvbmVudChwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCwgUmVhY3RVcGRhdGVRdWV1ZSk7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjdG9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkxpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdyZW5kZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaW5zdGFuY2VPckVsZW1lbnQgPSBDb21wb25lbnQocHVibGljUHJvcHMsIHB1YmxpY0NvbnRleHQsIFJlYWN0VXBkYXRlUXVldWUpO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25FbmRMaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAncmVuZGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0YW5jZU9yRWxlbWVudDtcbiAgICAgIH0sXG4gICAgICBwZXJmb3JtSW5pdGlhbE1vdW50V2l0aEVycm9ySGFuZGxpbmc6IGZ1bmN0aW9uKHJlbmRlcmVkRWxlbWVudCwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgbWFya3VwO1xuICAgICAgICB2YXIgY2hlY2twb2ludCA9IHRyYW5zYWN0aW9uLmNoZWNrcG9pbnQoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBtYXJrdXAgPSB0aGlzLnBlcmZvcm1Jbml0aWFsTW91bnQocmVuZGVyZWRFbGVtZW50LCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHRyYW5zYWN0aW9uLnJvbGxiYWNrKGNoZWNrcG9pbnQpO1xuICAgICAgICAgIHRoaXMuX2luc3RhbmNlLnVuc3RhYmxlX2hhbmRsZUVycm9yKGUpO1xuICAgICAgICAgIGlmICh0aGlzLl9wZW5kaW5nU3RhdGVRdWV1ZSkge1xuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2Uuc3RhdGUgPSB0aGlzLl9wcm9jZXNzUGVuZGluZ1N0YXRlKHRoaXMuX2luc3RhbmNlLnByb3BzLCB0aGlzLl9pbnN0YW5jZS5jb250ZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hlY2twb2ludCA9IHRyYW5zYWN0aW9uLmNoZWNrcG9pbnQoKTtcbiAgICAgICAgICB0aGlzLl9yZW5kZXJlZENvbXBvbmVudC51bm1vdW50Q29tcG9uZW50KHRydWUpO1xuICAgICAgICAgIHRyYW5zYWN0aW9uLnJvbGxiYWNrKGNoZWNrcG9pbnQpO1xuICAgICAgICAgIG1hcmt1cCA9IHRoaXMucGVyZm9ybUluaXRpYWxNb3VudChyZW5kZXJlZEVsZW1lbnQsIG5hdGl2ZVBhcmVudCwgbmF0aXZlQ29udGFpbmVySW5mbywgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXJrdXA7XG4gICAgICB9LFxuICAgICAgcGVyZm9ybUluaXRpYWxNb3VudDogZnVuY3Rpb24ocmVuZGVyZWRFbGVtZW50LCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIGlmIChpbnN0LmNvbXBvbmVudFdpbGxNb3VudCkge1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkxpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnRXaWxsTW91bnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaW5zdC5jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2NvbXBvbmVudFdpbGxNb3VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1N0YXRlUXVldWUpIHtcbiAgICAgICAgICAgIGluc3Quc3RhdGUgPSB0aGlzLl9wcm9jZXNzUGVuZGluZ1N0YXRlKGluc3QucHJvcHMsIGluc3QuY29udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZW5kZXJlZEVsZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlbmRlcmVkRWxlbWVudCA9IHRoaXMuX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkTm9kZVR5cGUgPSBSZWFjdE5vZGVUeXBlcy5nZXRUeXBlKHJlbmRlcmVkRWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50ID0gdGhpcy5faW5zdGFudGlhdGVSZWFjdENvbXBvbmVudChyZW5kZXJlZEVsZW1lbnQpO1xuICAgICAgICB2YXIgbWFya3VwID0gUmVhY3RSZWNvbmNpbGVyLm1vdW50Q29tcG9uZW50KHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50LCB0cmFuc2FjdGlvbiwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCB0aGlzLl9wcm9jZXNzQ2hpbGRDb250ZXh0KGNvbnRleHQpKTtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uU2V0Q2hpbGRyZW4odGhpcy5fZGVidWdJRCwgdGhpcy5fcmVuZGVyZWRDb21wb25lbnQuX2RlYnVnSUQgIT09IDAgPyBbdGhpcy5fcmVuZGVyZWRDb21wb25lbnQuX2RlYnVnSURdIDogW10pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFya3VwO1xuICAgICAgfSxcbiAgICAgIGdldE5hdGl2ZU5vZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gUmVhY3RSZWNvbmNpbGVyLmdldE5hdGl2ZU5vZGUodGhpcy5fcmVuZGVyZWRDb21wb25lbnQpO1xuICAgICAgfSxcbiAgICAgIHVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKHNhZmVseSkge1xuICAgICAgICBpZiAoIXRoaXMuX3JlbmRlcmVkQ29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIGlmIChpbnN0LmNvbXBvbmVudFdpbGxVbm1vdW50ICYmICFpbnN0Ll9jYWxsZWRDb21wb25lbnRXaWxsVW5tb3VudCkge1xuICAgICAgICAgIGluc3QuX2NhbGxlZENvbXBvbmVudFdpbGxVbm1vdW50ID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50V2lsbFVubW91bnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNhZmVseSkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSB0aGlzLmdldE5hbWUoKSArICcuY29tcG9uZW50V2lsbFVubW91bnQoKSc7XG4gICAgICAgICAgICBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrKG5hbWUsIGluc3QuY29tcG9uZW50V2lsbFVubW91bnQuYmluZChpbnN0KSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluc3QuY29tcG9uZW50V2lsbFVubW91bnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnRXaWxsVW5tb3VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyZWRDb21wb25lbnQpIHtcbiAgICAgICAgICBSZWFjdFJlY29uY2lsZXIudW5tb3VudENvbXBvbmVudCh0aGlzLl9yZW5kZXJlZENvbXBvbmVudCwgc2FmZWx5KTtcbiAgICAgICAgICB0aGlzLl9yZW5kZXJlZE5vZGVUeXBlID0gbnVsbDtcbiAgICAgICAgICB0aGlzLl9yZW5kZXJlZENvbXBvbmVudCA9IG51bGw7XG4gICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlcGxhY2VTdGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wZW5kaW5nRm9yY2VVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NhbGxiYWNrcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSBudWxsO1xuICAgICAgICB0aGlzLl90b3BMZXZlbFdyYXBwZXIgPSBudWxsO1xuICAgICAgICBSZWFjdEluc3RhbmNlTWFwLnJlbW92ZShpbnN0KTtcbiAgICAgIH0sXG4gICAgICBfbWFza0NvbnRleHQ6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgICAgdmFyIENvbXBvbmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICAgIHZhciBjb250ZXh0VHlwZXMgPSBDb21wb25lbnQuY29udGV4dFR5cGVzO1xuICAgICAgICBpZiAoIWNvbnRleHRUeXBlcykge1xuICAgICAgICAgIHJldHVybiBlbXB0eU9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWFza2VkQ29udGV4dCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBjb250ZXh0TmFtZSBpbiBjb250ZXh0VHlwZXMpIHtcbiAgICAgICAgICBtYXNrZWRDb250ZXh0W2NvbnRleHROYW1lXSA9IGNvbnRleHRbY29udGV4dE5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXNrZWRDb250ZXh0O1xuICAgICAgfSxcbiAgICAgIF9wcm9jZXNzQ29udGV4dDogZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICB2YXIgbWFza2VkQ29udGV4dCA9IHRoaXMuX21hc2tDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhciBDb21wb25lbnQgPSB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlO1xuICAgICAgICAgIGlmIChDb21wb25lbnQuY29udGV4dFR5cGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGVja1Byb3BUeXBlcyhDb21wb25lbnQuY29udGV4dFR5cGVzLCBtYXNrZWRDb250ZXh0LCBSZWFjdFByb3BUeXBlTG9jYXRpb25zLmNvbnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFza2VkQ29udGV4dDtcbiAgICAgIH0sXG4gICAgICBfcHJvY2Vzc0NoaWxkQ29udGV4dDogZnVuY3Rpb24oY3VycmVudENvbnRleHQpIHtcbiAgICAgICAgdmFyIENvbXBvbmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5Qcm9jZXNzaW5nQ2hpbGRDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoaWxkQ29udGV4dCA9IGluc3QuZ2V0Q2hpbGRDb250ZXh0ICYmIGluc3QuZ2V0Q2hpbGRDb250ZXh0KCk7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kUHJvY2Vzc2luZ0NoaWxkQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZENvbnRleHQpIHtcbiAgICAgICAgICAhKHR5cGVvZiBDb21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXMgPT09ICdvYmplY3QnKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcy5nZXRDaGlsZENvbnRleHQoKTogY2hpbGRDb250ZXh0VHlwZXMgbXVzdCBiZSBkZWZpbmVkIGluIG9yZGVyIHRvICcgKyAndXNlIGdldENoaWxkQ29udGV4dCgpLicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tQcm9wVHlwZXMoQ29tcG9uZW50LmNoaWxkQ29udGV4dFR5cGVzLCBjaGlsZENvbnRleHQsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY2hpbGRDb250ZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBjaGlsZENvbnRleHQpIHtcbiAgICAgICAgICAgICEobmFtZSBpbiBDb21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXMpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzLmdldENoaWxkQ29udGV4dCgpOiBrZXkgXCIlc1wiIGlzIG5vdCBkZWZpbmVkIGluIGNoaWxkQ29udGV4dFR5cGVzLicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcsIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9hc3NpZ24oe30sIGN1cnJlbnRDb250ZXh0LCBjaGlsZENvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50Q29udGV4dDtcbiAgICAgIH0sXG4gICAgICBfcHJvY2Vzc1Byb3BzOiBmdW5jdGlvbihuZXdQcm9wcykge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhciBDb21wb25lbnQgPSB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlO1xuICAgICAgICAgIGlmIChDb21wb25lbnQucHJvcFR5cGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGVja1Byb3BUeXBlcyhDb21wb25lbnQucHJvcFR5cGVzLCBuZXdQcm9wcywgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5wcm9wKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld1Byb3BzO1xuICAgICAgfSxcbiAgICAgIF9jaGVja1Byb3BUeXBlczogZnVuY3Rpb24ocHJvcFR5cGVzLCBwcm9wcywgbG9jYXRpb24pIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSB0aGlzLmdldE5hbWUoKTtcbiAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gcHJvcFR5cGVzKSB7XG4gICAgICAgICAgaWYgKHByb3BUeXBlcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICEodHlwZW9mIHByb3BUeXBlc1twcm9wTmFtZV0gPT09ICdmdW5jdGlvbicpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzOiAlcyB0eXBlIGAlc2AgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5ICcgKyAnZnJvbSBSZWFjdC5Qcm9wVHlwZXMuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIGVycm9yID0gcHJvcFR5cGVzW3Byb3BOYW1lXShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgIGVycm9yID0gZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICB2YXIgYWRkZW5kdW0gPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0odGhpcyk7XG4gICAgICAgICAgICAgIGlmIChsb2NhdGlvbiA9PT0gUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5wcm9wKSB7XG4gICAgICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdGYWlsZWQgQ29tcG9zaXRlIHByb3BUeXBlOiAlcyVzJywgZXJyb3IubWVzc2FnZSwgYWRkZW5kdW0pIDogdm9pZCAwO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRmFpbGVkIENvbnRleHQgVHlwZXM6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZWNlaXZlQ29tcG9uZW50OiBmdW5jdGlvbihuZXh0RWxlbWVudCwgdHJhbnNhY3Rpb24sIG5leHRDb250ZXh0KSB7XG4gICAgICAgIHZhciBwcmV2RWxlbWVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50O1xuICAgICAgICB2YXIgcHJldkNvbnRleHQgPSB0aGlzLl9jb250ZXh0O1xuICAgICAgICB0aGlzLl9wZW5kaW5nRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KHRyYW5zYWN0aW9uLCBwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQsIHByZXZDb250ZXh0LCBuZXh0Q29udGV4dCk7XG4gICAgICB9LFxuICAgICAgcGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5OiBmdW5jdGlvbih0cmFuc2FjdGlvbikge1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0VsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgIFJlYWN0UmVjb25jaWxlci5yZWNlaXZlQ29tcG9uZW50KHRoaXMsIHRoaXMuX3BlbmRpbmdFbGVtZW50LCB0cmFuc2FjdGlvbiwgdGhpcy5fY29udGV4dCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fcGVuZGluZ1N0YXRlUXVldWUgIT09IG51bGwgfHwgdGhpcy5fcGVuZGluZ0ZvcmNlVXBkYXRlKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQodHJhbnNhY3Rpb24sIHRoaXMuX2N1cnJlbnRFbGVtZW50LCB0aGlzLl9jdXJyZW50RWxlbWVudCwgdGhpcy5fY29udGV4dCwgdGhpcy5fY29udGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hOdW1iZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXBkYXRlQ29tcG9uZW50OiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgcHJldlBhcmVudEVsZW1lbnQsIG5leHRQYXJlbnRFbGVtZW50LCBwcmV2VW5tYXNrZWRDb250ZXh0LCBuZXh0VW5tYXNrZWRDb250ZXh0KSB7XG4gICAgICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIHZhciB3aWxsUmVjZWl2ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgbmV4dENvbnRleHQ7XG4gICAgICAgIHZhciBuZXh0UHJvcHM7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZXh0ID09PSBuZXh0VW5tYXNrZWRDb250ZXh0KSB7XG4gICAgICAgICAgbmV4dENvbnRleHQgPSBpbnN0LmNvbnRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dENvbnRleHQgPSB0aGlzLl9wcm9jZXNzQ29udGV4dChuZXh0VW5tYXNrZWRDb250ZXh0KTtcbiAgICAgICAgICB3aWxsUmVjZWl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZQYXJlbnRFbGVtZW50ID09PSBuZXh0UGFyZW50RWxlbWVudCkge1xuICAgICAgICAgIG5leHRQcm9wcyA9IG5leHRQYXJlbnRFbGVtZW50LnByb3BzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHRQcm9wcyA9IHRoaXMuX3Byb2Nlc3NQcm9wcyhuZXh0UGFyZW50RWxlbWVudC5wcm9wcyk7XG4gICAgICAgICAgd2lsbFJlY2VpdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aWxsUmVjZWl2ZSAmJiBpbnN0LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpbnN0LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzLCBuZXh0Q29udGV4dCk7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBuZXh0U3RhdGUgPSB0aGlzLl9wcm9jZXNzUGVuZGluZ1N0YXRlKG5leHRQcm9wcywgbmV4dENvbnRleHQpO1xuICAgICAgICB2YXIgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLl9wZW5kaW5nRm9yY2VVcGRhdGUgJiYgaW5zdC5zaG91bGRDb21wb25lbnRVcGRhdGUpIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IGluc3Quc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlLCBuZXh0Q29udGV4dCk7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdzaG91bGRDb21wb25lbnRVcGRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhzaG91bGRVcGRhdGUgIT09IHVuZGVmaW5lZCwgJyVzLnNob3VsZENvbXBvbmVudFVwZGF0ZSgpOiBSZXR1cm5lZCB1bmRlZmluZWQgaW5zdGVhZCBvZiBhICcgKyAnYm9vbGVhbiB2YWx1ZS4gTWFrZSBzdXJlIHRvIHJldHVybiB0cnVlIG9yIGZhbHNlLicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoTnVtYmVyID0gbnVsbDtcbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAgIHRoaXMuX3BlbmRpbmdGb3JjZVVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuX3BlcmZvcm1Db21wb25lbnRVcGRhdGUobmV4dFBhcmVudEVsZW1lbnQsIG5leHRQcm9wcywgbmV4dFN0YXRlLCBuZXh0Q29udGV4dCwgdHJhbnNhY3Rpb24sIG5leHRVbm1hc2tlZENvbnRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gbmV4dFBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgdGhpcy5fY29udGV4dCA9IG5leHRVbm1hc2tlZENvbnRleHQ7XG4gICAgICAgICAgaW5zdC5wcm9wcyA9IG5leHRQcm9wcztcbiAgICAgICAgICBpbnN0LnN0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgICAgIGluc3QuY29udGV4dCA9IG5leHRDb250ZXh0O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX3Byb2Nlc3NQZW5kaW5nU3RhdGU6IGZ1bmN0aW9uKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIHZhciBxdWV1ZSA9IHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlO1xuICAgICAgICB2YXIgcmVwbGFjZSA9IHRoaXMuX3BlbmRpbmdSZXBsYWNlU3RhdGU7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdSZXBsYWNlU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1N0YXRlUXVldWUgPSBudWxsO1xuICAgICAgICBpZiAoIXF1ZXVlKSB7XG4gICAgICAgICAgcmV0dXJuIGluc3Quc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcGxhY2UgJiYgcXVldWUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIHF1ZXVlWzBdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXh0U3RhdGUgPSBfYXNzaWduKHt9LCByZXBsYWNlID8gcXVldWVbMF0gOiBpbnN0LnN0YXRlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHJlcGxhY2UgPyAxIDogMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHBhcnRpYWwgPSBxdWV1ZVtpXTtcbiAgICAgICAgICBfYXNzaWduKG5leHRTdGF0ZSwgdHlwZW9mIHBhcnRpYWwgPT09ICdmdW5jdGlvbicgPyBwYXJ0aWFsLmNhbGwoaW5zdCwgbmV4dFN0YXRlLCBwcm9wcywgY29udGV4dCkgOiBwYXJ0aWFsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dFN0YXRlO1xuICAgICAgfSxcbiAgICAgIF9wZXJmb3JtQ29tcG9uZW50VXBkYXRlOiBmdW5jdGlvbihuZXh0RWxlbWVudCwgbmV4dFByb3BzLCBuZXh0U3RhdGUsIG5leHRDb250ZXh0LCB0cmFuc2FjdGlvbiwgdW5tYXNrZWRDb250ZXh0KSB7XG4gICAgICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgICAgIHZhciBoYXNDb21wb25lbnREaWRVcGRhdGUgPSBCb29sZWFuKGluc3QuY29tcG9uZW50RGlkVXBkYXRlKTtcbiAgICAgICAgdmFyIHByZXZQcm9wcztcbiAgICAgICAgdmFyIHByZXZTdGF0ZTtcbiAgICAgICAgdmFyIHByZXZDb250ZXh0O1xuICAgICAgICBpZiAoaGFzQ29tcG9uZW50RGlkVXBkYXRlKSB7XG4gICAgICAgICAgcHJldlByb3BzID0gaW5zdC5wcm9wcztcbiAgICAgICAgICBwcmV2U3RhdGUgPSBpbnN0LnN0YXRlO1xuICAgICAgICAgIHByZXZDb250ZXh0ID0gaW5zdC5jb250ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnN0LmNvbXBvbmVudFdpbGxVcGRhdGUpIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50V2lsbFVwZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpbnN0LmNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUsIG5leHRDb250ZXh0KTtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2NvbXBvbmVudFdpbGxVcGRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBuZXh0RWxlbWVudDtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IHVubWFza2VkQ29udGV4dDtcbiAgICAgICAgaW5zdC5wcm9wcyA9IG5leHRQcm9wcztcbiAgICAgICAgaW5zdC5zdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAgICAgaW5zdC5jb250ZXh0ID0gbmV4dENvbnRleHQ7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVJlbmRlcmVkQ29tcG9uZW50KHRyYW5zYWN0aW9uLCB1bm1hc2tlZENvbnRleHQpO1xuICAgICAgICBpZiAoaGFzQ29tcG9uZW50RGlkVXBkYXRlKSB7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoaW52b2tlQ29tcG9uZW50RGlkVXBkYXRlV2l0aFRpbWVyLmJpbmQodGhpcywgcHJldlByb3BzLCBwcmV2U3RhdGUsIHByZXZDb250ZXh0KSwgdGhpcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoaW5zdC5jb21wb25lbnREaWRVcGRhdGUuYmluZChpbnN0LCBwcmV2UHJvcHMsIHByZXZTdGF0ZSwgcHJldkNvbnRleHQpLCBpbnN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBfdXBkYXRlUmVuZGVyZWRDb21wb25lbnQ6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBwcmV2Q29tcG9uZW50SW5zdGFuY2UgPSB0aGlzLl9yZW5kZXJlZENvbXBvbmVudDtcbiAgICAgICAgdmFyIHByZXZSZW5kZXJlZEVsZW1lbnQgPSBwcmV2Q29tcG9uZW50SW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50O1xuICAgICAgICB2YXIgbmV4dFJlbmRlcmVkRWxlbWVudCA9IHRoaXMuX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudCgpO1xuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQocHJldlJlbmRlcmVkRWxlbWVudCwgbmV4dFJlbmRlcmVkRWxlbWVudCkpIHtcbiAgICAgICAgICBSZWFjdFJlY29uY2lsZXIucmVjZWl2ZUNvbXBvbmVudChwcmV2Q29tcG9uZW50SW5zdGFuY2UsIG5leHRSZW5kZXJlZEVsZW1lbnQsIHRyYW5zYWN0aW9uLCB0aGlzLl9wcm9jZXNzQ2hpbGRDb250ZXh0KGNvbnRleHQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgb2xkTmF0aXZlTm9kZSA9IFJlYWN0UmVjb25jaWxlci5nZXROYXRpdmVOb2RlKHByZXZDb21wb25lbnRJbnN0YW5jZSk7XG4gICAgICAgICAgUmVhY3RSZWNvbmNpbGVyLnVubW91bnRDb21wb25lbnQocHJldkNvbXBvbmVudEluc3RhbmNlLCBmYWxzZSk7XG4gICAgICAgICAgdGhpcy5fcmVuZGVyZWROb2RlVHlwZSA9IFJlYWN0Tm9kZVR5cGVzLmdldFR5cGUobmV4dFJlbmRlcmVkRWxlbWVudCk7XG4gICAgICAgICAgdGhpcy5fcmVuZGVyZWRDb21wb25lbnQgPSB0aGlzLl9pbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50KG5leHRSZW5kZXJlZEVsZW1lbnQpO1xuICAgICAgICAgIHZhciBuZXh0TWFya3VwID0gUmVhY3RSZWNvbmNpbGVyLm1vdW50Q29tcG9uZW50KHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50LCB0cmFuc2FjdGlvbiwgdGhpcy5fbmF0aXZlUGFyZW50LCB0aGlzLl9uYXRpdmVDb250YWluZXJJbmZvLCB0aGlzLl9wcm9jZXNzQ2hpbGRDb250ZXh0KGNvbnRleHQpKTtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uU2V0Q2hpbGRyZW4odGhpcy5fZGVidWdJRCwgdGhpcy5fcmVuZGVyZWRDb21wb25lbnQuX2RlYnVnSUQgIT09IDAgPyBbdGhpcy5fcmVuZGVyZWRDb21wb25lbnQuX2RlYnVnSURdIDogW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9yZXBsYWNlTm9kZVdpdGhNYXJrdXAob2xkTmF0aXZlTm9kZSwgbmV4dE1hcmt1cCwgcHJldkNvbXBvbmVudEluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF9yZXBsYWNlTm9kZVdpdGhNYXJrdXA6IGZ1bmN0aW9uKG9sZE5hdGl2ZU5vZGUsIG5leHRNYXJrdXAsIHByZXZJbnN0YW5jZSkge1xuICAgICAgICBSZWFjdENvbXBvbmVudEVudmlyb25tZW50LnJlcGxhY2VOb2RlV2l0aE1hcmt1cChvbGROYXRpdmVOb2RlLCBuZXh0TWFya3VwLCBwcmV2SW5zdGFuY2UpO1xuICAgICAgfSxcbiAgICAgIF9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnRXaXRob3V0T3duZXJPckNvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaW5zdCA9IHRoaXMuX2luc3RhbmNlO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkxpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdyZW5kZXInKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbmRlcmVkQ29tcG9uZW50ID0gaW5zdC5yZW5kZXIoKTtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ3JlbmRlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmIChyZW5kZXJlZENvbXBvbmVudCA9PT0gdW5kZWZpbmVkICYmIGluc3QucmVuZGVyLl9pc01vY2tGdW5jdGlvbikge1xuICAgICAgICAgICAgcmVuZGVyZWRDb21wb25lbnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVuZGVyZWRDb21wb25lbnQ7XG4gICAgICB9LFxuICAgICAgX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZW5kZXJlZENvbXBvbmVudDtcbiAgICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHRoaXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVuZGVyZWRDb21wb25lbnQgPSB0aGlzLl9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnRXaXRob3V0T3duZXJPckNvbnRleHQoKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAhKHJlbmRlcmVkQ29tcG9uZW50ID09PSBudWxsIHx8IHJlbmRlcmVkQ29tcG9uZW50ID09PSBmYWxzZSB8fCBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQocmVuZGVyZWRDb21wb25lbnQpKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcy5yZW5kZXIoKTogQSB2YWxpZCBSZWFjdCBlbGVtZW50IChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkLiBZb3UgbWF5IGhhdmUgJyArICdyZXR1cm5lZCB1bmRlZmluZWQsIGFuIGFycmF5IG9yIHNvbWUgb3RoZXIgaW52YWxpZCBvYmplY3QuJywgdGhpcy5nZXROYW1lKCkgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICByZXR1cm4gcmVuZGVyZWRDb21wb25lbnQ7XG4gICAgICB9LFxuICAgICAgYXR0YWNoUmVmOiBmdW5jdGlvbihyZWYsIGNvbXBvbmVudCkge1xuICAgICAgICB2YXIgaW5zdCA9IHRoaXMuZ2V0UHVibGljSW5zdGFuY2UoKTtcbiAgICAgICAgIShpbnN0ICE9IG51bGwpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1N0YXRlbGVzcyBmdW5jdGlvbiBjb21wb25lbnRzIGNhbm5vdCBoYXZlIHJlZnMuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB2YXIgcHVibGljQ29tcG9uZW50SW5zdGFuY2UgPSBjb21wb25lbnQuZ2V0UHVibGljSW5zdGFuY2UoKTtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudCAmJiBjb21wb25lbnQuZ2V0TmFtZSA/IGNvbXBvbmVudC5nZXROYW1lKCkgOiAnYSBjb21wb25lbnQnO1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHB1YmxpY0NvbXBvbmVudEluc3RhbmNlICE9IG51bGwsICdTdGF0ZWxlc3MgZnVuY3Rpb24gY29tcG9uZW50cyBjYW5ub3QgYmUgZ2l2ZW4gcmVmcyAnICsgJyhTZWUgcmVmIFwiJXNcIiBpbiAlcyBjcmVhdGVkIGJ5ICVzKS4gJyArICdBdHRlbXB0cyB0byBhY2Nlc3MgdGhpcyByZWYgd2lsbCBmYWlsLicsIHJlZiwgY29tcG9uZW50TmFtZSwgdGhpcy5nZXROYW1lKCkpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWZzID0gaW5zdC5yZWZzID09PSBlbXB0eU9iamVjdCA/IGluc3QucmVmcyA9IHt9IDogaW5zdC5yZWZzO1xuICAgICAgICByZWZzW3JlZl0gPSBwdWJsaWNDb21wb25lbnRJbnN0YW5jZTtcbiAgICAgIH0sXG4gICAgICBkZXRhY2hSZWY6IGZ1bmN0aW9uKHJlZikge1xuICAgICAgICB2YXIgcmVmcyA9IHRoaXMuZ2V0UHVibGljSW5zdGFuY2UoKS5yZWZzO1xuICAgICAgICBkZWxldGUgcmVmc1tyZWZdO1xuICAgICAgfSxcbiAgICAgIGdldE5hbWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdHlwZSA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IHRoaXMuX2luc3RhbmNlICYmIHRoaXMuX2luc3RhbmNlLmNvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCBjb25zdHJ1Y3RvciAmJiBjb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgY29uc3RydWN0b3IgJiYgY29uc3RydWN0b3IubmFtZSB8fCBudWxsO1xuICAgICAgfSxcbiAgICAgIGdldFB1YmxpY0luc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICAgICAgaWYgKGluc3QgaW5zdGFuY2VvZiBTdGF0ZWxlc3NDb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdDtcbiAgICAgIH0sXG4gICAgICBfaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudDogbnVsbFxuICAgIH07XG4gICAgdmFyIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50ID0ge01peGluOiBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudE1peGlufTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50O1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI2NFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGVtcHR5Q29tcG9uZW50RmFjdG9yeTtcbiAgdmFyIFJlYWN0RW1wdHlDb21wb25lbnRJbmplY3Rpb24gPSB7aW5qZWN0RW1wdHlDb21wb25lbnRGYWN0b3J5OiBmdW5jdGlvbihmYWN0b3J5KSB7XG4gICAgICBlbXB0eUNvbXBvbmVudEZhY3RvcnkgPSBmYWN0b3J5O1xuICAgIH19O1xuICB2YXIgUmVhY3RFbXB0eUNvbXBvbmVudCA9IHtjcmVhdGU6IGZ1bmN0aW9uKGluc3RhbnRpYXRlKSB7XG4gICAgICByZXR1cm4gZW1wdHlDb21wb25lbnRGYWN0b3J5KGluc3RhbnRpYXRlKTtcbiAgICB9fTtcbiAgUmVhY3RFbXB0eUNvbXBvbmVudC5pbmplY3Rpb24gPSBSZWFjdEVtcHR5Q29tcG9uZW50SW5qZWN0aW9uO1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RW1wdHlDb21wb25lbnQ7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNjVcIiwgW1wiNlwiLCBcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIGF1dG9HZW5lcmF0ZVdyYXBwZXJDbGFzcyA9IG51bGw7XG4gICAgdmFyIGdlbmVyaWNDb21wb25lbnRDbGFzcyA9IG51bGw7XG4gICAgdmFyIHRhZ1RvQ29tcG9uZW50Q2xhc3MgPSB7fTtcbiAgICB2YXIgdGV4dENvbXBvbmVudENsYXNzID0gbnVsbDtcbiAgICB2YXIgUmVhY3ROYXRpdmVDb21wb25lbnRJbmplY3Rpb24gPSB7XG4gICAgICBpbmplY3RHZW5lcmljQ29tcG9uZW50Q2xhc3M6IGZ1bmN0aW9uKGNvbXBvbmVudENsYXNzKSB7XG4gICAgICAgIGdlbmVyaWNDb21wb25lbnRDbGFzcyA9IGNvbXBvbmVudENsYXNzO1xuICAgICAgfSxcbiAgICAgIGluamVjdFRleHRDb21wb25lbnRDbGFzczogZnVuY3Rpb24oY29tcG9uZW50Q2xhc3MpIHtcbiAgICAgICAgdGV4dENvbXBvbmVudENsYXNzID0gY29tcG9uZW50Q2xhc3M7XG4gICAgICB9LFxuICAgICAgaW5qZWN0Q29tcG9uZW50Q2xhc3NlczogZnVuY3Rpb24oY29tcG9uZW50Q2xhc3Nlcykge1xuICAgICAgICBfYXNzaWduKHRhZ1RvQ29tcG9uZW50Q2xhc3MsIGNvbXBvbmVudENsYXNzZXMpO1xuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50Q2xhc3NGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LnR5cGU7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZWxlbWVudC50eXBlO1xuICAgICAgdmFyIGNvbXBvbmVudENsYXNzID0gdGFnVG9Db21wb25lbnRDbGFzc1t0YWddO1xuICAgICAgaWYgKGNvbXBvbmVudENsYXNzID09IG51bGwpIHtcbiAgICAgICAgdGFnVG9Db21wb25lbnRDbGFzc1t0YWddID0gY29tcG9uZW50Q2xhc3MgPSBhdXRvR2VuZXJhdGVXcmFwcGVyQ2xhc3ModGFnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb21wb25lbnRDbGFzcztcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlSW50ZXJuYWxDb21wb25lbnQoZWxlbWVudCkge1xuICAgICAgIWdlbmVyaWNDb21wb25lbnRDbGFzcyA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdUaGVyZSBpcyBubyByZWdpc3RlcmVkIGNvbXBvbmVudCBmb3IgdGhlIHRhZyAlcycsIGVsZW1lbnQudHlwZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIG5ldyBnZW5lcmljQ29tcG9uZW50Q2xhc3MoZWxlbWVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlRm9yVGV4dCh0ZXh0KSB7XG4gICAgICByZXR1cm4gbmV3IHRleHRDb21wb25lbnRDbGFzcyh0ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNUZXh0Q29tcG9uZW50KGNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIGNvbXBvbmVudCBpbnN0YW5jZW9mIHRleHRDb21wb25lbnRDbGFzcztcbiAgICB9XG4gICAgdmFyIFJlYWN0TmF0aXZlQ29tcG9uZW50ID0ge1xuICAgICAgZ2V0Q29tcG9uZW50Q2xhc3NGb3JFbGVtZW50OiBnZXRDb21wb25lbnRDbGFzc0ZvckVsZW1lbnQsXG4gICAgICBjcmVhdGVJbnRlcm5hbENvbXBvbmVudDogY3JlYXRlSW50ZXJuYWxDb21wb25lbnQsXG4gICAgICBjcmVhdGVJbnN0YW5jZUZvclRleHQ6IGNyZWF0ZUluc3RhbmNlRm9yVGV4dCxcbiAgICAgIGlzVGV4dENvbXBvbmVudDogaXNUZXh0Q29tcG9uZW50LFxuICAgICAgaW5qZWN0aW9uOiBSZWFjdE5hdGl2ZUNvbXBvbmVudEluamVjdGlvblxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdE5hdGl2ZUNvbXBvbmVudDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiM2ZcIiwgW1wiNlwiLCBcIjkyXCIsIFwiNjRcIiwgXCI2NVwiLCBcIjI3XCIsIFwiMzBcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICAgIHZhciBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCA9ICRfX3JlcXVpcmUoJzkyJyk7XG4gICAgdmFyIFJlYWN0RW1wdHlDb21wb25lbnQgPSAkX19yZXF1aXJlKCc2NCcpO1xuICAgIHZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudCA9ICRfX3JlcXVpcmUoJzY1Jyk7XG4gICAgdmFyIFJlYWN0SW5zdHJ1bWVudGF0aW9uID0gJF9fcmVxdWlyZSgnMjcnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50V3JhcHBlciA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuY29uc3RydWN0KGVsZW1lbnQpO1xuICAgIH07XG4gICAgX2Fzc2lnbihSZWFjdENvbXBvc2l0ZUNvbXBvbmVudFdyYXBwZXIucHJvdG90eXBlLCBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudC5NaXhpbiwge19pbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50OiBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50fSk7XG4gICAgZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKG93bmVyKSB7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREaXNwbGF5TmFtZShpbnN0YW5jZSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBpbnN0YW5jZS5fY3VycmVudEVsZW1lbnQ7XG4gICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnI2VtcHR5JztcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBlbGVtZW50ID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gJyN0ZXh0JztcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQudHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQudHlwZTtcbiAgICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuZ2V0TmFtZSkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UuZ2V0TmFtZSgpIHx8ICdVbmtub3duJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LnR5cGUuZGlzcGxheU5hbWUgfHwgZWxlbWVudC50eXBlLm5hbWUgfHwgJ1Vua25vd24nO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpc0ludGVybmFsQ29tcG9uZW50VHlwZSh0eXBlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHR5cGUucHJvdG90eXBlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgdHlwZS5wcm90b3R5cGUubW91bnRDb21wb25lbnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHR5cGUucHJvdG90eXBlLnJlY2VpdmVDb21wb25lbnQgPT09ICdmdW5jdGlvbic7XG4gICAgfVxuICAgIHZhciBuZXh0RGVidWdJRCA9IDE7XG4gICAgZnVuY3Rpb24gaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudChub2RlKSB7XG4gICAgICB2YXIgaW5zdGFuY2U7XG4gICAgICB2YXIgaXNFbXB0eSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gZmFsc2U7XG4gICAgICBpZiAoaXNFbXB0eSkge1xuICAgICAgICBpbnN0YW5jZSA9IFJlYWN0RW1wdHlDb21wb25lbnQuY3JlYXRlKGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygbm9kZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBub2RlO1xuICAgICAgICAhKGVsZW1lbnQgJiYgKHR5cGVvZiBlbGVtZW50LnR5cGUgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGVsZW1lbnQudHlwZSA9PT0gJ3N0cmluZycpKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFbGVtZW50IHR5cGUgaXMgaW52YWxpZDogZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciBidWlsdC1pbiBjb21wb25lbnRzKSAnICsgJ29yIGEgY2xhc3MvZnVuY3Rpb24gKGZvciBjb21wb3NpdGUgY29tcG9uZW50cykgYnV0IGdvdDogJXMuJXMnLCBlbGVtZW50LnR5cGUgPT0gbnVsbCA/IGVsZW1lbnQudHlwZSA6IHR5cGVvZiBlbGVtZW50LnR5cGUsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShlbGVtZW50Ll9vd25lcikpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaW5zdGFuY2UgPSBSZWFjdE5hdGl2ZUNvbXBvbmVudC5jcmVhdGVJbnRlcm5hbENvbXBvbmVudChlbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ludGVybmFsQ29tcG9uZW50VHlwZShlbGVtZW50LnR5cGUpKSB7XG4gICAgICAgICAgaW5zdGFuY2UgPSBuZXcgZWxlbWVudC50eXBlKGVsZW1lbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluc3RhbmNlID0gbmV3IFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50V3JhcHBlcihlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygbm9kZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5vZGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGluc3RhbmNlID0gUmVhY3ROYXRpdmVDb21wb25lbnQuY3JlYXRlSW5zdGFuY2VGb3JUZXh0KG5vZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgIWZhbHNlID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0VuY291bnRlcmVkIGludmFsaWQgUmVhY3Qgbm9kZSBvZiB0eXBlICVzJywgdHlwZW9mIG5vZGUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHR5cGVvZiBpbnN0YW5jZS5tb3VudENvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgaW5zdGFuY2UucmVjZWl2ZUNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgaW5zdGFuY2UuZ2V0TmF0aXZlTm9kZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgaW5zdGFuY2UudW5tb3VudENvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJywgJ09ubHkgUmVhY3QgQ29tcG9uZW50cyBjYW4gYmUgbW91bnRlZC4nKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGluc3RhbmNlLl9tb3VudEluZGV4ID0gMDtcbiAgICAgIGluc3RhbmNlLl9tb3VudEltYWdlID0gbnVsbDtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGluc3RhbmNlLl9pc093bmVyTmVjZXNzYXJ5ID0gZmFsc2U7XG4gICAgICAgIGluc3RhbmNlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIGRlYnVnSUQgPSBpc0VtcHR5ID8gMCA6IG5leHREZWJ1Z0lEKys7XG4gICAgICAgIGluc3RhbmNlLl9kZWJ1Z0lEID0gZGVidWdJRDtcbiAgICAgICAgaWYgKGRlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICB2YXIgZGlzcGxheU5hbWUgPSBnZXREaXNwbGF5TmFtZShpbnN0YW5jZSk7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uU2V0RGlzcGxheU5hbWUoZGVidWdJRCwgZGlzcGxheU5hbWUpO1xuICAgICAgICAgIHZhciBvd25lciA9IG5vZGUgJiYgbm9kZS5fb3duZXI7XG4gICAgICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRPd25lcihkZWJ1Z0lELCBvd25lci5fZGVidWdJRCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKSB7XG4gICAgICAgICAgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQ7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjU5XCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbiA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICBpZiAodHlwZW9mIE1TQXBwICE9PSAndW5kZWZpbmVkJyAmJiBNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgTVNBcHAuZXhlY1Vuc2FmZUxvY2FsRnVuY3Rpb24oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMoYXJnMCwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb247XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNWFcIiwgW1wiZFwiLCBcIjU5XCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnZCcpO1xuICAgIHZhciBXSElURVNQQUNFX1RFU1QgPSAvXlsgXFxyXFxuXFx0XFxmXS87XG4gICAgdmFyIE5PTlZJU0lCTEVfVEVTVCA9IC88KCEtLXxsaW5rfG5vc2NyaXB0fG1ldGF8c2NyaXB0fHN0eWxlKVsgXFxyXFxuXFx0XFxmXFwvPl0vO1xuICAgIHZhciBjcmVhdGVNaWNyb3NvZnRVbnNhZmVMb2NhbEZ1bmN0aW9uID0gJF9fcmVxdWlyZSgnNTknKTtcbiAgICB2YXIgc2V0SW5uZXJIVE1MID0gY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbihub2RlLCBodG1sKSB7XG4gICAgICBub2RlLmlubmVySFRNTCA9IGh0bWw7XG4gICAgfSk7XG4gICAgaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgICAgdmFyIHRlc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0ZXN0RWxlbWVudC5pbm5lckhUTUwgPSAnICc7XG4gICAgICBpZiAodGVzdEVsZW1lbnQuaW5uZXJIVE1MID09PSAnJykge1xuICAgICAgICBzZXRJbm5lckhUTUwgPSBmdW5jdGlvbihub2RlLCBodG1sKSB7XG4gICAgICAgICAgaWYgKG5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChub2RlLCBub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFdISVRFU1BBQ0VfVEVTVC50ZXN0KGh0bWwpIHx8IGh0bWxbMF0gPT09ICc8JyAmJiBOT05WSVNJQkxFX1RFU1QudGVzdChodG1sKSkge1xuICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RkVGRikgKyBodG1sO1xuICAgICAgICAgICAgdmFyIHRleHROb2RlID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKHRleHROb2RlLmRhdGEubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQodGV4dE5vZGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGV4dE5vZGUuZGVsZXRlRGF0YSgwLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHRlc3RFbGVtZW50ID0gbnVsbDtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBzZXRJbm5lckhUTUw7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjQxXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBmdW5jdGlvbiBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudChwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQpIHtcbiAgICB2YXIgcHJldkVtcHR5ID0gcHJldkVsZW1lbnQgPT09IG51bGwgfHwgcHJldkVsZW1lbnQgPT09IGZhbHNlO1xuICAgIHZhciBuZXh0RW1wdHkgPSBuZXh0RWxlbWVudCA9PT0gbnVsbCB8fCBuZXh0RWxlbWVudCA9PT0gZmFsc2U7XG4gICAgaWYgKHByZXZFbXB0eSB8fCBuZXh0RW1wdHkpIHtcbiAgICAgIHJldHVybiBwcmV2RW1wdHkgPT09IG5leHRFbXB0eTtcbiAgICB9XG4gICAgdmFyIHByZXZUeXBlID0gdHlwZW9mIHByZXZFbGVtZW50O1xuICAgIHZhciBuZXh0VHlwZSA9IHR5cGVvZiBuZXh0RWxlbWVudDtcbiAgICBpZiAocHJldlR5cGUgPT09ICdzdHJpbmcnIHx8IHByZXZUeXBlID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIG5leHRUeXBlID09PSAnc3RyaW5nJyB8fCBuZXh0VHlwZSA9PT0gJ251bWJlcic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXh0VHlwZSA9PT0gJ29iamVjdCcgJiYgcHJldkVsZW1lbnQudHlwZSA9PT0gbmV4dEVsZW1lbnQudHlwZSAmJiBwcmV2RWxlbWVudC5rZXkgPT09IG5leHRFbGVtZW50LmtleTtcbiAgICB9XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI5NVwiLCBbXCI0Y1wiLCBcIjFiXCIsIFwiNGVcIiwgXCI0N1wiLCBcIjExXCIsIFwiODlcIiwgXCI4YVwiLCBcIjhkXCIsIFwiOGVcIiwgXCIyN1wiLCBcIjhjXCIsIFwiM2VcIiwgXCI5MVwiLCBcIjEyXCIsIFwiOTRcIiwgXCIzZlwiLCBcIjMwXCIsIFwiNWFcIiwgXCI0MVwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIERPTUxhenlUcmVlID0gJF9fcmVxdWlyZSgnNGMnKTtcbiAgICB2YXIgRE9NUHJvcGVydHkgPSAkX19yZXF1aXJlKCcxYicpO1xuICAgIHZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSAkX19yZXF1aXJlKCc0ZScpO1xuICAgIHZhciBSZWFjdEN1cnJlbnRPd25lciA9ICRfX3JlcXVpcmUoJzQ3Jyk7XG4gICAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9ICRfX3JlcXVpcmUoJzExJyk7XG4gICAgdmFyIFJlYWN0RE9NQ29udGFpbmVySW5mbyA9ICRfX3JlcXVpcmUoJzg5Jyk7XG4gICAgdmFyIFJlYWN0RE9NRmVhdHVyZUZsYWdzID0gJF9fcmVxdWlyZSgnOGEnKTtcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gJF9fcmVxdWlyZSgnOGQnKTtcbiAgICB2YXIgUmVhY3RGZWF0dXJlRmxhZ3MgPSAkX19yZXF1aXJlKCc4ZScpO1xuICAgIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9ICRfX3JlcXVpcmUoJzI3Jyk7XG4gICAgdmFyIFJlYWN0TWFya3VwQ2hlY2tzdW0gPSAkX19yZXF1aXJlKCc4YycpO1xuICAgIHZhciBSZWFjdFJlY29uY2lsZXIgPSAkX19yZXF1aXJlKCczZScpO1xuICAgIHZhciBSZWFjdFVwZGF0ZVF1ZXVlID0gJF9fcmVxdWlyZSgnOTEnKTtcbiAgICB2YXIgUmVhY3RVcGRhdGVzID0gJF9fcmVxdWlyZSgnMTInKTtcbiAgICB2YXIgZW1wdHlPYmplY3QgPSAkX19yZXF1aXJlKCc5NCcpO1xuICAgIHZhciBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50ID0gJF9fcmVxdWlyZSgnM2YnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgc2V0SW5uZXJIVE1MID0gJF9fcmVxdWlyZSgnNWEnKTtcbiAgICB2YXIgc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQgPSAkX19yZXF1aXJlKCc0MScpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgQVRUUl9OQU1FID0gRE9NUHJvcGVydHkuSURfQVRUUklCVVRFX05BTUU7XG4gICAgdmFyIFJPT1RfQVRUUl9OQU1FID0gRE9NUHJvcGVydHkuUk9PVF9BVFRSSUJVVEVfTkFNRTtcbiAgICB2YXIgRUxFTUVOVF9OT0RFX1RZUEUgPSAxO1xuICAgIHZhciBET0NfTk9ERV9UWVBFID0gOTtcbiAgICB2YXIgRE9DVU1FTlRfRlJBR01FTlRfTk9ERV9UWVBFID0gMTE7XG4gICAgdmFyIGluc3RhbmNlc0J5UmVhY3RSb290SUQgPSB7fTtcbiAgICBmdW5jdGlvbiBmaXJzdERpZmZlcmVuY2VJbmRleChzdHJpbmcxLCBzdHJpbmcyKSB7XG4gICAgICB2YXIgbWluTGVuID0gTWF0aC5taW4oc3RyaW5nMS5sZW5ndGgsIHN0cmluZzIubGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWluTGVuOyBpKyspIHtcbiAgICAgICAgaWYgKHN0cmluZzEuY2hhckF0KGkpICE9PSBzdHJpbmcyLmNoYXJBdChpKSkge1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nMS5sZW5ndGggPT09IHN0cmluZzIubGVuZ3RoID8gLTEgOiBtaW5MZW47XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DX05PREVfVFlQRSkge1xuICAgICAgICByZXR1cm4gY29udGFpbmVyLmRvY3VtZW50RWxlbWVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb250YWluZXIuZmlyc3RDaGlsZDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaW50ZXJuYWxHZXRJRChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS5nZXRBdHRyaWJ1dGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoQVRUUl9OQU1FKSB8fCAnJztcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRDb21wb25lbnRJbnRvTm9kZSh3cmFwcGVySW5zdGFuY2UsIGNvbnRhaW5lciwgdHJhbnNhY3Rpb24sIHNob3VsZFJldXNlTWFya3VwLCBjb250ZXh0KSB7XG4gICAgICB2YXIgbWFya2VyTmFtZTtcbiAgICAgIGlmIChSZWFjdEZlYXR1cmVGbGFncy5sb2dUb3BMZXZlbFJlbmRlcnMpIHtcbiAgICAgICAgdmFyIHdyYXBwZWRFbGVtZW50ID0gd3JhcHBlckluc3RhbmNlLl9jdXJyZW50RWxlbWVudC5wcm9wcztcbiAgICAgICAgdmFyIHR5cGUgPSB3cmFwcGVkRWxlbWVudC50eXBlO1xuICAgICAgICBtYXJrZXJOYW1lID0gJ1JlYWN0IG1vdW50OiAnICsgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IHR5cGUgOiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSk7XG4gICAgICAgIGNvbnNvbGUudGltZShtYXJrZXJOYW1lKTtcbiAgICAgIH1cbiAgICAgIHZhciBtYXJrdXAgPSBSZWFjdFJlY29uY2lsZXIubW91bnRDb21wb25lbnQod3JhcHBlckluc3RhbmNlLCB0cmFuc2FjdGlvbiwgbnVsbCwgUmVhY3RET01Db250YWluZXJJbmZvKHdyYXBwZXJJbnN0YW5jZSwgY29udGFpbmVyKSwgY29udGV4dCk7XG4gICAgICBpZiAobWFya2VyTmFtZSkge1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQobWFya2VyTmFtZSk7XG4gICAgICB9XG4gICAgICB3cmFwcGVySW5zdGFuY2UuX3JlbmRlcmVkQ29tcG9uZW50Ll90b3BMZXZlbFdyYXBwZXIgPSB3cmFwcGVySW5zdGFuY2U7XG4gICAgICBSZWFjdE1vdW50Ll9tb3VudEltYWdlSW50b05vZGUobWFya3VwLCBjb250YWluZXIsIHdyYXBwZXJJbnN0YW5jZSwgc2hvdWxkUmV1c2VNYXJrdXAsIHRyYW5zYWN0aW9uKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmF0Y2hlZE1vdW50Q29tcG9uZW50SW50b05vZGUoY29tcG9uZW50SW5zdGFuY2UsIGNvbnRhaW5lciwgc2hvdWxkUmV1c2VNYXJrdXAsIGNvbnRleHQpIHtcbiAgICAgIHZhciB0cmFuc2FjdGlvbiA9IFJlYWN0VXBkYXRlcy5SZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uLmdldFBvb2xlZCghc2hvdWxkUmV1c2VNYXJrdXAgJiYgUmVhY3RET01GZWF0dXJlRmxhZ3MudXNlQ3JlYXRlRWxlbWVudCk7XG4gICAgICB0cmFuc2FjdGlvbi5wZXJmb3JtKG1vdW50Q29tcG9uZW50SW50b05vZGUsIG51bGwsIGNvbXBvbmVudEluc3RhbmNlLCBjb250YWluZXIsIHRyYW5zYWN0aW9uLCBzaG91bGRSZXVzZU1hcmt1cCwgY29udGV4dCk7XG4gICAgICBSZWFjdFVwZGF0ZXMuUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbi5yZWxlYXNlKHRyYW5zYWN0aW9uKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdW5tb3VudENvbXBvbmVudEZyb21Ob2RlKGluc3RhbmNlLCBjb250YWluZXIsIHNhZmVseSkge1xuICAgICAgUmVhY3RSZWNvbmNpbGVyLnVubW91bnRDb21wb25lbnQoaW5zdGFuY2UsIHNhZmVseSk7XG4gICAgICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NfTk9ERV9UWVBFKSB7XG4gICAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lci5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoY29udGFpbmVyLmxhc3RDaGlsZCkge1xuICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY29udGFpbmVyLmxhc3RDaGlsZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc05vblJvb3RSZWFjdENoaWxkKGNvbnRhaW5lcikge1xuICAgICAgdmFyIHJvb3RFbCA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgaWYgKHJvb3RFbCkge1xuICAgICAgICB2YXIgaW5zdCA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRJbnN0YW5jZUZyb21Ob2RlKHJvb3RFbCk7XG4gICAgICAgIHJldHVybiAhIShpbnN0ICYmIGluc3QuX25hdGl2ZVBhcmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5hdGl2ZVJvb3RJbnN0YW5jZUluQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICAgICAgdmFyIHJvb3RFbCA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgdmFyIHByZXZOYXRpdmVJbnN0YW5jZSA9IHJvb3RFbCAmJiBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShyb290RWwpO1xuICAgICAgcmV0dXJuIHByZXZOYXRpdmVJbnN0YW5jZSAmJiAhcHJldk5hdGl2ZUluc3RhbmNlLl9uYXRpdmVQYXJlbnQgPyBwcmV2TmF0aXZlSW5zdGFuY2UgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUb3BMZXZlbFdyYXBwZXJJbkNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICAgIHZhciByb290ID0gZ2V0TmF0aXZlUm9vdEluc3RhbmNlSW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICAgIHJldHVybiByb290ID8gcm9vdC5fbmF0aXZlQ29udGFpbmVySW5mby5fdG9wTGV2ZWxXcmFwcGVyIDogbnVsbDtcbiAgICB9XG4gICAgdmFyIHRvcExldmVsUm9vdENvdW50ZXIgPSAxO1xuICAgIHZhciBUb3BMZXZlbFdyYXBwZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMucm9vdElEID0gdG9wTGV2ZWxSb290Q291bnRlcisrO1xuICAgIH07XG4gICAgVG9wTGV2ZWxXcmFwcGVyLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIFRvcExldmVsV3JhcHBlci5kaXNwbGF5TmFtZSA9ICdUb3BMZXZlbFdyYXBwZXInO1xuICAgIH1cbiAgICBUb3BMZXZlbFdyYXBwZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHM7XG4gICAgfTtcbiAgICB2YXIgUmVhY3RNb3VudCA9IHtcbiAgICAgIFRvcExldmVsV3JhcHBlcjogVG9wTGV2ZWxXcmFwcGVyLFxuICAgICAgX2luc3RhbmNlc0J5UmVhY3RSb290SUQ6IGluc3RhbmNlc0J5UmVhY3RSb290SUQsXG4gICAgICBzY3JvbGxNb25pdG9yOiBmdW5jdGlvbihjb250YWluZXIsIHJlbmRlckNhbGxiYWNrKSB7XG4gICAgICAgIHJlbmRlckNhbGxiYWNrKCk7XG4gICAgICB9LFxuICAgICAgX3VwZGF0ZVJvb3RDb21wb25lbnQ6IGZ1bmN0aW9uKHByZXZDb21wb25lbnQsIG5leHRFbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIFJlYWN0TW91bnQuc2Nyb2xsTW9uaXRvcihjb250YWluZXIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIFJlYWN0VXBkYXRlUXVldWUuZW5xdWV1ZUVsZW1lbnRJbnRlcm5hbChwcmV2Q29tcG9uZW50LCBuZXh0RWxlbWVudCk7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBSZWFjdFVwZGF0ZVF1ZXVlLmVucXVldWVDYWxsYmFja0ludGVybmFsKHByZXZDb21wb25lbnQsIGNhbGxiYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHJldkNvbXBvbmVudDtcbiAgICAgIH0sXG4gICAgICBfcmVuZGVyTmV3Um9vdENvbXBvbmVudDogZnVuY3Rpb24obmV4dEVsZW1lbnQsIGNvbnRhaW5lciwgc2hvdWxkUmV1c2VNYXJrdXAsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9PSBudWxsLCAnX3JlbmRlck5ld1Jvb3RDb21wb25lbnQoKTogUmVuZGVyIG1ldGhvZHMgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiAnICsgJ29mIHByb3BzIGFuZCBzdGF0ZTsgdHJpZ2dlcmluZyBuZXN0ZWQgY29tcG9uZW50IHVwZGF0ZXMgZnJvbSAnICsgJ3JlbmRlciBpcyBub3QgYWxsb3dlZC4gSWYgbmVjZXNzYXJ5LCB0cmlnZ2VyIG5lc3RlZCB1cGRhdGVzIGluICcgKyAnY29tcG9uZW50RGlkVXBkYXRlLiBDaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiAlcy4nLCBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQuZ2V0TmFtZSgpIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICAhKGNvbnRhaW5lciAmJiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUgfHwgY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFX1RZUEUpKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdfcmVnaXN0ZXJDb21wb25lbnQoLi4uKTogVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5lbnN1cmVTY3JvbGxWYWx1ZU1vbml0b3JpbmcoKTtcbiAgICAgICAgdmFyIGNvbXBvbmVudEluc3RhbmNlID0gaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudChuZXh0RWxlbWVudCk7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY29tcG9uZW50SW5zdGFuY2UuX2RlYnVnSUQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIFJlYWN0VXBkYXRlcy5iYXRjaGVkVXBkYXRlcyhiYXRjaGVkTW91bnRDb21wb25lbnRJbnRvTm9kZSwgY29tcG9uZW50SW5zdGFuY2UsIGNvbnRhaW5lciwgc2hvdWxkUmV1c2VNYXJrdXAsIGNvbnRleHQpO1xuICAgICAgICB2YXIgd3JhcHBlcklEID0gY29tcG9uZW50SW5zdGFuY2UuX2luc3RhbmNlLnJvb3RJRDtcbiAgICAgICAgaW5zdGFuY2VzQnlSZWFjdFJvb3RJRFt3cmFwcGVySURdID0gY29tcG9uZW50SW5zdGFuY2U7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTW91bnRSb290Q29tcG9uZW50KGNvbXBvbmVudEluc3RhbmNlLl9yZW5kZXJlZENvbXBvbmVudC5fZGVidWdJRCk7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kRmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcG9uZW50SW5zdGFuY2U7XG4gICAgICB9LFxuICAgICAgcmVuZGVyU3VidHJlZUludG9Db250YWluZXI6IGZ1bmN0aW9uKHBhcmVudENvbXBvbmVudCwgbmV4dEVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICAgICAgIShwYXJlbnRDb21wb25lbnQgIT0gbnVsbCAmJiBwYXJlbnRDb21wb25lbnQuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSAhPSBudWxsKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdwYXJlbnRDb21wb25lbnQgbXVzdCBiZSBhIHZhbGlkIFJlYWN0IENvbXBvbmVudCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgcmV0dXJuIFJlYWN0TW91bnQuX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHBhcmVudENvbXBvbmVudCwgbmV4dEVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spO1xuICAgICAgfSxcbiAgICAgIF9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjogZnVuY3Rpb24ocGFyZW50Q29tcG9uZW50LCBuZXh0RWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgICAgICBSZWFjdFVwZGF0ZVF1ZXVlLnZhbGlkYXRlQ2FsbGJhY2soY2FsbGJhY2ssICdSZWFjdERPTS5yZW5kZXInKTtcbiAgICAgICAgIVJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChuZXh0RWxlbWVudCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RET00ucmVuZGVyKCk6IEludmFsaWQgY29tcG9uZW50IGVsZW1lbnQuJXMnLCB0eXBlb2YgbmV4dEVsZW1lbnQgPT09ICdzdHJpbmcnID8gJyBJbnN0ZWFkIG9mIHBhc3NpbmcgYSBzdHJpbmcgbGlrZSBcXCdkaXZcXCcsIHBhc3MgJyArICdSZWFjdC5jcmVhdGVFbGVtZW50KFxcJ2RpdlxcJykgb3IgPGRpdiAvPi4nIDogdHlwZW9mIG5leHRFbGVtZW50ID09PSAnZnVuY3Rpb24nID8gJyBJbnN0ZWFkIG9mIHBhc3NpbmcgYSBjbGFzcyBsaWtlIEZvbywgcGFzcyAnICsgJ1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9vKSBvciA8Rm9vIC8+LicgOiBuZXh0RWxlbWVudCAhPSBudWxsICYmIG5leHRFbGVtZW50LnByb3BzICE9PSB1bmRlZmluZWQgPyAnIFRoaXMgbWF5IGJlIGNhdXNlZCBieSB1bmludGVudGlvbmFsbHkgbG9hZGluZyB0d28gaW5kZXBlbmRlbnQgJyArICdjb3BpZXMgb2YgUmVhY3QuJyA6ICcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFjb250YWluZXIgfHwgIWNvbnRhaW5lci50YWdOYW1lIHx8IGNvbnRhaW5lci50YWdOYW1lLnRvVXBwZXJDYXNlKCkgIT09ICdCT0RZJywgJ3JlbmRlcigpOiBSZW5kZXJpbmcgY29tcG9uZW50cyBkaXJlY3RseSBpbnRvIGRvY3VtZW50LmJvZHkgaXMgJyArICdkaXNjb3VyYWdlZCwgc2luY2UgaXRzIGNoaWxkcmVuIGFyZSBvZnRlbiBtYW5pcHVsYXRlZCBieSB0aGlyZC1wYXJ0eSAnICsgJ3NjcmlwdHMgYW5kIGJyb3dzZXIgZXh0ZW5zaW9ucy4gVGhpcyBtYXkgbGVhZCB0byBzdWJ0bGUgJyArICdyZWNvbmNpbGlhdGlvbiBpc3N1ZXMuIFRyeSByZW5kZXJpbmcgaW50byBhIGNvbnRhaW5lciBlbGVtZW50IGNyZWF0ZWQgJyArICdmb3IgeW91ciBhcHAuJykgOiB2b2lkIDA7XG4gICAgICAgIHZhciBuZXh0V3JhcHBlZEVsZW1lbnQgPSBSZWFjdEVsZW1lbnQoVG9wTGV2ZWxXcmFwcGVyLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBuZXh0RWxlbWVudCk7XG4gICAgICAgIHZhciBwcmV2Q29tcG9uZW50ID0gZ2V0VG9wTGV2ZWxXcmFwcGVySW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgaWYgKHByZXZDb21wb25lbnQpIHtcbiAgICAgICAgICB2YXIgcHJldldyYXBwZWRFbGVtZW50ID0gcHJldkNvbXBvbmVudC5fY3VycmVudEVsZW1lbnQ7XG4gICAgICAgICAgdmFyIHByZXZFbGVtZW50ID0gcHJldldyYXBwZWRFbGVtZW50LnByb3BzO1xuICAgICAgICAgIGlmIChzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudChwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQpKSB7XG4gICAgICAgICAgICB2YXIgcHVibGljSW5zdCA9IHByZXZDb21wb25lbnQuX3JlbmRlcmVkQ29tcG9uZW50LmdldFB1YmxpY0luc3RhbmNlKCk7XG4gICAgICAgICAgICB2YXIgdXBkYXRlZENhbGxiYWNrID0gY2FsbGJhY2sgJiYgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwocHVibGljSW5zdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgUmVhY3RNb3VudC5fdXBkYXRlUm9vdENvbXBvbmVudChwcmV2Q29tcG9uZW50LCBuZXh0V3JhcHBlZEVsZW1lbnQsIGNvbnRhaW5lciwgdXBkYXRlZENhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiBwdWJsaWNJbnN0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBSZWFjdE1vdW50LnVubW91bnRDb21wb25lbnRBdE5vZGUoY29udGFpbmVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlYWN0Um9vdEVsZW1lbnQgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgdmFyIGNvbnRhaW5lckhhc1JlYWN0TWFya3VwID0gcmVhY3RSb290RWxlbWVudCAmJiAhIWludGVybmFsR2V0SUQocmVhY3RSb290RWxlbWVudCk7XG4gICAgICAgIHZhciBjb250YWluZXJIYXNOb25Sb290UmVhY3RDaGlsZCA9IGhhc05vblJvb3RSZWFjdENoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWNvbnRhaW5lckhhc05vblJvb3RSZWFjdENoaWxkLCAncmVuZGVyKC4uLik6IFJlcGxhY2luZyBSZWFjdC1yZW5kZXJlZCBjaGlsZHJlbiB3aXRoIGEgbmV3IHJvb3QgJyArICdjb21wb25lbnQuIElmIHlvdSBpbnRlbmRlZCB0byB1cGRhdGUgdGhlIGNoaWxkcmVuIG9mIHRoaXMgbm9kZSwgJyArICd5b3Ugc2hvdWxkIGluc3RlYWQgaGF2ZSB0aGUgZXhpc3RpbmcgY2hpbGRyZW4gdXBkYXRlIHRoZWlyIHN0YXRlICcgKyAnYW5kIHJlbmRlciB0aGUgbmV3IGNvbXBvbmVudHMgaW5zdGVhZCBvZiBjYWxsaW5nIFJlYWN0RE9NLnJlbmRlci4nKSA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAoIWNvbnRhaW5lckhhc1JlYWN0TWFya3VwIHx8IHJlYWN0Um9vdEVsZW1lbnQubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgIHZhciByb290RWxlbWVudFNpYmxpbmcgPSByZWFjdFJvb3RFbGVtZW50O1xuICAgICAgICAgICAgd2hpbGUgKHJvb3RFbGVtZW50U2libGluZykge1xuICAgICAgICAgICAgICBpZiAoaW50ZXJuYWxHZXRJRChyb290RWxlbWVudFNpYmxpbmcpKSB7XG4gICAgICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdyZW5kZXIoKTogVGFyZ2V0IG5vZGUgaGFzIG1hcmt1cCByZW5kZXJlZCBieSBSZWFjdCwgYnV0IHRoZXJlICcgKyAnYXJlIHVucmVsYXRlZCBub2RlcyBhcyB3ZWxsLiBUaGlzIGlzIG1vc3QgY29tbW9ubHkgY2F1c2VkIGJ5ICcgKyAnd2hpdGUtc3BhY2UgaW5zZXJ0ZWQgYXJvdW5kIHNlcnZlci1yZW5kZXJlZCBtYXJrdXAuJykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcm9vdEVsZW1lbnRTaWJsaW5nID0gcm9vdEVsZW1lbnRTaWJsaW5nLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc2hvdWxkUmV1c2VNYXJrdXAgPSBjb250YWluZXJIYXNSZWFjdE1hcmt1cCAmJiAhcHJldkNvbXBvbmVudCAmJiAhY29udGFpbmVySGFzTm9uUm9vdFJlYWN0Q2hpbGQ7XG4gICAgICAgIHZhciBjb21wb25lbnQgPSBSZWFjdE1vdW50Ll9yZW5kZXJOZXdSb290Q29tcG9uZW50KG5leHRXcmFwcGVkRWxlbWVudCwgY29udGFpbmVyLCBzaG91bGRSZXVzZU1hcmt1cCwgcGFyZW50Q29tcG9uZW50ICE9IG51bGwgPyBwYXJlbnRDb21wb25lbnQuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZS5fcHJvY2Vzc0NoaWxkQ29udGV4dChwYXJlbnRDb21wb25lbnQuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZS5fY29udGV4dCkgOiBlbXB0eU9iamVjdCkuX3JlbmRlcmVkQ29tcG9uZW50LmdldFB1YmxpY0luc3RhbmNlKCk7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgICAgfSxcbiAgICAgIHJlbmRlcjogZnVuY3Rpb24obmV4dEVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0TW91bnQuX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKG51bGwsIG5leHRFbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKTtcbiAgICAgIH0sXG4gICAgICB1bm1vdW50Q29tcG9uZW50QXROb2RlOiBmdW5jdGlvbihjb250YWluZXIpIHtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9PSBudWxsLCAndW5tb3VudENvbXBvbmVudEF0Tm9kZSgpOiBSZW5kZXIgbWV0aG9kcyBzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uICcgKyAnb2YgcHJvcHMgYW5kIHN0YXRlOyB0cmlnZ2VyaW5nIG5lc3RlZCBjb21wb25lbnQgdXBkYXRlcyBmcm9tIHJlbmRlciAnICsgJ2lzIG5vdCBhbGxvd2VkLiBJZiBuZWNlc3NhcnksIHRyaWdnZXIgbmVzdGVkIHVwZGF0ZXMgaW4gJyArICdjb21wb25lbnREaWRVcGRhdGUuIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mICVzLicsIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgJiYgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC5nZXROYW1lKCkgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgICEoY29udGFpbmVyICYmIChjb250YWluZXIubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERV9UWVBFIHx8IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ1VNRU5UX0ZSQUdNRU5UX05PREVfVFlQRSkpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VubW91bnRDb21wb25lbnRBdE5vZGUoLi4uKTogVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIHZhciBwcmV2Q29tcG9uZW50ID0gZ2V0VG9wTGV2ZWxXcmFwcGVySW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgaWYgKCFwcmV2Q29tcG9uZW50KSB7XG4gICAgICAgICAgdmFyIGNvbnRhaW5lckhhc05vblJvb3RSZWFjdENoaWxkID0gaGFzTm9uUm9vdFJlYWN0Q2hpbGQoY29udGFpbmVyKTtcbiAgICAgICAgICB2YXIgaXNDb250YWluZXJSZWFjdFJvb3QgPSBjb250YWluZXIubm9kZVR5cGUgPT09IDEgJiYgY29udGFpbmVyLmhhc0F0dHJpYnV0ZShST09UX0FUVFJfTkFNRSk7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFjb250YWluZXJIYXNOb25Sb290UmVhY3RDaGlsZCwgJ3VubW91bnRDb21wb25lbnRBdE5vZGUoKTogVGhlIG5vZGUgeW91XFwncmUgYXR0ZW1wdGluZyB0byB1bm1vdW50ICcgKyAnd2FzIHJlbmRlcmVkIGJ5IFJlYWN0IGFuZCBpcyBub3QgYSB0b3AtbGV2ZWwgY29udGFpbmVyLiAlcycsIGlzQ29udGFpbmVyUmVhY3RSb290ID8gJ1lvdSBtYXkgaGF2ZSBhY2NpZGVudGFsbHkgcGFzc2VkIGluIGEgUmVhY3Qgcm9vdCBub2RlIGluc3RlYWQgJyArICdvZiBpdHMgY29udGFpbmVyLicgOiAnSW5zdGVhZCwgaGF2ZSB0aGUgcGFyZW50IGNvbXBvbmVudCB1cGRhdGUgaXRzIHN0YXRlIGFuZCAnICsgJ3JlcmVuZGVyIGluIG9yZGVyIHRvIHJlbW92ZSB0aGlzIGNvbXBvbmVudC4nKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBpbnN0YW5jZXNCeVJlYWN0Um9vdElEW3ByZXZDb21wb25lbnQuX2luc3RhbmNlLnJvb3RJRF07XG4gICAgICAgIFJlYWN0VXBkYXRlcy5iYXRjaGVkVXBkYXRlcyh1bm1vdW50Q29tcG9uZW50RnJvbU5vZGUsIHByZXZDb21wb25lbnQsIGNvbnRhaW5lciwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBfbW91bnRJbWFnZUludG9Ob2RlOiBmdW5jdGlvbihtYXJrdXAsIGNvbnRhaW5lciwgaW5zdGFuY2UsIHNob3VsZFJldXNlTWFya3VwLCB0cmFuc2FjdGlvbikge1xuICAgICAgICAhKGNvbnRhaW5lciAmJiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUgfHwgY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFX1RZUEUpKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdtb3VudENvbXBvbmVudEludG9Ob2RlKC4uLik6IFRhcmdldCBjb250YWluZXIgaXMgbm90IHZhbGlkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgaWYgKHNob3VsZFJldXNlTWFya3VwKSB7XG4gICAgICAgICAgdmFyIHJvb3RFbGVtZW50ID0gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgICAgICAgaWYgKFJlYWN0TWFya3VwQ2hlY2tzdW0uY2FuUmV1c2VNYXJrdXAobWFya3VwLCByb290RWxlbWVudCkpIHtcbiAgICAgICAgICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZS5wcmVjYWNoZU5vZGUoaW5zdGFuY2UsIHJvb3RFbGVtZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNoZWNrc3VtID0gcm9vdEVsZW1lbnQuZ2V0QXR0cmlidXRlKFJlYWN0TWFya3VwQ2hlY2tzdW0uQ0hFQ0tTVU1fQVRUUl9OQU1FKTtcbiAgICAgICAgICAgIHJvb3RFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShSZWFjdE1hcmt1cENoZWNrc3VtLkNIRUNLU1VNX0FUVFJfTkFNRSk7XG4gICAgICAgICAgICB2YXIgcm9vdE1hcmt1cCA9IHJvb3RFbGVtZW50Lm91dGVySFRNTDtcbiAgICAgICAgICAgIHJvb3RFbGVtZW50LnNldEF0dHJpYnV0ZShSZWFjdE1hcmt1cENoZWNrc3VtLkNIRUNLU1VNX0FUVFJfTkFNRSwgY2hlY2tzdW0pO1xuICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWRNYXJrdXAgPSBtYXJrdXA7XG4gICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplcjtcbiAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFX1RZUEUpIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplci5pbm5lckhUTUwgPSBtYXJrdXA7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZE1hcmt1cCA9IG5vcm1hbGl6ZXIuaW5uZXJIVE1MO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG5vcm1hbGl6ZXIpO1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZXIuY29udGVudERvY3VtZW50LndyaXRlKG1hcmt1cCk7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZE1hcmt1cCA9IG5vcm1hbGl6ZXIuY29udGVudERvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub3JtYWxpemVyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRpZmZJbmRleCA9IGZpcnN0RGlmZmVyZW5jZUluZGV4KG5vcm1hbGl6ZWRNYXJrdXAsIHJvb3RNYXJrdXApO1xuICAgICAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSAnIChjbGllbnQpICcgKyBub3JtYWxpemVkTWFya3VwLnN1YnN0cmluZyhkaWZmSW5kZXggLSAyMCwgZGlmZkluZGV4ICsgMjApICsgJ1xcbiAoc2VydmVyKSAnICsgcm9vdE1hcmt1cC5zdWJzdHJpbmcoZGlmZkluZGV4IC0gMjAsIGRpZmZJbmRleCArIDIwKTtcbiAgICAgICAgICAgICEoY29udGFpbmVyLm5vZGVUeXBlICE9PSBET0NfTk9ERV9UWVBFKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdZb3VcXCdyZSB0cnlpbmcgdG8gcmVuZGVyIGEgY29tcG9uZW50IHRvIHRoZSBkb2N1bWVudCB1c2luZyAnICsgJ3NlcnZlciByZW5kZXJpbmcgYnV0IHRoZSBjaGVja3N1bSB3YXMgaW52YWxpZC4gVGhpcyB1c3VhbGx5ICcgKyAnbWVhbnMgeW91IHJlbmRlcmVkIGEgZGlmZmVyZW50IGNvbXBvbmVudCB0eXBlIG9yIHByb3BzIG9uICcgKyAndGhlIGNsaWVudCBmcm9tIHRoZSBvbmUgb24gdGhlIHNlcnZlciwgb3IgeW91ciByZW5kZXIoKSAnICsgJ21ldGhvZHMgYXJlIGltcHVyZS4gUmVhY3QgY2Fubm90IGhhbmRsZSB0aGlzIGNhc2UgZHVlIHRvICcgKyAnY3Jvc3MtYnJvd3NlciBxdWlya3MgYnkgcmVuZGVyaW5nIGF0IHRoZSBkb2N1bWVudCByb290LiBZb3UgJyArICdzaG91bGQgbG9vayBmb3IgZW52aXJvbm1lbnQgZGVwZW5kZW50IGNvZGUgaW4geW91ciBjb21wb25lbnRzICcgKyAnYW5kIGVuc3VyZSB0aGUgcHJvcHMgYXJlIHRoZSBzYW1lIGNsaWVudCBhbmQgc2VydmVyIHNpZGU6XFxuJXMnLCBkaWZmZXJlbmNlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ1JlYWN0IGF0dGVtcHRlZCB0byByZXVzZSBtYXJrdXAgaW4gYSBjb250YWluZXIgYnV0IHRoZSAnICsgJ2NoZWNrc3VtIHdhcyBpbnZhbGlkLiBUaGlzIGdlbmVyYWxseSBtZWFucyB0aGF0IHlvdSBhcmUgJyArICd1c2luZyBzZXJ2ZXIgcmVuZGVyaW5nIGFuZCB0aGUgbWFya3VwIGdlbmVyYXRlZCBvbiB0aGUgJyArICdzZXJ2ZXIgd2FzIG5vdCB3aGF0IHRoZSBjbGllbnQgd2FzIGV4cGVjdGluZy4gUmVhY3QgaW5qZWN0ZWQgJyArICduZXcgbWFya3VwIHRvIGNvbXBlbnNhdGUgd2hpY2ggd29ya3MgYnV0IHlvdSBoYXZlIGxvc3QgbWFueSAnICsgJ29mIHRoZSBiZW5lZml0cyBvZiBzZXJ2ZXIgcmVuZGVyaW5nLiBJbnN0ZWFkLCBmaWd1cmUgb3V0ICcgKyAnd2h5IHRoZSBtYXJrdXAgYmVpbmcgZ2VuZXJhdGVkIGlzIGRpZmZlcmVudCBvbiB0aGUgY2xpZW50ICcgKyAnb3Igc2VydmVyOlxcbiVzJywgZGlmZmVyZW5jZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICEoY29udGFpbmVyLm5vZGVUeXBlICE9PSBET0NfTk9ERV9UWVBFKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdZb3VcXCdyZSB0cnlpbmcgdG8gcmVuZGVyIGEgY29tcG9uZW50IHRvIHRoZSBkb2N1bWVudCBidXQgJyArICd5b3UgZGlkblxcJ3QgdXNlIHNlcnZlciByZW5kZXJpbmcuIFdlIGNhblxcJ3QgZG8gdGhpcyAnICsgJ3dpdGhvdXQgdXNpbmcgc2VydmVyIHJlbmRlcmluZyBkdWUgdG8gY3Jvc3MtYnJvd3NlciBxdWlya3MuICcgKyAnU2VlIFJlYWN0RE9NU2VydmVyLnJlbmRlclRvU3RyaW5nKCkgZm9yIHNlcnZlciByZW5kZXJpbmcuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBpZiAodHJhbnNhY3Rpb24udXNlQ3JlYXRlRWxlbWVudCkge1xuICAgICAgICAgIHdoaWxlIChjb250YWluZXIubGFzdENoaWxkKSB7XG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY29udGFpbmVyLmxhc3RDaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIERPTUxhenlUcmVlLmluc2VydFRyZWVCZWZvcmUoY29udGFpbmVyLCBtYXJrdXAsIG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldElubmVySFRNTChjb250YWluZXIsIG1hcmt1cCk7XG4gICAgICAgICAgUmVhY3RET01Db21wb25lbnRUcmVlLnByZWNhY2hlTm9kZShpbnN0YW5jZSwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFyIG5hdGl2ZU5vZGUgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgaWYgKG5hdGl2ZU5vZGUuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihuYXRpdmVOb2RlLl9kZWJ1Z0lELCAnbW91bnQnLCBtYXJrdXAudG9TdHJpbmcoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0TW91bnQ7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjk2XCIsIFtcIjk1XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgUmVhY3RNb3VudCA9ICRfX3JlcXVpcmUoJzk1Jyk7XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RNb3VudC5yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI5N1wiLCBbXCIxMVwiLCBcIjgxXCIsIFwiOTVcIiwgXCIzZVwiLCBcIjEyXCIsIFwiOThcIiwgXCI4MlwiLCBcIjg0XCIsIFwiOTZcIiwgXCIyMlwiLCBcImRcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gJF9fcmVxdWlyZSgnMTEnKTtcbiAgICB2YXIgUmVhY3REZWZhdWx0SW5qZWN0aW9uID0gJF9fcmVxdWlyZSgnODEnKTtcbiAgICB2YXIgUmVhY3RNb3VudCA9ICRfX3JlcXVpcmUoJzk1Jyk7XG4gICAgdmFyIFJlYWN0UmVjb25jaWxlciA9ICRfX3JlcXVpcmUoJzNlJyk7XG4gICAgdmFyIFJlYWN0VXBkYXRlcyA9ICRfX3JlcXVpcmUoJzEyJyk7XG4gICAgdmFyIFJlYWN0VmVyc2lvbiA9ICRfX3JlcXVpcmUoJzk4Jyk7XG4gICAgdmFyIGZpbmRET01Ob2RlID0gJF9fcmVxdWlyZSgnODInKTtcbiAgICB2YXIgZ2V0TmF0aXZlQ29tcG9uZW50RnJvbUNvbXBvc2l0ZSA9ICRfX3JlcXVpcmUoJzg0Jyk7XG4gICAgdmFyIHJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyID0gJF9fcmVxdWlyZSgnOTYnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgUmVhY3REZWZhdWx0SW5qZWN0aW9uLmluamVjdCgpO1xuICAgIHZhciBSZWFjdCA9IHtcbiAgICAgIGZpbmRET01Ob2RlOiBmaW5kRE9NTm9kZSxcbiAgICAgIHJlbmRlcjogUmVhY3RNb3VudC5yZW5kZXIsXG4gICAgICB1bm1vdW50Q29tcG9uZW50QXROb2RlOiBSZWFjdE1vdW50LnVubW91bnRDb21wb25lbnRBdE5vZGUsXG4gICAgICB2ZXJzaW9uOiBSZWFjdFZlcnNpb24sXG4gICAgICB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlczogUmVhY3RVcGRhdGVzLmJhdGNoZWRVcGRhdGVzLFxuICAgICAgdW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXI6IHJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyXG4gICAgfTtcbiAgICBpZiAodHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5pbmplY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5pbmplY3Qoe1xuICAgICAgICBDb21wb25lbnRUcmVlOiB7XG4gICAgICAgICAgZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGU6IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZSxcbiAgICAgICAgICBnZXROb2RlRnJvbUluc3RhbmNlOiBmdW5jdGlvbihpbnN0KSB7XG4gICAgICAgICAgICBpZiAoaW5zdC5fcmVuZGVyZWRDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgaW5zdCA9IGdldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUoaW5zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5zdCkge1xuICAgICAgICAgICAgICByZXR1cm4gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIE1vdW50OiBSZWFjdE1vdW50LFxuICAgICAgICBSZWNvbmNpbGVyOiBSZWFjdFJlY29uY2lsZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnZCcpO1xuICAgICAgaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiB3aW5kb3cudG9wID09PSB3aW5kb3cuc2VsZikge1xuICAgICAgICBpZiAodHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSA+IC0xICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRWRnZScpID09PSAtMSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA+IC0xKSB7XG4gICAgICAgICAgICB2YXIgc2hvd0ZpbGVVcmxNZXNzYWdlID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sLmluZGV4T2YoJ2h0dHAnKSA9PT0gLTEgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRG93bmxvYWQgdGhlIFJlYWN0IERldlRvb2xzICcgKyAoc2hvd0ZpbGVVcmxNZXNzYWdlID8gJ2FuZCB1c2UgYW4gSFRUUCBzZXJ2ZXIgKGluc3RlYWQgb2YgYSBmaWxlOiBVUkwpICcgOiAnJykgKyAnZm9yIGEgYmV0dGVyIGRldmVsb3BtZW50IGV4cGVyaWVuY2U6ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1kZXZ0b29scycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdGVzdEZ1bmMgPSBmdW5jdGlvbiB0ZXN0Rm4oKSB7fTtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoKHRlc3RGdW5jLm5hbWUgfHwgdGVzdEZ1bmMudG9TdHJpbmcoKSkuaW5kZXhPZigndGVzdEZuJykgIT09IC0xLCAnSXQgbG9va3MgbGlrZSB5b3VcXCdyZSB1c2luZyBhIG1pbmlmaWVkIGNvcHkgb2YgdGhlIGRldmVsb3BtZW50IGJ1aWxkICcgKyAnb2YgUmVhY3QuIFdoZW4gZGVwbG95aW5nIFJlYWN0IGFwcHMgdG8gcHJvZHVjdGlvbiwgbWFrZSBzdXJlIHRvIHVzZSAnICsgJ3RoZSBwcm9kdWN0aW9uIGJ1aWxkIHdoaWNoIHNraXBzIGRldmVsb3BtZW50IHdhcm5pbmdzIGFuZCBpcyBmYXN0ZXIuICcgKyAnU2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtbWluaWZpY2F0aW9uIGZvciBtb3JlIGRldGFpbHMuJykgOiB2b2lkIDA7XG4gICAgICAgIHZhciBpZUNvbXBhdGliaWxpdHlNb2RlID0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlICYmIGRvY3VtZW50LmRvY3VtZW50TW9kZSA8IDg7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFpZUNvbXBhdGliaWxpdHlNb2RlLCAnSW50ZXJuZXQgRXhwbG9yZXIgaXMgcnVubmluZyBpbiBjb21wYXRpYmlsaXR5IG1vZGU7IHBsZWFzZSBhZGQgdGhlICcgKyAnZm9sbG93aW5nIHRhZyB0byB5b3VyIEhUTUwgdG8gcHJldmVudCB0aGlzIGZyb20gaGFwcGVuaW5nOiAnICsgJzxtZXRhIGh0dHAtZXF1aXY9XCJYLVVBLUNvbXBhdGlibGVcIiBjb250ZW50PVwiSUU9ZWRnZVwiIC8+JykgOiB2b2lkIDA7XG4gICAgICAgIHZhciBleHBlY3RlZEZlYXR1cmVzID0gW0FycmF5LmlzQXJyYXksIEFycmF5LnByb3RvdHlwZS5ldmVyeSwgQXJyYXkucHJvdG90eXBlLmZvckVhY2gsIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLCBBcnJheS5wcm90b3R5cGUubWFwLCBEYXRlLm5vdywgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsIE9iamVjdC5rZXlzLCBTdHJpbmcucHJvdG90eXBlLnNwbGl0LCBTdHJpbmcucHJvdG90eXBlLnRyaW1dO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkRmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoIWV4cGVjdGVkRmVhdHVyZXNbaV0pIHtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnT25lIG9yIG1vcmUgRVM1IHNoaW1zIGV4cGVjdGVkIGJ5IFJlYWN0IGFyZSBub3QgYXZhaWxhYmxlOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1wb2x5ZmlsbHMnKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0O1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI5OVwiLCBbXCI5N1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCc5NycpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjlhXCIsIFtcIjk5XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnOTknKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlcignOWInLCBbJzljJ10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgUmVhY3QsIE1haW5IZWFkZXI7XG4gIHJldHVybiB7XG4gICAgc2V0dGVyczogW2Z1bmN0aW9uIChfYykge1xuICAgICAgUmVhY3QgPSBfY1snZGVmYXVsdCddO1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIE1haW5IZWFkZXIgPSBmdW5jdGlvbiBNYWluSGVhZGVyKCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnaGVhZGVyJyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogJ2hlYWRlcicsIHJvbGU6ICdiYW5uZXInIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbG9nbycsIGhyZWY6ICcuLycsIHJvbGU6ICdsb2dvJyB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBzcmM6ICdzdmcvbG9nby5zdmcnIH0pXG4gICAgICAgICAgKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6ICdidG4tbGluaycsXG4gICAgICAgICAgICAgIGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vZnJvbnRlbmRici9ldmVudG9zJyxcbiAgICAgICAgICAgICAgdGl0bGU6ICdBbnVuY2llIHNldSBldmVudG8nIH0sXG4gICAgICAgICAgICAnQW51bmNpYXIgRXZlbnRvJ1xuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIF9leHBvcnQoJ2RlZmF1bHQnLCBNYWluSGVhZGVyKTtcbiAgICB9XG4gIH07XG59KTtcbiRfX1N5c3RlbS5yZWdpc3RlcignOWQnLCBbJzljJywgJzllJ10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgUmVhY3QsIFByb3BUeXBlcywgTGF6eUltZywgQmFubmVyQm94O1xuICByZXR1cm4ge1xuICAgIHNldHRlcnM6IFtmdW5jdGlvbiAoX2MpIHtcbiAgICAgIFJlYWN0ID0gX2NbJ2RlZmF1bHQnXTtcbiAgICAgIFByb3BUeXBlcyA9IF9jLlByb3BUeXBlcztcbiAgICB9LCBmdW5jdGlvbiAoX2UpIHtcbiAgICAgIExhenlJbWcgPSBfZVsnZGVmYXVsdCddO1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIEJhbm5lckJveCA9IGZ1bmN0aW9uIEJhbm5lckJveChfcmVmKSB7XG4gICAgICAgIHZhciBsaW5rID0gX3JlZi5saW5rO1xuICAgICAgICB2YXIgdGl0bGUgPSBfcmVmLnRpdGxlO1xuICAgICAgICB2YXIgZGF0ZSA9IF9yZWYuZGF0ZTtcbiAgICAgICAgdmFyIGltYWdlID0gX3JlZi5pbWFnZTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2EnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYmFubmVyLWJveCcsIGhyZWY6IGxpbmssIHRpdGxlOiB0aXRsZSArICcgJyArIGRhdGUgfSxcbiAgICAgICAgICAhIWltYWdlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGF6eUltZywgeyBzcmM6IGltYWdlLCBhbHQ6IHRpdGxlIH0pLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnaDInLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0aXRsZScgfSxcbiAgICAgICAgICAgIHRpdGxlICsgJyAnLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2RhdGUnIH0sXG4gICAgICAgICAgICAgIGRhdGVcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICBCYW5uZXJCb3guZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBsaW5rOiAnIydcbiAgICAgIH07XG5cbiAgICAgIEJhbm5lckJveC5wcm9wVHlwZXMgPSB7XG4gICAgICAgIHRpdGxlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgIGRhdGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgbGluazogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgaW1hZ2U6IFByb3BUeXBlcy5zdHJpbmdcbiAgICAgIH07XG5cbiAgICAgIF9leHBvcnQoJ2RlZmF1bHQnLCBCYW5uZXJCb3gpO1xuICAgIH1cbiAgfTtcbn0pO1xuJF9fU3lzdGVtLnJlZ2lzdGVyKCc5ZicsIFsnOWMnLCAnOWQnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBSZWFjdCwgUHJvcFR5cGVzLCBCYW5uZXJCb3gsIGdldERhdGUsIEhlYWRlckJhbm5lcjtcbiAgcmV0dXJuIHtcbiAgICBzZXR0ZXJzOiBbZnVuY3Rpb24gKF9jKSB7XG4gICAgICBSZWFjdCA9IF9jWydkZWZhdWx0J107XG4gICAgICBQcm9wVHlwZXMgPSBfYy5Qcm9wVHlwZXM7XG4gICAgfSwgZnVuY3Rpb24gKF9kKSB7XG4gICAgICBCYW5uZXJCb3ggPSBfZFsnZGVmYXVsdCddO1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGdldERhdGUgPSBmdW5jdGlvbiBnZXREYXRlKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUuZGF5ICsgJyAtICcgKyBkYXRlLm1vbnRoO1xuICAgICAgfTtcblxuICAgICAgSGVhZGVyQmFubmVyID0gZnVuY3Rpb24gSGVhZGVyQmFubmVyKF9yZWYpIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IF9yZWYuZXZlbnRzO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnc2VjdGlvbicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdiYW5uZXInIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdiYW5uZXItbWFpbicgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQmFubmVyQm94LCB7XG4gICAgICAgICAgICAgIGxpbms6IGV2ZW50c1swXS5saW5rLFxuICAgICAgICAgICAgICB0aXRsZTogZXZlbnRzWzBdLnRpdGxlLFxuICAgICAgICAgICAgICBkYXRlOiBnZXREYXRlKGV2ZW50c1swXS5kYXRlKSxcbiAgICAgICAgICAgICAgaW1hZ2U6IGV2ZW50c1swXS5pbWFnZSB9KVxuICAgICAgICAgICksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBrZXk6IDAsIGNsYXNzTmFtZTogJ2Jhbm5lci1hc2lkZScgfSxcbiAgICAgICAgICAgIGV2ZW50cy5zbGljZSgxLCAzKS5tYXAoZnVuY3Rpb24gKGV2ZW50LCBpbmRleCkge1xuICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCYW5uZXJCb3gsIHtcbiAgICAgICAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgICAgICAgIGxpbms6IGV2ZW50LmxpbmssXG4gICAgICAgICAgICAgICAgdGl0bGU6IGV2ZW50LnRpdGxlLFxuICAgICAgICAgICAgICAgIGRhdGU6IGdldERhdGUoZXZlbnQuZGF0ZSkgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBrZXk6IDEsIGNsYXNzTmFtZTogJ2Jhbm5lci1hc2lkZScgfSxcbiAgICAgICAgICAgIGV2ZW50cy5zbGljZSgzKS5tYXAoZnVuY3Rpb24gKGV2ZW50LCBpbmRleCkge1xuICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChCYW5uZXJCb3gsIHtcbiAgICAgICAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgICAgICAgIGxpbms6IGV2ZW50LmxpbmssXG4gICAgICAgICAgICAgICAgdGl0bGU6IGV2ZW50LnRpdGxlLFxuICAgICAgICAgICAgICAgIGRhdGU6IGdldERhdGUoZXZlbnQuZGF0ZSkgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIEhlYWRlckJhbm5lci5wcm9wVHlwZXMgPSB7XG4gICAgICAgIGV2ZW50czogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWRcbiAgICAgIH07XG5cbiAgICAgIF9leHBvcnQoJ2RlZmF1bHQnLCBIZWFkZXJCYW5uZXIpO1xuICAgIH1cbiAgfTtcbn0pO1xuJF9fU3lzdGVtLnJlZ2lzdGVyKCdhMCcsIFsnYTMnLCAnYTQnLCAnYTUnLCAnYTYnLCAnOWMnLCAnYTInLCAnOWYnLCAnYTEnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgdmFyIF9nZXQsIF9pbmhlcml0cywgX2NyZWF0ZUNsYXNzLCBfY2xhc3NDYWxsQ2hlY2ssIFJlYWN0LCBQcm9wVHlwZXMsIENvbXBvbmVudCwgY29ubmVjdCwgSGVhZGVyQmFubmVyLCBmZXRjaEV2ZW50cywgSGVhZGVyLCBtYXBTdGF0ZVRvUHJvcHM7XG5cbiAgcmV0dXJuIHtcbiAgICBzZXR0ZXJzOiBbZnVuY3Rpb24gKF9hMykge1xuICAgICAgX2dldCA9IF9hM1snZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYTQpIHtcbiAgICAgIF9pbmhlcml0cyA9IF9hNFsnZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYTUpIHtcbiAgICAgIF9jcmVhdGVDbGFzcyA9IF9hNVsnZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYTYpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayA9IF9hNlsnZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYykge1xuICAgICAgUmVhY3QgPSBfY1snZGVmYXVsdCddO1xuICAgICAgUHJvcFR5cGVzID0gX2MuUHJvcFR5cGVzO1xuICAgICAgQ29tcG9uZW50ID0gX2MuQ29tcG9uZW50O1xuICAgIH0sIGZ1bmN0aW9uIChfYTIpIHtcbiAgICAgIGNvbm5lY3QgPSBfYTIuY29ubmVjdDtcbiAgICB9LCBmdW5jdGlvbiAoX2YpIHtcbiAgICAgIEhlYWRlckJhbm5lciA9IF9mWydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF9hMSkge1xuICAgICAgZmV0Y2hFdmVudHMgPSBfYTEuZmV0Y2hFdmVudHM7XG4gICAgfV0sXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAvLyBpbXBvcnQgSGVhZGVyRmlsdGVyIGZyb20gJy4vaGVhZGVyLWZpbHRlcidcblxuICAgICAgSGVhZGVyID0gKGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICAgIF9pbmhlcml0cyhIZWFkZXIsIF9Db21wb25lbnQpO1xuXG4gICAgICAgIGZ1bmN0aW9uIEhlYWRlcigpIHtcbiAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhZGVyKTtcblxuICAgICAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEhlYWRlci5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKEhlYWRlciwgW3tcbiAgICAgICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChmZXRjaEV2ZW50cygpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2hlYWRlcicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnd2VsbG5lc3MnIH0sXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2gxJyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3RpdGxlJyB9LFxuICAgICAgICAgICAgICAgICdFbmNvbnRyZSBldmVudG9zIGRlIEZyb250LUVuZCBlbSB0b2RvIG8gQnJhc2lsJ1xuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlckJhbm5lciwgeyBldmVudHM6IHRoaXMucHJvcHMuZXZlbnRzIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBIZWFkZXI7XG4gICAgICB9KShDb21wb25lbnQpO1xuXG4gICAgICBIZWFkZXIucHJvcFR5cGVzID0ge1xuICAgICAgICBldmVudHM6IFByb3BUeXBlcy5zaGFwZS5pc1JlcXVpcmVkXG4gICAgICB9O1xuXG4gICAgICBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBldmVudHM6IHN0YXRlLmV2ZW50cy5ldmVudHMuZmlsdGVyKGZ1bmN0aW9uIChfLCBpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4IDwgNTtcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzKShIZWFkZXIpKTtcbiAgICB9XG4gIH07XG59KTtcbi8qIDxIZWFkZXJGaWx0ZXIgLz4gKi9cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJhN1wiLCBbXCJhYVwiLCBcImE4XCIsIFwiYTlcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICAgIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuICAgIHZhciBfcmVhY3QgPSAkX19yZXF1aXJlKCdhYScpO1xuICAgIHZhciBfc3RvcmVTaGFwZSA9ICRfX3JlcXVpcmUoJ2E4Jyk7XG4gICAgdmFyIF9zdG9yZVNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0b3JlU2hhcGUpO1xuICAgIHZhciBfd2FybmluZyA9ICRfX3JlcXVpcmUoJ2E5Jyk7XG4gICAgdmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1wiZGVmYXVsdFwiOiBvYmp9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgICBpZiAoIXNlbGYpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgICAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgICAgIH1cbiAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge2NvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9fSk7XG4gICAgICBpZiAoc3VwZXJDbGFzcylcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gICAgfVxuICAgIHZhciBkaWRXYXJuQWJvdXRSZWNlaXZpbmdTdG9yZSA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIHdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKCkge1xuICAgICAgaWYgKGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gdHJ1ZTtcbiAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSgnPFByb3ZpZGVyPiBkb2VzIG5vdCBzdXBwb3J0IGNoYW5naW5nIGBzdG9yZWAgb24gdGhlIGZseS4gJyArICdJdCBpcyBtb3N0IGxpa2VseSB0aGF0IHlvdSBzZWUgdGhpcyBlcnJvciBiZWNhdXNlIHlvdSB1cGRhdGVkIHRvICcgKyAnUmVkdXggMi54IGFuZCBSZWFjdCBSZWR1eCAyLnggd2hpY2ggbm8gbG9uZ2VyIGhvdCByZWxvYWQgcmVkdWNlcnMgJyArICdhdXRvbWF0aWNhbGx5LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmVhY3QtcmVkdXgvcmVsZWFzZXMvJyArICd0YWcvdjIuMC4wIGZvciB0aGUgbWlncmF0aW9uIGluc3RydWN0aW9ucy4nKTtcbiAgICB9XG4gICAgdmFyIFByb3ZpZGVyID0gZnVuY3Rpb24oX0NvbXBvbmVudCkge1xuICAgICAgX2luaGVyaXRzKFByb3ZpZGVyLCBfQ29tcG9uZW50KTtcbiAgICAgIFByb3ZpZGVyLnByb3RvdHlwZS5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB7c3RvcmU6IHRoaXMuc3RvcmV9O1xuICAgICAgfTtcbiAgICAgIGZ1bmN0aW9uIFByb3ZpZGVyKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm92aWRlcik7XG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuICAgICAgICBfdGhpcy5zdG9yZSA9IHByb3BzLnN0b3JlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG4gICAgICBQcm92aWRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgICAgICByZXR1cm4gX3JlYWN0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBQcm92aWRlcjtcbiAgICB9KF9yZWFjdC5Db21wb25lbnQpO1xuICAgIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUHJvdmlkZXI7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIFByb3ZpZGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24obmV4dFByb3BzKSB7XG4gICAgICAgIHZhciBzdG9yZSA9IHRoaXMuc3RvcmU7XG4gICAgICAgIHZhciBuZXh0U3RvcmUgPSBuZXh0UHJvcHMuc3RvcmU7XG4gICAgICAgIGlmIChzdG9yZSAhPT0gbmV4dFN0b3JlKSB7XG4gICAgICAgICAgd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICAgICAgc3RvcmU6IF9zdG9yZVNoYXBlMltcImRlZmF1bHRcIl0uaXNSZXF1aXJlZCxcbiAgICAgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmVsZW1lbnQuaXNSZXF1aXJlZFxuICAgIH07XG4gICAgUHJvdmlkZXIuY2hpbGRDb250ZXh0VHlwZXMgPSB7c3RvcmU6IF9zdG9yZVNoYXBlMltcImRlZmF1bHRcIl0uaXNSZXF1aXJlZH07XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImFiXCIsIFtcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIG9uZUFyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24oY29weUZpZWxkc0Zyb20pIHtcbiAgICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGNvcHlGaWVsZHNGcm9tKTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBLbGFzcyhjb3B5RmllbGRzRnJvbSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgdHdvQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihhMSwgYTIpIHtcbiAgICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGExLCBhMik7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgS2xhc3MoYTEsIGEyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciB0aHJlZUFyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24oYTEsIGEyLCBhMykge1xuICAgICAgdmFyIEtsYXNzID0gdGhpcztcbiAgICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICAgICAgS2xhc3MuY2FsbChpbnN0YW5jZSwgYTEsIGEyLCBhMyk7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgS2xhc3MoYTEsIGEyLCBhMyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZm91ckFyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24oYTEsIGEyLCBhMywgYTQpIHtcbiAgICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGExLCBhMiwgYTMsIGE0KTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzLCBhNCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZml2ZUFyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24oYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gICAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gS2xhc3MuaW5zdGFuY2VQb29sLnBvcCgpO1xuICAgICAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIsIGEzLCBhNCwgYTUpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IEtsYXNzKGExLCBhMiwgYTMsIGE0LCBhNSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgc3RhbmRhcmRSZWxlYXNlciA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgICAgIShpbnN0YW5jZSBpbnN0YW5jZW9mIEtsYXNzKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdUcnlpbmcgdG8gcmVsZWFzZSBhbiBpbnN0YW5jZSBpbnRvIGEgcG9vbCBvZiBhIGRpZmZlcmVudCB0eXBlLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIGluc3RhbmNlLmRlc3RydWN0b3IoKTtcbiAgICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoIDwgS2xhc3MucG9vbFNpemUpIHtcbiAgICAgICAgS2xhc3MuaW5zdGFuY2VQb29sLnB1c2goaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIERFRkFVTFRfUE9PTF9TSVpFID0gMTA7XG4gICAgdmFyIERFRkFVTFRfUE9PTEVSID0gb25lQXJndW1lbnRQb29sZXI7XG4gICAgdmFyIGFkZFBvb2xpbmdUbyA9IGZ1bmN0aW9uKENvcHlDb25zdHJ1Y3RvciwgcG9vbGVyKSB7XG4gICAgICB2YXIgTmV3S2xhc3MgPSBDb3B5Q29uc3RydWN0b3I7XG4gICAgICBOZXdLbGFzcy5pbnN0YW5jZVBvb2wgPSBbXTtcbiAgICAgIE5ld0tsYXNzLmdldFBvb2xlZCA9IHBvb2xlciB8fCBERUZBVUxUX1BPT0xFUjtcbiAgICAgIGlmICghTmV3S2xhc3MucG9vbFNpemUpIHtcbiAgICAgICAgTmV3S2xhc3MucG9vbFNpemUgPSBERUZBVUxUX1BPT0xfU0laRTtcbiAgICAgIH1cbiAgICAgIE5ld0tsYXNzLnJlbGVhc2UgPSBzdGFuZGFyZFJlbGVhc2VyO1xuICAgICAgcmV0dXJuIE5ld0tsYXNzO1xuICAgIH07XG4gICAgdmFyIFBvb2xlZENsYXNzID0ge1xuICAgICAgYWRkUG9vbGluZ1RvOiBhZGRQb29saW5nVG8sXG4gICAgICBvbmVBcmd1bWVudFBvb2xlcjogb25lQXJndW1lbnRQb29sZXIsXG4gICAgICB0d29Bcmd1bWVudFBvb2xlcjogdHdvQXJndW1lbnRQb29sZXIsXG4gICAgICB0aHJlZUFyZ3VtZW50UG9vbGVyOiB0aHJlZUFyZ3VtZW50UG9vbGVyLFxuICAgICAgZm91ckFyZ3VtZW50UG9vbGVyOiBmb3VyQXJndW1lbnRQb29sZXIsXG4gICAgICBmaXZlQXJndW1lbnRQb29sZXI6IGZpdmVBcmd1bWVudFBvb2xlclxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBQb29sZWRDbGFzcztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYWNcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGZ1bmN0aW9uIGVzY2FwZShrZXkpIHtcbiAgICB2YXIgZXNjYXBlUmVnZXggPSAvWz06XS9nO1xuICAgIHZhciBlc2NhcGVyTG9va3VwID0ge1xuICAgICAgJz0nOiAnPTAnLFxuICAgICAgJzonOiAnPTInXG4gICAgfTtcbiAgICB2YXIgZXNjYXBlZFN0cmluZyA9ICgnJyArIGtleSkucmVwbGFjZShlc2NhcGVSZWdleCwgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHJldHVybiBlc2NhcGVyTG9va3VwW21hdGNoXTtcbiAgICB9KTtcbiAgICByZXR1cm4gJyQnICsgZXNjYXBlZFN0cmluZztcbiAgfVxuICBmdW5jdGlvbiB1bmVzY2FwZShrZXkpIHtcbiAgICB2YXIgdW5lc2NhcGVSZWdleCA9IC8oPTB8PTIpL2c7XG4gICAgdmFyIHVuZXNjYXBlckxvb2t1cCA9IHtcbiAgICAgICc9MCc6ICc9JyxcbiAgICAgICc9Mic6ICc6J1xuICAgIH07XG4gICAgdmFyIGtleVN1YnN0cmluZyA9IGtleVswXSA9PT0gJy4nICYmIGtleVsxXSA9PT0gJyQnID8ga2V5LnN1YnN0cmluZygyKSA6IGtleS5zdWJzdHJpbmcoMSk7XG4gICAgcmV0dXJuICgnJyArIGtleVN1YnN0cmluZykucmVwbGFjZSh1bmVzY2FwZVJlZ2V4LCBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgcmV0dXJuIHVuZXNjYXBlckxvb2t1cFttYXRjaF07XG4gICAgfSk7XG4gIH1cbiAgdmFyIEtleUVzY2FwZVV0aWxzID0ge1xuICAgIGVzY2FwZTogZXNjYXBlLFxuICAgIHVuZXNjYXBlOiB1bmVzY2FwZVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IEtleUVzY2FwZVV0aWxzO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImFkXCIsIFtcImFlXCIsIFwiYWZcIiwgXCJiMFwiLCBcIjMwXCIsIFwiYWNcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdEN1cnJlbnRPd25lciA9ICRfX3JlcXVpcmUoJ2FlJyk7XG4gICAgdmFyIFJlYWN0RWxlbWVudCA9ICRfX3JlcXVpcmUoJ2FmJyk7XG4gICAgdmFyIGdldEl0ZXJhdG9yRm4gPSAkX19yZXF1aXJlKCdiMCcpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBLZXlFc2NhcGVVdGlscyA9ICRfX3JlcXVpcmUoJ2FjJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciBTRVBBUkFUT1IgPSAnLic7XG4gICAgdmFyIFNVQlNFUEFSQVRPUiA9ICc6JztcbiAgICB2YXIgZGlkV2FybkFib3V0TWFwcyA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudEtleShjb21wb25lbnQsIGluZGV4KSB7XG4gICAgICBpZiAoY29tcG9uZW50ICYmIHR5cGVvZiBjb21wb25lbnQgPT09ICdvYmplY3QnICYmIGNvbXBvbmVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gS2V5RXNjYXBlVXRpbHMuZXNjYXBlKGNvbXBvbmVudC5rZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluZGV4LnRvU3RyaW5nKDM2KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGRyZW4sIG5hbWVTb0ZhciwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgY2hpbGRyZW47XG4gICAgICBpZiAodHlwZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChjaGlsZHJlbiA9PT0gbnVsbCB8fCB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnbnVtYmVyJyB8fCBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7XG4gICAgICAgIGNhbGxiYWNrKHRyYXZlcnNlQ29udGV4dCwgY2hpbGRyZW4sIG5hbWVTb0ZhciA9PT0gJycgPyBTRVBBUkFUT1IgKyBnZXRDb21wb25lbnRLZXkoY2hpbGRyZW4sIDApIDogbmFtZVNvRmFyKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICB2YXIgbmV4dE5hbWU7XG4gICAgICB2YXIgc3VidHJlZUNvdW50ID0gMDtcbiAgICAgIHZhciBuZXh0TmFtZVByZWZpeCA9IG5hbWVTb0ZhciA9PT0gJycgPyBTRVBBUkFUT1IgOiBuYW1lU29GYXIgKyBTVUJTRVBBUkFUT1I7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgbmV4dE5hbWUgPSBuZXh0TmFtZVByZWZpeCArIGdldENvbXBvbmVudEtleShjaGlsZCwgaSk7XG4gICAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihjaGlsZHJlbik7XG4gICAgICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKGNoaWxkcmVuKTtcbiAgICAgICAgICB2YXIgc3RlcDtcbiAgICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gY2hpbGRyZW4uZW50cmllcykge1xuICAgICAgICAgICAgdmFyIGlpID0gMDtcbiAgICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgY2hpbGQgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpaSsrKTtcbiAgICAgICAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGRpZFdhcm5BYm91dE1hcHMsICdVc2luZyBNYXBzIGFzIGNoaWxkcmVuIGlzIG5vdCB5ZXQgZnVsbHkgc3VwcG9ydGVkLiBJdCBpcyBhbiAnICsgJ2V4cGVyaW1lbnRhbCBmZWF0dXJlIHRoYXQgbWlnaHQgYmUgcmVtb3ZlZC4gQ29udmVydCBpdCB0byBhICcgKyAnc2VxdWVuY2UgLyBpdGVyYWJsZSBvZiBrZXllZCBSZWFjdEVsZW1lbnRzIGluc3RlYWQuJykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIGRpZFdhcm5BYm91dE1hcHMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICBjaGlsZCA9IGVudHJ5WzFdO1xuICAgICAgICAgICAgICAgIG5leHROYW1lID0gbmV4dE5hbWVQcmVmaXggKyBLZXlFc2NhcGVVdGlscy5lc2NhcGUoZW50cnlbMF0pICsgU1VCU0VQQVJBVE9SICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCAwKTtcbiAgICAgICAgICAgICAgICBzdWJ0cmVlQ291bnQgKz0gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGQsIG5leHROYW1lLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHZhciBhZGRlbmR1bSA9ICcnO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBhZGRlbmR1bSA9ICcgSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4sIHVzZSBhbiBhcnJheSAnICsgJ2luc3RlYWQgb3Igd3JhcCB0aGUgb2JqZWN0IHVzaW5nIGNyZWF0ZUZyYWdtZW50KG9iamVjdCkgZnJvbSB0aGUgJyArICdSZWFjdCBhZGQtb25zLic7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4uX2lzUmVhY3RFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGFkZGVuZHVtID0gJyBJdCBsb29rcyBsaWtlIHlvdVxcJ3JlIHVzaW5nIGFuIGVsZW1lbnQgY3JlYXRlZCBieSBhIGRpZmZlcmVudCAnICsgJ3ZlcnNpb24gb2YgUmVhY3QuIE1ha2Ugc3VyZSB0byB1c2Ugb25seSBvbmUgY29weSBvZiBSZWFjdC4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgdmFyIG5hbWUgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LmdldE5hbWUoKTtcbiAgICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBhZGRlbmR1bSArPSAnIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGNoaWxkcmVuU3RyaW5nID0gU3RyaW5nKGNoaWxkcmVuKTtcbiAgICAgICAgICAhZmFsc2UgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnT2JqZWN0cyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQgKGZvdW5kOiAlcykuJXMnLCBjaGlsZHJlblN0cmluZyA9PT0gJ1tvYmplY3QgT2JqZWN0XScgPyAnb2JqZWN0IHdpdGgga2V5cyB7JyArIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5qb2luKCcsICcpICsgJ30nIDogY2hpbGRyZW5TdHJpbmcsIGFkZGVuZHVtKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdWJ0cmVlQ291bnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpIHtcbiAgICAgIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkcmVuLCAnJywgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gdHJhdmVyc2VBbGxDaGlsZHJlbjtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYjFcIiwgW1wiYWJcIiwgXCJhZlwiLCBcIjQ4XCIsIFwiYWRcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBQb29sZWRDbGFzcyA9ICRfX3JlcXVpcmUoJ2FiJyk7XG4gIHZhciBSZWFjdEVsZW1lbnQgPSAkX19yZXF1aXJlKCdhZicpO1xuICB2YXIgZW1wdHlGdW5jdGlvbiA9ICRfX3JlcXVpcmUoJzQ4Jyk7XG4gIHZhciB0cmF2ZXJzZUFsbENoaWxkcmVuID0gJF9fcmVxdWlyZSgnYWQnKTtcbiAgdmFyIHR3b0FyZ3VtZW50UG9vbGVyID0gUG9vbGVkQ2xhc3MudHdvQXJndW1lbnRQb29sZXI7XG4gIHZhciBmb3VyQXJndW1lbnRQb29sZXIgPSBQb29sZWRDbGFzcy5mb3VyQXJndW1lbnRQb29sZXI7XG4gIHZhciB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCA9IC9cXC8rL2c7XG4gIGZ1bmN0aW9uIGVzY2FwZVVzZXJQcm92aWRlZEtleSh0ZXh0KSB7XG4gICAgcmV0dXJuICgnJyArIHRleHQpLnJlcGxhY2UodXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsICckJi8nKTtcbiAgfVxuICBmdW5jdGlvbiBGb3JFYWNoQm9va0tlZXBpbmcoZm9yRWFjaEZ1bmN0aW9uLCBmb3JFYWNoQ29udGV4dCkge1xuICAgIHRoaXMuZnVuYyA9IGZvckVhY2hGdW5jdGlvbjtcbiAgICB0aGlzLmNvbnRleHQgPSBmb3JFYWNoQ29udGV4dDtcbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgfVxuICBGb3JFYWNoQm9va0tlZXBpbmcucHJvdG90eXBlLmRlc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmZ1bmMgPSBudWxsO1xuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gIH07XG4gIFBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhGb3JFYWNoQm9va0tlZXBpbmcsIHR3b0FyZ3VtZW50UG9vbGVyKTtcbiAgZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkKGJvb2tLZWVwaW5nLCBjaGlsZCwgbmFtZSkge1xuICAgIHZhciBmdW5jID0gYm9va0tlZXBpbmcuZnVuYztcbiAgICB2YXIgY29udGV4dCA9IGJvb2tLZWVwaW5nLmNvbnRleHQ7XG4gICAgZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBib29rS2VlcGluZy5jb3VudCsrKTtcbiAgfVxuICBmdW5jdGlvbiBmb3JFYWNoQ2hpbGRyZW4oY2hpbGRyZW4sIGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCkge1xuICAgIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIHZhciB0cmF2ZXJzZUNvbnRleHQgPSBGb3JFYWNoQm9va0tlZXBpbmcuZ2V0UG9vbGVkKGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCk7XG4gICAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaFNpbmdsZUNoaWxkLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgIEZvckVhY2hCb29rS2VlcGluZy5yZWxlYXNlKHRyYXZlcnNlQ29udGV4dCk7XG4gIH1cbiAgZnVuY3Rpb24gTWFwQm9va0tlZXBpbmcobWFwUmVzdWx0LCBrZXlQcmVmaXgsIG1hcEZ1bmN0aW9uLCBtYXBDb250ZXh0KSB7XG4gICAgdGhpcy5yZXN1bHQgPSBtYXBSZXN1bHQ7XG4gICAgdGhpcy5rZXlQcmVmaXggPSBrZXlQcmVmaXg7XG4gICAgdGhpcy5mdW5jID0gbWFwRnVuY3Rpb247XG4gICAgdGhpcy5jb250ZXh0ID0gbWFwQ29udGV4dDtcbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgfVxuICBNYXBCb29rS2VlcGluZy5wcm90b3R5cGUuZGVzdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVzdWx0ID0gbnVsbDtcbiAgICB0aGlzLmtleVByZWZpeCA9IG51bGw7XG4gICAgdGhpcy5mdW5jID0gbnVsbDtcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgIHRoaXMuY291bnQgPSAwO1xuICB9O1xuICBQb29sZWRDbGFzcy5hZGRQb29saW5nVG8oTWFwQm9va0tlZXBpbmcsIGZvdXJBcmd1bWVudFBvb2xlcik7XG4gIGZ1bmN0aW9uIG1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQoYm9va0tlZXBpbmcsIGNoaWxkLCBjaGlsZEtleSkge1xuICAgIHZhciByZXN1bHQgPSBib29rS2VlcGluZy5yZXN1bHQ7XG4gICAgdmFyIGtleVByZWZpeCA9IGJvb2tLZWVwaW5nLmtleVByZWZpeDtcbiAgICB2YXIgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmM7XG4gICAgdmFyIGNvbnRleHQgPSBib29rS2VlcGluZy5jb250ZXh0O1xuICAgIHZhciBtYXBwZWRDaGlsZCA9IGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgYm9va0tlZXBpbmcuY291bnQrKyk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWFwcGVkQ2hpbGQpKSB7XG4gICAgICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKG1hcHBlZENoaWxkLCByZXN1bHQsIGNoaWxkS2V5LCBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQpO1xuICAgIH0gZWxzZSBpZiAobWFwcGVkQ2hpbGQgIT0gbnVsbCkge1xuICAgICAgaWYgKFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChtYXBwZWRDaGlsZCkpIHtcbiAgICAgICAgbWFwcGVkQ2hpbGQgPSBSZWFjdEVsZW1lbnQuY2xvbmVBbmRSZXBsYWNlS2V5KG1hcHBlZENoaWxkLCBrZXlQcmVmaXggKyAobWFwcGVkQ2hpbGQua2V5ICYmICghY2hpbGQgfHwgY2hpbGQua2V5ICE9PSBtYXBwZWRDaGlsZC5rZXkpID8gZXNjYXBlVXNlclByb3ZpZGVkS2V5KG1hcHBlZENoaWxkLmtleSkgKyAnLycgOiAnJykgKyBjaGlsZEtleSk7XG4gICAgICB9XG4gICAgICByZXN1bHQucHVzaChtYXBwZWRDaGlsZCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwoY2hpbGRyZW4sIGFycmF5LCBwcmVmaXgsIGZ1bmMsIGNvbnRleHQpIHtcbiAgICB2YXIgZXNjYXBlZFByZWZpeCA9ICcnO1xuICAgIGlmIChwcmVmaXggIT0gbnVsbCkge1xuICAgICAgZXNjYXBlZFByZWZpeCA9IGVzY2FwZVVzZXJQcm92aWRlZEtleShwcmVmaXgpICsgJy8nO1xuICAgIH1cbiAgICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gTWFwQm9va0tlZXBpbmcuZ2V0UG9vbGVkKGFycmF5LCBlc2NhcGVkUHJlZml4LCBmdW5jLCBjb250ZXh0KTtcbiAgICB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBtYXBTaW5nbGVDaGlsZEludG9Db250ZXh0LCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgIE1hcEJvb2tLZWVwaW5nLnJlbGVhc2UodHJhdmVyc2VDb250ZXh0KTtcbiAgfVxuICBmdW5jdGlvbiBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuYywgY29udGV4dCkge1xuICAgIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCByZXN1bHQsIG51bGwsIGZ1bmMsIGNvbnRleHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkRHVtbXkodHJhdmVyc2VDb250ZXh0LCBjaGlsZCwgbmFtZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIGNvdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaFNpbmdsZUNoaWxkRHVtbXksIG51bGwpO1xuICB9XG4gIGZ1bmN0aW9uIHRvQXJyYXkoY2hpbGRyZW4pIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbChjaGlsZHJlbiwgcmVzdWx0LCBudWxsLCBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgdmFyIFJlYWN0Q2hpbGRyZW4gPSB7XG4gICAgZm9yRWFjaDogZm9yRWFjaENoaWxkcmVuLFxuICAgIG1hcDogbWFwQ2hpbGRyZW4sXG4gICAgbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbDogbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbCxcbiAgICBjb3VudDogY291bnRDaGlsZHJlbixcbiAgICB0b0FycmF5OiB0b0FycmF5XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDaGlsZHJlbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJiMlwiLCBbXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHByb2Nlc3NpbmdDaGlsZENvbnRleHQgPSBmYWxzZTtcbiAgICAgIHZhciB3YXJuSW52YWxpZFNldFN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFwcm9jZXNzaW5nQ2hpbGRDb250ZXh0LCAnc2V0U3RhdGUoLi4uKTogQ2Fubm90IGNhbGwgc2V0U3RhdGUoKSBpbnNpZGUgZ2V0Q2hpbGRDb250ZXh0KCknKSA6IHZvaWQgMDtcbiAgICAgIH07XG4gICAgfVxuICAgIHZhciBSZWFjdEludmFsaWRTZXRTdGF0ZVdhcm5pbmdEZXZUb29sID0ge1xuICAgICAgb25CZWdpblByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBwcm9jZXNzaW5nQ2hpbGRDb250ZXh0ID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBvbkVuZFByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBwcm9jZXNzaW5nQ2hpbGRDb250ZXh0ID0gZmFsc2U7XG4gICAgICB9LFxuICAgICAgb25TZXRTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHdhcm5JbnZhbGlkU2V0U3RhdGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RJbnZhbGlkU2V0U3RhdGVXYXJuaW5nRGV2VG9vbDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYjNcIiwgW1wiYjJcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdEludmFsaWRTZXRTdGF0ZVdhcm5pbmdEZXZUb29sID0gJF9fcmVxdWlyZSgnYjInKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIGV2ZW50SGFuZGxlcnMgPSBbXTtcbiAgICB2YXIgaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50ID0ge307XG4gICAgZnVuY3Rpb24gZW1pdEV2ZW50KGhhbmRsZXJGdW5jdGlvbk5hbWUsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGV2ZW50SGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyW2hhbmRsZXJGdW5jdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICAgIGhhbmRsZXJbaGFuZGxlckZ1bmN0aW9uTmFtZV0oYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWhhbmRsZXJEb2VzVGhyb3dGb3JFdmVudFtoYW5kbGVyRnVuY3Rpb25OYW1lXSwgJ2V4Y2VwdGlvbiB0aHJvd24gYnkgZGV2dG9vbCB3aGlsZSBoYW5kbGluZyAlczogJXMnLCBoYW5kbGVyRnVuY3Rpb25OYW1lLCBlLm1lc3NhZ2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50W2hhbmRsZXJGdW5jdGlvbk5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgUmVhY3REZWJ1Z1Rvb2wgPSB7XG4gICAgICBhZGREZXZ0b29sOiBmdW5jdGlvbihkZXZ0b29sKSB7XG4gICAgICAgIGV2ZW50SGFuZGxlcnMucHVzaChkZXZ0b29sKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVEZXZ0b29sOiBmdW5jdGlvbihkZXZ0b29sKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChldmVudEhhbmRsZXJzW2ldID09PSBkZXZ0b29sKSB7XG4gICAgICAgICAgICBldmVudEhhbmRsZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbkJlZ2luUHJvY2Vzc2luZ0NoaWxkQ29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGVtaXRFdmVudCgnb25CZWdpblByb2Nlc3NpbmdDaGlsZENvbnRleHQnKTtcbiAgICAgIH0sXG4gICAgICBvbkVuZFByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uRW5kUHJvY2Vzc2luZ0NoaWxkQ29udGV4dCcpO1xuICAgICAgfSxcbiAgICAgIG9uU2V0U3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uU2V0U3RhdGUnKTtcbiAgICAgIH0sXG4gICAgICBvbk1vdW50Um9vdENvbXBvbmVudDogZnVuY3Rpb24oaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uTW91bnRSb290Q29tcG9uZW50JywgaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgICB9LFxuICAgICAgb25Nb3VudENvbXBvbmVudDogZnVuY3Rpb24oaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uTW91bnRDb21wb25lbnQnLCBpbnRlcm5hbEluc3RhbmNlKTtcbiAgICAgIH0sXG4gICAgICBvblVwZGF0ZUNvbXBvbmVudDogZnVuY3Rpb24oaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uVXBkYXRlQ29tcG9uZW50JywgaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgICB9LFxuICAgICAgb25Vbm1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICAgIGVtaXRFdmVudCgnb25Vbm1vdW50Q29tcG9uZW50JywgaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBSZWFjdERlYnVnVG9vbC5hZGREZXZ0b29sKFJlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2wpO1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3REZWJ1Z1Rvb2w7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImI0XCIsIFtcImIzXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgUmVhY3REZWJ1Z1Rvb2wgPSAkX19yZXF1aXJlKCdiMycpO1xuICBtb2R1bGUuZXhwb3J0cyA9IHtkZWJ1Z1Rvb2w6IFJlYWN0RGVidWdUb29sfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJiNVwiLCBbXCJiNlwiLCBcImI0XCIsIFwiYjdcIiwgXCI5NFwiLCBcIjMwXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSAkX19yZXF1aXJlKCdiNicpO1xuICAgIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9ICRfX3JlcXVpcmUoJ2I0Jyk7XG4gICAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gJF9fcmVxdWlyZSgnYjcnKTtcbiAgICB2YXIgZW1wdHlPYmplY3QgPSAkX19yZXF1aXJlKCc5NCcpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICBmdW5jdGlvbiBSZWFjdENvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgICAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbiAgICB9XG4gICAgUmVhY3RDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB7fTtcbiAgICBSZWFjdENvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbihwYXJ0aWFsU3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICAhKHR5cGVvZiBwYXJ0aWFsU3RhdGUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBwYXJ0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgfHwgcGFydGlhbFN0YXRlID09IG51bGwpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3NldFN0YXRlKC4uLik6IHRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgJyArICdmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uU2V0U3RhdGUoKTtcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcocGFydGlhbFN0YXRlICE9IG51bGwsICdzZXRTdGF0ZSguLi4pOiBZb3UgcGFzc2VkIGFuIHVuZGVmaW5lZCBvciBudWxsIHN0YXRlIG9iamVjdDsgJyArICdpbnN0ZWFkLCB1c2UgZm9yY2VVcGRhdGUoKS4nKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlU2V0U3RhdGUodGhpcywgcGFydGlhbFN0YXRlKTtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrLCAnc2V0U3RhdGUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0Q29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMpO1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlQ2FsbGJhY2sodGhpcywgY2FsbGJhY2ssICdmb3JjZVVwZGF0ZScpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBkZXByZWNhdGVkQVBJcyA9IHtcbiAgICAgICAgaXNNb3VudGVkOiBbJ2lzTW91bnRlZCcsICdJbnN0ZWFkLCBtYWtlIHN1cmUgdG8gY2xlYW4gdXAgc3Vic2NyaXB0aW9ucyBhbmQgcGVuZGluZyByZXF1ZXN0cyBpbiAnICsgJ2NvbXBvbmVudFdpbGxVbm1vdW50IHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzLiddLFxuICAgICAgICByZXBsYWNlU3RhdGU6IFsncmVwbGFjZVN0YXRlJywgJ1JlZmFjdG9yIHlvdXIgY29kZSB0byB1c2Ugc2V0U3RhdGUgaW5zdGVhZCAoc2VlICcgKyAnaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zMjM2KS4nXVxuICAgICAgfTtcbiAgICAgIHZhciBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcgPSBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmZvKSB7XG4gICAgICAgIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFjdENvbXBvbmVudC5wcm90b3R5cGUsIG1ldGhvZE5hbWUsIHtnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzKC4uLikgaXMgZGVwcmVjYXRlZCBpbiBwbGFpbiBKYXZhU2NyaXB0IFJlYWN0IGNsYXNzZXMuICVzJywgaW5mb1swXSwgaW5mb1sxXSkgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9fSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBmb3IgKHZhciBmbk5hbWUgaW4gZGVwcmVjYXRlZEFQSXMpIHtcbiAgICAgICAgaWYgKGRlcHJlY2F0ZWRBUElzLmhhc093blByb3BlcnR5KGZuTmFtZSkpIHtcbiAgICAgICAgICBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcoZm5OYW1lLCBkZXByZWNhdGVkQVBJc1tmbk5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q29tcG9uZW50O1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJiNlwiLCBbXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICBmdW5jdGlvbiB3YXJuVERaKHB1YmxpY0luc3RhbmNlLCBjYWxsZXJOYW1lKSB7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzKC4uLik6IENhbiBvbmx5IHVwZGF0ZSBhIG1vdW50ZWQgb3IgbW91bnRpbmcgY29tcG9uZW50LiAnICsgJ1RoaXMgdXN1YWxseSBtZWFucyB5b3UgY2FsbGVkICVzKCkgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4gJyArICdUaGlzIGlzIGEgbm8tb3AuIFBsZWFzZSBjaGVjayB0aGUgY29kZSBmb3IgdGhlICVzIGNvbXBvbmVudC4nLCBjYWxsZXJOYW1lLCBjYWxsZXJOYW1lLCBwdWJsaWNJbnN0YW5jZS5jb25zdHJ1Y3RvciAmJiBwdWJsaWNJbnN0YW5jZS5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCAnJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBSZWFjdE5vb3BVcGRhdGVRdWV1ZSA9IHtcbiAgICAgIGlzTW91bnRlZDogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSxcbiAgICAgIGVucXVldWVDYWxsYmFjazogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIGNhbGxiYWNrKSB7fSxcbiAgICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgd2FyblREWihwdWJsaWNJbnN0YW5jZSwgJ2ZvcmNlVXBkYXRlJyk7XG4gICAgICB9LFxuICAgICAgZW5xdWV1ZVJlcGxhY2VTdGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIGNvbXBsZXRlU3RhdGUpIHtcbiAgICAgICAgd2FyblREWihwdWJsaWNJbnN0YW5jZSwgJ3JlcGxhY2VTdGF0ZScpO1xuICAgICAgfSxcbiAgICAgIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSkge1xuICAgICAgICB3YXJuVERaKHB1YmxpY0luc3RhbmNlLCAnc2V0U3RhdGUnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImI4XCIsIFtcIjZcIiwgXCJiNVwiLCBcImFmXCIsIFwiYjlcIiwgXCJiYVwiLCBcImI2XCIsIFwiOTRcIiwgXCIzMFwiLCBcIjU4XCIsIFwiZVwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIFJlYWN0Q29tcG9uZW50ID0gJF9fcmVxdWlyZSgnYjUnKTtcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gJF9fcmVxdWlyZSgnYWYnKTtcbiAgICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucyA9ICRfX3JlcXVpcmUoJ2I5Jyk7XG4gICAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0gJF9fcmVxdWlyZSgnYmEnKTtcbiAgICB2YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSAkX19yZXF1aXJlKCdiNicpO1xuICAgIHZhciBlbXB0eU9iamVjdCA9ICRfX3JlcXVpcmUoJzk0Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIGtleU1pcnJvciA9ICRfX3JlcXVpcmUoJzU4Jyk7XG4gICAgdmFyIGtleU9mID0gJF9fcmVxdWlyZSgnZScpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgTUlYSU5TX0tFWSA9IGtleU9mKHttaXhpbnM6IG51bGx9KTtcbiAgICB2YXIgU3BlY1BvbGljeSA9IGtleU1pcnJvcih7XG4gICAgICBERUZJTkVfT05DRTogbnVsbCxcbiAgICAgIERFRklORV9NQU5ZOiBudWxsLFxuICAgICAgT1ZFUlJJREVfQkFTRTogbnVsbCxcbiAgICAgIERFRklORV9NQU5ZX01FUkdFRDogbnVsbFxuICAgIH0pO1xuICAgIHZhciBpbmplY3RlZE1peGlucyA9IFtdO1xuICAgIHZhciBSZWFjdENsYXNzSW50ZXJmYWNlID0ge1xuICAgICAgbWl4aW5zOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgc3RhdGljczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIHByb3BUeXBlczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIGNvbnRleHRUeXBlczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIGNoaWxkQ29udGV4dFR5cGVzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgZ2V0RGVmYXVsdFByb3BzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCxcbiAgICAgIGdldEluaXRpYWxTdGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQsXG4gICAgICBnZXRDaGlsZENvbnRleHQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VELFxuICAgICAgcmVuZGVyOiBTcGVjUG9saWN5LkRFRklORV9PTkNFLFxuICAgICAgY29tcG9uZW50V2lsbE1vdW50OiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgY29tcG9uZW50RGlkTW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlOiBTcGVjUG9saWN5LkRFRklORV9PTkNFLFxuICAgICAgY29tcG9uZW50V2lsbFVwZGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIGNvbXBvbmVudERpZFVwZGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgdXBkYXRlQ29tcG9uZW50OiBTcGVjUG9saWN5Lk9WRVJSSURFX0JBU0VcbiAgICB9O1xuICAgIHZhciBSRVNFUlZFRF9TUEVDX0tFWVMgPSB7XG4gICAgICBkaXNwbGF5TmFtZTogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGRpc3BsYXlOYW1lKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG4gICAgICB9LFxuICAgICAgbWl4aW5zOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgbWl4aW5zKSB7XG4gICAgICAgIGlmIChtaXhpbnMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIG1peGluc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2hpbGRDb250ZXh0VHlwZXM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBjaGlsZENvbnRleHRUeXBlcykge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgY2hpbGRDb250ZXh0VHlwZXMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY2hpbGRDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBDb25zdHJ1Y3Rvci5jaGlsZENvbnRleHRUeXBlcyA9IF9hc3NpZ24oe30sIENvbnN0cnVjdG9yLmNoaWxkQ29udGV4dFR5cGVzLCBjaGlsZENvbnRleHRUeXBlcyk7XG4gICAgICB9LFxuICAgICAgY29udGV4dFR5cGVzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgY29udGV4dFR5cGVzKSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCBjb250ZXh0VHlwZXMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgQ29uc3RydWN0b3IuY29udGV4dFR5cGVzID0gX2Fzc2lnbih7fSwgQ29uc3RydWN0b3IuY29udGV4dFR5cGVzLCBjb250ZXh0VHlwZXMpO1xuICAgICAgfSxcbiAgICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGdldERlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAoQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzID0gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24oQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLCBnZXREZWZhdWx0UHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcyA9IGdldERlZmF1bHRQcm9wcztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb3BUeXBlczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIHByb3BUeXBlcykge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgcHJvcFR5cGVzLCBSZWFjdFByb3BUeXBlTG9jYXRpb25zLnByb3ApO1xuICAgICAgICB9XG4gICAgICAgIENvbnN0cnVjdG9yLnByb3BUeXBlcyA9IF9hc3NpZ24oe30sIENvbnN0cnVjdG9yLnByb3BUeXBlcywgcHJvcFR5cGVzKTtcbiAgICAgIH0sXG4gICAgICBzdGF0aWNzOiBmdW5jdGlvbihDb25zdHJ1Y3Rvciwgc3RhdGljcykge1xuICAgICAgICBtaXhTdGF0aWNTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3RhdGljcyk7XG4gICAgICB9LFxuICAgICAgYXV0b2JpbmQ6IGZ1bmN0aW9uKCkge31cbiAgICB9O1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgdHlwZURlZiwgbG9jYXRpb24pIHtcbiAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIHR5cGVEZWYpIHtcbiAgICAgICAgaWYgKHR5cGVEZWYuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodHlwZW9mIHR5cGVEZWZbcHJvcE5hbWVdID09PSAnZnVuY3Rpb24nLCAnJXM6ICVzIHR5cGUgYCVzYCBpcyBpbnZhbGlkOyBpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSAnICsgJ1JlYWN0LlByb3BUeXBlcy4nLCBDb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCAnUmVhY3RDbGFzcycsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXSwgcHJvcE5hbWUpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlTWV0aG9kT3ZlcnJpZGUoaXNBbHJlYWR5RGVmaW5lZCwgbmFtZSkge1xuICAgICAgdmFyIHNwZWNQb2xpY3kgPSBSZWFjdENsYXNzSW50ZXJmYWNlLmhhc093blByb3BlcnR5KG5hbWUpID8gUmVhY3RDbGFzc0ludGVyZmFjZVtuYW1lXSA6IG51bGw7XG4gICAgICBpZiAoUmVhY3RDbGFzc01peGluLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICEoc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5PVkVSUklERV9CQVNFKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzSW50ZXJmYWNlOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gb3ZlcnJpZGUgJyArICdgJXNgIGZyb20geW91ciBjbGFzcyBzcGVjaWZpY2F0aW9uLiBFbnN1cmUgdGhhdCB5b3VyIG1ldGhvZCBuYW1lcyAnICsgJ2RvIG5vdCBvdmVybGFwIHdpdGggUmVhY3QgbWV0aG9kcy4nLCBuYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBpZiAoaXNBbHJlYWR5RGVmaW5lZCkge1xuICAgICAgICAhKHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTlkgfHwgc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3NJbnRlcmZhY2U6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBkZWZpbmUgJyArICdgJXNgIG9uIHlvdXIgY29tcG9uZW50IG1vcmUgdGhhbiBvbmNlLiBUaGlzIGNvbmZsaWN0IG1heSBiZSBkdWUgJyArICd0byBhIG1peGluLicsIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHNwZWMpIHtcbiAgICAgIGlmICghc3BlYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAhKHR5cGVvZiBzcGVjICE9PSAnZnVuY3Rpb24nKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3VcXCdyZSBhdHRlbXB0aW5nIHRvICcgKyAndXNlIGEgY29tcG9uZW50IGNsYXNzIG9yIGZ1bmN0aW9uIGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgJyArICdyZWd1bGFyIG9iamVjdC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAhIVJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChzcGVjKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3VcXCdyZSBhdHRlbXB0aW5nIHRvICcgKyAndXNlIGEgY29tcG9uZW50IGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgcmVndWxhciBvYmplY3QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIHByb3RvID0gQ29uc3RydWN0b3IucHJvdG90eXBlO1xuICAgICAgdmFyIGF1dG9CaW5kUGFpcnMgPSBwcm90by5fX3JlYWN0QXV0b0JpbmRQYWlycztcbiAgICAgIGlmIChzcGVjLmhhc093blByb3BlcnR5KE1JWElOU19LRVkpKSB7XG4gICAgICAgIFJFU0VSVkVEX1NQRUNfS0VZUy5taXhpbnMoQ29uc3RydWN0b3IsIHNwZWMubWl4aW5zKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIG5hbWUgaW4gc3BlYykge1xuICAgICAgICBpZiAoIXNwZWMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSA9PT0gTUlYSU5TX0tFWSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHNwZWNbbmFtZV07XG4gICAgICAgIHZhciBpc0FscmVhZHlEZWZpbmVkID0gcHJvdG8uaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgICAgIHZhbGlkYXRlTWV0aG9kT3ZlcnJpZGUoaXNBbHJlYWR5RGVmaW5lZCwgbmFtZSk7XG4gICAgICAgIGlmIChSRVNFUlZFRF9TUEVDX0tFWVMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICBSRVNFUlZFRF9TUEVDX0tFWVNbbmFtZV0oQ29uc3RydWN0b3IsIHByb3BlcnR5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaXNSZWFjdENsYXNzTWV0aG9kID0gUmVhY3RDbGFzc0ludGVyZmFjZS5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgICAgICAgICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgICB2YXIgc2hvdWxkQXV0b0JpbmQgPSBpc0Z1bmN0aW9uICYmICFpc1JlYWN0Q2xhc3NNZXRob2QgJiYgIWlzQWxyZWFkeURlZmluZWQgJiYgc3BlYy5hdXRvYmluZCAhPT0gZmFsc2U7XG4gICAgICAgICAgaWYgKHNob3VsZEF1dG9CaW5kKSB7XG4gICAgICAgICAgICBhdXRvQmluZFBhaXJzLnB1c2gobmFtZSwgcHJvcGVydHkpO1xuICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzQWxyZWFkeURlZmluZWQpIHtcbiAgICAgICAgICAgICAgdmFyIHNwZWNQb2xpY3kgPSBSZWFjdENsYXNzSW50ZXJmYWNlW25hbWVdO1xuICAgICAgICAgICAgICAhKGlzUmVhY3RDbGFzc01ldGhvZCAmJiAoc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQgfHwgc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWSkpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3M6IFVuZXhwZWN0ZWQgc3BlYyBwb2xpY3kgJXMgZm9yIGtleSAlcyAnICsgJ3doZW4gbWl4aW5nIGluIGNvbXBvbmVudCBzcGVjcy4nLCBzcGVjUG9saWN5LCBuYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIGlmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCkge1xuICAgICAgICAgICAgICAgIHByb3RvW25hbWVdID0gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24ocHJvdG9bbmFtZV0sIHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZKSB7XG4gICAgICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBjcmVhdGVDaGFpbmVkRnVuY3Rpb24ocHJvdG9bbmFtZV0sIHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSAnZnVuY3Rpb24nICYmIHNwZWMuZGlzcGxheU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgIHByb3RvW25hbWVdLmRpc3BsYXlOYW1lID0gc3BlYy5kaXNwbGF5TmFtZSArICdfJyArIG5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1peFN0YXRpY1NwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzdGF0aWNzKSB7XG4gICAgICBpZiAoIXN0YXRpY3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgbmFtZSBpbiBzdGF0aWNzKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHN0YXRpY3NbbmFtZV07XG4gICAgICAgIGlmICghc3RhdGljcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc1Jlc2VydmVkID0gbmFtZSBpbiBSRVNFUlZFRF9TUEVDX0tFWVM7XG4gICAgICAgICEhaXNSZXNlcnZlZCA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gZGVmaW5lIGEgcmVzZXJ2ZWQgJyArICdwcm9wZXJ0eSwgYCVzYCwgdGhhdCBzaG91bGRuXFwndCBiZSBvbiB0aGUgXCJzdGF0aWNzXCIga2V5LiBEZWZpbmUgaXQgJyArICdhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBpbnN0ZWFkOyBpdCB3aWxsIHN0aWxsIGJlIGFjY2Vzc2libGUgb24gdGhlICcgKyAnY29uc3RydWN0b3IuJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB2YXIgaXNJbmhlcml0ZWQgPSBuYW1lIGluIENvbnN0cnVjdG9yO1xuICAgICAgICAhIWlzSW5oZXJpdGVkID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3M6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBkZWZpbmUgJyArICdgJXNgIG9uIHlvdXIgY29tcG9uZW50IG1vcmUgdGhhbiBvbmNlLiBUaGlzIGNvbmZsaWN0IG1heSBiZSAnICsgJ2R1ZSB0byBhIG1peGluLicsIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgQ29uc3RydWN0b3JbbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhvbmUsIHR3bykge1xuICAgICAgIShvbmUgJiYgdHdvICYmIHR5cGVvZiBvbmUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB0d28gPT09ICdvYmplY3QnKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzKCk6IENhbm5vdCBtZXJnZSBub24tb2JqZWN0cy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdHdvKSB7XG4gICAgICAgIGlmICh0d28uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICEob25lW2tleV0gPT09IHVuZGVmaW5lZCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cygpOiAnICsgJ1RyaWVkIHRvIG1lcmdlIHR3byBvYmplY3RzIHdpdGggdGhlIHNhbWUga2V5OiBgJXNgLiBUaGlzIGNvbmZsaWN0ICcgKyAnbWF5IGJlIGR1ZSB0byBhIG1peGluOyBpbiBwYXJ0aWN1bGFyLCB0aGlzIG1heSBiZSBjYXVzZWQgYnkgdHdvICcgKyAnZ2V0SW5pdGlhbFN0YXRlKCkgb3IgZ2V0RGVmYXVsdFByb3BzKCkgbWV0aG9kcyByZXR1cm5pbmcgb2JqZWN0cyAnICsgJ3dpdGggY2xhc2hpbmcga2V5cy4nLCBrZXkpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBvbmVba2V5XSA9IHR3b1trZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb25lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVNZXJnZWRSZXN1bHRGdW5jdGlvbihvbmUsIHR3bykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZFJlc3VsdCgpIHtcbiAgICAgICAgdmFyIGEgPSBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgdmFyIGIgPSB0d28uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKGEgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9IGVsc2UgaWYgKGIgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjID0ge307XG4gICAgICAgIG1lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoYywgYSk7XG4gICAgICAgIG1lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoYywgYik7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uKG9uZSwgdHdvKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gY2hhaW5lZEZ1bmN0aW9uKCkge1xuICAgICAgICBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgdHdvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBiaW5kQXV0b0JpbmRNZXRob2QoY29tcG9uZW50LCBtZXRob2QpIHtcbiAgICAgIHZhciBib3VuZE1ldGhvZCA9IG1ldGhvZC5iaW5kKGNvbXBvbmVudCk7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRDb250ZXh0ID0gY29tcG9uZW50O1xuICAgICAgICBib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRNZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IG51bGw7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lO1xuICAgICAgICB2YXIgX2JpbmQgPSBib3VuZE1ldGhvZC5iaW5kO1xuICAgICAgICBib3VuZE1ldGhvZC5iaW5kID0gZnVuY3Rpb24obmV3VGhpcykge1xuICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgICBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLFxuICAgICAgICAgICAgICBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChuZXdUaGlzICE9PSBjb21wb25lbnQgJiYgbmV3VGhpcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdiaW5kKCk6IFJlYWN0IGNvbXBvbmVudCBtZXRob2RzIG1heSBvbmx5IGJlIGJvdW5kIHRvIHRoZSAnICsgJ2NvbXBvbmVudCBpbnN0YW5jZS4gU2VlICVzJywgY29tcG9uZW50TmFtZSkgOiB2b2lkIDA7XG4gICAgICAgICAgfSBlbHNlIGlmICghYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYmluZCgpOiBZb3UgYXJlIGJpbmRpbmcgYSBjb21wb25lbnQgbWV0aG9kIHRvIHRoZSBjb21wb25lbnQuICcgKyAnUmVhY3QgZG9lcyB0aGlzIGZvciB5b3UgYXV0b21hdGljYWxseSBpbiBhIGhpZ2gtcGVyZm9ybWFuY2UgJyArICd3YXksIHNvIHlvdSBjYW4gc2FmZWx5IHJlbW92ZSB0aGlzIGNhbGwuIFNlZSAlcycsIGNvbXBvbmVudE5hbWUpIDogdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIGJvdW5kTWV0aG9kO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcmVib3VuZE1ldGhvZCA9IF9iaW5kLmFwcGx5KGJvdW5kTWV0aG9kLCBhcmd1bWVudHMpO1xuICAgICAgICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQ29udGV4dCA9IGNvbXBvbmVudDtcbiAgICAgICAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZE1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IGFyZ3M7XG4gICAgICAgICAgcmV0dXJuIHJlYm91bmRNZXRob2Q7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gYm91bmRNZXRob2Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJpbmRBdXRvQmluZE1ldGhvZHMoY29tcG9uZW50KSB7XG4gICAgICB2YXIgcGFpcnMgPSBjb21wb25lbnQuX19yZWFjdEF1dG9CaW5kUGFpcnM7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIHZhciBhdXRvQmluZEtleSA9IHBhaXJzW2ldO1xuICAgICAgICB2YXIgbWV0aG9kID0gcGFpcnNbaSArIDFdO1xuICAgICAgICBjb21wb25lbnRbYXV0b0JpbmRLZXldID0gYmluZEF1dG9CaW5kTWV0aG9kKGNvbXBvbmVudCwgbWV0aG9kKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFJlYWN0Q2xhc3NNaXhpbiA9IHtcbiAgICAgIHJlcGxhY2VTdGF0ZTogZnVuY3Rpb24obmV3U3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlUmVwbGFjZVN0YXRlKHRoaXMsIG5ld1N0YXRlKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVDYWxsYmFjayh0aGlzLCBjYWxsYmFjaywgJ3JlcGxhY2VTdGF0ZScpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaXNNb3VudGVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlci5pc01vdW50ZWQodGhpcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgUmVhY3RDbGFzc0NvbXBvbmVudCA9IGZ1bmN0aW9uKCkge307XG4gICAgX2Fzc2lnbihSZWFjdENsYXNzQ29tcG9uZW50LnByb3RvdHlwZSwgUmVhY3RDb21wb25lbnQucHJvdG90eXBlLCBSZWFjdENsYXNzTWl4aW4pO1xuICAgIHZhciBSZWFjdENsYXNzID0ge1xuICAgICAgY3JlYXRlQ2xhc3M6IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICAgICAgdmFyIENvbnN0cnVjdG9yID0gZnVuY3Rpb24ocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodGhpcyBpbnN0YW5jZW9mIENvbnN0cnVjdG9yLCAnU29tZXRoaW5nIGlzIGNhbGxpbmcgYSBSZWFjdCBjb21wb25lbnQgZGlyZWN0bHkuIFVzZSBhIGZhY3Rvcnkgb3IgJyArICdKU1ggaW5zdGVhZC4gU2VlOiBodHRwczovL2ZiLm1lL3JlYWN0LWxlZ2FjeWZhY3RvcnknKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuX19yZWFjdEF1dG9CaW5kUGFpcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBiaW5kQXV0b0JpbmRNZXRob2RzKHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgICAgICAgIHZhciBpbml0aWFsU3RhdGUgPSB0aGlzLmdldEluaXRpYWxTdGF0ZSA/IHRoaXMuZ2V0SW5pdGlhbFN0YXRlKCkgOiBudWxsO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAoaW5pdGlhbFN0YXRlID09PSB1bmRlZmluZWQgJiYgdGhpcy5nZXRJbml0aWFsU3RhdGUuX2lzTW9ja0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICAgIGluaXRpYWxTdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICEodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaW5pdGlhbFN0YXRlKSkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMuZ2V0SW5pdGlhbFN0YXRlKCk6IG11c3QgcmV0dXJuIGFuIG9iamVjdCBvciBudWxsJywgQ29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgICAgIH07XG4gICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IG5ldyBSZWFjdENsYXNzQ29tcG9uZW50KCk7XG4gICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuX19yZWFjdEF1dG9CaW5kUGFpcnMgPSBbXTtcbiAgICAgICAgaW5qZWN0ZWRNaXhpbnMuZm9yRWFjaChtaXhTcGVjSW50b0NvbXBvbmVudC5iaW5kKG51bGwsIENvbnN0cnVjdG9yKSk7XG4gICAgICAgIG1peFNwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzcGVjKTtcbiAgICAgICAgaWYgKENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcykge1xuICAgICAgICAgIENvbnN0cnVjdG9yLmRlZmF1bHRQcm9wcyA9IENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcykge1xuICAgICAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChDb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0SW5pdGlhbFN0YXRlKSB7XG4gICAgICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0SW5pdGlhbFN0YXRlLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICFDb25zdHJ1Y3Rvci5wcm90b3R5cGUucmVuZGVyID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2NyZWF0ZUNsYXNzKC4uLik6IENsYXNzIHNwZWNpZmljYXRpb24gbXVzdCBpbXBsZW1lbnQgYSBgcmVuZGVyYCBtZXRob2QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29tcG9uZW50U2hvdWxkVXBkYXRlLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ2NvbXBvbmVudFNob3VsZFVwZGF0ZSgpLiBEaWQgeW91IG1lYW4gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk/ICcgKyAnVGhlIG5hbWUgaXMgcGhyYXNlZCBhcyBhIHF1ZXN0aW9uIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzICcgKyAnZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUuJywgc3BlYy5kaXNwbGF5TmFtZSB8fCAnQSBjb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghQ29uc3RydWN0b3IucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiBEaWQgeW91IG1lYW4gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpPycsIHNwZWMuZGlzcGxheU5hbWUgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgbWV0aG9kTmFtZSBpbiBSZWFjdENsYXNzSW50ZXJmYWNlKSB7XG4gICAgICAgICAgaWYgKCFDb25zdHJ1Y3Rvci5wcm90b3R5cGVbbWV0aG9kTmFtZV0pIHtcbiAgICAgICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICAgIH0sXG4gICAgICBpbmplY3Rpb246IHtpbmplY3RNaXhpbjogZnVuY3Rpb24obWl4aW4pIHtcbiAgICAgICAgICBpbmplY3RlZE1peGlucy5wdXNoKG1peGluKTtcbiAgICAgICAgfX1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDbGFzcztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYmJcIiwgW1wiYWZcIiwgXCJiY1wiLCBcImJkXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJlYWN0RWxlbWVudCA9ICRfX3JlcXVpcmUoJ2FmJyk7XG4gICAgdmFyIFJlYWN0RWxlbWVudFZhbGlkYXRvciA9ICRfX3JlcXVpcmUoJ2JjJyk7XG4gICAgdmFyIG1hcE9iamVjdCA9ICRfX3JlcXVpcmUoJ2JkJyk7XG4gICAgZnVuY3Rpb24gY3JlYXRlRE9NRmFjdG9yeSh0YWcpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRmFjdG9yeSh0YWcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5KHRhZyk7XG4gICAgfVxuICAgIHZhciBSZWFjdERPTUZhY3RvcmllcyA9IG1hcE9iamVjdCh7XG4gICAgICBhOiAnYScsXG4gICAgICBhYmJyOiAnYWJicicsXG4gICAgICBhZGRyZXNzOiAnYWRkcmVzcycsXG4gICAgICBhcmVhOiAnYXJlYScsXG4gICAgICBhcnRpY2xlOiAnYXJ0aWNsZScsXG4gICAgICBhc2lkZTogJ2FzaWRlJyxcbiAgICAgIGF1ZGlvOiAnYXVkaW8nLFxuICAgICAgYjogJ2InLFxuICAgICAgYmFzZTogJ2Jhc2UnLFxuICAgICAgYmRpOiAnYmRpJyxcbiAgICAgIGJkbzogJ2JkbycsXG4gICAgICBiaWc6ICdiaWcnLFxuICAgICAgYmxvY2txdW90ZTogJ2Jsb2NrcXVvdGUnLFxuICAgICAgYm9keTogJ2JvZHknLFxuICAgICAgYnI6ICdicicsXG4gICAgICBidXR0b246ICdidXR0b24nLFxuICAgICAgY2FudmFzOiAnY2FudmFzJyxcbiAgICAgIGNhcHRpb246ICdjYXB0aW9uJyxcbiAgICAgIGNpdGU6ICdjaXRlJyxcbiAgICAgIGNvZGU6ICdjb2RlJyxcbiAgICAgIGNvbDogJ2NvbCcsXG4gICAgICBjb2xncm91cDogJ2NvbGdyb3VwJyxcbiAgICAgIGRhdGE6ICdkYXRhJyxcbiAgICAgIGRhdGFsaXN0OiAnZGF0YWxpc3QnLFxuICAgICAgZGQ6ICdkZCcsXG4gICAgICBkZWw6ICdkZWwnLFxuICAgICAgZGV0YWlsczogJ2RldGFpbHMnLFxuICAgICAgZGZuOiAnZGZuJyxcbiAgICAgIGRpYWxvZzogJ2RpYWxvZycsXG4gICAgICBkaXY6ICdkaXYnLFxuICAgICAgZGw6ICdkbCcsXG4gICAgICBkdDogJ2R0JyxcbiAgICAgIGVtOiAnZW0nLFxuICAgICAgZW1iZWQ6ICdlbWJlZCcsXG4gICAgICBmaWVsZHNldDogJ2ZpZWxkc2V0JyxcbiAgICAgIGZpZ2NhcHRpb246ICdmaWdjYXB0aW9uJyxcbiAgICAgIGZpZ3VyZTogJ2ZpZ3VyZScsXG4gICAgICBmb290ZXI6ICdmb290ZXInLFxuICAgICAgZm9ybTogJ2Zvcm0nLFxuICAgICAgaDE6ICdoMScsXG4gICAgICBoMjogJ2gyJyxcbiAgICAgIGgzOiAnaDMnLFxuICAgICAgaDQ6ICdoNCcsXG4gICAgICBoNTogJ2g1JyxcbiAgICAgIGg2OiAnaDYnLFxuICAgICAgaGVhZDogJ2hlYWQnLFxuICAgICAgaGVhZGVyOiAnaGVhZGVyJyxcbiAgICAgIGhncm91cDogJ2hncm91cCcsXG4gICAgICBocjogJ2hyJyxcbiAgICAgIGh0bWw6ICdodG1sJyxcbiAgICAgIGk6ICdpJyxcbiAgICAgIGlmcmFtZTogJ2lmcmFtZScsXG4gICAgICBpbWc6ICdpbWcnLFxuICAgICAgaW5wdXQ6ICdpbnB1dCcsXG4gICAgICBpbnM6ICdpbnMnLFxuICAgICAga2JkOiAna2JkJyxcbiAgICAgIGtleWdlbjogJ2tleWdlbicsXG4gICAgICBsYWJlbDogJ2xhYmVsJyxcbiAgICAgIGxlZ2VuZDogJ2xlZ2VuZCcsXG4gICAgICBsaTogJ2xpJyxcbiAgICAgIGxpbms6ICdsaW5rJyxcbiAgICAgIG1haW46ICdtYWluJyxcbiAgICAgIG1hcDogJ21hcCcsXG4gICAgICBtYXJrOiAnbWFyaycsXG4gICAgICBtZW51OiAnbWVudScsXG4gICAgICBtZW51aXRlbTogJ21lbnVpdGVtJyxcbiAgICAgIG1ldGE6ICdtZXRhJyxcbiAgICAgIG1ldGVyOiAnbWV0ZXInLFxuICAgICAgbmF2OiAnbmF2JyxcbiAgICAgIG5vc2NyaXB0OiAnbm9zY3JpcHQnLFxuICAgICAgb2JqZWN0OiAnb2JqZWN0JyxcbiAgICAgIG9sOiAnb2wnLFxuICAgICAgb3B0Z3JvdXA6ICdvcHRncm91cCcsXG4gICAgICBvcHRpb246ICdvcHRpb24nLFxuICAgICAgb3V0cHV0OiAnb3V0cHV0JyxcbiAgICAgIHA6ICdwJyxcbiAgICAgIHBhcmFtOiAncGFyYW0nLFxuICAgICAgcGljdHVyZTogJ3BpY3R1cmUnLFxuICAgICAgcHJlOiAncHJlJyxcbiAgICAgIHByb2dyZXNzOiAncHJvZ3Jlc3MnLFxuICAgICAgcTogJ3EnLFxuICAgICAgcnA6ICdycCcsXG4gICAgICBydDogJ3J0JyxcbiAgICAgIHJ1Ynk6ICdydWJ5JyxcbiAgICAgIHM6ICdzJyxcbiAgICAgIHNhbXA6ICdzYW1wJyxcbiAgICAgIHNjcmlwdDogJ3NjcmlwdCcsXG4gICAgICBzZWN0aW9uOiAnc2VjdGlvbicsXG4gICAgICBzZWxlY3Q6ICdzZWxlY3QnLFxuICAgICAgc21hbGw6ICdzbWFsbCcsXG4gICAgICBzb3VyY2U6ICdzb3VyY2UnLFxuICAgICAgc3BhbjogJ3NwYW4nLFxuICAgICAgc3Ryb25nOiAnc3Ryb25nJyxcbiAgICAgIHN0eWxlOiAnc3R5bGUnLFxuICAgICAgc3ViOiAnc3ViJyxcbiAgICAgIHN1bW1hcnk6ICdzdW1tYXJ5JyxcbiAgICAgIHN1cDogJ3N1cCcsXG4gICAgICB0YWJsZTogJ3RhYmxlJyxcbiAgICAgIHRib2R5OiAndGJvZHknLFxuICAgICAgdGQ6ICd0ZCcsXG4gICAgICB0ZXh0YXJlYTogJ3RleHRhcmVhJyxcbiAgICAgIHRmb290OiAndGZvb3QnLFxuICAgICAgdGg6ICd0aCcsXG4gICAgICB0aGVhZDogJ3RoZWFkJyxcbiAgICAgIHRpbWU6ICd0aW1lJyxcbiAgICAgIHRpdGxlOiAndGl0bGUnLFxuICAgICAgdHI6ICd0cicsXG4gICAgICB0cmFjazogJ3RyYWNrJyxcbiAgICAgIHU6ICd1JyxcbiAgICAgIHVsOiAndWwnLFxuICAgICAgJ3Zhcic6ICd2YXInLFxuICAgICAgdmlkZW86ICd2aWRlbycsXG4gICAgICB3YnI6ICd3YnInLFxuICAgICAgY2lyY2xlOiAnY2lyY2xlJyxcbiAgICAgIGNsaXBQYXRoOiAnY2xpcFBhdGgnLFxuICAgICAgZGVmczogJ2RlZnMnLFxuICAgICAgZWxsaXBzZTogJ2VsbGlwc2UnLFxuICAgICAgZzogJ2cnLFxuICAgICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgICBsaW5lOiAnbGluZScsXG4gICAgICBsaW5lYXJHcmFkaWVudDogJ2xpbmVhckdyYWRpZW50JyxcbiAgICAgIG1hc2s6ICdtYXNrJyxcbiAgICAgIHBhdGg6ICdwYXRoJyxcbiAgICAgIHBhdHRlcm46ICdwYXR0ZXJuJyxcbiAgICAgIHBvbHlnb246ICdwb2x5Z29uJyxcbiAgICAgIHBvbHlsaW5lOiAncG9seWxpbmUnLFxuICAgICAgcmFkaWFsR3JhZGllbnQ6ICdyYWRpYWxHcmFkaWVudCcsXG4gICAgICByZWN0OiAncmVjdCcsXG4gICAgICBzdG9wOiAnc3RvcCcsXG4gICAgICBzdmc6ICdzdmcnLFxuICAgICAgdGV4dDogJ3RleHQnLFxuICAgICAgdHNwYW46ICd0c3BhbidcbiAgICB9LCBjcmVhdGVET01GYWN0b3J5KTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NRmFjdG9yaWVzO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJiOVwiLCBbXCI1OFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGtleU1pcnJvciA9ICRfX3JlcXVpcmUoJzU4Jyk7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0ga2V5TWlycm9yKHtcbiAgICBwcm9wOiBudWxsLFxuICAgIGNvbnRleHQ6IG51bGwsXG4gICAgY2hpbGRDb250ZXh0OiBudWxsXG4gIH0pO1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbnM7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYmNcIiwgW1wiYWZcIiwgXCJiOVwiLCBcImJhXCIsIFwiYWVcIiwgXCJiN1wiLCBcImIwXCIsIFwiMzBcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdEVsZW1lbnQgPSAkX19yZXF1aXJlKCdhZicpO1xuICAgIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0gJF9fcmVxdWlyZSgnYjknKTtcbiAgICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSAkX19yZXF1aXJlKCdiYScpO1xuICAgIHZhciBSZWFjdEN1cnJlbnRPd25lciA9ICRfX3JlcXVpcmUoJ2FlJyk7XG4gICAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gJF9fcmVxdWlyZSgnYjcnKTtcbiAgICB2YXIgZ2V0SXRlcmF0b3JGbiA9ICRfX3JlcXVpcmUoJ2IwJyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIGZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpIHtcbiAgICAgIGlmIChSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgICAgIHZhciBuYW1lID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC5nZXROYW1lKCk7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICB2YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4gICAgdmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICAgICAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgdmFyIGFkZGVuZGEgPSBnZXRBZGRlbmRhRm9yS2V5VXNlKCd1bmlxdWVLZXknLCBlbGVtZW50LCBwYXJlbnRUeXBlKTtcbiAgICAgIGlmIChhZGRlbmRhID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRWFjaCBjaGlsZCBpbiBhbiBhcnJheSBvciBpdGVyYXRvciBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJyArICclcyVzJXMnLCBhZGRlbmRhLnBhcmVudE9yT3duZXIgfHwgJycsIGFkZGVuZGEuY2hpbGRPd25lciB8fCAnJywgYWRkZW5kYS51cmwgfHwgJycpIDogdm9pZCAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRBZGRlbmRhRm9yS2V5VXNlKG1lc3NhZ2VUeXBlLCBlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gICAgICB2YXIgYWRkZW5kdW0gPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKTtcbiAgICAgIGlmICghYWRkZW5kdW0pIHtcbiAgICAgICAgdmFyIHBhcmVudE5hbWUgPSB0eXBlb2YgcGFyZW50VHlwZSA9PT0gJ3N0cmluZycgPyBwYXJlbnRUeXBlIDogcGFyZW50VHlwZS5kaXNwbGF5TmFtZSB8fCBwYXJlbnRUeXBlLm5hbWU7XG4gICAgICAgIGlmIChwYXJlbnROYW1lKSB7XG4gICAgICAgICAgYWRkZW5kdW0gPSAnIENoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPCcgKyBwYXJlbnROYW1lICsgJz4uJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIG1lbW9pemVyID0gb3duZXJIYXNLZXlVc2VXYXJuaW5nW21lc3NhZ2VUeXBlXSB8fCAob3duZXJIYXNLZXlVc2VXYXJuaW5nW21lc3NhZ2VUeXBlXSA9IHt9KTtcbiAgICAgIGlmIChtZW1vaXplclthZGRlbmR1bV0pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBtZW1vaXplclthZGRlbmR1bV0gPSB0cnVlO1xuICAgICAgdmFyIGFkZGVuZGEgPSB7XG4gICAgICAgIHBhcmVudE9yT3duZXI6IGFkZGVuZHVtLFxuICAgICAgICB1cmw6ICcgU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsXG4gICAgICAgIGNoaWxkT3duZXI6IG51bGxcbiAgICAgIH07XG4gICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgICBhZGRlbmRhLmNoaWxkT3duZXIgPSAnIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tICcgKyBlbGVtZW50Ll9vd25lci5nZXROYW1lKCkgKyAnLic7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWRkZW5kYTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSwgcGFyZW50VHlwZSkge1xuICAgICAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuICAgICAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KGNoaWxkLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgIGlmIChub2RlLl9zdG9yZSkge1xuICAgICAgICAgIG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSkge1xuICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG4gICAgICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IG5vZGUuZW50cmllcykge1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KHN0ZXAudmFsdWUsIHBhcmVudFR5cGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKGNvbXBvbmVudE5hbWUsIHByb3BUeXBlcywgcHJvcHMsIGxvY2F0aW9uKSB7XG4gICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBwcm9wVHlwZXMpIHtcbiAgICAgICAgaWYgKHByb3BUeXBlcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICEodHlwZW9mIHByb3BUeXBlc1twcm9wTmFtZV0gPT09ICdmdW5jdGlvbicpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzOiAlcyB0eXBlIGAlc2AgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gJyArICdSZWFjdC5Qcm9wVHlwZXMuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICBlcnJvciA9IHByb3BUeXBlc1twcm9wTmFtZV0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbik7XG4gICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIGVycm9yID0gZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFlcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIEVycm9yLCAnJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcyBgJXNgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAlcy4gJyArICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICsgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lLCB0eXBlb2YgZXJyb3IpIDogdm9pZCAwO1xuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGFkZGVuZHVtID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ZhaWxlZCBwcm9wVHlwZTogJXMlcycsIGVycm9yLm1lc3NhZ2UsIGFkZGVuZHVtKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCkge1xuICAgICAgdmFyIGNvbXBvbmVudENsYXNzID0gZWxlbWVudC50eXBlO1xuICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnRDbGFzcyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbmFtZSA9IGNvbXBvbmVudENsYXNzLmRpc3BsYXlOYW1lIHx8IGNvbXBvbmVudENsYXNzLm5hbWU7XG4gICAgICBpZiAoY29tcG9uZW50Q2xhc3MucHJvcFR5cGVzKSB7XG4gICAgICAgIGNoZWNrUHJvcFR5cGVzKG5hbWUsIGNvbXBvbmVudENsYXNzLnByb3BUeXBlcywgZWxlbWVudC5wcm9wcywgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5wcm9wKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50Q2xhc3MuZ2V0RGVmYXVsdFByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGNvbXBvbmVudENsYXNzLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZCwgJ2dldERlZmF1bHRQcm9wcyBpcyBvbmx5IHVzZWQgb24gY2xhc3NpYyBSZWFjdC5jcmVhdGVDbGFzcyAnICsgJ2RlZmluaXRpb25zLiBVc2UgYSBzdGF0aWMgcHJvcGVydHkgbmFtZWQgYGRlZmF1bHRQcm9wc2AgaW5zdGVhZC4nKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFJlYWN0RWxlbWVudFZhbGlkYXRvciA9IHtcbiAgICAgIGNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKHR5cGUsIHByb3BzLCBjaGlsZHJlbikge1xuICAgICAgICB2YXIgdmFsaWRUeXBlID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh2YWxpZFR5cGUsICdSZWFjdC5jcmVhdGVFbGVtZW50OiB0eXBlIHNob3VsZCBub3QgYmUgbnVsbCwgdW5kZWZpbmVkLCBib29sZWFuLCBvciAnICsgJ251bWJlci4gSXQgc2hvdWxkIGJlIGEgc3RyaW5nIChmb3IgRE9NIGVsZW1lbnRzKSBvciBhIFJlYWN0Q2xhc3MgJyArICcoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKS4lcycsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpKSA6IHZvaWQgMDtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRWxlbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbGlkVHlwZSkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNbaV0sIHR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9LFxuICAgICAgY3JlYXRlRmFjdG9yeTogZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB2YXIgdmFsaWRhdGVkRmFjdG9yeSA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVFbGVtZW50LmJpbmQobnVsbCwgdHlwZSk7XG4gICAgICAgIHZhbGlkYXRlZEZhY3RvcnkudHlwZSA9IHR5cGU7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodmFsaWRhdGVkRmFjdG9yeSwgJ3R5cGUnLCB7XG4gICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRmFjdG9yeS50eXBlIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB0aGUgY2xhc3MgZGlyZWN0bHkgJyArICdiZWZvcmUgcGFzc2luZyBpdCB0byBjcmVhdGVGYWN0b3J5LicpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndHlwZScsIHt2YWx1ZTogdHlwZX0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZhY3Rvcnk7XG4gICAgICB9LFxuICAgICAgY2xvbmVFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBwcm9wcywgY2hpbGRyZW4pIHtcbiAgICAgICAgdmFyIG5ld0VsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY2xvbmVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCBuZXdFbGVtZW50LnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhbGlkYXRlUHJvcFR5cGVzKG5ld0VsZW1lbnQpO1xuICAgICAgICByZXR1cm4gbmV3RWxlbWVudDtcbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RFbGVtZW50VmFsaWRhdG9yO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJiYVwiLCBbXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSB7fTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSB7XG4gICAgICAgIHByb3A6ICdwcm9wJyxcbiAgICAgICAgY29udGV4dDogJ2NvbnRleHQnLFxuICAgICAgICBjaGlsZENvbnRleHQ6ICdjaGlsZCBjb250ZXh0J1xuICAgICAgfTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYjBcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBJVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcbiAgdmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IG1heWJlSXRlcmFibGUgJiYgKElURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF0pO1xuICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZ2V0SXRlcmF0b3JGbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJiZVwiLCBbXCJhZlwiLCBcImJhXCIsIFwiNDhcIiwgXCJiMFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIFJlYWN0RWxlbWVudCA9ICRfX3JlcXVpcmUoJ2FmJyk7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9ICRfX3JlcXVpcmUoJ2JhJyk7XG4gIHZhciBlbXB0eUZ1bmN0aW9uID0gJF9fcmVxdWlyZSgnNDgnKTtcbiAgdmFyIGdldEl0ZXJhdG9yRm4gPSAkX19yZXF1aXJlKCdiMCcpO1xuICB2YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdhcnJheScpLFxuICAgIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG4gICAgZnVuYzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG4gICAgbnVtYmVyOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignbnVtYmVyJyksXG4gICAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG4gICAgc3RyaW5nOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3RyaW5nJyksXG4gICAgYW55OiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpLFxuICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcbiAgICBlbGVtZW50OiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSxcbiAgICBpbnN0YW5jZU9mOiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyLFxuICAgIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG4gICAgb2JqZWN0T2Y6IGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIsXG4gICAgb25lT2Y6IGNyZWF0ZUVudW1UeXBlQ2hlY2tlcixcbiAgICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG4gICAgc2hhcGU6IGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXJcbiAgfTtcbiAgZnVuY3Rpb24gaXMoeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKSB7XG4gICAgZnVuY3Rpb24gY2hlY2tUeXBlKGlzUmVxdWlyZWQsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICAgIGlmIChpc1JlcXVpcmVkKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignUmVxdWlyZWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCB3YXMgbm90IHNwZWNpZmllZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNoYWluZWRDaGVja1R5cGUgPSBjaGVja1R5cGUuYmluZChudWxsLCBmYWxzZSk7XG4gICAgY2hhaW5lZENoZWNrVHlwZS5pc1JlcXVpcmVkID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgdHJ1ZSk7XG4gICAgcmV0dXJuIGNoYWluZWRDaGVja1R5cGU7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoZXhwZWN0ZWRUeXBlKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gZXhwZWN0ZWRUeXBlKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICAgIHZhciBwcmVjaXNlVHlwZSA9IGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJlY2lzZVR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2AnICsgZXhwZWN0ZWRUeXBlICsgJ2AuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlQW55VHlwZUNoZWNrZXIoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMobnVsbCkpO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgYXJyYXlPZi4nKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScpO1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKCFSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQocHJvcHNbcHJvcE5hbWVdKSkge1xuICAgICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgc2luZ2xlIFJlYWN0RWxlbWVudC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICghKHByb3BzW3Byb3BOYW1lXSBpbnN0YW5jZW9mIGV4cGVjdGVkQ2xhc3MpKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICAgIHZhciBleHBlY3RlZENsYXNzTmFtZSA9IGV4cGVjdGVkQ2xhc3MubmFtZSB8fCBBTk9OWU1PVVM7XG4gICAgICAgIHZhciBhY3R1YWxDbGFzc05hbWUgPSBnZXRDbGFzc05hbWUocHJvcHNbcHJvcE5hbWVdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBhY3R1YWxDbGFzc05hbWUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2luc3RhbmNlIG9mIGAnICsgZXhwZWN0ZWRDbGFzc05hbWUgKyAnYC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIoZXhwZWN0ZWRWYWx1ZXMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhwZWN0ZWRWYWx1ZXMpKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlzKHByb3BWYWx1ZSwgZXhwZWN0ZWRWYWx1ZXNbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICB2YXIgdmFsdWVzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZXhwZWN0ZWRWYWx1ZXMpO1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHZhbHVlIGAnICsgcHJvcFZhbHVlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIG9uZSBvZiAnICsgdmFsdWVzU3RyaW5nICsgJy4nKSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgb2JqZWN0T2YuJyk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBvYmplY3QuJykpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHByb3BWYWx1ZSkge1xuICAgICAgICBpZiAocHJvcFZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSk7XG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIoYXJyYXlPZlR5cGVDaGVja2Vycykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheU9mVHlwZUNoZWNrZXJzKSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuICAgICAgICBpZiAoY2hlY2tlcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nKSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAoIWlzTm9kZShwcm9wc1twcm9wTmFtZV0pKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBSZWFjdE5vZGUuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc2hhcGVUeXBlcykge1xuICAgICAgICB2YXIgY2hlY2tlciA9IHNoYXBlVHlwZXNba2V5XTtcbiAgICAgICAgaWYgKCFjaGVja2VyKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gaXNOb2RlKHByb3BWYWx1ZSkge1xuICAgIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4gIXByb3BWYWx1ZTtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcFZhbHVlLmV2ZXJ5KGlzTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihwcm9wVmFsdWUpO1xuICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuICAgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICBpZiAoIWlzTm9kZShzdGVwLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldFByb3BUeXBlKHByb3BWYWx1ZSkge1xuICAgIHZhciBwcm9wVHlwZSA9IHR5cGVvZiBwcm9wVmFsdWU7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgcmV0dXJuICdhcnJheSc7XG4gICAgfVxuICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIHJldHVybiAnb2JqZWN0JztcbiAgICB9XG4gICAgcmV0dXJuIHByb3BUeXBlO1xuICB9XG4gIGZ1bmN0aW9uIGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSkge1xuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuICdkYXRlJztcbiAgICAgIH0gZWxzZSBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIHJldHVybiAncmVnZXhwJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BUeXBlO1xuICB9XG4gIGZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcbiAgICBpZiAoIXByb3BWYWx1ZS5jb25zdHJ1Y3RvciB8fCAhcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpIHtcbiAgICAgIHJldHVybiBBTk9OWU1PVVM7XG4gICAgfVxuICAgIHJldHVybiBwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImJmXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICcxNS4wLjInO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImFlXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSB7Y3VycmVudDogbnVsbH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDdXJyZW50T3duZXI7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYjdcIiwgW1wiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gZmFsc2U7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3gnLCB7Z2V0OiBmdW5jdGlvbigpIHt9fSk7XG4gICAgICAgIGNhbkRlZmluZVByb3BlcnR5ID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gY2FuRGVmaW5lUHJvcGVydHk7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImFmXCIsIFtcIjZcIiwgXCJhZVwiLCBcIjIyXCIsIFwiYjdcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSAkX19yZXF1aXJlKCdhZScpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSAkX19yZXF1aXJlKCdiNycpO1xuICAgIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbFsnZm9yJ10gJiYgU3ltYm9sWydmb3InXSgncmVhY3QuZWxlbWVudCcpIHx8IDB4ZWFjNztcbiAgICB2YXIgUkVTRVJWRURfUFJPUFMgPSB7XG4gICAgICBrZXk6IHRydWUsXG4gICAgICByZWY6IHRydWUsXG4gICAgICBfX3NlbGY6IHRydWUsXG4gICAgICBfX3NvdXJjZTogdHJ1ZVxuICAgIH07XG4gICAgdmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duLFxuICAgICAgICBzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93bjtcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gZnVuY3Rpb24odHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgb3duZXIsIHByb3BzKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHJlZjogcmVmLFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIF9vd25lcjogb3duZXJcbiAgICAgIH07XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBlbGVtZW50Ll9zdG9yZSA9IHt9O1xuICAgICAgICBpZiAoY2FuRGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NlbGYnLCB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogc2VsZlxuICAgICAgICAgIH0pO1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NvdXJjZScsIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBzb3VyY2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBlbGVtZW50Ll9zZWxmID0gc2VsZjtcbiAgICAgICAgICBlbGVtZW50Ll9zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5mcmVlemUpIHtcbiAgICAgICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgICAgIE9iamVjdC5mcmVlemUoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH07XG4gICAgUmVhY3RFbGVtZW50LmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbih0eXBlLCBjb25maWcsIGNoaWxkcmVuKSB7XG4gICAgICB2YXIgcHJvcE5hbWU7XG4gICAgICB2YXIgcHJvcHMgPSB7fTtcbiAgICAgIHZhciBrZXkgPSBudWxsO1xuICAgICAgdmFyIHJlZiA9IG51bGw7XG4gICAgICB2YXIgc2VsZiA9IG51bGw7XG4gICAgICB2YXIgc291cmNlID0gbnVsbDtcbiAgICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHJlZiA9ICFjb25maWcuaGFzT3duUHJvcGVydHkoJ3JlZicpIHx8IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAncmVmJykuZ2V0ID8gbnVsbCA6IGNvbmZpZy5yZWY7XG4gICAgICAgICAga2V5ID0gIWNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgna2V5JykgfHwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQgPyBudWxsIDogJycgKyBjb25maWcua2V5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZiA9IGNvbmZpZy5yZWYgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcucmVmO1xuICAgICAgICAgIGtleSA9IGNvbmZpZy5rZXkgPT09IHVuZGVmaW5lZCA/IG51bGwgOiAnJyArIGNvbmZpZy5rZXk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZiA9IGNvbmZpZy5fX3NlbGYgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zZWxmO1xuICAgICAgICBzb3VyY2UgPSBjb25maWcuX19zb3VyY2UgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zb3VyY2U7XG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKSB7XG4gICAgICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICAgICAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgICAgIH1cbiAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuICAgICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvcHMuJCR0eXBlb2YgPT09ICd1bmRlZmluZWQnIHx8IHByb3BzLiQkdHlwZW9mICE9PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgICBpZiAoIXByb3BzLmhhc093blByb3BlcnR5KCdrZXknKSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAna2V5Jywge1xuICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24pIHtcbiAgICAgICAgICAgICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL2ZiLm1lL3JlYWN0LXNwZWNpYWwtcHJvcHMpJywgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgJiYgJ2Rpc3BsYXlOYW1lJyBpbiB0eXBlID8gdHlwZS5kaXNwbGF5TmFtZSA6ICdFbGVtZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghcHJvcHMuaGFzT3duUHJvcGVydHkoJ3JlZicpKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdyZWYnLCB7XG4gICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93bikge1xuICAgICAgICAgICAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclczogYHJlZmAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vZmIubWUvcmVhY3Qtc3BlY2lhbC1wcm9wcyknLCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiAnZGlzcGxheU5hbWUnIGluIHR5cGUgPyB0eXBlLmRpc3BsYXlOYW1lIDogJ0VsZW1lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xuICAgIH07XG4gICAgUmVhY3RFbGVtZW50LmNyZWF0ZUZhY3RvcnkgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgICB2YXIgZmFjdG9yeSA9IFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50LmJpbmQobnVsbCwgdHlwZSk7XG4gICAgICBmYWN0b3J5LnR5cGUgPSB0eXBlO1xuICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgfTtcbiAgICBSZWFjdEVsZW1lbnQuY2xvbmVBbmRSZXBsYWNlS2V5ID0gZnVuY3Rpb24ob2xkRWxlbWVudCwgbmV3S2V5KSB7XG4gICAgICB2YXIgbmV3RWxlbWVudCA9IFJlYWN0RWxlbWVudChvbGRFbGVtZW50LnR5cGUsIG5ld0tleSwgb2xkRWxlbWVudC5yZWYsIG9sZEVsZW1lbnQuX3NlbGYsIG9sZEVsZW1lbnQuX3NvdXJjZSwgb2xkRWxlbWVudC5fb3duZXIsIG9sZEVsZW1lbnQucHJvcHMpO1xuICAgICAgcmV0dXJuIG5ld0VsZW1lbnQ7XG4gICAgfTtcbiAgICBSZWFjdEVsZW1lbnQuY2xvbmVFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY29uZmlnLCBjaGlsZHJlbikge1xuICAgICAgdmFyIHByb3BOYW1lO1xuICAgICAgdmFyIHByb3BzID0gX2Fzc2lnbih7fSwgZWxlbWVudC5wcm9wcyk7XG4gICAgICB2YXIga2V5ID0gZWxlbWVudC5rZXk7XG4gICAgICB2YXIgcmVmID0gZWxlbWVudC5yZWY7XG4gICAgICB2YXIgc2VsZiA9IGVsZW1lbnQuX3NlbGY7XG4gICAgICB2YXIgc291cmNlID0gZWxlbWVudC5fc291cmNlO1xuICAgICAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5yZWYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gICAgICAgICAgb3duZXIgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBrZXkgPSAnJyArIGNvbmZpZy5rZXk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlZmF1bHRQcm9wcztcbiAgICAgICAgaWYgKGVsZW1lbnQudHlwZSAmJiBlbGVtZW50LnR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgICAgICAgZGVmYXVsdFByb3BzID0gZWxlbWVudC50eXBlLmRlZmF1bHRQcm9wcztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIGlmIChjb25maWdbcHJvcE5hbWVdID09PSB1bmRlZmluZWQgJiYgZGVmYXVsdFByb3BzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICAgIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZHJlbkxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNoaWxkQXJyYXlbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgICAgICB9XG4gICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQoZWxlbWVudC50eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpO1xuICAgIH07XG4gICAgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdEVsZW1lbnQ7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImMwXCIsIFtcImFmXCIsIFwiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gJF9fcmVxdWlyZSgnYWYnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICBmdW5jdGlvbiBvbmx5Q2hpbGQoY2hpbGRyZW4pIHtcbiAgICAgICFSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ29ubHlDaGlsZCBtdXN0IGJlIHBhc3NlZCBhIGNoaWxkcmVuIHdpdGggZXhhY3RseSBvbmUgY2hpbGQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IG9ubHlDaGlsZDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYzFcIiwgW1wiNlwiLCBcImIxXCIsIFwiYjVcIiwgXCJiOFwiLCBcImJiXCIsIFwiYWZcIiwgXCJiY1wiLCBcImJlXCIsIFwiYmZcIiwgXCJjMFwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIFJlYWN0Q2hpbGRyZW4gPSAkX19yZXF1aXJlKCdiMScpO1xuICAgIHZhciBSZWFjdENvbXBvbmVudCA9ICRfX3JlcXVpcmUoJ2I1Jyk7XG4gICAgdmFyIFJlYWN0Q2xhc3MgPSAkX19yZXF1aXJlKCdiOCcpO1xuICAgIHZhciBSZWFjdERPTUZhY3RvcmllcyA9ICRfX3JlcXVpcmUoJ2JiJyk7XG4gICAgdmFyIFJlYWN0RWxlbWVudCA9ICRfX3JlcXVpcmUoJ2FmJyk7XG4gICAgdmFyIFJlYWN0RWxlbWVudFZhbGlkYXRvciA9ICRfX3JlcXVpcmUoJ2JjJyk7XG4gICAgdmFyIFJlYWN0UHJvcFR5cGVzID0gJF9fcmVxdWlyZSgnYmUnKTtcbiAgICB2YXIgUmVhY3RWZXJzaW9uID0gJF9fcmVxdWlyZSgnYmYnKTtcbiAgICB2YXIgb25seUNoaWxkID0gJF9fcmVxdWlyZSgnYzAnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRWxlbWVudDtcbiAgICB2YXIgY3JlYXRlRmFjdG9yeSA9IFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5O1xuICAgIHZhciBjbG9uZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY2xvbmVFbGVtZW50O1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjcmVhdGVFbGVtZW50ID0gUmVhY3RFbGVtZW50VmFsaWRhdG9yLmNyZWF0ZUVsZW1lbnQ7XG4gICAgICBjcmVhdGVGYWN0b3J5ID0gUmVhY3RFbGVtZW50VmFsaWRhdG9yLmNyZWF0ZUZhY3Rvcnk7XG4gICAgICBjbG9uZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY2xvbmVFbGVtZW50O1xuICAgIH1cbiAgICB2YXIgX19zcHJlYWQgPSBfYXNzaWduO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgd2FybmVkID0gZmFsc2U7XG4gICAgICBfX3NwcmVhZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh3YXJuZWQsICdSZWFjdC5fX3NwcmVhZCBpcyBkZXByZWNhdGVkIGFuZCBzaG91bGQgbm90IGJlIHVzZWQuIFVzZSAnICsgJ09iamVjdC5hc3NpZ24gZGlyZWN0bHkgb3IgYW5vdGhlciBoZWxwZXIgZnVuY3Rpb24gd2l0aCBzaW1pbGFyICcgKyAnc2VtYW50aWNzLiBZb3UgbWF5IGJlIHNlZWluZyB0aGlzIHdhcm5pbmcgZHVlIHRvIHlvdXIgY29tcGlsZXIuICcgKyAnU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtc3ByZWFkLWRlcHJlY2F0aW9uIGZvciBtb3JlIGRldGFpbHMuJykgOiB2b2lkIDA7XG4gICAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBfYXNzaWduLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgUmVhY3QgPSB7XG4gICAgICBDaGlsZHJlbjoge1xuICAgICAgICBtYXA6IFJlYWN0Q2hpbGRyZW4ubWFwLFxuICAgICAgICBmb3JFYWNoOiBSZWFjdENoaWxkcmVuLmZvckVhY2gsXG4gICAgICAgIGNvdW50OiBSZWFjdENoaWxkcmVuLmNvdW50LFxuICAgICAgICB0b0FycmF5OiBSZWFjdENoaWxkcmVuLnRvQXJyYXksXG4gICAgICAgIG9ubHk6IG9ubHlDaGlsZFxuICAgICAgfSxcbiAgICAgIENvbXBvbmVudDogUmVhY3RDb21wb25lbnQsXG4gICAgICBjcmVhdGVFbGVtZW50OiBjcmVhdGVFbGVtZW50LFxuICAgICAgY2xvbmVFbGVtZW50OiBjbG9uZUVsZW1lbnQsXG4gICAgICBpc1ZhbGlkRWxlbWVudDogUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50LFxuICAgICAgUHJvcFR5cGVzOiBSZWFjdFByb3BUeXBlcyxcbiAgICAgIGNyZWF0ZUNsYXNzOiBSZWFjdENsYXNzLmNyZWF0ZUNsYXNzLFxuICAgICAgY3JlYXRlRmFjdG9yeTogY3JlYXRlRmFjdG9yeSxcbiAgICAgIGNyZWF0ZU1peGluOiBmdW5jdGlvbihtaXhpbikge1xuICAgICAgICByZXR1cm4gbWl4aW47XG4gICAgICB9LFxuICAgICAgRE9NOiBSZWFjdERPTUZhY3RvcmllcyxcbiAgICAgIHZlcnNpb246IFJlYWN0VmVyc2lvbixcbiAgICAgIF9fc3ByZWFkOiBfX3NwcmVhZFxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYzJcIiwgW1wiYzFcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnYzEnKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJhYVwiLCBbXCJjMlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJ2MyJyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYThcIiwgW1wiYWFcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIHZhciBfcmVhY3QgPSAkX19yZXF1aXJlKCdhYScpO1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9yZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xuICAgIHN1YnNjcmliZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgZGlzcGF0Y2g6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIGdldFN0YXRlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxuICB9KTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJjM1wiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBzaGFsbG93RXF1YWw7XG4gIGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gICAgaWYgKG9iakEgPT09IG9iakIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKTtcbiAgICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcbiAgICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFoYXNPd24uY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgb2JqQVtrZXlzQVtpXV0gIT09IG9iakJba2V5c0FbaV1dKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJjNFwiLCBbXCJjNVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB3cmFwQWN0aW9uQ3JlYXRvcnM7XG4gIHZhciBfcmVkdXggPSAkX19yZXF1aXJlKCdjNScpO1xuICBmdW5jdGlvbiB3cmFwQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZGlzcGF0Y2gpIHtcbiAgICAgIHJldHVybiAoMCwgX3JlZHV4LmJpbmRBY3Rpb25DcmVhdG9ycykoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYTlcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd2FybmluZztcbiAgZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYzZcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBSRUFDVF9TVEFUSUNTID0ge1xuICAgIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcbiAgICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgZGlzcGxheU5hbWU6IHRydWUsXG4gICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIG1peGluczogdHJ1ZSxcbiAgICBwcm9wVHlwZXM6IHRydWUsXG4gICAgdHlwZTogdHJ1ZVxuICB9O1xuICB2YXIgS05PV05fU1RBVElDUyA9IHtcbiAgICBuYW1lOiB0cnVlLFxuICAgIGxlbmd0aDogdHJ1ZSxcbiAgICBwcm90b3R5cGU6IHRydWUsXG4gICAgY2FsbGVyOiB0cnVlLFxuICAgIGFyZ3VtZW50czogdHJ1ZSxcbiAgICBhcml0eTogdHJ1ZVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgc291cmNlQ29tcG9uZW50KSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgaWYgKCFSRUFDVF9TVEFUSUNTW2tleXNbaV1dICYmICFLTk9XTl9TVEFUSUNTW2tleXNbaV1dKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGFyZ2V0Q29tcG9uZW50W2tleXNbaV1dID0gc291cmNlQ29tcG9uZW50W2tleXNbaV1dO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge31cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJjN1wiLCBbXCJjNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJ2M2Jyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYzhcIiwgW1wiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgICAgICB9XG4gICAgICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYzlcIiwgW1wiYzhcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCdjOCcpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImNhXCIsIFtcImFhXCIsIFwiYThcIiwgXCJjM1wiLCBcImM0XCIsIFwiYTlcIiwgXCJjYlwiLCBcImM3XCIsIFwiYzlcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuICAgIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gICAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb25uZWN0O1xuICAgIHZhciBfcmVhY3QgPSAkX19yZXF1aXJlKCdhYScpO1xuICAgIHZhciBfc3RvcmVTaGFwZSA9ICRfX3JlcXVpcmUoJ2E4Jyk7XG4gICAgdmFyIF9zdG9yZVNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0b3JlU2hhcGUpO1xuICAgIHZhciBfc2hhbGxvd0VxdWFsID0gJF9fcmVxdWlyZSgnYzMnKTtcbiAgICB2YXIgX3NoYWxsb3dFcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaGFsbG93RXF1YWwpO1xuICAgIHZhciBfd3JhcEFjdGlvbkNyZWF0b3JzID0gJF9fcmVxdWlyZSgnYzQnKTtcbiAgICB2YXIgX3dyYXBBY3Rpb25DcmVhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93cmFwQWN0aW9uQ3JlYXRvcnMpO1xuICAgIHZhciBfd2FybmluZyA9ICRfX3JlcXVpcmUoJ2E5Jyk7XG4gICAgdmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuICAgIHZhciBfaXNQbGFpbk9iamVjdCA9ICRfX3JlcXVpcmUoJ2NiJyk7XG4gICAgdmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuICAgIHZhciBfaG9pc3ROb25SZWFjdFN0YXRpY3MgPSAkX19yZXF1aXJlKCdjNycpO1xuICAgIHZhciBfaG9pc3ROb25SZWFjdFN0YXRpY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9pc3ROb25SZWFjdFN0YXRpY3MpO1xuICAgIHZhciBfaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnYzknKTtcbiAgICB2YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1wiZGVmYXVsdFwiOiBvYmp9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgICBpZiAoIXNlbGYpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgICAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgICAgIH1cbiAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge2NvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9fSk7XG4gICAgICBpZiAoc3VwZXJDbGFzcylcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gICAgfVxuICAgIHZhciBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gZGVmYXVsdE1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH07XG4gICAgdmFyIGRlZmF1bHRNYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gICAgICByZXR1cm4ge2Rpc3BhdGNoOiBkaXNwYXRjaH07XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdE1lcmdlUHJvcHMgPSBmdW5jdGlvbiBkZWZhdWx0TWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykge1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwYXJlbnRQcm9wcywgc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcyk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gV3JhcHBlZENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBXcmFwcGVkQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCc7XG4gICAgfVxuICAgIHZhciBlcnJvck9iamVjdCA9IHt2YWx1ZTogbnVsbH07XG4gICAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIGN0eCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGN0eCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGVycm9yT2JqZWN0LnZhbHVlID0gZTtcbiAgICAgICAgcmV0dXJuIGVycm9yT2JqZWN0O1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbmV4dFZlcnNpb24gPSAwO1xuICAgIGZ1bmN0aW9uIGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbM107XG4gICAgICB2YXIgc2hvdWxkU3Vic2NyaWJlID0gQm9vbGVhbihtYXBTdGF0ZVRvUHJvcHMpO1xuICAgICAgdmFyIG1hcFN0YXRlID0gbWFwU3RhdGVUb1Byb3BzIHx8IGRlZmF1bHRNYXBTdGF0ZVRvUHJvcHM7XG4gICAgICB2YXIgbWFwRGlzcGF0Y2ggPSB1bmRlZmluZWQ7XG4gICAgICBpZiAodHlwZW9mIG1hcERpc3BhdGNoVG9Qcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBtYXBEaXNwYXRjaCA9IG1hcERpc3BhdGNoVG9Qcm9wcztcbiAgICAgIH0gZWxzZSBpZiAoIW1hcERpc3BhdGNoVG9Qcm9wcykge1xuICAgICAgICBtYXBEaXNwYXRjaCA9IGRlZmF1bHRNYXBEaXNwYXRjaFRvUHJvcHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBEaXNwYXRjaCA9ICgwLCBfd3JhcEFjdGlvbkNyZWF0b3JzMltcImRlZmF1bHRcIl0pKG1hcERpc3BhdGNoVG9Qcm9wcyk7XG4gICAgICB9XG4gICAgICB2YXIgZmluYWxNZXJnZVByb3BzID0gbWVyZ2VQcm9wcyB8fCBkZWZhdWx0TWVyZ2VQcm9wcztcbiAgICAgIHZhciBfb3B0aW9ucyRwdXJlID0gb3B0aW9ucy5wdXJlO1xuICAgICAgdmFyIHB1cmUgPSBfb3B0aW9ucyRwdXJlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX29wdGlvbnMkcHVyZTtcbiAgICAgIHZhciBfb3B0aW9ucyR3aXRoUmVmID0gb3B0aW9ucy53aXRoUmVmO1xuICAgICAgdmFyIHdpdGhSZWYgPSBfb3B0aW9ucyR3aXRoUmVmID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9vcHRpb25zJHdpdGhSZWY7XG4gICAgICB2YXIgY2hlY2tNZXJnZWRFcXVhbHMgPSBwdXJlICYmIGZpbmFsTWVyZ2VQcm9wcyAhPT0gZGVmYXVsdE1lcmdlUHJvcHM7XG4gICAgICB2YXIgdmVyc2lvbiA9IG5leHRWZXJzaW9uKys7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gd3JhcFdpdGhDb25uZWN0KFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIGNvbm5lY3REaXNwbGF5TmFtZSA9ICdDb25uZWN0KCcgKyBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KSArICcpJztcbiAgICAgICAgZnVuY3Rpb24gY2hlY2tTdGF0ZVNoYXBlKHByb3BzLCBtZXRob2ROYW1lKSB7XG4gICAgICAgICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkocHJvcHMpKSB7XG4gICAgICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkobWV0aG9kTmFtZSArICcoKSBpbiAnICsgY29ubmVjdERpc3BsYXlOYW1lICsgJyBtdXN0IHJldHVybiBhIHBsYWluIG9iamVjdC4gJyArICgnSW5zdGVhZCByZWNlaXZlZCAnICsgcHJvcHMgKyAnLicpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY29tcHV0ZU1lcmdlZFByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIHBhcmVudFByb3BzKSB7XG4gICAgICAgICAgdmFyIG1lcmdlZFByb3BzID0gZmluYWxNZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIHBhcmVudFByb3BzKTtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1lcmdlZFByb3BzLCAnbWVyZ2VQcm9wcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbWVyZ2VkUHJvcHM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIENvbm5lY3QgPSBmdW5jdGlvbihfQ29tcG9uZW50KSB7XG4gICAgICAgICAgX2luaGVyaXRzKENvbm5lY3QsIF9Db21wb25lbnQpO1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiAhcHVyZSB8fCB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgfHwgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZDtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGZ1bmN0aW9uIENvbm5lY3QocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb25uZWN0KTtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuICAgICAgICAgICAgX3RoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgICAgICBfdGhpcy5zdG9yZSA9IHByb3BzLnN0b3JlIHx8IGNvbnRleHQuc3RvcmU7XG4gICAgICAgICAgICAoMCwgX2ludmFyaWFudDJbXCJkZWZhdWx0XCJdKShfdGhpcy5zdG9yZSwgJ0NvdWxkIG5vdCBmaW5kIFwic3RvcmVcIiBpbiBlaXRoZXIgdGhlIGNvbnRleHQgb3IgJyArICgncHJvcHMgb2YgXCInICsgY29ubmVjdERpc3BsYXlOYW1lICsgJ1wiLiAnKSArICdFaXRoZXIgd3JhcCB0aGUgcm9vdCBjb21wb25lbnQgaW4gYSA8UHJvdmlkZXI+LCAnICsgKCdvciBleHBsaWNpdGx5IHBhc3MgXCJzdG9yZVwiIGFzIGEgcHJvcCB0byBcIicgKyBjb25uZWN0RGlzcGxheU5hbWUgKyAnXCIuJykpO1xuICAgICAgICAgICAgdmFyIHN0b3JlU3RhdGUgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgX3RoaXMuc3RhdGUgPSB7c3RvcmVTdGF0ZTogc3RvcmVTdGF0ZX07XG4gICAgICAgICAgICBfdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgICAgfVxuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXB1dGVTdGF0ZVByb3BzID0gZnVuY3Rpb24gY29tcHV0ZVN0YXRlUHJvcHMoc3RvcmUsIHByb3BzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIHZhciBzdGF0ZVByb3BzID0gdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzID8gdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgcHJvcHMpIDogdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSk7XG4gICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBjaGVja1N0YXRlU2hhcGUoc3RhdGVQcm9wcywgJ21hcFN0YXRlVG9Qcm9wcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlUHJvcHM7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb25maWd1cmVGaW5hbE1hcFN0YXRlID0gZnVuY3Rpb24gY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBtYXBwZWRTdGF0ZSA9IG1hcFN0YXRlKHN0b3JlLmdldFN0YXRlKCksIHByb3BzKTtcbiAgICAgICAgICAgIHZhciBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkU3RhdGUgPT09ICdmdW5jdGlvbic7XG4gICAgICAgICAgICB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzID0gaXNGYWN0b3J5ID8gbWFwcGVkU3RhdGUgOiBtYXBTdGF0ZTtcbiAgICAgICAgICAgIHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMubGVuZ3RoICE9PSAxO1xuICAgICAgICAgICAgaWYgKGlzRmFjdG9yeSkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRlU3RhdGVQcm9wcyhzdG9yZSwgcHJvcHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZFN0YXRlLCAnbWFwU3RhdGVUb1Byb3BzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWFwcGVkU3RhdGU7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wdXRlRGlzcGF0Y2hQcm9wcyA9IGZ1bmN0aW9uIGNvbXB1dGVEaXNwYXRjaFByb3BzKHN0b3JlLCBwcm9wcykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2goc3RvcmUsIHByb3BzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuICAgICAgICAgICAgdmFyIGRpc3BhdGNoUHJvcHMgPSB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMgPyB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoLCBwcm9wcykgOiB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKTtcbiAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShkaXNwYXRjaFByb3BzLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2hQcm9wcztcbiAgICAgICAgICB9O1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2ggPSBmdW5jdGlvbiBjb25maWd1cmVGaW5hbE1hcERpc3BhdGNoKHN0b3JlLCBwcm9wcykge1xuICAgICAgICAgICAgdmFyIG1hcHBlZERpc3BhdGNoID0gbWFwRGlzcGF0Y2goc3RvcmUuZGlzcGF0Y2gsIHByb3BzKTtcbiAgICAgICAgICAgIHZhciBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkRGlzcGF0Y2ggPT09ICdmdW5jdGlvbic7XG4gICAgICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzID0gaXNGYWN0b3J5ID8gbWFwcGVkRGlzcGF0Y2ggOiBtYXBEaXNwYXRjaDtcbiAgICAgICAgICAgIHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMubGVuZ3RoICE9PSAxO1xuICAgICAgICAgICAgaWYgKGlzRmFjdG9yeSkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyhzdG9yZSwgcHJvcHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZERpc3BhdGNoLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWFwcGVkRGlzcGF0Y2g7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBDb25uZWN0LnByb3RvdHlwZS51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQoKSB7XG4gICAgICAgICAgICB2YXIgbmV4dFN0YXRlUHJvcHMgPSB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHRoaXMuc3RvcmUsIHRoaXMucHJvcHMpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGVQcm9wcyAmJiAoMCwgX3NoYWxsb3dFcXVhbDJbXCJkZWZhdWx0XCJdKShuZXh0U3RhdGVQcm9wcywgdGhpcy5zdGF0ZVByb3BzKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlUHJvcHMgPSBuZXh0U3RhdGVQcm9wcztcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH07XG4gICAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUudXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkID0gZnVuY3Rpb24gdXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkKCkge1xuICAgICAgICAgICAgdmFyIG5leHREaXNwYXRjaFByb3BzID0gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyh0aGlzLnN0b3JlLCB0aGlzLnByb3BzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc3BhdGNoUHJvcHMgJiYgKDAsIF9zaGFsbG93RXF1YWwyW1wiZGVmYXVsdFwiXSkobmV4dERpc3BhdGNoUHJvcHMsIHRoaXMuZGlzcGF0Y2hQcm9wcykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaFByb3BzID0gbmV4dERpc3BhdGNoUHJvcHM7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLnVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkKCkge1xuICAgICAgICAgICAgdmFyIG5leHRNZXJnZWRQcm9wcyA9IGNvbXB1dGVNZXJnZWRQcm9wcyh0aGlzLnN0YXRlUHJvcHMsIHRoaXMuZGlzcGF0Y2hQcm9wcywgdGhpcy5wcm9wcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5tZXJnZWRQcm9wcyAmJiBjaGVja01lcmdlZEVxdWFscyAmJiAoMCwgX3NoYWxsb3dFcXVhbDJbXCJkZWZhdWx0XCJdKShuZXh0TWVyZ2VkUHJvcHMsIHRoaXMubWVyZ2VkUHJvcHMpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWVyZ2VkUHJvcHMgPSBuZXh0TWVyZ2VkUHJvcHM7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLmlzU3Vic2NyaWJlZCA9IGZ1bmN0aW9uIGlzU3Vic2NyaWJlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy51bnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgICB9O1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLnRyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIHRyeVN1YnNjcmliZSgpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRTdWJzY3JpYmUgJiYgIXRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IHRoaXMuc3RvcmUuc3Vic2NyaWJlKHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUudHJ5VW5zdWJzY3JpYmUgPSBmdW5jdGlvbiB0cnlVbnN1YnNjcmliZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy50cnlTdWJzY3JpYmUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgaWYgKCFwdXJlIHx8ICEoMCwgX3NoYWxsb3dFcXVhbDJbXCJkZWZhdWx0XCJdKShuZXh0UHJvcHMsIHRoaXMucHJvcHMpKSB7XG4gICAgICAgICAgICAgIHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy50cnlVbnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5jbGVhckNhY2hlID0gZnVuY3Rpb24gY2xlYXJDYWNoZSgpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hQcm9wcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnN0YXRlUHJvcHMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tZXJnZWRQcm9wcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzID0gbnVsbDtcbiAgICAgICAgICB9O1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy51bnN1YnNjcmliZSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RvcmVTdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIHZhciBwcmV2U3RvcmVTdGF0ZSA9IHRoaXMuc3RhdGUuc3RvcmVTdGF0ZTtcbiAgICAgICAgICAgIGlmIChwdXJlICYmIHByZXZTdG9yZVN0YXRlID09PSBzdG9yZVN0YXRlKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwdXJlICYmICF0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMpIHtcbiAgICAgICAgICAgICAgdmFyIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IHRyeUNhdGNoKHRoaXMudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkLCB0aGlzKTtcbiAgICAgICAgICAgICAgaWYgKCFoYXZlU3RhdGVQcm9wc0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9PT0gZXJyb3JPYmplY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gZXJyb3JPYmplY3QudmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c3RvcmVTdGF0ZTogc3RvcmVTdGF0ZX0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUuZ2V0V3JhcHBlZEluc3RhbmNlID0gZnVuY3Rpb24gZ2V0V3JhcHBlZEluc3RhbmNlKCkge1xuICAgICAgICAgICAgKDAsIF9pbnZhcmlhbnQyW1wiZGVmYXVsdFwiXSkod2l0aFJlZiwgJ1RvIGFjY2VzcyB0aGUgd3JhcHBlZCBpbnN0YW5jZSwgeW91IG5lZWQgdG8gc3BlY2lmeSAnICsgJ3sgd2l0aFJlZjogdHJ1ZSB9IGFzIHRoZSBmb3VydGggYXJndW1lbnQgb2YgdGhlIGNvbm5lY3QoKSBjYWxsLicpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVmcy53cmFwcGVkSW5zdGFuY2U7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgaGF2ZU93blByb3BzQ2hhbmdlZCA9IHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZDtcbiAgICAgICAgICAgIHZhciBoYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQ7XG4gICAgICAgICAgICB2YXIgaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZDtcbiAgICAgICAgICAgIHZhciBzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3I7XG4gICAgICAgICAgICB2YXIgcmVuZGVyZWRFbGVtZW50ID0gdGhpcy5yZW5kZXJlZEVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgdGhyb3cgc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcyA9IHRydWU7XG4gICAgICAgICAgICBpZiAocHVyZSAmJiByZW5kZXJlZEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IGhhc1N0b3JlU3RhdGVDaGFuZ2VkIHx8IGhhdmVPd25Qcm9wc0NoYW5nZWQgJiYgdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzO1xuICAgICAgICAgICAgICBzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzID0gaGF2ZU93blByb3BzQ2hhbmdlZCAmJiB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCkge1xuICAgICAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaG91bGRVcGRhdGVTdGF0ZVByb3BzKSB7XG4gICAgICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcykge1xuICAgICAgICAgICAgICBoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCB8fCBoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQgfHwgaGF2ZU93blByb3BzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gdGhpcy51cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgJiYgcmVuZGVyZWRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2l0aFJlZikge1xuICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9ICgwLCBfcmVhY3QuY3JlYXRlRWxlbWVudCkoV3JhcHBlZENvbXBvbmVudCwgX2V4dGVuZHMoe30sIHRoaXMubWVyZ2VkUHJvcHMsIHtyZWY6ICd3cmFwcGVkSW5zdGFuY2UnfSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSAoMCwgX3JlYWN0LmNyZWF0ZUVsZW1lbnQpKFdyYXBwZWRDb21wb25lbnQsIHRoaXMubWVyZ2VkUHJvcHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZWRFbGVtZW50O1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIENvbm5lY3Q7XG4gICAgICAgIH0oX3JlYWN0LkNvbXBvbmVudCk7XG4gICAgICAgIENvbm5lY3QuZGlzcGxheU5hbWUgPSBjb25uZWN0RGlzcGxheU5hbWU7XG4gICAgICAgIENvbm5lY3QuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQ7XG4gICAgICAgIENvbm5lY3QuY29udGV4dFR5cGVzID0ge3N0b3JlOiBfc3RvcmVTaGFwZTJbXCJkZWZhdWx0XCJdfTtcbiAgICAgICAgQ29ubmVjdC5wcm9wVHlwZXMgPSB7c3RvcmU6IF9zdG9yZVNoYXBlMltcImRlZmF1bHRcIl19O1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudmVyc2lvbiA9PT0gdmVyc2lvbikge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICAgICAgdGhpcy50cnlTdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBfaG9pc3ROb25SZWFjdFN0YXRpY3MyW1wiZGVmYXVsdFwiXSkoQ29ubmVjdCwgV3JhcHBlZENvbXBvbmVudCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiY2NcIiwgW1wiYTdcIiwgXCJjYVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgZXhwb3J0cy5jb25uZWN0ID0gZXhwb3J0cy5Qcm92aWRlciA9IHVuZGVmaW5lZDtcbiAgdmFyIF9Qcm92aWRlciA9ICRfX3JlcXVpcmUoJ2E3Jyk7XG4gIHZhciBfUHJvdmlkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJvdmlkZXIpO1xuICB2YXIgX2Nvbm5lY3QgPSAkX19yZXF1aXJlKCdjYScpO1xuICB2YXIgX2Nvbm5lY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29ubmVjdCk7XG4gIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcImRlZmF1bHRcIjogb2JqfTtcbiAgfVxuICBleHBvcnRzLlByb3ZpZGVyID0gX1Byb3ZpZGVyMltcImRlZmF1bHRcIl07XG4gIGV4cG9ydHMuY29ubmVjdCA9IF9jb25uZWN0MltcImRlZmF1bHRcIl07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYTJcIiwgW1wiY2NcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCdjYycpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImNkXCIsIFtcImNlXCIsIFwiY2ZcIiwgXCJkMFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgJGV4cG9ydCA9ICRfX3JlcXVpcmUoJ2NlJyksXG4gICAgICBjb3JlID0gJF9fcmVxdWlyZSgnY2YnKSxcbiAgICAgIGZhaWxzID0gJF9fcmVxdWlyZSgnZDAnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpIHtcbiAgICB2YXIgZm4gPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV0sXG4gICAgICAgIGV4cCA9IHt9O1xuICAgIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbigpIHtcbiAgICAgIGZuKDEpO1xuICAgIH0pLCAnT2JqZWN0JywgZXhwKTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJkMVwiLCBbXCJkMlwiLCBcImNkXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciB0b0lPYmplY3QgPSAkX19yZXF1aXJlKCdkMicpO1xuICAkX19yZXF1aXJlKCdjZCcpKCdnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3InLCBmdW5jdGlvbigkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gICAgICByZXR1cm4gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0b0lPYmplY3QoaXQpLCBrZXkpO1xuICAgIH07XG4gIH0pO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImQzXCIsIFtcImQ0XCIsIFwiZDFcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyICQgPSAkX19yZXF1aXJlKCdkNCcpO1xuICAkX19yZXF1aXJlKCdkMScpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gICAgcmV0dXJuICQuZ2V0RGVzYyhpdCwga2V5KTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJkNVwiLCBbXCJkM1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBcImRlZmF1bHRcIjogJF9fcmVxdWlyZSgnZDMnKSxcbiAgICBfX2VzTW9kdWxlOiB0cnVlXG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYTNcIiwgW1wiZDVcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBfT2JqZWN0JGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9ICRfX3JlcXVpcmUoJ2Q1JylbXCJkZWZhdWx0XCJdO1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHtcbiAgICB2YXIgX2FnYWluID0gdHJ1ZTtcbiAgICBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHtcbiAgICAgIHZhciBvYmplY3QgPSBfeCxcbiAgICAgICAgICBwcm9wZXJ0eSA9IF94MixcbiAgICAgICAgICByZWNlaXZlciA9IF94MztcbiAgICAgIF9hZ2FpbiA9IGZhbHNlO1xuICAgICAgaWYgKG9iamVjdCA9PT0gbnVsbClcbiAgICAgICAgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICAgICAgdmFyIGRlc2MgPSBfT2JqZWN0JGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTtcbiAgICAgIGlmIChkZXNjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO1xuICAgICAgICBpZiAocGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfeCA9IHBhcmVudDtcbiAgICAgICAgICBfeDIgPSBwcm9wZXJ0eTtcbiAgICAgICAgICBfeDMgPSByZWNlaXZlcjtcbiAgICAgICAgICBfYWdhaW4gPSB0cnVlO1xuICAgICAgICAgIGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgY29udGludWUgX2Z1bmN0aW9uO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7XG4gICAgICAgIHJldHVybiBkZXNjLnZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGdldHRlciA9IGRlc2MuZ2V0O1xuICAgICAgICBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImQ2XCIsIFtcImQ0XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciAkID0gJF9fcmVxdWlyZSgnZDQnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCkge1xuICAgIHJldHVybiAkLmNyZWF0ZShQLCBEKTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJkN1wiLCBbXCJkNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBcImRlZmF1bHRcIjogJF9fcmVxdWlyZSgnZDYnKSxcbiAgICBfX2VzTW9kdWxlOiB0cnVlXG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZDhcIiwgW1wiY2VcIiwgXCJkOVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgJGV4cG9ydCA9ICRfX3JlcXVpcmUoJ2NlJyk7XG4gICRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge3NldFByb3RvdHlwZU9mOiAkX19yZXF1aXJlKCdkOScpLnNldH0pO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImRhXCIsIFtcImQ4XCIsIFwiY2ZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgJF9fcmVxdWlyZSgnZDgnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCdjZicpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJkYlwiLCBbXCJkYVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBcImRlZmF1bHRcIjogJF9fcmVxdWlyZSgnZGEnKSxcbiAgICBfX2VzTW9kdWxlOiB0cnVlXG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYTRcIiwgW1wiZDdcIiwgXCJkYlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIF9PYmplY3QkY3JlYXRlID0gJF9fcmVxdWlyZSgnZDcnKVtcImRlZmF1bHRcIl07XG4gIHZhciBfT2JqZWN0JHNldFByb3RvdHlwZU9mID0gJF9fcmVxdWlyZSgnZGInKVtcImRlZmF1bHRcIl07XG4gIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24oc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgICB9XG4gICAgc3ViQ2xhc3MucHJvdG90eXBlID0gX09iamVjdCRjcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge2NvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH19KTtcbiAgICBpZiAoc3VwZXJDbGFzcylcbiAgICAgIF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPyBfT2JqZWN0JHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gIH07XG4gIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZGNcIiwgW1wiZDRcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyICQgPSAkX19yZXF1aXJlKCdkNCcpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpIHtcbiAgICByZXR1cm4gJC5zZXREZXNjKGl0LCBrZXksIGRlc2MpO1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImRkXCIsIFtcImRjXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0ge1xuICAgIFwiZGVmYXVsdFwiOiAkX19yZXF1aXJlKCdkYycpLFxuICAgIF9fZXNNb2R1bGU6IHRydWVcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJhNVwiLCBbXCJkZFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIF9PYmplY3QkZGVmaW5lUHJvcGVydHkgPSAkX19yZXF1aXJlKCdkZCcpW1wiZGVmYXVsdFwiXTtcbiAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpXG4gICAgICAgICAgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAgIF9PYmplY3QkZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICAgIGlmIChwcm90b1Byb3BzKVxuICAgICAgICBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgICBpZiAoc3RhdGljUHJvcHMpXG4gICAgICAgIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICB9O1xuICB9KSgpO1xuICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImE2XCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgfTtcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlcignOWUnLCBbJ2EzJywgJ2E0JywgJ2E1JywgJ2E2JywgJzljJ10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gIHZhciBfZ2V0LCBfaW5oZXJpdHMsIF9jcmVhdGVDbGFzcywgX2NsYXNzQ2FsbENoZWNrLCBSZWFjdCwgUHJvcFR5cGVzLCBDb21wb25lbnQsIExhenlJbWc7XG5cbiAgcmV0dXJuIHtcbiAgICBzZXR0ZXJzOiBbZnVuY3Rpb24gKF9hMykge1xuICAgICAgX2dldCA9IF9hM1snZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYTQpIHtcbiAgICAgIF9pbmhlcml0cyA9IF9hNFsnZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYTUpIHtcbiAgICAgIF9jcmVhdGVDbGFzcyA9IF9hNVsnZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYTYpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayA9IF9hNlsnZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfYykge1xuICAgICAgUmVhY3QgPSBfY1snZGVmYXVsdCddO1xuICAgICAgUHJvcFR5cGVzID0gX2MuUHJvcFR5cGVzO1xuICAgICAgQ29tcG9uZW50ID0gX2MuQ29tcG9uZW50O1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgTGF6eUltZyA9IChmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICAgICBfaW5oZXJpdHMoTGF6eUltZywgX0NvbXBvbmVudCk7XG5cbiAgICAgICAgZnVuY3Rpb24gTGF6eUltZygpIHtcbiAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGF6eUltZyk7XG5cbiAgICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihMYXp5SW1nLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoTGF6eUltZywgW3tcbiAgICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkZWQ6IGZhbHNlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIGtleTogJ2hhbmRsZUxvYWQnLFxuICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGVkOiB0cnVlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogKHRoaXMuc3RhdGUuaXNMb2FkZWQgPyAnbGF6eWxvYWRlZCcgOiAnbGF6eWxvYWQnKSArICcgbGF6eWJsdXInLFxuICAgICAgICAgICAgICBzcmM6IHRoaXMucHJvcHMuc3JjLFxuICAgICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlTG9hZCgpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBhbHQ6IHRoaXMucHJvcHMuYWx0IH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBMYXp5SW1nO1xuICAgICAgfSkoQ29tcG9uZW50KTtcblxuICAgICAgTGF6eUltZy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIGFsdDogJydcbiAgICAgIH07XG5cbiAgICAgIExhenlJbWcucHJvcFR5cGVzID0ge1xuICAgICAgICBzcmM6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgYWx0OiBQcm9wVHlwZXMuc3RyaW5nXG4gICAgICB9O1xuXG4gICAgICBfZXhwb3J0KCdkZWZhdWx0JywgTGF6eUltZyk7XG4gICAgfVxuICB9O1xufSk7XG4kX19TeXN0ZW0ucmVnaXN0ZXIoJ2RlJywgWyc5YyddLCBmdW5jdGlvbiAoX2V4cG9ydCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIFJlYWN0LCBQcm9wVHlwZXMsIFN2Z0ljb247XG4gIHJldHVybiB7XG4gICAgc2V0dGVyczogW2Z1bmN0aW9uIChfYykge1xuICAgICAgUmVhY3QgPSBfY1snZGVmYXVsdCddO1xuICAgICAgUHJvcFR5cGVzID0gX2MuUHJvcFR5cGVzO1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIFN2Z0ljb24gPSBmdW5jdGlvbiBTdmdJY29uKF9yZWYpIHtcbiAgICAgICAgdmFyIGlkID0gX3JlZi5pZDtcbiAgICAgICAgdmFyIGxhYmVsID0gX3JlZi5sYWJlbDtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3N2ZycsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdpY29uJywgJ2FyaWEtaGlkZGVuJzogJ3RydWUnLCAnYXJpYS1sYWJlbCc6IGxhYmVsIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgndXNlJywgeyB4bGlua0hyZWY6ICdzdmcvaWNvbnMuc3ZnIycgKyBpZCB9KVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgU3ZnSWNvbi5kZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIGxhYmVsOiAnJ1xuICAgICAgfTtcblxuICAgICAgU3ZnSWNvbi5wcm9wVHlwZXMgPSB7XG4gICAgICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nXG4gICAgICB9O1xuXG4gICAgICBfZXhwb3J0KCdkZWZhdWx0JywgU3ZnSWNvbik7XG4gICAgfVxuICB9O1xufSk7XG4kX19TeXN0ZW0ucmVnaXN0ZXIoJ2RmJywgWyc5YycsICc5ZScsICdkZSddLCBmdW5jdGlvbiAoX2V4cG9ydCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIFJlYWN0LCBQcm9wVHlwZXMsIExhenlJbWcsIFN2Z0ljb24sIGdldE1vbnRoLCBmb3JtYXREYXRlLCBFdmVudExpc3RJdGVtO1xuICByZXR1cm4ge1xuICAgIHNldHRlcnM6IFtmdW5jdGlvbiAoX2MpIHtcbiAgICAgIFJlYWN0ID0gX2NbJ2RlZmF1bHQnXTtcbiAgICAgIFByb3BUeXBlcyA9IF9jLlByb3BUeXBlcztcbiAgICB9LCBmdW5jdGlvbiAoX2UpIHtcbiAgICAgIExhenlJbWcgPSBfZVsnZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfZGUpIHtcbiAgICAgIFN2Z0ljb24gPSBfZGVbJ2RlZmF1bHQnXTtcbiAgICB9XSxcbiAgICBleGVjdXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBnZXRNb250aCA9IGZ1bmN0aW9uIGdldE1vbnRoKG1vbnRoKSB7XG4gICAgICAgIHZhciBtb250aHMgPSBbJ0phbmVpcm8nLCAnRmV2ZXJlaXJvJywgJ01hcsOnbycsICdBYnJpbCcsICdNYWlvJywgJ0p1bmhvJywgJ0p1bGhvJywgJ0Fnb3N0bycsICdTZXRlbWJybycsICdPdXR1YnJvJywgJ05vdmVtYnJvJywgJ0RlemVtYnJvJ107XG4gICAgICAgIHZhciBtID0gbW9udGhzLmluZGV4T2YobW9udGgpICsgMTtcbiAgICAgICAgcmV0dXJuIChtIDwgMTAgPyAnMCcgOiAnJykgKyBtO1xuICAgICAgfTtcblxuICAgICAgZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uIGZvcm1hdERhdGUoX3JlZikge1xuICAgICAgICB2YXIgZGF5ID0gX3JlZi5kYXk7XG4gICAgICAgIHZhciBtb250aCA9IF9yZWYubW9udGg7XG4gICAgICAgIHZhciB5ZWFyID0gX3JlZi55ZWFyO1xuXG4gICAgICAgIHJldHVybiBkYXkgKyAnLycgKyBnZXRNb250aChtb250aCkgKyAnLycgKyB5ZWFyO1xuICAgICAgfTtcblxuICAgICAgRXZlbnRMaXN0SXRlbSA9IGZ1bmN0aW9uIEV2ZW50TGlzdEl0ZW0oX3JlZjIpIHtcbiAgICAgICAgdmFyIHRpdGxlID0gX3JlZjIudGl0bGU7XG4gICAgICAgIHZhciBpbWFnZSA9IF9yZWYyLmltYWdlO1xuICAgICAgICB2YXIgaW5uZXJMaW5rID0gX3JlZjIuaW5uZXJMaW5rO1xuICAgICAgICB2YXIgbGluayA9IF9yZWYyLmxpbms7XG4gICAgICAgIHZhciBkYXRlID0gX3JlZjIuZGF0ZTtcbiAgICAgICAgdmFyIHByaWNlID0gX3JlZjIucHJpY2U7XG4gICAgICAgIHZhciBsb2NhdGlvbiA9IF9yZWYyLmxvY2F0aW9uO1xuICAgICAgICB2YXIgbG9jYXRpb25VcmwgPSBfcmVmMi5sb2NhdGlvblVybDtcbiAgICAgICAgdmFyIHNob3J0RGVzY3JpcHRpb24gPSBfcmVmMi5zaG9ydERlc2NyaXB0aW9uO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnYXJ0aWNsZScsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdldmVudCcgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdldmVudC1tZWRpYScsIGhyZWY6IGxpbmssIHRpdGxlOiAnVmVyIGV2ZW50bycgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGF6eUltZywgeyBzcmM6IGltYWdlIHx8ICdzdmcvbG9nby5zdmcnLCBhbHQ6IHRpdGxlIH0pXG4gICAgICAgICAgKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2V2ZW50LW1haW4nIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29udGVudCcsIGhyZWY6IGxpbmssIHRpdGxlOiAnVmVyIGV2ZW50bycgfSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnaDInLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgdGl0bGVcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAncCcsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBzaG9ydERlc2NyaXB0aW9uXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAhIWxpbmsgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2J0bi1saW5rJywgaHJlZjogbGluaywgdGFyZ2V0OiAnX2JsYW5rJywgdGl0bGU6ICdWaXNpdGFyIHNpdGUgb2ZpY2lhbCcgfSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTdmdJY29uLCB7IGlkOiAnbGluaycsIGxhYmVsOiAnTGluaycgfSksXG4gICAgICAgICAgICAgIGxpbmtcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAndWwnLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2V2ZW50LWxpc3QnIH0sXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2V2ZW50LWxpc3QtLWl0ZW0nIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTdmdJY29uLCB7IGlkOiAnZGF0ZScsIGxhYmVsOiAnRGF0YScgfSksXG4gICAgICAgICAgICAgICAgZm9ybWF0RGF0ZShkYXRlKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdldmVudC1saXN0LS1pdGVtJyB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3ZnSWNvbiwgeyBpZDogJ3ByaWNlJywgbGFiZWw6ICdQcmXDp28nIH0pLFxuICAgICAgICAgICAgICAgIHByaWNlXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICEhbG9jYXRpb25VcmwgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnbGknLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZXZlbnQtbGlzdC0taXRlbScgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFN2Z0ljb24sIHsgaWQ6ICdsb2NhdGlvbicsIGxhYmVsOiAnTG9jYWwnIH0pLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICB7IGhyZWY6IGxvY2F0aW9uVXJsLCB0YXJnZXQ6ICdfYmxhbmsnIH0sXG4gICAgICAgICAgICAgICAgICBsb2NhdGlvblxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIEV2ZW50TGlzdEl0ZW0uZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBkYXRlOiB7XG4gICAgICAgICAgZGF5OiAnMDAnLFxuICAgICAgICAgIG1vbnRoOiAneHgnLFxuICAgICAgICAgIHllYXI6ICcwMDAwJ1xuICAgICAgICB9LFxuICAgICAgICBwcmljZTogJ0dyw6F0aXMnXG4gICAgICB9O1xuXG4gICAgICBFdmVudExpc3RJdGVtLnByb3BUeXBlcyA9IHtcbiAgICAgICAgdGl0bGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgaW1hZ2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGlubmVyTGluazogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICBsaW5rOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBkYXRlOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgIGRheTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgIG1vbnRoOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgeWVhcjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG4gICAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgICAgIHByaWNlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBsb2NhdGlvbjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgbG9jYXRpb25Vcmw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIHNob3J0RGVzY3JpcHRpb246IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZFxuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIEV2ZW50TGlzdEl0ZW0pO1xuICAgIH1cbiAgfTtcbn0pO1xuJF9fU3lzdGVtLnJlZ2lzdGVyKCdlMCcsIFsnZTEnLCAnOWMnLCAnYTInLCAnZGYnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgdmFyIF9leHRlbmRzLCBSZWFjdCwgUHJvcFR5cGVzLCBjb25uZWN0LCBFdmVudExpc3RJdGVtLCBQYWdlLCBtYXBTdGF0ZVRvUHJvcHM7XG5cbiAgcmV0dXJuIHtcbiAgICBzZXR0ZXJzOiBbZnVuY3Rpb24gKF9lMSkge1xuICAgICAgX2V4dGVuZHMgPSBfZTFbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgIFJlYWN0ID0gX2NbJ2RlZmF1bHQnXTtcbiAgICAgIFByb3BUeXBlcyA9IF9jLlByb3BUeXBlcztcbiAgICB9LCBmdW5jdGlvbiAoX2EyKSB7XG4gICAgICBjb25uZWN0ID0gX2EyLmNvbm5lY3Q7XG4gICAgfSwgZnVuY3Rpb24gKF9kZikge1xuICAgICAgRXZlbnRMaXN0SXRlbSA9IF9kZlsnZGVmYXVsdCddO1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvcGFnaW5hdGlvbi9pbmRleCdcblxuICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICBQYWdlID0gZnVuY3Rpb24gUGFnZShfcmVmKSB7XG4gICAgICAgIHZhciBldmVudHMgPSBfcmVmLmV2ZW50cztcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3NlY3Rpb24nLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGFnZScgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2hlYWRlcicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3BhZ2UtaGVhZGVyJyB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2gzJyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0aXRsZScgfSxcbiAgICAgICAgICAgICAgJ1Byw7N4aW1vcyBFdmVudG9zJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwYWdlLXdyYXAnIH0sXG4gICAgICAgICAgICBldmVudHMubWFwKGZ1bmN0aW9uIChwcm9wcywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXZlbnRMaXN0SXRlbSwgX2V4dGVuZHMoeyBrZXk6IGluZGV4IH0sIHByb3BzKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIFBhZ2UucHJvcFR5cGVzID0ge1xuICAgICAgICBldmVudHM6IFByb3BUeXBlcy5zaGFwZS5pc1JlcXVpcmVkXG4gICAgICB9O1xuXG4gICAgICBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBldmVudHM6IHN0YXRlLmV2ZW50cy5ldmVudHMuZmlsdGVyKGZ1bmN0aW9uIChfLCBpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4ID49IDU7XG4gICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIF9leHBvcnQoJ2RlZmF1bHQnLCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoUGFnZSkpO1xuICAgIH1cbiAgfTtcbn0pO1xuLyogPFBhZ2luYXRpb24gLz4gKi9cbiRfX1N5c3RlbS5yZWdpc3RlcignZTInLCBbJzljJ10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgUmVhY3QsIEFzaWRlO1xuICByZXR1cm4ge1xuICAgIHNldHRlcnM6IFtmdW5jdGlvbiAoX2MpIHtcbiAgICAgIFJlYWN0ID0gX2NbJ2RlZmF1bHQnXTtcbiAgICB9XSxcbiAgICBleGVjdXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBBc2lkZSA9IGZ1bmN0aW9uIEFzaWRlKCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnYXNpZGUnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZGlzY2xhaW1lcicgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Rpc2NsYWltZXItaW5uZXInIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnaDInLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3RpdGxlJyB9LFxuICAgICAgICAgICAgICAnQ29uaGVjZSBhbGd1bSBldmVudG8gZGUgRnJvbnQtRW5kIHF1ZSBuw6NvIGVzdMOhIGxpc3RhZG8/J1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vZnJvbnRlbmRici9ldmVudG9zL2lzc3VlcycsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnRuJyxcbiAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbCc6ICdBbnVuY2lhciBFdmVudG8nLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnQW51bmNpZSBzZXUgZXZlbnRvJyB9LFxuICAgICAgICAgICAgICAnQW51bmNpYXIgRXZlbnRvJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIF9leHBvcnQoJ2RlZmF1bHQnLCBBc2lkZSk7XG4gICAgfVxuICB9O1xufSk7XG4kX19TeXN0ZW0ucmVnaXN0ZXIoJ2UzJywgWyc5YycsICdhMCcsICdlMCcsICdlMiddLCBmdW5jdGlvbiAoX2V4cG9ydCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIFJlYWN0LCBIZWFkZXIsIFBhZ2UsIEFzaWRlLCBNYWluQ29udGVudDtcbiAgcmV0dXJuIHtcbiAgICBzZXR0ZXJzOiBbZnVuY3Rpb24gKF9jKSB7XG4gICAgICBSZWFjdCA9IF9jWydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF9hMCkge1xuICAgICAgSGVhZGVyID0gX2EwWydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF9lMCkge1xuICAgICAgUGFnZSA9IF9lMFsnZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfZTIpIHtcbiAgICAgIEFzaWRlID0gX2UyWydkZWZhdWx0J107XG4gICAgfV0sXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgTWFpbkNvbnRlbnQgPSBmdW5jdGlvbiBNYWluQ29udGVudCgpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ21haW4nLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbWFpbicsIHJvbGU6ICdtYWluJyB9LFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGVyLCBudWxsKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFBhZ2UsIG51bGwpLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXNpZGUsIG51bGwpXG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICBfZXhwb3J0KCdkZWZhdWx0JywgTWFpbkNvbnRlbnQpO1xuICAgIH1cbiAgfTtcbn0pO1xuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjRcIiwgW1wiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICB2YXIgb25lQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihjb3B5RmllbGRzRnJvbSkge1xuICAgICAgdmFyIEtsYXNzID0gdGhpcztcbiAgICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICAgICAgS2xhc3MuY2FsbChpbnN0YW5jZSwgY29weUZpZWxkc0Zyb20pO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IEtsYXNzKGNvcHlGaWVsZHNGcm9tKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciB0d29Bcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGExLCBhMikge1xuICAgICAgdmFyIEtsYXNzID0gdGhpcztcbiAgICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICAgICAgS2xhc3MuY2FsbChpbnN0YW5jZSwgYTEsIGEyKTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHRocmVlQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihhMSwgYTIsIGEzKSB7XG4gICAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gS2xhc3MuaW5zdGFuY2VQb29sLnBvcCgpO1xuICAgICAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIsIGEzKTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBmb3VyQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihhMSwgYTIsIGEzLCBhNCkge1xuICAgICAgdmFyIEtsYXNzID0gdGhpcztcbiAgICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICAgICAgS2xhc3MuY2FsbChpbnN0YW5jZSwgYTEsIGEyLCBhMywgYTQpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IEtsYXNzKGExLCBhMiwgYTMsIGE0KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBmaXZlQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGExLCBhMiwgYTMsIGE0LCBhNSk7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgS2xhc3MoYTEsIGEyLCBhMywgYTQsIGE1KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzdGFuZGFyZFJlbGVhc2VyID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgICAhKGluc3RhbmNlIGluc3RhbmNlb2YgS2xhc3MpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1RyeWluZyB0byByZWxlYXNlIGFuIGluc3RhbmNlIGludG8gYSBwb29sIG9mIGEgZGlmZmVyZW50IHR5cGUuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaW5zdGFuY2UuZGVzdHJ1Y3RvcigpO1xuICAgICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGggPCBLbGFzcy5wb29sU2l6ZSkge1xuICAgICAgICBLbGFzcy5pbnN0YW5jZVBvb2wucHVzaChpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgREVGQVVMVF9QT09MX1NJWkUgPSAxMDtcbiAgICB2YXIgREVGQVVMVF9QT09MRVIgPSBvbmVBcmd1bWVudFBvb2xlcjtcbiAgICB2YXIgYWRkUG9vbGluZ1RvID0gZnVuY3Rpb24oQ29weUNvbnN0cnVjdG9yLCBwb29sZXIpIHtcbiAgICAgIHZhciBOZXdLbGFzcyA9IENvcHlDb25zdHJ1Y3RvcjtcbiAgICAgIE5ld0tsYXNzLmluc3RhbmNlUG9vbCA9IFtdO1xuICAgICAgTmV3S2xhc3MuZ2V0UG9vbGVkID0gcG9vbGVyIHx8IERFRkFVTFRfUE9PTEVSO1xuICAgICAgaWYgKCFOZXdLbGFzcy5wb29sU2l6ZSkge1xuICAgICAgICBOZXdLbGFzcy5wb29sU2l6ZSA9IERFRkFVTFRfUE9PTF9TSVpFO1xuICAgICAgfVxuICAgICAgTmV3S2xhc3MucmVsZWFzZSA9IHN0YW5kYXJkUmVsZWFzZXI7XG4gICAgICByZXR1cm4gTmV3S2xhc3M7XG4gICAgfTtcbiAgICB2YXIgUG9vbGVkQ2xhc3MgPSB7XG4gICAgICBhZGRQb29saW5nVG86IGFkZFBvb2xpbmdUbyxcbiAgICAgIG9uZUFyZ3VtZW50UG9vbGVyOiBvbmVBcmd1bWVudFBvb2xlcixcbiAgICAgIHR3b0FyZ3VtZW50UG9vbGVyOiB0d29Bcmd1bWVudFBvb2xlcixcbiAgICAgIHRocmVlQXJndW1lbnRQb29sZXI6IHRocmVlQXJndW1lbnRQb29sZXIsXG4gICAgICBmb3VyQXJndW1lbnRQb29sZXI6IGZvdXJBcmd1bWVudFBvb2xlcixcbiAgICAgIGZpdmVBcmd1bWVudFBvb2xlcjogZml2ZUFyZ3VtZW50UG9vbGVyXG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFBvb2xlZENsYXNzO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI0MFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZnVuY3Rpb24gZXNjYXBlKGtleSkge1xuICAgIHZhciBlc2NhcGVSZWdleCA9IC9bPTpdL2c7XG4gICAgdmFyIGVzY2FwZXJMb29rdXAgPSB7XG4gICAgICAnPSc6ICc9MCcsXG4gICAgICAnOic6ICc9MidcbiAgICB9O1xuICAgIHZhciBlc2NhcGVkU3RyaW5nID0gKCcnICsga2V5KS5yZXBsYWNlKGVzY2FwZVJlZ2V4LCBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgcmV0dXJuIGVzY2FwZXJMb29rdXBbbWF0Y2hdO1xuICAgIH0pO1xuICAgIHJldHVybiAnJCcgKyBlc2NhcGVkU3RyaW5nO1xuICB9XG4gIGZ1bmN0aW9uIHVuZXNjYXBlKGtleSkge1xuICAgIHZhciB1bmVzY2FwZVJlZ2V4ID0gLyg9MHw9MikvZztcbiAgICB2YXIgdW5lc2NhcGVyTG9va3VwID0ge1xuICAgICAgJz0wJzogJz0nLFxuICAgICAgJz0yJzogJzonXG4gICAgfTtcbiAgICB2YXIga2V5U3Vic3RyaW5nID0ga2V5WzBdID09PSAnLicgJiYga2V5WzFdID09PSAnJCcgPyBrZXkuc3Vic3RyaW5nKDIpIDoga2V5LnN1YnN0cmluZygxKTtcbiAgICByZXR1cm4gKCcnICsga2V5U3Vic3RyaW5nKS5yZXBsYWNlKHVuZXNjYXBlUmVnZXgsIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgICByZXR1cm4gdW5lc2NhcGVyTG9va3VwW21hdGNoXTtcbiAgICB9KTtcbiAgfVxuICB2YXIgS2V5RXNjYXBlVXRpbHMgPSB7XG4gICAgZXNjYXBlOiBlc2NhcGUsXG4gICAgdW5lc2NhcGU6IHVuZXNjYXBlXG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gS2V5RXNjYXBlVXRpbHM7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNDJcIiwgW1wiNDdcIiwgXCI4ZFwiLCBcImU0XCIsIFwiMzBcIiwgXCI0MFwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gJF9fcmVxdWlyZSgnNDcnKTtcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gJF9fcmVxdWlyZSgnOGQnKTtcbiAgICB2YXIgZ2V0SXRlcmF0b3JGbiA9ICRfX3JlcXVpcmUoJ2U0Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIEtleUVzY2FwZVV0aWxzID0gJF9fcmVxdWlyZSgnNDAnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIFNFUEFSQVRPUiA9ICcuJztcbiAgICB2YXIgU1VCU0VQQVJBVE9SID0gJzonO1xuICAgIHZhciBkaWRXYXJuQWJvdXRNYXBzID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50S2V5KGNvbXBvbmVudCwgaW5kZXgpIHtcbiAgICAgIGlmIChjb21wb25lbnQgJiYgdHlwZW9mIGNvbXBvbmVudCA9PT0gJ29iamVjdCcgJiYgY29tcG9uZW50LmtleSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBLZXlFc2NhcGVVdGlscy5lc2NhcGUoY29tcG9uZW50LmtleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXgudG9TdHJpbmcoMzYpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZHJlbiwgbmFtZVNvRmFyLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBjaGlsZHJlbjtcbiAgICAgIGlmICh0eXBlID09PSAndW5kZWZpbmVkJyB8fCB0eXBlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGNoaWxkcmVuID09PSBudWxsIHx8IHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGUgPT09ICdudW1iZXInIHx8IFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpIHtcbiAgICAgICAgY2FsbGJhY2sodHJhdmVyc2VDb250ZXh0LCBjaGlsZHJlbiwgbmFtZVNvRmFyID09PSAnJyA/IFNFUEFSQVRPUiArIGdldENvbXBvbmVudEtleShjaGlsZHJlbiwgMCkgOiBuYW1lU29GYXIpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIHZhciBjaGlsZDtcbiAgICAgIHZhciBuZXh0TmFtZTtcbiAgICAgIHZhciBzdWJ0cmVlQ291bnQgPSAwO1xuICAgICAgdmFyIG5leHROYW1lUHJlZml4ID0gbmFtZVNvRmFyID09PSAnJyA/IFNFUEFSQVRPUiA6IG5hbWVTb0ZhciArIFNVQlNFUEFSQVRPUjtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpKTtcbiAgICAgICAgICBzdWJ0cmVlQ291bnQgKz0gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGQsIG5leHROYW1lLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKGNoaWxkcmVuKTtcbiAgICAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwoY2hpbGRyZW4pO1xuICAgICAgICAgIHZhciBzdGVwO1xuICAgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBjaGlsZHJlbi5lbnRyaWVzKSB7XG4gICAgICAgICAgICB2YXIgaWkgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICBjaGlsZCA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgICAgIG5leHROYW1lID0gbmV4dE5hbWVQcmVmaXggKyBnZXRDb21wb25lbnRLZXkoY2hpbGQsIGlpKyspO1xuICAgICAgICAgICAgICBzdWJ0cmVlQ291bnQgKz0gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGQsIG5leHROYW1lLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZGlkV2FybkFib3V0TWFwcywgJ1VzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgbm90IHlldCBmdWxseSBzdXBwb3J0ZWQuIEl0IGlzIGFuICcgKyAnZXhwZXJpbWVudGFsIGZlYXR1cmUgdGhhdCBtaWdodCBiZSByZW1vdmVkLiBDb252ZXJ0IGl0IHRvIGEgJyArICdzZXF1ZW5jZSAvIGl0ZXJhYmxlIG9mIGtleWVkIFJlYWN0RWxlbWVudHMgaW5zdGVhZC4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgZGlkV2FybkFib3V0TWFwcyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIGNoaWxkID0gZW50cnlbMV07XG4gICAgICAgICAgICAgICAgbmV4dE5hbWUgPSBuZXh0TmFtZVByZWZpeCArIEtleUVzY2FwZVV0aWxzLmVzY2FwZShlbnRyeVswXSkgKyBTVUJTRVBBUkFUT1IgKyBnZXRDb21wb25lbnRLZXkoY2hpbGQsIDApO1xuICAgICAgICAgICAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZCwgbmV4dE5hbWUsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdmFyIGFkZGVuZHVtID0gJyc7XG4gICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGFkZGVuZHVtID0gJyBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5ICcgKyAnaW5zdGVhZCBvciB3cmFwIHRoZSBvYmplY3QgdXNpbmcgY3JlYXRlRnJhZ21lbnQob2JqZWN0KSBmcm9tIHRoZSAnICsgJ1JlYWN0IGFkZC1vbnMuJztcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5faXNSZWFjdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgYWRkZW5kdW0gPSAnIEl0IGxvb2tzIGxpa2UgeW91XFwncmUgdXNpbmcgYW4gZWxlbWVudCBjcmVhdGVkIGJ5IGEgZGlmZmVyZW50ICcgKyAndmVyc2lvbiBvZiBSZWFjdC4gTWFrZSBzdXJlIHRvIHVzZSBvbmx5IG9uZSBjb3B5IG9mIFJlYWN0Lic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgICAgICAgICB2YXIgbmFtZSA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQuZ2V0TmFtZSgpO1xuICAgICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgIGFkZGVuZHVtICs9ICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgY2hpbGRyZW5TdHJpbmcgPSBTdHJpbmcoY2hpbGRyZW4pO1xuICAgICAgICAgICFmYWxzZSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6ICVzKS4lcycsIGNoaWxkcmVuU3RyaW5nID09PSAnW29iamVjdCBPYmplY3RdJyA/ICdvYmplY3Qgd2l0aCBrZXlzIHsnICsgT2JqZWN0LmtleXMoY2hpbGRyZW4pLmpvaW4oJywgJykgKyAnfScgOiBjaGlsZHJlblN0cmluZywgYWRkZW5kdW0pIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN1YnRyZWVDb3VudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCkge1xuICAgICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGRyZW4sICcnLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB0cmF2ZXJzZUFsbENoaWxkcmVuO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIzMlwiLCBbXCI0XCIsIFwiOGRcIiwgXCI0OFwiLCBcIjQyXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgUG9vbGVkQ2xhc3MgPSAkX19yZXF1aXJlKCc0Jyk7XG4gIHZhciBSZWFjdEVsZW1lbnQgPSAkX19yZXF1aXJlKCc4ZCcpO1xuICB2YXIgZW1wdHlGdW5jdGlvbiA9ICRfX3JlcXVpcmUoJzQ4Jyk7XG4gIHZhciB0cmF2ZXJzZUFsbENoaWxkcmVuID0gJF9fcmVxdWlyZSgnNDInKTtcbiAgdmFyIHR3b0FyZ3VtZW50UG9vbGVyID0gUG9vbGVkQ2xhc3MudHdvQXJndW1lbnRQb29sZXI7XG4gIHZhciBmb3VyQXJndW1lbnRQb29sZXIgPSBQb29sZWRDbGFzcy5mb3VyQXJndW1lbnRQb29sZXI7XG4gIHZhciB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCA9IC9cXC8rL2c7XG4gIGZ1bmN0aW9uIGVzY2FwZVVzZXJQcm92aWRlZEtleSh0ZXh0KSB7XG4gICAgcmV0dXJuICgnJyArIHRleHQpLnJlcGxhY2UodXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsICckJi8nKTtcbiAgfVxuICBmdW5jdGlvbiBGb3JFYWNoQm9va0tlZXBpbmcoZm9yRWFjaEZ1bmN0aW9uLCBmb3JFYWNoQ29udGV4dCkge1xuICAgIHRoaXMuZnVuYyA9IGZvckVhY2hGdW5jdGlvbjtcbiAgICB0aGlzLmNvbnRleHQgPSBmb3JFYWNoQ29udGV4dDtcbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgfVxuICBGb3JFYWNoQm9va0tlZXBpbmcucHJvdG90eXBlLmRlc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmZ1bmMgPSBudWxsO1xuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gIH07XG4gIFBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhGb3JFYWNoQm9va0tlZXBpbmcsIHR3b0FyZ3VtZW50UG9vbGVyKTtcbiAgZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkKGJvb2tLZWVwaW5nLCBjaGlsZCwgbmFtZSkge1xuICAgIHZhciBmdW5jID0gYm9va0tlZXBpbmcuZnVuYztcbiAgICB2YXIgY29udGV4dCA9IGJvb2tLZWVwaW5nLmNvbnRleHQ7XG4gICAgZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBib29rS2VlcGluZy5jb3VudCsrKTtcbiAgfVxuICBmdW5jdGlvbiBmb3JFYWNoQ2hpbGRyZW4oY2hpbGRyZW4sIGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCkge1xuICAgIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIHZhciB0cmF2ZXJzZUNvbnRleHQgPSBGb3JFYWNoQm9va0tlZXBpbmcuZ2V0UG9vbGVkKGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCk7XG4gICAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaFNpbmdsZUNoaWxkLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgIEZvckVhY2hCb29rS2VlcGluZy5yZWxlYXNlKHRyYXZlcnNlQ29udGV4dCk7XG4gIH1cbiAgZnVuY3Rpb24gTWFwQm9va0tlZXBpbmcobWFwUmVzdWx0LCBrZXlQcmVmaXgsIG1hcEZ1bmN0aW9uLCBtYXBDb250ZXh0KSB7XG4gICAgdGhpcy5yZXN1bHQgPSBtYXBSZXN1bHQ7XG4gICAgdGhpcy5rZXlQcmVmaXggPSBrZXlQcmVmaXg7XG4gICAgdGhpcy5mdW5jID0gbWFwRnVuY3Rpb247XG4gICAgdGhpcy5jb250ZXh0ID0gbWFwQ29udGV4dDtcbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgfVxuICBNYXBCb29rS2VlcGluZy5wcm90b3R5cGUuZGVzdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVzdWx0ID0gbnVsbDtcbiAgICB0aGlzLmtleVByZWZpeCA9IG51bGw7XG4gICAgdGhpcy5mdW5jID0gbnVsbDtcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgIHRoaXMuY291bnQgPSAwO1xuICB9O1xuICBQb29sZWRDbGFzcy5hZGRQb29saW5nVG8oTWFwQm9va0tlZXBpbmcsIGZvdXJBcmd1bWVudFBvb2xlcik7XG4gIGZ1bmN0aW9uIG1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQoYm9va0tlZXBpbmcsIGNoaWxkLCBjaGlsZEtleSkge1xuICAgIHZhciByZXN1bHQgPSBib29rS2VlcGluZy5yZXN1bHQ7XG4gICAgdmFyIGtleVByZWZpeCA9IGJvb2tLZWVwaW5nLmtleVByZWZpeDtcbiAgICB2YXIgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmM7XG4gICAgdmFyIGNvbnRleHQgPSBib29rS2VlcGluZy5jb250ZXh0O1xuICAgIHZhciBtYXBwZWRDaGlsZCA9IGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgYm9va0tlZXBpbmcuY291bnQrKyk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWFwcGVkQ2hpbGQpKSB7XG4gICAgICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKG1hcHBlZENoaWxkLCByZXN1bHQsIGNoaWxkS2V5LCBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQpO1xuICAgIH0gZWxzZSBpZiAobWFwcGVkQ2hpbGQgIT0gbnVsbCkge1xuICAgICAgaWYgKFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChtYXBwZWRDaGlsZCkpIHtcbiAgICAgICAgbWFwcGVkQ2hpbGQgPSBSZWFjdEVsZW1lbnQuY2xvbmVBbmRSZXBsYWNlS2V5KG1hcHBlZENoaWxkLCBrZXlQcmVmaXggKyAobWFwcGVkQ2hpbGQua2V5ICYmICghY2hpbGQgfHwgY2hpbGQua2V5ICE9PSBtYXBwZWRDaGlsZC5rZXkpID8gZXNjYXBlVXNlclByb3ZpZGVkS2V5KG1hcHBlZENoaWxkLmtleSkgKyAnLycgOiAnJykgKyBjaGlsZEtleSk7XG4gICAgICB9XG4gICAgICByZXN1bHQucHVzaChtYXBwZWRDaGlsZCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwoY2hpbGRyZW4sIGFycmF5LCBwcmVmaXgsIGZ1bmMsIGNvbnRleHQpIHtcbiAgICB2YXIgZXNjYXBlZFByZWZpeCA9ICcnO1xuICAgIGlmIChwcmVmaXggIT0gbnVsbCkge1xuICAgICAgZXNjYXBlZFByZWZpeCA9IGVzY2FwZVVzZXJQcm92aWRlZEtleShwcmVmaXgpICsgJy8nO1xuICAgIH1cbiAgICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gTWFwQm9va0tlZXBpbmcuZ2V0UG9vbGVkKGFycmF5LCBlc2NhcGVkUHJlZml4LCBmdW5jLCBjb250ZXh0KTtcbiAgICB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBtYXBTaW5nbGVDaGlsZEludG9Db250ZXh0LCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgIE1hcEJvb2tLZWVwaW5nLnJlbGVhc2UodHJhdmVyc2VDb250ZXh0KTtcbiAgfVxuICBmdW5jdGlvbiBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuYywgY29udGV4dCkge1xuICAgIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCByZXN1bHQsIG51bGwsIGZ1bmMsIGNvbnRleHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkRHVtbXkodHJhdmVyc2VDb250ZXh0LCBjaGlsZCwgbmFtZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIGNvdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaFNpbmdsZUNoaWxkRHVtbXksIG51bGwpO1xuICB9XG4gIGZ1bmN0aW9uIHRvQXJyYXkoY2hpbGRyZW4pIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbChjaGlsZHJlbiwgcmVzdWx0LCBudWxsLCBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgdmFyIFJlYWN0Q2hpbGRyZW4gPSB7XG4gICAgZm9yRWFjaDogZm9yRWFjaENoaWxkcmVuLFxuICAgIG1hcDogbWFwQ2hpbGRyZW4sXG4gICAgbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbDogbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbCxcbiAgICBjb3VudDogY291bnRDaGlsZHJlbixcbiAgICB0b0FycmF5OiB0b0FycmF5XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDaGlsZHJlbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJkXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0ge1xuICAgIGNhblVzZURPTTogY2FuVXNlRE9NLFxuICAgIGNhblVzZVdvcmtlcnM6IHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnLFxuICAgIGNhblVzZUV2ZW50TGlzdGVuZXJzOiBjYW5Vc2VET00gJiYgISEod2luZG93LmFkZEV2ZW50TGlzdGVuZXIgfHwgd2luZG93LmF0dGFjaEV2ZW50KSxcbiAgICBjYW5Vc2VWaWV3cG9ydDogY2FuVXNlRE9NICYmICEhd2luZG93LnNjcmVlbixcbiAgICBpc0luV29ya2VyOiAhY2FuVXNlRE9NXG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZTVcIiwgW1wiZFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gJF9fcmVxdWlyZSgnZCcpO1xuICB2YXIgcGVyZm9ybWFuY2U7XG4gIGlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgICBwZXJmb3JtYW5jZSA9IHdpbmRvdy5wZXJmb3JtYW5jZSB8fCB3aW5kb3cubXNQZXJmb3JtYW5jZSB8fCB3aW5kb3cud2Via2l0UGVyZm9ybWFuY2U7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBwZXJmb3JtYW5jZSB8fCB7fTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJlNlwiLCBbXCJlNVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIHBlcmZvcm1hbmNlID0gJF9fcmVxdWlyZSgnZTUnKTtcbiAgdmFyIHBlcmZvcm1hbmNlTm93O1xuICBpZiAocGVyZm9ybWFuY2Uubm93KSB7XG4gICAgcGVyZm9ybWFuY2VOb3cgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHBlcmZvcm1hbmNlTm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgICB9O1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gcGVyZm9ybWFuY2VOb3c7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZTdcIiwgW1wiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBwcm9jZXNzaW5nQ2hpbGRDb250ZXh0ID0gZmFsc2U7XG4gICAgICB2YXIgd2FybkludmFsaWRTZXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghcHJvY2Vzc2luZ0NoaWxkQ29udGV4dCwgJ3NldFN0YXRlKC4uLik6IENhbm5vdCBjYWxsIHNldFN0YXRlKCkgaW5zaWRlIGdldENoaWxkQ29udGV4dCgpJykgOiB2b2lkIDA7XG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgUmVhY3RJbnZhbGlkU2V0U3RhdGVXYXJuaW5nRGV2VG9vbCA9IHtcbiAgICAgIG9uQmVnaW5Qcm9jZXNzaW5nQ2hpbGRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcHJvY2Vzc2luZ0NoaWxkQ29udGV4dCA9IHRydWU7XG4gICAgICB9LFxuICAgICAgb25FbmRQcm9jZXNzaW5nQ2hpbGRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcHJvY2Vzc2luZ0NoaWxkQ29udGV4dCA9IGZhbHNlO1xuICAgICAgfSxcbiAgICAgIG9uU2V0U3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB3YXJuSW52YWxpZFNldFN0YXRlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2w7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImU4XCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgaGlzdG9yeSA9IFtdO1xuICB2YXIgUmVhY3ROYXRpdmVPcGVyYXRpb25IaXN0b3J5RGV2dG9vbCA9IHtcbiAgICBvbk5hdGl2ZU9wZXJhdGlvbjogZnVuY3Rpb24oZGVidWdJRCwgdHlwZSwgcGF5bG9hZCkge1xuICAgICAgaGlzdG9yeS5wdXNoKHtcbiAgICAgICAgaW5zdGFuY2VJRDogZGVidWdJRCxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgcGF5bG9hZDogcGF5bG9hZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjbGVhckhpc3Rvcnk6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKFJlYWN0TmF0aXZlT3BlcmF0aW9uSGlzdG9yeURldnRvb2wuX3ByZXZlbnRDbGVhcmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBoaXN0b3J5ID0gW107XG4gICAgfSxcbiAgICBnZXRIaXN0b3J5OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBoaXN0b3J5O1xuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdE5hdGl2ZU9wZXJhdGlvbkhpc3RvcnlEZXZ0b29sO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImU5XCIsIFtcIjMwXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIHRyZWUgPSB7fTtcbiAgICB2YXIgcm9vdElEcyA9IFtdO1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVRyZWUoaWQsIHVwZGF0ZSkge1xuICAgICAgaWYgKCF0cmVlW2lkXSkge1xuICAgICAgICB0cmVlW2lkXSA9IHtcbiAgICAgICAgICBwYXJlbnRJRDogbnVsbCxcbiAgICAgICAgICBvd25lcklEOiBudWxsLFxuICAgICAgICAgIHRleHQ6IG51bGwsXG4gICAgICAgICAgY2hpbGRJRHM6IFtdLFxuICAgICAgICAgIGRpc3BsYXlOYW1lOiAnVW5rbm93bicsXG4gICAgICAgICAgaXNNb3VudGVkOiBmYWxzZSxcbiAgICAgICAgICB1cGRhdGVDb3VudDogMFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdXBkYXRlKHRyZWVbaWRdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVyZ2VEZWVwKGlkKSB7XG4gICAgICB2YXIgaXRlbSA9IHRyZWVbaWRdO1xuICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgdmFyIGNoaWxkSURzID0gaXRlbS5jaGlsZElEcztcbiAgICAgICAgZGVsZXRlIHRyZWVbaWRdO1xuICAgICAgICBjaGlsZElEcy5mb3JFYWNoKHB1cmdlRGVlcCk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sID0ge1xuICAgICAgb25TZXREaXNwbGF5TmFtZTogZnVuY3Rpb24oaWQsIGRpc3BsYXlOYW1lKSB7XG4gICAgICAgIHVwZGF0ZVRyZWUoaWQsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXRlbS5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBvblNldENoaWxkcmVuOiBmdW5jdGlvbihpZCwgbmV4dENoaWxkSURzKSB7XG4gICAgICAgIHVwZGF0ZVRyZWUoaWQsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICB2YXIgcHJldkNoaWxkSURzID0gaXRlbS5jaGlsZElEcztcbiAgICAgICAgICBpdGVtLmNoaWxkSURzID0gbmV4dENoaWxkSURzO1xuICAgICAgICAgIG5leHRDaGlsZElEcy5mb3JFYWNoKGZ1bmN0aW9uKG5leHRDaGlsZElEKSB7XG4gICAgICAgICAgICB2YXIgbmV4dENoaWxkID0gdHJlZVtuZXh0Q2hpbGRJRF07XG4gICAgICAgICAgICAhbmV4dENoaWxkID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIGRldnRvb2wgZXZlbnRzIHRvIGZpcmUgZm9yIHRoZSBjaGlsZCAnICsgJ2JlZm9yZSBpdHMgcGFyZW50IGluY2x1ZGVzIGl0IGluIG9uU2V0Q2hpbGRyZW4oKS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICAhKG5leHRDaGlsZC5kaXNwbGF5TmFtZSAhPSBudWxsKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBvblNldERpc3BsYXlOYW1lKCkgdG8gZmlyZSBmb3IgdGhlIGNoaWxkICcgKyAnYmVmb3JlIGl0cyBwYXJlbnQgaW5jbHVkZXMgaXQgaW4gb25TZXRDaGlsZHJlbigpLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICEobmV4dENoaWxkLmNoaWxkSURzICE9IG51bGwgfHwgbmV4dENoaWxkLnRleHQgIT0gbnVsbCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgb25TZXRDaGlsZHJlbigpIG9yIG9uU2V0VGV4dCgpIHRvIGZpcmUgZm9yIHRoZSBjaGlsZCAnICsgJ2JlZm9yZSBpdHMgcGFyZW50IGluY2x1ZGVzIGl0IGluIG9uU2V0Q2hpbGRyZW4oKS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICAhbmV4dENoaWxkLmlzTW91bnRlZCA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBvbk1vdW50Q29tcG9uZW50KCkgdG8gZmlyZSBmb3IgdGhlIGNoaWxkICcgKyAnYmVmb3JlIGl0cyBwYXJlbnQgaW5jbHVkZXMgaXQgaW4gb25TZXRDaGlsZHJlbigpLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChwcmV2Q2hpbGRJRHMuaW5kZXhPZihuZXh0Q2hpbGRJRCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgIG5leHRDaGlsZC5wYXJlbnRJRCA9IGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBvblNldE93bmVyOiBmdW5jdGlvbihpZCwgb3duZXJJRCkge1xuICAgICAgICB1cGRhdGVUcmVlKGlkLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0ub3duZXJJRCA9IG93bmVySUQ7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG9uU2V0VGV4dDogZnVuY3Rpb24oaWQsIHRleHQpIHtcbiAgICAgICAgdXBkYXRlVHJlZShpZCwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtLnRleHQgPSB0ZXh0O1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBvbk1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihpZCkge1xuICAgICAgICB1cGRhdGVUcmVlKGlkLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0uaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgb25Nb3VudFJvb3RDb21wb25lbnQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHJvb3RJRHMucHVzaChpZCk7XG4gICAgICB9LFxuICAgICAgb25VcGRhdGVDb21wb25lbnQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHVwZGF0ZVRyZWUoaWQsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXRlbS51cGRhdGVDb3VudCsrO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBvblVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHVwZGF0ZVRyZWUoaWQsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXRlbS5pc01vdW50ZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJvb3RJRHMgPSByb290SURzLmZpbHRlcihmdW5jdGlvbihyb290SUQpIHtcbiAgICAgICAgICByZXR1cm4gcm9vdElEICE9PSBpZDtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgcHVyZ2VVbm1vdW50ZWRDb21wb25lbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuX3ByZXZlbnRQdXJnaW5nKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5rZXlzKHRyZWUpLmZpbHRlcihmdW5jdGlvbihpZCkge1xuICAgICAgICAgIHJldHVybiAhdHJlZVtpZF0uaXNNb3VudGVkO1xuICAgICAgICB9KS5mb3JFYWNoKHB1cmdlRGVlcCk7XG4gICAgICB9LFxuICAgICAgaXNNb3VudGVkOiBmdW5jdGlvbihpZCkge1xuICAgICAgICB2YXIgaXRlbSA9IHRyZWVbaWRdO1xuICAgICAgICByZXR1cm4gaXRlbSA/IGl0ZW0uaXNNb3VudGVkIDogZmFsc2U7XG4gICAgICB9LFxuICAgICAgZ2V0Q2hpbGRJRHM6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHZhciBpdGVtID0gdHJlZVtpZF07XG4gICAgICAgIHJldHVybiBpdGVtID8gaXRlbS5jaGlsZElEcyA6IFtdO1xuICAgICAgfSxcbiAgICAgIGdldERpc3BsYXlOYW1lOiBmdW5jdGlvbihpZCkge1xuICAgICAgICB2YXIgaXRlbSA9IHRyZWVbaWRdO1xuICAgICAgICByZXR1cm4gaXRlbSA/IGl0ZW0uZGlzcGxheU5hbWUgOiAnVW5rbm93bic7XG4gICAgICB9LFxuICAgICAgZ2V0T3duZXJJRDogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0cmVlW2lkXTtcbiAgICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLm93bmVySUQgOiBudWxsO1xuICAgICAgfSxcbiAgICAgIGdldFBhcmVudElEOiBmdW5jdGlvbihpZCkge1xuICAgICAgICB2YXIgaXRlbSA9IHRyZWVbaWRdO1xuICAgICAgICByZXR1cm4gaXRlbSA/IGl0ZW0ucGFyZW50SUQgOiBudWxsO1xuICAgICAgfSxcbiAgICAgIGdldFRleHQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHZhciBpdGVtID0gdHJlZVtpZF07XG4gICAgICAgIHJldHVybiBpdGVtID8gaXRlbS50ZXh0IDogbnVsbDtcbiAgICAgIH0sXG4gICAgICBnZXRVcGRhdGVDb3VudDogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0cmVlW2lkXTtcbiAgICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLnVwZGF0ZUNvdW50IDogMDtcbiAgICAgIH0sXG4gICAgICBnZXRSb290SURzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJvb3RJRHM7XG4gICAgICB9LFxuICAgICAgZ2V0UmVnaXN0ZXJlZElEczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0cmVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZWFcIiwgW1wiZFwiLCBcImU2XCIsIFwiMjJcIiwgXCJlN1wiLCBcImU4XCIsIFwiZTlcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSAkX19yZXF1aXJlKCdkJyk7XG4gICAgdmFyIHBlcmZvcm1hbmNlTm93ID0gJF9fcmVxdWlyZSgnZTYnKTtcbiAgICB2YXIgd2FybmluZyA9ICRfX3JlcXVpcmUoJzIyJyk7XG4gICAgdmFyIGV2ZW50SGFuZGxlcnMgPSBbXTtcbiAgICB2YXIgaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50ID0ge307XG4gICAgZnVuY3Rpb24gZW1pdEV2ZW50KGhhbmRsZXJGdW5jdGlvbk5hbWUsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGV2ZW50SGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyW2hhbmRsZXJGdW5jdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICAgIGhhbmRsZXJbaGFuZGxlckZ1bmN0aW9uTmFtZV0oYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWhhbmRsZXJEb2VzVGhyb3dGb3JFdmVudFtoYW5kbGVyRnVuY3Rpb25OYW1lXSwgJ2V4Y2VwdGlvbiB0aHJvd24gYnkgZGV2dG9vbCB3aGlsZSBoYW5kbGluZyAlczogJXMnLCBoYW5kbGVyRnVuY3Rpb25OYW1lLCBlLm1lc3NhZ2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50W2hhbmRsZXJGdW5jdGlvbk5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgaXNQcm9maWxpbmcgPSBmYWxzZTtcbiAgICB2YXIgZmx1c2hIaXN0b3J5ID0gW107XG4gICAgdmFyIGN1cnJlbnRGbHVzaE5lc3RpbmcgPSAwO1xuICAgIHZhciBjdXJyZW50Rmx1c2hNZWFzdXJlbWVudHMgPSBudWxsO1xuICAgIHZhciBjdXJyZW50Rmx1c2hTdGFydFRpbWUgPSBudWxsO1xuICAgIHZhciBjdXJyZW50VGltZXJEZWJ1Z0lEID0gbnVsbDtcbiAgICB2YXIgY3VycmVudFRpbWVyU3RhcnRUaW1lID0gbnVsbDtcbiAgICB2YXIgY3VycmVudFRpbWVyVHlwZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gY2xlYXJIaXN0b3J5KCkge1xuICAgICAgUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5wdXJnZVVubW91bnRlZENvbXBvbmVudHMoKTtcbiAgICAgIFJlYWN0TmF0aXZlT3BlcmF0aW9uSGlzdG9yeURldnRvb2wuY2xlYXJIaXN0b3J5KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRyZWVTbmFwc2hvdChyZWdpc3RlcmVkSURzKSB7XG4gICAgICByZXR1cm4gcmVnaXN0ZXJlZElEcy5yZWR1Y2UoZnVuY3Rpb24odHJlZSwgaWQpIHtcbiAgICAgICAgdmFyIG93bmVySUQgPSBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sLmdldE93bmVySUQoaWQpO1xuICAgICAgICB2YXIgcGFyZW50SUQgPSBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sLmdldFBhcmVudElEKGlkKTtcbiAgICAgICAgdHJlZVtpZF0gPSB7XG4gICAgICAgICAgZGlzcGxheU5hbWU6IFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuZ2V0RGlzcGxheU5hbWUoaWQpLFxuICAgICAgICAgIHRleHQ6IFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuZ2V0VGV4dChpZCksXG4gICAgICAgICAgdXBkYXRlQ291bnQ6IFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuZ2V0VXBkYXRlQ291bnQoaWQpLFxuICAgICAgICAgIGNoaWxkSURzOiBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sLmdldENoaWxkSURzKGlkKSxcbiAgICAgICAgICBvd25lcklEOiBvd25lcklEIHx8IFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuZ2V0T3duZXJJRChwYXJlbnRJRCksXG4gICAgICAgICAgcGFyZW50SUQ6IHBhcmVudElEXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0cmVlO1xuICAgICAgfSwge30pO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldE1lYXN1cmVtZW50cygpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhciBwcmV2aW91c1N0YXJ0VGltZSA9IGN1cnJlbnRGbHVzaFN0YXJ0VGltZTtcbiAgICAgICAgdmFyIHByZXZpb3VzTWVhc3VyZW1lbnRzID0gY3VycmVudEZsdXNoTWVhc3VyZW1lbnRzIHx8IFtdO1xuICAgICAgICB2YXIgcHJldmlvdXNPcGVyYXRpb25zID0gUmVhY3ROYXRpdmVPcGVyYXRpb25IaXN0b3J5RGV2dG9vbC5nZXRIaXN0b3J5KCk7XG4gICAgICAgIGlmICghaXNQcm9maWxpbmcgfHwgY3VycmVudEZsdXNoTmVzdGluZyA9PT0gMCkge1xuICAgICAgICAgIGN1cnJlbnRGbHVzaFN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgICAgY3VycmVudEZsdXNoTWVhc3VyZW1lbnRzID0gbnVsbDtcbiAgICAgICAgICBjbGVhckhpc3RvcnkoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZpb3VzTWVhc3VyZW1lbnRzLmxlbmd0aCB8fCBwcmV2aW91c09wZXJhdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHJlZ2lzdGVyZWRJRHMgPSBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sLmdldFJlZ2lzdGVyZWRJRHMoKTtcbiAgICAgICAgICBmbHVzaEhpc3RvcnkucHVzaCh7XG4gICAgICAgICAgICBkdXJhdGlvbjogcGVyZm9ybWFuY2VOb3coKSAtIHByZXZpb3VzU3RhcnRUaW1lLFxuICAgICAgICAgICAgbWVhc3VyZW1lbnRzOiBwcmV2aW91c01lYXN1cmVtZW50cyB8fCBbXSxcbiAgICAgICAgICAgIG9wZXJhdGlvbnM6IHByZXZpb3VzT3BlcmF0aW9ucyB8fCBbXSxcbiAgICAgICAgICAgIHRyZWVTbmFwc2hvdDogZ2V0VHJlZVNuYXBzaG90KHJlZ2lzdGVyZWRJRHMpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJIaXN0b3J5KCk7XG4gICAgICAgIGN1cnJlbnRGbHVzaFN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlTm93KCk7XG4gICAgICAgIGN1cnJlbnRGbHVzaE1lYXN1cmVtZW50cyA9IFtdO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0RlYnVnSUQoZGVidWdJRCkge1xuICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZGVidWdJRCwgJ1JlYWN0RGVidWdUb29sOiBkZWJ1Z0lEIG1heSBub3QgYmUgZW1wdHkuJykgOiB2b2lkIDA7XG4gICAgfVxuICAgIHZhciBSZWFjdERlYnVnVG9vbCA9IHtcbiAgICAgIGFkZERldnRvb2w6IGZ1bmN0aW9uKGRldnRvb2wpIHtcbiAgICAgICAgZXZlbnRIYW5kbGVycy5wdXNoKGRldnRvb2wpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZURldnRvb2w6IGZ1bmN0aW9uKGRldnRvb2wpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudEhhbmRsZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGV2ZW50SGFuZGxlcnNbaV0gPT09IGRldnRvb2wpIHtcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGJlZ2luUHJvZmlsaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAoaXNQcm9maWxpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaXNQcm9maWxpbmcgPSB0cnVlO1xuICAgICAgICAgIGZsdXNoSGlzdG9yeS5sZW5ndGggPSAwO1xuICAgICAgICAgIHJlc2V0TWVhc3VyZW1lbnRzKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlbmRQcm9maWxpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmICghaXNQcm9maWxpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaXNQcm9maWxpbmcgPSBmYWxzZTtcbiAgICAgICAgICByZXNldE1lYXN1cmVtZW50cygpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ2V0Rmx1c2hIaXN0b3J5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gZmx1c2hIaXN0b3J5O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25CZWdpbkZsdXNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjdXJyZW50Rmx1c2hOZXN0aW5nKys7XG4gICAgICAgICAgcmVzZXRNZWFzdXJlbWVudHMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbWl0RXZlbnQoJ29uQmVnaW5GbHVzaCcpO1xuICAgICAgfSxcbiAgICAgIG9uRW5kRmx1c2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHJlc2V0TWVhc3VyZW1lbnRzKCk7XG4gICAgICAgICAgY3VycmVudEZsdXNoTmVzdGluZy0tO1xuICAgICAgICB9XG4gICAgICAgIGVtaXRFdmVudCgnb25FbmRGbHVzaCcpO1xuICAgICAgfSxcbiAgICAgIG9uQmVnaW5MaWZlQ3ljbGVUaW1lcjogZnVuY3Rpb24oZGVidWdJRCwgdGltZXJUeXBlKSB7XG4gICAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgICAgZW1pdEV2ZW50KCdvbkJlZ2luTGlmZUN5Y2xlVGltZXInLCBkZWJ1Z0lELCB0aW1lclR5cGUpO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmIChpc1Byb2ZpbGluZyAmJiBjdXJyZW50Rmx1c2hOZXN0aW5nID4gMCkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWN1cnJlbnRUaW1lclR5cGUsICdUaGVyZSBpcyBhbiBpbnRlcm5hbCBlcnJvciBpbiB0aGUgUmVhY3QgcGVyZm9ybWFuY2UgbWVhc3VyZW1lbnQgY29kZS4gJyArICdEaWQgbm90IGV4cGVjdCAlcyB0aW1lciB0byBzdGFydCB3aGlsZSAlcyB0aW1lciBpcyBzdGlsbCBpbiAnICsgJ3Byb2dyZXNzIGZvciAlcyBpbnN0YW5jZS4nLCB0aW1lclR5cGUsIGN1cnJlbnRUaW1lclR5cGUgfHwgJ25vJywgZGVidWdJRCA9PT0gY3VycmVudFRpbWVyRGVidWdJRCA/ICd0aGUgc2FtZScgOiAnYW5vdGhlcicpIDogdm9pZCAwO1xuICAgICAgICAgICAgY3VycmVudFRpbWVyU3RhcnRUaW1lID0gcGVyZm9ybWFuY2VOb3coKTtcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lckRlYnVnSUQgPSBkZWJ1Z0lEO1xuICAgICAgICAgICAgY3VycmVudFRpbWVyVHlwZSA9IHRpbWVyVHlwZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbkVuZExpZmVDeWNsZVRpbWVyOiBmdW5jdGlvbihkZWJ1Z0lELCB0aW1lclR5cGUpIHtcbiAgICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmIChpc1Byb2ZpbGluZyAmJiBjdXJyZW50Rmx1c2hOZXN0aW5nID4gMCkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoY3VycmVudFRpbWVyVHlwZSA9PT0gdGltZXJUeXBlLCAnVGhlcmUgaXMgYW4gaW50ZXJuYWwgZXJyb3IgaW4gdGhlIFJlYWN0IHBlcmZvcm1hbmNlIG1lYXN1cmVtZW50IGNvZGUuICcgKyAnV2UgZGlkIG5vdCBleHBlY3QgJXMgdGltZXIgdG8gc3RvcCB3aGlsZSAlcyB0aW1lciBpcyBzdGlsbCBpbiAnICsgJ3Byb2dyZXNzIGZvciAlcyBpbnN0YW5jZS4gUGxlYXNlIHJlcG9ydCB0aGlzIGFzIGEgYnVnIGluIFJlYWN0LicsIHRpbWVyVHlwZSwgY3VycmVudFRpbWVyVHlwZSB8fCAnbm8nLCBkZWJ1Z0lEID09PSBjdXJyZW50VGltZXJEZWJ1Z0lEID8gJ3RoZSBzYW1lJyA6ICdhbm90aGVyJykgOiB2b2lkIDA7XG4gICAgICAgICAgICBjdXJyZW50Rmx1c2hNZWFzdXJlbWVudHMucHVzaCh7XG4gICAgICAgICAgICAgIHRpbWVyVHlwZTogdGltZXJUeXBlLFxuICAgICAgICAgICAgICBpbnN0YW5jZUlEOiBkZWJ1Z0lELFxuICAgICAgICAgICAgICBkdXJhdGlvbjogcGVyZm9ybWFuY2VOb3coKSAtIGN1cnJlbnRUaW1lclN0YXJ0VGltZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjdXJyZW50VGltZXJTdGFydFRpbWUgPSBudWxsO1xuICAgICAgICAgICAgY3VycmVudFRpbWVyRGVidWdJRCA9IG51bGw7XG4gICAgICAgICAgICBjdXJyZW50VGltZXJUeXBlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZW1pdEV2ZW50KCdvbkVuZExpZmVDeWNsZVRpbWVyJywgZGVidWdJRCwgdGltZXJUeXBlKTtcbiAgICAgIH0sXG4gICAgICBvbkJlZ2luUmVjb25jaWxlclRpbWVyOiBmdW5jdGlvbihkZWJ1Z0lELCB0aW1lclR5cGUpIHtcbiAgICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgICBlbWl0RXZlbnQoJ29uQmVnaW5SZWNvbmNpbGVyVGltZXInLCBkZWJ1Z0lELCB0aW1lclR5cGUpO1xuICAgICAgfSxcbiAgICAgIG9uRW5kUmVjb25jaWxlclRpbWVyOiBmdW5jdGlvbihkZWJ1Z0lELCB0aW1lclR5cGUpIHtcbiAgICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgICBlbWl0RXZlbnQoJ29uRW5kUmVjb25jaWxlclRpbWVyJywgZGVidWdJRCwgdGltZXJUeXBlKTtcbiAgICAgIH0sXG4gICAgICBvbkJlZ2luUHJvY2Vzc2luZ0NoaWxkQ29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGVtaXRFdmVudCgnb25CZWdpblByb2Nlc3NpbmdDaGlsZENvbnRleHQnKTtcbiAgICAgIH0sXG4gICAgICBvbkVuZFByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uRW5kUHJvY2Vzc2luZ0NoaWxkQ29udGV4dCcpO1xuICAgICAgfSxcbiAgICAgIG9uTmF0aXZlT3BlcmF0aW9uOiBmdW5jdGlvbihkZWJ1Z0lELCB0eXBlLCBwYXlsb2FkKSB7XG4gICAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgICAgZW1pdEV2ZW50KCdvbk5hdGl2ZU9wZXJhdGlvbicsIGRlYnVnSUQsIHR5cGUsIHBheWxvYWQpO1xuICAgICAgfSxcbiAgICAgIG9uU2V0U3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBlbWl0RXZlbnQoJ29uU2V0U3RhdGUnKTtcbiAgICAgIH0sXG4gICAgICBvblNldERpc3BsYXlOYW1lOiBmdW5jdGlvbihkZWJ1Z0lELCBkaXNwbGF5TmFtZSkge1xuICAgICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICAgIGVtaXRFdmVudCgnb25TZXREaXNwbGF5TmFtZScsIGRlYnVnSUQsIGRpc3BsYXlOYW1lKTtcbiAgICAgIH0sXG4gICAgICBvblNldENoaWxkcmVuOiBmdW5jdGlvbihkZWJ1Z0lELCBjaGlsZERlYnVnSURzKSB7XG4gICAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgICAgZW1pdEV2ZW50KCdvblNldENoaWxkcmVuJywgZGVidWdJRCwgY2hpbGREZWJ1Z0lEcyk7XG4gICAgICB9LFxuICAgICAgb25TZXRPd25lcjogZnVuY3Rpb24oZGVidWdJRCwgb3duZXJEZWJ1Z0lEKSB7XG4gICAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgICAgZW1pdEV2ZW50KCdvblNldE93bmVyJywgZGVidWdJRCwgb3duZXJEZWJ1Z0lEKTtcbiAgICAgIH0sXG4gICAgICBvblNldFRleHQ6IGZ1bmN0aW9uKGRlYnVnSUQsIHRleHQpIHtcbiAgICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgICBlbWl0RXZlbnQoJ29uU2V0VGV4dCcsIGRlYnVnSUQsIHRleHQpO1xuICAgICAgfSxcbiAgICAgIG9uTW91bnRSb290Q29tcG9uZW50OiBmdW5jdGlvbihkZWJ1Z0lEKSB7XG4gICAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgICAgZW1pdEV2ZW50KCdvbk1vdW50Um9vdENvbXBvbmVudCcsIGRlYnVnSUQpO1xuICAgICAgfSxcbiAgICAgIG9uTW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKGRlYnVnSUQpIHtcbiAgICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgICBlbWl0RXZlbnQoJ29uTW91bnRDb21wb25lbnQnLCBkZWJ1Z0lEKTtcbiAgICAgIH0sXG4gICAgICBvblVwZGF0ZUNvbXBvbmVudDogZnVuY3Rpb24oZGVidWdJRCkge1xuICAgICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICAgIGVtaXRFdmVudCgnb25VcGRhdGVDb21wb25lbnQnLCBkZWJ1Z0lEKTtcbiAgICAgIH0sXG4gICAgICBvblVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKGRlYnVnSUQpIHtcbiAgICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgICBlbWl0RXZlbnQoJ29uVW5tb3VudENvbXBvbmVudCcsIGRlYnVnSUQpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBSZWFjdEludmFsaWRTZXRTdGF0ZVdhcm5pbmdEZXZUb29sID0gJF9fcmVxdWlyZSgnZTcnKTtcbiAgICAgIHZhciBSZWFjdE5hdGl2ZU9wZXJhdGlvbkhpc3RvcnlEZXZ0b29sID0gJF9fcmVxdWlyZSgnZTgnKTtcbiAgICAgIHZhciBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sID0gJF9fcmVxdWlyZSgnZTknKTtcbiAgICAgIFJlYWN0RGVidWdUb29sLmFkZERldnRvb2woUmVhY3RJbnZhbGlkU2V0U3RhdGVXYXJuaW5nRGV2VG9vbCk7XG4gICAgICBSZWFjdERlYnVnVG9vbC5hZGREZXZ0b29sKFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wpO1xuICAgICAgUmVhY3REZWJ1Z1Rvb2wuYWRkRGV2dG9vbChSZWFjdE5hdGl2ZU9wZXJhdGlvbkhpc3RvcnlEZXZ0b29sKTtcbiAgICAgIHZhciB1cmwgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgd2luZG93LmxvY2F0aW9uLmhyZWYgfHwgJyc7XG4gICAgICBpZiAoL1s/Jl1yZWFjdF9wZXJmXFxiLy50ZXN0KHVybCkpIHtcbiAgICAgICAgUmVhY3REZWJ1Z1Rvb2wuYmVnaW5Qcm9maWxpbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERlYnVnVG9vbDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMjdcIiwgW1wiZWFcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBSZWFjdERlYnVnVG9vbCA9ICRfX3JlcXVpcmUoJ2VhJyk7XG4gIG1vZHVsZS5leHBvcnRzID0ge2RlYnVnVG9vbDogUmVhY3REZWJ1Z1Rvb2x9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImViXCIsIFtcImVjXCIsIFwiMjdcIiwgXCJlZFwiLCBcIjk0XCIsIFwiMzBcIiwgXCIyMlwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBSZWFjdE5vb3BVcGRhdGVRdWV1ZSA9ICRfX3JlcXVpcmUoJ2VjJyk7XG4gICAgdmFyIFJlYWN0SW5zdHJ1bWVudGF0aW9uID0gJF9fcmVxdWlyZSgnMjcnKTtcbiAgICB2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSAkX19yZXF1aXJlKCdlZCcpO1xuICAgIHZhciBlbXB0eU9iamVjdCA9ICRfX3JlcXVpcmUoJzk0Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIGZ1bmN0aW9uIFJlYWN0Q29tcG9uZW50KHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgdGhpcy5yZWZzID0gZW1wdHlPYmplY3Q7XG4gICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgIH1cbiAgICBSZWFjdENvbXBvbmVudC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHt9O1xuICAgIFJlYWN0Q29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uKHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgICEodHlwZW9mIHBhcnRpYWxTdGF0ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHBhcnRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyB8fCBwYXJ0aWFsU3RhdGUgPT0gbnVsbCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnc2V0U3RhdGUoLi4uKTogdGFrZXMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcyB0byB1cGRhdGUgb3IgYSAnICsgJ2Z1bmN0aW9uIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRTdGF0ZSgpO1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhwYXJ0aWFsU3RhdGUgIT0gbnVsbCwgJ3NldFN0YXRlKC4uLik6IFlvdSBwYXNzZWQgYW4gdW5kZWZpbmVkIG9yIG51bGwgc3RhdGUgb2JqZWN0OyAnICsgJ2luc3RlYWQsIHVzZSBmb3JjZVVwZGF0ZSgpLicpIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVTZXRTdGF0ZSh0aGlzLCBwYXJ0aWFsU3RhdGUpO1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlQ2FsbGJhY2sodGhpcywgY2FsbGJhY2ssICdzZXRTdGF0ZScpO1xuICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RDb21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcyk7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVDYWxsYmFjayh0aGlzLCBjYWxsYmFjaywgJ2ZvcmNlVXBkYXRlJyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgICAgICBpc01vdW50ZWQ6IFsnaXNNb3VudGVkJywgJ0luc3RlYWQsIG1ha2Ugc3VyZSB0byBjbGVhbiB1cCBzdWJzY3JpcHRpb25zIGFuZCBwZW5kaW5nIHJlcXVlc3RzIGluICcgKyAnY29tcG9uZW50V2lsbFVubW91bnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuJ10sXG4gICAgICAgIHJlcGxhY2VTdGF0ZTogWydyZXBsYWNlU3RhdGUnLCAnUmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBzZXRTdGF0ZSBpbnN0ZWFkIChzZWUgJyArICdodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzMyMzYpLiddXG4gICAgICB9O1xuICAgICAgdmFyIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyA9IGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZm8pIHtcbiAgICAgICAgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWN0Q29tcG9uZW50LnByb3RvdHlwZSwgbWV0aG9kTmFtZSwge2dldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKSBpcyBkZXByZWNhdGVkIGluIHBsYWluIEphdmFTY3JpcHQgUmVhY3QgY2xhc3Nlcy4gJXMnLCBpbmZvWzBdLCBpbmZvWzFdKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH19KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGZvciAodmFyIGZuTmFtZSBpbiBkZXByZWNhdGVkQVBJcykge1xuICAgICAgICBpZiAoZGVwcmVjYXRlZEFQSXMuaGFzT3duUHJvcGVydHkoZm5OYW1lKSkge1xuICAgICAgICAgIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyhmbk5hbWUsIGRlcHJlY2F0ZWRBUElzW2ZuTmFtZV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDb21wb25lbnQ7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImVjXCIsIFtcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIGZ1bmN0aW9uIHdhcm5URFoocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKTogQ2FuIG9ubHkgdXBkYXRlIGEgbW91bnRlZCBvciBtb3VudGluZyBjb21wb25lbnQuICcgKyAnVGhpcyB1c3VhbGx5IG1lYW5zIHlvdSBjYWxsZWQgJXMoKSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LiAnICsgJ1RoaXMgaXMgYSBuby1vcC4gUGxlYXNlIGNoZWNrIHRoZSBjb2RlIGZvciB0aGUgJXMgY29tcG9uZW50LicsIGNhbGxlck5hbWUsIGNhbGxlck5hbWUsIHB1YmxpY0luc3RhbmNlLmNvbnN0cnVjdG9yICYmIHB1YmxpY0luc3RhbmNlLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8ICcnKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0ge1xuICAgICAgaXNNb3VudGVkOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9LFxuICAgICAgZW5xdWV1ZUNhbGxiYWNrOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSwgY2FsbGJhY2spIHt9LFxuICAgICAgZW5xdWV1ZUZvcmNlVXBkYXRlOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgICB3YXJuVERaKHB1YmxpY0luc3RhbmNlLCAnZm9yY2VVcGRhdGUnKTtcbiAgICAgIH0sXG4gICAgICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSwgY29tcGxldGVTdGF0ZSkge1xuICAgICAgICB3YXJuVERaKHB1YmxpY0luc3RhbmNlLCAncmVwbGFjZVN0YXRlJyk7XG4gICAgICB9LFxuICAgICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSwgcGFydGlhbFN0YXRlKSB7XG4gICAgICAgIHdhcm5URFoocHVibGljSW5zdGFuY2UsICdzZXRTdGF0ZScpO1xuICAgICAgfVxuICAgIH07XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiOTRcIiwgW1wiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGVtcHR5T2JqZWN0ID0ge307XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIE9iamVjdC5mcmVlemUoZW1wdHlPYmplY3QpO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGVtcHR5T2JqZWN0O1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJlXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIga2V5T2YgPSBmdW5jdGlvbihvbmVLZXlPYmopIHtcbiAgICB2YXIga2V5O1xuICAgIGZvciAoa2V5IGluIG9uZUtleU9iaikge1xuICAgICAgaWYgKCFvbmVLZXlPYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IGtleU9mO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjYzXCIsIFtcIjZcIiwgXCJlYlwiLCBcIjhkXCIsIFwiM2JcIiwgXCI5M1wiLCBcImVjXCIsIFwiOTRcIiwgXCIzMFwiLCBcIjU4XCIsIFwiZVwiLCBcIjIyXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIF9hc3NpZ24gPSAkX19yZXF1aXJlKCc2Jyk7XG4gICAgdmFyIFJlYWN0Q29tcG9uZW50ID0gJF9fcmVxdWlyZSgnZWInKTtcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gJF9fcmVxdWlyZSgnOGQnKTtcbiAgICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucyA9ICRfX3JlcXVpcmUoJzNiJyk7XG4gICAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0gJF9fcmVxdWlyZSgnOTMnKTtcbiAgICB2YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSAkX19yZXF1aXJlKCdlYycpO1xuICAgIHZhciBlbXB0eU9iamVjdCA9ICRfX3JlcXVpcmUoJzk0Jyk7XG4gICAgdmFyIGludmFyaWFudCA9ICRfX3JlcXVpcmUoJzMwJyk7XG4gICAgdmFyIGtleU1pcnJvciA9ICRfX3JlcXVpcmUoJzU4Jyk7XG4gICAgdmFyIGtleU9mID0gJF9fcmVxdWlyZSgnZScpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgTUlYSU5TX0tFWSA9IGtleU9mKHttaXhpbnM6IG51bGx9KTtcbiAgICB2YXIgU3BlY1BvbGljeSA9IGtleU1pcnJvcih7XG4gICAgICBERUZJTkVfT05DRTogbnVsbCxcbiAgICAgIERFRklORV9NQU5ZOiBudWxsLFxuICAgICAgT1ZFUlJJREVfQkFTRTogbnVsbCxcbiAgICAgIERFRklORV9NQU5ZX01FUkdFRDogbnVsbFxuICAgIH0pO1xuICAgIHZhciBpbmplY3RlZE1peGlucyA9IFtdO1xuICAgIHZhciBSZWFjdENsYXNzSW50ZXJmYWNlID0ge1xuICAgICAgbWl4aW5zOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgc3RhdGljczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIHByb3BUeXBlczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIGNvbnRleHRUeXBlczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIGNoaWxkQ29udGV4dFR5cGVzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgZ2V0RGVmYXVsdFByb3BzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCxcbiAgICAgIGdldEluaXRpYWxTdGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQsXG4gICAgICBnZXRDaGlsZENvbnRleHQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VELFxuICAgICAgcmVuZGVyOiBTcGVjUG9saWN5LkRFRklORV9PTkNFLFxuICAgICAgY29tcG9uZW50V2lsbE1vdW50OiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgY29tcG9uZW50RGlkTW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlOiBTcGVjUG9saWN5LkRFRklORV9PTkNFLFxuICAgICAgY29tcG9uZW50V2lsbFVwZGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIGNvbXBvbmVudERpZFVwZGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICAgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgICAgdXBkYXRlQ29tcG9uZW50OiBTcGVjUG9saWN5Lk9WRVJSSURFX0JBU0VcbiAgICB9O1xuICAgIHZhciBSRVNFUlZFRF9TUEVDX0tFWVMgPSB7XG4gICAgICBkaXNwbGF5TmFtZTogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGRpc3BsYXlOYW1lKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG4gICAgICB9LFxuICAgICAgbWl4aW5zOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgbWl4aW5zKSB7XG4gICAgICAgIGlmIChtaXhpbnMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIG1peGluc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2hpbGRDb250ZXh0VHlwZXM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBjaGlsZENvbnRleHRUeXBlcykge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgY2hpbGRDb250ZXh0VHlwZXMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY2hpbGRDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBDb25zdHJ1Y3Rvci5jaGlsZENvbnRleHRUeXBlcyA9IF9hc3NpZ24oe30sIENvbnN0cnVjdG9yLmNoaWxkQ29udGV4dFR5cGVzLCBjaGlsZENvbnRleHRUeXBlcyk7XG4gICAgICB9LFxuICAgICAgY29udGV4dFR5cGVzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgY29udGV4dFR5cGVzKSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCBjb250ZXh0VHlwZXMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgQ29uc3RydWN0b3IuY29udGV4dFR5cGVzID0gX2Fzc2lnbih7fSwgQ29uc3RydWN0b3IuY29udGV4dFR5cGVzLCBjb250ZXh0VHlwZXMpO1xuICAgICAgfSxcbiAgICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGdldERlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAoQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzID0gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24oQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLCBnZXREZWZhdWx0UHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcyA9IGdldERlZmF1bHRQcm9wcztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb3BUeXBlczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIHByb3BUeXBlcykge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgcHJvcFR5cGVzLCBSZWFjdFByb3BUeXBlTG9jYXRpb25zLnByb3ApO1xuICAgICAgICB9XG4gICAgICAgIENvbnN0cnVjdG9yLnByb3BUeXBlcyA9IF9hc3NpZ24oe30sIENvbnN0cnVjdG9yLnByb3BUeXBlcywgcHJvcFR5cGVzKTtcbiAgICAgIH0sXG4gICAgICBzdGF0aWNzOiBmdW5jdGlvbihDb25zdHJ1Y3Rvciwgc3RhdGljcykge1xuICAgICAgICBtaXhTdGF0aWNTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3RhdGljcyk7XG4gICAgICB9LFxuICAgICAgYXV0b2JpbmQ6IGZ1bmN0aW9uKCkge31cbiAgICB9O1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgdHlwZURlZiwgbG9jYXRpb24pIHtcbiAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIHR5cGVEZWYpIHtcbiAgICAgICAgaWYgKHR5cGVEZWYuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodHlwZW9mIHR5cGVEZWZbcHJvcE5hbWVdID09PSAnZnVuY3Rpb24nLCAnJXM6ICVzIHR5cGUgYCVzYCBpcyBpbnZhbGlkOyBpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSAnICsgJ1JlYWN0LlByb3BUeXBlcy4nLCBDb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCAnUmVhY3RDbGFzcycsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXSwgcHJvcE5hbWUpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlTWV0aG9kT3ZlcnJpZGUoaXNBbHJlYWR5RGVmaW5lZCwgbmFtZSkge1xuICAgICAgdmFyIHNwZWNQb2xpY3kgPSBSZWFjdENsYXNzSW50ZXJmYWNlLmhhc093blByb3BlcnR5KG5hbWUpID8gUmVhY3RDbGFzc0ludGVyZmFjZVtuYW1lXSA6IG51bGw7XG4gICAgICBpZiAoUmVhY3RDbGFzc01peGluLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICEoc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5PVkVSUklERV9CQVNFKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzSW50ZXJmYWNlOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gb3ZlcnJpZGUgJyArICdgJXNgIGZyb20geW91ciBjbGFzcyBzcGVjaWZpY2F0aW9uLiBFbnN1cmUgdGhhdCB5b3VyIG1ldGhvZCBuYW1lcyAnICsgJ2RvIG5vdCBvdmVybGFwIHdpdGggUmVhY3QgbWV0aG9kcy4nLCBuYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBpZiAoaXNBbHJlYWR5RGVmaW5lZCkge1xuICAgICAgICAhKHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTlkgfHwgc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3NJbnRlcmZhY2U6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBkZWZpbmUgJyArICdgJXNgIG9uIHlvdXIgY29tcG9uZW50IG1vcmUgdGhhbiBvbmNlLiBUaGlzIGNvbmZsaWN0IG1heSBiZSBkdWUgJyArICd0byBhIG1peGluLicsIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHNwZWMpIHtcbiAgICAgIGlmICghc3BlYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAhKHR5cGVvZiBzcGVjICE9PSAnZnVuY3Rpb24nKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3VcXCdyZSBhdHRlbXB0aW5nIHRvICcgKyAndXNlIGEgY29tcG9uZW50IGNsYXNzIG9yIGZ1bmN0aW9uIGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgJyArICdyZWd1bGFyIG9iamVjdC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAhIVJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChzcGVjKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3VcXCdyZSBhdHRlbXB0aW5nIHRvICcgKyAndXNlIGEgY29tcG9uZW50IGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgcmVndWxhciBvYmplY3QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIHByb3RvID0gQ29uc3RydWN0b3IucHJvdG90eXBlO1xuICAgICAgdmFyIGF1dG9CaW5kUGFpcnMgPSBwcm90by5fX3JlYWN0QXV0b0JpbmRQYWlycztcbiAgICAgIGlmIChzcGVjLmhhc093blByb3BlcnR5KE1JWElOU19LRVkpKSB7XG4gICAgICAgIFJFU0VSVkVEX1NQRUNfS0VZUy5taXhpbnMoQ29uc3RydWN0b3IsIHNwZWMubWl4aW5zKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIG5hbWUgaW4gc3BlYykge1xuICAgICAgICBpZiAoIXNwZWMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSA9PT0gTUlYSU5TX0tFWSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHNwZWNbbmFtZV07XG4gICAgICAgIHZhciBpc0FscmVhZHlEZWZpbmVkID0gcHJvdG8uaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgICAgIHZhbGlkYXRlTWV0aG9kT3ZlcnJpZGUoaXNBbHJlYWR5RGVmaW5lZCwgbmFtZSk7XG4gICAgICAgIGlmIChSRVNFUlZFRF9TUEVDX0tFWVMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICBSRVNFUlZFRF9TUEVDX0tFWVNbbmFtZV0oQ29uc3RydWN0b3IsIHByb3BlcnR5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaXNSZWFjdENsYXNzTWV0aG9kID0gUmVhY3RDbGFzc0ludGVyZmFjZS5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgICAgICAgICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgICB2YXIgc2hvdWxkQXV0b0JpbmQgPSBpc0Z1bmN0aW9uICYmICFpc1JlYWN0Q2xhc3NNZXRob2QgJiYgIWlzQWxyZWFkeURlZmluZWQgJiYgc3BlYy5hdXRvYmluZCAhPT0gZmFsc2U7XG4gICAgICAgICAgaWYgKHNob3VsZEF1dG9CaW5kKSB7XG4gICAgICAgICAgICBhdXRvQmluZFBhaXJzLnB1c2gobmFtZSwgcHJvcGVydHkpO1xuICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzQWxyZWFkeURlZmluZWQpIHtcbiAgICAgICAgICAgICAgdmFyIHNwZWNQb2xpY3kgPSBSZWFjdENsYXNzSW50ZXJmYWNlW25hbWVdO1xuICAgICAgICAgICAgICAhKGlzUmVhY3RDbGFzc01ldGhvZCAmJiAoc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQgfHwgc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWSkpID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3M6IFVuZXhwZWN0ZWQgc3BlYyBwb2xpY3kgJXMgZm9yIGtleSAlcyAnICsgJ3doZW4gbWl4aW5nIGluIGNvbXBvbmVudCBzcGVjcy4nLCBzcGVjUG9saWN5LCBuYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIGlmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCkge1xuICAgICAgICAgICAgICAgIHByb3RvW25hbWVdID0gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24ocHJvdG9bbmFtZV0sIHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZKSB7XG4gICAgICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBjcmVhdGVDaGFpbmVkRnVuY3Rpb24ocHJvdG9bbmFtZV0sIHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSAnZnVuY3Rpb24nICYmIHNwZWMuZGlzcGxheU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgIHByb3RvW25hbWVdLmRpc3BsYXlOYW1lID0gc3BlYy5kaXNwbGF5TmFtZSArICdfJyArIG5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1peFN0YXRpY1NwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzdGF0aWNzKSB7XG4gICAgICBpZiAoIXN0YXRpY3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgbmFtZSBpbiBzdGF0aWNzKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHN0YXRpY3NbbmFtZV07XG4gICAgICAgIGlmICghc3RhdGljcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc1Jlc2VydmVkID0gbmFtZSBpbiBSRVNFUlZFRF9TUEVDX0tFWVM7XG4gICAgICAgICEhaXNSZXNlcnZlZCA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gZGVmaW5lIGEgcmVzZXJ2ZWQgJyArICdwcm9wZXJ0eSwgYCVzYCwgdGhhdCBzaG91bGRuXFwndCBiZSBvbiB0aGUgXCJzdGF0aWNzXCIga2V5LiBEZWZpbmUgaXQgJyArICdhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBpbnN0ZWFkOyBpdCB3aWxsIHN0aWxsIGJlIGFjY2Vzc2libGUgb24gdGhlICcgKyAnY29uc3RydWN0b3IuJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB2YXIgaXNJbmhlcml0ZWQgPSBuYW1lIGluIENvbnN0cnVjdG9yO1xuICAgICAgICAhIWlzSW5oZXJpdGVkID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3M6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBkZWZpbmUgJyArICdgJXNgIG9uIHlvdXIgY29tcG9uZW50IG1vcmUgdGhhbiBvbmNlLiBUaGlzIGNvbmZsaWN0IG1heSBiZSAnICsgJ2R1ZSB0byBhIG1peGluLicsIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgQ29uc3RydWN0b3JbbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhvbmUsIHR3bykge1xuICAgICAgIShvbmUgJiYgdHdvICYmIHR5cGVvZiBvbmUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB0d28gPT09ICdvYmplY3QnKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzKCk6IENhbm5vdCBtZXJnZSBub24tb2JqZWN0cy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdHdvKSB7XG4gICAgICAgIGlmICh0d28uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICEob25lW2tleV0gPT09IHVuZGVmaW5lZCkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cygpOiAnICsgJ1RyaWVkIHRvIG1lcmdlIHR3byBvYmplY3RzIHdpdGggdGhlIHNhbWUga2V5OiBgJXNgLiBUaGlzIGNvbmZsaWN0ICcgKyAnbWF5IGJlIGR1ZSB0byBhIG1peGluOyBpbiBwYXJ0aWN1bGFyLCB0aGlzIG1heSBiZSBjYXVzZWQgYnkgdHdvICcgKyAnZ2V0SW5pdGlhbFN0YXRlKCkgb3IgZ2V0RGVmYXVsdFByb3BzKCkgbWV0aG9kcyByZXR1cm5pbmcgb2JqZWN0cyAnICsgJ3dpdGggY2xhc2hpbmcga2V5cy4nLCBrZXkpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBvbmVba2V5XSA9IHR3b1trZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb25lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVNZXJnZWRSZXN1bHRGdW5jdGlvbihvbmUsIHR3bykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZFJlc3VsdCgpIHtcbiAgICAgICAgdmFyIGEgPSBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgdmFyIGIgPSB0d28uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKGEgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9IGVsc2UgaWYgKGIgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjID0ge307XG4gICAgICAgIG1lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoYywgYSk7XG4gICAgICAgIG1lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoYywgYik7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uKG9uZSwgdHdvKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gY2hhaW5lZEZ1bmN0aW9uKCkge1xuICAgICAgICBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgdHdvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBiaW5kQXV0b0JpbmRNZXRob2QoY29tcG9uZW50LCBtZXRob2QpIHtcbiAgICAgIHZhciBib3VuZE1ldGhvZCA9IG1ldGhvZC5iaW5kKGNvbXBvbmVudCk7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRDb250ZXh0ID0gY29tcG9uZW50O1xuICAgICAgICBib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRNZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IG51bGw7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lO1xuICAgICAgICB2YXIgX2JpbmQgPSBib3VuZE1ldGhvZC5iaW5kO1xuICAgICAgICBib3VuZE1ldGhvZC5iaW5kID0gZnVuY3Rpb24obmV3VGhpcykge1xuICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgICBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLFxuICAgICAgICAgICAgICBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChuZXdUaGlzICE9PSBjb21wb25lbnQgJiYgbmV3VGhpcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdiaW5kKCk6IFJlYWN0IGNvbXBvbmVudCBtZXRob2RzIG1heSBvbmx5IGJlIGJvdW5kIHRvIHRoZSAnICsgJ2NvbXBvbmVudCBpbnN0YW5jZS4gU2VlICVzJywgY29tcG9uZW50TmFtZSkgOiB2b2lkIDA7XG4gICAgICAgICAgfSBlbHNlIGlmICghYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYmluZCgpOiBZb3UgYXJlIGJpbmRpbmcgYSBjb21wb25lbnQgbWV0aG9kIHRvIHRoZSBjb21wb25lbnQuICcgKyAnUmVhY3QgZG9lcyB0aGlzIGZvciB5b3UgYXV0b21hdGljYWxseSBpbiBhIGhpZ2gtcGVyZm9ybWFuY2UgJyArICd3YXksIHNvIHlvdSBjYW4gc2FmZWx5IHJlbW92ZSB0aGlzIGNhbGwuIFNlZSAlcycsIGNvbXBvbmVudE5hbWUpIDogdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIGJvdW5kTWV0aG9kO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcmVib3VuZE1ldGhvZCA9IF9iaW5kLmFwcGx5KGJvdW5kTWV0aG9kLCBhcmd1bWVudHMpO1xuICAgICAgICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQ29udGV4dCA9IGNvbXBvbmVudDtcbiAgICAgICAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZE1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IGFyZ3M7XG4gICAgICAgICAgcmV0dXJuIHJlYm91bmRNZXRob2Q7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gYm91bmRNZXRob2Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJpbmRBdXRvQmluZE1ldGhvZHMoY29tcG9uZW50KSB7XG4gICAgICB2YXIgcGFpcnMgPSBjb21wb25lbnQuX19yZWFjdEF1dG9CaW5kUGFpcnM7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIHZhciBhdXRvQmluZEtleSA9IHBhaXJzW2ldO1xuICAgICAgICB2YXIgbWV0aG9kID0gcGFpcnNbaSArIDFdO1xuICAgICAgICBjb21wb25lbnRbYXV0b0JpbmRLZXldID0gYmluZEF1dG9CaW5kTWV0aG9kKGNvbXBvbmVudCwgbWV0aG9kKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFJlYWN0Q2xhc3NNaXhpbiA9IHtcbiAgICAgIHJlcGxhY2VTdGF0ZTogZnVuY3Rpb24obmV3U3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlUmVwbGFjZVN0YXRlKHRoaXMsIG5ld1N0YXRlKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVDYWxsYmFjayh0aGlzLCBjYWxsYmFjaywgJ3JlcGxhY2VTdGF0ZScpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaXNNb3VudGVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlci5pc01vdW50ZWQodGhpcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgUmVhY3RDbGFzc0NvbXBvbmVudCA9IGZ1bmN0aW9uKCkge307XG4gICAgX2Fzc2lnbihSZWFjdENsYXNzQ29tcG9uZW50LnByb3RvdHlwZSwgUmVhY3RDb21wb25lbnQucHJvdG90eXBlLCBSZWFjdENsYXNzTWl4aW4pO1xuICAgIHZhciBSZWFjdENsYXNzID0ge1xuICAgICAgY3JlYXRlQ2xhc3M6IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICAgICAgdmFyIENvbnN0cnVjdG9yID0gZnVuY3Rpb24ocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodGhpcyBpbnN0YW5jZW9mIENvbnN0cnVjdG9yLCAnU29tZXRoaW5nIGlzIGNhbGxpbmcgYSBSZWFjdCBjb21wb25lbnQgZGlyZWN0bHkuIFVzZSBhIGZhY3Rvcnkgb3IgJyArICdKU1ggaW5zdGVhZC4gU2VlOiBodHRwczovL2ZiLm1lL3JlYWN0LWxlZ2FjeWZhY3RvcnknKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuX19yZWFjdEF1dG9CaW5kUGFpcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBiaW5kQXV0b0JpbmRNZXRob2RzKHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgICAgICAgIHZhciBpbml0aWFsU3RhdGUgPSB0aGlzLmdldEluaXRpYWxTdGF0ZSA/IHRoaXMuZ2V0SW5pdGlhbFN0YXRlKCkgOiBudWxsO1xuICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAoaW5pdGlhbFN0YXRlID09PSB1bmRlZmluZWQgJiYgdGhpcy5nZXRJbml0aWFsU3RhdGUuX2lzTW9ja0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICAgIGluaXRpYWxTdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICEodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaW5pdGlhbFN0YXRlKSkgPyBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMuZ2V0SW5pdGlhbFN0YXRlKCk6IG11c3QgcmV0dXJuIGFuIG9iamVjdCBvciBudWxsJywgQ29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgICAgIH07XG4gICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IG5ldyBSZWFjdENsYXNzQ29tcG9uZW50KCk7XG4gICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuX19yZWFjdEF1dG9CaW5kUGFpcnMgPSBbXTtcbiAgICAgICAgaW5qZWN0ZWRNaXhpbnMuZm9yRWFjaChtaXhTcGVjSW50b0NvbXBvbmVudC5iaW5kKG51bGwsIENvbnN0cnVjdG9yKSk7XG4gICAgICAgIG1peFNwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzcGVjKTtcbiAgICAgICAgaWYgKENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcykge1xuICAgICAgICAgIENvbnN0cnVjdG9yLmRlZmF1bHRQcm9wcyA9IENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcykge1xuICAgICAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChDb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0SW5pdGlhbFN0YXRlKSB7XG4gICAgICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0SW5pdGlhbFN0YXRlLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICFDb25zdHJ1Y3Rvci5wcm90b3R5cGUucmVuZGVyID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2NyZWF0ZUNsYXNzKC4uLik6IENsYXNzIHNwZWNpZmljYXRpb24gbXVzdCBpbXBsZW1lbnQgYSBgcmVuZGVyYCBtZXRob2QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29tcG9uZW50U2hvdWxkVXBkYXRlLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ2NvbXBvbmVudFNob3VsZFVwZGF0ZSgpLiBEaWQgeW91IG1lYW4gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk/ICcgKyAnVGhlIG5hbWUgaXMgcGhyYXNlZCBhcyBhIHF1ZXN0aW9uIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzICcgKyAnZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUuJywgc3BlYy5kaXNwbGF5TmFtZSB8fCAnQSBjb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghQ29uc3RydWN0b3IucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiBEaWQgeW91IG1lYW4gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpPycsIHNwZWMuZGlzcGxheU5hbWUgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgbWV0aG9kTmFtZSBpbiBSZWFjdENsYXNzSW50ZXJmYWNlKSB7XG4gICAgICAgICAgaWYgKCFDb25zdHJ1Y3Rvci5wcm90b3R5cGVbbWV0aG9kTmFtZV0pIHtcbiAgICAgICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICAgIH0sXG4gICAgICBpbmplY3Rpb246IHtpbmplY3RNaXhpbjogZnVuY3Rpb24obWl4aW4pIHtcbiAgICAgICAgICBpbmplY3RlZE1peGlucy5wdXNoKG1peGluKTtcbiAgICAgICAgfX1cbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDbGFzcztcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYmRcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gIGZ1bmN0aW9uIG1hcE9iamVjdChvYmplY3QsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgaWYgKCFvYmplY3QpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIgbmFtZSBpbiBvYmplY3QpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgbmFtZSkpIHtcbiAgICAgICAgcmVzdWx0W25hbWVdID0gY2FsbGJhY2suY2FsbChjb250ZXh0LCBvYmplY3RbbmFtZV0sIG5hbWUsIG9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBtYXBPYmplY3Q7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZWVcIiwgW1wiOGRcIiwgXCJlZlwiLCBcImJkXCIsIFwiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJlYWN0RWxlbWVudCA9ICRfX3JlcXVpcmUoJzhkJyk7XG4gICAgdmFyIFJlYWN0RWxlbWVudFZhbGlkYXRvciA9ICRfX3JlcXVpcmUoJ2VmJyk7XG4gICAgdmFyIG1hcE9iamVjdCA9ICRfX3JlcXVpcmUoJ2JkJyk7XG4gICAgZnVuY3Rpb24gY3JlYXRlRE9NRmFjdG9yeSh0YWcpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRmFjdG9yeSh0YWcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5KHRhZyk7XG4gICAgfVxuICAgIHZhciBSZWFjdERPTUZhY3RvcmllcyA9IG1hcE9iamVjdCh7XG4gICAgICBhOiAnYScsXG4gICAgICBhYmJyOiAnYWJicicsXG4gICAgICBhZGRyZXNzOiAnYWRkcmVzcycsXG4gICAgICBhcmVhOiAnYXJlYScsXG4gICAgICBhcnRpY2xlOiAnYXJ0aWNsZScsXG4gICAgICBhc2lkZTogJ2FzaWRlJyxcbiAgICAgIGF1ZGlvOiAnYXVkaW8nLFxuICAgICAgYjogJ2InLFxuICAgICAgYmFzZTogJ2Jhc2UnLFxuICAgICAgYmRpOiAnYmRpJyxcbiAgICAgIGJkbzogJ2JkbycsXG4gICAgICBiaWc6ICdiaWcnLFxuICAgICAgYmxvY2txdW90ZTogJ2Jsb2NrcXVvdGUnLFxuICAgICAgYm9keTogJ2JvZHknLFxuICAgICAgYnI6ICdicicsXG4gICAgICBidXR0b246ICdidXR0b24nLFxuICAgICAgY2FudmFzOiAnY2FudmFzJyxcbiAgICAgIGNhcHRpb246ICdjYXB0aW9uJyxcbiAgICAgIGNpdGU6ICdjaXRlJyxcbiAgICAgIGNvZGU6ICdjb2RlJyxcbiAgICAgIGNvbDogJ2NvbCcsXG4gICAgICBjb2xncm91cDogJ2NvbGdyb3VwJyxcbiAgICAgIGRhdGE6ICdkYXRhJyxcbiAgICAgIGRhdGFsaXN0OiAnZGF0YWxpc3QnLFxuICAgICAgZGQ6ICdkZCcsXG4gICAgICBkZWw6ICdkZWwnLFxuICAgICAgZGV0YWlsczogJ2RldGFpbHMnLFxuICAgICAgZGZuOiAnZGZuJyxcbiAgICAgIGRpYWxvZzogJ2RpYWxvZycsXG4gICAgICBkaXY6ICdkaXYnLFxuICAgICAgZGw6ICdkbCcsXG4gICAgICBkdDogJ2R0JyxcbiAgICAgIGVtOiAnZW0nLFxuICAgICAgZW1iZWQ6ICdlbWJlZCcsXG4gICAgICBmaWVsZHNldDogJ2ZpZWxkc2V0JyxcbiAgICAgIGZpZ2NhcHRpb246ICdmaWdjYXB0aW9uJyxcbiAgICAgIGZpZ3VyZTogJ2ZpZ3VyZScsXG4gICAgICBmb290ZXI6ICdmb290ZXInLFxuICAgICAgZm9ybTogJ2Zvcm0nLFxuICAgICAgaDE6ICdoMScsXG4gICAgICBoMjogJ2gyJyxcbiAgICAgIGgzOiAnaDMnLFxuICAgICAgaDQ6ICdoNCcsXG4gICAgICBoNTogJ2g1JyxcbiAgICAgIGg2OiAnaDYnLFxuICAgICAgaGVhZDogJ2hlYWQnLFxuICAgICAgaGVhZGVyOiAnaGVhZGVyJyxcbiAgICAgIGhncm91cDogJ2hncm91cCcsXG4gICAgICBocjogJ2hyJyxcbiAgICAgIGh0bWw6ICdodG1sJyxcbiAgICAgIGk6ICdpJyxcbiAgICAgIGlmcmFtZTogJ2lmcmFtZScsXG4gICAgICBpbWc6ICdpbWcnLFxuICAgICAgaW5wdXQ6ICdpbnB1dCcsXG4gICAgICBpbnM6ICdpbnMnLFxuICAgICAga2JkOiAna2JkJyxcbiAgICAgIGtleWdlbjogJ2tleWdlbicsXG4gICAgICBsYWJlbDogJ2xhYmVsJyxcbiAgICAgIGxlZ2VuZDogJ2xlZ2VuZCcsXG4gICAgICBsaTogJ2xpJyxcbiAgICAgIGxpbms6ICdsaW5rJyxcbiAgICAgIG1haW46ICdtYWluJyxcbiAgICAgIG1hcDogJ21hcCcsXG4gICAgICBtYXJrOiAnbWFyaycsXG4gICAgICBtZW51OiAnbWVudScsXG4gICAgICBtZW51aXRlbTogJ21lbnVpdGVtJyxcbiAgICAgIG1ldGE6ICdtZXRhJyxcbiAgICAgIG1ldGVyOiAnbWV0ZXInLFxuICAgICAgbmF2OiAnbmF2JyxcbiAgICAgIG5vc2NyaXB0OiAnbm9zY3JpcHQnLFxuICAgICAgb2JqZWN0OiAnb2JqZWN0JyxcbiAgICAgIG9sOiAnb2wnLFxuICAgICAgb3B0Z3JvdXA6ICdvcHRncm91cCcsXG4gICAgICBvcHRpb246ICdvcHRpb24nLFxuICAgICAgb3V0cHV0OiAnb3V0cHV0JyxcbiAgICAgIHA6ICdwJyxcbiAgICAgIHBhcmFtOiAncGFyYW0nLFxuICAgICAgcGljdHVyZTogJ3BpY3R1cmUnLFxuICAgICAgcHJlOiAncHJlJyxcbiAgICAgIHByb2dyZXNzOiAncHJvZ3Jlc3MnLFxuICAgICAgcTogJ3EnLFxuICAgICAgcnA6ICdycCcsXG4gICAgICBydDogJ3J0JyxcbiAgICAgIHJ1Ynk6ICdydWJ5JyxcbiAgICAgIHM6ICdzJyxcbiAgICAgIHNhbXA6ICdzYW1wJyxcbiAgICAgIHNjcmlwdDogJ3NjcmlwdCcsXG4gICAgICBzZWN0aW9uOiAnc2VjdGlvbicsXG4gICAgICBzZWxlY3Q6ICdzZWxlY3QnLFxuICAgICAgc21hbGw6ICdzbWFsbCcsXG4gICAgICBzb3VyY2U6ICdzb3VyY2UnLFxuICAgICAgc3BhbjogJ3NwYW4nLFxuICAgICAgc3Ryb25nOiAnc3Ryb25nJyxcbiAgICAgIHN0eWxlOiAnc3R5bGUnLFxuICAgICAgc3ViOiAnc3ViJyxcbiAgICAgIHN1bW1hcnk6ICdzdW1tYXJ5JyxcbiAgICAgIHN1cDogJ3N1cCcsXG4gICAgICB0YWJsZTogJ3RhYmxlJyxcbiAgICAgIHRib2R5OiAndGJvZHknLFxuICAgICAgdGQ6ICd0ZCcsXG4gICAgICB0ZXh0YXJlYTogJ3RleHRhcmVhJyxcbiAgICAgIHRmb290OiAndGZvb3QnLFxuICAgICAgdGg6ICd0aCcsXG4gICAgICB0aGVhZDogJ3RoZWFkJyxcbiAgICAgIHRpbWU6ICd0aW1lJyxcbiAgICAgIHRpdGxlOiAndGl0bGUnLFxuICAgICAgdHI6ICd0cicsXG4gICAgICB0cmFjazogJ3RyYWNrJyxcbiAgICAgIHU6ICd1JyxcbiAgICAgIHVsOiAndWwnLFxuICAgICAgJ3Zhcic6ICd2YXInLFxuICAgICAgdmlkZW86ICd2aWRlbycsXG4gICAgICB3YnI6ICd3YnInLFxuICAgICAgY2lyY2xlOiAnY2lyY2xlJyxcbiAgICAgIGNsaXBQYXRoOiAnY2xpcFBhdGgnLFxuICAgICAgZGVmczogJ2RlZnMnLFxuICAgICAgZWxsaXBzZTogJ2VsbGlwc2UnLFxuICAgICAgZzogJ2cnLFxuICAgICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgICBsaW5lOiAnbGluZScsXG4gICAgICBsaW5lYXJHcmFkaWVudDogJ2xpbmVhckdyYWRpZW50JyxcbiAgICAgIG1hc2s6ICdtYXNrJyxcbiAgICAgIHBhdGg6ICdwYXRoJyxcbiAgICAgIHBhdHRlcm46ICdwYXR0ZXJuJyxcbiAgICAgIHBvbHlnb246ICdwb2x5Z29uJyxcbiAgICAgIHBvbHlsaW5lOiAncG9seWxpbmUnLFxuICAgICAgcmFkaWFsR3JhZGllbnQ6ICdyYWRpYWxHcmFkaWVudCcsXG4gICAgICByZWN0OiAncmVjdCcsXG4gICAgICBzdG9wOiAnc3RvcCcsXG4gICAgICBzdmc6ICdzdmcnLFxuICAgICAgdGV4dDogJ3RleHQnLFxuICAgICAgdHNwYW46ICd0c3BhbidcbiAgICB9LCBjcmVhdGVET01GYWN0b3J5KTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NRmFjdG9yaWVzO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI1OFwiLCBbXCIzMFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciBrZXlNaXJyb3IgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHZhciByZXQgPSB7fTtcbiAgICAgIHZhciBrZXk7XG4gICAgICAhKG9iaiBpbnN0YW5jZW9mIE9iamVjdCAmJiAhQXJyYXkuaXNBcnJheShvYmopKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdrZXlNaXJyb3IoLi4uKTogQXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXRba2V5XSA9IGtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGtleU1pcnJvcjtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiM2JcIiwgW1wiNThcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBrZXlNaXJyb3IgPSAkX19yZXF1aXJlKCc1OCcpO1xuICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucyA9IGtleU1pcnJvcih7XG4gICAgcHJvcDogbnVsbCxcbiAgICBjb250ZXh0OiBudWxsLFxuICAgIGNoaWxkQ29udGV4dDogbnVsbFxuICB9KTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25zO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImVmXCIsIFtcIjhkXCIsIFwiM2JcIiwgXCI5M1wiLCBcIjQ3XCIsIFwiZWRcIiwgXCJlNFwiLCBcIjMwXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gJF9fcmVxdWlyZSgnOGQnKTtcbiAgICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucyA9ICRfX3JlcXVpcmUoJzNiJyk7XG4gICAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0gJF9fcmVxdWlyZSgnOTMnKTtcbiAgICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSAkX19yZXF1aXJlKCc0NycpO1xuICAgIHZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9ICRfX3JlcXVpcmUoJ2VkJyk7XG4gICAgdmFyIGdldEl0ZXJhdG9yRm4gPSAkX19yZXF1aXJlKCdlNCcpO1xuICAgIHZhciBpbnZhcmlhbnQgPSAkX19yZXF1aXJlKCczMCcpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICBmdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gICAgICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgICB2YXIgbmFtZSA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQuZ2V0TmFtZSgpO1xuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgIHJldHVybiAnIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgdmFyIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9O1xuICAgIHZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgICAgIGlmICghZWxlbWVudC5fc3RvcmUgfHwgZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkIHx8IGVsZW1lbnQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkID0gdHJ1ZTtcbiAgICAgIHZhciBhZGRlbmRhID0gZ2V0QWRkZW5kYUZvcktleVVzZSgndW5pcXVlS2V5JywgZWxlbWVudCwgcGFyZW50VHlwZSk7XG4gICAgICBpZiAoYWRkZW5kYSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0VhY2ggY2hpbGQgaW4gYW4gYXJyYXkgb3IgaXRlcmF0b3Igc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLicgKyAnJXMlcyVzJywgYWRkZW5kYS5wYXJlbnRPck93bmVyIHx8ICcnLCBhZGRlbmRhLmNoaWxkT3duZXIgfHwgJycsIGFkZGVuZGEudXJsIHx8ICcnKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0QWRkZW5kYUZvcktleVVzZShtZXNzYWdlVHlwZSwgZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICAgICAgdmFyIGFkZGVuZHVtID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgICBpZiAoIWFkZGVuZHVtKSB7XG4gICAgICAgIHZhciBwYXJlbnROYW1lID0gdHlwZW9mIHBhcmVudFR5cGUgPT09ICdzdHJpbmcnID8gcGFyZW50VHlwZSA6IHBhcmVudFR5cGUuZGlzcGxheU5hbWUgfHwgcGFyZW50VHlwZS5uYW1lO1xuICAgICAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgICAgIGFkZGVuZHVtID0gJyBDaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDwnICsgcGFyZW50TmFtZSArICc+Lic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBtZW1vaXplciA9IG93bmVySGFzS2V5VXNlV2FybmluZ1ttZXNzYWdlVHlwZV0gfHwgKG93bmVySGFzS2V5VXNlV2FybmluZ1ttZXNzYWdlVHlwZV0gPSB7fSk7XG4gICAgICBpZiAobWVtb2l6ZXJbYWRkZW5kdW1dKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgbWVtb2l6ZXJbYWRkZW5kdW1dID0gdHJ1ZTtcbiAgICAgIHZhciBhZGRlbmRhID0ge1xuICAgICAgICBwYXJlbnRPck93bmVyOiBhZGRlbmR1bSxcbiAgICAgICAgdXJsOiAnIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmcta2V5cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nLFxuICAgICAgICBjaGlsZE93bmVyOiBudWxsXG4gICAgICB9O1xuICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5fb3duZXIgJiYgZWxlbWVudC5fb3duZXIgIT09IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQpIHtcbiAgICAgICAgYWRkZW5kYS5jaGlsZE93bmVyID0gJyBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSAnICsgZWxlbWVudC5fb3duZXIuZ2V0TmFtZSgpICsgJy4nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFkZGVuZGE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlQ2hpbGRLZXlzKG5vZGUsIHBhcmVudFR5cGUpIHtcbiAgICAgIGlmICh0eXBlb2Ygbm9kZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobm9kZSkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGNoaWxkID0gbm9kZVtpXTtcbiAgICAgICAgICBpZiAoUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgICBpZiAobm9kZS5fc3RvcmUpIHtcbiAgICAgICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKG5vZGUpO1xuICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBub2RlLmVudHJpZXMpIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChub2RlKTtcbiAgICAgICAgICAgIHZhciBzdGVwO1xuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICBpZiAoUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShzdGVwLnZhbHVlLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja1Byb3BUeXBlcyhjb21wb25lbnROYW1lLCBwcm9wVHlwZXMsIHByb3BzLCBsb2NhdGlvbikge1xuICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gcHJvcFR5cGVzKSB7XG4gICAgICAgIGlmIChwcm9wVHlwZXMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAhKHR5cGVvZiBwcm9wVHlwZXNbcHJvcE5hbWVdID09PSAnZnVuY3Rpb24nKSA/IFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgKyAnUmVhY3QuUHJvcFR5cGVzLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dLCBwcm9wTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgICAgZXJyb3IgPSBwcm9wVHlwZXNbcHJvcE5hbWVdKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24pO1xuICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICBlcnJvciA9IGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghZXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciwgJyVzOiB0eXBlIHNwZWNpZmljYXRpb24gb2YgJXMgYCVzYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyICcgKyAnZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJXMuICcgKyAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArICdjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kICcgKyAnc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dLCBwcm9wTmFtZSwgdHlwZW9mIGVycm9yKSA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xuICAgICAgICAgICAgbG9nZ2VkVHlwZUZhaWx1cmVzW2Vycm9yLm1lc3NhZ2VdID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBhZGRlbmR1bSA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdGYWlsZWQgcHJvcFR5cGU6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlUHJvcFR5cGVzKGVsZW1lbnQpIHtcbiAgICAgIHZhciBjb21wb25lbnRDbGFzcyA9IGVsZW1lbnQudHlwZTtcbiAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50Q2xhc3MgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG5hbWUgPSBjb21wb25lbnRDbGFzcy5kaXNwbGF5TmFtZSB8fCBjb21wb25lbnRDbGFzcy5uYW1lO1xuICAgICAgaWYgKGNvbXBvbmVudENsYXNzLnByb3BUeXBlcykge1xuICAgICAgICBjaGVja1Byb3BUeXBlcyhuYW1lLCBjb21wb25lbnRDbGFzcy5wcm9wVHlwZXMsIGVsZW1lbnQucHJvcHMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMucHJvcCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGNvbXBvbmVudENsYXNzLmdldERlZmF1bHRQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhjb21wb25lbnRDbGFzcy5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQsICdnZXREZWZhdWx0UHJvcHMgaXMgb25seSB1c2VkIG9uIGNsYXNzaWMgUmVhY3QuY3JlYXRlQ2xhc3MgJyArICdkZWZpbml0aW9ucy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IG5hbWVkIGBkZWZhdWx0UHJvcHNgIGluc3RlYWQuJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgPSB7XG4gICAgICBjcmVhdGVFbGVtZW50OiBmdW5jdGlvbih0eXBlLCBwcm9wcywgY2hpbGRyZW4pIHtcbiAgICAgICAgdmFyIHZhbGlkVHlwZSA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodmFsaWRUeXBlLCAnUmVhY3QuY3JlYXRlRWxlbWVudDogdHlwZSBzaG91bGQgbm90IGJlIG51bGwsIHVuZGVmaW5lZCwgYm9vbGVhbiwgb3IgJyArICdudW1iZXIuIEl0IHNob3VsZCBiZSBhIHN0cmluZyAoZm9yIERPTSBlbGVtZW50cykgb3IgYSBSZWFjdENsYXNzICcgKyAnKGZvciBjb21wb3NpdGUgY29tcG9uZW50cykuJXMnLCBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSkgOiB2b2lkIDA7XG4gICAgICAgIHZhciBlbGVtZW50ID0gUmVhY3RFbGVtZW50LmNyZWF0ZUVsZW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWxpZFR5cGUpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCB0eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfSxcbiAgICAgIGNyZWF0ZUZhY3Rvcnk6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgdmFyIHZhbGlkYXRlZEZhY3RvcnkgPSBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRWxlbWVudC5iaW5kKG51bGwsIHR5cGUpO1xuICAgICAgICB2YWxpZGF0ZWRGYWN0b3J5LnR5cGUgPSB0eXBlO1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbGlkYXRlZEZhY3RvcnksICd0eXBlJywge1xuICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ZhY3RvcnkudHlwZSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdGhlIGNsYXNzIGRpcmVjdGx5ICcgKyAnYmVmb3JlIHBhc3NpbmcgaXQgdG8gY3JlYXRlRmFjdG9yeS4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3R5cGUnLCB7dmFsdWU6IHR5cGV9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRGYWN0b3J5O1xuICAgICAgfSxcbiAgICAgIGNsb25lRWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gICAgICAgIHZhciBuZXdFbGVtZW50ID0gUmVhY3RFbGVtZW50LmNsb25lRWxlbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1tpXSwgbmV3RWxlbWVudC50eXBlKTtcbiAgICAgICAgfVxuICAgICAgICB2YWxpZGF0ZVByb3BUeXBlcyhuZXdFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIG5ld0VsZW1lbnQ7XG4gICAgICB9XG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RWxlbWVudFZhbGlkYXRvcjtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiOTNcIiwgW1wiMTZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0ge307XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0ge1xuICAgICAgICBwcm9wOiAncHJvcCcsXG4gICAgICAgIGNvbnRleHQ6ICdjb250ZXh0JyxcbiAgICAgICAgY2hpbGRDb250ZXh0OiAnY2hpbGQgY29udGV4dCdcbiAgICAgIH07XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXM7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImU0XCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG4gIHZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcbiAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBtYXliZUl0ZXJhYmxlICYmIChJVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtJVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdKTtcbiAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvckZuO1xuICAgIH1cbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGdldEl0ZXJhdG9yRm47XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiM2FcIiwgW1wiOGRcIiwgXCI5M1wiLCBcIjQ4XCIsIFwiZTRcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBSZWFjdEVsZW1lbnQgPSAkX19yZXF1aXJlKCc4ZCcpO1xuICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSAkX19yZXF1aXJlKCc5MycpO1xuICB2YXIgZW1wdHlGdW5jdGlvbiA9ICRfX3JlcXVpcmUoJzQ4Jyk7XG4gIHZhciBnZXRJdGVyYXRvckZuID0gJF9fcmVxdWlyZSgnZTQnKTtcbiAgdmFyIEFOT05ZTU9VUyA9ICc8PGFub255bW91cz4+JztcbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYXJyYXknKSxcbiAgICBib29sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYm9vbGVhbicpLFxuICAgIGZ1bmM6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdmdW5jdGlvbicpLFxuICAgIG51bWJlcjogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ251bWJlcicpLFxuICAgIG9iamVjdDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ29iamVjdCcpLFxuICAgIHN0cmluZzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N0cmluZycpLFxuICAgIGFueTogY3JlYXRlQW55VHlwZUNoZWNrZXIoKSxcbiAgICBhcnJheU9mOiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIsXG4gICAgZWxlbWVudDogY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCksXG4gICAgaW5zdGFuY2VPZjogY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcixcbiAgICBub2RlOiBjcmVhdGVOb2RlQ2hlY2tlcigpLFxuICAgIG9iamVjdE9mOiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyLFxuICAgIG9uZU9mOiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIsXG4gICAgb25lT2ZUeXBlOiBjcmVhdGVVbmlvblR5cGVDaGVja2VyLFxuICAgIHNoYXBlOiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyXG4gIH07XG4gIGZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgICBpZiAoeCA9PT0geSkge1xuICAgICAgcmV0dXJuIHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSkge1xuICAgIGZ1bmN0aW9uIGNoZWNrVHlwZShpc1JlcXVpcmVkLCBwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnROYW1lIHx8IEFOT05ZTU9VUztcbiAgICAgIHByb3BGdWxsTmFtZSA9IHByb3BGdWxsTmFtZSB8fCBwcm9wTmFtZTtcbiAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT0gbnVsbCkge1xuICAgICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgICBpZiAoaXNSZXF1aXJlZCkge1xuICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1JlcXVpcmVkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agd2FzIG5vdCBzcGVjaWZpZWQgaW4gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBjaGFpbmVkQ2hlY2tUeXBlID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgZmFsc2UpO1xuICAgIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuICAgIHJldHVybiBjaGFpbmVkQ2hlY2tUeXBlO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKGV4cGVjdGVkVHlwZSkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgICB2YXIgcHJlY2lzZVR5cGUgPSBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByZWNpc2VUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdgJyArIGV4cGVjdGVkVHlwZSArICdgLicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUFueVR5cGVDaGVja2VyKCkge1xuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcihlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zKG51bGwpKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIGFycmF5T2YuJyk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBhcnJheS4nKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnWycgKyBpICsgJ10nKTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICghUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcihleHBlY3RlZENsYXNzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAoIShwcm9wc1twcm9wTmFtZV0gaW5zdGFuY2VvZiBleHBlY3RlZENsYXNzKSkge1xuICAgICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgICB2YXIgZXhwZWN0ZWRDbGFzc05hbWUgPSBleHBlY3RlZENsYXNzLm5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgICB2YXIgYWN0dWFsQ2xhc3NOYW1lID0gZ2V0Q2xhc3NOYW1lKHByb3BzW3Byb3BOYW1lXSk7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgYWN0dWFsQ2xhc3NOYW1lICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdpbnN0YW5jZSBvZiBgJyArIGV4cGVjdGVkQ2xhc3NOYW1lICsgJ2AuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlRW51bVR5cGVDaGVja2VyKGV4cGVjdGVkVmFsdWVzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGV4cGVjdGVkVmFsdWVzKSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mLCBleHBlY3RlZCBhbiBpbnN0YW5jZSBvZiBhcnJheS4nKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpcyhwcm9wVmFsdWUsIGV4cGVjdGVkVmFsdWVzW2ldKSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgdmFyIHZhbHVlc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KGV4cGVjdGVkVmFsdWVzKTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB2YWx1ZSBgJyArIHByb3BWYWx1ZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBvbmUgb2YgJyArIHZhbHVlc1N0cmluZyArICcuJykpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIG9iamVjdE9mLicpO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gb2JqZWN0LicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wVmFsdWUpIHtcbiAgICAgICAgaWYgKHByb3BWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXkpO1xuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVVbmlvblR5cGVDaGVja2VyKGFycmF5T2ZUeXBlQ2hlY2tlcnMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXlPZlR5cGVDaGVja2VycykpIHtcbiAgICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcbiAgICAgICAgaWYgKGNoZWNrZXIocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJykpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZU5vZGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKCFpc05vZGUocHJvcHNbcHJvcE5hbWVdKSkge1xuICAgICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgUmVhY3ROb2RlLicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIoc2hhcGVUeXBlcykge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNoYXBlVHlwZXMpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG4gICAgICAgIGlmICghY2hlY2tlcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXkpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIGlzTm9kZShwcm9wVmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wVmFsdWUpIHtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcmV0dXJuICFwcm9wVmFsdWU7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHByb3BWYWx1ZS5ldmVyeShpc05vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wVmFsdWUgPT09IG51bGwgfHwgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4ocHJvcFZhbHVlKTtcbiAgICAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwocHJvcFZhbHVlKTtcbiAgICAgICAgICB2YXIgc3RlcDtcbiAgICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gcHJvcFZhbHVlLmVudHJpZXMpIHtcbiAgICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgaWYgKCFpc05vZGUoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTm9kZShlbnRyeVsxXSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXRQcm9wVHlwZShwcm9wVmFsdWUpIHtcbiAgICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH1cbiAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICByZXR1cm4gJ29iamVjdCc7XG4gICAgfVxuICAgIHJldHVybiBwcm9wVHlwZTtcbiAgfVxuICBmdW5jdGlvbiBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpIHtcbiAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgIGlmIChwcm9wVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgICB9IGVsc2UgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICByZXR1cm4gJ3JlZ2V4cCc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wVHlwZTtcbiAgfVxuICBmdW5jdGlvbiBnZXRDbGFzc05hbWUocHJvcFZhbHVlKSB7XG4gICAgaWYgKCFwcm9wVmFsdWUuY29uc3RydWN0b3IgfHwgIXByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgICByZXR1cm4gQU5PTllNT1VTO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWU7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlcztcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCI5OFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSAnMTUuMS4wJztcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJmMFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICBmdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcbiAgICBpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0KHZhbCk7XG4gIH1cbiAgZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIU9iamVjdC5hc3NpZ24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7XG4gICAgICB0ZXN0MVs1XSA9ICdkZSc7XG4gICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHRlc3QyID0ge307XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgdGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuICAgICAgfVxuICAgICAgdmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGVzdDJbbl07XG4gICAgICB9KTtcbiAgICAgIGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdGVzdDMgPSB7fTtcbiAgICAgICdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24obGV0dGVyKSB7XG4gICAgICAgIHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG4gICAgICB9KTtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PSAnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbih0YXJnZXQsIHNvdXJjZSkge1xuICAgIHZhciBmcm9tO1xuICAgIHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG4gICAgdmFyIHN5bWJvbHM7XG4gICAgZm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcbiAgICAgIGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcbiAgICAgICAgICB0b1trZXldID0gZnJvbVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgICBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuICAgICAgICAgICAgdG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG87XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNlwiLCBbXCJmMFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJ2YwJyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNDdcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBSZWFjdEN1cnJlbnRPd25lciA9IHtjdXJyZW50OiBudWxsfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdEN1cnJlbnRPd25lcjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJlZFwiLCBbXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSBmYWxzZTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAneCcsIHtnZXQ6IGZ1bmN0aW9uKCkge319KTtcbiAgICAgICAgY2FuRGVmaW5lUHJvcGVydHkgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoeCkge31cbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBjYW5EZWZpbmVQcm9wZXJ0eTtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiOGRcIiwgW1wiNlwiLCBcIjQ3XCIsIFwiMjJcIiwgXCJlZFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBfYXNzaWduID0gJF9fcmVxdWlyZSgnNicpO1xuICAgIHZhciBSZWFjdEN1cnJlbnRPd25lciA9ICRfX3JlcXVpcmUoJzQ3Jyk7XG4gICAgdmFyIHdhcm5pbmcgPSAkX19yZXF1aXJlKCcyMicpO1xuICAgIHZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9ICRfX3JlcXVpcmUoJ2VkJyk7XG4gICAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sWydmb3InXSAmJiBTeW1ib2xbJ2ZvciddKCdyZWFjdC5lbGVtZW50JykgfHwgMHhlYWM3O1xuICAgIHZhciBSRVNFUlZFRF9QUk9QUyA9IHtcbiAgICAgIGtleTogdHJ1ZSxcbiAgICAgIHJlZjogdHJ1ZSxcbiAgICAgIF9fc2VsZjogdHJ1ZSxcbiAgICAgIF9fc291cmNlOiB0cnVlXG4gICAgfTtcbiAgICB2YXIgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24sXG4gICAgICAgIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duO1xuICAgIHZhciBSZWFjdEVsZW1lbnQgPSBmdW5jdGlvbih0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgICAgIHZhciBlbGVtZW50ID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgcmVmOiByZWYsXG4gICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgX293bmVyOiBvd25lclxuICAgICAgfTtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGVsZW1lbnQuX3N0b3JlID0ge307XG4gICAgICAgIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50Ll9zdG9yZSwgJ3ZhbGlkYXRlZCcsIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc2VsZicsIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBzZWxmXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc291cmNlJywge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IHNvdXJjZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IGZhbHNlO1xuICAgICAgICAgIGVsZW1lbnQuX3NlbGYgPSBzZWxmO1xuICAgICAgICAgIGVsZW1lbnQuX3NvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICAgIE9iamVjdC5mcmVlemUoZWxlbWVudC5wcm9wcyk7XG4gICAgICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcbiAgICBSZWFjdEVsZW1lbnQuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKHR5cGUsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICAgIHZhciBwcm9wTmFtZTtcbiAgICAgIHZhciBwcm9wcyA9IHt9O1xuICAgICAgdmFyIGtleSA9IG51bGw7XG4gICAgICB2YXIgcmVmID0gbnVsbDtcbiAgICAgIHZhciBzZWxmID0gbnVsbDtcbiAgICAgIHZhciBzb3VyY2UgPSBudWxsO1xuICAgICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoY29uZmlnLl9fcHJvdG9fXyA9PSBudWxsIHx8IGNvbmZpZy5fX3Byb3RvX18gPT09IE9iamVjdC5wcm90b3R5cGUsICdSZWFjdC5jcmVhdGVFbGVtZW50KC4uLik6IEV4cGVjdGVkIHByb3BzIGFyZ3VtZW50IHRvIGJlIGEgcGxhaW4gb2JqZWN0LiAnICsgJ1Byb3BlcnRpZXMgZGVmaW5lZCBpbiBpdHMgcHJvdG90eXBlIGNoYWluIHdpbGwgYmUgaWdub3JlZC4nKSA6IHZvaWQgMDtcbiAgICAgICAgICByZWYgPSAhY29uZmlnLmhhc093blByb3BlcnR5KCdyZWYnKSB8fCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ3JlZicpLmdldCA/IG51bGwgOiBjb25maWcucmVmO1xuICAgICAgICAgIGtleSA9ICFjb25maWcuaGFzT3duUHJvcGVydHkoJ2tleScpIHx8IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAna2V5JykuZ2V0ID8gbnVsbCA6ICcnICsgY29uZmlnLmtleTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWYgPSBjb25maWcucmVmID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnLnJlZjtcbiAgICAgICAgICBrZXkgPSBjb25maWcua2V5ID09PSB1bmRlZmluZWQgPyBudWxsIDogJycgKyBjb25maWcua2V5O1xuICAgICAgICB9XG4gICAgICAgIHNlbGYgPSBjb25maWcuX19zZWxmID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnLl9fc2VsZjtcbiAgICAgICAgc291cmNlID0gY29uZmlnLl9fc291cmNlID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnLl9fc291cmNlO1xuICAgICAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICAgIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZHJlbkxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNoaWxkQXJyYXlbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgICAgICB9XG4gICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlLmRlZmF1bHRQcm9wcztcbiAgICAgICAgZm9yIChwcm9wTmFtZSBpbiBkZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAodHlwZW9mIHByb3BzLiQkdHlwZW9mID09PSAndW5kZWZpbmVkJyB8fCBwcm9wcy4kJHR5cGVvZiAhPT0gUkVBQ1RfRUxFTUVOVF9UWVBFKSB7XG4gICAgICAgICAgaWYgKCFwcm9wcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duKSB7XG4gICAgICAgICAgICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9mYi5tZS9yZWFjdC1zcGVjaWFsLXByb3BzKScsIHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nICYmICdkaXNwbGF5TmFtZScgaW4gdHlwZSA/IHR5cGUuZGlzcGxheU5hbWUgOiAnRWxlbWVudCcpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXByb3BzLmhhc093blByb3BlcnR5KCdyZWYnKSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24pIHtcbiAgICAgICAgICAgICAgICAgIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXM6IGByZWZgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL2ZiLm1lL3JlYWN0LXNwZWNpYWwtcHJvcHMpJywgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgJiYgJ2Rpc3BsYXlOYW1lJyBpbiB0eXBlID8gdHlwZS5kaXNwbGF5TmFtZSA6ICdFbGVtZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQsIHByb3BzKTtcbiAgICB9O1xuICAgIFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5ID0gZnVuY3Rpb24odHlwZSkge1xuICAgICAgdmFyIGZhY3RvcnkgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRWxlbWVudC5iaW5kKG51bGwsIHR5cGUpO1xuICAgICAgZmFjdG9yeS50eXBlID0gdHlwZTtcbiAgICAgIHJldHVybiBmYWN0b3J5O1xuICAgIH07XG4gICAgUmVhY3RFbGVtZW50LmNsb25lQW5kUmVwbGFjZUtleSA9IGZ1bmN0aW9uKG9sZEVsZW1lbnQsIG5ld0tleSkge1xuICAgICAgdmFyIG5ld0VsZW1lbnQgPSBSZWFjdEVsZW1lbnQob2xkRWxlbWVudC50eXBlLCBuZXdLZXksIG9sZEVsZW1lbnQucmVmLCBvbGRFbGVtZW50Ll9zZWxmLCBvbGRFbGVtZW50Ll9zb3VyY2UsIG9sZEVsZW1lbnQuX293bmVyLCBvbGRFbGVtZW50LnByb3BzKTtcbiAgICAgIHJldHVybiBuZXdFbGVtZW50O1xuICAgIH07XG4gICAgUmVhY3RFbGVtZW50LmNsb25lRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICAgIHZhciBwcm9wTmFtZTtcbiAgICAgIHZhciBwcm9wcyA9IF9hc3NpZ24oe30sIGVsZW1lbnQucHJvcHMpO1xuICAgICAgdmFyIGtleSA9IGVsZW1lbnQua2V5O1xuICAgICAgdmFyIHJlZiA9IGVsZW1lbnQucmVmO1xuICAgICAgdmFyIHNlbGYgPSBlbGVtZW50Ll9zZWxmO1xuICAgICAgdmFyIHNvdXJjZSA9IGVsZW1lbnQuX3NvdXJjZTtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoY29uZmlnLl9fcHJvdG9fXyA9PSBudWxsIHx8IGNvbmZpZy5fX3Byb3RvX18gPT09IE9iamVjdC5wcm90b3R5cGUsICdSZWFjdC5jbG9uZUVsZW1lbnQoLi4uKTogRXhwZWN0ZWQgcHJvcHMgYXJndW1lbnQgdG8gYmUgYSBwbGFpbiBvYmplY3QuICcgKyAnUHJvcGVydGllcyBkZWZpbmVkIGluIGl0cyBwcm90b3R5cGUgY2hhaW4gd2lsbCBiZSBpZ25vcmVkLicpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcucmVmICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZWYgPSBjb25maWcucmVmO1xuICAgICAgICAgIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAga2V5ID0gJycgKyBjb25maWcua2V5O1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWZhdWx0UHJvcHM7XG4gICAgICAgIGlmIChlbGVtZW50LnR5cGUgJiYgZWxlbWVudC50eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgICAgIGRlZmF1bHRQcm9wcyA9IGVsZW1lbnQudHlwZS5kZWZhdWx0UHJvcHM7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgICAgICBpZiAoY29uZmlnLmhhc093blByb3BlcnR5KHByb3BOYW1lKSAmJiAhUkVTRVJWRURfUFJPUFMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnW3Byb3BOYW1lXSA9PT0gdW5kZWZpbmVkICYmIGRlZmF1bHRQcm9wcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gICAgICBpZiAoY2hpbGRyZW5MZW5ndGggPT09IDEpIHtcbiAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgICAgIHZhciBjaGlsZEFycmF5ID0gQXJyYXkoY2hpbGRyZW5MZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjaGlsZEFycmF5W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICAgICAgfVxuICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUmVhY3RFbGVtZW50KGVsZW1lbnQudHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgb3duZXIsIHByb3BzKTtcbiAgICB9O1xuICAgIFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAhPT0gbnVsbCAmJiBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbiAgICB9O1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVhY3RFbGVtZW50O1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIzMFwiLCBbXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBmdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgIH1cbiAgICAgICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImYxXCIsIFtcIjhkXCIsIFwiMzBcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gJF9fcmVxdWlyZSgnOGQnKTtcbiAgICB2YXIgaW52YXJpYW50ID0gJF9fcmVxdWlyZSgnMzAnKTtcbiAgICBmdW5jdGlvbiBvbmx5Q2hpbGQoY2hpbGRyZW4pIHtcbiAgICAgICFSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pID8gXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ29ubHlDaGlsZCBtdXN0IGJlIHBhc3NlZCBhIGNoaWxkcmVuIHdpdGggZXhhY3RseSBvbmUgY2hpbGQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IG9ubHlDaGlsZDtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiNDhcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGZ1bmN0aW9uIG1ha2VFbXB0eUZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBhcmc7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge31cbiAgZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJucyA9IG1ha2VFbXB0eUZ1bmN0aW9uO1xuICBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UgPSBtYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7XG4gIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlID0gbWFrZUVtcHR5RnVuY3Rpb24odHJ1ZSk7XG4gIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsID0gbWFrZUVtcHR5RnVuY3Rpb24obnVsbCk7XG4gIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUaGlzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmc7XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gZW1wdHlGdW5jdGlvbjtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIyMlwiLCBbXCI0OFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBlbXB0eUZ1bmN0aW9uID0gJF9fcmVxdWlyZSgnNDgnKTtcbiAgICB2YXIgd2FybmluZyA9IGVtcHR5RnVuY3Rpb247XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHdhcm5pbmcgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksXG4gICAgICAgICAgICBfa2V5ID0gMjsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleSAtIDJdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArICdtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdC5pbmRleE9mKCdGYWlsZWQgQ29tcG9zaXRlIHByb3BUeXBlOiAnKSA9PT0gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICAgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJmMlwiLCBbXCI2XCIsIFwiMzJcIiwgXCJlYlwiLCBcIjYzXCIsIFwiZWVcIiwgXCI4ZFwiLCBcImVmXCIsIFwiM2FcIiwgXCI5OFwiLCBcImYxXCIsIFwiMjJcIiwgXCIxNlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAoZnVuY3Rpb24ocHJvY2Vzcykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgX2Fzc2lnbiA9ICRfX3JlcXVpcmUoJzYnKTtcbiAgICB2YXIgUmVhY3RDaGlsZHJlbiA9ICRfX3JlcXVpcmUoJzMyJyk7XG4gICAgdmFyIFJlYWN0Q29tcG9uZW50ID0gJF9fcmVxdWlyZSgnZWInKTtcbiAgICB2YXIgUmVhY3RDbGFzcyA9ICRfX3JlcXVpcmUoJzYzJyk7XG4gICAgdmFyIFJlYWN0RE9NRmFjdG9yaWVzID0gJF9fcmVxdWlyZSgnZWUnKTtcbiAgICB2YXIgUmVhY3RFbGVtZW50ID0gJF9fcmVxdWlyZSgnOGQnKTtcbiAgICB2YXIgUmVhY3RFbGVtZW50VmFsaWRhdG9yID0gJF9fcmVxdWlyZSgnZWYnKTtcbiAgICB2YXIgUmVhY3RQcm9wVHlwZXMgPSAkX19yZXF1aXJlKCczYScpO1xuICAgIHZhciBSZWFjdFZlcnNpb24gPSAkX19yZXF1aXJlKCc5OCcpO1xuICAgIHZhciBvbmx5Q2hpbGQgPSAkX19yZXF1aXJlKCdmMScpO1xuICAgIHZhciB3YXJuaW5nID0gJF9fcmVxdWlyZSgnMjInKTtcbiAgICB2YXIgY3JlYXRlRWxlbWVudCA9IFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50O1xuICAgIHZhciBjcmVhdGVGYWN0b3J5ID0gUmVhY3RFbGVtZW50LmNyZWF0ZUZhY3Rvcnk7XG4gICAgdmFyIGNsb25lRWxlbWVudCA9IFJlYWN0RWxlbWVudC5jbG9uZUVsZW1lbnQ7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNyZWF0ZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRWxlbWVudDtcbiAgICAgIGNyZWF0ZUZhY3RvcnkgPSBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRmFjdG9yeTtcbiAgICAgIGNsb25lRWxlbWVudCA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jbG9uZUVsZW1lbnQ7XG4gICAgfVxuICAgIHZhciBfX3NwcmVhZCA9IF9hc3NpZ247XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgICAgIF9fc3ByZWFkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHdhcm5lZCwgJ1JlYWN0Ll9fc3ByZWFkIGlzIGRlcHJlY2F0ZWQgYW5kIHNob3VsZCBub3QgYmUgdXNlZC4gVXNlICcgKyAnT2JqZWN0LmFzc2lnbiBkaXJlY3RseSBvciBhbm90aGVyIGhlbHBlciBmdW5jdGlvbiB3aXRoIHNpbWlsYXIgJyArICdzZW1hbnRpY3MuIFlvdSBtYXkgYmUgc2VlaW5nIHRoaXMgd2FybmluZyBkdWUgdG8geW91ciBjb21waWxlci4gJyArICdTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1zcHJlYWQtZGVwcmVjYXRpb24gZm9yIG1vcmUgZGV0YWlscy4nKSA6IHZvaWQgMDtcbiAgICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF9hc3NpZ24uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHZhciBSZWFjdCA9IHtcbiAgICAgIENoaWxkcmVuOiB7XG4gICAgICAgIG1hcDogUmVhY3RDaGlsZHJlbi5tYXAsXG4gICAgICAgIGZvckVhY2g6IFJlYWN0Q2hpbGRyZW4uZm9yRWFjaCxcbiAgICAgICAgY291bnQ6IFJlYWN0Q2hpbGRyZW4uY291bnQsXG4gICAgICAgIHRvQXJyYXk6IFJlYWN0Q2hpbGRyZW4udG9BcnJheSxcbiAgICAgICAgb25seTogb25seUNoaWxkXG4gICAgICB9LFxuICAgICAgQ29tcG9uZW50OiBSZWFjdENvbXBvbmVudCxcbiAgICAgIGNyZWF0ZUVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnQsXG4gICAgICBjbG9uZUVsZW1lbnQ6IGNsb25lRWxlbWVudCxcbiAgICAgIGlzVmFsaWRFbGVtZW50OiBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQsXG4gICAgICBQcm9wVHlwZXM6IFJlYWN0UHJvcFR5cGVzLFxuICAgICAgY3JlYXRlQ2xhc3M6IFJlYWN0Q2xhc3MuY3JlYXRlQ2xhc3MsXG4gICAgICBjcmVhdGVGYWN0b3J5OiBjcmVhdGVGYWN0b3J5LFxuICAgICAgY3JlYXRlTWl4aW46IGZ1bmN0aW9uKG1peGluKSB7XG4gICAgICAgIHJldHVybiBtaXhpbjtcbiAgICAgIH0sXG4gICAgICBET006IFJlYWN0RE9NRmFjdG9yaWVzLFxuICAgICAgdmVyc2lvbjogUmVhY3RWZXJzaW9uLFxuICAgICAgX19zcHJlYWQ6IF9fc3ByZWFkXG4gICAgfTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0O1xuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJmM1wiLCBbXCJmMlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCdmMicpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjljXCIsIFtcImYzXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnZjMnKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlcignZjQnLCBbJzljJ10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgUmVhY3QsIGZvb3RlckxpbmtzLCBNYWluRm9vdGVyO1xuICByZXR1cm4ge1xuICAgIHNldHRlcnM6IFtmdW5jdGlvbiAoX2MpIHtcbiAgICAgIFJlYWN0ID0gX2NbJ2RlZmF1bHQnXTtcbiAgICB9XSxcbiAgICBleGVjdXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmb290ZXJMaW5rcyA9IFt7XG4gICAgICAgIGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vZnJvbnRlbmRici9mb3J1bScsXG4gICAgICAgIHRpdGxlOiAnQWNlc3NvIG5vc3NvIGbDs3J1bScsXG4gICAgICAgIGNvbnRlbnQ6ICdGw7NydW0nXG4gICAgICB9LCB7XG4gICAgICAgIGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vZnJvbnRlbmRici92YWdhcycsXG4gICAgICAgIHRpdGxlOiAnUHVibGlxdWUgb3UgZW5jb250cmUgdW1hIHZhZ2EnLFxuICAgICAgICBjb250ZW50OiAnVmFnYXMnXG4gICAgICB9XTtcblxuICAgICAgTWFpbkZvb3RlciA9IGZ1bmN0aW9uIE1haW5Gb290ZXIoKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdmb290ZXInLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZm9vdGVyJywgcm9sZTogJ2NvbnRlbnRpbmZvJyB9LFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZm9vdGVyLWlubmVyJyB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29udGFpbmVyLWZsZXgnIH0sXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdmb290ZXItaW5uZXItLW1haW4nIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdwJyxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAnRXNzZSBwcm9qZXRvIMOpIHVtYSBpbmljaWF0aXZhIGRhIG9yZ2FuaXphw6fDo28gJyxcbiAgICAgICAgICAgICAgICAgICcgJyxcbiAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgICAgeyBocmVmOiAnaHR0cHM6Ly9naXRodWIuY29tL2Zyb250ZW5kYnInIH0sXG4gICAgICAgICAgICAgICAgICAgICdGcm9udC1FbmQgQnJhc2lsIGRvIEdpdEh1Yi4nXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICd1bCcsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdmb290ZXItaW5uZXItLW5hdicgfSxcbiAgICAgICAgICAgICAgICBmb290ZXJMaW5rcy5tYXAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBocmVmID0gX3JlZi5ocmVmO1xuICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gX3JlZi50aXRsZTtcbiAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gX3JlZi5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYnRuLWxpbmsnLCBocmVmOiBocmVmLCB0aXRsZTogdGl0bGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdmb290ZXItaG9sZCcgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbnRhaW5lcicgfSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAncCcsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAnwqkgMjAxNiAnLFxuICAgICAgICAgICAgICAgICcgJyxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgICAgICAgeyBocmVmOiAnaHR0cHM6Ly9naXRodWIuY29tL2Zyb250ZW5kYnIvJyB9LFxuICAgICAgICAgICAgICAgICAgJ0Zyb250LUVuZCBCcmFzaWwnXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIE1haW5Gb290ZXIpO1xuICAgIH1cbiAgfTtcbn0pO1xuJF9fU3lzdGVtLnJlZ2lzdGVyKCdmNScsIFsnOWMnLCAnOWInLCAnZTMnLCAnZjQnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBSZWFjdCwgTWFpbkhlYWRlciwgTWFpbkNvbnRlbnQsIE1haW5Gb290ZXIsIEFwcDtcbiAgcmV0dXJuIHtcbiAgICBzZXR0ZXJzOiBbZnVuY3Rpb24gKF9jKSB7XG4gICAgICBSZWFjdCA9IF9jWydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF9iKSB7XG4gICAgICBNYWluSGVhZGVyID0gX2JbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2UzKSB7XG4gICAgICBNYWluQ29udGVudCA9IF9lM1snZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfZjQpIHtcbiAgICAgIE1haW5Gb290ZXIgPSBfZjRbJ2RlZmF1bHQnXTtcbiAgICB9XSxcbiAgICBleGVjdXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBBcHAgPSBmdW5jdGlvbiBBcHAoKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChNYWluSGVhZGVyLCBudWxsKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE1haW5Db250ZW50LCBudWxsKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE1haW5Gb290ZXIsIG51bGwpXG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICBfZXhwb3J0KCdkZWZhdWx0JywgQXBwKTtcbiAgICB9XG4gIH07XG59KTtcbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJmNlwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuICAgIHZhciByZXN1bHQ7XG4gICAgdmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcbiAgICAgICAgcmVzdWx0ID0gU3ltYm9sLm9ic2VydmFibGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcbiAgICAgICAgU3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImY3XCIsIFtcImY2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJ2Y2JykoZ2xvYmFsIHx8IHdpbmRvdyB8fCB0aGlzKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJmOFwiLCBbXCJmN1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJ2Y3Jyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZjlcIiwgW1wiY2JcIiwgXCJmOFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHVuZGVmaW5lZDtcbiAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjcmVhdGVTdG9yZTtcbiAgdmFyIF9pc1BsYWluT2JqZWN0ID0gJF9fcmVxdWlyZSgnY2InKTtcbiAgdmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuICB2YXIgX3N5bWJvbE9ic2VydmFibGUgPSAkX19yZXF1aXJlKCdmOCcpO1xuICB2YXIgX3N5bWJvbE9ic2VydmFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sT2JzZXJ2YWJsZSk7XG4gIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcImRlZmF1bHRcIjogb2JqfTtcbiAgfVxuICB2YXIgQWN0aW9uVHlwZXMgPSBleHBvcnRzLkFjdGlvblR5cGVzID0ge0lOSVQ6ICdAQHJlZHV4L0lOSVQnfTtcbiAgZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuICAgIHZhciBfcmVmMjtcbiAgICBpZiAodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZW5oYW5jZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBlbmhhbmNlciA9IGluaXRpYWxTdGF0ZTtcbiAgICAgIGluaXRpYWxTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbmhhbmNlcihjcmVhdGVTdG9yZSkocmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuICAgIHZhciBjdXJyZW50UmVkdWNlciA9IHJlZHVjZXI7XG4gICAgdmFyIGN1cnJlbnRTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICB2YXIgY3VycmVudExpc3RlbmVycyA9IFtdO1xuICAgIHZhciBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycztcbiAgICB2YXIgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG4gICAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuICAgICAgICBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycy5zbGljZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICB2YXIgaXNTdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuICAgICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgIG5leHRMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoYWN0aW9uKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiAnICsgJ1VzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy4nKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgYWN0aW9uLnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiAnICsgJ0hhdmUgeW91IG1pc3NwZWxsZWQgYSBjb25zdGFudD8nKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlcnMgbWF5IG5vdCBkaXNwYXRjaCBhY3Rpb25zLicpO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG4gICAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRSZWR1Y2VyKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBsaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzID0gbmV4dExpc3RlbmVycztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxpc3RlbmVyc1tpXSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgbmV4dFJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRSZWR1Y2VyID0gbmV4dFJlZHVjZXI7XG4gICAgICBkaXNwYXRjaCh7dHlwZTogQWN0aW9uVHlwZXMuSU5JVH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvYnNlcnZhYmxlKCkge1xuICAgICAgdmFyIF9yZWY7XG4gICAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICByZXR1cm4gX3JlZiA9IHtzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmdW5jdGlvbiBvYnNlcnZlU3RhdGUoKSB7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KGdldFN0YXRlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBvYnNlcnZlU3RhdGUoKTtcbiAgICAgICAgICB2YXIgdW5zdWJzY3JpYmUgPSBvdXRlclN1YnNjcmliZShvYnNlcnZlU3RhdGUpO1xuICAgICAgICAgIHJldHVybiB7dW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlfTtcbiAgICAgICAgfX0sIF9yZWZbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LCBfcmVmO1xuICAgIH1cbiAgICBkaXNwYXRjaCh7dHlwZTogQWN0aW9uVHlwZXMuSU5JVH0pO1xuICAgIHJldHVybiBfcmVmMiA9IHtcbiAgICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcbiAgICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuICAgICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgICAgcmVwbGFjZVJlZHVjZXI6IHJlcGxhY2VSZWR1Y2VyXG4gICAgfSwgX3JlZjJbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcbiAgfVxuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImZhXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIGZ1bmN0aW9uIGdldFByb3RvdHlwZSh2YWx1ZSkge1xuICAgIHJldHVybiBuYXRpdmVHZXRQcm90b3R5cGUoT2JqZWN0KHZhbHVlKSk7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZmJcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBpc0hvc3RPYmplY3Q7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiZmNcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImNiXCIsIFtcImZhXCIsIFwiZmJcIiwgXCJmY1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgZ2V0UHJvdG90eXBlID0gJF9fcmVxdWlyZSgnZmEnKSxcbiAgICAgIGlzSG9zdE9iamVjdCA9ICRfX3JlcXVpcmUoJ2ZiJyksXG4gICAgICBpc09iamVjdExpa2UgPSAkX19yZXF1aXJlKCdmYycpO1xuICB2YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gIHZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG4gIHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG4gIHZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpICE9IG9iamVjdFRhZyB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gICAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZyk7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBpc1BsYWluT2JqZWN0O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImZkXCIsIFtcImY5XCIsIFwiY2JcIiwgXCJmZVwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gICAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb21iaW5lUmVkdWNlcnM7XG4gICAgdmFyIF9jcmVhdGVTdG9yZSA9ICRfX3JlcXVpcmUoJ2Y5Jyk7XG4gICAgdmFyIF9pc1BsYWluT2JqZWN0ID0gJF9fcmVxdWlyZSgnY2InKTtcbiAgICB2YXIgX2lzUGxhaW5PYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQbGFpbk9iamVjdCk7XG4gICAgdmFyIF93YXJuaW5nID0gJF9fcmVxdWlyZSgnZmUnKTtcbiAgICB2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XCJkZWZhdWx0XCI6IG9ian07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKGtleSwgYWN0aW9uKSB7XG4gICAgICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgICAgIHZhciBhY3Rpb25OYW1lID0gYWN0aW9uVHlwZSAmJiAnXCInICsgYWN0aW9uVHlwZS50b1N0cmluZygpICsgJ1wiJyB8fCAnYW4gYWN0aW9uJztcbiAgICAgIHJldHVybiAnR2l2ZW4gYWN0aW9uICcgKyBhY3Rpb25OYW1lICsgJywgcmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiAnICsgJ1RvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4nO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGUsIHJlZHVjZXJzLCBhY3Rpb24pIHtcbiAgICAgIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgICAgIHZhciBhcmd1bWVudE5hbWUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09IF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUID8gJ2luaXRpYWxTdGF0ZSBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU3RvcmUnIDogJ3ByZXZpb3VzIHN0YXRlIHJlY2VpdmVkIGJ5IHRoZSByZWR1Y2VyJztcbiAgICAgIGlmIChyZWR1Y2VyS2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuICdTdG9yZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcmVkdWNlci4gTWFrZSBzdXJlIHRoZSBhcmd1bWVudCBwYXNzZWQgJyArICd0byBjb21iaW5lUmVkdWNlcnMgaXMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgcmVkdWNlcnMuJztcbiAgICAgIH1cbiAgICAgIGlmICghKDAsIF9pc1BsYWluT2JqZWN0MltcImRlZmF1bHRcIl0pKGlucHV0U3RhdGUpKSB7XG4gICAgICAgIHJldHVybiAnVGhlICcgKyBhcmd1bWVudE5hbWUgKyAnIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXCInICsge30udG9TdHJpbmcuY2FsbChpbnB1dFN0YXRlKS5tYXRjaCgvXFxzKFthLXp8QS1aXSspLylbMV0gKyAnXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgJyArICgna2V5czogXCInICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIHZhciB1bmV4cGVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3RhdGUpLmZpbHRlcihmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuICFyZWR1Y2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgfSk7XG4gICAgICBpZiAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgJyArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgJyAnICsgKCdcIicgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArICdcIiBmb3VuZCBpbiAnICsgYXJndW1lbnROYW1lICsgJy4gJykgKyAnRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiAnICsgKCdcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC4nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXNzZXJ0UmVkdWNlclNhbml0eShyZWR1Y2Vycykge1xuICAgICAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHZhciByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcbiAgICAgICAgdmFyIGluaXRpYWxTdGF0ZSA9IHJlZHVjZXIodW5kZWZpbmVkLCB7dHlwZTogX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVR9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiAnICsgJ0lmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlIHJlZHVjZXIgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCAnICsgJ2V4cGxpY2l0bHkgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgJyArICdub3QgYmUgdW5kZWZpbmVkLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0eXBlID0gJ0BAcmVkdXgvUFJPQkVfVU5LTk9XTl9BQ1RJT05fJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KS5zcGxpdCgnJykuam9pbignLicpO1xuICAgICAgICBpZiAodHlwZW9mIHJlZHVjZXIodW5kZWZpbmVkLCB7dHlwZTogdHlwZX0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIHdoZW4gcHJvYmVkIHdpdGggYSByYW5kb20gdHlwZS4gJyArICgnRG9uXFwndCB0cnkgdG8gaGFuZGxlICcgKyBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVCArICcgb3Igb3RoZXIgYWN0aW9ucyBpbiBcInJlZHV4LypcIiAnKSArICduYW1lc3BhY2UuIFRoZXkgYXJlIGNvbnNpZGVyZWQgcHJpdmF0ZS4gSW5zdGVhZCwgeW91IG11c3QgcmV0dXJuIHRoZSAnICsgJ2N1cnJlbnQgc3RhdGUgZm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHVubGVzcyBpdCBpcyB1bmRlZmluZWQsICcgKyAnaW4gd2hpY2ggY2FzZSB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUsIHJlZ2FyZGxlc3Mgb2YgdGhlICcgKyAnYWN0aW9uIHR5cGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tYmluZVJlZHVjZXJzKHJlZHVjZXJzKSB7XG4gICAgICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gICAgICB2YXIgZmluYWxSZWR1Y2VycyA9IHt9O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIga2V5ID0gcmVkdWNlcktleXNbaV07XG4gICAgICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGZpbmFsUmVkdWNlcnNba2V5XSA9IHJlZHVjZXJzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBmaW5hbFJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMoZmluYWxSZWR1Y2Vycyk7XG4gICAgICB2YXIgc2FuaXR5RXJyb3I7XG4gICAgICB0cnkge1xuICAgICAgICBhc3NlcnRSZWR1Y2VyU2FuaXR5KGZpbmFsUmVkdWNlcnMpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBzYW5pdHlFcnJvciA9IGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gY29tYmluYXRpb24oKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuICAgICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuICAgICAgICBpZiAoc2FuaXR5RXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBzYW5pdHlFcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHZhciB3YXJuaW5nTWVzc2FnZSA9IGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2Uoc3RhdGUsIGZpbmFsUmVkdWNlcnMsIGFjdGlvbik7XG4gICAgICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG4gICAgICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkod2FybmluZ01lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgbmV4dFN0YXRlID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBrZXkgPSBmaW5hbFJlZHVjZXJLZXlzW2ldO1xuICAgICAgICAgIHZhciByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1trZXldO1xuICAgICAgICAgIHZhciBwcmV2aW91c1N0YXRlRm9yS2V5ID0gc3RhdGVba2V5XTtcbiAgICAgICAgICB2YXIgbmV4dFN0YXRlRm9yS2V5ID0gcmVkdWNlcihwcmV2aW91c1N0YXRlRm9yS2V5LCBhY3Rpb24pO1xuICAgICAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKGtleSwgYWN0aW9uKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0U3RhdGVba2V5XSA9IG5leHRTdGF0ZUZvcktleTtcbiAgICAgICAgICBoYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZCB8fCBuZXh0U3RhdGVGb3JLZXkgIT09IHByZXZpb3VzU3RhdGVGb3JLZXk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgICAgIH07XG4gICAgfVxuICB9KSgkX19yZXF1aXJlKCcxNicpKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJmZlwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBiaW5kQWN0aW9uQ3JlYXRvcnM7XG4gIGZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKGFjdGlvbkNyZWF0b3IuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpIHtcbiAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyAhPT0gJ29iamVjdCcgfHwgYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkICcgKyAoYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgYWN0aW9uQ3JlYXRvcnMpICsgJy4gJyArICdEaWQgeW91IHdyaXRlIFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cIiBpbnN0ZWFkIG9mIFwiaW1wb3J0ICogYXMgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiPycpO1xuICAgIH1cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFjdGlvbkNyZWF0b3JzKTtcbiAgICB2YXIgYm91bmRBY3Rpb25DcmVhdG9ycyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICB2YXIgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV07XG4gICAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgYm91bmRBY3Rpb25DcmVhdG9yc1trZXldID0gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9ycztcbiAgfVxuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEwMFwiLCBbXCIxMDFcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGFwcGx5TWlkZGxld2FyZTtcbiAgdmFyIF9jb21wb3NlID0gJF9fcmVxdWlyZSgnMTAxJyk7XG4gIHZhciBfY29tcG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb3NlKTtcbiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1wiZGVmYXVsdFwiOiBvYmp9O1xuICB9XG4gIGZ1bmN0aW9uIGFwcGx5TWlkZGxld2FyZSgpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgbWlkZGxld2FyZXMgPSBBcnJheShfbGVuKSxcbiAgICAgICAgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oY3JlYXRlU3RvcmUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGVuaGFuY2VyKSB7XG4gICAgICAgIHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpO1xuICAgICAgICB2YXIgX2Rpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG4gICAgICAgIHZhciBjaGFpbiA9IFtdO1xuICAgICAgICB2YXIgbWlkZGxld2FyZUFQSSA9IHtcbiAgICAgICAgICBnZXRTdGF0ZTogc3RvcmUuZ2V0U3RhdGUsXG4gICAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIF9kaXNwYXRjaChhY3Rpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY2hhaW4gPSBtaWRkbGV3YXJlcy5tYXAoZnVuY3Rpb24obWlkZGxld2FyZSkge1xuICAgICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuICAgICAgICB9KTtcbiAgICAgICAgX2Rpc3BhdGNoID0gX2NvbXBvc2UyW1wiZGVmYXVsdFwiXS5hcHBseSh1bmRlZmluZWQsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RvcmUsIHtkaXNwYXRjaDogX2Rpc3BhdGNofSk7XG4gICAgICB9O1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMDFcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tcG9zZTtcbiAgZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgZnVuY3MgPSBBcnJheShfbGVuKSxcbiAgICAgICAgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGZ1bmNzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICBpZiAoZnVuY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiBhcmc7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbGFzdCA9IGZ1bmNzW2Z1bmNzLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgcmVzdCA9IGZ1bmNzLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgcmV0dXJuIHt2OiBmdW5jdGlvbiB2KCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3QucmVkdWNlUmlnaHQoZnVuY3Rpb24oY29tcG9zZWQsIGYpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGYoY29tcG9zZWQpO1xuICAgICAgICAgICAgfSwgbGFzdC5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICAgICAgICAgIH19O1xuICAgICAgfSgpO1xuICAgICAgaWYgKHR5cGVvZiBfcmV0ID09PSBcIm9iamVjdFwiKVxuICAgICAgICByZXR1cm4gX3JldC52O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImZlXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHdhcm5pbmc7XG4gIGZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEwMlwiLCBbXCJmOVwiLCBcImZkXCIsIFwiZmZcIiwgXCIxMDBcIiwgXCIxMDFcIiwgXCJmZVwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gICAgZXhwb3J0cy5jb21wb3NlID0gZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBleHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IGV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gZXhwb3J0cy5jcmVhdGVTdG9yZSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgX2NyZWF0ZVN0b3JlID0gJF9fcmVxdWlyZSgnZjknKTtcbiAgICB2YXIgX2NyZWF0ZVN0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVN0b3JlKTtcbiAgICB2YXIgX2NvbWJpbmVSZWR1Y2VycyA9ICRfX3JlcXVpcmUoJ2ZkJyk7XG4gICAgdmFyIF9jb21iaW5lUmVkdWNlcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tYmluZVJlZHVjZXJzKTtcbiAgICB2YXIgX2JpbmRBY3Rpb25DcmVhdG9ycyA9ICRfX3JlcXVpcmUoJ2ZmJyk7XG4gICAgdmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmluZEFjdGlvbkNyZWF0b3JzKTtcbiAgICB2YXIgX2FwcGx5TWlkZGxld2FyZSA9ICRfX3JlcXVpcmUoJzEwMCcpO1xuICAgIHZhciBfYXBwbHlNaWRkbGV3YXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwcGx5TWlkZGxld2FyZSk7XG4gICAgdmFyIF9jb21wb3NlID0gJF9fcmVxdWlyZSgnMTAxJyk7XG4gICAgdmFyIF9jb21wb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvc2UpO1xuICAgIHZhciBfd2FybmluZyA9ICRfX3JlcXVpcmUoJ2ZlJyk7XG4gICAgdmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1wiZGVmYXVsdFwiOiBvYmp9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0NydXNoZWQoKSB7fVxuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBpc0NydXNoZWQubmFtZSA9PT0gJ3N0cmluZycgJiYgaXNDcnVzaGVkLm5hbWUgIT09ICdpc0NydXNoZWQnKSB7XG4gICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoJ1lvdSBhcmUgY3VycmVudGx5IHVzaW5nIG1pbmlmaWVkIGNvZGUgb3V0c2lkZSBvZiBOT0RFX0VOViA9PT0gXFwncHJvZHVjdGlvblxcJy4gJyArICdUaGlzIG1lYW5zIHRoYXQgeW91IGFyZSBydW5uaW5nIGEgc2xvd2VyIGRldmVsb3BtZW50IGJ1aWxkIG9mIFJlZHV4LiAnICsgJ1lvdSBjYW4gdXNlIGxvb3NlLWVudmlmeSAoaHR0cHM6Ly9naXRodWIuY29tL3plcnRvc2gvbG9vc2UtZW52aWZ5KSBmb3IgYnJvd3NlcmlmeSAnICsgJ29yIERlZmluZVBsdWdpbiBmb3Igd2VicGFjayAoaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMDAzMDAzMSkgJyArICd0byBlbnN1cmUgeW91IGhhdmUgdGhlIGNvcnJlY3QgY29kZSBmb3IgeW91ciBwcm9kdWN0aW9uIGJ1aWxkLicpO1xuICAgIH1cbiAgICBleHBvcnRzLmNyZWF0ZVN0b3JlID0gX2NyZWF0ZVN0b3JlMltcImRlZmF1bHRcIl07XG4gICAgZXhwb3J0cy5jb21iaW5lUmVkdWNlcnMgPSBfY29tYmluZVJlZHVjZXJzMltcImRlZmF1bHRcIl07XG4gICAgZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBfYmluZEFjdGlvbkNyZWF0b3JzMltcImRlZmF1bHRcIl07XG4gICAgZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBfYXBwbHlNaWRkbGV3YXJlMltcImRlZmF1bHRcIl07XG4gICAgZXhwb3J0cy5jb21wb3NlID0gX2NvbXBvc2UyW1wiZGVmYXVsdFwiXTtcbiAgfSkoJF9fcmVxdWlyZSgnMTYnKSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiYzVcIiwgW1wiMTAyXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnMTAyJyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTAzXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICBleHBvcnRzWydkZWZhdWx0J10gPSB0aHVua01pZGRsZXdhcmU7XG4gIGZ1bmN0aW9uIHRodW5rTWlkZGxld2FyZShfcmVmKSB7XG4gICAgdmFyIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDtcbiAgICB2YXIgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlO1xuICAgIHJldHVybiBmdW5jdGlvbihuZXh0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIGFjdGlvbihkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgICB9O1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMDRcIiwgW1wiMTAzXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnMTAzJyk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXIoJzEwNScsIFsnMTA0JywgJzEwNicsICdlMScsICdjNSddLCBmdW5jdGlvbiAoX2V4cG9ydCkge1xuICB2YXIgdGh1bmtNaWRkbGV3YXJlLCBfdG9Db25zdW1hYmxlQXJyYXksIF9leHRlbmRzLCBjcmVhdGVTdG9yZSwgY29tcG9zZSwgYXBwbHlNaWRkbGV3YXJlLCBjb21iaW5lUmVkdWNlcnM7XG5cbiAgcmV0dXJuIHtcbiAgICBzZXR0ZXJzOiBbZnVuY3Rpb24gKF8yKSB7XG4gICAgICB0aHVua01pZGRsZXdhcmUgPSBfMlsnZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfKSB7XG4gICAgICBfdG9Db25zdW1hYmxlQXJyYXkgPSBfWydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF9lMSkge1xuICAgICAgX2V4dGVuZHMgPSBfZTFbJ2RlZmF1bHQnXTtcbiAgICB9LCBmdW5jdGlvbiAoX2M1KSB7XG4gICAgICBjcmVhdGVTdG9yZSA9IF9jNS5jcmVhdGVTdG9yZTtcbiAgICAgIGNvbXBvc2UgPSBfYzUuY29tcG9zZTtcbiAgICAgIGFwcGx5TWlkZGxld2FyZSA9IF9jNS5hcHBseU1pZGRsZXdhcmU7XG4gICAgICBjb21iaW5lUmVkdWNlcnMgPSBfYzUuY29tYmluZVJlZHVjZXJzO1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBfcmVmJGluaXRpYWxTdGF0ZSA9IF9yZWYuaW5pdGlhbFN0YXRlO1xuICAgICAgICB2YXIgaW5pdGlhbFN0YXRlID0gX3JlZiRpbml0aWFsU3RhdGUgPT09IHVuZGVmaW5lZCA/IHt9IDogX3JlZiRpbml0aWFsU3RhdGU7XG4gICAgICAgIHZhciByZWR1Y2VycyA9IF9yZWYucmVkdWNlcnM7XG4gICAgICAgIHZhciBfcmVmJG1pZGRsZXdhcmVzID0gX3JlZi5taWRkbGV3YXJlcztcbiAgICAgICAgdmFyIG1pZGRsZXdhcmVzID0gX3JlZiRtaWRkbGV3YXJlcyA9PT0gdW5kZWZpbmVkID8gW10gOiBfcmVmJG1pZGRsZXdhcmVzO1xuXG4gICAgICAgIHZhciByb290UmVkdWNlciA9IGNvbWJpbmVSZWR1Y2VycyhfZXh0ZW5kcyh7fSwgcmVkdWNlcnMpKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2UoYXBwbHlNaWRkbGV3YXJlLmFwcGx5KHVuZGVmaW5lZCwgW3RodW5rTWlkZGxld2FyZV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShtaWRkbGV3YXJlcykpKSkoY3JlYXRlU3RvcmUpKHJvb3RSZWR1Y2VyLCBpbml0aWFsU3RhdGUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTA3XCIsIFtcImQ0XCIsIFwiMTA4XCIsIFwiMTA5XCIsIFwiZDBcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyICQgPSAkX19yZXF1aXJlKCdkNCcpLFxuICAgICAgdG9PYmplY3QgPSAkX19yZXF1aXJlKCcxMDgnKSxcbiAgICAgIElPYmplY3QgPSAkX19yZXF1aXJlKCcxMDknKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCdkMCcpKGZ1bmN0aW9uKCkge1xuICAgIHZhciBhID0gT2JqZWN0LmFzc2lnbixcbiAgICAgICAgQSA9IHt9LFxuICAgICAgICBCID0ge30sXG4gICAgICAgIFMgPSBTeW1ib2woKSxcbiAgICAgICAgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG4gICAgQVtTXSA9IDc7XG4gICAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbihrKSB7XG4gICAgICBCW2tdID0gaztcbiAgICB9KTtcbiAgICByZXR1cm4gYSh7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cyhhKHt9LCBCKSkuam9pbignJykgIT0gSztcbiAgfSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpIHtcbiAgICB2YXIgVCA9IHRvT2JqZWN0KHRhcmdldCksXG4gICAgICAgICQkID0gYXJndW1lbnRzLFxuICAgICAgICAkJGxlbiA9ICQkLmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSAxLFxuICAgICAgICBnZXRLZXlzID0gJC5nZXRLZXlzLFxuICAgICAgICBnZXRTeW1ib2xzID0gJC5nZXRTeW1ib2xzLFxuICAgICAgICBpc0VudW0gPSAkLmlzRW51bTtcbiAgICB3aGlsZSAoJCRsZW4gPiBpbmRleCkge1xuICAgICAgdmFyIFMgPSBJT2JqZWN0KCQkW2luZGV4KytdKSxcbiAgICAgICAgICBrZXlzID0gZ2V0U3ltYm9scyA/IGdldEtleXMoUykuY29uY2F0KGdldFN5bWJvbHMoUykpIDogZ2V0S2V5cyhTKSxcbiAgICAgICAgICBsZW5ndGggPSBrZXlzLmxlbmd0aCxcbiAgICAgICAgICBqID0gMCxcbiAgICAgICAgICBrZXk7XG4gICAgICB3aGlsZSAobGVuZ3RoID4gailcbiAgICAgICAgaWYgKGlzRW51bS5jYWxsKFMsIGtleSA9IGtleXNbaisrXSkpXG4gICAgICAgICAgVFtrZXldID0gU1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gVDtcbiAgfSA6IE9iamVjdC5hc3NpZ247XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTBhXCIsIFtcImNlXCIsIFwiMTA3XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciAkZXhwb3J0ID0gJF9fcmVxdWlyZSgnY2UnKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYsICdPYmplY3QnLCB7YXNzaWduOiAkX19yZXF1aXJlKCcxMDcnKX0pO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEwYlwiLCBbXCIxMGFcIiwgXCJjZlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAkX19yZXF1aXJlKCcxMGEnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCdjZicpLk9iamVjdC5hc3NpZ247XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTBjXCIsIFtcIjEwYlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBcImRlZmF1bHRcIjogJF9fcmVxdWlyZSgnMTBiJyksXG4gICAgX19lc01vZHVsZTogdHJ1ZVxuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImUxXCIsIFtcIjEwY1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIF9PYmplY3QkYXNzaWduID0gJF9fcmVxdWlyZSgnMTBjJylbXCJkZWZhdWx0XCJdO1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9PYmplY3QkYXNzaWduIHx8IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMDhcIiwgW1wiMTBkXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBkZWZpbmVkID0gJF9fcmVxdWlyZSgnMTBkJyk7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpIHtcbiAgICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMGVcIiwgW1wiMTBmXCIsIFwiY2VcIiwgXCIxMDhcIiwgXCIxMTBcIiwgXCIxMTFcIiwgXCIxMTJcIiwgXCIxMTNcIiwgXCIxMTRcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBjdHggPSAkX19yZXF1aXJlKCcxMGYnKSxcbiAgICAgICRleHBvcnQgPSAkX19yZXF1aXJlKCdjZScpLFxuICAgICAgdG9PYmplY3QgPSAkX19yZXF1aXJlKCcxMDgnKSxcbiAgICAgIGNhbGwgPSAkX19yZXF1aXJlKCcxMTAnKSxcbiAgICAgIGlzQXJyYXlJdGVyID0gJF9fcmVxdWlyZSgnMTExJyksXG4gICAgICB0b0xlbmd0aCA9ICRfX3JlcXVpcmUoJzExMicpLFxuICAgICAgZ2V0SXRlckZuID0gJF9fcmVxdWlyZSgnMTEzJyk7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogISRfX3JlcXVpcmUoJzExNCcpKGZ1bmN0aW9uKGl0ZXIpIHtcbiAgICBBcnJheS5mcm9tKGl0ZXIpO1xuICB9KSwgJ0FycmF5Jywge2Zyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlKSB7XG4gICAgICB2YXIgTyA9IHRvT2JqZWN0KGFycmF5TGlrZSksXG4gICAgICAgICAgQyA9IHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgPyB0aGlzIDogQXJyYXksXG4gICAgICAgICAgJCQgPSBhcmd1bWVudHMsXG4gICAgICAgICAgJCRsZW4gPSAkJC5sZW5ndGgsXG4gICAgICAgICAgbWFwZm4gPSAkJGxlbiA+IDEgPyAkJFsxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICBpbmRleCA9IDAsXG4gICAgICAgICAgaXRlckZuID0gZ2V0SXRlckZuKE8pLFxuICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgc3RlcCxcbiAgICAgICAgICBpdGVyYXRvcjtcbiAgICAgIGlmIChtYXBwaW5nKVxuICAgICAgICBtYXBmbiA9IGN0eChtYXBmbiwgJCRsZW4gPiAyID8gJCRbMl0gOiB1bmRlZmluZWQsIDIpO1xuICAgICAgaWYgKGl0ZXJGbiAhPSB1bmRlZmluZWQgJiYgIShDID09IEFycmF5ICYmIGlzQXJyYXlJdGVyKGl0ZXJGbikpKSB7XG4gICAgICAgIGZvciAoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChPKSwgcmVzdWx0ID0gbmV3IEM7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKykge1xuICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSBtYXBwaW5nID8gY2FsbChpdGVyYXRvciwgbWFwZm4sIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgICAgcmVzdWx0W2luZGV4XSA9IG1hcHBpbmcgPyBtYXBmbihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfX0pO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjExNVwiLCBbXCIxMTZcIiwgXCIxMGVcIiwgXCJjZlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICAkX19yZXF1aXJlKCcxMTYnKTtcbiAgJF9fcmVxdWlyZSgnMTBlJyk7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnY2YnKS5BcnJheS5mcm9tO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjExN1wiLCBbXCIxMTVcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgXCJkZWZhdWx0XCI6ICRfX3JlcXVpcmUoJzExNScpLFxuICAgIF9fZXNNb2R1bGU6IHRydWVcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMDZcIiwgW1wiMTE3XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgX0FycmF5JGZyb20gPSAkX19yZXF1aXJlKCcxMTcnKVtcImRlZmF1bHRcIl07XG4gIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24oYXJyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsXG4gICAgICAgICAgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKVxuICAgICAgICBhcnIyW2ldID0gYXJyW2ldO1xuICAgICAgcmV0dXJuIGFycjI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBfQXJyYXkkZnJvbShhcnIpO1xuICAgIH1cbiAgfTtcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMThcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgXCJmb3JtYXQgY2pzXCI7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTE5XCIsIFtcIjExYVwiLCBcIjEwZFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgdG9JbnRlZ2VyID0gJF9fcmVxdWlyZSgnMTFhJyksXG4gICAgICBkZWZpbmVkID0gJF9fcmVxdWlyZSgnMTBkJyk7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oVE9fU1RSSU5HKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcykge1xuICAgICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSksXG4gICAgICAgICAgaSA9IHRvSW50ZWdlcihwb3MpLFxuICAgICAgICAgIGwgPSBzLmxlbmd0aCxcbiAgICAgICAgICBhLFxuICAgICAgICAgIGI7XG4gICAgICBpZiAoaSA8IDAgfHwgaSA+PSBsKVxuICAgICAgICByZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgICAgcmV0dXJuIGEgPCAweGQ4MDAgfHwgYSA+IDB4ZGJmZiB8fCBpICsgMSA9PT0gbCB8fCAoYiA9IHMuY2hhckNvZGVBdChpICsgMSkpIDwgMHhkYzAwIHx8IGIgPiAweGRmZmYgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGEgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMTZcIiwgW1wiMTE5XCIsIFwiMTFiXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgJGF0ID0gJF9fcmVxdWlyZSgnMTE5JykodHJ1ZSk7XG4gICRfX3JlcXVpcmUoJzExYicpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uKGl0ZXJhdGVkKSB7XG4gICAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7XG4gICAgdGhpcy5faSA9IDA7XG4gIH0sIGZ1bmN0aW9uKCkge1xuICAgIHZhciBPID0gdGhpcy5fdCxcbiAgICAgICAgaW5kZXggPSB0aGlzLl9pLFxuICAgICAgICBwb2ludDtcbiAgICBpZiAoaW5kZXggPj0gTy5sZW5ndGgpXG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICBkb25lOiB0cnVlXG4gICAgICB9O1xuICAgIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgICB0aGlzLl9pICs9IHBvaW50Lmxlbmd0aDtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHBvaW50LFxuICAgICAgZG9uZTogZmFsc2VcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMWNcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHt9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjExZFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGRvbmU6ICEhZG9uZVxuICAgIH07XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTA5XCIsIFtcIjExZVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgY29mID0gJF9fcmVxdWlyZSgnMTFlJyk7XG4gIG1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbihpdCkge1xuICAgIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMGRcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCkge1xuICAgIGlmIChpdCA9PSB1bmRlZmluZWQpXG4gICAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIgKyBpdCk7XG4gICAgcmV0dXJuIGl0O1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImQyXCIsIFtcIjEwOVwiLCBcIjEwZFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgSU9iamVjdCA9ICRfX3JlcXVpcmUoJzEwOScpLFxuICAgICAgZGVmaW5lZCA9ICRfX3JlcXVpcmUoJzEwZCcpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gICAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjExZlwiLCBbXCJkNFwiLCBcIjEyMFwiLCBcIjEyMVwiLCBcIjEyMlwiLCBcIjEyM1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyICQgPSAkX19yZXF1aXJlKCdkNCcpLFxuICAgICAgZGVzY3JpcHRvciA9ICRfX3JlcXVpcmUoJzEyMCcpLFxuICAgICAgc2V0VG9TdHJpbmdUYWcgPSAkX19yZXF1aXJlKCcxMjEnKSxcbiAgICAgIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gICRfX3JlcXVpcmUoJzEyMicpKEl0ZXJhdG9yUHJvdG90eXBlLCAkX19yZXF1aXJlKCcxMjMnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KSB7XG4gICAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gJC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG4gICAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTFiXCIsIFtcIjEyNFwiLCBcImNlXCIsIFwiMTI1XCIsIFwiMTIyXCIsIFwiMTI2XCIsIFwiMTI3XCIsIFwiMTFmXCIsIFwiMTIxXCIsIFwiZDRcIiwgXCIxMjNcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBMSUJSQVJZID0gJF9fcmVxdWlyZSgnMTI0JyksXG4gICAgICAkZXhwb3J0ID0gJF9fcmVxdWlyZSgnY2UnKSxcbiAgICAgIHJlZGVmaW5lID0gJF9fcmVxdWlyZSgnMTI1JyksXG4gICAgICBoaWRlID0gJF9fcmVxdWlyZSgnMTIyJyksXG4gICAgICBoYXMgPSAkX19yZXF1aXJlKCcxMjYnKSxcbiAgICAgIEl0ZXJhdG9ycyA9ICRfX3JlcXVpcmUoJzEyNycpLFxuICAgICAgJGl0ZXJDcmVhdGUgPSAkX19yZXF1aXJlKCcxMWYnKSxcbiAgICAgIHNldFRvU3RyaW5nVGFnID0gJF9fcmVxdWlyZSgnMTIxJyksXG4gICAgICBnZXRQcm90byA9ICRfX3JlcXVpcmUoJ2Q0JykuZ2V0UHJvdG8sXG4gICAgICBJVEVSQVRPUiA9ICRfX3JlcXVpcmUoJzEyMycpKCdpdGVyYXRvcicpLFxuICAgICAgQlVHR1kgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSksXG4gICAgICBGRl9JVEVSQVRPUiA9ICdAQGl0ZXJhdG9yJyxcbiAgICAgIEtFWVMgPSAna2V5cycsXG4gICAgICBWQUxVRVMgPSAndmFsdWVzJztcbiAgdmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gICAgdmFyIGdldE1ldGhvZCA9IGZ1bmN0aW9uKGtpbmQpIHtcbiAgICAgIGlmICghQlVHR1kgJiYga2luZCBpbiBwcm90bylcbiAgICAgICAgcmV0dXJuIHByb3RvW2tpbmRdO1xuICAgICAgc3dpdGNoIChraW5kKSB7XG4gICAgICAgIGNhc2UgS0VZUzpcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24ga2V5cygpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBWQUxVRVM6XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7XG4gICAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpO1xuICAgICAgfTtcbiAgICB9O1xuICAgIHZhciBUQUcgPSBOQU1FICsgJyBJdGVyYXRvcicsXG4gICAgICAgIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFUyxcbiAgICAgICAgVkFMVUVTX0JVRyA9IGZhbHNlLFxuICAgICAgICBwcm90byA9IEJhc2UucHJvdG90eXBlLFxuICAgICAgICAkbmF0aXZlID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdLFxuICAgICAgICAkZGVmYXVsdCA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpLFxuICAgICAgICBtZXRob2RzLFxuICAgICAgICBrZXk7XG4gICAgaWYgKCRuYXRpdmUpIHtcbiAgICAgIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvKCRkZWZhdWx0LmNhbGwobmV3IEJhc2UpKTtcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgaWYgKCFMSUJSQVJZICYmIGhhcyhwcm90bywgRkZfSVRFUkFUT1IpKVxuICAgICAgICBoaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgICBpZiAoREVGX1ZBTFVFUyAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUykge1xuICAgICAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAgICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKSB7XG4gICAgICAgICAgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKSB7XG4gICAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuICAgIH1cbiAgICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgICBJdGVyYXRvcnNbVEFHXSA9IHJldHVyblRoaXM7XG4gICAgaWYgKERFRkFVTFQpIHtcbiAgICAgIG1ldGhvZHMgPSB7XG4gICAgICAgIHZhbHVlczogREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICAgIGtleXM6IElTX1NFVCA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgICBlbnRyaWVzOiAhREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKCdlbnRyaWVzJylcbiAgICAgIH07XG4gICAgICBpZiAoRk9SQ0VEKVxuICAgICAgICBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG4gICAgICAgICAgaWYgKCEoa2V5IGluIHByb3RvKSlcbiAgICAgICAgICAgIHJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgICAgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoQlVHR1kgfHwgVkFMVUVTX0JVRyksIE5BTUUsIG1ldGhvZHMpO1xuICAgIH1cbiAgICByZXR1cm4gbWV0aG9kcztcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMjhcIiwgW1wiMTFjXCIsIFwiMTFkXCIsIFwiMTI3XCIsIFwiZDJcIiwgXCIxMWJcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBhZGRUb1Vuc2NvcGFibGVzID0gJF9fcmVxdWlyZSgnMTFjJyksXG4gICAgICBzdGVwID0gJF9fcmVxdWlyZSgnMTFkJyksXG4gICAgICBJdGVyYXRvcnMgPSAkX19yZXF1aXJlKCcxMjcnKSxcbiAgICAgIHRvSU9iamVjdCA9ICRfX3JlcXVpcmUoJ2QyJyk7XG4gIG1vZHVsZS5leHBvcnRzID0gJF9fcmVxdWlyZSgnMTFiJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uKGl0ZXJhdGVkLCBraW5kKSB7XG4gICAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7XG4gICAgdGhpcy5faSA9IDA7XG4gICAgdGhpcy5fayA9IGtpbmQ7XG4gIH0sIGZ1bmN0aW9uKCkge1xuICAgIHZhciBPID0gdGhpcy5fdCxcbiAgICAgICAga2luZCA9IHRoaXMuX2ssXG4gICAgICAgIGluZGV4ID0gdGhpcy5faSsrO1xuICAgIGlmICghTyB8fCBpbmRleCA+PSBPLmxlbmd0aCkge1xuICAgICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBzdGVwKDEpO1xuICAgIH1cbiAgICBpZiAoa2luZCA9PSAna2V5cycpXG4gICAgICByZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gICAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpXG4gICAgICByZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG4gICAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xuICB9LCAndmFsdWVzJyk7XG4gIEl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG4gIGFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbiAgYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG4gIGFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMjlcIiwgW1wiMTI4XCIsIFwiMTI3XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gICRfX3JlcXVpcmUoJzEyOCcpO1xuICB2YXIgSXRlcmF0b3JzID0gJF9fcmVxdWlyZSgnMTI3Jyk7XG4gIEl0ZXJhdG9ycy5Ob2RlTGlzdCA9IEl0ZXJhdG9ycy5IVE1MQ29sbGVjdGlvbiA9IEl0ZXJhdG9ycy5BcnJheTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMjRcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImNlXCIsIFtcIjEyYVwiLCBcImNmXCIsIFwiMTBmXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBnbG9iYWwgPSAkX19yZXF1aXJlKCcxMmEnKSxcbiAgICAgIGNvcmUgPSAkX19yZXF1aXJlKCdjZicpLFxuICAgICAgY3R4ID0gJF9fcmVxdWlyZSgnMTBmJyksXG4gICAgICBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcbiAgdmFyICRleHBvcnQgPSBmdW5jdGlvbih0eXBlLCBuYW1lLCBzb3VyY2UpIHtcbiAgICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRixcbiAgICAgICAgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuRyxcbiAgICAgICAgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuUyxcbiAgICAgICAgSVNfUFJPVE8gPSB0eXBlICYgJGV4cG9ydC5QLFxuICAgICAgICBJU19CSU5EID0gdHlwZSAmICRleHBvcnQuQixcbiAgICAgICAgSVNfV1JBUCA9IHR5cGUgJiAkZXhwb3J0LlcsXG4gICAgICAgIGV4cG9ydHMgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KSxcbiAgICAgICAgdGFyZ2V0ID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXSxcbiAgICAgICAga2V5LFxuICAgICAgICBvd24sXG4gICAgICAgIG91dDtcbiAgICBpZiAoSVNfR0xPQkFMKVxuICAgICAgc291cmNlID0gbmFtZTtcbiAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIGtleSBpbiB0YXJnZXQ7XG4gICAgICBpZiAob3duICYmIGtleSBpbiBleHBvcnRzKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XSA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKSA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uKEMpIHtcbiAgICAgICAgdmFyIEYgPSBmdW5jdGlvbihwYXJhbSkge1xuICAgICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgQyA/IG5ldyBDKHBhcmFtKSA6IEMocGFyYW0pO1xuICAgICAgICB9O1xuICAgICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgICAgIHJldHVybiBGO1xuICAgICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgICAgaWYgKElTX1BST1RPKVxuICAgICAgICAoZXhwb3J0c1tQUk9UT1RZUEVdIHx8IChleHBvcnRzW1BST1RPVFlQRV0gPSB7fSkpW2tleV0gPSBvdXQ7XG4gICAgfVxuICB9O1xuICAkZXhwb3J0LkYgPSAxO1xuICAkZXhwb3J0LkcgPSAyO1xuICAkZXhwb3J0LlMgPSA0O1xuICAkZXhwb3J0LlAgPSA4O1xuICAkZXhwb3J0LkIgPSAxNjtcbiAgJGV4cG9ydC5XID0gMzI7XG4gIG1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMmJcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgQ29uc3RydWN0b3IsIG5hbWUpIHtcbiAgICBpZiAoIShpdCBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSlcbiAgICAgIHRocm93IFR5cGVFcnJvcihuYW1lICsgXCI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhXCIpO1xuICAgIHJldHVybiBpdDtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMTBcIiwgW1wiMTJjXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBhbk9iamVjdCA9ICRfX3JlcXVpcmUoJzEyYycpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICBhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTExXCIsIFtcIjEyN1wiLCBcIjEyM1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgSXRlcmF0b3JzID0gJF9fcmVxdWlyZSgnMTI3JyksXG4gICAgICBJVEVSQVRPUiA9ICRfX3JlcXVpcmUoJzEyMycpKCdpdGVyYXRvcicpLFxuICAgICAgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCkge1xuICAgIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTFhXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBjZWlsID0gTWF0aC5jZWlsLFxuICAgICAgZmxvb3IgPSBNYXRoLmZsb29yO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gICAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTEyXCIsIFtcIjExYVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgdG9JbnRlZ2VyID0gJF9fcmVxdWlyZSgnMTFhJyksXG4gICAgICBtaW4gPSBNYXRoLm1pbjtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCkge1xuICAgIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwO1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEyZFwiLCBbXCIxMWVcIiwgXCIxMjNcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGNvZiA9ICRfX3JlcXVpcmUoJzExZScpLFxuICAgICAgVEFHID0gJF9fcmVxdWlyZSgnMTIzJykoJ3RvU3RyaW5nVGFnJyksXG4gICAgICBBUkcgPSBjb2YoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHM7XG4gICAgICB9KCkpID09ICdBcmd1bWVudHMnO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gICAgdmFyIE8sXG4gICAgICAgIFQsXG4gICAgICAgIEI7XG4gICAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnIDogdHlwZW9mKFQgPSAoTyA9IE9iamVjdChpdCkpW1RBR10pID09ICdzdHJpbmcnID8gVCA6IEFSRyA/IGNvZihPKSA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMjdcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSB7fTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMTNcIiwgW1wiMTJkXCIsIFwiMTIzXCIsIFwiMTI3XCIsIFwiY2ZcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGNsYXNzb2YgPSAkX19yZXF1aXJlKCcxMmQnKSxcbiAgICAgIElURVJBVE9SID0gJF9fcmVxdWlyZSgnMTIzJykoJ2l0ZXJhdG9yJyksXG4gICAgICBJdGVyYXRvcnMgPSAkX19yZXF1aXJlKCcxMjcnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCdjZicpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpIHtcbiAgICBpZiAoaXQgIT0gdW5kZWZpbmVkKVxuICAgICAgcmV0dXJuIGl0W0lURVJBVE9SXSB8fCBpdFsnQEBpdGVyYXRvciddIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTJlXCIsIFtcIjEwZlwiLCBcIjExMFwiLCBcIjExMVwiLCBcIjEyY1wiLCBcIjExMlwiLCBcIjExM1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgY3R4ID0gJF9fcmVxdWlyZSgnMTBmJyksXG4gICAgICBjYWxsID0gJF9fcmVxdWlyZSgnMTEwJyksXG4gICAgICBpc0FycmF5SXRlciA9ICRfX3JlcXVpcmUoJzExMScpLFxuICAgICAgYW5PYmplY3QgPSAkX19yZXF1aXJlKCcxMmMnKSxcbiAgICAgIHRvTGVuZ3RoID0gJF9fcmVxdWlyZSgnMTEyJyksXG4gICAgICBnZXRJdGVyRm4gPSAkX19yZXF1aXJlKCcxMTMnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYWJsZSwgZW50cmllcywgZm4sIHRoYXQpIHtcbiAgICB2YXIgaXRlckZuID0gZ2V0SXRlckZuKGl0ZXJhYmxlKSxcbiAgICAgICAgZiA9IGN0eChmbiwgdGhhdCwgZW50cmllcyA/IDIgOiAxKSxcbiAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICBsZW5ndGgsXG4gICAgICAgIHN0ZXAsXG4gICAgICAgIGl0ZXJhdG9yO1xuICAgIGlmICh0eXBlb2YgaXRlckZuICE9ICdmdW5jdGlvbicpXG4gICAgICB0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgICBpZiAoaXNBcnJheUl0ZXIoaXRlckZuKSlcbiAgICAgIGZvciAobGVuZ3RoID0gdG9MZW5ndGgoaXRlcmFibGUubGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgZW50cmllcyA/IGYoYW5PYmplY3Qoc3RlcCA9IGl0ZXJhYmxlW2luZGV4XSlbMF0sIHN0ZXBbMV0pIDogZihpdGVyYWJsZVtpbmRleF0pO1xuICAgICAgfVxuICAgIGVsc2VcbiAgICAgIGZvciAoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChpdGVyYWJsZSk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgKSB7XG4gICAgICAgIGNhbGwoaXRlcmF0b3IsIGYsIHN0ZXAudmFsdWUsIGVudHJpZXMpO1xuICAgICAgfVxuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImQ5XCIsIFtcImQ0XCIsIFwiMTJmXCIsIFwiMTJjXCIsIFwiMTBmXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBnZXREZXNjID0gJF9fcmVxdWlyZSgnZDQnKS5nZXREZXNjLFxuICAgICAgaXNPYmplY3QgPSAkX19yZXF1aXJlKCcxMmYnKSxcbiAgICAgIGFuT2JqZWN0ID0gJF9fcmVxdWlyZSgnMTJjJyk7XG4gIHZhciBjaGVjayA9IGZ1bmN0aW9uKE8sIHByb3RvKSB7XG4gICAgYW5PYmplY3QoTyk7XG4gICAgaWYgKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpXG4gICAgICB0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IGZ1bmN0aW9uKHRlc3QsIGJ1Z2d5LCBzZXQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldCA9ICRfX3JlcXVpcmUoJzEwZicpKEZ1bmN0aW9uLmNhbGwsIGdldERlc2MoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgIHNldCh0ZXN0LCBbXSk7XG4gICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBidWdneSA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pIHtcbiAgICAgICAgY2hlY2soTywgcHJvdG8pO1xuICAgICAgICBpZiAoYnVnZ3kpXG4gICAgICAgICAgTy5fX3Byb3RvX18gPSBwcm90bztcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHNldChPLCBwcm90byk7XG4gICAgICAgIHJldHVybiBPO1xuICAgICAgfTtcbiAgICB9KHt9LCBmYWxzZSkgOiB1bmRlZmluZWQpLFxuICAgIGNoZWNrOiBjaGVja1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEzMFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5pcyB8fCBmdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgcmV0dXJuIHggPT09IHkgPyB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geSA6IHggIT0geCAmJiB5ICE9IHk7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTJjXCIsIFtcIjEyZlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgaXNPYmplY3QgPSAkX19yZXF1aXJlKCcxMmYnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCkge1xuICAgIGlmICghaXNPYmplY3QoaXQpKVxuICAgICAgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICAgIHJldHVybiBpdDtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMzFcIiwgW1wiMTJjXCIsIFwiMTMyXCIsIFwiMTIzXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBhbk9iamVjdCA9ICRfX3JlcXVpcmUoJzEyYycpLFxuICAgICAgYUZ1bmN0aW9uID0gJF9fcmVxdWlyZSgnMTMyJyksXG4gICAgICBTUEVDSUVTID0gJF9fcmVxdWlyZSgnMTIzJykoJ3NwZWNpZXMnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihPLCBEKSB7XG4gICAgdmFyIEMgPSBhbk9iamVjdChPKS5jb25zdHJ1Y3RvcixcbiAgICAgICAgUztcbiAgICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QoQylbU1BFQ0lFU10pID09IHVuZGVmaW5lZCA/IEQgOiBhRnVuY3Rpb24oUyk7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTMyXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpIHtcbiAgICBpZiAodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpXG4gICAgICB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICAgIHJldHVybiBpdDtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMGZcIiwgW1wiMTMyXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBhRnVuY3Rpb24gPSAkX19yZXF1aXJlKCcxMzInKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gICAgYUZ1bmN0aW9uKGZuKTtcbiAgICBpZiAodGhhdCA9PT0gdW5kZWZpbmVkKVxuICAgICAgcmV0dXJuIGZuO1xuICAgIHN3aXRjaCAobGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgICAgIH07XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgICAgIH07XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTMzXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIGFyZ3MsIHRoYXQpIHtcbiAgICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gdW4gPyBmbigpIDogZm4uY2FsbCh0aGF0KTtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIHVuID8gZm4oYXJnc1swXSkgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0pO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdKSA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSkgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJncyk7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTM0XCIsIFtcIjEyYVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJzEyYScpLmRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMmZcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCkge1xuICAgIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTM1XCIsIFtcIjEyZlwiLCBcIjEyYVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgaXNPYmplY3QgPSAkX19yZXF1aXJlKCcxMmYnKSxcbiAgICAgIGRvY3VtZW50ID0gJF9fcmVxdWlyZSgnMTJhJykuZG9jdW1lbnQsXG4gICAgICBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCkge1xuICAgIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTM2XCIsIFtcIjEwZlwiLCBcIjEzM1wiLCBcIjEzNFwiLCBcIjEzNVwiLCBcIjEyYVwiLCBcIjExZVwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgdmFyIGN0eCA9ICRfX3JlcXVpcmUoJzEwZicpLFxuICAgICAgICBpbnZva2UgPSAkX19yZXF1aXJlKCcxMzMnKSxcbiAgICAgICAgaHRtbCA9ICRfX3JlcXVpcmUoJzEzNCcpLFxuICAgICAgICBjZWwgPSAkX19yZXF1aXJlKCcxMzUnKSxcbiAgICAgICAgZ2xvYmFsID0gJF9fcmVxdWlyZSgnMTJhJyksXG4gICAgICAgIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcyxcbiAgICAgICAgc2V0VGFzayA9IGdsb2JhbC5zZXRJbW1lZGlhdGUsXG4gICAgICAgIGNsZWFyVGFzayA9IGdsb2JhbC5jbGVhckltbWVkaWF0ZSxcbiAgICAgICAgTWVzc2FnZUNoYW5uZWwgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWwsXG4gICAgICAgIGNvdW50ZXIgPSAwLFxuICAgICAgICBxdWV1ZSA9IHt9LFxuICAgICAgICBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJyxcbiAgICAgICAgZGVmZXIsXG4gICAgICAgIGNoYW5uZWwsXG4gICAgICAgIHBvcnQ7XG4gICAgdmFyIHJ1biA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGlkID0gK3RoaXM7XG4gICAgICBpZiAocXVldWUuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcbiAgICAgICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgICAgICAgZm4oKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBsaXN0bmVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHJ1bi5jYWxsKGV2ZW50LmRhdGEpO1xuICAgIH07XG4gICAgaWYgKCFzZXRUYXNrIHx8ICFjbGVhclRhc2spIHtcbiAgICAgIHNldFRhc2sgPSBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoZm4pIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSxcbiAgICAgICAgICAgIGkgPSAxO1xuICAgICAgICB3aGlsZSAoYXJndW1lbnRzLmxlbmd0aCA+IGkpXG4gICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICAgICAgcXVldWVbKytjb3VudGVyXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGludm9rZSh0eXBlb2YgZm4gPT0gJ2Z1bmN0aW9uJyA/IGZuIDogRnVuY3Rpb24oZm4pLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICAgICAgZGVmZXIoY291bnRlcik7XG4gICAgICAgIHJldHVybiBjb3VudGVyO1xuICAgICAgfTtcbiAgICAgIGNsZWFyVGFzayA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKSB7XG4gICAgICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gICAgICB9O1xuICAgICAgaWYgKCRfX3JlcXVpcmUoJzExZScpKHByb2Nlc3MpID09ICdwcm9jZXNzJykge1xuICAgICAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhjdHgocnVuLCBpZCwgMSkpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChNZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgICBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsO1xuICAgICAgICBwb3J0ID0gY2hhbm5lbC5wb3J0MjtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBsaXN0bmVyO1xuICAgICAgICBkZWZlciA9IGN0eChwb3J0LnBvc3RNZXNzYWdlLCBwb3J0LCAxKTtcbiAgICAgIH0gZWxzZSBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiYgdHlwZW9mIHBvc3RNZXNzYWdlID09ICdmdW5jdGlvbicgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoaWQgKyAnJywgJyonKTtcbiAgICAgICAgfTtcbiAgICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0bmVyLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKE9OUkVBRFlTVEFURUNIQU5HRSBpbiBjZWwoJ3NjcmlwdCcpKSB7XG4gICAgICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICBodG1sLmFwcGVuZENoaWxkKGNlbCgnc2NyaXB0JykpW09OUkVBRFlTVEFURUNIQU5HRV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgICAgICBydW4uY2FsbChpZCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGN0eChydW4sIGlkLCAxKSwgMCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgc2V0OiBzZXRUYXNrLFxuICAgICAgY2xlYXI6IGNsZWFyVGFza1xuICAgIH07XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjExZVwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCkge1xuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTM3XCIsIFtcIjEyYVwiLCBcIjEzNlwiLCBcIjExZVwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgdmFyIGdsb2JhbCA9ICRfX3JlcXVpcmUoJzEyYScpLFxuICAgICAgICBtYWNyb3Rhc2sgPSAkX19yZXF1aXJlKCcxMzYnKS5zZXQsXG4gICAgICAgIE9ic2VydmVyID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsXG4gICAgICAgIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcyxcbiAgICAgICAgUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlLFxuICAgICAgICBpc05vZGUgPSAkX19yZXF1aXJlKCcxMWUnKShwcm9jZXNzKSA9PSAncHJvY2VzcycsXG4gICAgICAgIGhlYWQsXG4gICAgICAgIGxhc3QsXG4gICAgICAgIG5vdGlmeTtcbiAgICB2YXIgZmx1c2ggPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXJlbnQsXG4gICAgICAgICAgZG9tYWluLFxuICAgICAgICAgIGZuO1xuICAgICAgaWYgKGlzTm9kZSAmJiAocGFyZW50ID0gcHJvY2Vzcy5kb21haW4pKSB7XG4gICAgICAgIHByb2Nlc3MuZG9tYWluID0gbnVsbDtcbiAgICAgICAgcGFyZW50LmV4aXQoKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChoZWFkKSB7XG4gICAgICAgIGRvbWFpbiA9IGhlYWQuZG9tYWluO1xuICAgICAgICBmbiA9IGhlYWQuZm47XG4gICAgICAgIGlmIChkb21haW4pXG4gICAgICAgICAgZG9tYWluLmVudGVyKCk7XG4gICAgICAgIGZuKCk7XG4gICAgICAgIGlmIChkb21haW4pXG4gICAgICAgICAgZG9tYWluLmV4aXQoKTtcbiAgICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgIH1cbiAgICAgIGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAocGFyZW50KVxuICAgICAgICBwYXJlbnQuZW50ZXIoKTtcbiAgICB9O1xuICAgIGlmIChpc05vZGUpIHtcbiAgICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChPYnNlcnZlcikge1xuICAgICAgdmFyIHRvZ2dsZSA9IDEsXG4gICAgICAgICAgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgIG5ldyBPYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7Y2hhcmFjdGVyRGF0YTogdHJ1ZX0pO1xuICAgICAgbm90aWZ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG5vZGUuZGF0YSA9IHRvZ2dsZSA9IC10b2dnbGU7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoUHJvbWlzZSAmJiBQcm9taXNlLnJlc29sdmUpIHtcbiAgICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZsdXNoKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBtYWNyb3Rhc2suY2FsbChnbG9iYWwsIGZsdXNoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYXNhcChmbikge1xuICAgICAgdmFyIHRhc2sgPSB7XG4gICAgICAgIGZuOiBmbixcbiAgICAgICAgbmV4dDogdW5kZWZpbmVkLFxuICAgICAgICBkb21haW46IGlzTm9kZSAmJiBwcm9jZXNzLmRvbWFpblxuICAgICAgfTtcbiAgICAgIGlmIChsYXN0KVxuICAgICAgICBsYXN0Lm5leHQgPSB0YXNrO1xuICAgICAgaWYgKCFoZWFkKSB7XG4gICAgICAgIGhlYWQgPSB0YXNrO1xuICAgICAgICBub3RpZnkoKTtcbiAgICAgIH1cbiAgICAgIGxhc3QgPSB0YXNrO1xuICAgIH07XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEyMFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGJpdG1hcCwgdmFsdWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZW51bWVyYWJsZTogIShiaXRtYXAgJiAxKSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMjJcIiwgW1wiZDRcIiwgXCIxMjBcIiwgXCIxMzhcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyICQgPSAkX19yZXF1aXJlKCdkNCcpLFxuICAgICAgY3JlYXRlRGVzYyA9ICRfX3JlcXVpcmUoJzEyMCcpO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJzEzOCcpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuICQuc2V0RGVzYyhvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuICB9IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEyNVwiLCBbXCIxMjJcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19yZXF1aXJlKCcxMjInKTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMzlcIiwgW1wiMTI1XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciByZWRlZmluZSA9ICRfX3JlcXVpcmUoJzEyNScpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHRhcmdldCwgc3JjKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHNyYylcbiAgICAgIHJlZGVmaW5lKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMjZcIiwgW10sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIGtleSkge1xuICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEyMVwiLCBbXCJkNFwiLCBcIjEyNlwiLCBcIjEyM1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgZGVmID0gJF9fcmVxdWlyZSgnZDQnKS5zZXREZXNjLFxuICAgICAgaGFzID0gJF9fcmVxdWlyZSgnMTI2JyksXG4gICAgICBUQUcgPSAkX19yZXF1aXJlKCcxMjMnKSgndG9TdHJpbmdUYWcnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KSB7XG4gICAgaWYgKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpXG4gICAgICBkZWYoaXQsIFRBRywge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB0YWdcbiAgICAgIH0pO1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImQ0XCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciAkT2JqZWN0ID0gT2JqZWN0O1xuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjcmVhdGU6ICRPYmplY3QuY3JlYXRlLFxuICAgIGdldFByb3RvOiAkT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuICAgIGlzRW51bToge30ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgZ2V0RGVzYzogJE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gICAgc2V0RGVzYzogJE9iamVjdC5kZWZpbmVQcm9wZXJ0eSxcbiAgICBzZXREZXNjczogJE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLFxuICAgIGdldEtleXM6ICRPYmplY3Qua2V5cyxcbiAgICBnZXROYW1lczogJE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAgIGdldFN5bWJvbHM6ICRPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgIGVhY2g6IFtdLmZvckVhY2hcbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCJkMFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuICEhZXhlYygpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMzhcIiwgW1wiZDBcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSAhJF9fcmVxdWlyZSgnZDAnKShmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gNztcbiAgICAgIH19KS5hICE9IDc7XG4gIH0pO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEzYVwiLCBbXCJjZlwiLCBcImQ0XCIsIFwiMTM4XCIsIFwiMTIzXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgY29yZSA9ICRfX3JlcXVpcmUoJ2NmJyksXG4gICAgICAkID0gJF9fcmVxdWlyZSgnZDQnKSxcbiAgICAgIERFU0NSSVBUT1JTID0gJF9fcmVxdWlyZSgnMTM4JyksXG4gICAgICBTUEVDSUVTID0gJF9fcmVxdWlyZSgnMTIzJykoJ3NwZWNpZXMnKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVkpIHtcbiAgICB2YXIgQyA9IGNvcmVbS0VZXTtcbiAgICBpZiAoREVTQ1JJUFRPUlMgJiYgQyAmJiAhQ1tTUEVDSUVTXSlcbiAgICAgICQuc2V0RGVzYyhDLCBTUEVDSUVTLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTNiXCIsIFtcIjEyYVwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgZ2xvYmFsID0gJF9fcmVxdWlyZSgnMTJhJyksXG4gICAgICBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJyxcbiAgICAgIHN0b3JlID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEzY1wiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgaWQgPSAwLFxuICAgICAgcHggPSBNYXRoLnJhbmRvbSgpO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTJhXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aCA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZiA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gIGlmICh0eXBlb2YgX19nID09ICdudW1iZXInKVxuICAgIF9fZyA9IGdsb2JhbDtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxMjNcIiwgW1wiMTNiXCIsIFwiMTNjXCIsIFwiMTJhXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBzdG9yZSA9ICRfX3JlcXVpcmUoJzEzYicpKCd3a3MnKSxcbiAgICAgIHVpZCA9ICRfX3JlcXVpcmUoJzEzYycpLFxuICAgICAgU3ltYm9sID0gJF9fcmVxdWlyZSgnMTJhJykuU3ltYm9sO1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID0gU3ltYm9sICYmIFN5bWJvbFtuYW1lXSB8fCAoU3ltYm9sIHx8IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjExNFwiLCBbXCIxMjNcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgdmFyIElURVJBVE9SID0gJF9fcmVxdWlyZSgnMTIzJykoJ2l0ZXJhdG9yJyksXG4gICAgICBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgcml0ZXIgPSBbN11bSVRFUkFUT1JdKCk7XG4gICAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24oKSB7XG4gICAgICBTQUZFX0NMT1NJTkcgPSB0cnVlO1xuICAgIH07XG4gICAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKSB7XG4gICAgICB0aHJvdyAyO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMsIHNraXBDbG9zaW5nKSB7XG4gICAgaWYgKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBzYWZlID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBhcnIgPSBbN10sXG4gICAgICAgICAgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcbiAgICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzYWZlID0gdHJ1ZTtcbiAgICAgIH07XG4gICAgICBhcnJbSVRFUkFUT1JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpdGVyO1xuICAgICAgfTtcbiAgICAgIGV4ZWMoYXJyKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBzYWZlO1xuICB9O1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEzZFwiLCBbXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICB2YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG4gIHZhciBxdWV1ZSA9IFtdO1xuICB2YXIgZHJhaW5pbmcgPSBmYWxzZTtcbiAgdmFyIGN1cnJlbnRRdWV1ZTtcbiAgdmFyIHF1ZXVlSW5kZXggPSAtMTtcbiAgZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUgKGxlbikge1xuICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICBxdWV1ZSA9IFtdO1xuICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gIH1cbiAgcHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICBzZXRUaW1lb3V0KGRyYWluUXVldWUsIDApO1xuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xuICB9XG4gIEl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xuICB9O1xuICBwcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xuICBwcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xuICBwcm9jZXNzLmVudiA9IHt9O1xuICBwcm9jZXNzLmFyZ3YgPSBbXTtcbiAgcHJvY2Vzcy52ZXJzaW9uID0gJyc7XG4gIHByb2Nlc3MudmVyc2lvbnMgPSB7fTtcbiAgZnVuY3Rpb24gbm9vcCgpIHt9XG4gIHByb2Nlc3Mub24gPSBub29wO1xuICBwcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbiAgcHJvY2Vzcy5vbmNlID0gbm9vcDtcbiAgcHJvY2Vzcy5vZmYgPSBub29wO1xuICBwcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbiAgcHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xuICBwcm9jZXNzLmVtaXQgPSBub29wO1xuICBwcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xuICB9O1xuICBwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnLyc7XG4gIH07XG4gIHByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbihkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuICB9O1xuICBwcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIDA7XG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTNlXCIsIFtcIjEzZFwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJzEzZCcpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjEzZlwiLCBbXCIxM2VcIl0sIHRydWUsIGZ1bmN0aW9uKCRfX3JlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICA7XG4gIHZhciBkZWZpbmUsXG4gICAgICBnbG9iYWwgPSB0aGlzLFxuICAgICAgR0xPQkFMID0gdGhpcztcbiAgbW9kdWxlLmV4cG9ydHMgPSAkX19TeXN0ZW0uX25vZGVSZXF1aXJlID8gcHJvY2VzcyA6ICRfX3JlcXVpcmUoJzEzZScpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjE2XCIsIFtcIjEzZlwiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJzEzZicpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcIjE0MFwiLCBbXCJkNFwiLCBcIjEyNFwiLCBcIjEyYVwiLCBcIjEwZlwiLCBcIjEyZFwiLCBcImNlXCIsIFwiMTJmXCIsIFwiMTJjXCIsIFwiMTMyXCIsIFwiMTJiXCIsIFwiMTJlXCIsIFwiZDlcIiwgXCIxMzBcIiwgXCIxMjNcIiwgXCIxMzFcIiwgXCIxMzdcIiwgXCIxMzhcIiwgXCIxMzlcIiwgXCIxMjFcIiwgXCIxM2FcIiwgXCJjZlwiLCBcIjExNFwiLCBcIjE2XCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIChmdW5jdGlvbihwcm9jZXNzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciAkID0gJF9fcmVxdWlyZSgnZDQnKSxcbiAgICAgICAgTElCUkFSWSA9ICRfX3JlcXVpcmUoJzEyNCcpLFxuICAgICAgICBnbG9iYWwgPSAkX19yZXF1aXJlKCcxMmEnKSxcbiAgICAgICAgY3R4ID0gJF9fcmVxdWlyZSgnMTBmJyksXG4gICAgICAgIGNsYXNzb2YgPSAkX19yZXF1aXJlKCcxMmQnKSxcbiAgICAgICAgJGV4cG9ydCA9ICRfX3JlcXVpcmUoJ2NlJyksXG4gICAgICAgIGlzT2JqZWN0ID0gJF9fcmVxdWlyZSgnMTJmJyksXG4gICAgICAgIGFuT2JqZWN0ID0gJF9fcmVxdWlyZSgnMTJjJyksXG4gICAgICAgIGFGdW5jdGlvbiA9ICRfX3JlcXVpcmUoJzEzMicpLFxuICAgICAgICBzdHJpY3ROZXcgPSAkX19yZXF1aXJlKCcxMmInKSxcbiAgICAgICAgZm9yT2YgPSAkX19yZXF1aXJlKCcxMmUnKSxcbiAgICAgICAgc2V0UHJvdG8gPSAkX19yZXF1aXJlKCdkOScpLnNldCxcbiAgICAgICAgc2FtZSA9ICRfX3JlcXVpcmUoJzEzMCcpLFxuICAgICAgICBTUEVDSUVTID0gJF9fcmVxdWlyZSgnMTIzJykoJ3NwZWNpZXMnKSxcbiAgICAgICAgc3BlY2llc0NvbnN0cnVjdG9yID0gJF9fcmVxdWlyZSgnMTMxJyksXG4gICAgICAgIGFzYXAgPSAkX19yZXF1aXJlKCcxMzcnKSxcbiAgICAgICAgUFJPTUlTRSA9ICdQcm9taXNlJyxcbiAgICAgICAgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzLFxuICAgICAgICBpc05vZGUgPSBjbGFzc29mKHByb2Nlc3MpID09ICdwcm9jZXNzJyxcbiAgICAgICAgUCA9IGdsb2JhbFtQUk9NSVNFXSxcbiAgICAgICAgV3JhcHBlcjtcbiAgICB2YXIgdGVzdFJlc29sdmUgPSBmdW5jdGlvbihzdWIpIHtcbiAgICAgIHZhciB0ZXN0ID0gbmV3IFAoZnVuY3Rpb24oKSB7fSk7XG4gICAgICBpZiAoc3ViKVxuICAgICAgICB0ZXN0LmNvbnN0cnVjdG9yID0gT2JqZWN0O1xuICAgICAgcmV0dXJuIFAucmVzb2x2ZSh0ZXN0KSA9PT0gdGVzdDtcbiAgICB9O1xuICAgIHZhciBVU0VfTkFUSVZFID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgd29ya3MgPSBmYWxzZTtcbiAgICAgIGZ1bmN0aW9uIFAyKHgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSBuZXcgUCh4KTtcbiAgICAgICAgc2V0UHJvdG8oc2VsZiwgUDIucHJvdG90eXBlKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICB3b3JrcyA9IFAgJiYgUC5yZXNvbHZlICYmIHRlc3RSZXNvbHZlKCk7XG4gICAgICAgIHNldFByb3RvKFAyLCBQKTtcbiAgICAgICAgUDIucHJvdG90eXBlID0gJC5jcmVhdGUoUC5wcm90b3R5cGUsIHtjb25zdHJ1Y3Rvcjoge3ZhbHVlOiBQMn19KTtcbiAgICAgICAgaWYgKCEoUDIucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCkge30pIGluc3RhbmNlb2YgUDIpKSB7XG4gICAgICAgICAgd29ya3MgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod29ya3MgJiYgJF9fcmVxdWlyZSgnMTM4JykpIHtcbiAgICAgICAgICB2YXIgdGhlbmFibGVUaGVuR290dGVuID0gZmFsc2U7XG4gICAgICAgICAgUC5yZXNvbHZlKCQuc2V0RGVzYyh7fSwgJ3RoZW4nLCB7Z2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdGhlbmFibGVUaGVuR290dGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIH19KSk7XG4gICAgICAgICAgd29ya3MgPSB0aGVuYWJsZVRoZW5Hb3R0ZW47XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgd29ya3MgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3b3JrcztcbiAgICB9KCk7XG4gICAgdmFyIHNhbWVDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIGlmIChMSUJSQVJZICYmIGEgPT09IFAgJiYgYiA9PT0gV3JhcHBlcilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gc2FtZShhLCBiKTtcbiAgICB9O1xuICAgIHZhciBnZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKEMpIHtcbiAgICAgIHZhciBTID0gYW5PYmplY3QoQylbU1BFQ0lFU107XG4gICAgICByZXR1cm4gUyAhPSB1bmRlZmluZWQgPyBTIDogQztcbiAgICB9O1xuICAgIHZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24oaXQpIHtcbiAgICAgIHZhciB0aGVuO1xuICAgICAgcmV0dXJuIGlzT2JqZWN0KGl0KSAmJiB0eXBlb2YodGhlbiA9IGl0LnRoZW4pID09ICdmdW5jdGlvbicgPyB0aGVuIDogZmFsc2U7XG4gICAgfTtcbiAgICB2YXIgUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbihDKSB7XG4gICAgICB2YXIgcmVzb2x2ZSxcbiAgICAgICAgICByZWplY3Q7XG4gICAgICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbigkJHJlc29sdmUsICQkcmVqZWN0KSB7XG4gICAgICAgIGlmIChyZXNvbHZlICE9PSB1bmRlZmluZWQgfHwgcmVqZWN0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuICAgICAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuICAgICAgICByZWplY3QgPSAkJHJlamVjdDtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZXNvbHZlID0gYUZ1bmN0aW9uKHJlc29sdmUpLCB0aGlzLnJlamVjdCA9IGFGdW5jdGlvbihyZWplY3QpO1xuICAgIH07XG4gICAgdmFyIHBlcmZvcm0gPSBmdW5jdGlvbihleGVjKSB7XG4gICAgICB0cnkge1xuICAgICAgICBleGVjKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB7ZXJyb3I6IGV9O1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIG5vdGlmeSA9IGZ1bmN0aW9uKHJlY29yZCwgaXNSZWplY3QpIHtcbiAgICAgIGlmIChyZWNvcmQubilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgcmVjb3JkLm4gPSB0cnVlO1xuICAgICAgdmFyIGNoYWluID0gcmVjb3JkLmM7XG4gICAgICBhc2FwKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSByZWNvcmQudixcbiAgICAgICAgICAgIG9rID0gcmVjb3JkLnMgPT0gMSxcbiAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICB2YXIgcnVuID0gZnVuY3Rpb24ocmVhY3Rpb24pIHtcbiAgICAgICAgICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsLFxuICAgICAgICAgICAgICByZXNvbHZlID0gcmVhY3Rpb24ucmVzb2x2ZSxcbiAgICAgICAgICAgICAgcmVqZWN0ID0gcmVhY3Rpb24ucmVqZWN0LFxuICAgICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICAgIHRoZW47XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgIGlmICghb2spXG4gICAgICAgICAgICAgICAgcmVjb3JkLmggPSB0cnVlO1xuICAgICAgICAgICAgICByZXN1bHQgPSBoYW5kbGVyID09PSB0cnVlID8gdmFsdWUgOiBoYW5kbGVyKHZhbHVlKTtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChUeXBlRXJyb3IoJ1Byb21pc2UtY2hhaW4gY3ljbGUnKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhlbiA9IGlzVGhlbmFibGUocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHRoZW4uY2FsbChyZXN1bHQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICByZWplY3QodmFsdWUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHdoaWxlIChjaGFpbi5sZW5ndGggPiBpKVxuICAgICAgICAgIHJ1bihjaGFpbltpKytdKTtcbiAgICAgICAgY2hhaW4ubGVuZ3RoID0gMDtcbiAgICAgICAgcmVjb3JkLm4gPSBmYWxzZTtcbiAgICAgICAgaWYgKGlzUmVqZWN0KVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHJlY29yZC5wLFxuICAgICAgICAgICAgICAgIGhhbmRsZXIsXG4gICAgICAgICAgICAgICAgY29uc29sZTtcbiAgICAgICAgICAgIGlmIChpc1VuaGFuZGxlZChwcm9taXNlKSkge1xuICAgICAgICAgICAgICBpZiAoaXNOb2RlKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmhhbmRsZWRSZWplY3Rpb24nLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFuZGxlciA9IGdsb2JhbC5vbnVuaGFuZGxlZHJlamVjdGlvbikge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIoe1xuICAgICAgICAgICAgICAgICAgcHJvbWlzZTogcHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgIHJlYXNvbjogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICgoY29uc29sZSA9IGdsb2JhbC5jb25zb2xlKSAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uJywgdmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNvcmQuYSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9LCAxKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgdmFyIHJlY29yZCA9IHByb21pc2UuX2QsXG4gICAgICAgICAgY2hhaW4gPSByZWNvcmQuYSB8fCByZWNvcmQuYyxcbiAgICAgICAgICBpID0gMCxcbiAgICAgICAgICByZWFjdGlvbjtcbiAgICAgIGlmIChyZWNvcmQuaClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgd2hpbGUgKGNoYWluLmxlbmd0aCA+IGkpIHtcbiAgICAgICAgcmVhY3Rpb24gPSBjaGFpbltpKytdO1xuICAgICAgICBpZiAocmVhY3Rpb24uZmFpbCB8fCAhaXNVbmhhbmRsZWQocmVhY3Rpb24ucHJvbWlzZSkpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICB2YXIgJHJlamVjdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgcmVjb3JkID0gdGhpcztcbiAgICAgIGlmIChyZWNvcmQuZClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgcmVjb3JkLmQgPSB0cnVlO1xuICAgICAgcmVjb3JkID0gcmVjb3JkLnIgfHwgcmVjb3JkO1xuICAgICAgcmVjb3JkLnYgPSB2YWx1ZTtcbiAgICAgIHJlY29yZC5zID0gMjtcbiAgICAgIHJlY29yZC5hID0gcmVjb3JkLmMuc2xpY2UoKTtcbiAgICAgIG5vdGlmeShyZWNvcmQsIHRydWUpO1xuICAgIH07XG4gICAgdmFyICRyZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0aGlzLFxuICAgICAgICAgIHRoZW47XG4gICAgICBpZiAocmVjb3JkLmQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHJlY29yZC5kID0gdHJ1ZTtcbiAgICAgIHJlY29yZCA9IHJlY29yZC5yIHx8IHJlY29yZDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChyZWNvcmQucCA9PT0gdmFsdWUpXG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7XG4gICAgICAgIGlmICh0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICBhc2FwKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSB7XG4gICAgICAgICAgICAgIHI6IHJlY29yZCxcbiAgICAgICAgICAgICAgZDogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGN0eCgkcmVzb2x2ZSwgd3JhcHBlciwgMSksIGN0eCgkcmVqZWN0LCB3cmFwcGVyLCAxKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICRyZWplY3QuY2FsbCh3cmFwcGVyLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWNvcmQudiA9IHZhbHVlO1xuICAgICAgICAgIHJlY29yZC5zID0gMTtcbiAgICAgICAgICBub3RpZnkocmVjb3JkLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgJHJlamVjdC5jYWxsKHtcbiAgICAgICAgICByOiByZWNvcmQsXG4gICAgICAgICAgZDogZmFsc2VcbiAgICAgICAgfSwgZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoIVVTRV9OQVRJVkUpIHtcbiAgICAgIFAgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7XG4gICAgICAgIGFGdW5jdGlvbihleGVjdXRvcik7XG4gICAgICAgIHZhciByZWNvcmQgPSB0aGlzLl9kID0ge1xuICAgICAgICAgIHA6IHN0cmljdE5ldyh0aGlzLCBQLCBQUk9NSVNFKSxcbiAgICAgICAgICBjOiBbXSxcbiAgICAgICAgICBhOiB1bmRlZmluZWQsXG4gICAgICAgICAgczogMCxcbiAgICAgICAgICBkOiBmYWxzZSxcbiAgICAgICAgICB2OiB1bmRlZmluZWQsXG4gICAgICAgICAgaDogZmFsc2UsXG4gICAgICAgICAgbjogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBleGVjdXRvcihjdHgoJHJlc29sdmUsIHJlY29yZCwgMSksIGN0eCgkcmVqZWN0LCByZWNvcmQsIDEpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgJHJlamVjdC5jYWxsKHJlY29yZCwgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgICRfX3JlcXVpcmUoJzEzOScpKFAucHJvdG90eXBlLCB7XG4gICAgICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgICB2YXIgcmVhY3Rpb24gPSBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsIFApKSxcbiAgICAgICAgICAgICAgcHJvbWlzZSA9IHJlYWN0aW9uLnByb21pc2UsXG4gICAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX2Q7XG4gICAgICAgICAgcmVhY3Rpb24ub2sgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogdHJ1ZTtcbiAgICAgICAgICByZWFjdGlvbi5mYWlsID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT0gJ2Z1bmN0aW9uJyAmJiBvblJlamVjdGVkO1xuICAgICAgICAgIHJlY29yZC5jLnB1c2gocmVhY3Rpb24pO1xuICAgICAgICAgIGlmIChyZWNvcmQuYSlcbiAgICAgICAgICAgIHJlY29yZC5hLnB1c2gocmVhY3Rpb24pO1xuICAgICAgICAgIGlmIChyZWNvcmQucylcbiAgICAgICAgICAgIG5vdGlmeShyZWNvcmQsIGZhbHNlKTtcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfSxcbiAgICAgICAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3RlZCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgICRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHtQcm9taXNlOiBQfSk7XG4gICAgJF9fcmVxdWlyZSgnMTIxJykoUCwgUFJPTUlTRSk7XG4gICAgJF9fcmVxdWlyZSgnMTNhJykoUFJPTUlTRSk7XG4gICAgV3JhcHBlciA9ICRfX3JlcXVpcmUoJ2NmJylbUFJPTUlTRV07XG4gICAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgUFJPTUlTRSwge3JlamVjdDogZnVuY3Rpb24gcmVqZWN0KHIpIHtcbiAgICAgICAgdmFyIGNhcGFiaWxpdHkgPSBuZXcgUHJvbWlzZUNhcGFiaWxpdHkodGhpcyksXG4gICAgICAgICAgICAkJHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgICAgICAkJHJlamVjdChyKTtcbiAgICAgICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgICAgIH19KTtcbiAgICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghVVNFX05BVElWRSB8fCB0ZXN0UmVzb2x2ZSh0cnVlKSksIFBST01JU0UsIHtyZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpIHtcbiAgICAgICAgaWYgKHggaW5zdGFuY2VvZiBQICYmIHNhbWVDb25zdHJ1Y3Rvcih4LmNvbnN0cnVjdG9yLCB0aGlzKSlcbiAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgdmFyIGNhcGFiaWxpdHkgPSBuZXcgUHJvbWlzZUNhcGFiaWxpdHkodGhpcyksXG4gICAgICAgICAgICAkJHJlc29sdmUgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgICAgICQkcmVzb2x2ZSh4KTtcbiAgICAgICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgICAgIH19KTtcbiAgICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEoVVNFX05BVElWRSAmJiAkX19yZXF1aXJlKCcxMTQnKShmdW5jdGlvbihpdGVyKSB7XG4gICAgICBQLmFsbChpdGVyKVsnY2F0Y2gnXShmdW5jdGlvbigpIHt9KTtcbiAgICB9KSksIFBST01JU0UsIHtcbiAgICAgIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKSB7XG4gICAgICAgIHZhciBDID0gZ2V0Q29uc3RydWN0b3IodGhpcyksXG4gICAgICAgICAgICBjYXBhYmlsaXR5ID0gbmV3IFByb21pc2VDYXBhYmlsaXR5KEMpLFxuICAgICAgICAgICAgcmVzb2x2ZSA9IGNhcGFiaWxpdHkucmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0LFxuICAgICAgICAgICAgdmFsdWVzID0gW107XG4gICAgICAgIHZhciBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgdmFsdWVzLnB1c2gsIHZhbHVlcyk7XG4gICAgICAgICAgdmFyIHJlbWFpbmluZyA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgICAgIHJlc3VsdHMgPSBBcnJheShyZW1haW5pbmcpO1xuICAgICAgICAgIGlmIChyZW1haW5pbmcpXG4gICAgICAgICAgICAkLmVhY2guY2FsbCh2YWx1ZXMsIGZ1bmN0aW9uKHByb21pc2UsIGluZGV4KSB7XG4gICAgICAgICAgICAgIHZhciBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFscmVhZHlDYWxsZWQpXG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgYWxyZWFkeUNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVzdWx0c1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChhYnJ1cHQpXG4gICAgICAgICAgcmVqZWN0KGFicnVwdC5lcnJvcik7XG4gICAgICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gICAgICB9LFxuICAgICAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSkge1xuICAgICAgICB2YXIgQyA9IGdldENvbnN0cnVjdG9yKHRoaXMpLFxuICAgICAgICAgICAgY2FwYWJpbGl0eSA9IG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKSxcbiAgICAgICAgICAgIHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgICAgICB2YXIgYWJydXB0ID0gcGVyZm9ybShmdW5jdGlvbigpIHtcbiAgICAgICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICAgICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChhYnJ1cHQpXG4gICAgICAgICAgcmVqZWN0KGFicnVwdC5lcnJvcik7XG4gICAgICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pKCRfX3JlcXVpcmUoJzE2JykpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyRHluYW1pYyhcImNmXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIHZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7dmVyc2lvbjogJzEuMi42J307XG4gIGlmICh0eXBlb2YgX19lID09ICdudW1iZXInKVxuICAgIF9fZSA9IGNvcmU7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTQxXCIsIFtcIjExOFwiLCBcIjExNlwiLCBcIjEyOVwiLCBcIjE0MFwiLCBcImNmXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gICRfX3JlcXVpcmUoJzExOCcpO1xuICAkX19yZXF1aXJlKCcxMTYnKTtcbiAgJF9fcmVxdWlyZSgnMTI5Jyk7XG4gICRfX3JlcXVpcmUoJzE0MCcpO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJ2NmJykuUHJvbWlzZTtcbiAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufSk7XG5cbiRfX1N5c3RlbS5yZWdpc3RlckR5bmFtaWMoXCIxNDJcIiwgW1wiMTQxXCJdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIG1vZHVsZS5leHBvcnRzID0ge1xuICAgIFwiZGVmYXVsdFwiOiAkX19yZXF1aXJlKCcxNDEnKSxcbiAgICBfX2VzTW9kdWxlOiB0cnVlXG4gIH07XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTQzXCIsIFtdLCB0cnVlLCBmdW5jdGlvbigkX19yZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgO1xuICB2YXIgZGVmaW5lLFxuICAgICAgZ2xvYmFsID0gdGhpcyxcbiAgICAgIEdMT0JBTCA9IHRoaXM7XG4gIFwiZm9ybWF0IGNqc1wiO1xuICAhZnVuY3Rpb24oZSwgdCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoXCJhamF4XCIsIHQpIDogXCJvYmplY3RcIiA9PSB0eXBlb2YgZXhwb3J0cyA/IGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHQoKSA6IGUuYWpheCA9IHQoKTtcbiAgfSh0aGlzLCBmdW5jdGlvbigpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiBlKGUpIHtcbiAgICAgIHZhciByID0gW1wiZ2V0XCIsIFwicG9zdFwiLCBcInB1dFwiLCBcImRlbGV0ZVwiXTtcbiAgICAgIHJldHVybiBlID0gZSB8fCB7fSwgZS5iYXNlVXJsID0gZS5iYXNlVXJsIHx8IFwiXCIsIGUubWV0aG9kICYmIGUudXJsID8gbihlLm1ldGhvZCwgZS5iYXNlVXJsICsgZS51cmwsIHQoZS5kYXRhKSwgZSkgOiByLnJlZHVjZShmdW5jdGlvbihyLCB1KSB7XG4gICAgICAgIHJldHVybiByW3VdID0gZnVuY3Rpb24ociwgbykge1xuICAgICAgICAgIHJldHVybiBuKHUsIGUuYmFzZVVybCArIHIsIHQobyksIGUpO1xuICAgICAgICB9LCByO1xuICAgICAgfSwge30pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0KGUpIHtcbiAgICAgIHJldHVybiBlIHx8IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG4oZSwgdCwgbiwgdSkge1xuICAgICAgdmFyIGMgPSBbXCJ0aGVuXCIsIFwiY2F0Y2hcIiwgXCJhbHdheXNcIl0sXG4gICAgICAgICAgcyA9IGMucmVkdWNlKGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgIHJldHVybiBlW3RdID0gZnVuY3Rpb24obikge1xuICAgICAgICAgICAgICByZXR1cm4gZVt0XSA9IG4sIGU7XG4gICAgICAgICAgICB9LCBlO1xuICAgICAgICAgIH0sIHt9KSxcbiAgICAgICAgICBpID0gbmV3IFhNTEh0dHBSZXF1ZXN0O1xuICAgICAgcmV0dXJuIGkub3BlbihlLCB0LCAhMCksIHIoaSwgdS5oZWFkZXJzKSwgaS5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCBvKHMsIGkpLCAhMSksIGkuc2VuZChhKG4pKSwgcztcbiAgICB9XG4gICAgZnVuY3Rpb24gcihlLCB0KSB7XG4gICAgICB0ID0gdCB8fCB7fSwgdSh0KSB8fCAodFtcIkNvbnRlbnQtVHlwZVwiXSA9IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpLCBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdFtuXSAmJiBlLnNldFJlcXVlc3RIZWFkZXIobiwgdFtuXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdShlKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoZSkuc29tZShmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBcImNvbnRlbnQtdHlwZVwiID09PSBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbyhlLCB0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gbigpIHtcbiAgICAgICAgdC5yZWFkeVN0YXRlID09PSB0LkRPTkUgJiYgKHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwgbiwgITEpLCBlLmFsd2F5cy5hcHBseShlLCBjKHQpKSwgdC5zdGF0dXMgPj0gMjAwICYmIHQuc3RhdHVzIDwgMzAwID8gZS50aGVuLmFwcGx5KGUsIGModCkpIDogZVtcImNhdGNoXCJdLmFwcGx5KGUsIGModCkpKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGMoZSkge1xuICAgICAgdmFyIHQ7XG4gICAgICB0cnkge1xuICAgICAgICB0ID0gSlNPTi5wYXJzZShlLnJlc3BvbnNlVGV4dCk7XG4gICAgICB9IGNhdGNoIChuKSB7XG4gICAgICAgIHQgPSBlLnJlc3BvbnNlVGV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbdCwgZV07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGEoZSkge1xuICAgICAgcmV0dXJuIHMoZSkgPyBpKGUpIDogZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcyhlKSB7XG4gICAgICByZXR1cm4gXCJbb2JqZWN0IE9iamVjdF1cIiA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpKGUpIHtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhlKS5yZWR1Y2UoZnVuY3Rpb24odCwgbikge1xuICAgICAgICB2YXIgciA9IHQgPyB0ICsgXCImXCIgOiBcIlwiO1xuICAgICAgICByZXR1cm4gciArIGYobikgKyBcIj1cIiArIGYoZVtuXSk7XG4gICAgICB9LCBcIlwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZihlKSB7XG4gICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpO1xuICAgIH1cbiAgICByZXR1cm4gZTtcbiAgfSk7XG4gIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn0pO1xuXG4kX19TeXN0ZW0ucmVnaXN0ZXJEeW5hbWljKFwiMTQ0XCIsIFtcIjE0M1wiXSwgdHJ1ZSwgZnVuY3Rpb24oJF9fcmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIDtcbiAgdmFyIGRlZmluZSxcbiAgICAgIGdsb2JhbCA9IHRoaXMsXG4gICAgICBHTE9CQUwgPSB0aGlzO1xuICBtb2R1bGUuZXhwb3J0cyA9ICRfX3JlcXVpcmUoJzE0MycpO1xuICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59KTtcblxuJF9fU3lzdGVtLnJlZ2lzdGVyKCcyJywgWycxNDInLCAnMTQ0JywgJ2ExJ10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gIHZhciBfUHJvbWlzZSwgYWpheCwgRkVUQ0hfRVZFTlRTLCBFVkVOVFNfU1VDQ0VTUywgRVZFTlRTX0ZBSUxFRCwgZmV0Y2hFdmVudHM7XG5cbiAgcmV0dXJuIHtcbiAgICBzZXR0ZXJzOiBbZnVuY3Rpb24gKF8pIHtcbiAgICAgIF9Qcm9taXNlID0gX1snZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfMikge1xuICAgICAgYWpheCA9IF8yWydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF9hMSkge1xuICAgICAgRkVUQ0hfRVZFTlRTID0gX2ExLkZFVENIX0VWRU5UUztcbiAgICAgIEVWRU5UU19TVUNDRVNTID0gX2ExLkVWRU5UU19TVUNDRVNTO1xuICAgICAgRVZFTlRTX0ZBSUxFRCA9IF9hMS5FVkVOVFNfRkFJTEVEO1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgZmV0Y2hFdmVudHMgPSBmdW5jdGlvbiBmZXRjaEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCwgZ2V0U3RhdGUpIHtcbiAgICAgICAgICB2YXIgaXNGZXRjaGluZyA9IGdldFN0YXRlKCkuZXZlbnRzLmlzRmV0Y2hpbmc7XG5cbiAgICAgICAgICBpZiAoaXNGZXRjaGluZykge1xuICAgICAgICAgICAgcmV0dXJuIF9Qcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBGRVRDSF9FVkVOVFMgfSk7XG4gICAgICAgICAgYWpheCgpLmdldCgnZGF0YS9ldmVudHMuanNvbicpLnRoZW4oZnVuY3Rpb24gKGV2ZW50cykge1xuICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICB0eXBlOiBFVkVOVFNfU1VDQ0VTUyxcbiAgICAgICAgICAgICAgcGF5bG9hZDogZXZlbnRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KVsnY2F0Y2gnXShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IEVWRU5UU19GQUlMRUQgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICBfZXhwb3J0KCdmZXRjaEV2ZW50cycsIGZldGNoRXZlbnRzKTtcbiAgICB9XG4gIH07XG59KTtcbiRfX1N5c3RlbS5yZWdpc3RlcignYTEnLCBbJzInXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBGRVRDSF9FVkVOVFMsIEVWRU5UU19TVUNDRVNTLCBFVkVOVFNfRkFJTEVEO1xuICByZXR1cm4ge1xuICAgIHNldHRlcnM6IFtmdW5jdGlvbiAoXykge1xuICAgICAgdmFyIF9leHBvcnRPYmogPSB7fTtcbiAgICAgIF9leHBvcnRPYmpbJ2ZldGNoRXZlbnRzJ10gPSBfLmZldGNoRXZlbnRzO1xuXG4gICAgICBfZXhwb3J0KF9leHBvcnRPYmopO1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIEZFVENIX0VWRU5UUyA9ICdGRVRDSF9FVkVOVFMnO1xuXG4gICAgICBfZXhwb3J0KCdGRVRDSF9FVkVOVFMnLCBGRVRDSF9FVkVOVFMpO1xuXG4gICAgICBFVkVOVFNfU1VDQ0VTUyA9ICdFVkVOVFNfU1VDQ0VTUyc7XG5cbiAgICAgIF9leHBvcnQoJ0VWRU5UU19TVUNDRVNTJywgRVZFTlRTX1NVQ0NFU1MpO1xuXG4gICAgICBFVkVOVFNfRkFJTEVEID0gJ0VWRU5UU19GQUlMRUQnO1xuXG4gICAgICBfZXhwb3J0KCdFVkVOVFNfRkFJTEVEJywgRVZFTlRTX0ZBSUxFRCk7XG4gICAgfVxuICB9O1xufSk7XG4kX19TeXN0ZW0ucmVnaXN0ZXIoJzE0NScsIFsnMTA2JywgJ2UxJywgJ2ExJ10sIGZ1bmN0aW9uIChfZXhwb3J0KSB7XG4gIHZhciBfdG9Db25zdW1hYmxlQXJyYXksIF9leHRlbmRzLCBGRVRDSF9FVkVOVFMsIEVWRU5UU19TVUNDRVNTLCBFVkVOVFNfRkFJTEVELCBpbml0aWFsU3RhdGUsIGV2ZW50cztcblxuICByZXR1cm4ge1xuICAgIHNldHRlcnM6IFtmdW5jdGlvbiAoXykge1xuICAgICAgX3RvQ29uc3VtYWJsZUFycmF5ID0gX1snZGVmYXVsdCddO1xuICAgIH0sIGZ1bmN0aW9uIChfZTEpIHtcbiAgICAgIF9leHRlbmRzID0gX2UxWydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF9hMSkge1xuICAgICAgRkVUQ0hfRVZFTlRTID0gX2ExLkZFVENIX0VWRU5UUztcbiAgICAgIEVWRU5UU19TVUNDRVNTID0gX2ExLkVWRU5UU19TVUNDRVNTO1xuICAgICAgRVZFTlRTX0ZBSUxFRCA9IF9hMS5FVkVOVFNfRkFJTEVEO1xuICAgIH1dLFxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgICBldmVudHM6IFt7XG4gICAgICAgICAgdGl0bGU6ICcuLi4nLFxuICAgICAgICAgIGRhdGU6IHsgZGF5OiAwLCBtb250aDogJycsIHllYXI6IDAgfSxcbiAgICAgICAgICBpbWFnZTogJydcbiAgICAgICAgfSwge1xuICAgICAgICAgIHRpdGxlOiAnLi4uJyxcbiAgICAgICAgICBkYXRlOiB7IGRheTogMCwgbW9udGg6ICcnLCB5ZWFyOiAwIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIHRpdGxlOiAnLi4uJyxcbiAgICAgICAgICBkYXRlOiB7IGRheTogMCwgbW9udGg6ICcnLCB5ZWFyOiAwIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIHRpdGxlOiAnLi4uJyxcbiAgICAgICAgICBkYXRlOiB7IGRheTogMCwgbW9udGg6ICcnLCB5ZWFyOiAwIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIHRpdGxlOiAnLi4uJyxcbiAgICAgICAgICBkYXRlOiB7IGRheTogMCwgbW9udGg6ICcnLCB5ZWFyOiAwIH1cbiAgICAgICAgfV0sXG4gICAgICAgIGlzRmV0Y2hpbmc6IGZhbHNlXG4gICAgICB9O1xuXG4gICAgICBldmVudHMgPSBmdW5jdGlvbiBldmVudHMoc3RhdGUsIGFjdGlvbikge1xuICAgICAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZCkgc3RhdGUgPSBpbml0aWFsU3RhdGU7XG5cbiAgICAgICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICAgIGNhc2UgRkVUQ0hfRVZFTlRTOlxuICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICBpc0ZldGNoaW5nOiB0cnVlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNhc2UgRVZFTlRTX1NVQ0NFU1M6XG4gICAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgICAgICAgIGV2ZW50czogW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShhY3Rpb24ucGF5bG9hZCkpLFxuICAgICAgICAgICAgICBpc0ZldGNoaW5nOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjYXNlIEVWRU5UU19GQUlMRUQ6XG4gICAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgICAgICAgIGlzRmV0Y2hpbmc6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9O1xuXG4gICAgICBfZXhwb3J0KCdkZWZhdWx0JywgZXZlbnRzKTtcbiAgICB9XG4gIH07XG59KTtcbiRfX1N5c3RlbS5yZWdpc3RlcignMTQ2JywgWycxNDUnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBldmVudHM7XG4gIHJldHVybiB7XG4gICAgc2V0dGVyczogW2Z1bmN0aW9uIChfKSB7XG4gICAgICBldmVudHMgPSBfWydkZWZhdWx0J107XG4gICAgfV0sXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgX2V4cG9ydCgnZGVmYXVsdCcsIHsgZXZlbnRzOiBldmVudHMgfSk7XG4gICAgfVxuICB9O1xufSk7XG4kX19TeXN0ZW0ucmVnaXN0ZXIoJzEnLCBbJzEwNScsICcxNDYnLCAnOWMnLCAnOWEnLCAnYTInLCAnZjUnXSwgZnVuY3Rpb24gKF9leHBvcnQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBjb25maWd1cmVTdG9yZSwgcmVkdWNlcnMsIFJlYWN0LCByZW5kZXIsIFByb3ZpZGVyLCBBcHAsIHN0b3JlO1xuICByZXR1cm4ge1xuICAgIHNldHRlcnM6IFtmdW5jdGlvbiAoXykge1xuICAgICAgY29uZmlndXJlU3RvcmUgPSBfWydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF8yKSB7XG4gICAgICByZWR1Y2VycyA9IF8yWydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF9jKSB7XG4gICAgICBSZWFjdCA9IF9jWydkZWZhdWx0J107XG4gICAgfSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgICByZW5kZXIgPSBfYS5yZW5kZXI7XG4gICAgfSwgZnVuY3Rpb24gKF9hMikge1xuICAgICAgUHJvdmlkZXIgPSBfYTIuUHJvdmlkZXI7XG4gICAgfSwgZnVuY3Rpb24gKF9mNSkge1xuICAgICAgQXBwID0gX2Y1WydkZWZhdWx0J107XG4gICAgfV0sXG4gICAgZXhlY3V0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgc3RvcmUgPSBjb25maWd1cmVTdG9yZSh7IHJlZHVjZXJzOiByZWR1Y2VycyB9KTtcblxuICAgICAgcmVuZGVyKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFByb3ZpZGVyLFxuICAgICAgICB7IHN0b3JlOiBzdG9yZSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEFwcCwgbnVsbClcbiAgICAgICksIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWpzPVwiYXBwXCJdJykpO1xuICAgIH1cbiAgfTtcbn0pO1xufSlcbihmdW5jdGlvbihmYWN0b3J5KSB7XG4gIGZhY3RvcnkoKTtcbn0pOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG52YXIgUG9vbGVkQ2xhc3MgPSByZXF1aXJlKCcuL1Bvb2xlZENsYXNzJyk7XG52YXIgZ2V0VGV4dENvbnRlbnRBY2Nlc3NvciA9IHJlcXVpcmUoJy4vZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcicpO1xuZnVuY3Rpb24gRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlKHJvb3QpIHtcbiAgdGhpcy5fcm9vdCA9IHJvb3Q7XG4gIHRoaXMuX3N0YXJ0VGV4dCA9IHRoaXMuZ2V0VGV4dCgpO1xuICB0aGlzLl9mYWxsYmFja1RleHQgPSBudWxsO1xufVxuX2Fzc2lnbihGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUucHJvdG90eXBlLCB7XG4gIGRlc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3Jvb3QgPSBudWxsO1xuICAgIHRoaXMuX3N0YXJ0VGV4dCA9IG51bGw7XG4gICAgdGhpcy5fZmFsbGJhY2tUZXh0ID0gbnVsbDtcbiAgfSxcbiAgZ2V0VGV4dDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCd2YWx1ZScgaW4gdGhpcy5fcm9vdCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Jvb3QudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9yb290W2dldFRleHRDb250ZW50QWNjZXNzb3IoKV07XG4gIH0sXG4gIGdldERhdGE6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9mYWxsYmFja1RleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9mYWxsYmFja1RleHQ7XG4gICAgfVxuICAgIHZhciBzdGFydDtcbiAgICB2YXIgc3RhcnRWYWx1ZSA9IHRoaXMuX3N0YXJ0VGV4dDtcbiAgICB2YXIgc3RhcnRMZW5ndGggPSBzdGFydFZhbHVlLmxlbmd0aDtcbiAgICB2YXIgZW5kO1xuICAgIHZhciBlbmRWYWx1ZSA9IHRoaXMuZ2V0VGV4dCgpO1xuICAgIHZhciBlbmRMZW5ndGggPSBlbmRWYWx1ZS5sZW5ndGg7XG4gICAgZm9yIChzdGFydCA9IDA7IHN0YXJ0IDwgc3RhcnRMZW5ndGg7IHN0YXJ0KyspIHtcbiAgICAgIGlmIChzdGFydFZhbHVlW3N0YXJ0XSAhPT0gZW5kVmFsdWVbc3RhcnRdKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbWluRW5kID0gc3RhcnRMZW5ndGggLSBzdGFydDtcbiAgICBmb3IgKGVuZCA9IDE7IGVuZCA8PSBtaW5FbmQ7IGVuZCsrKSB7XG4gICAgICBpZiAoc3RhcnRWYWx1ZVtzdGFydExlbmd0aCAtIGVuZF0gIT09IGVuZFZhbHVlW2VuZExlbmd0aCAtIGVuZF0pIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBzbGljZVRhaWwgPSBlbmQgPiAxID8gMSAtIGVuZCA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9mYWxsYmFja1RleHQgPSBlbmRWYWx1ZS5zbGljZShzdGFydCwgc2xpY2VUYWlsKTtcbiAgICByZXR1cm4gdGhpcy5fZmFsbGJhY2tUZXh0O1xuICB9XG59KTtcblBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUpO1xubW9kdWxlLmV4cG9ydHMgPSBGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGU7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljRXZlbnQnKTtcbnZhciBDb21wb3NpdGlvbkV2ZW50SW50ZXJmYWNlID0ge2RhdGE6IG51bGx9O1xuZnVuY3Rpb24gU3ludGhldGljQ29tcG9zaXRpb25FdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICByZXR1cm4gU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG59XG5TeW50aGV0aWNFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljQ29tcG9zaXRpb25FdmVudCwgQ29tcG9zaXRpb25FdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQ7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljRXZlbnQnKTtcbnZhciBJbnB1dEV2ZW50SW50ZXJmYWNlID0ge2RhdGE6IG51bGx9O1xuZnVuY3Rpb24gU3ludGhldGljSW5wdXRFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICByZXR1cm4gU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG59XG5TeW50aGV0aWNFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljSW5wdXRFdmVudCwgSW5wdXRFdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0lucHV0RXZlbnQ7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBFdmVudENvbnN0YW50cyA9IHJlcXVpcmUoJy4vRXZlbnRDb25zdGFudHMnKTtcbnZhciBFdmVudFByb3BhZ2F0b3JzID0gcmVxdWlyZSgnLi9FdmVudFByb3BhZ2F0b3JzJyk7XG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xudmFyIEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZSA9IHJlcXVpcmUoJy4vRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlJyk7XG52YXIgU3ludGhldGljQ29tcG9zaXRpb25FdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljQ29tcG9zaXRpb25FdmVudCcpO1xudmFyIFN5bnRoZXRpY0lucHV0RXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY0lucHV0RXZlbnQnKTtcbnZhciBrZXlPZiA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU9mJyk7XG52YXIgRU5EX0tFWUNPREVTID0gWzksIDEzLCAyNywgMzJdO1xudmFyIFNUQVJUX0tFWUNPREUgPSAyMjk7XG52YXIgY2FuVXNlQ29tcG9zaXRpb25FdmVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnQ29tcG9zaXRpb25FdmVudCcgaW4gd2luZG93O1xudmFyIGRvY3VtZW50TW9kZSA9IG51bGw7XG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICdkb2N1bWVudE1vZGUnIGluIGRvY3VtZW50KSB7XG4gIGRvY3VtZW50TW9kZSA9IGRvY3VtZW50LmRvY3VtZW50TW9kZTtcbn1cbnZhciBjYW5Vc2VUZXh0SW5wdXRFdmVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnVGV4dEV2ZW50JyBpbiB3aW5kb3cgJiYgIWRvY3VtZW50TW9kZSAmJiAhaXNQcmVzdG8oKTtcbnZhciB1c2VGYWxsYmFja0NvbXBvc2l0aW9uRGF0YSA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAoIWNhblVzZUNvbXBvc2l0aW9uRXZlbnQgfHwgZG9jdW1lbnRNb2RlICYmIGRvY3VtZW50TW9kZSA+IDggJiYgZG9jdW1lbnRNb2RlIDw9IDExKTtcbmZ1bmN0aW9uIGlzUHJlc3RvKCkge1xuICB2YXIgb3BlcmEgPSB3aW5kb3cub3BlcmE7XG4gIHJldHVybiB0eXBlb2Ygb3BlcmEgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvcGVyYS52ZXJzaW9uID09PSAnZnVuY3Rpb24nICYmIHBhcnNlSW50KG9wZXJhLnZlcnNpb24oKSwgMTApIDw9IDEyO1xufVxudmFyIFNQQUNFQkFSX0NPREUgPSAzMjtcbnZhciBTUEFDRUJBUl9DSEFSID0gU3RyaW5nLmZyb21DaGFyQ29kZShTUEFDRUJBUl9DT0RFKTtcbnZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbnZhciBldmVudFR5cGVzID0ge1xuICBiZWZvcmVJbnB1dDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7b25CZWZvcmVJbnB1dDogbnVsbH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkJlZm9yZUlucHV0Q2FwdHVyZTogbnVsbH0pXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFt0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kLCB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzLCB0b3BMZXZlbFR5cGVzLnRvcFRleHRJbnB1dCwgdG9wTGV2ZWxUeXBlcy50b3BQYXN0ZV1cbiAgfSxcbiAgY29tcG9zaXRpb25FbmQ6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ29tcG9zaXRpb25FbmQ6IG51bGx9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Db21wb3NpdGlvbkVuZENhcHR1cmU6IG51bGx9KVxuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BCbHVyLCB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kLCB0b3BMZXZlbFR5cGVzLnRvcEtleURvd24sIHRvcExldmVsVHlwZXMudG9wS2V5UHJlc3MsIHRvcExldmVsVHlwZXMudG9wS2V5VXAsIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duXVxuICB9LFxuICBjb21wb3NpdGlvblN0YXJ0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNvbXBvc2l0aW9uU3RhcnQ6IG51bGx9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Db21wb3NpdGlvblN0YXJ0Q2FwdHVyZTogbnVsbH0pXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFt0b3BMZXZlbFR5cGVzLnRvcEJsdXIsIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25TdGFydCwgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duLCB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzLCB0b3BMZXZlbFR5cGVzLnRvcEtleVVwLCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93bl1cbiAgfSxcbiAgY29tcG9zaXRpb25VcGRhdGU6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ29tcG9zaXRpb25VcGRhdGU6IG51bGx9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Db21wb3NpdGlvblVwZGF0ZUNhcHR1cmU6IG51bGx9KVxuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BCbHVyLCB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uVXBkYXRlLCB0b3BMZXZlbFR5cGVzLnRvcEtleURvd24sIHRvcExldmVsVHlwZXMudG9wS2V5UHJlc3MsIHRvcExldmVsVHlwZXMudG9wS2V5VXAsIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duXVxuICB9XG59O1xudmFyIGhhc1NwYWNlS2V5cHJlc3MgPSBmYWxzZTtcbmZ1bmN0aW9uIGlzS2V5cHJlc3NDb21tYW5kKG5hdGl2ZUV2ZW50KSB7XG4gIHJldHVybiAobmF0aXZlRXZlbnQuY3RybEtleSB8fCBuYXRpdmVFdmVudC5hbHRLZXkgfHwgbmF0aXZlRXZlbnQubWV0YUtleSkgJiYgIShuYXRpdmVFdmVudC5jdHJsS2V5ICYmIG5hdGl2ZUV2ZW50LmFsdEtleSk7XG59XG5mdW5jdGlvbiBnZXRDb21wb3NpdGlvbkV2ZW50VHlwZSh0b3BMZXZlbFR5cGUpIHtcbiAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25TdGFydDpcbiAgICAgIHJldHVybiBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQ7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kOlxuICAgICAgcmV0dXJuIGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQ7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uVXBkYXRlOlxuICAgICAgcmV0dXJuIGV2ZW50VHlwZXMuY29tcG9zaXRpb25VcGRhdGU7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duICYmIG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IFNUQVJUX0tFWUNPREU7XG59XG5mdW5jdGlvbiBpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlVcDpcbiAgICAgIHJldHVybiBFTkRfS0VZQ09ERVMuaW5kZXhPZihuYXRpdmVFdmVudC5rZXlDb2RlKSAhPT0gLTE7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleURvd246XG4gICAgICByZXR1cm4gbmF0aXZlRXZlbnQua2V5Q29kZSAhPT0gU1RBUlRfS0VZQ09ERTtcbiAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wS2V5UHJlc3M6XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93bjpcbiAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQmx1cjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgdmFyIGRldGFpbCA9IG5hdGl2ZUV2ZW50LmRldGFpbDtcbiAgaWYgKHR5cGVvZiBkZXRhaWwgPT09ICdvYmplY3QnICYmICdkYXRhJyBpbiBkZXRhaWwpIHtcbiAgICByZXR1cm4gZGV0YWlsLmRhdGE7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG52YXIgY3VycmVudENvbXBvc2l0aW9uID0gbnVsbDtcbmZ1bmN0aW9uIGV4dHJhY3RDb21wb3NpdGlvbkV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHZhciBldmVudFR5cGU7XG4gIHZhciBmYWxsYmFja0RhdGE7XG4gIGlmIChjYW5Vc2VDb21wb3NpdGlvbkV2ZW50KSB7XG4gICAgZXZlbnRUeXBlID0gZ2V0Q29tcG9zaXRpb25FdmVudFR5cGUodG9wTGV2ZWxUeXBlKTtcbiAgfSBlbHNlIGlmICghY3VycmVudENvbXBvc2l0aW9uKSB7XG4gICAgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpKSB7XG4gICAgICBldmVudFR5cGUgPSBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSkge1xuICAgIGV2ZW50VHlwZSA9IGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQ7XG4gIH1cbiAgaWYgKCFldmVudFR5cGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEpIHtcbiAgICBpZiAoIWN1cnJlbnRDb21wb3NpdGlvbiAmJiBldmVudFR5cGUgPT09IGV2ZW50VHlwZXMuY29tcG9zaXRpb25TdGFydCkge1xuICAgICAgY3VycmVudENvbXBvc2l0aW9uID0gRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlLmdldFBvb2xlZChuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgPT09IGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQpIHtcbiAgICAgIGlmIChjdXJyZW50Q29tcG9zaXRpb24pIHtcbiAgICAgICAgZmFsbGJhY2tEYXRhID0gY3VycmVudENvbXBvc2l0aW9uLmdldERhdGEoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdmFyIGV2ZW50ID0gU3ludGhldGljQ29tcG9zaXRpb25FdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICBpZiAoZmFsbGJhY2tEYXRhKSB7XG4gICAgZXZlbnQuZGF0YSA9IGZhbGxiYWNrRGF0YTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3VzdG9tRGF0YSA9IGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgIGlmIChjdXN0b21EYXRhICE9PSBudWxsKSB7XG4gICAgICBldmVudC5kYXRhID0gY3VzdG9tRGF0YTtcbiAgICB9XG4gIH1cbiAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgcmV0dXJuIGV2ZW50O1xufVxuZnVuY3Rpb24gZ2V0TmF0aXZlQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kOlxuICAgICAgcmV0dXJuIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlQcmVzczpcbiAgICAgIHZhciB3aGljaCA9IG5hdGl2ZUV2ZW50LndoaWNoO1xuICAgICAgaWYgKHdoaWNoICE9PSBTUEFDRUJBUl9DT0RFKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaGFzU3BhY2VLZXlwcmVzcyA9IHRydWU7XG4gICAgICByZXR1cm4gU1BBQ0VCQVJfQ0hBUjtcbiAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wVGV4dElucHV0OlxuICAgICAgdmFyIGNoYXJzID0gbmF0aXZlRXZlbnQuZGF0YTtcbiAgICAgIGlmIChjaGFycyA9PT0gU1BBQ0VCQVJfQ0hBUiAmJiBoYXNTcGFjZUtleXByZXNzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoYXJzO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgaWYgKGN1cnJlbnRDb21wb3NpdGlvbikge1xuICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25FbmQgfHwgaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpKSB7XG4gICAgICB2YXIgY2hhcnMgPSBjdXJyZW50Q29tcG9zaXRpb24uZ2V0RGF0YSgpO1xuICAgICAgRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlLnJlbGVhc2UoY3VycmVudENvbXBvc2l0aW9uKTtcbiAgICAgIGN1cnJlbnRDb21wb3NpdGlvbiA9IG51bGw7XG4gICAgICByZXR1cm4gY2hhcnM7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFBhc3RlOlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzOlxuICAgICAgaWYgKG5hdGl2ZUV2ZW50LndoaWNoICYmICFpc0tleXByZXNzQ29tbWFuZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUobmF0aXZlRXZlbnQud2hpY2gpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kOlxuICAgICAgcmV0dXJuIHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhID8gbnVsbCA6IG5hdGl2ZUV2ZW50LmRhdGE7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5mdW5jdGlvbiBleHRyYWN0QmVmb3JlSW5wdXRFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICB2YXIgY2hhcnM7XG4gIGlmIChjYW5Vc2VUZXh0SW5wdXRFdmVudCkge1xuICAgIGNoYXJzID0gZ2V0TmF0aXZlQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KTtcbiAgfSBlbHNlIHtcbiAgICBjaGFycyA9IGdldEZhbGxiYWNrQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KTtcbiAgfVxuICBpZiAoIWNoYXJzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGV2ZW50ID0gU3ludGhldGljSW5wdXRFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5iZWZvcmVJbnB1dCwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgZXZlbnQuZGF0YSA9IGNoYXJzO1xuICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICByZXR1cm4gZXZlbnQ7XG59XG52YXIgQmVmb3JlSW5wdXRFdmVudFBsdWdpbiA9IHtcbiAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyxcbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICByZXR1cm4gW2V4dHJhY3RDb21wb3NpdGlvbkV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSwgZXh0cmFjdEJlZm9yZUlucHV0RXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpXTtcbiAgfVxufTtcbm1vZHVsZS5leHBvcnRzID0gQmVmb3JlSW5wdXRFdmVudFBsdWdpbjtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgRXZlbnRDb25zdGFudHMgPSByZXF1aXJlKCcuL0V2ZW50Q29uc3RhbnRzJyk7XG4gIHZhciBFdmVudFBsdWdpbkh1YiA9IHJlcXVpcmUoJy4vRXZlbnRQbHVnaW5IdWInKTtcbiAgdmFyIEV2ZW50UHJvcGFnYXRvcnMgPSByZXF1aXJlKCcuL0V2ZW50UHJvcGFnYXRvcnMnKTtcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRUcmVlJyk7XG4gIHZhciBSZWFjdFVwZGF0ZXMgPSByZXF1aXJlKCcuL1JlYWN0VXBkYXRlcycpO1xuICB2YXIgU3ludGhldGljRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY0V2ZW50Jyk7XG4gIHZhciBnZXRFdmVudFRhcmdldCA9IHJlcXVpcmUoJy4vZ2V0RXZlbnRUYXJnZXQnKTtcbiAgdmFyIGlzRXZlbnRTdXBwb3J0ZWQgPSByZXF1aXJlKCcuL2lzRXZlbnRTdXBwb3J0ZWQnKTtcbiAgdmFyIGlzVGV4dElucHV0RWxlbWVudCA9IHJlcXVpcmUoJy4vaXNUZXh0SW5wdXRFbGVtZW50Jyk7XG4gIHZhciBrZXlPZiA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU9mJyk7XG4gIHZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbiAgdmFyIGV2ZW50VHlwZXMgPSB7Y2hhbmdlOiB7XG4gICAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25DaGFuZ2U6IG51bGx9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkNoYW5nZUNhcHR1cmU6IG51bGx9KVxuICAgICAgfSxcbiAgICAgIGRlcGVuZGVuY2llczogW3RvcExldmVsVHlwZXMudG9wQmx1ciwgdG9wTGV2ZWxUeXBlcy50b3BDaGFuZ2UsIHRvcExldmVsVHlwZXMudG9wQ2xpY2ssIHRvcExldmVsVHlwZXMudG9wRm9jdXMsIHRvcExldmVsVHlwZXMudG9wSW5wdXQsIHRvcExldmVsVHlwZXMudG9wS2V5RG93biwgdG9wTGV2ZWxUeXBlcy50b3BLZXlVcCwgdG9wTGV2ZWxUeXBlcy50b3BTZWxlY3Rpb25DaGFuZ2VdXG4gICAgfX07XG4gIHZhciBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgdmFyIGFjdGl2ZUVsZW1lbnRJbnN0ID0gbnVsbDtcbiAgdmFyIGFjdGl2ZUVsZW1lbnRWYWx1ZSA9IG51bGw7XG4gIHZhciBhY3RpdmVFbGVtZW50VmFsdWVQcm9wID0gbnVsbDtcbiAgZnVuY3Rpb24gc2hvdWxkVXNlQ2hhbmdlRXZlbnQoZWxlbSkge1xuICAgIHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBub2RlTmFtZSA9PT0gJ3NlbGVjdCcgfHwgbm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgZWxlbS50eXBlID09PSAnZmlsZSc7XG4gIH1cbiAgdmFyIGRvZXNDaGFuZ2VFdmVudEJ1YmJsZSA9IGZhbHNlO1xuICBpZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgZG9lc0NoYW5nZUV2ZW50QnViYmxlID0gaXNFdmVudFN1cHBvcnRlZCgnY2hhbmdlJykgJiYgKCEoJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQpIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDgpO1xuICB9XG4gIGZ1bmN0aW9uIG1hbnVhbERpc3BhdGNoQ2hhbmdlRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgICB2YXIgZXZlbnQgPSBTeW50aGV0aWNFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5jaGFuZ2UsIGFjdGl2ZUVsZW1lbnRJbnN0LCBuYXRpdmVFdmVudCwgZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpKTtcbiAgICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICAgIFJlYWN0VXBkYXRlcy5iYXRjaGVkVXBkYXRlcyhydW5FdmVudEluQmF0Y2gsIGV2ZW50KTtcbiAgfVxuICBmdW5jdGlvbiBydW5FdmVudEluQmF0Y2goZXZlbnQpIHtcbiAgICBFdmVudFBsdWdpbkh1Yi5lbnF1ZXVlRXZlbnRzKGV2ZW50KTtcbiAgICBFdmVudFBsdWdpbkh1Yi5wcm9jZXNzRXZlbnRRdWV1ZShmYWxzZSk7XG4gIH1cbiAgZnVuY3Rpb24gc3RhcnRXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4KHRhcmdldCwgdGFyZ2V0SW5zdCkge1xuICAgIGFjdGl2ZUVsZW1lbnQgPSB0YXJnZXQ7XG4gICAgYWN0aXZlRWxlbWVudEluc3QgPSB0YXJnZXRJbnN0O1xuICAgIGFjdGl2ZUVsZW1lbnQuYXR0YWNoRXZlbnQoJ29uY2hhbmdlJywgbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudCk7XG4gIH1cbiAgZnVuY3Rpb24gc3RvcFdhdGNoaW5nRm9yQ2hhbmdlRXZlbnRJRTgoKSB7XG4gICAgaWYgKCFhY3RpdmVFbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFjdGl2ZUVsZW1lbnQuZGV0YWNoRXZlbnQoJ29uY2hhbmdlJywgbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudCk7XG4gICAgYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gICAgYWN0aXZlRWxlbWVudEluc3QgPSBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpIHtcbiAgICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcENoYW5nZSkge1xuICAgICAgcmV0dXJuIHRhcmdldEluc3Q7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZUV2ZW50c0ZvckNoYW5nZUV2ZW50SUU4KHRvcExldmVsVHlwZSwgdGFyZ2V0LCB0YXJnZXRJbnN0KSB7XG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BGb2N1cykge1xuICAgICAgc3RvcFdhdGNoaW5nRm9yQ2hhbmdlRXZlbnRJRTgoKTtcbiAgICAgIHN0YXJ0V2F0Y2hpbmdGb3JDaGFuZ2VFdmVudElFOCh0YXJnZXQsIHRhcmdldEluc3QpO1xuICAgIH0gZWxzZSBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcEJsdXIpIHtcbiAgICAgIHN0b3BXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4KCk7XG4gICAgfVxuICB9XG4gIHZhciBpc0lucHV0RXZlbnRTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIGlzSW5wdXRFdmVudFN1cHBvcnRlZCA9IGlzRXZlbnRTdXBwb3J0ZWQoJ2lucHV0JykgJiYgKCEoJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQpIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDExKTtcbiAgfVxuICB2YXIgbmV3VmFsdWVQcm9wID0ge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYWN0aXZlRWxlbWVudFZhbHVlUHJvcC5nZXQuY2FsbCh0aGlzKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsKSB7XG4gICAgICBhY3RpdmVFbGVtZW50VmFsdWUgPSAnJyArIHZhbDtcbiAgICAgIGFjdGl2ZUVsZW1lbnRWYWx1ZVByb3Auc2V0LmNhbGwodGhpcywgdmFsKTtcbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIHN0YXJ0V2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSh0YXJnZXQsIHRhcmdldEluc3QpIHtcbiAgICBhY3RpdmVFbGVtZW50ID0gdGFyZ2V0O1xuICAgIGFjdGl2ZUVsZW1lbnRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgICBhY3RpdmVFbGVtZW50VmFsdWUgPSB0YXJnZXQudmFsdWU7XG4gICAgYWN0aXZlRWxlbWVudFZhbHVlUHJvcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgJ3ZhbHVlJyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFjdGl2ZUVsZW1lbnQsICd2YWx1ZScsIG5ld1ZhbHVlUHJvcCk7XG4gICAgaWYgKGFjdGl2ZUVsZW1lbnQuYXR0YWNoRXZlbnQpIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQuYXR0YWNoRXZlbnQoJ29ucHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSwgZmFsc2UpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpIHtcbiAgICBpZiAoIWFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVsZXRlIGFjdGl2ZUVsZW1lbnQudmFsdWU7XG4gICAgaWYgKGFjdGl2ZUVsZW1lbnQuZGV0YWNoRXZlbnQpIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQuZGV0YWNoRXZlbnQoJ29ucHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSwgZmFsc2UpO1xuICAgIH1cbiAgICBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGw7XG4gICAgYWN0aXZlRWxlbWVudFZhbHVlID0gbnVsbDtcbiAgICBhY3RpdmVFbGVtZW50VmFsdWVQcm9wID0gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVQcm9wZXJ0eUNoYW5nZShuYXRpdmVFdmVudCkge1xuICAgIGlmIChuYXRpdmVFdmVudC5wcm9wZXJ0eU5hbWUgIT09ICd2YWx1ZScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHZhbHVlID0gbmF0aXZlRXZlbnQuc3JjRWxlbWVudC52YWx1ZTtcbiAgICBpZiAodmFsdWUgPT09IGFjdGl2ZUVsZW1lbnRWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhY3RpdmVFbGVtZW50VmFsdWUgPSB2YWx1ZTtcbiAgICBtYW51YWxEaXNwYXRjaENoYW5nZUV2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgfVxuICBmdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpIHtcbiAgICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcElucHV0KSB7XG4gICAgICByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudElFKHRvcExldmVsVHlwZSwgdGFyZ2V0LCB0YXJnZXRJbnN0KSB7XG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BGb2N1cykge1xuICAgICAgc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKTtcbiAgICAgIHN0YXJ0V2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSh0YXJnZXQsIHRhcmdldEluc3QpO1xuICAgIH0gZWxzZSBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcEJsdXIpIHtcbiAgICAgIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50SUUodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0KSB7XG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BTZWxlY3Rpb25DaGFuZ2UgfHwgdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcEtleVVwIHx8IHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duKSB7XG4gICAgICBpZiAoYWN0aXZlRWxlbWVudCAmJiBhY3RpdmVFbGVtZW50LnZhbHVlICE9PSBhY3RpdmVFbGVtZW50VmFsdWUpIHtcbiAgICAgICAgYWN0aXZlRWxlbWVudFZhbHVlID0gYWN0aXZlRWxlbWVudC52YWx1ZTtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnRJbnN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzaG91bGRVc2VDbGlja0V2ZW50KGVsZW0pIHtcbiAgICByZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcgJiYgKGVsZW0udHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBlbGVtLnR5cGUgPT09ICdyYWRpbycpO1xuICB9XG4gIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JDbGlja0V2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCkge1xuICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wQ2xpY2spIHtcbiAgICAgIHJldHVybiB0YXJnZXRJbnN0O1xuICAgIH1cbiAgfVxuICB2YXIgQ2hhbmdlRXZlbnRQbHVnaW4gPSB7XG4gICAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyxcbiAgICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgdmFyIHRhcmdldE5vZGUgPSB0YXJnZXRJbnN0ID8gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UodGFyZ2V0SW5zdCkgOiB3aW5kb3c7XG4gICAgICB2YXIgZ2V0VGFyZ2V0SW5zdEZ1bmMsXG4gICAgICAgICAgaGFuZGxlRXZlbnRGdW5jO1xuICAgICAgaWYgKHNob3VsZFVzZUNoYW5nZUV2ZW50KHRhcmdldE5vZGUpKSB7XG4gICAgICAgIGlmIChkb2VzQ2hhbmdlRXZlbnRCdWJibGUpIHtcbiAgICAgICAgICBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVFdmVudEZ1bmMgPSBoYW5kbGVFdmVudHNGb3JDaGFuZ2VFdmVudElFODtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc1RleHRJbnB1dEVsZW1lbnQodGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgaWYgKGlzSW5wdXRFdmVudFN1cHBvcnRlZCkge1xuICAgICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRFdmVudElFO1xuICAgICAgICAgIGhhbmRsZUV2ZW50RnVuYyA9IGhhbmRsZUV2ZW50c0ZvcklucHV0RXZlbnRJRTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzaG91bGRVc2VDbGlja0V2ZW50KHRhcmdldE5vZGUpKSB7XG4gICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvckNsaWNrRXZlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoZ2V0VGFyZ2V0SW5zdEZ1bmMpIHtcbiAgICAgICAgdmFyIGluc3QgPSBnZXRUYXJnZXRJbnN0RnVuYyh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpO1xuICAgICAgICBpZiAoaW5zdCkge1xuICAgICAgICAgIHZhciBldmVudCA9IFN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChldmVudFR5cGVzLmNoYW5nZSwgaW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICAgICAgICBldmVudC50eXBlID0gJ2NoYW5nZSc7XG4gICAgICAgICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChoYW5kbGVFdmVudEZ1bmMpIHtcbiAgICAgICAgaGFuZGxlRXZlbnRGdW5jKHRvcExldmVsVHlwZSwgdGFyZ2V0Tm9kZSwgdGFyZ2V0SW5zdCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IENoYW5nZUV2ZW50UGx1Z2luO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBEZWZhdWx0RXZlbnRQbHVnaW5PcmRlclxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcblxuLyoqXG4gKiBNb2R1bGUgdGhhdCBpcyBpbmplY3RhYmxlIGludG8gYEV2ZW50UGx1Z2luSHViYCwgdGhhdCBzcGVjaWZpZXMgYVxuICogZGV0ZXJtaW5pc3RpYyBvcmRlcmluZyBvZiBgRXZlbnRQbHVnaW5gcy4gQSBjb252ZW5pZW50IHdheSB0byByZWFzb24gYWJvdXRcbiAqIHBsdWdpbnMsIHdpdGhvdXQgaGF2aW5nIHRvIHBhY2thZ2UgZXZlcnkgb25lIG9mIHRoZW0uIFRoaXMgaXMgYmV0dGVyIHRoYW5cbiAqIGhhdmluZyBwbHVnaW5zIGJlIG9yZGVyZWQgaW4gdGhlIHNhbWUgb3JkZXIgdGhhdCB0aGV5IGFyZSBpbmplY3RlZCBiZWNhdXNlXG4gKiB0aGF0IG9yZGVyaW5nIHdvdWxkIGJlIGluZmx1ZW5jZWQgYnkgdGhlIHBhY2thZ2luZyBvcmRlci5cbiAqIGBSZXNwb25kZXJFdmVudFBsdWdpbmAgbXVzdCBvY2N1ciBiZWZvcmUgYFNpbXBsZUV2ZW50UGx1Z2luYCBzbyB0aGF0XG4gKiBwcmV2ZW50aW5nIGRlZmF1bHQgb24gZXZlbnRzIGlzIGNvbnZlbmllbnQgaW4gYFNpbXBsZUV2ZW50UGx1Z2luYCBoYW5kbGVycy5cbiAqL1xudmFyIERlZmF1bHRFdmVudFBsdWdpbk9yZGVyID0gW2tleU9mKHsgUmVzcG9uZGVyRXZlbnRQbHVnaW46IG51bGwgfSksIGtleU9mKHsgU2ltcGxlRXZlbnRQbHVnaW46IG51bGwgfSksIGtleU9mKHsgVGFwRXZlbnRQbHVnaW46IG51bGwgfSksIGtleU9mKHsgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luOiBudWxsIH0pLCBrZXlPZih7IENoYW5nZUV2ZW50UGx1Z2luOiBudWxsIH0pLCBrZXlPZih7IFNlbGVjdEV2ZW50UGx1Z2luOiBudWxsIH0pLCBrZXlPZih7IEJlZm9yZUlucHV0RXZlbnRQbHVnaW46IG51bGwgfSldO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlZmF1bHRFdmVudFBsdWdpbk9yZGVyOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xudmFyIEV2ZW50UHJvcGFnYXRvcnMgPSByZXF1aXJlKCcuL0V2ZW50UHJvcGFnYXRvcnMnKTtcbnZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50VHJlZScpO1xudmFyIFN5bnRoZXRpY01vdXNlRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY01vdXNlRXZlbnQnKTtcbnZhciBrZXlPZiA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU9mJyk7XG52YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG52YXIgZXZlbnRUeXBlcyA9IHtcbiAgbW91c2VFbnRlcjoge1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6IGtleU9mKHtvbk1vdXNlRW50ZXI6IG51bGx9KSxcbiAgICBkZXBlbmRlbmNpZXM6IFt0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3V0LCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3Zlcl1cbiAgfSxcbiAgbW91c2VMZWF2ZToge1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6IGtleU9mKHtvbk1vdXNlTGVhdmU6IG51bGx9KSxcbiAgICBkZXBlbmRlbmNpZXM6IFt0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3V0LCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3Zlcl1cbiAgfVxufTtcbnZhciBFbnRlckxlYXZlRXZlbnRQbHVnaW4gPSB7XG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU92ZXIgJiYgKG5hdGl2ZUV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgbmF0aXZlRXZlbnQuZnJvbUVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRvcExldmVsVHlwZSAhPT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU91dCAmJiB0b3BMZXZlbFR5cGUgIT09IHRvcExldmVsVHlwZXMudG9wTW91c2VPdmVyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHdpbjtcbiAgICBpZiAobmF0aXZlRXZlbnRUYXJnZXQud2luZG93ID09PSBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgd2luID0gbmF0aXZlRXZlbnRUYXJnZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBkb2MgPSBuYXRpdmVFdmVudFRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgaWYgKGRvYykge1xuICAgICAgICB3aW4gPSBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbiA9IHdpbmRvdztcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGZyb207XG4gICAgdmFyIHRvO1xuICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wTW91c2VPdXQpIHtcbiAgICAgIGZyb20gPSB0YXJnZXRJbnN0O1xuICAgICAgdmFyIHJlbGF0ZWQgPSBuYXRpdmVFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LnRvRWxlbWVudDtcbiAgICAgIHRvID0gcmVsYXRlZCA/IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShyZWxhdGVkKSA6IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyb20gPSBudWxsO1xuICAgICAgdG8gPSB0YXJnZXRJbnN0O1xuICAgIH1cbiAgICBpZiAoZnJvbSA9PT0gdG8pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgZnJvbU5vZGUgPSBmcm9tID09IG51bGwgPyB3aW4gOiBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZShmcm9tKTtcbiAgICB2YXIgdG9Ob2RlID0gdG8gPT0gbnVsbCA/IHdpbiA6IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKHRvKTtcbiAgICB2YXIgbGVhdmUgPSBTeW50aGV0aWNNb3VzZUV2ZW50LmdldFBvb2xlZChldmVudFR5cGVzLm1vdXNlTGVhdmUsIGZyb20sIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgbGVhdmUudHlwZSA9ICdtb3VzZWxlYXZlJztcbiAgICBsZWF2ZS50YXJnZXQgPSBmcm9tTm9kZTtcbiAgICBsZWF2ZS5yZWxhdGVkVGFyZ2V0ID0gdG9Ob2RlO1xuICAgIHZhciBlbnRlciA9IFN5bnRoZXRpY01vdXNlRXZlbnQuZ2V0UG9vbGVkKGV2ZW50VHlwZXMubW91c2VFbnRlciwgdG8sIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgZW50ZXIudHlwZSA9ICdtb3VzZWVudGVyJztcbiAgICBlbnRlci50YXJnZXQgPSB0b05vZGU7XG4gICAgZW50ZXIucmVsYXRlZFRhcmdldCA9IGZyb21Ob2RlO1xuICAgIEV2ZW50UHJvcGFnYXRvcnMuYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzKGxlYXZlLCBlbnRlciwgZnJvbSwgdG8pO1xuICAgIHJldHVybiBbbGVhdmUsIGVudGVyXTtcbiAgfVxufTtcbm1vZHVsZS5leHBvcnRzID0gRW50ZXJMZWF2ZUV2ZW50UGx1Z2luO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgRE9NUHJvcGVydHkgPSByZXF1aXJlKCcuL0RPTVByb3BlcnR5Jyk7XG52YXIgTVVTVF9VU0VfUFJPUEVSVFkgPSBET01Qcm9wZXJ0eS5pbmplY3Rpb24uTVVTVF9VU0VfUFJPUEVSVFk7XG52YXIgSEFTX0JPT0xFQU5fVkFMVUUgPSBET01Qcm9wZXJ0eS5pbmplY3Rpb24uSEFTX0JPT0xFQU5fVkFMVUU7XG52YXIgSEFTX1NJREVfRUZGRUNUUyA9IERPTVByb3BlcnR5LmluamVjdGlvbi5IQVNfU0lERV9FRkZFQ1RTO1xudmFyIEhBU19OVU1FUklDX1ZBTFVFID0gRE9NUHJvcGVydHkuaW5qZWN0aW9uLkhBU19OVU1FUklDX1ZBTFVFO1xudmFyIEhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFID0gRE9NUHJvcGVydHkuaW5qZWN0aW9uLkhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFO1xudmFyIEhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUUgPSBET01Qcm9wZXJ0eS5pbmplY3Rpb24uSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRTtcbnZhciBIVE1MRE9NUHJvcGVydHlDb25maWcgPSB7XG4gIGlzQ3VzdG9tQXR0cmlidXRlOiBSZWdFeHAucHJvdG90eXBlLnRlc3QuYmluZChuZXcgUmVnRXhwKCdeKGRhdGF8YXJpYSktWycgKyBET01Qcm9wZXJ0eS5BVFRSSUJVVEVfTkFNRV9DSEFSICsgJ10qJCcpKSxcbiAgUHJvcGVydGllczoge1xuICAgIGFjY2VwdDogMCxcbiAgICBhY2NlcHRDaGFyc2V0OiAwLFxuICAgIGFjY2Vzc0tleTogMCxcbiAgICBhY3Rpb246IDAsXG4gICAgYWxsb3dGdWxsU2NyZWVuOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBhbGxvd1RyYW5zcGFyZW5jeTogMCxcbiAgICBhbHQ6IDAsXG4gICAgYXN5bmM6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGF1dG9Db21wbGV0ZTogMCxcbiAgICBhdXRvUGxheTogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgY2FwdHVyZTogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgY2VsbFBhZGRpbmc6IDAsXG4gICAgY2VsbFNwYWNpbmc6IDAsXG4gICAgY2hhclNldDogMCxcbiAgICBjaGFsbGVuZ2U6IDAsXG4gICAgY2hlY2tlZDogTVVTVF9VU0VfUFJPUEVSVFkgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBjaXRlOiAwLFxuICAgIGNsYXNzSUQ6IDAsXG4gICAgY2xhc3NOYW1lOiAwLFxuICAgIGNvbHM6IEhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFLFxuICAgIGNvbFNwYW46IDAsXG4gICAgY29udGVudDogMCxcbiAgICBjb250ZW50RWRpdGFibGU6IDAsXG4gICAgY29udGV4dE1lbnU6IDAsXG4gICAgY29udHJvbHM6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGNvb3JkczogMCxcbiAgICBjcm9zc09yaWdpbjogMCxcbiAgICBkYXRhOiAwLFxuICAgIGRhdGVUaW1lOiAwLFxuICAgICdkZWZhdWx0JzogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgZGVmZXI6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGRpcjogMCxcbiAgICBkaXNhYmxlZDogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgZG93bmxvYWQ6IEhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUUsXG4gICAgZHJhZ2dhYmxlOiAwLFxuICAgIGVuY1R5cGU6IDAsXG4gICAgZm9ybTogMCxcbiAgICBmb3JtQWN0aW9uOiAwLFxuICAgIGZvcm1FbmNUeXBlOiAwLFxuICAgIGZvcm1NZXRob2Q6IDAsXG4gICAgZm9ybU5vVmFsaWRhdGU6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGZvcm1UYXJnZXQ6IDAsXG4gICAgZnJhbWVCb3JkZXI6IDAsXG4gICAgaGVhZGVyczogMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgaGlkZGVuOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBoaWdoOiAwLFxuICAgIGhyZWY6IDAsXG4gICAgaHJlZkxhbmc6IDAsXG4gICAgaHRtbEZvcjogMCxcbiAgICBodHRwRXF1aXY6IDAsXG4gICAgaWNvbjogMCxcbiAgICBpZDogMCxcbiAgICBpbnB1dE1vZGU6IDAsXG4gICAgaW50ZWdyaXR5OiAwLFxuICAgIGlzOiAwLFxuICAgIGtleVBhcmFtczogMCxcbiAgICBrZXlUeXBlOiAwLFxuICAgIGtpbmQ6IDAsXG4gICAgbGFiZWw6IDAsXG4gICAgbGFuZzogMCxcbiAgICBsaXN0OiAwLFxuICAgIGxvb3A6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGxvdzogMCxcbiAgICBtYW5pZmVzdDogMCxcbiAgICBtYXJnaW5IZWlnaHQ6IDAsXG4gICAgbWFyZ2luV2lkdGg6IDAsXG4gICAgbWF4OiAwLFxuICAgIG1heExlbmd0aDogMCxcbiAgICBtZWRpYTogMCxcbiAgICBtZWRpYUdyb3VwOiAwLFxuICAgIG1ldGhvZDogMCxcbiAgICBtaW46IDAsXG4gICAgbWluTGVuZ3RoOiAwLFxuICAgIG11bHRpcGxlOiBNVVNUX1VTRV9QUk9QRVJUWSB8IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIG11dGVkOiBNVVNUX1VTRV9QUk9QRVJUWSB8IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIG5hbWU6IDAsXG4gICAgbm9uY2U6IDAsXG4gICAgbm9WYWxpZGF0ZTogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgb3BlbjogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgb3B0aW11bTogMCxcbiAgICBwYXR0ZXJuOiAwLFxuICAgIHBsYWNlaG9sZGVyOiAwLFxuICAgIHBvc3RlcjogMCxcbiAgICBwcmVsb2FkOiAwLFxuICAgIHByb2ZpbGU6IDAsXG4gICAgcmFkaW9Hcm91cDogMCxcbiAgICByZWFkT25seTogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgcmVsOiAwLFxuICAgIHJlcXVpcmVkOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICByZXZlcnNlZDogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgcm9sZTogMCxcbiAgICByb3dzOiBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSxcbiAgICByb3dTcGFuOiBIQVNfTlVNRVJJQ19WQUxVRSxcbiAgICBzYW5kYm94OiAwLFxuICAgIHNjb3BlOiAwLFxuICAgIHNjb3BlZDogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgc2Nyb2xsaW5nOiAwLFxuICAgIHNlYW1sZXNzOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBzZWxlY3RlZDogTVVTVF9VU0VfUFJPUEVSVFkgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBzaGFwZTogMCxcbiAgICBzaXplOiBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSxcbiAgICBzaXplczogMCxcbiAgICBzcGFuOiBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSxcbiAgICBzcGVsbENoZWNrOiAwLFxuICAgIHNyYzogMCxcbiAgICBzcmNEb2M6IDAsXG4gICAgc3JjTGFuZzogMCxcbiAgICBzcmNTZXQ6IDAsXG4gICAgc3RhcnQ6IEhBU19OVU1FUklDX1ZBTFVFLFxuICAgIHN0ZXA6IDAsXG4gICAgc3R5bGU6IDAsXG4gICAgc3VtbWFyeTogMCxcbiAgICB0YWJJbmRleDogMCxcbiAgICB0YXJnZXQ6IDAsXG4gICAgdGl0bGU6IDAsXG4gICAgdHlwZTogMCxcbiAgICB1c2VNYXA6IDAsXG4gICAgdmFsdWU6IE1VU1RfVVNFX1BST1BFUlRZIHwgSEFTX1NJREVfRUZGRUNUUyxcbiAgICB3aWR0aDogMCxcbiAgICB3bW9kZTogMCxcbiAgICB3cmFwOiAwLFxuICAgIGFib3V0OiAwLFxuICAgIGRhdGF0eXBlOiAwLFxuICAgIGlubGlzdDogMCxcbiAgICBwcmVmaXg6IDAsXG4gICAgcHJvcGVydHk6IDAsXG4gICAgcmVzb3VyY2U6IDAsXG4gICAgJ3R5cGVvZic6IDAsXG4gICAgdm9jYWI6IDAsXG4gICAgYXV0b0NhcGl0YWxpemU6IDAsXG4gICAgYXV0b0NvcnJlY3Q6IDAsXG4gICAgYXV0b1NhdmU6IDAsXG4gICAgY29sb3I6IDAsXG4gICAgaXRlbVByb3A6IDAsXG4gICAgaXRlbVNjb3BlOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBpdGVtVHlwZTogMCxcbiAgICBpdGVtSUQ6IDAsXG4gICAgaXRlbVJlZjogMCxcbiAgICByZXN1bHRzOiAwLFxuICAgIHNlY3VyaXR5OiAwLFxuICAgIHVuc2VsZWN0YWJsZTogMFxuICB9LFxuICBET01BdHRyaWJ1dGVOYW1lczoge1xuICAgIGFjY2VwdENoYXJzZXQ6ICdhY2NlcHQtY2hhcnNldCcsXG4gICAgY2xhc3NOYW1lOiAnY2xhc3MnLFxuICAgIGh0bWxGb3I6ICdmb3InLFxuICAgIGh0dHBFcXVpdjogJ2h0dHAtZXF1aXYnXG4gIH0sXG4gIERPTVByb3BlcnR5TmFtZXM6IHt9XG59O1xubW9kdWxlLmV4cG9ydHMgPSBIVE1MRE9NUHJvcGVydHlDb25maWc7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50VHJlZScpO1xudmFyIGZvY3VzTm9kZSA9IHJlcXVpcmUoJ2ZianMvbGliL2ZvY3VzTm9kZScpO1xudmFyIEF1dG9Gb2N1c1V0aWxzID0ge2ZvY3VzRE9NQ29tcG9uZW50OiBmdW5jdGlvbigpIHtcbiAgICBmb2N1c05vZGUoUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UodGhpcykpO1xuICB9fTtcbm1vZHVsZS5leHBvcnRzID0gQXV0b0ZvY3VzVXRpbHM7XG4iLCIvKiAqLyBcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG52YXIgX2h5cGhlblBhdHRlcm4gPSAvLSguKS9nO1xuXG4vKipcbiAqIENhbWVsY2FzZXMgYSBoeXBoZW5hdGVkIHN0cmluZywgZm9yIGV4YW1wbGU6XG4gKlxuICogICA+IGNhbWVsaXplKCdiYWNrZ3JvdW5kLWNvbG9yJylcbiAqICAgPCBcImJhY2tncm91bmRDb2xvclwiXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBjYW1lbGl6ZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKF9oeXBoZW5QYXR0ZXJuLCBmdW5jdGlvbiAoXywgY2hhcmFjdGVyKSB7XG4gICAgcmV0dXJuIGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjYW1lbGl6ZTsiLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBjYW1lbGl6ZSA9IHJlcXVpcmUoJy4vY2FtZWxpemUnKTtcbnZhciBtc1BhdHRlcm4gPSAvXi1tcy0vO1xuZnVuY3Rpb24gY2FtZWxpemVTdHlsZU5hbWUoc3RyaW5nKSB7XG4gIHJldHVybiBjYW1lbGl6ZShzdHJpbmcucmVwbGFjZShtc1BhdHRlcm4sICdtcy0nKSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGNhbWVsaXplU3R5bGVOYW1lO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIENTU1Byb3BlcnR5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENTUyBwcm9wZXJ0aWVzIHdoaWNoIGFjY2VwdCBudW1iZXJzIGJ1dCBhcmUgbm90IGluIHVuaXRzIG9mIFwicHhcIi5cbiAqL1xuXG52YXIgaXNVbml0bGVzc051bWJlciA9IHtcbiAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IHRydWUsXG4gIGJvcmRlckltYWdlT3V0c2V0OiB0cnVlLFxuICBib3JkZXJJbWFnZVNsaWNlOiB0cnVlLFxuICBib3JkZXJJbWFnZVdpZHRoOiB0cnVlLFxuICBib3hGbGV4OiB0cnVlLFxuICBib3hGbGV4R3JvdXA6IHRydWUsXG4gIGJveE9yZGluYWxHcm91cDogdHJ1ZSxcbiAgY29sdW1uQ291bnQ6IHRydWUsXG4gIGZsZXg6IHRydWUsXG4gIGZsZXhHcm93OiB0cnVlLFxuICBmbGV4UG9zaXRpdmU6IHRydWUsXG4gIGZsZXhTaHJpbms6IHRydWUsXG4gIGZsZXhOZWdhdGl2ZTogdHJ1ZSxcbiAgZmxleE9yZGVyOiB0cnVlLFxuICBncmlkUm93OiB0cnVlLFxuICBncmlkQ29sdW1uOiB0cnVlLFxuICBmb250V2VpZ2h0OiB0cnVlLFxuICBsaW5lQ2xhbXA6IHRydWUsXG4gIGxpbmVIZWlnaHQ6IHRydWUsXG4gIG9wYWNpdHk6IHRydWUsXG4gIG9yZGVyOiB0cnVlLFxuICBvcnBoYW5zOiB0cnVlLFxuICB0YWJTaXplOiB0cnVlLFxuICB3aWRvd3M6IHRydWUsXG4gIHpJbmRleDogdHJ1ZSxcbiAgem9vbTogdHJ1ZSxcblxuICAvLyBTVkctcmVsYXRlZCBwcm9wZXJ0aWVzXG4gIGZpbGxPcGFjaXR5OiB0cnVlLFxuICBmbG9vZE9wYWNpdHk6IHRydWUsXG4gIHN0b3BPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VEYXNoYXJyYXk6IHRydWUsXG4gIHN0cm9rZURhc2hvZmZzZXQ6IHRydWUsXG4gIHN0cm9rZU1pdGVybGltaXQ6IHRydWUsXG4gIHN0cm9rZU9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZVdpZHRoOiB0cnVlXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggdmVuZG9yLXNwZWNpZmljIHByZWZpeCwgZWc6IFdlYmtpdFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBzdHlsZSBuYW1lLCBlZzogdHJhbnNpdGlvbkR1cmF0aW9uXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHN0eWxlIG5hbWUgcHJlZml4ZWQgd2l0aCBgcHJlZml4YCwgcHJvcGVybHkgY2FtZWxDYXNlZCwgZWc6XG4gKiBXZWJraXRUcmFuc2l0aW9uRHVyYXRpb25cbiAqL1xuZnVuY3Rpb24gcHJlZml4S2V5KHByZWZpeCwga2V5KSB7XG4gIHJldHVybiBwcmVmaXggKyBrZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpO1xufVxuXG4vKipcbiAqIFN1cHBvcnQgc3R5bGUgbmFtZXMgdGhhdCBtYXkgY29tZSBwYXNzZWQgaW4gcHJlZml4ZWQgYnkgYWRkaW5nIHBlcm11dGF0aW9uc1xuICogb2YgdmVuZG9yIHByZWZpeGVzLlxuICovXG52YXIgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdtcycsICdNb3onLCAnTyddO1xuXG4vLyBVc2luZyBPYmplY3Qua2V5cyBoZXJlLCBvciBlbHNlIHRoZSB2YW5pbGxhIGZvci1pbiBsb29wIG1ha2VzIElFOCBnbyBpbnRvIGFuXG4vLyBpbmZpbml0ZSBsb29wLCBiZWNhdXNlIGl0IGl0ZXJhdGVzIG92ZXIgdGhlIG5ld2x5IGFkZGVkIHByb3BzIHRvby5cbk9iamVjdC5rZXlzKGlzVW5pdGxlc3NOdW1iZXIpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgcHJlZml4ZXMuZm9yRWFjaChmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgaXNVbml0bGVzc051bWJlcltwcmVmaXhLZXkocHJlZml4LCBwcm9wKV0gPSBpc1VuaXRsZXNzTnVtYmVyW3Byb3BdO1xuICB9KTtcbn0pO1xuXG4vKipcbiAqIE1vc3Qgc3R5bGUgcHJvcGVydGllcyBjYW4gYmUgdW5zZXQgYnkgZG9pbmcgLnN0eWxlW3Byb3BdID0gJycgYnV0IElFOFxuICogZG9lc24ndCBsaWtlIGRvaW5nIHRoYXQgd2l0aCBzaG9ydGhhbmQgcHJvcGVydGllcyBzbyBmb3IgdGhlIHByb3BlcnRpZXMgdGhhdFxuICogSUU4IGJyZWFrcyBvbiwgd2hpY2ggYXJlIGxpc3RlZCBoZXJlLCB3ZSBpbnN0ZWFkIHVuc2V0IGVhY2ggb2YgdGhlXG4gKiBpbmRpdmlkdWFsIHByb3BlcnRpZXMuIFNlZSBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMjM4NS5cbiAqIFRoZSA0LXZhbHVlICdjbG9jaycgcHJvcGVydGllcyBsaWtlIG1hcmdpbiwgcGFkZGluZywgYm9yZGVyLXdpZHRoIHNlZW0gdG9cbiAqIGJlaGF2ZSB3aXRob3V0IGFueSBwcm9ibGVtcy4gQ3VyaW91c2x5LCBsaXN0LXN0eWxlIHdvcmtzIHRvbyB3aXRob3V0IGFueVxuICogc3BlY2lhbCBwcm9kZGluZy5cbiAqL1xudmFyIHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9ucyA9IHtcbiAgYmFja2dyb3VuZDoge1xuICAgIGJhY2tncm91bmRBdHRhY2htZW50OiB0cnVlLFxuICAgIGJhY2tncm91bmRDb2xvcjogdHJ1ZSxcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6IHRydWUsXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uWDogdHJ1ZSxcbiAgICBiYWNrZ3JvdW5kUG9zaXRpb25ZOiB0cnVlLFxuICAgIGJhY2tncm91bmRSZXBlYXQ6IHRydWVcbiAgfSxcbiAgYmFja2dyb3VuZFBvc2l0aW9uOiB7XG4gICAgYmFja2dyb3VuZFBvc2l0aW9uWDogdHJ1ZSxcbiAgICBiYWNrZ3JvdW5kUG9zaXRpb25ZOiB0cnVlXG4gIH0sXG4gIGJvcmRlcjoge1xuICAgIGJvcmRlcldpZHRoOiB0cnVlLFxuICAgIGJvcmRlclN0eWxlOiB0cnVlLFxuICAgIGJvcmRlckNvbG9yOiB0cnVlXG4gIH0sXG4gIGJvcmRlckJvdHRvbToge1xuICAgIGJvcmRlckJvdHRvbVdpZHRoOiB0cnVlLFxuICAgIGJvcmRlckJvdHRvbVN0eWxlOiB0cnVlLFxuICAgIGJvcmRlckJvdHRvbUNvbG9yOiB0cnVlXG4gIH0sXG4gIGJvcmRlckxlZnQ6IHtcbiAgICBib3JkZXJMZWZ0V2lkdGg6IHRydWUsXG4gICAgYm9yZGVyTGVmdFN0eWxlOiB0cnVlLFxuICAgIGJvcmRlckxlZnRDb2xvcjogdHJ1ZVxuICB9LFxuICBib3JkZXJSaWdodDoge1xuICAgIGJvcmRlclJpZ2h0V2lkdGg6IHRydWUsXG4gICAgYm9yZGVyUmlnaHRTdHlsZTogdHJ1ZSxcbiAgICBib3JkZXJSaWdodENvbG9yOiB0cnVlXG4gIH0sXG4gIGJvcmRlclRvcDoge1xuICAgIGJvcmRlclRvcFdpZHRoOiB0cnVlLFxuICAgIGJvcmRlclRvcFN0eWxlOiB0cnVlLFxuICAgIGJvcmRlclRvcENvbG9yOiB0cnVlXG4gIH0sXG4gIGZvbnQ6IHtcbiAgICBmb250U3R5bGU6IHRydWUsXG4gICAgZm9udFZhcmlhbnQ6IHRydWUsXG4gICAgZm9udFdlaWdodDogdHJ1ZSxcbiAgICBmb250U2l6ZTogdHJ1ZSxcbiAgICBsaW5lSGVpZ2h0OiB0cnVlLFxuICAgIGZvbnRGYW1pbHk6IHRydWVcbiAgfSxcbiAgb3V0bGluZToge1xuICAgIG91dGxpbmVXaWR0aDogdHJ1ZSxcbiAgICBvdXRsaW5lU3R5bGU6IHRydWUsXG4gICAgb3V0bGluZUNvbG9yOiB0cnVlXG4gIH1cbn07XG5cbnZhciBDU1NQcm9wZXJ0eSA9IHtcbiAgaXNVbml0bGVzc051bWJlcjogaXNVbml0bGVzc051bWJlcixcbiAgc2hvcnRoYW5kUHJvcGVydHlFeHBhbnNpb25zOiBzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnNcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ1NTUHJvcGVydHk7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBDU1NQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vQ1NTUHJvcGVydHknKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBpc1VuaXRsZXNzTnVtYmVyID0gQ1NTUHJvcGVydHkuaXNVbml0bGVzc051bWJlcjtcbiAgdmFyIHN0eWxlV2FybmluZ3MgPSB7fTtcbiAgZnVuY3Rpb24gZGFuZ2Vyb3VzU3R5bGVWYWx1ZShuYW1lLCB2YWx1ZSwgY29tcG9uZW50KSB7XG4gICAgdmFyIGlzRW1wdHkgPSB2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8IHZhbHVlID09PSAnJztcbiAgICBpZiAoaXNFbXB0eSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICB2YXIgaXNOb25OdW1lcmljID0gaXNOYU4odmFsdWUpO1xuICAgIGlmIChpc05vbk51bWVyaWMgfHwgdmFsdWUgPT09IDAgfHwgaXNVbml0bGVzc051bWJlci5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBpc1VuaXRsZXNzTnVtYmVyW25hbWVdKSB7XG4gICAgICByZXR1cm4gJycgKyB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgICB2YXIgb3duZXIgPSBjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgICAgICB2YXIgb3duZXJOYW1lID0gb3duZXIgPyBvd25lci5nZXROYW1lKCkgOiBudWxsO1xuICAgICAgICAgIGlmIChvd25lck5hbWUgJiYgIXN0eWxlV2FybmluZ3Nbb3duZXJOYW1lXSkge1xuICAgICAgICAgICAgc3R5bGVXYXJuaW5nc1tvd25lck5hbWVdID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAob3duZXJOYW1lKSB7XG4gICAgICAgICAgICB2YXIgd2FybmluZ3MgPSBzdHlsZVdhcm5pbmdzW293bmVyTmFtZV07XG4gICAgICAgICAgICB3YXJuZWQgPSB3YXJuaW5nc1tuYW1lXTtcbiAgICAgICAgICAgIGlmICghd2FybmVkKSB7XG4gICAgICAgICAgICAgIHdhcm5pbmdzW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYSBgJXNgIHRhZyAob3duZXI6IGAlc2ApIHdhcyBwYXNzZWQgYSBudW1lcmljIHN0cmluZyB2YWx1ZSAnICsgJ2ZvciBDU1MgcHJvcGVydHkgYCVzYCAodmFsdWU6IGAlc2ApIHdoaWNoIHdpbGwgYmUgdHJlYXRlZCAnICsgJ2FzIGEgdW5pdGxlc3MgbnVtYmVyIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgUmVhY3QuJywgY29tcG9uZW50Ll9jdXJyZW50RWxlbWVudC50eXBlLCBvd25lck5hbWUgfHwgJ3Vua25vd24nLCBuYW1lLCB2YWx1ZSkgOiB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlICsgJ3B4JztcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGRhbmdlcm91c1N0eWxlVmFsdWU7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbnZhciBfdXBwZXJjYXNlUGF0dGVybiA9IC8oW0EtWl0pL2c7XG5cbi8qKlxuICogSHlwaGVuYXRlcyBhIGNhbWVsY2FzZWQgc3RyaW5nLCBmb3IgZXhhbXBsZTpcbiAqXG4gKiAgID4gaHlwaGVuYXRlKCdiYWNrZ3JvdW5kQ29sb3InKVxuICogICA8IFwiYmFja2dyb3VuZC1jb2xvclwiXG4gKlxuICogRm9yIENTUyBzdHlsZSBuYW1lcywgdXNlIGBoeXBoZW5hdGVTdHlsZU5hbWVgIGluc3RlYWQgd2hpY2ggd29ya3MgcHJvcGVybHlcbiAqIHdpdGggYWxsIHZlbmRvciBwcmVmaXhlcywgaW5jbHVkaW5nIGBtc2AuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBoeXBoZW5hdGUoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShfdXBwZXJjYXNlUGF0dGVybiwgJy0kMScpLnRvTG93ZXJDYXNlKCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaHlwaGVuYXRlOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIGh5cGhlbmF0ZSA9IHJlcXVpcmUoJy4vaHlwaGVuYXRlJyk7XG52YXIgbXNQYXR0ZXJuID0gL15tcy0vO1xuZnVuY3Rpb24gaHlwaGVuYXRlU3R5bGVOYW1lKHN0cmluZykge1xuICByZXR1cm4gaHlwaGVuYXRlKHN0cmluZykucmVwbGFjZShtc1BhdHRlcm4sICctbXMtJyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGh5cGhlbmF0ZVN0eWxlTmFtZTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBNZW1vaXplcyB0aGUgcmV0dXJuIHZhbHVlIG9mIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIG9uZSBzdHJpbmcgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge2Z1bmN0aW9ufVxuICovXG5cbmZ1bmN0aW9uIG1lbW9pemVTdHJpbmdPbmx5KGNhbGxiYWNrKSB7XG4gIHZhciBjYWNoZSA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gKHN0cmluZykge1xuICAgIGlmICghY2FjaGUuaGFzT3duUHJvcGVydHkoc3RyaW5nKSkge1xuICAgICAgY2FjaGVbc3RyaW5nXSA9IGNhbGxiYWNrLmNhbGwodGhpcywgc3RyaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlW3N0cmluZ107XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWVtb2l6ZVN0cmluZ09ubHk7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBDU1NQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vQ1NTUHJvcGVydHknKTtcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbiAgdmFyIFJlYWN0SW5zdHJ1bWVudGF0aW9uID0gcmVxdWlyZSgnLi9SZWFjdEluc3RydW1lbnRhdGlvbicpO1xuICB2YXIgY2FtZWxpemVTdHlsZU5hbWUgPSByZXF1aXJlKCdmYmpzL2xpYi9jYW1lbGl6ZVN0eWxlTmFtZScpO1xuICB2YXIgZGFuZ2Vyb3VzU3R5bGVWYWx1ZSA9IHJlcXVpcmUoJy4vZGFuZ2Vyb3VzU3R5bGVWYWx1ZScpO1xuICB2YXIgaHlwaGVuYXRlU3R5bGVOYW1lID0gcmVxdWlyZSgnZmJqcy9saWIvaHlwaGVuYXRlU3R5bGVOYW1lJyk7XG4gIHZhciBtZW1vaXplU3RyaW5nT25seSA9IHJlcXVpcmUoJ2ZianMvbGliL21lbW9pemVTdHJpbmdPbmx5Jyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgcHJvY2Vzc1N0eWxlTmFtZSA9IG1lbW9pemVTdHJpbmdPbmx5KGZ1bmN0aW9uKHN0eWxlTmFtZSkge1xuICAgIHJldHVybiBoeXBoZW5hdGVTdHlsZU5hbWUoc3R5bGVOYW1lKTtcbiAgfSk7XG4gIHZhciBoYXNTaG9ydGhhbmRQcm9wZXJ0eUJ1ZyA9IGZhbHNlO1xuICB2YXIgc3R5bGVGbG9hdEFjY2Vzc29yID0gJ2Nzc0Zsb2F0JztcbiAgaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIHZhciB0ZW1wU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTtcbiAgICB0cnkge1xuICAgICAgdGVtcFN0eWxlLmZvbnQgPSAnJztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBoYXNTaG9ydGhhbmRQcm9wZXJ0eUJ1ZyA9IHRydWU7XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY3NzRmxvYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc3R5bGVGbG9hdEFjY2Vzc29yID0gJ3N0eWxlRmxvYXQnO1xuICAgIH1cbiAgfVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhciBiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4gPSAvXig/OndlYmtpdHxtb3p8bylbQS1aXS87XG4gICAgdmFyIGJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybiA9IC87XFxzKiQvO1xuICAgIHZhciB3YXJuZWRTdHlsZU5hbWVzID0ge307XG4gICAgdmFyIHdhcm5lZFN0eWxlVmFsdWVzID0ge307XG4gICAgdmFyIHdhcm5lZEZvck5hTlZhbHVlID0gZmFsc2U7XG4gICAgdmFyIHdhcm5IeXBoZW5hdGVkU3R5bGVOYW1lID0gZnVuY3Rpb24obmFtZSwgb3duZXIpIHtcbiAgICAgIGlmICh3YXJuZWRTdHlsZU5hbWVzLmhhc093blByb3BlcnR5KG5hbWUpICYmIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSA9IHRydWU7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ1Vuc3VwcG9ydGVkIHN0eWxlIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gJXM/JXMnLCBuYW1lLCBjYW1lbGl6ZVN0eWxlTmFtZShuYW1lKSwgY2hlY2tSZW5kZXJNZXNzYWdlKG93bmVyKSkgOiB2b2lkIDA7XG4gICAgfTtcbiAgICB2YXIgd2FybkJhZFZlbmRvcmVkU3R5bGVOYW1lID0gZnVuY3Rpb24obmFtZSwgb3duZXIpIHtcbiAgICAgIGlmICh3YXJuZWRTdHlsZU5hbWVzLmhhc093blByb3BlcnR5KG5hbWUpICYmIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSA9IHRydWU7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ1Vuc3VwcG9ydGVkIHZlbmRvci1wcmVmaXhlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzPyVzJywgbmFtZSwgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSksIGNoZWNrUmVuZGVyTWVzc2FnZShvd25lcikpIDogdm9pZCAwO1xuICAgIH07XG4gICAgdmFyIHdhcm5TdHlsZVZhbHVlV2l0aFNlbWljb2xvbiA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBvd25lcikge1xuICAgICAgaWYgKHdhcm5lZFN0eWxlVmFsdWVzLmhhc093blByb3BlcnR5KHZhbHVlKSAmJiB3YXJuZWRTdHlsZVZhbHVlc1t2YWx1ZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2FybmVkU3R5bGVWYWx1ZXNbdmFsdWVdID0gdHJ1ZTtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnU3R5bGUgcHJvcGVydHkgdmFsdWVzIHNob3VsZG5cXCd0IGNvbnRhaW4gYSBzZW1pY29sb24uJXMgJyArICdUcnkgXCIlczogJXNcIiBpbnN0ZWFkLicsIGNoZWNrUmVuZGVyTWVzc2FnZShvd25lciksIG5hbWUsIHZhbHVlLnJlcGxhY2UoYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuLCAnJykpIDogdm9pZCAwO1xuICAgIH07XG4gICAgdmFyIHdhcm5TdHlsZVZhbHVlSXNOYU4gPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgb3duZXIpIHtcbiAgICAgIGlmICh3YXJuZWRGb3JOYU5WYWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3YXJuZWRGb3JOYU5WYWx1ZSA9IHRydWU7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2BOYU5gIGlzIGFuIGludmFsaWQgdmFsdWUgZm9yIHRoZSBgJXNgIGNzcyBzdHlsZSBwcm9wZXJ0eS4lcycsIG5hbWUsIGNoZWNrUmVuZGVyTWVzc2FnZShvd25lcikpIDogdm9pZCAwO1xuICAgIH07XG4gICAgdmFyIGNoZWNrUmVuZGVyTWVzc2FnZSA9IGZ1bmN0aW9uKG93bmVyKSB7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH07XG4gICAgdmFyIHdhcm5WYWxpZFN0eWxlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGNvbXBvbmVudCkge1xuICAgICAgdmFyIG93bmVyO1xuICAgICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICBvd25lciA9IGNvbXBvbmVudC5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWUuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgICAgd2Fybkh5cGhlbmF0ZWRTdHlsZU5hbWUobmFtZSwgb3duZXIpO1xuICAgICAgfSBlbHNlIGlmIChiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4udGVzdChuYW1lKSkge1xuICAgICAgICB3YXJuQmFkVmVuZG9yZWRTdHlsZU5hbWUobmFtZSwgb3duZXIpO1xuICAgICAgfSBlbHNlIGlmIChiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgd2FyblN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uKG5hbWUsIHZhbHVlLCBvd25lcik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgd2FyblN0eWxlVmFsdWVJc05hTihuYW1lLCB2YWx1ZSwgb3duZXIpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgdmFyIENTU1Byb3BlcnR5T3BlcmF0aW9ucyA9IHtcbiAgICBjcmVhdGVNYXJrdXBGb3JTdHlsZXM6IGZ1bmN0aW9uKHN0eWxlcywgY29tcG9uZW50KSB7XG4gICAgICB2YXIgc2VyaWFsaXplZCA9ICcnO1xuICAgICAgZm9yICh2YXIgc3R5bGVOYW1lIGluIHN0eWxlcykge1xuICAgICAgICBpZiAoIXN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlVmFsdWUgPSBzdHlsZXNbc3R5bGVOYW1lXTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB3YXJuVmFsaWRTdHlsZShzdHlsZU5hbWUsIHN0eWxlVmFsdWUsIGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIHNlcmlhbGl6ZWQgKz0gcHJvY2Vzc1N0eWxlTmFtZShzdHlsZU5hbWUpICsgJzonO1xuICAgICAgICAgIHNlcmlhbGl6ZWQgKz0gZGFuZ2Vyb3VzU3R5bGVWYWx1ZShzdHlsZU5hbWUsIHN0eWxlVmFsdWUsIGNvbXBvbmVudCkgKyAnOyc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXJpYWxpemVkIHx8IG51bGw7XG4gICAgfSxcbiAgICBzZXRWYWx1ZUZvclN0eWxlczogZnVuY3Rpb24obm9kZSwgc3R5bGVzLCBjb21wb25lbnQpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihjb21wb25lbnQuX2RlYnVnSUQsICd1cGRhdGUgc3R5bGVzJywgc3R5bGVzKTtcbiAgICAgIH1cbiAgICAgIHZhciBzdHlsZSA9IG5vZGUuc3R5bGU7XG4gICAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gc3R5bGVzKSB7XG4gICAgICAgIGlmICghc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHdhcm5WYWxpZFN0eWxlKHN0eWxlTmFtZSwgc3R5bGVzW3N0eWxlTmFtZV0sIGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlVmFsdWUgPSBkYW5nZXJvdXNTdHlsZVZhbHVlKHN0eWxlTmFtZSwgc3R5bGVzW3N0eWxlTmFtZV0sIGNvbXBvbmVudCk7XG4gICAgICAgIGlmIChzdHlsZU5hbWUgPT09ICdmbG9hdCcgfHwgc3R5bGVOYW1lID09PSAnY3NzRmxvYXQnKSB7XG4gICAgICAgICAgc3R5bGVOYW1lID0gc3R5bGVGbG9hdEFjY2Vzc29yO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZVZhbHVlKSB7XG4gICAgICAgICAgc3R5bGVbc3R5bGVOYW1lXSA9IHN0eWxlVmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGV4cGFuc2lvbiA9IGhhc1Nob3J0aGFuZFByb3BlcnR5QnVnICYmIENTU1Byb3BlcnR5LnNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uc1tzdHlsZU5hbWVdO1xuICAgICAgICAgIGlmIChleHBhbnNpb24pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGl2aWR1YWxTdHlsZU5hbWUgaW4gZXhwYW5zaW9uKSB7XG4gICAgICAgICAgICAgIHN0eWxlW2luZGl2aWR1YWxTdHlsZU5hbWVdID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlW3N0eWxlTmFtZV0gPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gQ1NTUHJvcGVydHlPcGVyYXRpb25zO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgRE9NQ2hpbGRyZW5PcGVyYXRpb25zID0gcmVxdWlyZSgnLi9ET01DaGlsZHJlbk9wZXJhdGlvbnMnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRUcmVlJyk7XG4gIHZhciBSZWFjdERPTUlET3BlcmF0aW9ucyA9IHtkYW5nZXJvdXNseVByb2Nlc3NDaGlsZHJlblVwZGF0ZXM6IGZ1bmN0aW9uKHBhcmVudEluc3QsIHVwZGF0ZXMpIHtcbiAgICAgIHZhciBub2RlID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UocGFyZW50SW5zdCk7XG4gICAgICBET01DaGlsZHJlbk9wZXJhdGlvbnMucHJvY2Vzc1VwZGF0ZXMobm9kZSwgdXBkYXRlcyk7XG4gICAgfX07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01JRE9wZXJhdGlvbnM7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBET01DaGlsZHJlbk9wZXJhdGlvbnMgPSByZXF1aXJlKCcuL0RPTUNoaWxkcmVuT3BlcmF0aW9ucycpO1xuICB2YXIgUmVhY3RET01JRE9wZXJhdGlvbnMgPSByZXF1aXJlKCcuL1JlYWN0RE9NSURPcGVyYXRpb25zJyk7XG4gIHZhciBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCA9IHtcbiAgICBwcm9jZXNzQ2hpbGRyZW5VcGRhdGVzOiBSZWFjdERPTUlET3BlcmF0aW9ucy5kYW5nZXJvdXNseVByb2Nlc3NDaGlsZHJlblVwZGF0ZXMsXG4gICAgcmVwbGFjZU5vZGVXaXRoTWFya3VwOiBET01DaGlsZHJlbk9wZXJhdGlvbnMuZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAsXG4gICAgdW5tb3VudElERnJvbUVudmlyb25tZW50OiBmdW5jdGlvbihyb290Tm9kZUlEKSB7fVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIERpc2FibGVkSW5wdXRVdGlscyA9IHJlcXVpcmUoJy4vRGlzYWJsZWRJbnB1dFV0aWxzJyk7XG52YXIgUmVhY3RET01CdXR0b24gPSB7Z2V0TmF0aXZlUHJvcHM6IERpc2FibGVkSW5wdXRVdGlscy5nZXROYXRpdmVQcm9wc307XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NQnV0dG9uO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgRGlzYWJsZWRJbnB1dFV0aWxzID0gcmVxdWlyZSgnLi9EaXNhYmxlZElucHV0VXRpbHMnKTtcbiAgdmFyIERPTVByb3BlcnR5T3BlcmF0aW9ucyA9IHJlcXVpcmUoJy4vRE9NUHJvcGVydHlPcGVyYXRpb25zJyk7XG4gIHZhciBMaW5rZWRWYWx1ZVV0aWxzID0gcmVxdWlyZSgnLi9MaW5rZWRWYWx1ZVV0aWxzJyk7XG4gIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50VHJlZScpO1xuICB2YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZSgnLi9SZWFjdFVwZGF0ZXMnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIGRpZFdhcm5WYWx1ZUxpbmsgPSBmYWxzZTtcbiAgdmFyIGRpZFdhcm5DaGVja2VkTGluayA9IGZhbHNlO1xuICB2YXIgZGlkV2FyblZhbHVlTnVsbCA9IGZhbHNlO1xuICB2YXIgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gZmFsc2U7XG4gIHZhciBkaWRXYXJuQ2hlY2tlZERlZmF1bHRDaGVja2VkID0gZmFsc2U7XG4gIHZhciBkaWRXYXJuQ29udHJvbGxlZFRvVW5jb250cm9sbGVkID0gZmFsc2U7XG4gIHZhciBkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGZvcmNlVXBkYXRlSWZNb3VudGVkKCkge1xuICAgIGlmICh0aGlzLl9yb290Tm9kZUlEKSB7XG4gICAgICBSZWFjdERPTUlucHV0LnVwZGF0ZVdyYXBwZXIodGhpcyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHdhcm5JZlZhbHVlSXNOdWxsKHByb3BzKSB7XG4gICAgaWYgKHByb3BzICE9IG51bGwgJiYgcHJvcHMudmFsdWUgPT09IG51bGwgJiYgIWRpZFdhcm5WYWx1ZU51bGwpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYHZhbHVlYCBwcm9wIG9uIGBpbnB1dGAgc2hvdWxkIG5vdCBiZSBudWxsLiAnICsgJ0NvbnNpZGVyIHVzaW5nIHRoZSBlbXB0eSBzdHJpbmcgdG8gY2xlYXIgdGhlIGNvbXBvbmVudCBvciBgdW5kZWZpbmVkYCAnICsgJ2ZvciB1bmNvbnRyb2xsZWQgY29tcG9uZW50cy4nKSA6IHZvaWQgMDtcbiAgICAgIGRpZFdhcm5WYWx1ZU51bGwgPSB0cnVlO1xuICAgIH1cbiAgfVxuICB2YXIgUmVhY3RET01JbnB1dCA9IHtcbiAgICBnZXROYXRpdmVQcm9wczogZnVuY3Rpb24oaW5zdCwgcHJvcHMpIHtcbiAgICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgICAgdmFyIGNoZWNrZWQgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldENoZWNrZWQocHJvcHMpO1xuICAgICAgdmFyIG5hdGl2ZVByb3BzID0gX2Fzc2lnbih7dHlwZTogdW5kZWZpbmVkfSwgRGlzYWJsZWRJbnB1dFV0aWxzLmdldE5hdGl2ZVByb3BzKGluc3QsIHByb3BzKSwge1xuICAgICAgICBkZWZhdWx0Q2hlY2tlZDogdW5kZWZpbmVkLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgdmFsdWU6IHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6IGluc3QuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUsXG4gICAgICAgIGNoZWNrZWQ6IGNoZWNrZWQgIT0gbnVsbCA/IGNoZWNrZWQgOiBpbnN0Ll93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWQsXG4gICAgICAgIG9uQ2hhbmdlOiBpbnN0Ll93cmFwcGVyU3RhdGUub25DaGFuZ2VcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5hdGl2ZVByb3BzO1xuICAgIH0sXG4gICAgbW91bnRXcmFwcGVyOiBmdW5jdGlvbihpbnN0LCBwcm9wcykge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgTGlua2VkVmFsdWVVdGlscy5jaGVja1Byb3BUeXBlcygnaW5wdXQnLCBwcm9wcywgaW5zdC5fY3VycmVudEVsZW1lbnQuX293bmVyKTtcbiAgICAgICAgdmFyIG93bmVyID0gaW5zdC5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgICBpZiAocHJvcHMudmFsdWVMaW5rICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZUxpbmspIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2B2YWx1ZUxpbmtgIHByb3Agb24gYGlucHV0YCBpcyBkZXByZWNhdGVkOyBzZXQgYHZhbHVlYCBhbmQgYG9uQ2hhbmdlYCBpbnN0ZWFkLicpIDogdm9pZCAwO1xuICAgICAgICAgIGRpZFdhcm5WYWx1ZUxpbmsgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy5jaGVja2VkTGluayAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuQ2hlY2tlZExpbmspIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2BjaGVja2VkTGlua2AgcHJvcCBvbiBgaW5wdXRgIGlzIGRlcHJlY2F0ZWQ7IHNldCBgdmFsdWVgIGFuZCBgb25DaGFuZ2VgIGluc3RlYWQuJykgOiB2b2lkIDA7XG4gICAgICAgICAgZGlkV2FybkNoZWNrZWRMaW5rID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcHMuY2hlY2tlZCAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmRlZmF1bHRDaGVja2VkICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5DaGVja2VkRGVmYXVsdENoZWNrZWQpIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzIGNvbnRhaW5zIGFuIGlucHV0IG9mIHR5cGUgJXMgd2l0aCBib3RoIGNoZWNrZWQgYW5kIGRlZmF1bHRDaGVja2VkIHByb3BzLiAnICsgJ0lucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSBjaGVja2VkIHByb3AsIG9yIHRoZSBkZWZhdWx0Q2hlY2tlZCBwcm9wLCBidXQgbm90ICcgKyAnYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgJyArICdlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnLCBvd25lciAmJiBvd25lci5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JywgcHJvcHMudHlwZSkgOiB2b2lkIDA7XG4gICAgICAgICAgZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BzLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMgY29udGFpbnMgYW4gaW5wdXQgb2YgdHlwZSAlcyB3aXRoIGJvdGggdmFsdWUgYW5kIGRlZmF1bHRWYWx1ZSBwcm9wcy4gJyArICdJbnB1dCBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAnICsgJyhzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90ICcgKyAnYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgJyArICdlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnLCBvd25lciAmJiBvd25lci5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JywgcHJvcHMudHlwZSkgOiB2b2lkIDA7XG4gICAgICAgICAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcyk7XG4gICAgICB9XG4gICAgICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuICAgICAgaW5zdC5fd3JhcHBlclN0YXRlID0ge1xuICAgICAgICBpbml0aWFsQ2hlY2tlZDogcHJvcHMuZGVmYXVsdENoZWNrZWQgfHwgZmFsc2UsXG4gICAgICAgIGluaXRpYWxWYWx1ZTogZGVmYXVsdFZhbHVlICE9IG51bGwgPyBkZWZhdWx0VmFsdWUgOiBudWxsLFxuICAgICAgICBsaXN0ZW5lcnM6IG51bGwsXG4gICAgICAgIG9uQ2hhbmdlOiBfaGFuZGxlQ2hhbmdlLmJpbmQoaW5zdClcbiAgICAgIH07XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUuY29udHJvbGxlZCA9IHByb3BzLmNoZWNrZWQgIT09IHVuZGVmaW5lZCB8fCBwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlV3JhcHBlcjogZnVuY3Rpb24oaW5zdCkge1xuICAgICAgdmFyIHByb3BzID0gaW5zdC5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcyk7XG4gICAgICAgIHZhciBpbml0aWFsVmFsdWUgPSBpbnN0Ll93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWQgfHwgaW5zdC5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZTtcbiAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRDaGVja2VkIHx8IHByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgdmFyIGNvbnRyb2xsZWQgPSBwcm9wcy5jaGVja2VkICE9PSB1bmRlZmluZWQgfHwgcHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIG93bmVyID0gaW5zdC5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgICBpZiAoKGluaXRpYWxWYWx1ZSB8fCAhaW5zdC5fd3JhcHBlclN0YXRlLmNvbnRyb2xsZWQpICYmIGNvbnRyb2xsZWQgJiYgIWRpZFdhcm5VbmNvbnRyb2xsZWRUb0NvbnRyb2xsZWQpIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzIGlzIGNoYW5naW5nIGFuIHVuY29udHJvbGxlZCBpbnB1dCBvZiB0eXBlICVzIHRvIGJlIGNvbnRyb2xsZWQuICcgKyAnSW5wdXQgZWxlbWVudHMgc2hvdWxkIG5vdCBzd2l0Y2ggZnJvbSB1bmNvbnRyb2xsZWQgdG8gY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuICcgKyAnRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgY29tcG9uZW50LiBNb3JlIGluZm86IGh0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzJywgb3duZXIgJiYgb3duZXIuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcsIHByb3BzLnR5cGUpIDogdm9pZCAwO1xuICAgICAgICAgIGRpZFdhcm5VbmNvbnRyb2xsZWRUb0NvbnRyb2xsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnN0Ll93cmFwcGVyU3RhdGUuY29udHJvbGxlZCAmJiAoZGVmYXVsdFZhbHVlIHx8ICFjb250cm9sbGVkKSAmJiAhZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMgaXMgY2hhbmdpbmcgYSBjb250cm9sbGVkIGlucHV0IG9mIHR5cGUgJXMgdG8gYmUgdW5jb250cm9sbGVkLiAnICsgJ0lucHV0IGVsZW1lbnRzIHNob3VsZCBub3Qgc3dpdGNoIGZyb20gY29udHJvbGxlZCB0byB1bmNvbnRyb2xsZWQgKG9yIHZpY2UgdmVyc2EpLiAnICsgJ0RlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgJyArICdlbGVtZW50IGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIGNvbXBvbmVudC4gTW9yZSBpbmZvOiBodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycsIG93bmVyICYmIG93bmVyLmdldE5hbWUoKSB8fCAnQSBjb21wb25lbnQnLCBwcm9wcy50eXBlKSA6IHZvaWQgMDtcbiAgICAgICAgICBkaWRXYXJuQ29udHJvbGxlZFRvVW5jb250cm9sbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGNoZWNrZWQgPSBwcm9wcy5jaGVja2VkO1xuICAgICAgaWYgKGNoZWNrZWQgIT0gbnVsbCkge1xuICAgICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JQcm9wZXJ0eShSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KSwgJ2NoZWNrZWQnLCBjaGVja2VkIHx8IGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLnNldFZhbHVlRm9yUHJvcGVydHkoUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCksICd2YWx1ZScsICcnICsgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShldmVudCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgIHZhciByZXR1cm5WYWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZXhlY3V0ZU9uQ2hhbmdlKHByb3BzLCBldmVudCk7XG4gICAgUmVhY3RVcGRhdGVzLmFzYXAoZm9yY2VVcGRhdGVJZk1vdW50ZWQsIHRoaXMpO1xuICAgIHZhciBuYW1lID0gcHJvcHMubmFtZTtcbiAgICBpZiAocHJvcHMudHlwZSA9PT0gJ3JhZGlvJyAmJiBuYW1lICE9IG51bGwpIHtcbiAgICAgIHZhciByb290Tm9kZSA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKHRoaXMpO1xuICAgICAgdmFyIHF1ZXJ5Um9vdCA9IHJvb3ROb2RlO1xuICAgICAgd2hpbGUgKHF1ZXJ5Um9vdC5wYXJlbnROb2RlKSB7XG4gICAgICAgIHF1ZXJ5Um9vdCA9IHF1ZXJ5Um9vdC5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgdmFyIGdyb3VwID0gcXVlcnlSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9JyArIEpTT04uc3RyaW5naWZ5KCcnICsgbmFtZSkgKyAnXVt0eXBlPVwicmFkaW9cIl0nKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG90aGVyTm9kZSA9IGdyb3VwW2ldO1xuICAgICAgICBpZiAob3RoZXJOb2RlID09PSByb290Tm9kZSB8fCBvdGhlck5vZGUuZm9ybSAhPT0gcm9vdE5vZGUuZm9ybSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdGhlckluc3RhbmNlID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldEluc3RhbmNlRnJvbU5vZGUob3RoZXJOb2RlKTtcbiAgICAgICAgIW90aGVySW5zdGFuY2UgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RET01JbnB1dDogTWl4aW5nIFJlYWN0IGFuZCBub24tUmVhY3QgcmFkaW8gaW5wdXRzIHdpdGggdGhlICcgKyAnc2FtZSBgbmFtZWAgaXMgbm90IHN1cHBvcnRlZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIFJlYWN0VXBkYXRlcy5hc2FwKGZvcmNlVXBkYXRlSWZNb3VudGVkLCBvdGhlckluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01JbnB1dDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG4gIHZhciBSZWFjdENoaWxkcmVuID0gcmVxdWlyZSgnLi9SZWFjdENoaWxkcmVuJyk7XG4gIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50VHJlZScpO1xuICB2YXIgUmVhY3RET01TZWxlY3QgPSByZXF1aXJlKCcuL1JlYWN0RE9NU2VsZWN0Jyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgUmVhY3RET01PcHRpb24gPSB7XG4gICAgbW91bnRXcmFwcGVyOiBmdW5jdGlvbihpbnN0LCBwcm9wcywgbmF0aXZlUGFyZW50KSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhwcm9wcy5zZWxlY3RlZCA9PSBudWxsLCAnVXNlIHRoZSBgZGVmYXVsdFZhbHVlYCBvciBgdmFsdWVgIHByb3BzIG9uIDxzZWxlY3Q+IGluc3RlYWQgb2YgJyArICdzZXR0aW5nIGBzZWxlY3RlZGAgb24gPG9wdGlvbj4uJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICB2YXIgc2VsZWN0VmFsdWUgPSBudWxsO1xuICAgICAgaWYgKG5hdGl2ZVBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgIHZhciBzZWxlY3RQYXJlbnQgPSBuYXRpdmVQYXJlbnQ7XG4gICAgICAgIGlmIChzZWxlY3RQYXJlbnQuX3RhZyA9PT0gJ29wdGdyb3VwJykge1xuICAgICAgICAgIHNlbGVjdFBhcmVudCA9IHNlbGVjdFBhcmVudC5fbmF0aXZlUGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RQYXJlbnQgIT0gbnVsbCAmJiBzZWxlY3RQYXJlbnQuX3RhZyA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgICAgICBzZWxlY3RWYWx1ZSA9IFJlYWN0RE9NU2VsZWN0LmdldFNlbGVjdFZhbHVlQ29udGV4dChzZWxlY3RQYXJlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgc2VsZWN0ZWQgPSBudWxsO1xuICAgICAgaWYgKHNlbGVjdFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0VmFsdWUpKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCcnICsgc2VsZWN0VmFsdWVbaV0gPT09ICcnICsgcHJvcHMudmFsdWUpIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZWN0ZWQgPSAnJyArIHNlbGVjdFZhbHVlID09PSAnJyArIHByb3BzLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpbnN0Ll93cmFwcGVyU3RhdGUgPSB7c2VsZWN0ZWQ6IHNlbGVjdGVkfTtcbiAgICB9LFxuICAgIHBvc3RNb3VudFdyYXBwZXI6IGZ1bmN0aW9uKGluc3QpIHtcbiAgICAgIHZhciBwcm9wcyA9IGluc3QuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgICAgaWYgKHByb3BzLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KTtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcHJvcHMudmFsdWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0TmF0aXZlUHJvcHM6IGZ1bmN0aW9uKGluc3QsIHByb3BzKSB7XG4gICAgICB2YXIgbmF0aXZlUHJvcHMgPSBfYXNzaWduKHtcbiAgICAgICAgc2VsZWN0ZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICAgICAgfSwgcHJvcHMpO1xuICAgICAgaWYgKGluc3QuX3dyYXBwZXJTdGF0ZS5zZWxlY3RlZCAhPSBudWxsKSB7XG4gICAgICAgIG5hdGl2ZVByb3BzLnNlbGVjdGVkID0gaW5zdC5fd3JhcHBlclN0YXRlLnNlbGVjdGVkO1xuICAgICAgfVxuICAgICAgdmFyIGNvbnRlbnQgPSAnJztcbiAgICAgIFJlYWN0Q2hpbGRyZW4uZm9yRWFjaChwcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgaWYgKGNoaWxkID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGNoaWxkID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnRlbnQgKz0gY2hpbGQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdPbmx5IHN0cmluZ3MgYW5kIG51bWJlcnMgYXJlIHN1cHBvcnRlZCBhcyA8b3B0aW9uPiBjaGlsZHJlbi4nKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoY29udGVudCkge1xuICAgICAgICBuYXRpdmVQcm9wcy5jaGlsZHJlbiA9IGNvbnRlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlUHJvcHM7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NT3B0aW9uO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbiAgdmFyIERpc2FibGVkSW5wdXRVdGlscyA9IHJlcXVpcmUoJy4vRGlzYWJsZWRJbnB1dFV0aWxzJyk7XG4gIHZhciBMaW5rZWRWYWx1ZVV0aWxzID0gcmVxdWlyZSgnLi9MaW5rZWRWYWx1ZVV0aWxzJyk7XG4gIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50VHJlZScpO1xuICB2YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZSgnLi9SZWFjdFVwZGF0ZXMnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBkaWRXYXJuVmFsdWVMaW5rID0gZmFsc2U7XG4gIHZhciBkaWRXYXJuVmFsdWVOdWxsID0gZmFsc2U7XG4gIHZhciBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUgPSBmYWxzZTtcbiAgZnVuY3Rpb24gdXBkYXRlT3B0aW9uc0lmUGVuZGluZ1VwZGF0ZUFuZE1vdW50ZWQoKSB7XG4gICAgaWYgKHRoaXMuX3Jvb3ROb2RlSUQgJiYgdGhpcy5fd3JhcHBlclN0YXRlLnBlbmRpbmdVcGRhdGUpIHtcbiAgICAgIHRoaXMuX3dyYXBwZXJTdGF0ZS5wZW5kaW5nVXBkYXRlID0gZmFsc2U7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLl9jdXJyZW50RWxlbWVudC5wcm9wcztcbiAgICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgdXBkYXRlT3B0aW9ucyh0aGlzLCBCb29sZWFuKHByb3BzLm11bHRpcGxlKSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0ob3duZXIpIHtcbiAgICBpZiAob3duZXIpIHtcbiAgICAgIHZhciBuYW1lID0gb3duZXIuZ2V0TmFtZSgpO1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIGZ1bmN0aW9uIHdhcm5JZlZhbHVlSXNOdWxsKHByb3BzKSB7XG4gICAgaWYgKHByb3BzICE9IG51bGwgJiYgcHJvcHMudmFsdWUgPT09IG51bGwgJiYgIWRpZFdhcm5WYWx1ZU51bGwpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYHZhbHVlYCBwcm9wIG9uIGBzZWxlY3RgIHNob3VsZCBub3QgYmUgbnVsbC4gJyArICdDb25zaWRlciB1c2luZyB0aGUgZW1wdHkgc3RyaW5nIHRvIGNsZWFyIHRoZSBjb21wb25lbnQgb3IgYHVuZGVmaW5lZGAgJyArICdmb3IgdW5jb250cm9sbGVkIGNvbXBvbmVudHMuJykgOiB2b2lkIDA7XG4gICAgICBkaWRXYXJuVmFsdWVOdWxsID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgdmFyIHZhbHVlUHJvcE5hbWVzID0gWyd2YWx1ZScsICdkZWZhdWx0VmFsdWUnXTtcbiAgZnVuY3Rpb24gY2hlY2tTZWxlY3RQcm9wVHlwZXMoaW5zdCwgcHJvcHMpIHtcbiAgICB2YXIgb3duZXIgPSBpbnN0Ll9jdXJyZW50RWxlbWVudC5fb3duZXI7XG4gICAgTGlua2VkVmFsdWVVdGlscy5jaGVja1Byb3BUeXBlcygnc2VsZWN0JywgcHJvcHMsIG93bmVyKTtcbiAgICBpZiAocHJvcHMudmFsdWVMaW5rICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZUxpbmspIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYHZhbHVlTGlua2AgcHJvcCBvbiBgc2VsZWN0YCBpcyBkZXByZWNhdGVkOyBzZXQgYHZhbHVlYCBhbmQgYG9uQ2hhbmdlYCBpbnN0ZWFkLicpIDogdm9pZCAwO1xuICAgICAgZGlkV2FyblZhbHVlTGluayA9IHRydWU7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVQcm9wTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwcm9wTmFtZSA9IHZhbHVlUHJvcE5hbWVzW2ldO1xuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BzLm11bHRpcGxlKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKEFycmF5LmlzQXJyYXkocHJvcHNbcHJvcE5hbWVdKSwgJ1RoZSBgJXNgIHByb3Agc3VwcGxpZWQgdG8gPHNlbGVjdD4gbXVzdCBiZSBhbiBhcnJheSBpZiAnICsgJ2BtdWx0aXBsZWAgaXMgdHJ1ZS4lcycsIHByb3BOYW1lLCBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0ob3duZXIpKSA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFBcnJheS5pc0FycmF5KHByb3BzW3Byb3BOYW1lXSksICdUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYSBzY2FsYXIgJyArICd2YWx1ZSBpZiBgbXVsdGlwbGVgIGlzIGZhbHNlLiVzJywgcHJvcE5hbWUsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShvd25lcikpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKGluc3QsIG11bHRpcGxlLCBwcm9wVmFsdWUpIHtcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSxcbiAgICAgICAgaTtcbiAgICB2YXIgb3B0aW9ucyA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKGluc3QpLm9wdGlvbnM7XG4gICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICBzZWxlY3RlZFZhbHVlID0ge307XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNlbGVjdGVkVmFsdWVbJycgKyBwcm9wVmFsdWVbaV1dID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IHNlbGVjdGVkVmFsdWUuaGFzT3duUHJvcGVydHkob3B0aW9uc1tpXS52YWx1ZSk7XG4gICAgICAgIGlmIChvcHRpb25zW2ldLnNlbGVjdGVkICE9PSBzZWxlY3RlZCkge1xuICAgICAgICAgIG9wdGlvbnNbaV0uc2VsZWN0ZWQgPSBzZWxlY3RlZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3RlZFZhbHVlID0gJycgKyBwcm9wVmFsdWU7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAob3B0aW9uc1tpXS52YWx1ZSA9PT0gc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgIG9wdGlvbnNbaV0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIG9wdGlvbnNbMF0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB2YXIgUmVhY3RET01TZWxlY3QgPSB7XG4gICAgZ2V0TmF0aXZlUHJvcHM6IGZ1bmN0aW9uKGluc3QsIHByb3BzKSB7XG4gICAgICByZXR1cm4gX2Fzc2lnbih7fSwgRGlzYWJsZWRJbnB1dFV0aWxzLmdldE5hdGl2ZVByb3BzKGluc3QsIHByb3BzKSwge1xuICAgICAgICBvbkNoYW5nZTogaW5zdC5fd3JhcHBlclN0YXRlLm9uQ2hhbmdlLFxuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG1vdW50V3JhcHBlcjogZnVuY3Rpb24oaW5zdCwgcHJvcHMpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGNoZWNrU2VsZWN0UHJvcFR5cGVzKGluc3QsIHByb3BzKTtcbiAgICAgICAgd2FybklmVmFsdWVJc051bGwocHJvcHMpO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gTGlua2VkVmFsdWVVdGlscy5nZXRWYWx1ZShwcm9wcyk7XG4gICAgICBpbnN0Ll93cmFwcGVyU3RhdGUgPSB7XG4gICAgICAgIHBlbmRpbmdVcGRhdGU6IGZhbHNlLFxuICAgICAgICBpbml0aWFsVmFsdWU6IHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6IHByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgbGlzdGVuZXJzOiBudWxsLFxuICAgICAgICBvbkNoYW5nZTogX2hhbmRsZUNoYW5nZS5iaW5kKGluc3QpLFxuICAgICAgICB3YXNNdWx0aXBsZTogQm9vbGVhbihwcm9wcy5tdWx0aXBsZSlcbiAgICAgIH07XG4gICAgICBpZiAocHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5kZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnU2VsZWN0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBzZWxlY3QgJyArICdlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnKSA6IHZvaWQgMDtcbiAgICAgICAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFNlbGVjdFZhbHVlQ29udGV4dDogZnVuY3Rpb24oaW5zdCkge1xuICAgICAgcmV0dXJuIGluc3QuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU7XG4gICAgfSxcbiAgICBwb3N0VXBkYXRlV3JhcHBlcjogZnVuY3Rpb24oaW5zdCkge1xuICAgICAgdmFyIHByb3BzID0gaW5zdC5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcyk7XG4gICAgICB9XG4gICAgICBpbnN0Ll93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgdmFyIHdhc011bHRpcGxlID0gaW5zdC5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlO1xuICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlID0gQm9vbGVhbihwcm9wcy5tdWx0aXBsZSk7XG4gICAgICB2YXIgdmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldFZhbHVlKHByb3BzKTtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGluc3QuX3dyYXBwZXJTdGF0ZS5wZW5kaW5nVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIHVwZGF0ZU9wdGlvbnMoaW5zdCwgQm9vbGVhbihwcm9wcy5tdWx0aXBsZSksIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAod2FzTXVsdGlwbGUgIT09IEJvb2xlYW4ocHJvcHMubXVsdGlwbGUpKSB7XG4gICAgICAgIGlmIChwcm9wcy5kZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIHVwZGF0ZU9wdGlvbnMoaW5zdCwgQm9vbGVhbihwcm9wcy5tdWx0aXBsZSksIHByb3BzLmRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBkYXRlT3B0aW9ucyhpbnN0LCBCb29sZWFuKHByb3BzLm11bHRpcGxlKSwgcHJvcHMubXVsdGlwbGUgPyBbXSA6ICcnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShldmVudCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgIHZhciByZXR1cm5WYWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZXhlY3V0ZU9uQ2hhbmdlKHByb3BzLCBldmVudCk7XG4gICAgaWYgKHRoaXMuX3Jvb3ROb2RlSUQpIHtcbiAgICAgIHRoaXMuX3dyYXBwZXJTdGF0ZS5wZW5kaW5nVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgUmVhY3RVcGRhdGVzLmFzYXAodXBkYXRlT3B0aW9uc0lmUGVuZGluZ1VwZGF0ZUFuZE1vdW50ZWQsIHRoaXMpO1xuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NU2VsZWN0O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBEaXNhYmxlZElucHV0VXRpbHNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBkaXNhYmxlYWJsZU1vdXNlTGlzdGVuZXJOYW1lcyA9IHtcbiAgb25DbGljazogdHJ1ZSxcbiAgb25Eb3VibGVDbGljazogdHJ1ZSxcbiAgb25Nb3VzZURvd246IHRydWUsXG4gIG9uTW91c2VNb3ZlOiB0cnVlLFxuICBvbk1vdXNlVXA6IHRydWUsXG5cbiAgb25DbGlja0NhcHR1cmU6IHRydWUsXG4gIG9uRG91YmxlQ2xpY2tDYXB0dXJlOiB0cnVlLFxuICBvbk1vdXNlRG93bkNhcHR1cmU6IHRydWUsXG4gIG9uTW91c2VNb3ZlQ2FwdHVyZTogdHJ1ZSxcbiAgb25Nb3VzZVVwQ2FwdHVyZTogdHJ1ZVxufTtcblxuLyoqXG4gKiBJbXBsZW1lbnRzIGEgbmF0aXZlIGNvbXBvbmVudCB0aGF0IGRvZXMgbm90IHJlY2VpdmUgbW91c2UgZXZlbnRzXG4gKiB3aGVuIGBkaXNhYmxlZGAgaXMgc2V0LlxuICovXG52YXIgRGlzYWJsZWRJbnB1dFV0aWxzID0ge1xuICBnZXROYXRpdmVQcm9wczogZnVuY3Rpb24gKGluc3QsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH1cblxuICAgIC8vIENvcHkgdGhlIHByb3BzLCBleGNlcHQgdGhlIG1vdXNlIGxpc3RlbmVyc1xuICAgIHZhciBuYXRpdmVQcm9wcyA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgaWYgKCFkaXNhYmxlYWJsZU1vdXNlTGlzdGVuZXJOYW1lc1trZXldICYmIHByb3BzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgbmF0aXZlUHJvcHNba2V5XSA9IHByb3BzW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5hdGl2ZVByb3BzO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERpc2FibGVkSW5wdXRVdGlsczsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eScpO1xuICB2YXIgRXZlbnRQbHVnaW5SZWdpc3RyeSA9IHJlcXVpcmUoJy4vRXZlbnRQbHVnaW5SZWdpc3RyeScpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgcmVhY3RQcm9wcyA9IHtcbiAgICAgIGNoaWxkcmVuOiB0cnVlLFxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHRydWUsXG4gICAgICBrZXk6IHRydWUsXG4gICAgICByZWY6IHRydWVcbiAgICB9O1xuICAgIHZhciB3YXJuZWRQcm9wZXJ0aWVzID0ge307XG4gICAgdmFyIHdhcm5Vbmtub3duUHJvcGVydHkgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICBpZiAoRE9NUHJvcGVydHkucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSB8fCBET01Qcm9wZXJ0eS5pc0N1c3RvbUF0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocmVhY3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiByZWFjdFByb3BzW25hbWVdIHx8IHdhcm5lZFByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgd2FybmVkUHJvcGVydGllc1tuYW1lXSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gdHJ1ZTtcbiAgICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHZhciBzdGFuZGFyZE5hbWUgPSBET01Qcm9wZXJ0eS5pc0N1c3RvbUF0dHJpYnV0ZShsb3dlckNhc2VkTmFtZSkgPyBsb3dlckNhc2VkTmFtZSA6IERPTVByb3BlcnR5LmdldFBvc3NpYmxlU3RhbmRhcmROYW1lLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKSA/IERPTVByb3BlcnR5LmdldFBvc3NpYmxlU3RhbmRhcmROYW1lW2xvd2VyQ2FzZWROYW1lXSA6IG51bGw7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhzdGFuZGFyZE5hbWUgPT0gbnVsbCwgJ1Vua25vd24gRE9NIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gJXM/JywgbmFtZSwgc3RhbmRhcmROYW1lKSA6IHZvaWQgMDtcbiAgICAgIHZhciByZWdpc3RyYXRpb25OYW1lID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5wb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKSA/IEV2ZW50UGx1Z2luUmVnaXN0cnkucG9zc2libGVSZWdpc3RyYXRpb25OYW1lc1tsb3dlckNhc2VkTmFtZV0gOiBudWxsO1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcocmVnaXN0cmF0aW9uTmFtZSA9PSBudWxsLCAnVW5rbm93biBldmVudCBoYW5kbGVyIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gYCVzYD8nLCBuYW1lLCByZWdpc3RyYXRpb25OYW1lKSA6IHZvaWQgMDtcbiAgICB9O1xuICB9XG4gIHZhciBSZWFjdERPTVVua25vd25Qcm9wZXJ0eURldnRvb2wgPSB7XG4gICAgb25DcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eTogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHdhcm5Vbmtub3duUHJvcGVydHkobmFtZSk7XG4gICAgfSxcbiAgICBvblNldFZhbHVlRm9yUHJvcGVydHk6IGZ1bmN0aW9uKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgICB3YXJuVW5rbm93blByb3BlcnR5KG5hbWUpO1xuICAgIH0sXG4gICAgb25EZWxldGVWYWx1ZUZvclByb3BlcnR5OiBmdW5jdGlvbihub2RlLCBuYW1lKSB7XG4gICAgICB3YXJuVW5rbm93blByb3BlcnR5KG5hbWUpO1xuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTVVua25vd25Qcm9wZXJ0eURldnRvb2w7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBSZWFjdERPTVVua25vd25Qcm9wZXJ0eURldnRvb2wgPSByZXF1aXJlKCcuL1JlYWN0RE9NVW5rbm93blByb3BlcnR5RGV2dG9vbCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIGV2ZW50SGFuZGxlcnMgPSBbXTtcbiAgdmFyIGhhbmRsZXJEb2VzVGhyb3dGb3JFdmVudCA9IHt9O1xuICBmdW5jdGlvbiBlbWl0RXZlbnQoaGFuZGxlckZ1bmN0aW9uTmFtZSwgYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBldmVudEhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChoYW5kbGVyW2hhbmRsZXJGdW5jdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICBoYW5kbGVyW2hhbmRsZXJGdW5jdGlvbk5hbWVdKGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFoYW5kbGVyRG9lc1Rocm93Rm9yRXZlbnRbaGFuZGxlckZ1bmN0aW9uTmFtZV0sICdleGNlcHRpb24gdGhyb3duIGJ5IGRldnRvb2wgd2hpbGUgaGFuZGxpbmcgJXM6ICVzJywgaGFuZGxlckZ1bmN0aW9uTmFtZSwgZS5tZXNzYWdlKSA6IHZvaWQgMDtcbiAgICAgICAgICBoYW5kbGVyRG9lc1Rocm93Rm9yRXZlbnRbaGFuZGxlckZ1bmN0aW9uTmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgdmFyIFJlYWN0RE9NRGVidWdUb29sID0ge1xuICAgIGFkZERldnRvb2w6IGZ1bmN0aW9uKGRldnRvb2wpIHtcbiAgICAgIGV2ZW50SGFuZGxlcnMucHVzaChkZXZ0b29sKTtcbiAgICB9LFxuICAgIHJlbW92ZURldnRvb2w6IGZ1bmN0aW9uKGRldnRvb2wpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZXZlbnRIYW5kbGVyc1tpXSA9PT0gZGV2dG9vbCkge1xuICAgICAgICAgIGV2ZW50SGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgb25DcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eTogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIGVtaXRFdmVudCgnb25DcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eScsIG5hbWUsIHZhbHVlKTtcbiAgICB9LFxuICAgIG9uU2V0VmFsdWVGb3JQcm9wZXJ0eTogZnVuY3Rpb24obm9kZSwgbmFtZSwgdmFsdWUpIHtcbiAgICAgIGVtaXRFdmVudCgnb25TZXRWYWx1ZUZvclByb3BlcnR5Jywgbm9kZSwgbmFtZSwgdmFsdWUpO1xuICAgIH0sXG4gICAgb25EZWxldGVWYWx1ZUZvclByb3BlcnR5OiBmdW5jdGlvbihub2RlLCBuYW1lKSB7XG4gICAgICBlbWl0RXZlbnQoJ29uRGVsZXRlVmFsdWVGb3JQcm9wZXJ0eScsIG5vZGUsIG5hbWUpO1xuICAgIH1cbiAgfTtcbiAgUmVhY3RET01EZWJ1Z1Rvb2wuYWRkRGV2dG9vbChSZWFjdERPTVVua25vd25Qcm9wZXJ0eURldnRvb2wpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NRGVidWdUb29sO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIFJlYWN0RE9NRGVidWdUb29sID0gcmVxdWlyZSgnLi9SZWFjdERPTURlYnVnVG9vbCcpO1xubW9kdWxlLmV4cG9ydHMgPSB7ZGVidWdUb29sOiBSZWFjdERPTURlYnVnVG9vbH07XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIgPSByZXF1aXJlKCcuL2VzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlcicpO1xuZnVuY3Rpb24gcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXIodmFsdWUpIHtcbiAgcmV0dXJuICdcIicgKyBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIodmFsdWUpICsgJ1wiJztcbn1cbm1vZHVsZS5leHBvcnRzID0gcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXI7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eScpO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gcmVxdWlyZSgnLi9SZWFjdERPTUNvbXBvbmVudFRyZWUnKTtcbiAgdmFyIFJlYWN0RE9NSW5zdHJ1bWVudGF0aW9uID0gcmVxdWlyZSgnLi9SZWFjdERPTUluc3RydW1lbnRhdGlvbicpO1xuICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSByZXF1aXJlKCcuL1JlYWN0SW5zdHJ1bWVudGF0aW9uJyk7XG4gIHZhciBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3NlciA9IHJlcXVpcmUoJy4vcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXInKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBWQUxJRF9BVFRSSUJVVEVfTkFNRV9SRUdFWCA9IG5ldyBSZWdFeHAoJ15bJyArIERPTVByb3BlcnR5LkFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVIgKyAnXVsnICsgRE9NUHJvcGVydHkuQVRUUklCVVRFX05BTUVfQ0hBUiArICddKiQnKTtcbiAgdmFyIGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUgPSB7fTtcbiAgdmFyIHZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZSA9IHt9O1xuICBmdW5jdGlvbiBpc0F0dHJpYnV0ZU5hbWVTYWZlKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICBpZiAodmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUuaGFzT3duUHJvcGVydHkoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFZBTElEX0FUVFJJQlVURV9OQU1FX1JFR0VYLnRlc3QoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgIHZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZVthdHRyaWJ1dGVOYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZVthdHRyaWJ1dGVOYW1lXSA9IHRydWU7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lOiBgJXNgJywgYXR0cmlidXRlTmFtZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHNob3VsZElnbm9yZVZhbHVlKHByb3BlcnR5SW5mbywgdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCB8fCBwcm9wZXJ0eUluZm8uaGFzQm9vbGVhblZhbHVlICYmICF2YWx1ZSB8fCBwcm9wZXJ0eUluZm8uaGFzTnVtZXJpY1ZhbHVlICYmIGlzTmFOKHZhbHVlKSB8fCBwcm9wZXJ0eUluZm8uaGFzUG9zaXRpdmVOdW1lcmljVmFsdWUgJiYgdmFsdWUgPCAxIHx8IHByb3BlcnR5SW5mby5oYXNPdmVybG9hZGVkQm9vbGVhblZhbHVlICYmIHZhbHVlID09PSBmYWxzZTtcbiAgfVxuICB2YXIgRE9NUHJvcGVydHlPcGVyYXRpb25zID0ge1xuICAgIGNyZWF0ZU1hcmt1cEZvcklEOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIERPTVByb3BlcnR5LklEX0FUVFJJQlVURV9OQU1FICsgJz0nICsgcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXIoaWQpO1xuICAgIH0sXG4gICAgc2V0QXR0cmlidXRlRm9ySUQ6IGZ1bmN0aW9uKG5vZGUsIGlkKSB7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZShET01Qcm9wZXJ0eS5JRF9BVFRSSUJVVEVfTkFNRSwgaWQpO1xuICAgIH0sXG4gICAgY3JlYXRlTWFya3VwRm9yUm9vdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRE9NUHJvcGVydHkuUk9PVF9BVFRSSUJVVEVfTkFNRSArICc9XCJcIic7XG4gICAgfSxcbiAgICBzZXRBdHRyaWJ1dGVGb3JSb290OiBmdW5jdGlvbihub2RlKSB7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZShET01Qcm9wZXJ0eS5ST09UX0FUVFJJQlVURV9OQU1FLCAnJyk7XG4gICAgfSxcbiAgICBjcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eTogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0RE9NSW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkNyZWF0ZU1hcmt1cEZvclByb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wZXJ0eUluZm8gPSBET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KG5hbWUpID8gRE9NUHJvcGVydHkucHJvcGVydGllc1tuYW1lXSA6IG51bGw7XG4gICAgICBpZiAocHJvcGVydHlJbmZvKSB7XG4gICAgICAgIGlmIChzaG91bGRJZ25vcmVWYWx1ZShwcm9wZXJ0eUluZm8sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lO1xuICAgICAgICBpZiAocHJvcGVydHlJbmZvLmhhc0Jvb2xlYW5WYWx1ZSB8fCBwcm9wZXJ0eUluZm8uaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZSAmJiB2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGVOYW1lICsgJz1cIlwiJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0cmlidXRlTmFtZSArICc9JyArIHF1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoRE9NUHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hbWUgKyAnPScgKyBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3Nlcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGNyZWF0ZU1hcmt1cEZvckN1c3RvbUF0dHJpYnV0ZTogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmICghaXNBdHRyaWJ1dGVOYW1lU2FmZShuYW1lKSB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYW1lICsgJz0nICsgcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXIodmFsdWUpO1xuICAgIH0sXG4gICAgc2V0VmFsdWVGb3JQcm9wZXJ0eTogZnVuY3Rpb24obm9kZSwgbmFtZSwgdmFsdWUpIHtcbiAgICAgIHZhciBwcm9wZXJ0eUluZm8gPSBET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KG5hbWUpID8gRE9NUHJvcGVydHkucHJvcGVydGllc1tuYW1lXSA6IG51bGw7XG4gICAgICBpZiAocHJvcGVydHlJbmZvKSB7XG4gICAgICAgIHZhciBtdXRhdGlvbk1ldGhvZCA9IHByb3BlcnR5SW5mby5tdXRhdGlvbk1ldGhvZDtcbiAgICAgICAgaWYgKG11dGF0aW9uTWV0aG9kKSB7XG4gICAgICAgICAgbXV0YXRpb25NZXRob2Qobm9kZSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHNob3VsZElnbm9yZVZhbHVlKHByb3BlcnR5SW5mbywgdmFsdWUpKSB7XG4gICAgICAgICAgdGhpcy5kZWxldGVWYWx1ZUZvclByb3BlcnR5KG5vZGUsIG5hbWUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eUluZm8ubXVzdFVzZVByb3BlcnR5KSB7XG4gICAgICAgICAgdmFyIHByb3BOYW1lID0gcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZTtcbiAgICAgICAgICBpZiAoIXByb3BlcnR5SW5mby5oYXNTaWRlRWZmZWN0cyB8fCAnJyArIG5vZGVbcHJvcE5hbWVdICE9PSAnJyArIHZhbHVlKSB7XG4gICAgICAgICAgICBub2RlW3Byb3BOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lO1xuICAgICAgICAgIHZhciBuYW1lc3BhY2UgPSBwcm9wZXJ0eUluZm8uYXR0cmlidXRlTmFtZXNwYWNlO1xuICAgICAgICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlTlMobmFtZXNwYWNlLCBhdHRyaWJ1dGVOYW1lLCAnJyArIHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHByb3BlcnR5SW5mby5oYXNCb29sZWFuVmFsdWUgfHwgcHJvcGVydHlJbmZvLmhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWUgJiYgdmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsICcnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgJycgKyB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5zZXRWYWx1ZUZvckF0dHJpYnV0ZShub2RlLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0RE9NSW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldFZhbHVlRm9yUHJvcGVydHkobm9kZSwgbmFtZSwgdmFsdWUpO1xuICAgICAgICB2YXIgcGF5bG9hZCA9IHt9O1xuICAgICAgICBwYXlsb2FkW25hbWVdID0gdmFsdWU7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShub2RlKS5fZGVidWdJRCwgJ3VwZGF0ZSBhdHRyaWJ1dGUnLCBwYXlsb2FkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldFZhbHVlRm9yQXR0cmlidXRlOiBmdW5jdGlvbihub2RlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgaWYgKCFpc0F0dHJpYnV0ZU5hbWVTYWZlKG5hbWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgJycgKyB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YXIgcGF5bG9hZCA9IHt9O1xuICAgICAgICBwYXlsb2FkW25hbWVdID0gdmFsdWU7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShub2RlKS5fZGVidWdJRCwgJ3VwZGF0ZSBhdHRyaWJ1dGUnLCBwYXlsb2FkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRlbGV0ZVZhbHVlRm9yUHJvcGVydHk6IGZ1bmN0aW9uKG5vZGUsIG5hbWUpIHtcbiAgICAgIHZhciBwcm9wZXJ0eUluZm8gPSBET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KG5hbWUpID8gRE9NUHJvcGVydHkucHJvcGVydGllc1tuYW1lXSA6IG51bGw7XG4gICAgICBpZiAocHJvcGVydHlJbmZvKSB7XG4gICAgICAgIHZhciBtdXRhdGlvbk1ldGhvZCA9IHByb3BlcnR5SW5mby5tdXRhdGlvbk1ldGhvZDtcbiAgICAgICAgaWYgKG11dGF0aW9uTWV0aG9kKSB7XG4gICAgICAgICAgbXV0YXRpb25NZXRob2Qobm9kZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eUluZm8ubXVzdFVzZVByb3BlcnR5KSB7XG4gICAgICAgICAgdmFyIHByb3BOYW1lID0gcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZTtcbiAgICAgICAgICBpZiAocHJvcGVydHlJbmZvLmhhc0Jvb2xlYW5WYWx1ZSkge1xuICAgICAgICAgICAgbm9kZVtwcm9wTmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eUluZm8uaGFzU2lkZUVmZmVjdHMgfHwgJycgKyBub2RlW3Byb3BOYW1lXSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgbm9kZVtwcm9wTmFtZV0gPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUocHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgUmVhY3RET01JbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRGVsZXRlVmFsdWVGb3JQcm9wZXJ0eShub2RlLCBuYW1lKTtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRJbnN0YW5jZUZyb21Ob2RlKG5vZGUpLl9kZWJ1Z0lELCAncmVtb3ZlIGF0dHJpYnV0ZScsIG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBET01Qcm9wZXJ0eU9wZXJhdGlvbnM7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHJlcXVpcmUoJy4vUmVhY3RQcm9wVHlwZXMnKTtcbiAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbnMnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIGhhc1JlYWRPbmx5VmFsdWUgPSB7XG4gICAgJ2J1dHRvbic6IHRydWUsXG4gICAgJ2NoZWNrYm94JzogdHJ1ZSxcbiAgICAnaW1hZ2UnOiB0cnVlLFxuICAgICdoaWRkZW4nOiB0cnVlLFxuICAgICdyYWRpbyc6IHRydWUsXG4gICAgJ3Jlc2V0JzogdHJ1ZSxcbiAgICAnc3VibWl0JzogdHJ1ZVxuICB9O1xuICBmdW5jdGlvbiBfYXNzZXJ0U2luZ2xlTGluayhpbnB1dFByb3BzKSB7XG4gICAgIShpbnB1dFByb3BzLmNoZWNrZWRMaW5rID09IG51bGwgfHwgaW5wdXRQcm9wcy52YWx1ZUxpbmsgPT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHByb3ZpZGUgYSBjaGVja2VkTGluayBhbmQgYSB2YWx1ZUxpbmsuIElmIHlvdSB3YW50IHRvIHVzZSAnICsgJ2NoZWNrZWRMaW5rLCB5b3UgcHJvYmFibHkgZG9uXFwndCB3YW50IHRvIHVzZSB2YWx1ZUxpbmsgYW5kIHZpY2UgdmVyc2EuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB9XG4gIGZ1bmN0aW9uIF9hc3NlcnRWYWx1ZUxpbmsoaW5wdXRQcm9wcykge1xuICAgIF9hc3NlcnRTaW5nbGVMaW5rKGlucHV0UHJvcHMpO1xuICAgICEoaW5wdXRQcm9wcy52YWx1ZSA9PSBudWxsICYmIGlucHV0UHJvcHMub25DaGFuZ2UgPT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHByb3ZpZGUgYSB2YWx1ZUxpbmsgYW5kIGEgdmFsdWUgb3Igb25DaGFuZ2UgZXZlbnQuIElmIHlvdSB3YW50ICcgKyAndG8gdXNlIHZhbHVlIG9yIG9uQ2hhbmdlLCB5b3UgcHJvYmFibHkgZG9uXFwndCB3YW50IHRvIHVzZSB2YWx1ZUxpbmsuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB9XG4gIGZ1bmN0aW9uIF9hc3NlcnRDaGVja2VkTGluayhpbnB1dFByb3BzKSB7XG4gICAgX2Fzc2VydFNpbmdsZUxpbmsoaW5wdXRQcm9wcyk7XG4gICAgIShpbnB1dFByb3BzLmNoZWNrZWQgPT0gbnVsbCAmJiBpbnB1dFByb3BzLm9uQ2hhbmdlID09IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBwcm92aWRlIGEgY2hlY2tlZExpbmsgYW5kIGEgY2hlY2tlZCBwcm9wZXJ0eSBvciBvbkNoYW5nZSBldmVudC4gJyArICdJZiB5b3Ugd2FudCB0byB1c2UgY2hlY2tlZCBvciBvbkNoYW5nZSwgeW91IHByb2JhYmx5IGRvblxcJ3Qgd2FudCB0byAnICsgJ3VzZSBjaGVja2VkTGluaycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgfVxuICB2YXIgcHJvcFR5cGVzID0ge1xuICAgIHZhbHVlOiBmdW5jdGlvbihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICAgIGlmICghcHJvcHNbcHJvcE5hbWVdIHx8IGhhc1JlYWRPbmx5VmFsdWVbcHJvcHMudHlwZV0gfHwgcHJvcHMub25DaGFuZ2UgfHwgcHJvcHMucmVhZE9ubHkgfHwgcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdZb3UgcHJvdmlkZWQgYSBgdmFsdWVgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gJyArICdgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgZmllbGQuIElmICcgKyAndGhlIGZpZWxkIHNob3VsZCBiZSBtdXRhYmxlIHVzZSBgZGVmYXVsdFZhbHVlYC4gT3RoZXJ3aXNlLCAnICsgJ3NldCBlaXRoZXIgYG9uQ2hhbmdlYCBvciBgcmVhZE9ubHlgLicpO1xuICAgIH0sXG4gICAgY2hlY2tlZDogZnVuY3Rpb24ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICBpZiAoIXByb3BzW3Byb3BOYW1lXSB8fCBwcm9wcy5vbkNoYW5nZSB8fCBwcm9wcy5yZWFkT25seSB8fCBwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1lvdSBwcm92aWRlZCBhIGBjaGVja2VkYCBwcm9wIHRvIGEgZm9ybSBmaWVsZCB3aXRob3V0IGFuICcgKyAnYG9uQ2hhbmdlYCBoYW5kbGVyLiBUaGlzIHdpbGwgcmVuZGVyIGEgcmVhZC1vbmx5IGZpZWxkLiBJZiAnICsgJ3RoZSBmaWVsZCBzaG91bGQgYmUgbXV0YWJsZSB1c2UgYGRlZmF1bHRDaGVja2VkYC4gT3RoZXJ3aXNlLCAnICsgJ3NldCBlaXRoZXIgYG9uQ2hhbmdlYCBvciBgcmVhZE9ubHlgLicpO1xuICAgIH0sXG4gICAgb25DaGFuZ2U6IFJlYWN0UHJvcFR5cGVzLmZ1bmNcbiAgfTtcbiAgdmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuICBmdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0ob3duZXIpIHtcbiAgICBpZiAob3duZXIpIHtcbiAgICAgIHZhciBuYW1lID0gb3duZXIuZ2V0TmFtZSgpO1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHZhciBMaW5rZWRWYWx1ZVV0aWxzID0ge1xuICAgIGNoZWNrUHJvcFR5cGVzOiBmdW5jdGlvbih0YWdOYW1lLCBwcm9wcywgb3duZXIpIHtcbiAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIHByb3BUeXBlcykge1xuICAgICAgICBpZiAocHJvcFR5cGVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgIHZhciBlcnJvciA9IHByb3BUeXBlc1twcm9wTmFtZV0ocHJvcHMsIHByb3BOYW1lLCB0YWdOYW1lLCBSZWFjdFByb3BUeXBlTG9jYXRpb25zLnByb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgICAgbG9nZ2VkVHlwZUZhaWx1cmVzW2Vycm9yLm1lc3NhZ2VdID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgYWRkZW5kdW0gPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0ob3duZXIpO1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRmFpbGVkIGZvcm0gcHJvcFR5cGU6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFZhbHVlOiBmdW5jdGlvbihpbnB1dFByb3BzKSB7XG4gICAgICBpZiAoaW5wdXRQcm9wcy52YWx1ZUxpbmspIHtcbiAgICAgICAgX2Fzc2VydFZhbHVlTGluayhpbnB1dFByb3BzKTtcbiAgICAgICAgcmV0dXJuIGlucHV0UHJvcHMudmFsdWVMaW5rLnZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlucHV0UHJvcHMudmFsdWU7XG4gICAgfSxcbiAgICBnZXRDaGVja2VkOiBmdW5jdGlvbihpbnB1dFByb3BzKSB7XG4gICAgICBpZiAoaW5wdXRQcm9wcy5jaGVja2VkTGluaykge1xuICAgICAgICBfYXNzZXJ0Q2hlY2tlZExpbmsoaW5wdXRQcm9wcyk7XG4gICAgICAgIHJldHVybiBpbnB1dFByb3BzLmNoZWNrZWRMaW5rLnZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlucHV0UHJvcHMuY2hlY2tlZDtcbiAgICB9LFxuICAgIGV4ZWN1dGVPbkNoYW5nZTogZnVuY3Rpb24oaW5wdXRQcm9wcywgZXZlbnQpIHtcbiAgICAgIGlmIChpbnB1dFByb3BzLnZhbHVlTGluaykge1xuICAgICAgICBfYXNzZXJ0VmFsdWVMaW5rKGlucHV0UHJvcHMpO1xuICAgICAgICByZXR1cm4gaW5wdXRQcm9wcy52YWx1ZUxpbmsucmVxdWVzdENoYW5nZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChpbnB1dFByb3BzLmNoZWNrZWRMaW5rKSB7XG4gICAgICAgIF9hc3NlcnRDaGVja2VkTGluayhpbnB1dFByb3BzKTtcbiAgICAgICAgcmV0dXJuIGlucHV0UHJvcHMuY2hlY2tlZExpbmsucmVxdWVzdENoYW5nZShldmVudC50YXJnZXQuY2hlY2tlZCk7XG4gICAgICB9IGVsc2UgaWYgKGlucHV0UHJvcHMub25DaGFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0UHJvcHMub25DaGFuZ2UuY2FsbCh1bmRlZmluZWQsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gTGlua2VkVmFsdWVVdGlscztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG4gIHZhciBEaXNhYmxlZElucHV0VXRpbHMgPSByZXF1aXJlKCcuL0Rpc2FibGVkSW5wdXRVdGlscycpO1xuICB2YXIgRE9NUHJvcGVydHlPcGVyYXRpb25zID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eU9wZXJhdGlvbnMnKTtcbiAgdmFyIExpbmtlZFZhbHVlVXRpbHMgPSByZXF1aXJlKCcuL0xpbmtlZFZhbHVlVXRpbHMnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRUcmVlJyk7XG4gIHZhciBSZWFjdFVwZGF0ZXMgPSByZXF1aXJlKCcuL1JlYWN0VXBkYXRlcycpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgZGlkV2FyblZhbHVlTGluayA9IGZhbHNlO1xuICB2YXIgZGlkV2FyblZhbHVlTnVsbCA9IGZhbHNlO1xuICB2YXIgZGlkV2FyblZhbERlZmF1bHRWYWwgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZm9yY2VVcGRhdGVJZk1vdW50ZWQoKSB7XG4gICAgaWYgKHRoaXMuX3Jvb3ROb2RlSUQpIHtcbiAgICAgIFJlYWN0RE9NVGV4dGFyZWEudXBkYXRlV3JhcHBlcih0aGlzKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gd2FybklmVmFsdWVJc051bGwocHJvcHMpIHtcbiAgICBpZiAocHJvcHMgIT0gbnVsbCAmJiBwcm9wcy52YWx1ZSA9PT0gbnVsbCAmJiAhZGlkV2FyblZhbHVlTnVsbCkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdgdmFsdWVgIHByb3Agb24gYHRleHRhcmVhYCBzaG91bGQgbm90IGJlIG51bGwuICcgKyAnQ29uc2lkZXIgdXNpbmcgdGhlIGVtcHR5IHN0cmluZyB0byBjbGVhciB0aGUgY29tcG9uZW50IG9yIGB1bmRlZmluZWRgICcgKyAnZm9yIHVuY29udHJvbGxlZCBjb21wb25lbnRzLicpIDogdm9pZCAwO1xuICAgICAgZGlkV2FyblZhbHVlTnVsbCA9IHRydWU7XG4gICAgfVxuICB9XG4gIHZhciBSZWFjdERPTVRleHRhcmVhID0ge1xuICAgIGdldE5hdGl2ZVByb3BzOiBmdW5jdGlvbihpbnN0LCBwcm9wcykge1xuICAgICAgIShwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PSBudWxsKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgIGRvZXMgbm90IG1ha2Ugc2Vuc2Ugb24gPHRleHRhcmVhPi4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgbmF0aXZlUHJvcHMgPSBfYXNzaWduKHt9LCBEaXNhYmxlZElucHV0VXRpbHMuZ2V0TmF0aXZlUHJvcHMoaW5zdCwgcHJvcHMpLCB7XG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICBjaGlsZHJlbjogaW5zdC5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSxcbiAgICAgICAgb25DaGFuZ2U6IGluc3QuX3dyYXBwZXJTdGF0ZS5vbkNoYW5nZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmF0aXZlUHJvcHM7XG4gICAgfSxcbiAgICBtb3VudFdyYXBwZXI6IGZ1bmN0aW9uKGluc3QsIHByb3BzKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBMaW5rZWRWYWx1ZVV0aWxzLmNoZWNrUHJvcFR5cGVzKCd0ZXh0YXJlYScsIHByb3BzLCBpbnN0Ll9jdXJyZW50RWxlbWVudC5fb3duZXIpO1xuICAgICAgICBpZiAocHJvcHMudmFsdWVMaW5rICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZUxpbmspIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2B2YWx1ZUxpbmtgIHByb3Agb24gYHRleHRhcmVhYCBpcyBkZXByZWNhdGVkOyBzZXQgYHZhbHVlYCBhbmQgYG9uQ2hhbmdlYCBpbnN0ZWFkLicpIDogdm9pZCAwO1xuICAgICAgICAgIGRpZFdhcm5WYWx1ZUxpbmsgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuVmFsRGVmYXVsdFZhbCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnVGV4dGFyZWEgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgJyArICcoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCAnICsgJ2JvdGgpLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIHRleHRhcmVhICcgKyAnYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycpIDogdm9pZCAwO1xuICAgICAgICAgIGRpZFdhcm5WYWxEZWZhdWx0VmFsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB3YXJuSWZWYWx1ZUlzTnVsbChwcm9wcyk7XG4gICAgICB9XG4gICAgICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuICAgICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gICAgICBpZiAoY2hpbGRyZW4gIT0gbnVsbCkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnVXNlIHRoZSBgZGVmYXVsdFZhbHVlYCBvciBgdmFsdWVgIHByb3BzIGluc3RlYWQgb2Ygc2V0dGluZyAnICsgJ2NoaWxkcmVuIG9uIDx0ZXh0YXJlYT4uJykgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgIShkZWZhdWx0VmFsdWUgPT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnSWYgeW91IHN1cHBseSBgZGVmYXVsdFZhbHVlYCBvbiBhIDx0ZXh0YXJlYT4sIGRvIG5vdCBwYXNzIGNoaWxkcmVuLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgIShjaGlsZHJlbi5sZW5ndGggPD0gMSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnPHRleHRhcmVhPiBjYW4gb25seSBoYXZlIGF0IG1vc3Qgb25lIGNoaWxkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuWzBdO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9ICcnICsgY2hpbGRyZW47XG4gICAgICB9XG4gICAgICBpZiAoZGVmYXVsdFZhbHVlID09IG51bGwpIHtcbiAgICAgICAgZGVmYXVsdFZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldFZhbHVlKHByb3BzKTtcbiAgICAgIGluc3QuX3dyYXBwZXJTdGF0ZSA9IHtcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnJyArICh2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBkZWZhdWx0VmFsdWUpLFxuICAgICAgICBsaXN0ZW5lcnM6IG51bGwsXG4gICAgICAgIG9uQ2hhbmdlOiBfaGFuZGxlQ2hhbmdlLmJpbmQoaW5zdClcbiAgICAgIH07XG4gICAgfSxcbiAgICB1cGRhdGVXcmFwcGVyOiBmdW5jdGlvbihpbnN0KSB7XG4gICAgICB2YXIgcHJvcHMgPSBpbnN0Ll9jdXJyZW50RWxlbWVudC5wcm9wcztcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHdhcm5JZlZhbHVlSXNOdWxsKHByb3BzKTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLnNldFZhbHVlRm9yUHJvcGVydHkoUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCksICd2YWx1ZScsICcnICsgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShldmVudCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgIHZhciByZXR1cm5WYWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZXhlY3V0ZU9uQ2hhbmdlKHByb3BzLCBldmVudCk7XG4gICAgUmVhY3RVcGRhdGVzLmFzYXAoZm9yY2VVcGRhdGVJZk1vdW50ZWQsIHRoaXMpO1xuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NVGV4dGFyZWE7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBSZWFjdFJlY29uY2lsZXIgPSByZXF1aXJlKCcuL1JlYWN0UmVjb25jaWxlcicpO1xuICB2YXIgaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCcpO1xuICB2YXIgS2V5RXNjYXBlVXRpbHMgPSByZXF1aXJlKCcuL0tleUVzY2FwZVV0aWxzJyk7XG4gIHZhciBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQnKTtcbiAgdmFyIHRyYXZlcnNlQWxsQ2hpbGRyZW4gPSByZXF1aXJlKCcuL3RyYXZlcnNlQWxsQ2hpbGRyZW4nKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIGZ1bmN0aW9uIGluc3RhbnRpYXRlQ2hpbGQoY2hpbGRJbnN0YW5jZXMsIGNoaWxkLCBuYW1lKSB7XG4gICAgdmFyIGtleVVuaXF1ZSA9IGNoaWxkSW5zdGFuY2VzW25hbWVdID09PSB1bmRlZmluZWQ7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGtleVVuaXF1ZSwgJ2ZsYXR0ZW5DaGlsZHJlbiguLi4pOiBFbmNvdW50ZXJlZCB0d28gY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSBrZXksICcgKyAnYCVzYC4gQ2hpbGQga2V5cyBtdXN0IGJlIHVuaXF1ZTsgd2hlbiB0d28gY2hpbGRyZW4gc2hhcmUgYSBrZXksIG9ubHkgJyArICd0aGUgZmlyc3QgY2hpbGQgd2lsbCBiZSB1c2VkLicsIEtleUVzY2FwZVV0aWxzLnVuZXNjYXBlKG5hbWUpKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKGNoaWxkICE9IG51bGwgJiYga2V5VW5pcXVlKSB7XG4gICAgICBjaGlsZEluc3RhbmNlc1tuYW1lXSA9IGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQoY2hpbGQpO1xuICAgIH1cbiAgfVxuICB2YXIgUmVhY3RDaGlsZFJlY29uY2lsZXIgPSB7XG4gICAgaW5zdGFudGlhdGVDaGlsZHJlbjogZnVuY3Rpb24obmVzdGVkQ2hpbGROb2RlcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgIGlmIChuZXN0ZWRDaGlsZE5vZGVzID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRJbnN0YW5jZXMgPSB7fTtcbiAgICAgIHRyYXZlcnNlQWxsQ2hpbGRyZW4obmVzdGVkQ2hpbGROb2RlcywgaW5zdGFudGlhdGVDaGlsZCwgY2hpbGRJbnN0YW5jZXMpO1xuICAgICAgcmV0dXJuIGNoaWxkSW5zdGFuY2VzO1xuICAgIH0sXG4gICAgdXBkYXRlQ2hpbGRyZW46IGZ1bmN0aW9uKHByZXZDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCByZW1vdmVkTm9kZXMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICBpZiAoIW5leHRDaGlsZHJlbiAmJiAhcHJldkNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuYW1lO1xuICAgICAgdmFyIHByZXZDaGlsZDtcbiAgICAgIGZvciAobmFtZSBpbiBuZXh0Q2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKCFuZXh0Q2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2Q2hpbGQgPSBwcmV2Q2hpbGRyZW4gJiYgcHJldkNoaWxkcmVuW25hbWVdO1xuICAgICAgICB2YXIgcHJldkVsZW1lbnQgPSBwcmV2Q2hpbGQgJiYgcHJldkNoaWxkLl9jdXJyZW50RWxlbWVudDtcbiAgICAgICAgdmFyIG5leHRFbGVtZW50ID0gbmV4dENoaWxkcmVuW25hbWVdO1xuICAgICAgICBpZiAocHJldkNoaWxkICE9IG51bGwgJiYgc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQocHJldkVsZW1lbnQsIG5leHRFbGVtZW50KSkge1xuICAgICAgICAgIFJlYWN0UmVjb25jaWxlci5yZWNlaXZlQ29tcG9uZW50KHByZXZDaGlsZCwgbmV4dEVsZW1lbnQsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgICBuZXh0Q2hpbGRyZW5bbmFtZV0gPSBwcmV2Q2hpbGQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHByZXZDaGlsZCkge1xuICAgICAgICAgICAgcmVtb3ZlZE5vZGVzW25hbWVdID0gUmVhY3RSZWNvbmNpbGVyLmdldE5hdGl2ZU5vZGUocHJldkNoaWxkKTtcbiAgICAgICAgICAgIFJlYWN0UmVjb25jaWxlci51bm1vdW50Q29tcG9uZW50KHByZXZDaGlsZCwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbmV4dENoaWxkSW5zdGFuY2UgPSBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50KG5leHRFbGVtZW50KTtcbiAgICAgICAgICBuZXh0Q2hpbGRyZW5bbmFtZV0gPSBuZXh0Q2hpbGRJbnN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChuYW1lIGluIHByZXZDaGlsZHJlbikge1xuICAgICAgICBpZiAocHJldkNoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpICYmICEobmV4dENoaWxkcmVuICYmIG5leHRDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkpIHtcbiAgICAgICAgICBwcmV2Q2hpbGQgPSBwcmV2Q2hpbGRyZW5bbmFtZV07XG4gICAgICAgICAgcmVtb3ZlZE5vZGVzW25hbWVdID0gUmVhY3RSZWNvbmNpbGVyLmdldE5hdGl2ZU5vZGUocHJldkNoaWxkKTtcbiAgICAgICAgICBSZWFjdFJlY29uY2lsZXIudW5tb3VudENvbXBvbmVudChwcmV2Q2hpbGQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgdW5tb3VudENoaWxkcmVuOiBmdW5jdGlvbihyZW5kZXJlZENoaWxkcmVuLCBzYWZlbHkpIHtcbiAgICAgIGZvciAodmFyIG5hbWUgaW4gcmVuZGVyZWRDaGlsZHJlbikge1xuICAgICAgICBpZiAocmVuZGVyZWRDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgIHZhciByZW5kZXJlZENoaWxkID0gcmVuZGVyZWRDaGlsZHJlbltuYW1lXTtcbiAgICAgICAgICBSZWFjdFJlY29uY2lsZXIudW5tb3VudENvbXBvbmVudChyZW5kZXJlZENoaWxkLCBzYWZlbHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q2hpbGRSZWNvbmNpbGVyO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgS2V5RXNjYXBlVXRpbHMgPSByZXF1aXJlKCcuL0tleUVzY2FwZVV0aWxzJyk7XG4gIHZhciB0cmF2ZXJzZUFsbENoaWxkcmVuID0gcmVxdWlyZSgnLi90cmF2ZXJzZUFsbENoaWxkcmVuJyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICBmdW5jdGlvbiBmbGF0dGVuU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCh0cmF2ZXJzZUNvbnRleHQsIGNoaWxkLCBuYW1lKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRyYXZlcnNlQ29udGV4dDtcbiAgICB2YXIga2V5VW5pcXVlID0gcmVzdWx0W25hbWVdID09PSB1bmRlZmluZWQ7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGtleVVuaXF1ZSwgJ2ZsYXR0ZW5DaGlsZHJlbiguLi4pOiBFbmNvdW50ZXJlZCB0d28gY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSBrZXksICcgKyAnYCVzYC4gQ2hpbGQga2V5cyBtdXN0IGJlIHVuaXF1ZTsgd2hlbiB0d28gY2hpbGRyZW4gc2hhcmUgYSBrZXksIG9ubHkgJyArICd0aGUgZmlyc3QgY2hpbGQgd2lsbCBiZSB1c2VkLicsIEtleUVzY2FwZVV0aWxzLnVuZXNjYXBlKG5hbWUpKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKGtleVVuaXF1ZSAmJiBjaGlsZCAhPSBudWxsKSB7XG4gICAgICByZXN1bHRbbmFtZV0gPSBjaGlsZDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZmxhdHRlbkNoaWxkcmVuKGNoaWxkcmVuKSB7XG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGZsYXR0ZW5TaW5nbGVDaGlsZEludG9Db250ZXh0LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBmbGF0dGVuQ2hpbGRyZW47XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBSZWFjdENvbXBvbmVudEVudmlyb25tZW50ID0gcmVxdWlyZSgnLi9SZWFjdENvbXBvbmVudEVudmlyb25tZW50Jyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzID0gcmVxdWlyZSgnLi9SZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcycpO1xuICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKCcuL1JlYWN0Q3VycmVudE93bmVyJyk7XG4gIHZhciBSZWFjdFJlY29uY2lsZXIgPSByZXF1aXJlKCcuL1JlYWN0UmVjb25jaWxlcicpO1xuICB2YXIgUmVhY3RDaGlsZFJlY29uY2lsZXIgPSByZXF1aXJlKCcuL1JlYWN0Q2hpbGRSZWNvbmNpbGVyJyk7XG4gIHZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xuICB2YXIgZmxhdHRlbkNoaWxkcmVuID0gcmVxdWlyZSgnLi9mbGF0dGVuQ2hpbGRyZW4nKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICBmdW5jdGlvbiBtYWtlSW5zZXJ0TWFya3VwKG1hcmt1cCwgYWZ0ZXJOb2RlLCB0b0luZGV4KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLklOU0VSVF9NQVJLVVAsXG4gICAgICBjb250ZW50OiBtYXJrdXAsXG4gICAgICBmcm9tSW5kZXg6IG51bGwsXG4gICAgICBmcm9tTm9kZTogbnVsbCxcbiAgICAgIHRvSW5kZXg6IHRvSW5kZXgsXG4gICAgICBhZnRlck5vZGU6IGFmdGVyTm9kZVxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gbWFrZU1vdmUoY2hpbGQsIGFmdGVyTm9kZSwgdG9JbmRleCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5NT1ZFX0VYSVNUSU5HLFxuICAgICAgY29udGVudDogbnVsbCxcbiAgICAgIGZyb21JbmRleDogY2hpbGQuX21vdW50SW5kZXgsXG4gICAgICBmcm9tTm9kZTogUmVhY3RSZWNvbmNpbGVyLmdldE5hdGl2ZU5vZGUoY2hpbGQpLFxuICAgICAgdG9JbmRleDogdG9JbmRleCxcbiAgICAgIGFmdGVyTm9kZTogYWZ0ZXJOb2RlXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBtYWtlUmVtb3ZlKGNoaWxkLCBub2RlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLlJFTU9WRV9OT0RFLFxuICAgICAgY29udGVudDogbnVsbCxcbiAgICAgIGZyb21JbmRleDogY2hpbGQuX21vdW50SW5kZXgsXG4gICAgICBmcm9tTm9kZTogbm9kZSxcbiAgICAgIHRvSW5kZXg6IG51bGwsXG4gICAgICBhZnRlck5vZGU6IG51bGxcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIG1ha2VTZXRNYXJrdXAobWFya3VwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLlNFVF9NQVJLVVAsXG4gICAgICBjb250ZW50OiBtYXJrdXAsXG4gICAgICBmcm9tSW5kZXg6IG51bGwsXG4gICAgICBmcm9tTm9kZTogbnVsbCxcbiAgICAgIHRvSW5kZXg6IG51bGwsXG4gICAgICBhZnRlck5vZGU6IG51bGxcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIG1ha2VUZXh0Q29udGVudCh0ZXh0Q29udGVudCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5URVhUX0NPTlRFTlQsXG4gICAgICBjb250ZW50OiB0ZXh0Q29udGVudCxcbiAgICAgIGZyb21JbmRleDogbnVsbCxcbiAgICAgIGZyb21Ob2RlOiBudWxsLFxuICAgICAgdG9JbmRleDogbnVsbCxcbiAgICAgIGFmdGVyTm9kZTogbnVsbFxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZW5xdWV1ZShxdWV1ZSwgdXBkYXRlKSB7XG4gICAgaWYgKHVwZGF0ZSkge1xuICAgICAgcXVldWUgPSBxdWV1ZSB8fCBbXTtcbiAgICAgIHF1ZXVlLnB1c2godXBkYXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXVlO1xuICB9XG4gIGZ1bmN0aW9uIHByb2Nlc3NRdWV1ZShpbnN0LCB1cGRhdGVRdWV1ZSkge1xuICAgIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQucHJvY2Vzc0NoaWxkcmVuVXBkYXRlcyhpbnN0LCB1cGRhdGVRdWV1ZSk7XG4gIH1cbiAgdmFyIHNldENoaWxkcmVuRm9ySW5zdHJ1bWVudGF0aW9uID0gZW1wdHlGdW5jdGlvbjtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBzZXRDaGlsZHJlbkZvckluc3RydW1lbnRhdGlvbiA9IGZ1bmN0aW9uKGNoaWxkcmVuKSB7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRDaGlsZHJlbih0aGlzLl9kZWJ1Z0lELCBjaGlsZHJlbiA/IE9iamVjdC5rZXlzKGNoaWxkcmVuKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbltrZXldLl9kZWJ1Z0lEO1xuICAgICAgfSkgOiBbXSk7XG4gICAgfTtcbiAgfVxuICB2YXIgUmVhY3RNdWx0aUNoaWxkID0ge01peGluOiB7XG4gICAgICBfcmVjb25jaWxlckluc3RhbnRpYXRlQ2hpbGRyZW46IGZ1bmN0aW9uKG5lc3RlZENoaWxkcmVuLCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLmluc3RhbnRpYXRlQ2hpbGRyZW4obmVzdGVkQ2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVhY3RDaGlsZFJlY29uY2lsZXIuaW5zdGFudGlhdGVDaGlsZHJlbihuZXN0ZWRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIF9yZWNvbmNpbGVyVXBkYXRlQ2hpbGRyZW46IGZ1bmN0aW9uKHByZXZDaGlsZHJlbiwgbmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMsIHJlbW92ZWROb2RlcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIG5leHRDaGlsZHJlbjtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSB0aGlzLl9jdXJyZW50RWxlbWVudC5fb3duZXI7XG4gICAgICAgICAgICAgIG5leHRDaGlsZHJlbiA9IGZsYXR0ZW5DaGlsZHJlbihuZXh0TmVzdGVkQ2hpbGRyZW5FbGVtZW50cyk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLnVwZGF0ZUNoaWxkcmVuKHByZXZDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCByZW1vdmVkTm9kZXMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0Q2hpbGRyZW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5leHRDaGlsZHJlbiA9IGZsYXR0ZW5DaGlsZHJlbihuZXh0TmVzdGVkQ2hpbGRyZW5FbGVtZW50cyk7XG4gICAgICAgIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLnVwZGF0ZUNoaWxkcmVuKHByZXZDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCByZW1vdmVkTm9kZXMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIG5leHRDaGlsZHJlbjtcbiAgICAgIH0sXG4gICAgICBtb3VudENoaWxkcmVuOiBmdW5jdGlvbihuZXN0ZWRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5fcmVjb25jaWxlckluc3RhbnRpYXRlQ2hpbGRyZW4obmVzdGVkQ2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRDaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB2YXIgbW91bnRJbWFnZXMgPSBbXTtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBjaGlsZHJlbikge1xuICAgICAgICAgIGlmIChjaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5bbmFtZV07XG4gICAgICAgICAgICB2YXIgbW91bnRJbWFnZSA9IFJlYWN0UmVjb25jaWxlci5tb3VudENvbXBvbmVudChjaGlsZCwgdHJhbnNhY3Rpb24sIHRoaXMsIHRoaXMuX25hdGl2ZUNvbnRhaW5lckluZm8sIGNvbnRleHQpO1xuICAgICAgICAgICAgY2hpbGQuX21vdW50SW5kZXggPSBpbmRleCsrO1xuICAgICAgICAgICAgbW91bnRJbWFnZXMucHVzaChtb3VudEltYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBzZXRDaGlsZHJlbkZvckluc3RydW1lbnRhdGlvbi5jYWxsKHRoaXMsIGNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW91bnRJbWFnZXM7XG4gICAgICB9LFxuICAgICAgdXBkYXRlVGV4dENvbnRlbnQ6IGZ1bmN0aW9uKG5leHRDb250ZW50KSB7XG4gICAgICAgIHZhciBwcmV2Q2hpbGRyZW4gPSB0aGlzLl9yZW5kZXJlZENoaWxkcmVuO1xuICAgICAgICBSZWFjdENoaWxkUmVjb25jaWxlci51bm1vdW50Q2hpbGRyZW4ocHJldkNoaWxkcmVuLCBmYWxzZSk7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gcHJldkNoaWxkcmVuKSB7XG4gICAgICAgICAgaWYgKHByZXZDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgIWZhbHNlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VwZGF0ZVRleHRDb250ZW50IGNhbGxlZCBvbiBub24tZW1wdHkgY29tcG9uZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVwZGF0ZXMgPSBbbWFrZVRleHRDb250ZW50KG5leHRDb250ZW50KV07XG4gICAgICAgIHByb2Nlc3NRdWV1ZSh0aGlzLCB1cGRhdGVzKTtcbiAgICAgIH0sXG4gICAgICB1cGRhdGVNYXJrdXA6IGZ1bmN0aW9uKG5leHRNYXJrdXApIHtcbiAgICAgICAgdmFyIHByZXZDaGlsZHJlbiA9IHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW47XG4gICAgICAgIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLnVubW91bnRDaGlsZHJlbihwcmV2Q2hpbGRyZW4sIGZhbHNlKTtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBwcmV2Q2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAocHJldkNoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAhZmFsc2UgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlVGV4dENvbnRlbnQgY2FsbGVkIG9uIG5vbi1lbXB0eSBjb21wb25lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdXBkYXRlcyA9IFttYWtlU2V0TWFya3VwKG5leHRNYXJrdXApXTtcbiAgICAgICAgcHJvY2Vzc1F1ZXVlKHRoaXMsIHVwZGF0ZXMpO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZUNoaWxkcmVuOiBmdW5jdGlvbihuZXh0TmVzdGVkQ2hpbGRyZW5FbGVtZW50cywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2hpbGRyZW4obmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICBfdXBkYXRlQ2hpbGRyZW46IGZ1bmN0aW9uKG5leHROZXN0ZWRDaGlsZHJlbkVsZW1lbnRzLCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgcHJldkNoaWxkcmVuID0gdGhpcy5fcmVuZGVyZWRDaGlsZHJlbjtcbiAgICAgICAgdmFyIHJlbW92ZWROb2RlcyA9IHt9O1xuICAgICAgICB2YXIgbmV4dENoaWxkcmVuID0gdGhpcy5fcmVjb25jaWxlclVwZGF0ZUNoaWxkcmVuKHByZXZDaGlsZHJlbiwgbmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMsIHJlbW92ZWROb2RlcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICBpZiAoIW5leHRDaGlsZHJlbiAmJiAhcHJldkNoaWxkcmVuKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cGRhdGVzID0gbnVsbDtcbiAgICAgICAgdmFyIG5hbWU7XG4gICAgICAgIHZhciBsYXN0SW5kZXggPSAwO1xuICAgICAgICB2YXIgbmV4dEluZGV4ID0gMDtcbiAgICAgICAgdmFyIGxhc3RQbGFjZWROb2RlID0gbnVsbDtcbiAgICAgICAgZm9yIChuYW1lIGluIG5leHRDaGlsZHJlbikge1xuICAgICAgICAgIGlmICghbmV4dENoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHByZXZDaGlsZCA9IHByZXZDaGlsZHJlbiAmJiBwcmV2Q2hpbGRyZW5bbmFtZV07XG4gICAgICAgICAgdmFyIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltuYW1lXTtcbiAgICAgICAgICBpZiAocHJldkNoaWxkID09PSBuZXh0Q2hpbGQpIHtcbiAgICAgICAgICAgIHVwZGF0ZXMgPSBlbnF1ZXVlKHVwZGF0ZXMsIHRoaXMubW92ZUNoaWxkKHByZXZDaGlsZCwgbGFzdFBsYWNlZE5vZGUsIG5leHRJbmRleCwgbGFzdEluZGV4KSk7XG4gICAgICAgICAgICBsYXN0SW5kZXggPSBNYXRoLm1heChwcmV2Q2hpbGQuX21vdW50SW5kZXgsIGxhc3RJbmRleCk7XG4gICAgICAgICAgICBwcmV2Q2hpbGQuX21vdW50SW5kZXggPSBuZXh0SW5kZXg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwcmV2Q2hpbGQpIHtcbiAgICAgICAgICAgICAgbGFzdEluZGV4ID0gTWF0aC5tYXgocHJldkNoaWxkLl9tb3VudEluZGV4LCBsYXN0SW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlcyA9IGVucXVldWUodXBkYXRlcywgdGhpcy5fbW91bnRDaGlsZEF0SW5kZXgobmV4dENoaWxkLCBsYXN0UGxhY2VkTm9kZSwgbmV4dEluZGV4LCB0cmFuc2FjdGlvbiwgY29udGV4dCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0SW5kZXgrKztcbiAgICAgICAgICBsYXN0UGxhY2VkTm9kZSA9IFJlYWN0UmVjb25jaWxlci5nZXROYXRpdmVOb2RlKG5leHRDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChuYW1lIGluIHJlbW92ZWROb2Rlcykge1xuICAgICAgICAgIGlmIChyZW1vdmVkTm9kZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgIHVwZGF0ZXMgPSBlbnF1ZXVlKHVwZGF0ZXMsIHRoaXMuX3VubW91bnRDaGlsZChwcmV2Q2hpbGRyZW5bbmFtZV0sIHJlbW92ZWROb2Rlc1tuYW1lXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlcykge1xuICAgICAgICAgIHByb2Nlc3NRdWV1ZSh0aGlzLCB1cGRhdGVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZW5kZXJlZENoaWxkcmVuID0gbmV4dENoaWxkcmVuO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHNldENoaWxkcmVuRm9ySW5zdHJ1bWVudGF0aW9uLmNhbGwodGhpcywgbmV4dENoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVubW91bnRDaGlsZHJlbjogZnVuY3Rpb24oc2FmZWx5KSB7XG4gICAgICAgIHZhciByZW5kZXJlZENoaWxkcmVuID0gdGhpcy5fcmVuZGVyZWRDaGlsZHJlbjtcbiAgICAgICAgUmVhY3RDaGlsZFJlY29uY2lsZXIudW5tb3VudENoaWxkcmVuKHJlbmRlcmVkQ2hpbGRyZW4sIHNhZmVseSk7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW4gPSBudWxsO1xuICAgICAgfSxcbiAgICAgIG1vdmVDaGlsZDogZnVuY3Rpb24oY2hpbGQsIGFmdGVyTm9kZSwgdG9JbmRleCwgbGFzdEluZGV4KSB7XG4gICAgICAgIGlmIChjaGlsZC5fbW91bnRJbmRleCA8IGxhc3RJbmRleCkge1xuICAgICAgICAgIHJldHVybiBtYWtlTW92ZShjaGlsZCwgYWZ0ZXJOb2RlLCB0b0luZGV4KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNyZWF0ZUNoaWxkOiBmdW5jdGlvbihjaGlsZCwgYWZ0ZXJOb2RlLCBtb3VudEltYWdlKSB7XG4gICAgICAgIHJldHVybiBtYWtlSW5zZXJ0TWFya3VwKG1vdW50SW1hZ2UsIGFmdGVyTm9kZSwgY2hpbGQuX21vdW50SW5kZXgpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZUNoaWxkOiBmdW5jdGlvbihjaGlsZCwgbm9kZSkge1xuICAgICAgICByZXR1cm4gbWFrZVJlbW92ZShjaGlsZCwgbm9kZSk7XG4gICAgICB9LFxuICAgICAgX21vdW50Q2hpbGRBdEluZGV4OiBmdW5jdGlvbihjaGlsZCwgYWZ0ZXJOb2RlLCBpbmRleCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIG1vdW50SW1hZ2UgPSBSZWFjdFJlY29uY2lsZXIubW91bnRDb21wb25lbnQoY2hpbGQsIHRyYW5zYWN0aW9uLCB0aGlzLCB0aGlzLl9uYXRpdmVDb250YWluZXJJbmZvLCBjb250ZXh0KTtcbiAgICAgICAgY2hpbGQuX21vdW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQ2hpbGQoY2hpbGQsIGFmdGVyTm9kZSwgbW91bnRJbWFnZSk7XG4gICAgICB9LFxuICAgICAgX3VubW91bnRDaGlsZDogZnVuY3Rpb24oY2hpbGQsIG5vZGUpIHtcbiAgICAgICAgdmFyIHVwZGF0ZSA9IHRoaXMucmVtb3ZlQ2hpbGQoY2hpbGQsIG5vZGUpO1xuICAgICAgICBjaGlsZC5fbW91bnRJbmRleCA9IG51bGw7XG4gICAgICAgIHJldHVybiB1cGRhdGU7XG4gICAgICB9XG4gICAgfX07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RNdWx0aUNoaWxkO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG52YXIgUG9vbGVkQ2xhc3MgPSByZXF1aXJlKCcuL1Bvb2xlZENsYXNzJyk7XG52YXIgVHJhbnNhY3Rpb24gPSByZXF1aXJlKCcuL1RyYW5zYWN0aW9uJyk7XG52YXIgVFJBTlNBQ1RJT05fV1JBUFBFUlMgPSBbXTtcbnZhciBub29wQ2FsbGJhY2tRdWV1ZSA9IHtlbnF1ZXVlOiBmdW5jdGlvbigpIHt9fTtcbmZ1bmN0aW9uIFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb24ocmVuZGVyVG9TdGF0aWNNYXJrdXApIHtcbiAgdGhpcy5yZWluaXRpYWxpemVUcmFuc2FjdGlvbigpO1xuICB0aGlzLnJlbmRlclRvU3RhdGljTWFya3VwID0gcmVuZGVyVG9TdGF0aWNNYXJrdXA7XG4gIHRoaXMudXNlQ3JlYXRlRWxlbWVudCA9IGZhbHNlO1xufVxudmFyIE1peGluID0ge1xuICBnZXRUcmFuc2FjdGlvbldyYXBwZXJzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gVFJBTlNBQ1RJT05fV1JBUFBFUlM7XG4gIH0sXG4gIGdldFJlYWN0TW91bnRSZWFkeTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5vb3BDYWxsYmFja1F1ZXVlO1xuICB9LFxuICBkZXN0cnVjdG9yOiBmdW5jdGlvbigpIHt9LFxuICBjaGVja3BvaW50OiBmdW5jdGlvbigpIHt9LFxuICByb2xsYmFjazogZnVuY3Rpb24oKSB7fVxufTtcbl9hc3NpZ24oUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFRyYW5zYWN0aW9uLk1peGluLCBNaXhpbik7XG5Qb29sZWRDbGFzcy5hZGRQb29saW5nVG8oUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbik7XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb247XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG4gIHZhciBBdXRvRm9jdXNVdGlscyA9IHJlcXVpcmUoJy4vQXV0b0ZvY3VzVXRpbHMnKTtcbiAgdmFyIENTU1Byb3BlcnR5T3BlcmF0aW9ucyA9IHJlcXVpcmUoJy4vQ1NTUHJvcGVydHlPcGVyYXRpb25zJyk7XG4gIHZhciBET01MYXp5VHJlZSA9IHJlcXVpcmUoJy4vRE9NTGF6eVRyZWUnKTtcbiAgdmFyIERPTU5hbWVzcGFjZXMgPSByZXF1aXJlKCcuL0RPTU5hbWVzcGFjZXMnKTtcbiAgdmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eScpO1xuICB2YXIgRE9NUHJvcGVydHlPcGVyYXRpb25zID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eU9wZXJhdGlvbnMnKTtcbiAgdmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xuICB2YXIgRXZlbnRQbHVnaW5IdWIgPSByZXF1aXJlKCcuL0V2ZW50UGx1Z2luSHViJyk7XG4gIHZhciBFdmVudFBsdWdpblJlZ2lzdHJ5ID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpblJlZ2lzdHJ5Jyk7XG4gIHZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCcuL1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlcicpO1xuICB2YXIgUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL1JlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50Jyk7XG4gIHZhciBSZWFjdERPTUJ1dHRvbiA9IHJlcXVpcmUoJy4vUmVhY3RET01CdXR0b24nKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50RmxhZ3MgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50RmxhZ3MnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRUcmVlJyk7XG4gIHZhciBSZWFjdERPTUlucHV0ID0gcmVxdWlyZSgnLi9SZWFjdERPTUlucHV0Jyk7XG4gIHZhciBSZWFjdERPTU9wdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RET01PcHRpb24nKTtcbiAgdmFyIFJlYWN0RE9NU2VsZWN0ID0gcmVxdWlyZSgnLi9SZWFjdERPTVNlbGVjdCcpO1xuICB2YXIgUmVhY3RET01UZXh0YXJlYSA9IHJlcXVpcmUoJy4vUmVhY3RET01UZXh0YXJlYScpO1xuICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSByZXF1aXJlKCcuL1JlYWN0SW5zdHJ1bWVudGF0aW9uJyk7XG4gIHZhciBSZWFjdE11bHRpQ2hpbGQgPSByZXF1aXJlKCcuL1JlYWN0TXVsdGlDaGlsZCcpO1xuICB2YXIgUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbicpO1xuICB2YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcbiAgdmFyIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlciA9IHJlcXVpcmUoJy4vZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyJyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgdmFyIGlzRXZlbnRTdXBwb3J0ZWQgPSByZXF1aXJlKCcuL2lzRXZlbnRTdXBwb3J0ZWQnKTtcbiAgdmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcbiAgdmFyIHNoYWxsb3dFcXVhbCA9IHJlcXVpcmUoJ2ZianMvbGliL3NoYWxsb3dFcXVhbCcpO1xuICB2YXIgdmFsaWRhdGVET01OZXN0aW5nID0gcmVxdWlyZSgnLi92YWxpZGF0ZURPTU5lc3RpbmcnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBGbGFncyA9IFJlYWN0RE9NQ29tcG9uZW50RmxhZ3M7XG4gIHZhciBkZWxldGVMaXN0ZW5lciA9IEV2ZW50UGx1Z2luSHViLmRlbGV0ZUxpc3RlbmVyO1xuICB2YXIgZ2V0Tm9kZSA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlO1xuICB2YXIgbGlzdGVuVG8gPSBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIubGlzdGVuVG87XG4gIHZhciByZWdpc3RyYXRpb25OYW1lTW9kdWxlcyA9IEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXM7XG4gIHZhciBDT05URU5UX1RZUEVTID0ge1xuICAgICdzdHJpbmcnOiB0cnVlLFxuICAgICdudW1iZXInOiB0cnVlXG4gIH07XG4gIHZhciBTVFlMRSA9IGtleU9mKHtzdHlsZTogbnVsbH0pO1xuICB2YXIgSFRNTCA9IGtleU9mKHtfX2h0bWw6IG51bGx9KTtcbiAgdmFyIFJFU0VSVkVEX1BST1BTID0ge1xuICAgIGNoaWxkcmVuOiBudWxsLFxuICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiBudWxsLFxuICAgIHN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZzogbnVsbFxuICB9O1xuICB2YXIgRE9DX0ZSQUdNRU5UX1RZUEUgPSAxMTtcbiAgZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKGludGVybmFsSW5zdGFuY2UpIHtcbiAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgdmFyIG93bmVyID0gaW50ZXJuYWxJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQuX293bmVyIHx8IG51bGw7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuICcgVGhpcyBET00gbm9kZSB3YXMgcmVuZGVyZWQgYnkgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgZnVuY3Rpb24gZnJpZW5kbHlTdHJpbmdpZnkob2JqKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIHJldHVybiAnWycgKyBvYmoubWFwKGZyaWVuZGx5U3RyaW5naWZ5KS5qb2luKCcsICcpICsgJ10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBhaXJzID0gW107XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgdmFyIGtleUVzY2FwZWQgPSAvXlthLXokX11bXFx3JF9dKiQvaS50ZXN0KGtleSkgPyBrZXkgOiBKU09OLnN0cmluZ2lmeShrZXkpO1xuICAgICAgICAgICAgcGFpcnMucHVzaChrZXlFc2NhcGVkICsgJzogJyArIGZyaWVuZGx5U3RyaW5naWZ5KG9ialtrZXldKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAneycgKyBwYWlycy5qb2luKCcsICcpICsgJ30nO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuICdbZnVuY3Rpb24gb2JqZWN0XSc7XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcob2JqKTtcbiAgfVxuICB2YXIgc3R5bGVNdXRhdGlvbldhcm5pbmcgPSB7fTtcbiAgZnVuY3Rpb24gY2hlY2tBbmRXYXJuRm9yTXV0YXRlZFN0eWxlKHN0eWxlMSwgc3R5bGUyLCBjb21wb25lbnQpIHtcbiAgICBpZiAoc3R5bGUxID09IG51bGwgfHwgc3R5bGUyID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNoYWxsb3dFcXVhbChzdHlsZTEsIHN0eWxlMikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnQuX3RhZztcbiAgICB2YXIgb3duZXIgPSBjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICB2YXIgb3duZXJOYW1lO1xuICAgIGlmIChvd25lcikge1xuICAgICAgb3duZXJOYW1lID0gb3duZXIuZ2V0TmFtZSgpO1xuICAgIH1cbiAgICB2YXIgaGFzaCA9IG93bmVyTmFtZSArICd8JyArIGNvbXBvbmVudE5hbWU7XG4gICAgaWYgKHN0eWxlTXV0YXRpb25XYXJuaW5nLmhhc093blByb3BlcnR5KGhhc2gpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0eWxlTXV0YXRpb25XYXJuaW5nW2hhc2hdID0gdHJ1ZTtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2Alc2Agd2FzIHBhc3NlZCBhIHN0eWxlIG9iamVjdCB0aGF0IGhhcyBwcmV2aW91c2x5IGJlZW4gbXV0YXRlZC4gJyArICdNdXRhdGluZyBgc3R5bGVgIGlzIGRlcHJlY2F0ZWQuIENvbnNpZGVyIGNsb25pbmcgaXQgYmVmb3JlaGFuZC4gQ2hlY2sgJyArICd0aGUgYHJlbmRlcmAgJXMuIFByZXZpb3VzIHN0eWxlOiAlcy4gTXV0YXRlZCBzdHlsZTogJXMuJywgY29tcG9uZW50TmFtZSwgb3duZXIgPyAnb2YgYCcgKyBvd25lck5hbWUgKyAnYCcgOiAndXNpbmcgPCcgKyBjb21wb25lbnROYW1lICsgJz4nLCBmcmllbmRseVN0cmluZ2lmeShzdHlsZTEpLCBmcmllbmRseVN0cmluZ2lmeShzdHlsZTIpKSA6IHZvaWQgMDtcbiAgfVxuICBmdW5jdGlvbiBhc3NlcnRWYWxpZFByb3BzKGNvbXBvbmVudCwgcHJvcHMpIHtcbiAgICBpZiAoIXByb3BzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh2b2lkRWxlbWVudFRhZ3NbY29tcG9uZW50Ll90YWddKSB7XG4gICAgICAhKHByb3BzLmNoaWxkcmVuID09IG51bGwgJiYgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgPT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMgaXMgYSB2b2lkIGVsZW1lbnQgdGFnIGFuZCBtdXN0IG5vdCBoYXZlIGBjaGlsZHJlbmAgb3IgJyArICd1c2UgYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC4lcycsIGNvbXBvbmVudC5fdGFnLCBjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50Ll9vd25lciA/ICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgJyArIGNvbXBvbmVudC5fY3VycmVudEVsZW1lbnQuX293bmVyLmdldE5hbWUoKSArICcuJyA6ICcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCAhPSBudWxsKSB7XG4gICAgICAhKHByb3BzLmNoaWxkcmVuID09IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0NhbiBvbmx5IHNldCBvbmUgb2YgYGNoaWxkcmVuYCBvciBgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICEodHlwZW9mIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID09PSAnb2JqZWN0JyAmJiBIVE1MIGluIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgIG11c3QgYmUgaW4gdGhlIGZvcm0gYHtfX2h0bWw6IC4uLn1gLiAnICsgJ1BsZWFzZSB2aXNpdCBodHRwczovL2ZiLm1lL3JlYWN0LWludmFyaWFudC1kYW5nZXJvdXNseS1zZXQtaW5uZXItaHRtbCAnICsgJ2ZvciBtb3JlIGluZm9ybWF0aW9uLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHByb3BzLmlubmVySFRNTCA9PSBudWxsLCAnRGlyZWN0bHkgc2V0dGluZyBwcm9wZXJ0eSBgaW5uZXJIVE1MYCBpcyBub3QgcGVybWl0dGVkLiAnICsgJ0ZvciBtb3JlIGluZm9ybWF0aW9uLCBsb29rdXAgZG9jdW1lbnRhdGlvbiBvbiBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLicpIDogdm9pZCAwO1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcocHJvcHMuc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIHx8ICFwcm9wcy5jb250ZW50RWRpdGFibGUgfHwgcHJvcHMuY2hpbGRyZW4gPT0gbnVsbCwgJ0EgY29tcG9uZW50IGlzIGBjb250ZW50RWRpdGFibGVgIGFuZCBjb250YWlucyBgY2hpbGRyZW5gIG1hbmFnZWQgYnkgJyArICdSZWFjdC4gSXQgaXMgbm93IHlvdXIgcmVzcG9uc2liaWxpdHkgdG8gZ3VhcmFudGVlIHRoYXQgbm9uZSBvZiAnICsgJ3Rob3NlIG5vZGVzIGFyZSB1bmV4cGVjdGVkbHkgbW9kaWZpZWQgb3IgZHVwbGljYXRlZC4gVGhpcyBpcyAnICsgJ3Byb2JhYmx5IG5vdCBpbnRlbnRpb25hbC4nKSA6IHZvaWQgMDtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHByb3BzLm9uRm9jdXNJbiA9PSBudWxsICYmIHByb3BzLm9uRm9jdXNPdXQgPT0gbnVsbCwgJ1JlYWN0IHVzZXMgb25Gb2N1cyBhbmQgb25CbHVyIGluc3RlYWQgb2Ygb25Gb2N1c0luIGFuZCBvbkZvY3VzT3V0LiAnICsgJ0FsbCBSZWFjdCBldmVudHMgYXJlIG5vcm1hbGl6ZWQgdG8gYnViYmxlLCBzbyBvbkZvY3VzSW4gYW5kIG9uRm9jdXNPdXQgJyArICdhcmUgbm90IG5lZWRlZC9zdXBwb3J0ZWQgYnkgUmVhY3QuJykgOiB2b2lkIDA7XG4gICAgfVxuICAgICEocHJvcHMuc3R5bGUgPT0gbnVsbCB8fCB0eXBlb2YgcHJvcHMuc3R5bGUgPT09ICdvYmplY3QnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdUaGUgYHN0eWxlYCBwcm9wIGV4cGVjdHMgYSBtYXBwaW5nIGZyb20gc3R5bGUgcHJvcGVydGllcyB0byB2YWx1ZXMsICcgKyAnbm90IGEgc3RyaW5nLiBGb3IgZXhhbXBsZSwgc3R5bGU9e3ttYXJnaW5SaWdodDogc3BhY2luZyArIFxcJ2VtXFwnfX0gd2hlbiAnICsgJ3VzaW5nIEpTWC4lcycsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShjb21wb25lbnQpKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIH1cbiAgZnVuY3Rpb24gZW5xdWV1ZVB1dExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUsIGxpc3RlbmVyLCB0cmFuc2FjdGlvbikge1xuICAgIGlmICh0cmFuc2FjdGlvbiBpbnN0YW5jZW9mIFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHJlZ2lzdHJhdGlvbk5hbWUgIT09ICdvblNjcm9sbCcgfHwgaXNFdmVudFN1cHBvcnRlZCgnc2Nyb2xsJywgdHJ1ZSksICdUaGlzIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgdGhlIGBvblNjcm9sbGAgZXZlbnQnKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgdmFyIGNvbnRhaW5lckluZm8gPSBpbnN0Ll9uYXRpdmVDb250YWluZXJJbmZvO1xuICAgIHZhciBpc0RvY3VtZW50RnJhZ21lbnQgPSBjb250YWluZXJJbmZvLl9ub2RlICYmIGNvbnRhaW5lckluZm8uX25vZGUubm9kZVR5cGUgPT09IERPQ19GUkFHTUVOVF9UWVBFO1xuICAgIHZhciBkb2MgPSBpc0RvY3VtZW50RnJhZ21lbnQgPyBjb250YWluZXJJbmZvLl9ub2RlIDogY29udGFpbmVySW5mby5fb3duZXJEb2N1bWVudDtcbiAgICBsaXN0ZW5UbyhyZWdpc3RyYXRpb25OYW1lLCBkb2MpO1xuICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUocHV0TGlzdGVuZXIsIHtcbiAgICAgIGluc3Q6IGluc3QsXG4gICAgICByZWdpc3RyYXRpb25OYW1lOiByZWdpc3RyYXRpb25OYW1lLFxuICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHV0TGlzdGVuZXIoKSB7XG4gICAgdmFyIGxpc3RlbmVyVG9QdXQgPSB0aGlzO1xuICAgIEV2ZW50UGx1Z2luSHViLnB1dExpc3RlbmVyKGxpc3RlbmVyVG9QdXQuaW5zdCwgbGlzdGVuZXJUb1B1dC5yZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lclRvUHV0Lmxpc3RlbmVyKTtcbiAgfVxuICBmdW5jdGlvbiBvcHRpb25Qb3N0TW91bnQoKSB7XG4gICAgdmFyIGluc3QgPSB0aGlzO1xuICAgIFJlYWN0RE9NT3B0aW9uLnBvc3RNb3VudFdyYXBwZXIoaW5zdCk7XG4gIH1cbiAgdmFyIHNldENvbnRlbnRDaGlsZEZvckluc3RydW1lbnRhdGlvbiA9IGVtcHR5RnVuY3Rpb247XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgc2V0Q29udGVudENoaWxkRm9ySW5zdHJ1bWVudGF0aW9uID0gZnVuY3Rpb24oY29udGVudFRvVXNlKSB7XG4gICAgICB2YXIgZGVidWdJRCA9IHRoaXMuX2RlYnVnSUQ7XG4gICAgICB2YXIgY29udGVudERlYnVnSUQgPSBkZWJ1Z0lEICsgJyN0ZXh0JztcbiAgICAgIHRoaXMuX2NvbnRlbnREZWJ1Z0lEID0gY29udGVudERlYnVnSUQ7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXREaXNwbGF5TmFtZShjb250ZW50RGVidWdJRCwgJyN0ZXh0Jyk7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRUZXh0KGNvbnRlbnREZWJ1Z0lELCAnJyArIGNvbnRlbnRUb1VzZSk7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25Nb3VudENvbXBvbmVudChjb250ZW50RGVidWdJRCk7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRDaGlsZHJlbihkZWJ1Z0lELCBbY29udGVudERlYnVnSURdKTtcbiAgICB9O1xuICB9XG4gIHZhciBtZWRpYUV2ZW50cyA9IHtcbiAgICB0b3BBYm9ydDogJ2Fib3J0JyxcbiAgICB0b3BDYW5QbGF5OiAnY2FucGxheScsXG4gICAgdG9wQ2FuUGxheVRocm91Z2g6ICdjYW5wbGF5dGhyb3VnaCcsXG4gICAgdG9wRHVyYXRpb25DaGFuZ2U6ICdkdXJhdGlvbmNoYW5nZScsXG4gICAgdG9wRW1wdGllZDogJ2VtcHRpZWQnLFxuICAgIHRvcEVuY3J5cHRlZDogJ2VuY3J5cHRlZCcsXG4gICAgdG9wRW5kZWQ6ICdlbmRlZCcsXG4gICAgdG9wRXJyb3I6ICdlcnJvcicsXG4gICAgdG9wTG9hZGVkRGF0YTogJ2xvYWRlZGRhdGEnLFxuICAgIHRvcExvYWRlZE1ldGFkYXRhOiAnbG9hZGVkbWV0YWRhdGEnLFxuICAgIHRvcExvYWRTdGFydDogJ2xvYWRzdGFydCcsXG4gICAgdG9wUGF1c2U6ICdwYXVzZScsXG4gICAgdG9wUGxheTogJ3BsYXknLFxuICAgIHRvcFBsYXlpbmc6ICdwbGF5aW5nJyxcbiAgICB0b3BQcm9ncmVzczogJ3Byb2dyZXNzJyxcbiAgICB0b3BSYXRlQ2hhbmdlOiAncmF0ZWNoYW5nZScsXG4gICAgdG9wU2Vla2VkOiAnc2Vla2VkJyxcbiAgICB0b3BTZWVraW5nOiAnc2Vla2luZycsXG4gICAgdG9wU3RhbGxlZDogJ3N0YWxsZWQnLFxuICAgIHRvcFN1c3BlbmQ6ICdzdXNwZW5kJyxcbiAgICB0b3BUaW1lVXBkYXRlOiAndGltZXVwZGF0ZScsXG4gICAgdG9wVm9sdW1lQ2hhbmdlOiAndm9sdW1lY2hhbmdlJyxcbiAgICB0b3BXYWl0aW5nOiAnd2FpdGluZydcbiAgfTtcbiAgZnVuY3Rpb24gdHJhcEJ1YmJsZWRFdmVudHNMb2NhbCgpIHtcbiAgICB2YXIgaW5zdCA9IHRoaXM7XG4gICAgIWluc3QuX3Jvb3ROb2RlSUQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnTXVzdCBiZSBtb3VudGVkIHRvIHRyYXAgZXZlbnRzJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBub2RlID0gZ2V0Tm9kZShpbnN0KTtcbiAgICAhbm9kZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd0cmFwQnViYmxlZEV2ZW50KC4uLik6IFJlcXVpcmVzIG5vZGUgdG8gYmUgcmVuZGVyZWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHN3aXRjaCAoaW5zdC5fdGFnKSB7XG4gICAgICBjYXNlICdpZnJhbWUnOlxuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycyA9IFtSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcExvYWQsICdsb2FkJywgbm9kZSldO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgIGNhc2UgJ2F1ZGlvJzpcbiAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBldmVudCBpbiBtZWRpYUV2ZW50cykge1xuICAgICAgICAgIGlmIChtZWRpYUV2ZW50cy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcbiAgICAgICAgICAgIGluc3QuX3dyYXBwZXJTdGF0ZS5saXN0ZW5lcnMucHVzaChSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzW2V2ZW50XSwgbWVkaWFFdmVudHNbZXZlbnRdLCBub2RlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaW1nJzpcbiAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycyA9IFtSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcEVycm9yLCAnZXJyb3InLCBub2RlKSwgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnRyYXBCdWJibGVkRXZlbnQoRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcy50b3BMb2FkLCAnbG9hZCcsIG5vZGUpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmb3JtJzpcbiAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycyA9IFtSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcFJlc2V0LCAncmVzZXQnLCBub2RlKSwgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnRyYXBCdWJibGVkRXZlbnQoRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcy50b3BTdWJtaXQsICdzdWJtaXQnLCBub2RlKV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaW5wdXQnOlxuICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgICAgaW5zdC5fd3JhcHBlclN0YXRlLmxpc3RlbmVycyA9IFtSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcEludmFsaWQsICdpbnZhbGlkJywgbm9kZSldO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcG9zdFVwZGF0ZVNlbGVjdFdyYXBwZXIoKSB7XG4gICAgUmVhY3RET01TZWxlY3QucG9zdFVwZGF0ZVdyYXBwZXIodGhpcyk7XG4gIH1cbiAgdmFyIG9taXR0ZWRDbG9zZVRhZ3MgPSB7XG4gICAgJ2FyZWEnOiB0cnVlLFxuICAgICdiYXNlJzogdHJ1ZSxcbiAgICAnYnInOiB0cnVlLFxuICAgICdjb2wnOiB0cnVlLFxuICAgICdlbWJlZCc6IHRydWUsXG4gICAgJ2hyJzogdHJ1ZSxcbiAgICAnaW1nJzogdHJ1ZSxcbiAgICAnaW5wdXQnOiB0cnVlLFxuICAgICdrZXlnZW4nOiB0cnVlLFxuICAgICdsaW5rJzogdHJ1ZSxcbiAgICAnbWV0YSc6IHRydWUsXG4gICAgJ3BhcmFtJzogdHJ1ZSxcbiAgICAnc291cmNlJzogdHJ1ZSxcbiAgICAndHJhY2snOiB0cnVlLFxuICAgICd3YnInOiB0cnVlXG4gIH07XG4gIHZhciBuZXdsaW5lRWF0aW5nVGFncyA9IHtcbiAgICAnbGlzdGluZyc6IHRydWUsXG4gICAgJ3ByZSc6IHRydWUsXG4gICAgJ3RleHRhcmVhJzogdHJ1ZVxuICB9O1xuICB2YXIgdm9pZEVsZW1lbnRUYWdzID0gX2Fzc2lnbih7J21lbnVpdGVtJzogdHJ1ZX0sIG9taXR0ZWRDbG9zZVRhZ3MpO1xuICB2YXIgVkFMSURfVEFHX1JFR0VYID0gL15bYS16QS1aXVthLXpBLVo6X1xcLlxcLVxcZF0qJC87XG4gIHZhciB2YWxpZGF0ZWRUYWdDYWNoZSA9IHt9O1xuICB2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbiAgZnVuY3Rpb24gdmFsaWRhdGVEYW5nZXJvdXNUYWcodGFnKSB7XG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbGlkYXRlZFRhZ0NhY2hlLCB0YWcpKSB7XG4gICAgICAhVkFMSURfVEFHX1JFR0VYLnRlc3QodGFnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdJbnZhbGlkIHRhZzogJXMnLCB0YWcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHZhbGlkYXRlZFRhZ0NhY2hlW3RhZ10gPSB0cnVlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBpc0N1c3RvbUNvbXBvbmVudCh0YWdOYW1lLCBwcm9wcykge1xuICAgIHJldHVybiB0YWdOYW1lLmluZGV4T2YoJy0nKSA+PSAwIHx8IHByb3BzLmlzICE9IG51bGw7XG4gIH1cbiAgdmFyIGdsb2JhbElkQ291bnRlciA9IDE7XG4gIGZ1bmN0aW9uIFJlYWN0RE9NQ29tcG9uZW50KGVsZW1lbnQpIHtcbiAgICB2YXIgdGFnID0gZWxlbWVudC50eXBlO1xuICAgIHZhbGlkYXRlRGFuZ2Vyb3VzVGFnKHRhZyk7XG4gICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuX3RhZyA9IHRhZy50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMuX25hbWVzcGFjZVVSSSA9IG51bGw7XG4gICAgdGhpcy5fcmVuZGVyZWRDaGlsZHJlbiA9IG51bGw7XG4gICAgdGhpcy5fcHJldmlvdXNTdHlsZSA9IG51bGw7XG4gICAgdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgPSBudWxsO1xuICAgIHRoaXMuX25hdGl2ZU5vZGUgPSBudWxsO1xuICAgIHRoaXMuX25hdGl2ZVBhcmVudCA9IG51bGw7XG4gICAgdGhpcy5fcm9vdE5vZGVJRCA9IG51bGw7XG4gICAgdGhpcy5fZG9tSUQgPSBudWxsO1xuICAgIHRoaXMuX25hdGl2ZUNvbnRhaW5lckluZm8gPSBudWxsO1xuICAgIHRoaXMuX3dyYXBwZXJTdGF0ZSA9IG51bGw7XG4gICAgdGhpcy5fdG9wTGV2ZWxXcmFwcGVyID0gbnVsbDtcbiAgICB0aGlzLl9mbGFncyA9IDA7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHRoaXMuX2FuY2VzdG9ySW5mbyA9IG51bGw7XG4gICAgICB0aGlzLl9jb250ZW50RGVidWdJRCA9IG51bGw7XG4gICAgfVxuICB9XG4gIFJlYWN0RE9NQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gJ1JlYWN0RE9NQ29tcG9uZW50JztcbiAgUmVhY3RET01Db21wb25lbnQuTWl4aW4gPSB7XG4gICAgbW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIGNvbnRleHQpIHtcbiAgICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSBnbG9iYWxJZENvdW50ZXIrKztcbiAgICAgIHRoaXMuX2RvbUlEID0gbmF0aXZlQ29udGFpbmVySW5mby5faWRDb3VudGVyKys7XG4gICAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBuYXRpdmVQYXJlbnQ7XG4gICAgICB0aGlzLl9uYXRpdmVDb250YWluZXJJbmZvID0gbmF0aXZlQ29udGFpbmVySW5mbztcbiAgICAgIHZhciBwcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgICAgc3dpdGNoICh0aGlzLl90YWcpIHtcbiAgICAgICAgY2FzZSAnaWZyYW1lJzpcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgY2FzZSAnaW1nJzpcbiAgICAgICAgY2FzZSAnZm9ybSc6XG4gICAgICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgICAgY2FzZSAnYXVkaW8nOlxuICAgICAgICAgIHRoaXMuX3dyYXBwZXJTdGF0ZSA9IHtsaXN0ZW5lcnM6IG51bGx9O1xuICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUodHJhcEJ1YmJsZWRFdmVudHNMb2NhbCwgdGhpcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2J1dHRvbic6XG4gICAgICAgICAgcHJvcHMgPSBSZWFjdERPTUJ1dHRvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBwcm9wcywgbmF0aXZlUGFyZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaW5wdXQnOlxuICAgICAgICAgIFJlYWN0RE9NSW5wdXQubW91bnRXcmFwcGVyKHRoaXMsIHByb3BzLCBuYXRpdmVQYXJlbnQpO1xuICAgICAgICAgIHByb3BzID0gUmVhY3RET01JbnB1dC5nZXROYXRpdmVQcm9wcyh0aGlzLCBwcm9wcyk7XG4gICAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZSh0cmFwQnViYmxlZEV2ZW50c0xvY2FsLCB0aGlzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgICAgICBSZWFjdERPTU9wdGlvbi5tb3VudFdyYXBwZXIodGhpcywgcHJvcHMsIG5hdGl2ZVBhcmVudCk7XG4gICAgICAgICAgcHJvcHMgPSBSZWFjdERPTU9wdGlvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBwcm9wcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgUmVhY3RET01TZWxlY3QubW91bnRXcmFwcGVyKHRoaXMsIHByb3BzLCBuYXRpdmVQYXJlbnQpO1xuICAgICAgICAgIHByb3BzID0gUmVhY3RET01TZWxlY3QuZ2V0TmF0aXZlUHJvcHModGhpcywgcHJvcHMpO1xuICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUodHJhcEJ1YmJsZWRFdmVudHNMb2NhbCwgdGhpcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgICAgICBSZWFjdERPTVRleHRhcmVhLm1vdW50V3JhcHBlcih0aGlzLCBwcm9wcywgbmF0aXZlUGFyZW50KTtcbiAgICAgICAgICBwcm9wcyA9IFJlYWN0RE9NVGV4dGFyZWEuZ2V0TmF0aXZlUHJvcHModGhpcywgcHJvcHMpO1xuICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUodHJhcEJ1YmJsZWRFdmVudHNMb2NhbCwgdGhpcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBhc3NlcnRWYWxpZFByb3BzKHRoaXMsIHByb3BzKTtcbiAgICAgIHZhciBuYW1lc3BhY2VVUkk7XG4gICAgICB2YXIgcGFyZW50VGFnO1xuICAgICAgaWYgKG5hdGl2ZVBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgIG5hbWVzcGFjZVVSSSA9IG5hdGl2ZVBhcmVudC5fbmFtZXNwYWNlVVJJO1xuICAgICAgICBwYXJlbnRUYWcgPSBuYXRpdmVQYXJlbnQuX3RhZztcbiAgICAgIH0gZWxzZSBpZiAobmF0aXZlQ29udGFpbmVySW5mby5fdGFnKSB7XG4gICAgICAgIG5hbWVzcGFjZVVSSSA9IG5hdGl2ZUNvbnRhaW5lckluZm8uX25hbWVzcGFjZVVSSTtcbiAgICAgICAgcGFyZW50VGFnID0gbmF0aXZlQ29udGFpbmVySW5mby5fdGFnO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWVzcGFjZVVSSSA9PSBudWxsIHx8IG5hbWVzcGFjZVVSSSA9PT0gRE9NTmFtZXNwYWNlcy5zdmcgJiYgcGFyZW50VGFnID09PSAnZm9yZWlnbm9iamVjdCcpIHtcbiAgICAgICAgbmFtZXNwYWNlVVJJID0gRE9NTmFtZXNwYWNlcy5odG1sO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWVzcGFjZVVSSSA9PT0gRE9NTmFtZXNwYWNlcy5odG1sKSB7XG4gICAgICAgIGlmICh0aGlzLl90YWcgPT09ICdzdmcnKSB7XG4gICAgICAgICAgbmFtZXNwYWNlVVJJID0gRE9NTmFtZXNwYWNlcy5zdmc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fdGFnID09PSAnbWF0aCcpIHtcbiAgICAgICAgICBuYW1lc3BhY2VVUkkgPSBET01OYW1lc3BhY2VzLm1hdGhtbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fbmFtZXNwYWNlVVJJID0gbmFtZXNwYWNlVVJJO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIHBhcmVudEluZm87XG4gICAgICAgIGlmIChuYXRpdmVQYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgIHBhcmVudEluZm8gPSBuYXRpdmVQYXJlbnQuX2FuY2VzdG9ySW5mbztcbiAgICAgICAgfSBlbHNlIGlmIChuYXRpdmVDb250YWluZXJJbmZvLl90YWcpIHtcbiAgICAgICAgICBwYXJlbnRJbmZvID0gbmF0aXZlQ29udGFpbmVySW5mby5fYW5jZXN0b3JJbmZvO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRJbmZvKSB7XG4gICAgICAgICAgdmFsaWRhdGVET01OZXN0aW5nKHRoaXMuX3RhZywgdGhpcywgcGFyZW50SW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYW5jZXN0b3JJbmZvID0gdmFsaWRhdGVET01OZXN0aW5nLnVwZGF0ZWRBbmNlc3RvckluZm8ocGFyZW50SW5mbywgdGhpcy5fdGFnLCB0aGlzKTtcbiAgICAgIH1cbiAgICAgIHZhciBtb3VudEltYWdlO1xuICAgICAgaWYgKHRyYW5zYWN0aW9uLnVzZUNyZWF0ZUVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBuYXRpdmVDb250YWluZXJJbmZvLl9vd25lckRvY3VtZW50O1xuICAgICAgICB2YXIgZWw7XG4gICAgICAgIGlmIChuYW1lc3BhY2VVUkkgPT09IERPTU5hbWVzcGFjZXMuaHRtbCkge1xuICAgICAgICAgIGlmICh0aGlzLl90YWcgPT09ICdzY3JpcHQnKSB7XG4gICAgICAgICAgICB2YXIgZGl2ID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSAnPCcgKyB0eXBlICsgJz48LycgKyB0eXBlICsgJz4nO1xuICAgICAgICAgICAgZWwgPSBkaXYucmVtb3ZlQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbCA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlLCBwcm9wcy5pcyB8fCBudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWwgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2VVUkksIHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZS5wcmVjYWNoZU5vZGUodGhpcywgZWwpO1xuICAgICAgICB0aGlzLl9mbGFncyB8PSBGbGFncy5oYXNDYWNoZWRDaGlsZE5vZGVzO1xuICAgICAgICBpZiAoIXRoaXMuX25hdGl2ZVBhcmVudCkge1xuICAgICAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5zZXRBdHRyaWJ1dGVGb3JSb290KGVsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVET01Qcm9wZXJ0aWVzKG51bGwsIHByb3BzLCB0cmFuc2FjdGlvbik7XG4gICAgICAgIHZhciBsYXp5VHJlZSA9IERPTUxhenlUcmVlKGVsKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlSW5pdGlhbENoaWxkcmVuKHRyYW5zYWN0aW9uLCBwcm9wcywgY29udGV4dCwgbGF6eVRyZWUpO1xuICAgICAgICBtb3VudEltYWdlID0gbGF6eVRyZWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFnT3BlbiA9IHRoaXMuX2NyZWF0ZU9wZW5UYWdNYXJrdXBBbmRQdXRMaXN0ZW5lcnModHJhbnNhY3Rpb24sIHByb3BzKTtcbiAgICAgICAgdmFyIHRhZ0NvbnRlbnQgPSB0aGlzLl9jcmVhdGVDb250ZW50TWFya3VwKHRyYW5zYWN0aW9uLCBwcm9wcywgY29udGV4dCk7XG4gICAgICAgIGlmICghdGFnQ29udGVudCAmJiBvbWl0dGVkQ2xvc2VUYWdzW3RoaXMuX3RhZ10pIHtcbiAgICAgICAgICBtb3VudEltYWdlID0gdGFnT3BlbiArICcvPic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW91bnRJbWFnZSA9IHRhZ09wZW4gKyAnPicgKyB0YWdDb250ZW50ICsgJzwvJyArIHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGUgKyAnPic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodGhpcy5fdGFnKSB7XG4gICAgICAgIGNhc2UgJ2J1dHRvbic6XG4gICAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgICAgIGlmIChwcm9wcy5hdXRvRm9jdXMpIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoQXV0b0ZvY3VzVXRpbHMuZm9jdXNET01Db21wb25lbnQsIHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKG9wdGlvblBvc3RNb3VudCwgdGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbW91bnRJbWFnZTtcbiAgICB9LFxuICAgIF9jcmVhdGVPcGVuVGFnTWFya3VwQW5kUHV0TGlzdGVuZXJzOiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgcHJvcHMpIHtcbiAgICAgIHZhciByZXQgPSAnPCcgKyB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlO1xuICAgICAgZm9yICh2YXIgcHJvcEtleSBpbiBwcm9wcykge1xuICAgICAgICBpZiAoIXByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BLZXldO1xuICAgICAgICBpZiAocHJvcFZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgICBpZiAocHJvcFZhbHVlKSB7XG4gICAgICAgICAgICBlbnF1ZXVlUHV0TGlzdGVuZXIodGhpcywgcHJvcEtleSwgcHJvcFZhbHVlLCB0cmFuc2FjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAgICAgICAgaWYgKHByb3BWYWx1ZSkge1xuICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGUgPSBwcm9wVmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcHJvcFZhbHVlID0gdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgPSBfYXNzaWduKHt9LCBwcm9wcy5zdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9wVmFsdWUgPSBDU1NQcm9wZXJ0eU9wZXJhdGlvbnMuY3JlYXRlTWFya3VwRm9yU3R5bGVzKHByb3BWYWx1ZSwgdGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBtYXJrdXAgPSBudWxsO1xuICAgICAgICAgIGlmICh0aGlzLl90YWcgIT0gbnVsbCAmJiBpc0N1c3RvbUNvbXBvbmVudCh0aGlzLl90YWcsIHByb3BzKSkge1xuICAgICAgICAgICAgaWYgKCFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgICAgICBtYXJrdXAgPSBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuY3JlYXRlTWFya3VwRm9yQ3VzdG9tQXR0cmlidXRlKHByb3BLZXksIHByb3BWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hcmt1cCA9IERPTVByb3BlcnR5T3BlcmF0aW9ucy5jcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eShwcm9wS2V5LCBwcm9wVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWFya3VwKSB7XG4gICAgICAgICAgICByZXQgKz0gJyAnICsgbWFya3VwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRyYW5zYWN0aW9uLnJlbmRlclRvU3RhdGljTWFya3VwKSB7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuX25hdGl2ZVBhcmVudCkge1xuICAgICAgICByZXQgKz0gJyAnICsgRE9NUHJvcGVydHlPcGVyYXRpb25zLmNyZWF0ZU1hcmt1cEZvclJvb3QoKTtcbiAgICAgIH1cbiAgICAgIHJldCArPSAnICcgKyBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuY3JlYXRlTWFya3VwRm9ySUQodGhpcy5fZG9tSUQpO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuICAgIF9jcmVhdGVDb250ZW50TWFya3VwOiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgcHJvcHMsIGNvbnRleHQpIHtcbiAgICAgIHZhciByZXQgPSAnJztcbiAgICAgIHZhciBpbm5lckhUTUwgPSBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTDtcbiAgICAgIGlmIChpbm5lckhUTUwgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaW5uZXJIVE1MLl9faHRtbCAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0ID0gaW5uZXJIVE1MLl9faHRtbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNvbnRlbnRUb1VzZSA9IENPTlRFTlRfVFlQRVNbdHlwZW9mIHByb3BzLmNoaWxkcmVuXSA/IHByb3BzLmNoaWxkcmVuIDogbnVsbDtcbiAgICAgICAgdmFyIGNoaWxkcmVuVG9Vc2UgPSBjb250ZW50VG9Vc2UgIT0gbnVsbCA/IG51bGwgOiBwcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGNvbnRlbnRUb1VzZSAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0ID0gZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyKGNvbnRlbnRUb1VzZSk7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHNldENvbnRlbnRDaGlsZEZvckluc3RydW1lbnRhdGlvbi5jYWxsKHRoaXMsIGNvbnRlbnRUb1VzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkcmVuVG9Vc2UgIT0gbnVsbCkge1xuICAgICAgICAgIHZhciBtb3VudEltYWdlcyA9IHRoaXMubW91bnRDaGlsZHJlbihjaGlsZHJlblRvVXNlLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgICAgcmV0ID0gbW91bnRJbWFnZXMuam9pbignJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChuZXdsaW5lRWF0aW5nVGFnc1t0aGlzLl90YWddICYmIHJldC5jaGFyQXQoMCkgPT09ICdcXG4nKSB7XG4gICAgICAgIHJldHVybiAnXFxuJyArIHJldDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9XG4gICAgfSxcbiAgICBfY3JlYXRlSW5pdGlhbENoaWxkcmVuOiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgcHJvcHMsIGNvbnRleHQsIGxhenlUcmVlKSB7XG4gICAgICB2YXIgaW5uZXJIVE1MID0gcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw7XG4gICAgICBpZiAoaW5uZXJIVE1MICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlubmVySFRNTC5fX2h0bWwgIT0gbnVsbCkge1xuICAgICAgICAgIERPTUxhenlUcmVlLnF1ZXVlSFRNTChsYXp5VHJlZSwgaW5uZXJIVE1MLl9faHRtbCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjb250ZW50VG9Vc2UgPSBDT05URU5UX1RZUEVTW3R5cGVvZiBwcm9wcy5jaGlsZHJlbl0gPyBwcm9wcy5jaGlsZHJlbiA6IG51bGw7XG4gICAgICAgIHZhciBjaGlsZHJlblRvVXNlID0gY29udGVudFRvVXNlICE9IG51bGwgPyBudWxsIDogcHJvcHMuY2hpbGRyZW47XG4gICAgICAgIGlmIChjb250ZW50VG9Vc2UgIT0gbnVsbCkge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBzZXRDb250ZW50Q2hpbGRGb3JJbnN0cnVtZW50YXRpb24uY2FsbCh0aGlzLCBjb250ZW50VG9Vc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBET01MYXp5VHJlZS5xdWV1ZVRleHQobGF6eVRyZWUsIGNvbnRlbnRUb1VzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5Ub1VzZSAhPSBudWxsKSB7XG4gICAgICAgICAgdmFyIG1vdW50SW1hZ2VzID0gdGhpcy5tb3VudENoaWxkcmVuKGNoaWxkcmVuVG9Vc2UsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vdW50SW1hZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBET01MYXp5VHJlZS5xdWV1ZUNoaWxkKGxhenlUcmVlLCBtb3VudEltYWdlc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICByZWNlaXZlQ29tcG9uZW50OiBmdW5jdGlvbihuZXh0RWxlbWVudCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgIHZhciBwcmV2RWxlbWVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50O1xuICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBuZXh0RWxlbWVudDtcbiAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KHRyYW5zYWN0aW9uLCBwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQsIGNvbnRleHQpO1xuICAgIH0sXG4gICAgdXBkYXRlQ29tcG9uZW50OiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgcHJldkVsZW1lbnQsIG5leHRFbGVtZW50LCBjb250ZXh0KSB7XG4gICAgICB2YXIgbGFzdFByb3BzID0gcHJldkVsZW1lbnQucHJvcHM7XG4gICAgICB2YXIgbmV4dFByb3BzID0gdGhpcy5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICBzd2l0Y2ggKHRoaXMuX3RhZykge1xuICAgICAgICBjYXNlICdidXR0b24nOlxuICAgICAgICAgIGxhc3RQcm9wcyA9IFJlYWN0RE9NQnV0dG9uLmdldE5hdGl2ZVByb3BzKHRoaXMsIGxhc3RQcm9wcyk7XG4gICAgICAgICAgbmV4dFByb3BzID0gUmVhY3RET01CdXR0b24uZ2V0TmF0aXZlUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaW5wdXQnOlxuICAgICAgICAgIFJlYWN0RE9NSW5wdXQudXBkYXRlV3JhcHBlcih0aGlzKTtcbiAgICAgICAgICBsYXN0UHJvcHMgPSBSZWFjdERPTUlucHV0LmdldE5hdGl2ZVByb3BzKHRoaXMsIGxhc3RQcm9wcyk7XG4gICAgICAgICAgbmV4dFByb3BzID0gUmVhY3RET01JbnB1dC5nZXROYXRpdmVQcm9wcyh0aGlzLCBuZXh0UHJvcHMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdvcHRpb24nOlxuICAgICAgICAgIGxhc3RQcm9wcyA9IFJlYWN0RE9NT3B0aW9uLmdldE5hdGl2ZVByb3BzKHRoaXMsIGxhc3RQcm9wcyk7XG4gICAgICAgICAgbmV4dFByb3BzID0gUmVhY3RET01PcHRpb24uZ2V0TmF0aXZlUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgICBsYXN0UHJvcHMgPSBSZWFjdERPTVNlbGVjdC5nZXROYXRpdmVQcm9wcyh0aGlzLCBsYXN0UHJvcHMpO1xuICAgICAgICAgIG5leHRQcm9wcyA9IFJlYWN0RE9NU2VsZWN0LmdldE5hdGl2ZVByb3BzKHRoaXMsIG5leHRQcm9wcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgICAgICBSZWFjdERPTVRleHRhcmVhLnVwZGF0ZVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgbGFzdFByb3BzID0gUmVhY3RET01UZXh0YXJlYS5nZXROYXRpdmVQcm9wcyh0aGlzLCBsYXN0UHJvcHMpO1xuICAgICAgICAgIG5leHRQcm9wcyA9IFJlYWN0RE9NVGV4dGFyZWEuZ2V0TmF0aXZlUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGFzc2VydFZhbGlkUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgIHRoaXMuX3VwZGF0ZURPTVByb3BlcnRpZXMobGFzdFByb3BzLCBuZXh0UHJvcHMsIHRyYW5zYWN0aW9uKTtcbiAgICAgIHRoaXMuX3VwZGF0ZURPTUNoaWxkcmVuKGxhc3RQcm9wcywgbmV4dFByb3BzLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICBpZiAodGhpcy5fdGFnID09PSAnc2VsZWN0Jykge1xuICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKHBvc3RVcGRhdGVTZWxlY3RXcmFwcGVyLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIF91cGRhdGVET01Qcm9wZXJ0aWVzOiBmdW5jdGlvbihsYXN0UHJvcHMsIG5leHRQcm9wcywgdHJhbnNhY3Rpb24pIHtcbiAgICAgIHZhciBwcm9wS2V5O1xuICAgICAgdmFyIHN0eWxlTmFtZTtcbiAgICAgIHZhciBzdHlsZVVwZGF0ZXM7XG4gICAgICBmb3IgKHByb3BLZXkgaW4gbGFzdFByb3BzKSB7XG4gICAgICAgIGlmIChuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgfHwgIWxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSB8fCBsYXN0UHJvcHNbcHJvcEtleV0gPT0gbnVsbCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAgICAgIHZhciBsYXN0U3R5bGUgPSB0aGlzLl9wcmV2aW91c1N0eWxlQ29weTtcbiAgICAgICAgICBmb3IgKHN0eWxlTmFtZSBpbiBsYXN0U3R5bGUpIHtcbiAgICAgICAgICAgIGlmIChsYXN0U3R5bGUuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkge1xuICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXMgPSBzdHlsZVVwZGF0ZXMgfHwge307XG4gICAgICAgICAgICAgIHN0eWxlVXBkYXRlc1tzdHlsZU5hbWVdID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5ID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChyZWdpc3RyYXRpb25OYW1lTW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgIGlmIChsYXN0UHJvcHNbcHJvcEtleV0pIHtcbiAgICAgICAgICAgIGRlbGV0ZUxpc3RlbmVyKHRoaXMsIHByb3BLZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzW3Byb3BLZXldIHx8IERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKHByb3BLZXkpKSB7XG4gICAgICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLmRlbGV0ZVZhbHVlRm9yUHJvcGVydHkoZ2V0Tm9kZSh0aGlzKSwgcHJvcEtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAocHJvcEtleSBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgdmFyIG5leHRQcm9wID0gbmV4dFByb3BzW3Byb3BLZXldO1xuICAgICAgICB2YXIgbGFzdFByb3AgPSBwcm9wS2V5ID09PSBTVFlMRSA/IHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5IDogbGFzdFByb3BzICE9IG51bGwgPyBsYXN0UHJvcHNbcHJvcEtleV0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghbmV4dFByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpIHx8IG5leHRQcm9wID09PSBsYXN0UHJvcCB8fCBuZXh0UHJvcCA9PSBudWxsICYmIGxhc3RQcm9wID09IG51bGwpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgICAgICBpZiAobmV4dFByb3ApIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIGNoZWNrQW5kV2FybkZvck11dGF0ZWRTdHlsZSh0aGlzLl9wcmV2aW91c1N0eWxlQ29weSwgdGhpcy5fcHJldmlvdXNTdHlsZSwgdGhpcyk7XG4gICAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGUgPSBuZXh0UHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRQcm9wID0gdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgPSBfYXNzaWduKHt9LCBuZXh0UHJvcCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGxhc3RQcm9wKSB7XG4gICAgICAgICAgICBmb3IgKHN0eWxlTmFtZSBpbiBsYXN0UHJvcCkge1xuICAgICAgICAgICAgICBpZiAobGFzdFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJiAoIW5leHRQcm9wIHx8ICFuZXh0UHJvcC5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSkge1xuICAgICAgICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IHN0eWxlVXBkYXRlcyB8fCB7fTtcbiAgICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXNbc3R5bGVOYW1lXSA9ICcnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHN0eWxlTmFtZSBpbiBuZXh0UHJvcCkge1xuICAgICAgICAgICAgICBpZiAobmV4dFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJiBsYXN0UHJvcFtzdHlsZU5hbWVdICE9PSBuZXh0UHJvcFtzdHlsZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVVcGRhdGVzID0gc3R5bGVVcGRhdGVzIHx8IHt9O1xuICAgICAgICAgICAgICAgIHN0eWxlVXBkYXRlc1tzdHlsZU5hbWVdID0gbmV4dFByb3Bbc3R5bGVOYW1lXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHlsZVVwZGF0ZXMgPSBuZXh0UHJvcDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgICBpZiAobmV4dFByb3ApIHtcbiAgICAgICAgICAgIGVucXVldWVQdXRMaXN0ZW5lcih0aGlzLCBwcm9wS2V5LCBuZXh0UHJvcCwgdHJhbnNhY3Rpb24pO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGFzdFByb3ApIHtcbiAgICAgICAgICAgIGRlbGV0ZUxpc3RlbmVyKHRoaXMsIHByb3BLZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc0N1c3RvbUNvbXBvbmVudCh0aGlzLl90YWcsIG5leHRQcm9wcykpIHtcbiAgICAgICAgICBpZiAoIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JBdHRyaWJ1dGUoZ2V0Tm9kZSh0aGlzKSwgcHJvcEtleSwgbmV4dFByb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzW3Byb3BLZXldIHx8IERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKHByb3BLZXkpKSB7XG4gICAgICAgICAgdmFyIG5vZGUgPSBnZXROb2RlKHRoaXMpO1xuICAgICAgICAgIGlmIChuZXh0UHJvcCAhPSBudWxsKSB7XG4gICAgICAgICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JQcm9wZXJ0eShub2RlLCBwcm9wS2V5LCBuZXh0UHJvcCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5kZWxldGVWYWx1ZUZvclByb3BlcnR5KG5vZGUsIHByb3BLZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0eWxlVXBkYXRlcykge1xuICAgICAgICBDU1NQcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JTdHlsZXMoZ2V0Tm9kZSh0aGlzKSwgc3R5bGVVcGRhdGVzLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIF91cGRhdGVET01DaGlsZHJlbjogZnVuY3Rpb24obGFzdFByb3BzLCBuZXh0UHJvcHMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICB2YXIgbGFzdENvbnRlbnQgPSBDT05URU5UX1RZUEVTW3R5cGVvZiBsYXN0UHJvcHMuY2hpbGRyZW5dID8gbGFzdFByb3BzLmNoaWxkcmVuIDogbnVsbDtcbiAgICAgIHZhciBuZXh0Q29udGVudCA9IENPTlRFTlRfVFlQRVNbdHlwZW9mIG5leHRQcm9wcy5jaGlsZHJlbl0gPyBuZXh0UHJvcHMuY2hpbGRyZW4gOiBudWxsO1xuICAgICAgdmFyIGxhc3RIdG1sID0gbGFzdFByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICYmIGxhc3RQcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTC5fX2h0bWw7XG4gICAgICB2YXIgbmV4dEh0bWwgPSBuZXh0UHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgJiYgbmV4dFByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLl9faHRtbDtcbiAgICAgIHZhciBsYXN0Q2hpbGRyZW4gPSBsYXN0Q29udGVudCAhPSBudWxsID8gbnVsbCA6IGxhc3RQcm9wcy5jaGlsZHJlbjtcbiAgICAgIHZhciBuZXh0Q2hpbGRyZW4gPSBuZXh0Q29udGVudCAhPSBudWxsID8gbnVsbCA6IG5leHRQcm9wcy5jaGlsZHJlbjtcbiAgICAgIHZhciBsYXN0SGFzQ29udGVudE9ySHRtbCA9IGxhc3RDb250ZW50ICE9IG51bGwgfHwgbGFzdEh0bWwgIT0gbnVsbDtcbiAgICAgIHZhciBuZXh0SGFzQ29udGVudE9ySHRtbCA9IG5leHRDb250ZW50ICE9IG51bGwgfHwgbmV4dEh0bWwgIT0gbnVsbDtcbiAgICAgIGlmIChsYXN0Q2hpbGRyZW4gIT0gbnVsbCAmJiBuZXh0Q2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUNoaWxkcmVuKG51bGwsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgIH0gZWxzZSBpZiAobGFzdEhhc0NvbnRlbnRPckh0bWwgJiYgIW5leHRIYXNDb250ZW50T3JIdG1sKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dENvbnRlbnQoJycpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldENoaWxkcmVuKHRoaXMuX2RlYnVnSUQsIFtdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5leHRDb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGxhc3RDb250ZW50ICE9PSBuZXh0Q29udGVudCkge1xuICAgICAgICAgIHRoaXMudXBkYXRlVGV4dENvbnRlbnQoJycgKyBuZXh0Q29udGVudCk7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnREZWJ1Z0lEID0gdGhpcy5fZGVidWdJRCArICcjdGV4dCc7XG4gICAgICAgICAgICBzZXRDb250ZW50Q2hpbGRGb3JJbnN0cnVtZW50YXRpb24uY2FsbCh0aGlzLCBuZXh0Q29udGVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5leHRIdG1sICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGxhc3RIdG1sICE9PSBuZXh0SHRtbCkge1xuICAgICAgICAgIHRoaXMudXBkYXRlTWFya3VwKCcnICsgbmV4dEh0bWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uU2V0Q2hpbGRyZW4odGhpcy5fZGVidWdJRCwgW10pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5leHRDaGlsZHJlbiAhPSBudWxsKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnREZWJ1Z0lEKSB7XG4gICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25Vbm1vdW50Q29tcG9uZW50KHRoaXMuX2NvbnRlbnREZWJ1Z0lEKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnREZWJ1Z0lEID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVDaGlsZHJlbihuZXh0Q2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldE5hdGl2ZU5vZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGdldE5vZGUodGhpcyk7XG4gICAgfSxcbiAgICB1bm1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihzYWZlbHkpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5fdGFnKSB7XG4gICAgICAgIGNhc2UgJ2lmcmFtZSc6XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGNhc2UgJ2ltZyc6XG4gICAgICAgIGNhc2UgJ2Zvcm0nOlxuICAgICAgICBjYXNlICd2aWRlbyc6XG4gICAgICAgIGNhc2UgJ2F1ZGlvJzpcbiAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fd3JhcHBlclN0YXRlLmxpc3RlbmVycztcbiAgICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBsaXN0ZW5lcnNbaV0ucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgY2FzZSAnaGVhZCc6XG4gICAgICAgIGNhc2UgJ2JvZHknOlxuICAgICAgICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICc8JXM+IHRyaWVkIHRvIHVubW91bnQuIEJlY2F1c2Ugb2YgY3Jvc3MtYnJvd3NlciBxdWlya3MgaXQgaXMgJyArICdpbXBvc3NpYmxlIHRvIHVubW91bnQgc29tZSB0b3AtbGV2ZWwgY29tcG9uZW50cyAoZWcgPGh0bWw+LCAnICsgJzxoZWFkPiwgYW5kIDxib2R5PikgcmVsaWFibHkgYW5kIGVmZmljaWVudGx5LiBUbyBmaXggdGhpcywgaGF2ZSBhICcgKyAnc2luZ2xlIHRvcC1sZXZlbCBjb21wb25lbnQgdGhhdCBuZXZlciB1bm1vdW50cyByZW5kZXIgdGhlc2UgJyArICdlbGVtZW50cy4nLCB0aGlzLl90YWcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRoaXMudW5tb3VudENoaWxkcmVuKHNhZmVseSk7XG4gICAgICBSZWFjdERPTUNvbXBvbmVudFRyZWUudW5jYWNoZU5vZGUodGhpcyk7XG4gICAgICBFdmVudFBsdWdpbkh1Yi5kZWxldGVBbGxMaXN0ZW5lcnModGhpcyk7XG4gICAgICBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudC51bm1vdW50SURGcm9tRW52aXJvbm1lbnQodGhpcy5fcm9vdE5vZGVJRCk7XG4gICAgICB0aGlzLl9yb290Tm9kZUlEID0gbnVsbDtcbiAgICAgIHRoaXMuX2RvbUlEID0gbnVsbDtcbiAgICAgIHRoaXMuX3dyYXBwZXJTdGF0ZSA9IG51bGw7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudERlYnVnSUQpIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25Vbm1vdW50Q29tcG9uZW50KHRoaXMuX2NvbnRlbnREZWJ1Z0lEKTtcbiAgICAgICAgICB0aGlzLl9jb250ZW50RGVidWdJRCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFB1YmxpY0luc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBnZXROb2RlKHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgX2Fzc2lnbihSZWFjdERPTUNvbXBvbmVudC5wcm90b3R5cGUsIFJlYWN0RE9NQ29tcG9uZW50Lk1peGluLCBSZWFjdE11bHRpQ2hpbGQuTWl4aW4pO1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NQ29tcG9uZW50O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG52YXIgRE9NTGF6eVRyZWUgPSByZXF1aXJlKCcuL0RPTUxhenlUcmVlJyk7XG52YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gcmVxdWlyZSgnLi9SZWFjdERPTUNvbXBvbmVudFRyZWUnKTtcbnZhciBSZWFjdERPTUVtcHR5Q29tcG9uZW50ID0gZnVuY3Rpb24oaW5zdGFudGlhdGUpIHtcbiAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBudWxsO1xuICB0aGlzLl9uYXRpdmVOb2RlID0gbnVsbDtcbiAgdGhpcy5fbmF0aXZlUGFyZW50ID0gbnVsbDtcbiAgdGhpcy5fbmF0aXZlQ29udGFpbmVySW5mbyA9IG51bGw7XG4gIHRoaXMuX2RvbUlEID0gbnVsbDtcbn07XG5fYXNzaWduKFJlYWN0RE9NRW1wdHlDb21wb25lbnQucHJvdG90eXBlLCB7XG4gIG1vdW50Q29tcG9uZW50OiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCBjb250ZXh0KSB7XG4gICAgdmFyIGRvbUlEID0gbmF0aXZlQ29udGFpbmVySW5mby5faWRDb3VudGVyKys7XG4gICAgdGhpcy5fZG9tSUQgPSBkb21JRDtcbiAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBuYXRpdmVQYXJlbnQ7XG4gICAgdGhpcy5fbmF0aXZlQ29udGFpbmVySW5mbyA9IG5hdGl2ZUNvbnRhaW5lckluZm87XG4gICAgdmFyIG5vZGVWYWx1ZSA9ICcgcmVhY3QtZW1wdHk6ICcgKyB0aGlzLl9kb21JRCArICcgJztcbiAgICBpZiAodHJhbnNhY3Rpb24udXNlQ3JlYXRlRWxlbWVudCkge1xuICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBuYXRpdmVDb250YWluZXJJbmZvLl9vd25lckRvY3VtZW50O1xuICAgICAgdmFyIG5vZGUgPSBvd25lckRvY3VtZW50LmNyZWF0ZUNvbW1lbnQobm9kZVZhbHVlKTtcbiAgICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZS5wcmVjYWNoZU5vZGUodGhpcywgbm9kZSk7XG4gICAgICByZXR1cm4gRE9NTGF6eVRyZWUobm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0cmFuc2FjdGlvbi5yZW5kZXJUb1N0YXRpY01hcmt1cCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJzwhLS0nICsgbm9kZVZhbHVlICsgJy0tPic7XG4gICAgfVxuICB9LFxuICByZWNlaXZlQ29tcG9uZW50OiBmdW5jdGlvbigpIHt9LFxuICBnZXROYXRpdmVOb2RlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UodGhpcyk7XG4gIH0sXG4gIHVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKCkge1xuICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZS51bmNhY2hlTm9kZSh0aGlzKTtcbiAgfVxufSk7XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NRW1wdHlDb21wb25lbnQ7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICBmdW5jdGlvbiBnZXRMb3dlc3RDb21tb25BbmNlc3RvcihpbnN0QSwgaW5zdEIpIHtcbiAgICAhKCdfbmF0aXZlTm9kZScgaW4gaW5zdEEpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2dldE5vZGVGcm9tSW5zdGFuY2U6IEludmFsaWQgYXJndW1lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEoJ19uYXRpdmVOb2RlJyBpbiBpbnN0QikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZ2V0Tm9kZUZyb21JbnN0YW5jZTogSW52YWxpZCBhcmd1bWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGRlcHRoQSA9IDA7XG4gICAgZm9yICh2YXIgdGVtcEEgPSBpbnN0QTsgdGVtcEE7IHRlbXBBID0gdGVtcEEuX25hdGl2ZVBhcmVudCkge1xuICAgICAgZGVwdGhBKys7XG4gICAgfVxuICAgIHZhciBkZXB0aEIgPSAwO1xuICAgIGZvciAodmFyIHRlbXBCID0gaW5zdEI7IHRlbXBCOyB0ZW1wQiA9IHRlbXBCLl9uYXRpdmVQYXJlbnQpIHtcbiAgICAgIGRlcHRoQisrO1xuICAgIH1cbiAgICB3aGlsZSAoZGVwdGhBIC0gZGVwdGhCID4gMCkge1xuICAgICAgaW5zdEEgPSBpbnN0QS5fbmF0aXZlUGFyZW50O1xuICAgICAgZGVwdGhBLS07XG4gICAgfVxuICAgIHdoaWxlIChkZXB0aEIgLSBkZXB0aEEgPiAwKSB7XG4gICAgICBpbnN0QiA9IGluc3RCLl9uYXRpdmVQYXJlbnQ7XG4gICAgICBkZXB0aEItLTtcbiAgICB9XG4gICAgdmFyIGRlcHRoID0gZGVwdGhBO1xuICAgIHdoaWxlIChkZXB0aC0tKSB7XG4gICAgICBpZiAoaW5zdEEgPT09IGluc3RCKSB7XG4gICAgICAgIHJldHVybiBpbnN0QTtcbiAgICAgIH1cbiAgICAgIGluc3RBID0gaW5zdEEuX25hdGl2ZVBhcmVudDtcbiAgICAgIGluc3RCID0gaW5zdEIuX25hdGl2ZVBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gaXNBbmNlc3RvcihpbnN0QSwgaW5zdEIpIHtcbiAgICAhKCdfbmF0aXZlTm9kZScgaW4gaW5zdEEpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2lzQW5jZXN0b3I6IEludmFsaWQgYXJndW1lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEoJ19uYXRpdmVOb2RlJyBpbiBpbnN0QikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnaXNBbmNlc3RvcjogSW52YWxpZCBhcmd1bWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgd2hpbGUgKGluc3RCKSB7XG4gICAgICBpZiAoaW5zdEIgPT09IGluc3RBKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaW5zdEIgPSBpbnN0Qi5fbmF0aXZlUGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0UGFyZW50SW5zdGFuY2UoaW5zdCkge1xuICAgICEoJ19uYXRpdmVOb2RlJyBpbiBpbnN0KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdnZXRQYXJlbnRJbnN0YW5jZTogSW52YWxpZCBhcmd1bWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGluc3QuX25hdGl2ZVBhcmVudDtcbiAgfVxuICBmdW5jdGlvbiB0cmF2ZXJzZVR3b1BoYXNlKGluc3QsIGZuLCBhcmcpIHtcbiAgICB2YXIgcGF0aCA9IFtdO1xuICAgIHdoaWxlIChpbnN0KSB7XG4gICAgICBwYXRoLnB1c2goaW5zdCk7XG4gICAgICBpbnN0ID0gaW5zdC5fbmF0aXZlUGFyZW50O1xuICAgIH1cbiAgICB2YXIgaTtcbiAgICBmb3IgKGkgPSBwYXRoLmxlbmd0aDsgaS0tID4gMDsgKSB7XG4gICAgICBmbihwYXRoW2ldLCBmYWxzZSwgYXJnKTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZuKHBhdGhbaV0sIHRydWUsIGFyZyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHRyYXZlcnNlRW50ZXJMZWF2ZShmcm9tLCB0bywgZm4sIGFyZ0Zyb20sIGFyZ1RvKSB7XG4gICAgdmFyIGNvbW1vbiA9IGZyb20gJiYgdG8gPyBnZXRMb3dlc3RDb21tb25BbmNlc3Rvcihmcm9tLCB0bykgOiBudWxsO1xuICAgIHZhciBwYXRoRnJvbSA9IFtdO1xuICAgIHdoaWxlIChmcm9tICYmIGZyb20gIT09IGNvbW1vbikge1xuICAgICAgcGF0aEZyb20ucHVzaChmcm9tKTtcbiAgICAgIGZyb20gPSBmcm9tLl9uYXRpdmVQYXJlbnQ7XG4gICAgfVxuICAgIHZhciBwYXRoVG8gPSBbXTtcbiAgICB3aGlsZSAodG8gJiYgdG8gIT09IGNvbW1vbikge1xuICAgICAgcGF0aFRvLnB1c2godG8pO1xuICAgICAgdG8gPSB0by5fbmF0aXZlUGFyZW50O1xuICAgIH1cbiAgICB2YXIgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgcGF0aEZyb20ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZuKHBhdGhGcm9tW2ldLCB0cnVlLCBhcmdGcm9tKTtcbiAgICB9XG4gICAgZm9yIChpID0gcGF0aFRvLmxlbmd0aDsgaS0tID4gMDsgKSB7XG4gICAgICBmbihwYXRoVG9baV0sIGZhbHNlLCBhcmdUbyk7XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0ge1xuICAgIGlzQW5jZXN0b3I6IGlzQW5jZXN0b3IsXG4gICAgZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3I6IGdldExvd2VzdENvbW1vbkFuY2VzdG9yLFxuICAgIGdldFBhcmVudEluc3RhbmNlOiBnZXRQYXJlbnRJbnN0YW5jZSxcbiAgICB0cmF2ZXJzZVR3b1BoYXNlOiB0cmF2ZXJzZVR3b1BoYXNlLFxuICAgIHRyYXZlcnNlRW50ZXJMZWF2ZTogdHJhdmVyc2VFbnRlckxlYXZlXG4gIH07XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCcuL2ludmFyaWFudCcpO1xuICBmdW5jdGlvbiB0b0FycmF5KG9iaikge1xuICAgIHZhciBsZW5ndGggPSBvYmoubGVuZ3RoO1xuICAgICEoIUFycmF5LmlzQXJyYXkob2JqKSAmJiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3RvQXJyYXk6IEFycmF5LWxpa2Ugb2JqZWN0IGV4cGVjdGVkJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEodHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3RvQXJyYXk6IE9iamVjdCBuZWVkcyBhIGxlbmd0aCBwcm9wZXJ0eScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAhKGxlbmd0aCA9PT0gMCB8fCBsZW5ndGggLSAxIGluIG9iaikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndG9BcnJheTogT2JqZWN0IHNob3VsZCBoYXZlIGtleXMgZm9yIGluZGljZXMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgISh0eXBlb2Ygb2JqLmNhbGxlZSAhPT0gJ2Z1bmN0aW9uJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndG9BcnJheTogT2JqZWN0IGNhblxcJ3QgYmUgYGFyZ3VtZW50c2AuIFVzZSByZXN0IHBhcmFtcyAnICsgJyhmdW5jdGlvbiguLi5hcmdzKSB7fSkgb3IgQXJyYXkuZnJvbSgpIGluc3RlYWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmopO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gICAgdmFyIHJldCA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgICAgcmV0W2lpXSA9IG9ialtpaV07XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cbiAgZnVuY3Rpb24gaGFzQXJyYXlOYXR1cmUob2JqKSB7XG4gICAgcmV0dXJuICghIW9iaiAmJiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqID09ICdmdW5jdGlvbicpICYmICdsZW5ndGgnIGluIG9iaiAmJiAhKCdzZXRJbnRlcnZhbCcgaW4gb2JqKSAmJiB0eXBlb2Ygb2JqLm5vZGVUeXBlICE9ICdudW1iZXInICYmIChBcnJheS5pc0FycmF5KG9iaikgfHwgJ2NhbGxlZScgaW4gb2JqIHx8ICdpdGVtJyBpbiBvYmopKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVBcnJheUZyb21NaXhlZChvYmopIHtcbiAgICBpZiAoIWhhc0FycmF5TmF0dXJlKG9iaikpIHtcbiAgICAgIHJldHVybiBbb2JqXTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgcmV0dXJuIG9iai5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdG9BcnJheShvYmopO1xuICAgIH1cbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUFycmF5RnJvbU1peGVkO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG4gIHZhciBjcmVhdGVBcnJheUZyb21NaXhlZCA9IHJlcXVpcmUoJy4vY3JlYXRlQXJyYXlGcm9tTWl4ZWQnKTtcbiAgdmFyIGdldE1hcmt1cFdyYXAgPSByZXF1aXJlKCcuL2dldE1hcmt1cFdyYXAnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJy4vaW52YXJpYW50Jyk7XG4gIHZhciBkdW1teU5vZGUgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSA6IG51bGw7XG4gIHZhciBub2RlTmFtZVBhdHRlcm4gPSAvXlxccyo8KFxcdyspLztcbiAgZnVuY3Rpb24gZ2V0Tm9kZU5hbWUobWFya3VwKSB7XG4gICAgdmFyIG5vZGVOYW1lTWF0Y2ggPSBtYXJrdXAubWF0Y2gobm9kZU5hbWVQYXR0ZXJuKTtcbiAgICByZXR1cm4gbm9kZU5hbWVNYXRjaCAmJiBub2RlTmFtZU1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTm9kZXNGcm9tTWFya3VwKG1hcmt1cCwgaGFuZGxlU2NyaXB0KSB7XG4gICAgdmFyIG5vZGUgPSBkdW1teU5vZGU7XG4gICAgISEhZHVtbXlOb2RlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2NyZWF0ZU5vZGVzRnJvbU1hcmt1cCBkdW1teSBub3QgaW5pdGlhbGl6ZWQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIG5vZGVOYW1lID0gZ2V0Tm9kZU5hbWUobWFya3VwKTtcbiAgICB2YXIgd3JhcCA9IG5vZGVOYW1lICYmIGdldE1hcmt1cFdyYXAobm9kZU5hbWUpO1xuICAgIGlmICh3cmFwKSB7XG4gICAgICBub2RlLmlubmVySFRNTCA9IHdyYXBbMV0gKyBtYXJrdXAgKyB3cmFwWzJdO1xuICAgICAgdmFyIHdyYXBEZXB0aCA9IHdyYXBbMF07XG4gICAgICB3aGlsZSAod3JhcERlcHRoLS0pIHtcbiAgICAgICAgbm9kZSA9IG5vZGUubGFzdENoaWxkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLmlubmVySFRNTCA9IG1hcmt1cDtcbiAgICB9XG4gICAgdmFyIHNjcmlwdHMgPSBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcbiAgICBpZiAoc2NyaXB0cy5sZW5ndGgpIHtcbiAgICAgICFoYW5kbGVTY3JpcHQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnY3JlYXRlTm9kZXNGcm9tTWFya3VwKC4uLik6IFVuZXhwZWN0ZWQgPHNjcmlwdD4gZWxlbWVudCByZW5kZXJlZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBjcmVhdGVBcnJheUZyb21NaXhlZChzY3JpcHRzKS5mb3JFYWNoKGhhbmRsZVNjcmlwdCk7XG4gICAgfVxuICAgIHZhciBub2RlcyA9IEFycmF5LmZyb20obm9kZS5jaGlsZE5vZGVzKTtcbiAgICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpIHtcbiAgICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5sYXN0Q2hpbGQpO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZXM7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVOb2Rlc0Zyb21NYXJrdXA7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJy4vRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJy4vaW52YXJpYW50Jyk7XG4gIHZhciBkdW1teU5vZGUgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSA6IG51bGw7XG4gIHZhciBzaG91bGRXcmFwID0ge307XG4gIHZhciBzZWxlY3RXcmFwID0gWzEsICc8c2VsZWN0IG11bHRpcGxlPVwidHJ1ZVwiPicsICc8L3NlbGVjdD4nXTtcbiAgdmFyIHRhYmxlV3JhcCA9IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddO1xuICB2YXIgdHJXcmFwID0gWzMsICc8dGFibGU+PHRib2R5Pjx0cj4nLCAnPC90cj48L3Rib2R5PjwvdGFibGU+J107XG4gIHZhciBzdmdXcmFwID0gWzEsICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj4nLCAnPC9zdmc+J107XG4gIHZhciBtYXJrdXBXcmFwID0ge1xuICAgICcqJzogWzEsICc/PGRpdj4nLCAnPC9kaXY+J10sXG4gICAgJ2FyZWEnOiBbMSwgJzxtYXA+JywgJzwvbWFwPiddLFxuICAgICdjb2wnOiBbMiwgJzx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+JywgJzwvY29sZ3JvdXA+PC90YWJsZT4nXSxcbiAgICAnbGVnZW5kJzogWzEsICc8ZmllbGRzZXQ+JywgJzwvZmllbGRzZXQ+J10sXG4gICAgJ3BhcmFtJzogWzEsICc8b2JqZWN0PicsICc8L29iamVjdD4nXSxcbiAgICAndHInOiBbMiwgJzx0YWJsZT48dGJvZHk+JywgJzwvdGJvZHk+PC90YWJsZT4nXSxcbiAgICAnb3B0Z3JvdXAnOiBzZWxlY3RXcmFwLFxuICAgICdvcHRpb24nOiBzZWxlY3RXcmFwLFxuICAgICdjYXB0aW9uJzogdGFibGVXcmFwLFxuICAgICdjb2xncm91cCc6IHRhYmxlV3JhcCxcbiAgICAndGJvZHknOiB0YWJsZVdyYXAsXG4gICAgJ3Rmb290JzogdGFibGVXcmFwLFxuICAgICd0aGVhZCc6IHRhYmxlV3JhcCxcbiAgICAndGQnOiB0cldyYXAsXG4gICAgJ3RoJzogdHJXcmFwXG4gIH07XG4gIHZhciBzdmdFbGVtZW50cyA9IFsnY2lyY2xlJywgJ2NsaXBQYXRoJywgJ2RlZnMnLCAnZWxsaXBzZScsICdnJywgJ2ltYWdlJywgJ2xpbmUnLCAnbGluZWFyR3JhZGllbnQnLCAnbWFzaycsICdwYXRoJywgJ3BhdHRlcm4nLCAncG9seWdvbicsICdwb2x5bGluZScsICdyYWRpYWxHcmFkaWVudCcsICdyZWN0JywgJ3N0b3AnLCAndGV4dCcsICd0c3BhbiddO1xuICBzdmdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKG5vZGVOYW1lKSB7XG4gICAgbWFya3VwV3JhcFtub2RlTmFtZV0gPSBzdmdXcmFwO1xuICAgIHNob3VsZFdyYXBbbm9kZU5hbWVdID0gdHJ1ZTtcbiAgfSk7XG4gIGZ1bmN0aW9uIGdldE1hcmt1cFdyYXAobm9kZU5hbWUpIHtcbiAgICAhISFkdW1teU5vZGUgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnTWFya3VwIHdyYXBwaW5nIG5vZGUgbm90IGluaXRpYWxpemVkJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGlmICghbWFya3VwV3JhcC5oYXNPd25Qcm9wZXJ0eShub2RlTmFtZSkpIHtcbiAgICAgIG5vZGVOYW1lID0gJyonO1xuICAgIH1cbiAgICBpZiAoIXNob3VsZFdyYXAuaGFzT3duUHJvcGVydHkobm9kZU5hbWUpKSB7XG4gICAgICBpZiAobm9kZU5hbWUgPT09ICcqJykge1xuICAgICAgICBkdW1teU5vZGUuaW5uZXJIVE1MID0gJzxsaW5rIC8+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGR1bW15Tm9kZS5pbm5lckhUTUwgPSAnPCcgKyBub2RlTmFtZSArICc+PC8nICsgbm9kZU5hbWUgKyAnPic7XG4gICAgICB9XG4gICAgICBzaG91bGRXcmFwW25vZGVOYW1lXSA9ICFkdW1teU5vZGUuZmlyc3RDaGlsZDtcbiAgICB9XG4gICAgcmV0dXJuIHNob3VsZFdyYXBbbm9kZU5hbWVdID8gbWFya3VwV3JhcFtub2RlTmFtZV0gOiBudWxsO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZ2V0TWFya3VwV3JhcDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIERPTUxhenlUcmVlID0gcmVxdWlyZSgnLi9ET01MYXp5VHJlZScpO1xuICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuICB2YXIgY3JlYXRlTm9kZXNGcm9tTWFya3VwID0gcmVxdWlyZSgnZmJqcy9saWIvY3JlYXRlTm9kZXNGcm9tTWFya3VwJyk7XG4gIHZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xuICB2YXIgZ2V0TWFya3VwV3JhcCA9IHJlcXVpcmUoJ2ZianMvbGliL2dldE1hcmt1cFdyYXAnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgT1BFTl9UQUdfTkFNRV9FWFAgPSAvXig8W14gXFwvPl0rKS87XG4gIHZhciBSRVNVTFRfSU5ERVhfQVRUUiA9ICdkYXRhLWRhbmdlci1pbmRleCc7XG4gIGZ1bmN0aW9uIGdldE5vZGVOYW1lKG1hcmt1cCkge1xuICAgIHJldHVybiBtYXJrdXAuc3Vic3RyaW5nKDEsIG1hcmt1cC5pbmRleE9mKCcgJykpO1xuICB9XG4gIHZhciBEYW5nZXIgPSB7XG4gICAgZGFuZ2Vyb3VzbHlSZW5kZXJNYXJrdXA6IGZ1bmN0aW9uKG1hcmt1cExpc3QpIHtcbiAgICAgICFFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZGFuZ2Vyb3VzbHlSZW5kZXJNYXJrdXAoLi4uKTogQ2Fubm90IHJlbmRlciBtYXJrdXAgaW4gYSB3b3JrZXIgJyArICd0aHJlYWQuIE1ha2Ugc3VyZSBgd2luZG93YCBhbmQgYGRvY3VtZW50YCBhcmUgYXZhaWxhYmxlIGdsb2JhbGx5ICcgKyAnYmVmb3JlIHJlcXVpcmluZyBSZWFjdCB3aGVuIHVuaXQgdGVzdGluZyBvciB1c2UgJyArICdSZWFjdERPTVNlcnZlci5yZW5kZXJUb1N0cmluZyBmb3Igc2VydmVyIHJlbmRlcmluZy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgbm9kZU5hbWU7XG4gICAgICB2YXIgbWFya3VwQnlOb2RlTmFtZSA9IHt9O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrdXBMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICFtYXJrdXBMaXN0W2ldID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2Rhbmdlcm91c2x5UmVuZGVyTWFya3VwKC4uLik6IE1pc3NpbmcgbWFya3VwLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgbm9kZU5hbWUgPSBnZXROb2RlTmFtZShtYXJrdXBMaXN0W2ldKTtcbiAgICAgICAgbm9kZU5hbWUgPSBnZXRNYXJrdXBXcmFwKG5vZGVOYW1lKSA/IG5vZGVOYW1lIDogJyonO1xuICAgICAgICBtYXJrdXBCeU5vZGVOYW1lW25vZGVOYW1lXSA9IG1hcmt1cEJ5Tm9kZU5hbWVbbm9kZU5hbWVdIHx8IFtdO1xuICAgICAgICBtYXJrdXBCeU5vZGVOYW1lW25vZGVOYW1lXVtpXSA9IG1hcmt1cExpc3RbaV07XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0TGlzdCA9IFtdO1xuICAgICAgdmFyIHJlc3VsdExpc3RBc3NpZ25tZW50Q291bnQgPSAwO1xuICAgICAgZm9yIChub2RlTmFtZSBpbiBtYXJrdXBCeU5vZGVOYW1lKSB7XG4gICAgICAgIGlmICghbWFya3VwQnlOb2RlTmFtZS5oYXNPd25Qcm9wZXJ0eShub2RlTmFtZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWFya3VwTGlzdEJ5Tm9kZU5hbWUgPSBtYXJrdXBCeU5vZGVOYW1lW25vZGVOYW1lXTtcbiAgICAgICAgdmFyIHJlc3VsdEluZGV4O1xuICAgICAgICBmb3IgKHJlc3VsdEluZGV4IGluIG1hcmt1cExpc3RCeU5vZGVOYW1lKSB7XG4gICAgICAgICAgaWYgKG1hcmt1cExpc3RCeU5vZGVOYW1lLmhhc093blByb3BlcnR5KHJlc3VsdEluZGV4KSkge1xuICAgICAgICAgICAgdmFyIG1hcmt1cCA9IG1hcmt1cExpc3RCeU5vZGVOYW1lW3Jlc3VsdEluZGV4XTtcbiAgICAgICAgICAgIG1hcmt1cExpc3RCeU5vZGVOYW1lW3Jlc3VsdEluZGV4XSA9IG1hcmt1cC5yZXBsYWNlKE9QRU5fVEFHX05BTUVfRVhQLCAnJDEgJyArIFJFU1VMVF9JTkRFWF9BVFRSICsgJz1cIicgKyByZXN1bHRJbmRleCArICdcIiAnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbmRlck5vZGVzID0gY3JlYXRlTm9kZXNGcm9tTWFya3VwKG1hcmt1cExpc3RCeU5vZGVOYW1lLmpvaW4oJycpLCBlbXB0eUZ1bmN0aW9uKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZW5kZXJOb2Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgIHZhciByZW5kZXJOb2RlID0gcmVuZGVyTm9kZXNbal07XG4gICAgICAgICAgaWYgKHJlbmRlck5vZGUuaGFzQXR0cmlidXRlICYmIHJlbmRlck5vZGUuaGFzQXR0cmlidXRlKFJFU1VMVF9JTkRFWF9BVFRSKSkge1xuICAgICAgICAgICAgcmVzdWx0SW5kZXggPSArcmVuZGVyTm9kZS5nZXRBdHRyaWJ1dGUoUkVTVUxUX0lOREVYX0FUVFIpO1xuICAgICAgICAgICAgcmVuZGVyTm9kZS5yZW1vdmVBdHRyaWJ1dGUoUkVTVUxUX0lOREVYX0FUVFIpO1xuICAgICAgICAgICAgISFyZXN1bHRMaXN0Lmhhc093blByb3BlcnR5KHJlc3VsdEluZGV4KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEYW5nZXI6IEFzc2lnbmluZyB0byBhbiBhbHJlYWR5LW9jY3VwaWVkIHJlc3VsdCBpbmRleC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICByZXN1bHRMaXN0W3Jlc3VsdEluZGV4XSA9IHJlbmRlck5vZGU7XG4gICAgICAgICAgICByZXN1bHRMaXN0QXNzaWdubWVudENvdW50ICs9IDE7XG4gICAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdEYW5nZXI6IERpc2NhcmRpbmcgdW5leHBlY3RlZCBub2RlOicsIHJlbmRlck5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIShyZXN1bHRMaXN0QXNzaWdubWVudENvdW50ID09PSByZXN1bHRMaXN0Lmxlbmd0aCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRGFuZ2VyOiBEaWQgbm90IGFzc2lnbiB0byBldmVyeSBpbmRleCBvZiByZXN1bHRMaXN0LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICEocmVzdWx0TGlzdC5sZW5ndGggPT09IG1hcmt1cExpc3QubGVuZ3RoKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEYW5nZXI6IEV4cGVjdGVkIG1hcmt1cCB0byByZW5kZXIgJXMgbm9kZXMsIGJ1dCByZW5kZXJlZCAlcy4nLCBtYXJrdXBMaXN0Lmxlbmd0aCwgcmVzdWx0TGlzdC5sZW5ndGgpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiByZXN1bHRMaXN0O1xuICAgIH0sXG4gICAgZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXA6IGZ1bmN0aW9uKG9sZENoaWxkLCBtYXJrdXApIHtcbiAgICAgICFFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAoLi4uKTogQ2Fubm90IHJlbmRlciBtYXJrdXAgaW4gYSAnICsgJ3dvcmtlciB0aHJlYWQuIE1ha2Ugc3VyZSBgd2luZG93YCBhbmQgYGRvY3VtZW50YCBhcmUgYXZhaWxhYmxlICcgKyAnZ2xvYmFsbHkgYmVmb3JlIHJlcXVpcmluZyBSZWFjdCB3aGVuIHVuaXQgdGVzdGluZyBvciB1c2UgJyArICdSZWFjdERPTVNlcnZlci5yZW5kZXJUb1N0cmluZygpIGZvciBzZXJ2ZXIgcmVuZGVyaW5nLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICFtYXJrdXAgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAoLi4uKTogTWlzc2luZyBtYXJrdXAuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgIShvbGRDaGlsZC5ub2RlTmFtZSAhPT0gJ0hUTUwnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cCguLi4pOiBDYW5ub3QgcmVwbGFjZSBtYXJrdXAgb2YgdGhlICcgKyAnPGh0bWw+IG5vZGUuIFRoaXMgaXMgYmVjYXVzZSBicm93c2VyIHF1aXJrcyBtYWtlIHRoaXMgdW5yZWxpYWJsZSAnICsgJ2FuZC9vciBzbG93LiBJZiB5b3Ugd2FudCB0byByZW5kZXIgdG8gdGhlIHJvb3QgeW91IG11c3QgdXNlICcgKyAnc2VydmVyIHJlbmRlcmluZy4gU2VlIFJlYWN0RE9NU2VydmVyLnJlbmRlclRvU3RyaW5nKCkuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaWYgKHR5cGVvZiBtYXJrdXAgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciBuZXdDaGlsZCA9IGNyZWF0ZU5vZGVzRnJvbU1hcmt1cChtYXJrdXAsIGVtcHR5RnVuY3Rpb24pWzBdO1xuICAgICAgICBvbGRDaGlsZC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdDaGlsZCwgb2xkQ2hpbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgRE9NTGF6eVRyZWUucmVwbGFjZUNoaWxkV2l0aFRyZWUob2xkQ2hpbGQsIG1hcmt1cCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IERhbmdlcjtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBrZXlNaXJyb3IgPSByZXF1aXJlKCdmYmpzL2xpYi9rZXlNaXJyb3InKTtcblxuLyoqXG4gKiBXaGVuIGEgY29tcG9uZW50J3MgY2hpbGRyZW4gYXJlIHVwZGF0ZWQsIGEgc2VyaWVzIG9mIHVwZGF0ZSBjb25maWd1cmF0aW9uXG4gKiBvYmplY3RzIGFyZSBjcmVhdGVkIGluIG9yZGVyIHRvIGJhdGNoIGFuZCBzZXJpYWxpemUgdGhlIHJlcXVpcmVkIGNoYW5nZXMuXG4gKlxuICogRW51bWVyYXRlcyBhbGwgdGhlIHBvc3NpYmxlIHR5cGVzIG9mIHVwZGF0ZSBjb25maWd1cmF0aW9ucy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzID0ga2V5TWlycm9yKHtcbiAgSU5TRVJUX01BUktVUDogbnVsbCxcbiAgTU9WRV9FWElTVElORzogbnVsbCxcbiAgUkVNT1ZFX05PREU6IG51bGwsXG4gIFNFVF9NQVJLVVA6IG51bGwsXG4gIFRFWFRfQ09OVEVOVDogbnVsbFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXM7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBET01MYXp5VHJlZSA9IHJlcXVpcmUoJy4vRE9NTGF6eVRyZWUnKTtcbiAgdmFyIERhbmdlciA9IHJlcXVpcmUoJy4vRGFuZ2VyJyk7XG4gIHZhciBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcyA9IHJlcXVpcmUoJy4vUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRUcmVlJyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIGNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24gPSByZXF1aXJlKCcuL2NyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24nKTtcbiAgdmFyIHNldElubmVySFRNTCA9IHJlcXVpcmUoJy4vc2V0SW5uZXJIVE1MJyk7XG4gIHZhciBzZXRUZXh0Q29udGVudCA9IHJlcXVpcmUoJy4vc2V0VGV4dENvbnRlbnQnKTtcbiAgZnVuY3Rpb24gZ2V0Tm9kZUFmdGVyKHBhcmVudE5vZGUsIG5vZGUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgICAgbm9kZSA9IG5vZGVbMV07XG4gICAgfVxuICAgIHJldHVybiBub2RlID8gbm9kZS5uZXh0U2libGluZyA6IHBhcmVudE5vZGUuZmlyc3RDaGlsZDtcbiAgfVxuICB2YXIgaW5zZXJ0Q2hpbGRBdCA9IGNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24oZnVuY3Rpb24ocGFyZW50Tm9kZSwgY2hpbGROb2RlLCByZWZlcmVuY2VOb2RlKSB7XG4gICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2hpbGROb2RlLCByZWZlcmVuY2VOb2RlKTtcbiAgfSk7XG4gIGZ1bmN0aW9uIGluc2VydExhenlUcmVlQ2hpbGRBdChwYXJlbnROb2RlLCBjaGlsZFRyZWUsIHJlZmVyZW5jZU5vZGUpIHtcbiAgICBET01MYXp5VHJlZS5pbnNlcnRUcmVlQmVmb3JlKHBhcmVudE5vZGUsIGNoaWxkVHJlZSwgcmVmZXJlbmNlTm9kZSk7XG4gIH1cbiAgZnVuY3Rpb24gbW92ZUNoaWxkKHBhcmVudE5vZGUsIGNoaWxkTm9kZSwgcmVmZXJlbmNlTm9kZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkTm9kZSkpIHtcbiAgICAgIG1vdmVEZWxpbWl0ZWRUZXh0KHBhcmVudE5vZGUsIGNoaWxkTm9kZVswXSwgY2hpbGROb2RlWzFdLCByZWZlcmVuY2VOb2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zZXJ0Q2hpbGRBdChwYXJlbnROb2RlLCBjaGlsZE5vZGUsIHJlZmVyZW5jZU5vZGUpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiByZW1vdmVDaGlsZChwYXJlbnROb2RlLCBjaGlsZE5vZGUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZE5vZGUpKSB7XG4gICAgICB2YXIgY2xvc2luZ0NvbW1lbnQgPSBjaGlsZE5vZGVbMV07XG4gICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGVbMF07XG4gICAgICByZW1vdmVEZWxpbWl0ZWRUZXh0KHBhcmVudE5vZGUsIGNoaWxkTm9kZSwgY2xvc2luZ0NvbW1lbnQpO1xuICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbG9zaW5nQ29tbWVudCk7XG4gICAgfVxuICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2hpbGROb2RlKTtcbiAgfVxuICBmdW5jdGlvbiBtb3ZlRGVsaW1pdGVkVGV4dChwYXJlbnROb2RlLCBvcGVuaW5nQ29tbWVudCwgY2xvc2luZ0NvbW1lbnQsIHJlZmVyZW5jZU5vZGUpIHtcbiAgICB2YXIgbm9kZSA9IG9wZW5pbmdDb21tZW50O1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICB2YXIgbmV4dE5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgaW5zZXJ0Q2hpbGRBdChwYXJlbnROb2RlLCBub2RlLCByZWZlcmVuY2VOb2RlKTtcbiAgICAgIGlmIChub2RlID09PSBjbG9zaW5nQ29tbWVudCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBuZXh0Tm9kZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlRGVsaW1pdGVkVGV4dChwYXJlbnROb2RlLCBzdGFydE5vZGUsIGNsb3NpbmdDb21tZW50KSB7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHZhciBub2RlID0gc3RhcnROb2RlLm5leHRTaWJsaW5nO1xuICAgICAgaWYgKG5vZGUgPT09IGNsb3NpbmdDb21tZW50KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVwbGFjZURlbGltaXRlZFRleHQob3BlbmluZ0NvbW1lbnQsIGNsb3NpbmdDb21tZW50LCBzdHJpbmdUZXh0KSB7XG4gICAgdmFyIHBhcmVudE5vZGUgPSBvcGVuaW5nQ29tbWVudC5wYXJlbnROb2RlO1xuICAgIHZhciBub2RlQWZ0ZXJDb21tZW50ID0gb3BlbmluZ0NvbW1lbnQubmV4dFNpYmxpbmc7XG4gICAgaWYgKG5vZGVBZnRlckNvbW1lbnQgPT09IGNsb3NpbmdDb21tZW50KSB7XG4gICAgICBpZiAoc3RyaW5nVGV4dCkge1xuICAgICAgICBpbnNlcnRDaGlsZEF0KHBhcmVudE5vZGUsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0cmluZ1RleHQpLCBub2RlQWZ0ZXJDb21tZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN0cmluZ1RleHQpIHtcbiAgICAgICAgc2V0VGV4dENvbnRlbnQobm9kZUFmdGVyQ29tbWVudCwgc3RyaW5nVGV4dCk7XG4gICAgICAgIHJlbW92ZURlbGltaXRlZFRleHQocGFyZW50Tm9kZSwgbm9kZUFmdGVyQ29tbWVudCwgY2xvc2luZ0NvbW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtb3ZlRGVsaW1pdGVkVGV4dChwYXJlbnROb2RlLCBvcGVuaW5nQ29tbWVudCwgY2xvc2luZ0NvbW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRJbnN0YW5jZUZyb21Ob2RlKG9wZW5pbmdDb21tZW50KS5fZGVidWdJRCwgJ3JlcGxhY2UgdGV4dCcsIHN0cmluZ1RleHQpO1xuICAgIH1cbiAgfVxuICB2YXIgZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAgPSBEYW5nZXIuZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXA7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAgPSBmdW5jdGlvbihvbGRDaGlsZCwgbWFya3VwLCBwcmV2SW5zdGFuY2UpIHtcbiAgICAgIERhbmdlci5kYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cChvbGRDaGlsZCwgbWFya3VwKTtcbiAgICAgIGlmIChwcmV2SW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKHByZXZJbnN0YW5jZS5fZGVidWdJRCwgJ3JlcGxhY2Ugd2l0aCcsIG1hcmt1cC50b1N0cmluZygpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBuZXh0SW5zdGFuY2UgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShtYXJrdXAubm9kZSk7XG4gICAgICAgIGlmIChuZXh0SW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24obmV4dEluc3RhbmNlLl9kZWJ1Z0lELCAnbW91bnQnLCBtYXJrdXAudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHZhciBET01DaGlsZHJlbk9wZXJhdGlvbnMgPSB7XG4gICAgZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXA6IGRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwLFxuICAgIHJlcGxhY2VEZWxpbWl0ZWRUZXh0OiByZXBsYWNlRGVsaW1pdGVkVGV4dCxcbiAgICBwcm9jZXNzVXBkYXRlczogZnVuY3Rpb24ocGFyZW50Tm9kZSwgdXBkYXRlcykge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIHBhcmVudE5vZGVEZWJ1Z0lEID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldEluc3RhbmNlRnJvbU5vZGUocGFyZW50Tm9kZSkuX2RlYnVnSUQ7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHVwZGF0ZXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIHVwZGF0ZSA9IHVwZGF0ZXNba107XG4gICAgICAgIHN3aXRjaCAodXBkYXRlLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLklOU0VSVF9NQVJLVVA6XG4gICAgICAgICAgICBpbnNlcnRMYXp5VHJlZUNoaWxkQXQocGFyZW50Tm9kZSwgdXBkYXRlLmNvbnRlbnQsIGdldE5vZGVBZnRlcihwYXJlbnROb2RlLCB1cGRhdGUuYWZ0ZXJOb2RlKSk7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24ocGFyZW50Tm9kZURlYnVnSUQsICdpbnNlcnQgY2hpbGQnLCB7XG4gICAgICAgICAgICAgICAgdG9JbmRleDogdXBkYXRlLnRvSW5kZXgsXG4gICAgICAgICAgICAgICAgY29udGVudDogdXBkYXRlLmNvbnRlbnQudG9TdHJpbmcoKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuTU9WRV9FWElTVElORzpcbiAgICAgICAgICAgIG1vdmVDaGlsZChwYXJlbnROb2RlLCB1cGRhdGUuZnJvbU5vZGUsIGdldE5vZGVBZnRlcihwYXJlbnROb2RlLCB1cGRhdGUuYWZ0ZXJOb2RlKSk7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24ocGFyZW50Tm9kZURlYnVnSUQsICdtb3ZlIGNoaWxkJywge1xuICAgICAgICAgICAgICAgIGZyb21JbmRleDogdXBkYXRlLmZyb21JbmRleCxcbiAgICAgICAgICAgICAgICB0b0luZGV4OiB1cGRhdGUudG9JbmRleFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuU0VUX01BUktVUDpcbiAgICAgICAgICAgIHNldElubmVySFRNTChwYXJlbnROb2RlLCB1cGRhdGUuY29udGVudCk7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24ocGFyZW50Tm9kZURlYnVnSUQsICdyZXBsYWNlIGNoaWxkcmVuJywgdXBkYXRlLmNvbnRlbnQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLlRFWFRfQ09OVEVOVDpcbiAgICAgICAgICAgIHNldFRleHRDb250ZW50KHBhcmVudE5vZGUsIHVwZGF0ZS5jb250ZW50KTtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbk5hdGl2ZU9wZXJhdGlvbihwYXJlbnROb2RlRGVidWdJRCwgJ3JlcGxhY2UgdGV4dCcsIHVwZGF0ZS5jb250ZW50LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5SRU1PVkVfTk9ERTpcbiAgICAgICAgICAgIHJlbW92ZUNoaWxkKHBhcmVudE5vZGUsIHVwZGF0ZS5mcm9tTm9kZSk7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25OYXRpdmVPcGVyYXRpb24ocGFyZW50Tm9kZURlYnVnSUQsICdyZW1vdmUgY2hpbGQnLCB7ZnJvbUluZGV4OiB1cGRhdGUuZnJvbUluZGV4fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBET01DaGlsZHJlbk9wZXJhdGlvbnM7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgRE9NQ2hpbGRyZW5PcGVyYXRpb25zID0gcmVxdWlyZSgnLi9ET01DaGlsZHJlbk9wZXJhdGlvbnMnKTtcbiAgdmFyIERPTUxhenlUcmVlID0gcmVxdWlyZSgnLi9ET01MYXp5VHJlZScpO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gcmVxdWlyZSgnLi9SZWFjdERPTUNvbXBvbmVudFRyZWUnKTtcbiAgdmFyIFJlYWN0SW5zdHJ1bWVudGF0aW9uID0gcmVxdWlyZSgnLi9SZWFjdEluc3RydW1lbnRhdGlvbicpO1xuICB2YXIgZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyID0gcmVxdWlyZSgnLi9lc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXInKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgdmFsaWRhdGVET01OZXN0aW5nID0gcmVxdWlyZSgnLi92YWxpZGF0ZURPTU5lc3RpbmcnKTtcbiAgdmFyIFJlYWN0RE9NVGV4dENvbXBvbmVudCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IHRleHQ7XG4gICAgdGhpcy5fc3RyaW5nVGV4dCA9ICcnICsgdGV4dDtcbiAgICB0aGlzLl9uYXRpdmVOb2RlID0gbnVsbDtcbiAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBudWxsO1xuICAgIHRoaXMuX2RvbUlEID0gbnVsbDtcbiAgICB0aGlzLl9tb3VudEluZGV4ID0gMDtcbiAgICB0aGlzLl9jbG9zaW5nQ29tbWVudCA9IG51bGw7XG4gICAgdGhpcy5fY29tbWVudE5vZGVzID0gbnVsbDtcbiAgfTtcbiAgX2Fzc2lnbihSZWFjdERPTVRleHRDb21wb25lbnQucHJvdG90eXBlLCB7XG4gICAgbW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIGNvbnRleHQpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldFRleHQodGhpcy5fZGVidWdJRCwgdGhpcy5fc3RyaW5nVGV4dCk7XG4gICAgICAgIHZhciBwYXJlbnRJbmZvO1xuICAgICAgICBpZiAobmF0aXZlUGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICBwYXJlbnRJbmZvID0gbmF0aXZlUGFyZW50Ll9hbmNlc3RvckluZm87XG4gICAgICAgIH0gZWxzZSBpZiAobmF0aXZlQ29udGFpbmVySW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgcGFyZW50SW5mbyA9IG5hdGl2ZUNvbnRhaW5lckluZm8uX2FuY2VzdG9ySW5mbztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50SW5mbykge1xuICAgICAgICAgIHZhbGlkYXRlRE9NTmVzdGluZygnI3RleHQnLCB0aGlzLCBwYXJlbnRJbmZvKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGRvbUlEID0gbmF0aXZlQ29udGFpbmVySW5mby5faWRDb3VudGVyKys7XG4gICAgICB2YXIgb3BlbmluZ1ZhbHVlID0gJyByZWFjdC10ZXh0OiAnICsgZG9tSUQgKyAnICc7XG4gICAgICB2YXIgY2xvc2luZ1ZhbHVlID0gJyAvcmVhY3QtdGV4dCAnO1xuICAgICAgdGhpcy5fZG9tSUQgPSBkb21JRDtcbiAgICAgIHRoaXMuX25hdGl2ZVBhcmVudCA9IG5hdGl2ZVBhcmVudDtcbiAgICAgIGlmICh0cmFuc2FjdGlvbi51c2VDcmVhdGVFbGVtZW50KSB7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gbmF0aXZlQ29udGFpbmVySW5mby5fb3duZXJEb2N1bWVudDtcbiAgICAgICAgdmFyIG9wZW5pbmdDb21tZW50ID0gb3duZXJEb2N1bWVudC5jcmVhdGVDb21tZW50KG9wZW5pbmdWYWx1ZSk7XG4gICAgICAgIHZhciBjbG9zaW5nQ29tbWVudCA9IG93bmVyRG9jdW1lbnQuY3JlYXRlQ29tbWVudChjbG9zaW5nVmFsdWUpO1xuICAgICAgICB2YXIgbGF6eVRyZWUgPSBET01MYXp5VHJlZShvd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7XG4gICAgICAgIERPTUxhenlUcmVlLnF1ZXVlQ2hpbGQobGF6eVRyZWUsIERPTUxhenlUcmVlKG9wZW5pbmdDb21tZW50KSk7XG4gICAgICAgIGlmICh0aGlzLl9zdHJpbmdUZXh0KSB7XG4gICAgICAgICAgRE9NTGF6eVRyZWUucXVldWVDaGlsZChsYXp5VHJlZSwgRE9NTGF6eVRyZWUob3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLl9zdHJpbmdUZXh0KSkpO1xuICAgICAgICB9XG4gICAgICAgIERPTUxhenlUcmVlLnF1ZXVlQ2hpbGQobGF6eVRyZWUsIERPTUxhenlUcmVlKGNsb3NpbmdDb21tZW50KSk7XG4gICAgICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZS5wcmVjYWNoZU5vZGUodGhpcywgb3BlbmluZ0NvbW1lbnQpO1xuICAgICAgICB0aGlzLl9jbG9zaW5nQ29tbWVudCA9IGNsb3NpbmdDb21tZW50O1xuICAgICAgICByZXR1cm4gbGF6eVRyZWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZXNjYXBlZFRleHQgPSBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIodGhpcy5fc3RyaW5nVGV4dCk7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbi5yZW5kZXJUb1N0YXRpY01hcmt1cCkge1xuICAgICAgICAgIHJldHVybiBlc2NhcGVkVGV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJzwhLS0nICsgb3BlbmluZ1ZhbHVlICsgJy0tPicgKyBlc2NhcGVkVGV4dCArICc8IS0tJyArIGNsb3NpbmdWYWx1ZSArICctLT4nO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVjZWl2ZUNvbXBvbmVudDogZnVuY3Rpb24obmV4dFRleHQsIHRyYW5zYWN0aW9uKSB7XG4gICAgICBpZiAobmV4dFRleHQgIT09IHRoaXMuX2N1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gbmV4dFRleHQ7XG4gICAgICAgIHZhciBuZXh0U3RyaW5nVGV4dCA9ICcnICsgbmV4dFRleHQ7XG4gICAgICAgIGlmIChuZXh0U3RyaW5nVGV4dCAhPT0gdGhpcy5fc3RyaW5nVGV4dCkge1xuICAgICAgICAgIHRoaXMuX3N0cmluZ1RleHQgPSBuZXh0U3RyaW5nVGV4dDtcbiAgICAgICAgICB2YXIgY29tbWVudE5vZGVzID0gdGhpcy5nZXROYXRpdmVOb2RlKCk7XG4gICAgICAgICAgRE9NQ2hpbGRyZW5PcGVyYXRpb25zLnJlcGxhY2VEZWxpbWl0ZWRUZXh0KGNvbW1lbnROb2Rlc1swXSwgY29tbWVudE5vZGVzWzFdLCBuZXh0U3RyaW5nVGV4dCk7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldFRleHQodGhpcy5fZGVidWdJRCwgbmV4dFN0cmluZ1RleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0TmF0aXZlTm9kZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbmF0aXZlTm9kZSA9IHRoaXMuX2NvbW1lbnROb2RlcztcbiAgICAgIGlmIChuYXRpdmVOb2RlKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVOb2RlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLl9jbG9zaW5nQ29tbWVudCkge1xuICAgICAgICB2YXIgb3BlbmluZ0NvbW1lbnQgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0Tm9kZUZyb21JbnN0YW5jZSh0aGlzKTtcbiAgICAgICAgdmFyIG5vZGUgPSBvcGVuaW5nQ29tbWVudC5uZXh0U2libGluZztcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAhKG5vZGUgIT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnTWlzc2luZyBjbG9zaW5nIGNvbW1lbnQgZm9yIHRleHQgY29tcG9uZW50ICVzJywgdGhpcy5fZG9tSUQpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAmJiBub2RlLm5vZGVWYWx1ZSA9PT0gJyAvcmVhY3QtdGV4dCAnKSB7XG4gICAgICAgICAgICB0aGlzLl9jbG9zaW5nQ29tbWVudCA9IG5vZGU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5hdGl2ZU5vZGUgPSBbdGhpcy5fbmF0aXZlTm9kZSwgdGhpcy5fY2xvc2luZ0NvbW1lbnRdO1xuICAgICAgdGhpcy5fY29tbWVudE5vZGVzID0gbmF0aXZlTm9kZTtcbiAgICAgIHJldHVybiBuYXRpdmVOb2RlO1xuICAgIH0sXG4gICAgdW5tb3VudENvbXBvbmVudDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9jbG9zaW5nQ29tbWVudCA9IG51bGw7XG4gICAgICB0aGlzLl9jb21tZW50Tm9kZXMgPSBudWxsO1xuICAgICAgUmVhY3RET01Db21wb25lbnRUcmVlLnVuY2FjaGVOb2RlKHRoaXMpO1xuICAgIH1cbiAgfSk7XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RET01UZXh0Q29tcG9uZW50O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG52YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZSgnLi9SZWFjdFVwZGF0ZXMnKTtcbnZhciBUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vVHJhbnNhY3Rpb24nKTtcbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIFJFU0VUX0JBVENIRURfVVBEQVRFUyA9IHtcbiAgaW5pdGlhbGl6ZTogZW1wdHlGdW5jdGlvbixcbiAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgIFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3kuaXNCYXRjaGluZ1VwZGF0ZXMgPSBmYWxzZTtcbiAgfVxufTtcbnZhciBGTFVTSF9CQVRDSEVEX1VQREFURVMgPSB7XG4gIGluaXRpYWxpemU6IGVtcHR5RnVuY3Rpb24sXG4gIGNsb3NlOiBSZWFjdFVwZGF0ZXMuZmx1c2hCYXRjaGVkVXBkYXRlcy5iaW5kKFJlYWN0VXBkYXRlcylcbn07XG52YXIgVFJBTlNBQ1RJT05fV1JBUFBFUlMgPSBbRkxVU0hfQkFUQ0hFRF9VUERBVEVTLCBSRVNFVF9CQVRDSEVEX1VQREFURVNdO1xuZnVuY3Rpb24gUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneVRyYW5zYWN0aW9uKCkge1xuICB0aGlzLnJlaW5pdGlhbGl6ZVRyYW5zYWN0aW9uKCk7XG59XG5fYXNzaWduKFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3lUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFRyYW5zYWN0aW9uLk1peGluLCB7Z2V0VHJhbnNhY3Rpb25XcmFwcGVyczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFRSQU5TQUNUSU9OX1dSQVBQRVJTO1xuICB9fSk7XG52YXIgdHJhbnNhY3Rpb24gPSBuZXcgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneVRyYW5zYWN0aW9uKCk7XG52YXIgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneSA9IHtcbiAgaXNCYXRjaGluZ1VwZGF0ZXM6IGZhbHNlLFxuICBiYXRjaGVkVXBkYXRlczogZnVuY3Rpb24oY2FsbGJhY2ssIGEsIGIsIGMsIGQsIGUpIHtcbiAgICB2YXIgYWxyZWFkeUJhdGNoaW5nVXBkYXRlcyA9IFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3kuaXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcyA9IHRydWU7XG4gICAgaWYgKGFscmVhZHlCYXRjaGluZ1VwZGF0ZXMpIHtcbiAgICAgIGNhbGxiYWNrKGEsIGIsIGMsIGQsIGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2FjdGlvbi5wZXJmb3JtKGNhbGxiYWNrLCBudWxsLCBhLCBiLCBjLCBkLCBlKTtcbiAgICB9XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3k7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogR2V0cyB0aGUgc2Nyb2xsIHBvc2l0aW9uIG9mIHRoZSBzdXBwbGllZCBlbGVtZW50IG9yIHdpbmRvdy5cbiAqXG4gKiBUaGUgcmV0dXJuIHZhbHVlcyBhcmUgdW5ib3VuZGVkLCB1bmxpa2UgYGdldFNjcm9sbFBvc2l0aW9uYC4gVGhpcyBtZWFucyB0aGV5XG4gKiBtYXkgYmUgbmVnYXRpdmUgb3IgZXhjZWVkIHRoZSBlbGVtZW50IGJvdW5kYXJpZXMgKHdoaWNoIGlzIHBvc3NpYmxlIHVzaW5nXG4gKiBpbmVydGlhbCBzY3JvbGxpbmcpLlxuICpcbiAqIEBwYXJhbSB7RE9NV2luZG93fERPTUVsZW1lbnR9IHNjcm9sbGFibGVcbiAqIEByZXR1cm4ge29iamVjdH0gTWFwIHdpdGggYHhgIGFuZCBgeWAga2V5cy5cbiAqL1xuXG5mdW5jdGlvbiBnZXRVbmJvdW5kZWRTY3JvbGxQb3NpdGlvbihzY3JvbGxhYmxlKSB7XG4gIGlmIChzY3JvbGxhYmxlID09PSB3aW5kb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgeTogd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3BcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgeDogc2Nyb2xsYWJsZS5zY3JvbGxMZWZ0LFxuICAgIHk6IHNjcm9sbGFibGUuc2Nyb2xsVG9wXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0VW5ib3VuZGVkU2Nyb2xsUG9zaXRpb247IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ2ZianMvbGliL0V2ZW50TGlzdGVuZXInKTtcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbiAgdmFyIFBvb2xlZENsYXNzID0gcmVxdWlyZSgnLi9Qb29sZWRDbGFzcycpO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gcmVxdWlyZSgnLi9SZWFjdERPTUNvbXBvbmVudFRyZWUnKTtcbiAgdmFyIFJlYWN0VXBkYXRlcyA9IHJlcXVpcmUoJy4vUmVhY3RVcGRhdGVzJyk7XG4gIHZhciBnZXRFdmVudFRhcmdldCA9IHJlcXVpcmUoJy4vZ2V0RXZlbnRUYXJnZXQnKTtcbiAgdmFyIGdldFVuYm91bmRlZFNjcm9sbFBvc2l0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZ2V0VW5ib3VuZGVkU2Nyb2xsUG9zaXRpb24nKTtcbiAgZnVuY3Rpb24gZmluZFBhcmVudChpbnN0KSB7XG4gICAgd2hpbGUgKGluc3QuX25hdGl2ZVBhcmVudCkge1xuICAgICAgaW5zdCA9IGluc3QuX25hdGl2ZVBhcmVudDtcbiAgICB9XG4gICAgdmFyIHJvb3ROb2RlID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCk7XG4gICAgdmFyIGNvbnRhaW5lciA9IHJvb3ROb2RlLnBhcmVudE5vZGU7XG4gICAgcmV0dXJuIFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShjb250YWluZXIpO1xuICB9XG4gIGZ1bmN0aW9uIFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gICAgdGhpcy50b3BMZXZlbFR5cGUgPSB0b3BMZXZlbFR5cGU7XG4gICAgdGhpcy5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICAgIHRoaXMuYW5jZXN0b3JzID0gW107XG4gIH1cbiAgX2Fzc2lnbihUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcucHJvdG90eXBlLCB7ZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnRvcExldmVsVHlwZSA9IG51bGw7XG4gICAgICB0aGlzLm5hdGl2ZUV2ZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuYW5jZXN0b3JzLmxlbmd0aCA9IDA7XG4gICAgfX0pO1xuICBQb29sZWRDbGFzcy5hZGRQb29saW5nVG8oVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nLCBQb29sZWRDbGFzcy50d29Bcmd1bWVudFBvb2xlcik7XG4gIGZ1bmN0aW9uIGhhbmRsZVRvcExldmVsSW1wbChib29rS2VlcGluZykge1xuICAgIHZhciBuYXRpdmVFdmVudFRhcmdldCA9IGdldEV2ZW50VGFyZ2V0KGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50KTtcbiAgICB2YXIgdGFyZ2V0SW5zdCA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgdmFyIGFuY2VzdG9yID0gdGFyZ2V0SW5zdDtcbiAgICBkbyB7XG4gICAgICBib29rS2VlcGluZy5hbmNlc3RvcnMucHVzaChhbmNlc3Rvcik7XG4gICAgICBhbmNlc3RvciA9IGFuY2VzdG9yICYmIGZpbmRQYXJlbnQoYW5jZXN0b3IpO1xuICAgIH0gd2hpbGUgKGFuY2VzdG9yKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvb2tLZWVwaW5nLmFuY2VzdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGFyZ2V0SW5zdCA9IGJvb2tLZWVwaW5nLmFuY2VzdG9yc1tpXTtcbiAgICAgIFJlYWN0RXZlbnRMaXN0ZW5lci5faGFuZGxlVG9wTGV2ZWwoYm9va0tlZXBpbmcudG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBib29rS2VlcGluZy5uYXRpdmVFdmVudCwgZ2V0RXZlbnRUYXJnZXQoYm9va0tlZXBpbmcubmF0aXZlRXZlbnQpKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc2Nyb2xsVmFsdWVNb25pdG9yKGNiKSB7XG4gICAgdmFyIHNjcm9sbFBvc2l0aW9uID0gZ2V0VW5ib3VuZGVkU2Nyb2xsUG9zaXRpb24od2luZG93KTtcbiAgICBjYihzY3JvbGxQb3NpdGlvbik7XG4gIH1cbiAgdmFyIFJlYWN0RXZlbnRMaXN0ZW5lciA9IHtcbiAgICBfZW5hYmxlZDogdHJ1ZSxcbiAgICBfaGFuZGxlVG9wTGV2ZWw6IG51bGwsXG4gICAgV0lORE9XX0hBTkRMRTogRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gd2luZG93IDogbnVsbCxcbiAgICBzZXRIYW5kbGVUb3BMZXZlbDogZnVuY3Rpb24oaGFuZGxlVG9wTGV2ZWwpIHtcbiAgICAgIFJlYWN0RXZlbnRMaXN0ZW5lci5faGFuZGxlVG9wTGV2ZWwgPSBoYW5kbGVUb3BMZXZlbDtcbiAgICB9LFxuICAgIHNldEVuYWJsZWQ6IGZ1bmN0aW9uKGVuYWJsZWQpIHtcbiAgICAgIFJlYWN0RXZlbnRMaXN0ZW5lci5fZW5hYmxlZCA9ICEhZW5hYmxlZDtcbiAgICB9LFxuICAgIGlzRW5hYmxlZDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gUmVhY3RFdmVudExpc3RlbmVyLl9lbmFibGVkO1xuICAgIH0sXG4gICAgdHJhcEJ1YmJsZWRFdmVudDogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCBoYW5kbGVyQmFzZU5hbWUsIGhhbmRsZSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBoYW5kbGU7XG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gRXZlbnRMaXN0ZW5lci5saXN0ZW4oZWxlbWVudCwgaGFuZGxlckJhc2VOYW1lLCBSZWFjdEV2ZW50TGlzdGVuZXIuZGlzcGF0Y2hFdmVudC5iaW5kKG51bGwsIHRvcExldmVsVHlwZSkpO1xuICAgIH0sXG4gICAgdHJhcENhcHR1cmVkRXZlbnQ6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgaGFuZGxlckJhc2VOYW1lLCBoYW5kbGUpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gaGFuZGxlO1xuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEV2ZW50TGlzdGVuZXIuY2FwdHVyZShlbGVtZW50LCBoYW5kbGVyQmFzZU5hbWUsIFJlYWN0RXZlbnRMaXN0ZW5lci5kaXNwYXRjaEV2ZW50LmJpbmQobnVsbCwgdG9wTGV2ZWxUeXBlKSk7XG4gICAgfSxcbiAgICBtb25pdG9yU2Nyb2xsVmFsdWU6IGZ1bmN0aW9uKHJlZnJlc2gpIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IHNjcm9sbFZhbHVlTW9uaXRvci5iaW5kKG51bGwsIHJlZnJlc2gpO1xuICAgICAgRXZlbnRMaXN0ZW5lci5saXN0ZW4od2luZG93LCAnc2Nyb2xsJywgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgZGlzcGF0Y2hFdmVudDogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICAgICAgaWYgKCFSZWFjdEV2ZW50TGlzdGVuZXIuX2VuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGJvb2tLZWVwaW5nID0gVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nLmdldFBvb2xlZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIFJlYWN0VXBkYXRlcy5iYXRjaGVkVXBkYXRlcyhoYW5kbGVUb3BMZXZlbEltcGwsIGJvb2tLZWVwaW5nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZy5yZWxlYXNlKGJvb2tLZWVwaW5nKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RFdmVudExpc3RlbmVyO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eScpO1xudmFyIEV2ZW50UGx1Z2luSHViID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpbkh1YicpO1xudmFyIEV2ZW50UGx1Z2luVXRpbHMgPSByZXF1aXJlKCcuL0V2ZW50UGx1Z2luVXRpbHMnKTtcbnZhciBSZWFjdENvbXBvbmVudEVudmlyb25tZW50ID0gcmVxdWlyZSgnLi9SZWFjdENvbXBvbmVudEVudmlyb25tZW50Jyk7XG52YXIgUmVhY3RDbGFzcyA9IHJlcXVpcmUoJy4vUmVhY3RDbGFzcycpO1xudmFyIFJlYWN0RW1wdHlDb21wb25lbnQgPSByZXF1aXJlKCcuL1JlYWN0RW1wdHlDb21wb25lbnQnKTtcbnZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCcuL1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlcicpO1xudmFyIFJlYWN0TmF0aXZlQ29tcG9uZW50ID0gcmVxdWlyZSgnLi9SZWFjdE5hdGl2ZUNvbXBvbmVudCcpO1xudmFyIFJlYWN0VXBkYXRlcyA9IHJlcXVpcmUoJy4vUmVhY3RVcGRhdGVzJyk7XG52YXIgUmVhY3RJbmplY3Rpb24gPSB7XG4gIENvbXBvbmVudDogUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudC5pbmplY3Rpb24sXG4gIENsYXNzOiBSZWFjdENsYXNzLmluamVjdGlvbixcbiAgRE9NUHJvcGVydHk6IERPTVByb3BlcnR5LmluamVjdGlvbixcbiAgRW1wdHlDb21wb25lbnQ6IFJlYWN0RW1wdHlDb21wb25lbnQuaW5qZWN0aW9uLFxuICBFdmVudFBsdWdpbkh1YjogRXZlbnRQbHVnaW5IdWIuaW5qZWN0aW9uLFxuICBFdmVudFBsdWdpblV0aWxzOiBFdmVudFBsdWdpblV0aWxzLmluamVjdGlvbixcbiAgRXZlbnRFbWl0dGVyOiBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuaW5qZWN0aW9uLFxuICBOYXRpdmVDb21wb25lbnQ6IFJlYWN0TmF0aXZlQ29tcG9uZW50LmluamVjdGlvbixcbiAgVXBkYXRlczogUmVhY3RVcGRhdGVzLmluamVjdGlvblxufTtcbm1vZHVsZS5leHBvcnRzID0gUmVhY3RJbmplY3Rpb247XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xudmFyIENhbGxiYWNrUXVldWUgPSByZXF1aXJlKCcuL0NhbGxiYWNrUXVldWUnKTtcbnZhciBQb29sZWRDbGFzcyA9IHJlcXVpcmUoJy4vUG9vbGVkQ2xhc3MnKTtcbnZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCcuL1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlcicpO1xudmFyIFJlYWN0SW5wdXRTZWxlY3Rpb24gPSByZXF1aXJlKCcuL1JlYWN0SW5wdXRTZWxlY3Rpb24nKTtcbnZhciBUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vVHJhbnNhY3Rpb24nKTtcbnZhciBTRUxFQ1RJT05fUkVTVE9SQVRJT04gPSB7XG4gIGluaXRpYWxpemU6IFJlYWN0SW5wdXRTZWxlY3Rpb24uZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb24sXG4gIGNsb3NlOiBSZWFjdElucHV0U2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb25cbn07XG52YXIgRVZFTlRfU1VQUFJFU1NJT04gPSB7XG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdXJyZW50bHlFbmFibGVkID0gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmlzRW5hYmxlZCgpO1xuICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICByZXR1cm4gY3VycmVudGx5RW5hYmxlZDtcbiAgfSxcbiAgY2xvc2U6IGZ1bmN0aW9uKHByZXZpb3VzbHlFbmFibGVkKSB7XG4gICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnNldEVuYWJsZWQocHJldmlvdXNseUVuYWJsZWQpO1xuICB9XG59O1xudmFyIE9OX0RPTV9SRUFEWV9RVUVVRUlORyA9IHtcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZWFjdE1vdW50UmVhZHkucmVzZXQoKTtcbiAgfSxcbiAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVhY3RNb3VudFJlYWR5Lm5vdGlmeUFsbCgpO1xuICB9XG59O1xudmFyIFRSQU5TQUNUSU9OX1dSQVBQRVJTID0gW1NFTEVDVElPTl9SRVNUT1JBVElPTiwgRVZFTlRfU1VQUFJFU1NJT04sIE9OX0RPTV9SRUFEWV9RVUVVRUlOR107XG5mdW5jdGlvbiBSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uKHVzZUNyZWF0ZUVsZW1lbnQpIHtcbiAgdGhpcy5yZWluaXRpYWxpemVUcmFuc2FjdGlvbigpO1xuICB0aGlzLnJlbmRlclRvU3RhdGljTWFya3VwID0gZmFsc2U7XG4gIHRoaXMucmVhY3RNb3VudFJlYWR5ID0gQ2FsbGJhY2tRdWV1ZS5nZXRQb29sZWQobnVsbCk7XG4gIHRoaXMudXNlQ3JlYXRlRWxlbWVudCA9IHVzZUNyZWF0ZUVsZW1lbnQ7XG59XG52YXIgTWl4aW4gPSB7XG4gIGdldFRyYW5zYWN0aW9uV3JhcHBlcnM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBUUkFOU0FDVElPTl9XUkFQUEVSUztcbiAgfSxcbiAgZ2V0UmVhY3RNb3VudFJlYWR5OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFjdE1vdW50UmVhZHk7XG4gIH0sXG4gIGNoZWNrcG9pbnQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnJlYWN0TW91bnRSZWFkeS5jaGVja3BvaW50KCk7XG4gIH0sXG4gIHJvbGxiYWNrOiBmdW5jdGlvbihjaGVja3BvaW50KSB7XG4gICAgdGhpcy5yZWFjdE1vdW50UmVhZHkucm9sbGJhY2soY2hlY2twb2ludCk7XG4gIH0sXG4gIGRlc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgIENhbGxiYWNrUXVldWUucmVsZWFzZSh0aGlzLnJlYWN0TW91bnRSZWFkeSk7XG4gICAgdGhpcy5yZWFjdE1vdW50UmVhZHkgPSBudWxsO1xuICB9XG59O1xuX2Fzc2lnbihSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uLnByb3RvdHlwZSwgVHJhbnNhY3Rpb24uTWl4aW4sIE1peGluKTtcblBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uKTtcbm1vZHVsZS5leHBvcnRzID0gUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTVkdET01Qcm9wZXJ0eUNvbmZpZ1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIE5TID0ge1xuICB4bGluazogJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLFxuICB4bWw6ICdodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UnXG59O1xuXG4vLyBXZSB1c2UgYXR0cmlidXRlcyBmb3IgZXZlcnl0aGluZyBTVkcgc28gbGV0J3MgYXZvaWQgc29tZSBkdXBsaWNhdGlvbiBhbmQgcnVuXG4vLyBjb2RlIGluc3RlYWQuXG4vLyBUaGUgZm9sbG93aW5nIGFyZSBhbGwgc3BlY2lmaWVkIGluIHRoZSBIVE1MIGNvbmZpZyBhbHJlYWR5IHNvIHdlIGV4Y2x1ZGUgaGVyZS5cbi8vIC0gY2xhc3MgKGFzIGNsYXNzTmFtZSlcbi8vIC0gY29sb3Jcbi8vIC0gaGVpZ2h0XG4vLyAtIGlkXG4vLyAtIGxhbmdcbi8vIC0gbWF4XG4vLyAtIG1lZGlhXG4vLyAtIG1ldGhvZFxuLy8gLSBtaW5cbi8vIC0gbmFtZVxuLy8gLSBzdHlsZVxuLy8gLSB0YXJnZXRcbi8vIC0gdHlwZVxuLy8gLSB3aWR0aFxudmFyIEFUVFJTID0ge1xuICBhY2NlbnRIZWlnaHQ6ICdhY2NlbnQtaGVpZ2h0JyxcbiAgYWNjdW11bGF0ZTogMCxcbiAgYWRkaXRpdmU6IDAsXG4gIGFsaWdubWVudEJhc2VsaW5lOiAnYWxpZ25tZW50LWJhc2VsaW5lJyxcbiAgYWxsb3dSZW9yZGVyOiAnYWxsb3dSZW9yZGVyJyxcbiAgYWxwaGFiZXRpYzogMCxcbiAgYW1wbGl0dWRlOiAwLFxuICBhcmFiaWNGb3JtOiAnYXJhYmljLWZvcm0nLFxuICBhc2NlbnQ6IDAsXG4gIGF0dHJpYnV0ZU5hbWU6ICdhdHRyaWJ1dGVOYW1lJyxcbiAgYXR0cmlidXRlVHlwZTogJ2F0dHJpYnV0ZVR5cGUnLFxuICBhdXRvUmV2ZXJzZTogJ2F1dG9SZXZlcnNlJyxcbiAgYXppbXV0aDogMCxcbiAgYmFzZUZyZXF1ZW5jeTogJ2Jhc2VGcmVxdWVuY3knLFxuICBiYXNlUHJvZmlsZTogJ2Jhc2VQcm9maWxlJyxcbiAgYmFzZWxpbmVTaGlmdDogJ2Jhc2VsaW5lLXNoaWZ0JyxcbiAgYmJveDogMCxcbiAgYmVnaW46IDAsXG4gIGJpYXM6IDAsXG4gIGJ5OiAwLFxuICBjYWxjTW9kZTogJ2NhbGNNb2RlJyxcbiAgY2FwSGVpZ2h0OiAnY2FwLWhlaWdodCcsXG4gIGNsaXA6IDAsXG4gIGNsaXBQYXRoOiAnY2xpcC1wYXRoJyxcbiAgY2xpcFJ1bGU6ICdjbGlwLXJ1bGUnLFxuICBjbGlwUGF0aFVuaXRzOiAnY2xpcFBhdGhVbml0cycsXG4gIGNvbG9ySW50ZXJwb2xhdGlvbjogJ2NvbG9yLWludGVycG9sYXRpb24nLFxuICBjb2xvckludGVycG9sYXRpb25GaWx0ZXJzOiAnY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzJyxcbiAgY29sb3JQcm9maWxlOiAnY29sb3ItcHJvZmlsZScsXG4gIGNvbG9yUmVuZGVyaW5nOiAnY29sb3ItcmVuZGVyaW5nJyxcbiAgY29udGVudFNjcmlwdFR5cGU6ICdjb250ZW50U2NyaXB0VHlwZScsXG4gIGNvbnRlbnRTdHlsZVR5cGU6ICdjb250ZW50U3R5bGVUeXBlJyxcbiAgY3Vyc29yOiAwLFxuICBjeDogMCxcbiAgY3k6IDAsXG4gIGQ6IDAsXG4gIGRlY2VsZXJhdGU6IDAsXG4gIGRlc2NlbnQ6IDAsXG4gIGRpZmZ1c2VDb25zdGFudDogJ2RpZmZ1c2VDb25zdGFudCcsXG4gIGRpcmVjdGlvbjogMCxcbiAgZGlzcGxheTogMCxcbiAgZGl2aXNvcjogMCxcbiAgZG9taW5hbnRCYXNlbGluZTogJ2RvbWluYW50LWJhc2VsaW5lJyxcbiAgZHVyOiAwLFxuICBkeDogMCxcbiAgZHk6IDAsXG4gIGVkZ2VNb2RlOiAnZWRnZU1vZGUnLFxuICBlbGV2YXRpb246IDAsXG4gIGVuYWJsZUJhY2tncm91bmQ6ICdlbmFibGUtYmFja2dyb3VuZCcsXG4gIGVuZDogMCxcbiAgZXhwb25lbnQ6IDAsXG4gIGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQ6ICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJyxcbiAgZmlsbDogMCxcbiAgZmlsbE9wYWNpdHk6ICdmaWxsLW9wYWNpdHknLFxuICBmaWxsUnVsZTogJ2ZpbGwtcnVsZScsXG4gIGZpbHRlcjogMCxcbiAgZmlsdGVyUmVzOiAnZmlsdGVyUmVzJyxcbiAgZmlsdGVyVW5pdHM6ICdmaWx0ZXJVbml0cycsXG4gIGZsb29kQ29sb3I6ICdmbG9vZC1jb2xvcicsXG4gIGZsb29kT3BhY2l0eTogJ2Zsb29kLW9wYWNpdHknLFxuICBmb2N1c2FibGU6IDAsXG4gIGZvbnRGYW1pbHk6ICdmb250LWZhbWlseScsXG4gIGZvbnRTaXplOiAnZm9udC1zaXplJyxcbiAgZm9udFNpemVBZGp1c3Q6ICdmb250LXNpemUtYWRqdXN0JyxcbiAgZm9udFN0cmV0Y2g6ICdmb250LXN0cmV0Y2gnLFxuICBmb250U3R5bGU6ICdmb250LXN0eWxlJyxcbiAgZm9udFZhcmlhbnQ6ICdmb250LXZhcmlhbnQnLFxuICBmb250V2VpZ2h0OiAnZm9udC13ZWlnaHQnLFxuICBmb3JtYXQ6IDAsXG4gIGZyb206IDAsXG4gIGZ4OiAwLFxuICBmeTogMCxcbiAgZzE6IDAsXG4gIGcyOiAwLFxuICBnbHlwaE5hbWU6ICdnbHlwaC1uYW1lJyxcbiAgZ2x5cGhPcmllbnRhdGlvbkhvcml6b250YWw6ICdnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsJyxcbiAgZ2x5cGhPcmllbnRhdGlvblZlcnRpY2FsOiAnZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwnLFxuICBnbHlwaFJlZjogJ2dseXBoUmVmJyxcbiAgZ3JhZGllbnRUcmFuc2Zvcm06ICdncmFkaWVudFRyYW5zZm9ybScsXG4gIGdyYWRpZW50VW5pdHM6ICdncmFkaWVudFVuaXRzJyxcbiAgaGFuZ2luZzogMCxcbiAgaG9yaXpBZHZYOiAnaG9yaXotYWR2LXgnLFxuICBob3Jpek9yaWdpblg6ICdob3Jpei1vcmlnaW4teCcsXG4gIGlkZW9ncmFwaGljOiAwLFxuICBpbWFnZVJlbmRlcmluZzogJ2ltYWdlLXJlbmRlcmluZycsXG4gICdpbic6IDAsXG4gIGluMjogMCxcbiAgaW50ZXJjZXB0OiAwLFxuICBrOiAwLFxuICBrMTogMCxcbiAgazI6IDAsXG4gIGszOiAwLFxuICBrNDogMCxcbiAga2VybmVsTWF0cml4OiAna2VybmVsTWF0cml4JyxcbiAga2VybmVsVW5pdExlbmd0aDogJ2tlcm5lbFVuaXRMZW5ndGgnLFxuICBrZXJuaW5nOiAwLFxuICBrZXlQb2ludHM6ICdrZXlQb2ludHMnLFxuICBrZXlTcGxpbmVzOiAna2V5U3BsaW5lcycsXG4gIGtleVRpbWVzOiAna2V5VGltZXMnLFxuICBsZW5ndGhBZGp1c3Q6ICdsZW5ndGhBZGp1c3QnLFxuICBsZXR0ZXJTcGFjaW5nOiAnbGV0dGVyLXNwYWNpbmcnLFxuICBsaWdodGluZ0NvbG9yOiAnbGlnaHRpbmctY29sb3InLFxuICBsaW1pdGluZ0NvbmVBbmdsZTogJ2xpbWl0aW5nQ29uZUFuZ2xlJyxcbiAgbG9jYWw6IDAsXG4gIG1hcmtlckVuZDogJ21hcmtlci1lbmQnLFxuICBtYXJrZXJNaWQ6ICdtYXJrZXItbWlkJyxcbiAgbWFya2VyU3RhcnQ6ICdtYXJrZXItc3RhcnQnLFxuICBtYXJrZXJIZWlnaHQ6ICdtYXJrZXJIZWlnaHQnLFxuICBtYXJrZXJVbml0czogJ21hcmtlclVuaXRzJyxcbiAgbWFya2VyV2lkdGg6ICdtYXJrZXJXaWR0aCcsXG4gIG1hc2s6IDAsXG4gIG1hc2tDb250ZW50VW5pdHM6ICdtYXNrQ29udGVudFVuaXRzJyxcbiAgbWFza1VuaXRzOiAnbWFza1VuaXRzJyxcbiAgbWF0aGVtYXRpY2FsOiAwLFxuICBtb2RlOiAwLFxuICBudW1PY3RhdmVzOiAnbnVtT2N0YXZlcycsXG4gIG9mZnNldDogMCxcbiAgb3BhY2l0eTogMCxcbiAgb3BlcmF0b3I6IDAsXG4gIG9yZGVyOiAwLFxuICBvcmllbnQ6IDAsXG4gIG9yaWVudGF0aW9uOiAwLFxuICBvcmlnaW46IDAsXG4gIG92ZXJmbG93OiAwLFxuICBvdmVybGluZVBvc2l0aW9uOiAnb3ZlcmxpbmUtcG9zaXRpb24nLFxuICBvdmVybGluZVRoaWNrbmVzczogJ292ZXJsaW5lLXRoaWNrbmVzcycsXG4gIHBhaW50T3JkZXI6ICdwYWludC1vcmRlcicsXG4gIHBhbm9zZTE6ICdwYW5vc2UtMScsXG4gIHBhdGhMZW5ndGg6ICdwYXRoTGVuZ3RoJyxcbiAgcGF0dGVybkNvbnRlbnRVbml0czogJ3BhdHRlcm5Db250ZW50VW5pdHMnLFxuICBwYXR0ZXJuVHJhbnNmb3JtOiAncGF0dGVyblRyYW5zZm9ybScsXG4gIHBhdHRlcm5Vbml0czogJ3BhdHRlcm5Vbml0cycsXG4gIHBvaW50ZXJFdmVudHM6ICdwb2ludGVyLWV2ZW50cycsXG4gIHBvaW50czogMCxcbiAgcG9pbnRzQXRYOiAncG9pbnRzQXRYJyxcbiAgcG9pbnRzQXRZOiAncG9pbnRzQXRZJyxcbiAgcG9pbnRzQXRaOiAncG9pbnRzQXRaJyxcbiAgcHJlc2VydmVBbHBoYTogJ3ByZXNlcnZlQWxwaGEnLFxuICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiAncHJlc2VydmVBc3BlY3RSYXRpbycsXG4gIHByaW1pdGl2ZVVuaXRzOiAncHJpbWl0aXZlVW5pdHMnLFxuICByOiAwLFxuICByYWRpdXM6IDAsXG4gIHJlZlg6ICdyZWZYJyxcbiAgcmVmWTogJ3JlZlknLFxuICByZW5kZXJpbmdJbnRlbnQ6ICdyZW5kZXJpbmctaW50ZW50JyxcbiAgcmVwZWF0Q291bnQ6ICdyZXBlYXRDb3VudCcsXG4gIHJlcGVhdER1cjogJ3JlcGVhdER1cicsXG4gIHJlcXVpcmVkRXh0ZW5zaW9uczogJ3JlcXVpcmVkRXh0ZW5zaW9ucycsXG4gIHJlcXVpcmVkRmVhdHVyZXM6ICdyZXF1aXJlZEZlYXR1cmVzJyxcbiAgcmVzdGFydDogMCxcbiAgcmVzdWx0OiAwLFxuICByb3RhdGU6IDAsXG4gIHJ4OiAwLFxuICByeTogMCxcbiAgc2NhbGU6IDAsXG4gIHNlZWQ6IDAsXG4gIHNoYXBlUmVuZGVyaW5nOiAnc2hhcGUtcmVuZGVyaW5nJyxcbiAgc2xvcGU6IDAsXG4gIHNwYWNpbmc6IDAsXG4gIHNwZWN1bGFyQ29uc3RhbnQ6ICdzcGVjdWxhckNvbnN0YW50JyxcbiAgc3BlY3VsYXJFeHBvbmVudDogJ3NwZWN1bGFyRXhwb25lbnQnLFxuICBzcGVlZDogMCxcbiAgc3ByZWFkTWV0aG9kOiAnc3ByZWFkTWV0aG9kJyxcbiAgc3RhcnRPZmZzZXQ6ICdzdGFydE9mZnNldCcsXG4gIHN0ZERldmlhdGlvbjogJ3N0ZERldmlhdGlvbicsXG4gIHN0ZW1oOiAwLFxuICBzdGVtdjogMCxcbiAgc3RpdGNoVGlsZXM6ICdzdGl0Y2hUaWxlcycsXG4gIHN0b3BDb2xvcjogJ3N0b3AtY29sb3InLFxuICBzdG9wT3BhY2l0eTogJ3N0b3Atb3BhY2l0eScsXG4gIHN0cmlrZXRocm91Z2hQb3NpdGlvbjogJ3N0cmlrZXRocm91Z2gtcG9zaXRpb24nLFxuICBzdHJpa2V0aHJvdWdoVGhpY2tuZXNzOiAnc3RyaWtldGhyb3VnaC10aGlja25lc3MnLFxuICBzdHJpbmc6IDAsXG4gIHN0cm9rZTogMCxcbiAgc3Ryb2tlRGFzaGFycmF5OiAnc3Ryb2tlLWRhc2hhcnJheScsXG4gIHN0cm9rZURhc2hvZmZzZXQ6ICdzdHJva2UtZGFzaG9mZnNldCcsXG4gIHN0cm9rZUxpbmVjYXA6ICdzdHJva2UtbGluZWNhcCcsXG4gIHN0cm9rZUxpbmVqb2luOiAnc3Ryb2tlLWxpbmVqb2luJyxcbiAgc3Ryb2tlTWl0ZXJsaW1pdDogJ3N0cm9rZS1taXRlcmxpbWl0JyxcbiAgc3Ryb2tlT3BhY2l0eTogJ3N0cm9rZS1vcGFjaXR5JyxcbiAgc3Ryb2tlV2lkdGg6ICdzdHJva2Utd2lkdGgnLFxuICBzdXJmYWNlU2NhbGU6ICdzdXJmYWNlU2NhbGUnLFxuICBzeXN0ZW1MYW5ndWFnZTogJ3N5c3RlbUxhbmd1YWdlJyxcbiAgdGFibGVWYWx1ZXM6ICd0YWJsZVZhbHVlcycsXG4gIHRhcmdldFg6ICd0YXJnZXRYJyxcbiAgdGFyZ2V0WTogJ3RhcmdldFknLFxuICB0ZXh0QW5jaG9yOiAndGV4dC1hbmNob3InLFxuICB0ZXh0RGVjb3JhdGlvbjogJ3RleHQtZGVjb3JhdGlvbicsXG4gIHRleHRSZW5kZXJpbmc6ICd0ZXh0LXJlbmRlcmluZycsXG4gIHRleHRMZW5ndGg6ICd0ZXh0TGVuZ3RoJyxcbiAgdG86IDAsXG4gIHRyYW5zZm9ybTogMCxcbiAgdTE6IDAsXG4gIHUyOiAwLFxuICB1bmRlcmxpbmVQb3NpdGlvbjogJ3VuZGVybGluZS1wb3NpdGlvbicsXG4gIHVuZGVybGluZVRoaWNrbmVzczogJ3VuZGVybGluZS10aGlja25lc3MnLFxuICB1bmljb2RlOiAwLFxuICB1bmljb2RlQmlkaTogJ3VuaWNvZGUtYmlkaScsXG4gIHVuaWNvZGVSYW5nZTogJ3VuaWNvZGUtcmFuZ2UnLFxuICB1bml0c1BlckVtOiAndW5pdHMtcGVyLWVtJyxcbiAgdkFscGhhYmV0aWM6ICd2LWFscGhhYmV0aWMnLFxuICB2SGFuZ2luZzogJ3YtaGFuZ2luZycsXG4gIHZJZGVvZ3JhcGhpYzogJ3YtaWRlb2dyYXBoaWMnLFxuICB2TWF0aGVtYXRpY2FsOiAndi1tYXRoZW1hdGljYWwnLFxuICB2YWx1ZXM6IDAsXG4gIHZlY3RvckVmZmVjdDogJ3ZlY3Rvci1lZmZlY3QnLFxuICB2ZXJzaW9uOiAwLFxuICB2ZXJ0QWR2WTogJ3ZlcnQtYWR2LXknLFxuICB2ZXJ0T3JpZ2luWDogJ3ZlcnQtb3JpZ2luLXgnLFxuICB2ZXJ0T3JpZ2luWTogJ3ZlcnQtb3JpZ2luLXknLFxuICB2aWV3Qm94OiAndmlld0JveCcsXG4gIHZpZXdUYXJnZXQ6ICd2aWV3VGFyZ2V0JyxcbiAgdmlzaWJpbGl0eTogMCxcbiAgd2lkdGhzOiAwLFxuICB3b3JkU3BhY2luZzogJ3dvcmQtc3BhY2luZycsXG4gIHdyaXRpbmdNb2RlOiAnd3JpdGluZy1tb2RlJyxcbiAgeDogMCxcbiAgeEhlaWdodDogJ3gtaGVpZ2h0JyxcbiAgeDE6IDAsXG4gIHgyOiAwLFxuICB4Q2hhbm5lbFNlbGVjdG9yOiAneENoYW5uZWxTZWxlY3RvcicsXG4gIHhsaW5rQWN0dWF0ZTogJ3hsaW5rOmFjdHVhdGUnLFxuICB4bGlua0FyY3JvbGU6ICd4bGluazphcmNyb2xlJyxcbiAgeGxpbmtIcmVmOiAneGxpbms6aHJlZicsXG4gIHhsaW5rUm9sZTogJ3hsaW5rOnJvbGUnLFxuICB4bGlua1Nob3c6ICd4bGluazpzaG93JyxcbiAgeGxpbmtUaXRsZTogJ3hsaW5rOnRpdGxlJyxcbiAgeGxpbmtUeXBlOiAneGxpbms6dHlwZScsXG4gIHhtbEJhc2U6ICd4bWw6YmFzZScsXG4gIHhtbExhbmc6ICd4bWw6bGFuZycsXG4gIHhtbFNwYWNlOiAneG1sOnNwYWNlJyxcbiAgeTogMCxcbiAgeTE6IDAsXG4gIHkyOiAwLFxuICB5Q2hhbm5lbFNlbGVjdG9yOiAneUNoYW5uZWxTZWxlY3RvcicsXG4gIHo6IDAsXG4gIHpvb21BbmRQYW46ICd6b29tQW5kUGFuJ1xufTtcblxudmFyIFNWR0RPTVByb3BlcnR5Q29uZmlnID0ge1xuICBQcm9wZXJ0aWVzOiB7fSxcbiAgRE9NQXR0cmlidXRlTmFtZXNwYWNlczoge1xuICAgIHhsaW5rQWN0dWF0ZTogTlMueGxpbmssXG4gICAgeGxpbmtBcmNyb2xlOiBOUy54bGluayxcbiAgICB4bGlua0hyZWY6IE5TLnhsaW5rLFxuICAgIHhsaW5rUm9sZTogTlMueGxpbmssXG4gICAgeGxpbmtTaG93OiBOUy54bGluayxcbiAgICB4bGlua1RpdGxlOiBOUy54bGluayxcbiAgICB4bGlua1R5cGU6IE5TLnhsaW5rLFxuICAgIHhtbEJhc2U6IE5TLnhtbCxcbiAgICB4bWxMYW5nOiBOUy54bWwsXG4gICAgeG1sU3BhY2U6IE5TLnhtbFxuICB9LFxuICBET01BdHRyaWJ1dGVOYW1lczoge31cbn07XG5cbk9iamVjdC5rZXlzKEFUVFJTKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgU1ZHRE9NUHJvcGVydHlDb25maWcuUHJvcGVydGllc1trZXldID0gMDtcbiAgaWYgKEFUVFJTW2tleV0pIHtcbiAgICBTVkdET01Qcm9wZXJ0eUNvbmZpZy5ET01BdHRyaWJ1dGVOYW1lc1trZXldID0gQVRUUlNba2V5XTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU1ZHRE9NUHJvcGVydHlDb25maWc7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogR2l2ZW4gYW55IG5vZGUgcmV0dXJuIHRoZSBmaXJzdCBsZWFmIG5vZGUgd2l0aG91dCBjaGlsZHJlbi5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAqIEByZXR1cm4ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9XG4gKi9cblxuZnVuY3Rpb24gZ2V0TGVhZk5vZGUobm9kZSkge1xuICB3aGlsZSAobm9kZSAmJiBub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICBub2RlID0gbm9kZS5maXJzdENoaWxkO1xuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIEdldCB0aGUgbmV4dCBzaWJsaW5nIHdpdGhpbiBhIGNvbnRhaW5lci4gVGhpcyB3aWxsIHdhbGsgdXAgdGhlXG4gKiBET00gaWYgYSBub2RlJ3Mgc2libGluZ3MgaGF2ZSBiZWVuIGV4aGF1c3RlZC5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAqIEByZXR1cm4gez9ET01FbGVtZW50fERPTVRleHROb2RlfVxuICovXG5mdW5jdGlvbiBnZXRTaWJsaW5nTm9kZShub2RlKSB7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpIHtcbiAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICB9XG59XG5cbi8qKlxuICogR2V0IG9iamVjdCBkZXNjcmliaW5nIHRoZSBub2RlcyB3aGljaCBjb250YWluIGNoYXJhY3RlcnMgYXQgb2Zmc2V0LlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudHxET01UZXh0Tm9kZX0gcm9vdFxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFxuICogQHJldHVybiB7P29iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChyb290LCBvZmZzZXQpIHtcbiAgdmFyIG5vZGUgPSBnZXRMZWFmTm9kZShyb290KTtcbiAgdmFyIG5vZGVTdGFydCA9IDA7XG4gIHZhciBub2RlRW5kID0gMDtcblxuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICBub2RlRW5kID0gbm9kZVN0YXJ0ICsgbm9kZS50ZXh0Q29udGVudC5sZW5ndGg7XG5cbiAgICAgIGlmIChub2RlU3RhcnQgPD0gb2Zmc2V0ICYmIG5vZGVFbmQgPj0gb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICBvZmZzZXQ6IG9mZnNldCAtIG5vZGVTdGFydFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBub2RlU3RhcnQgPSBub2RlRW5kO1xuICAgIH1cblxuICAgIG5vZGUgPSBnZXRMZWFmTm9kZShnZXRTaWJsaW5nTm9kZShub2RlKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBnZXRUZXh0Q29udGVudEFjY2Vzc29yXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuXG52YXIgY29udGVudEtleSA9IG51bGw7XG5cbi8qKlxuICogR2V0cyB0aGUga2V5IHVzZWQgdG8gYWNjZXNzIHRleHQgY29udGVudCBvbiBhIERPTSBub2RlLlxuICpcbiAqIEByZXR1cm4gez9zdHJpbmd9IEtleSB1c2VkIHRvIGFjY2VzcyB0ZXh0IGNvbnRlbnQuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcigpIHtcbiAgaWYgKCFjb250ZW50S2V5ICYmIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIC8vIFByZWZlciB0ZXh0Q29udGVudCB0byBpbm5lclRleHQgYmVjYXVzZSBtYW55IGJyb3dzZXJzIHN1cHBvcnQgYm90aCBidXRcbiAgICAvLyBTVkcgPHRleHQ+IGVsZW1lbnRzIGRvbid0IHN1cHBvcnQgaW5uZXJUZXh0IGV2ZW4gd2hlbiA8ZGl2PiBkb2VzLlxuICAgIGNvbnRlbnRLZXkgPSAndGV4dENvbnRlbnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA/ICd0ZXh0Q29udGVudCcgOiAnaW5uZXJUZXh0JztcbiAgfVxuICByZXR1cm4gY29udGVudEtleTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRUZXh0Q29udGVudEFjY2Vzc29yOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbnZhciBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0ID0gcmVxdWlyZSgnLi9nZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0Jyk7XG52YXIgZ2V0VGV4dENvbnRlbnRBY2Nlc3NvciA9IHJlcXVpcmUoJy4vZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcicpO1xuZnVuY3Rpb24gaXNDb2xsYXBzZWQoYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KSB7XG4gIHJldHVybiBhbmNob3JOb2RlID09PSBmb2N1c05vZGUgJiYgYW5jaG9yT2Zmc2V0ID09PSBmb2N1c09mZnNldDtcbn1cbmZ1bmN0aW9uIGdldElFT2Zmc2V0cyhub2RlKSB7XG4gIHZhciBzZWxlY3Rpb24gPSBkb2N1bWVudC5zZWxlY3Rpb247XG4gIHZhciBzZWxlY3RlZFJhbmdlID0gc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gIHZhciBzZWxlY3RlZExlbmd0aCA9IHNlbGVjdGVkUmFuZ2UudGV4dC5sZW5ndGg7XG4gIHZhciBmcm9tU3RhcnQgPSBzZWxlY3RlZFJhbmdlLmR1cGxpY2F0ZSgpO1xuICBmcm9tU3RhcnQubW92ZVRvRWxlbWVudFRleHQobm9kZSk7XG4gIGZyb21TdGFydC5zZXRFbmRQb2ludCgnRW5kVG9TdGFydCcsIHNlbGVjdGVkUmFuZ2UpO1xuICB2YXIgc3RhcnRPZmZzZXQgPSBmcm9tU3RhcnQudGV4dC5sZW5ndGg7XG4gIHZhciBlbmRPZmZzZXQgPSBzdGFydE9mZnNldCArIHNlbGVjdGVkTGVuZ3RoO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBzdGFydE9mZnNldCxcbiAgICBlbmQ6IGVuZE9mZnNldFxuICB9O1xufVxuZnVuY3Rpb24gZ2V0TW9kZXJuT2Zmc2V0cyhub2RlKSB7XG4gIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uICYmIHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgaWYgKCFzZWxlY3Rpb24gfHwgc2VsZWN0aW9uLnJhbmdlQ291bnQgPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgYW5jaG9yTm9kZSA9IHNlbGVjdGlvbi5hbmNob3JOb2RlO1xuICB2YXIgYW5jaG9yT2Zmc2V0ID0gc2VsZWN0aW9uLmFuY2hvck9mZnNldDtcbiAgdmFyIGZvY3VzTm9kZSA9IHNlbGVjdGlvbi5mb2N1c05vZGU7XG4gIHZhciBmb2N1c09mZnNldCA9IHNlbGVjdGlvbi5mb2N1c09mZnNldDtcbiAgdmFyIGN1cnJlbnRSYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuICB0cnkge1xuICAgIGN1cnJlbnRSYW5nZS5zdGFydENvbnRhaW5lci5ub2RlVHlwZTtcbiAgICBjdXJyZW50UmFuZ2UuZW5kQ29udGFpbmVyLm5vZGVUeXBlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGlzU2VsZWN0aW9uQ29sbGFwc2VkID0gaXNDb2xsYXBzZWQoc2VsZWN0aW9uLmFuY2hvck5vZGUsIHNlbGVjdGlvbi5hbmNob3JPZmZzZXQsIHNlbGVjdGlvbi5mb2N1c05vZGUsIHNlbGVjdGlvbi5mb2N1c09mZnNldCk7XG4gIHZhciByYW5nZUxlbmd0aCA9IGlzU2VsZWN0aW9uQ29sbGFwc2VkID8gMCA6IGN1cnJlbnRSYW5nZS50b1N0cmluZygpLmxlbmd0aDtcbiAgdmFyIHRlbXBSYW5nZSA9IGN1cnJlbnRSYW5nZS5jbG9uZVJhbmdlKCk7XG4gIHRlbXBSYW5nZS5zZWxlY3ROb2RlQ29udGVudHMobm9kZSk7XG4gIHRlbXBSYW5nZS5zZXRFbmQoY3VycmVudFJhbmdlLnN0YXJ0Q29udGFpbmVyLCBjdXJyZW50UmFuZ2Uuc3RhcnRPZmZzZXQpO1xuICB2YXIgaXNUZW1wUmFuZ2VDb2xsYXBzZWQgPSBpc0NvbGxhcHNlZCh0ZW1wUmFuZ2Uuc3RhcnRDb250YWluZXIsIHRlbXBSYW5nZS5zdGFydE9mZnNldCwgdGVtcFJhbmdlLmVuZENvbnRhaW5lciwgdGVtcFJhbmdlLmVuZE9mZnNldCk7XG4gIHZhciBzdGFydCA9IGlzVGVtcFJhbmdlQ29sbGFwc2VkID8gMCA6IHRlbXBSYW5nZS50b1N0cmluZygpLmxlbmd0aDtcbiAgdmFyIGVuZCA9IHN0YXJ0ICsgcmFuZ2VMZW5ndGg7XG4gIHZhciBkZXRlY3Rpb25SYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gIGRldGVjdGlvblJhbmdlLnNldFN0YXJ0KGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCk7XG4gIGRldGVjdGlvblJhbmdlLnNldEVuZChmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KTtcbiAgdmFyIGlzQmFja3dhcmQgPSBkZXRlY3Rpb25SYW5nZS5jb2xsYXBzZWQ7XG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IGlzQmFja3dhcmQgPyBlbmQgOiBzdGFydCxcbiAgICBlbmQ6IGlzQmFja3dhcmQgPyBzdGFydCA6IGVuZFxuICB9O1xufVxuZnVuY3Rpb24gc2V0SUVPZmZzZXRzKG5vZGUsIG9mZnNldHMpIHtcbiAgdmFyIHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkuZHVwbGljYXRlKCk7XG4gIHZhciBzdGFydCxcbiAgICAgIGVuZDtcbiAgaWYgKG9mZnNldHMuZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IG9mZnNldHMuc3RhcnQ7XG4gICAgZW5kID0gc3RhcnQ7XG4gIH0gZWxzZSBpZiAob2Zmc2V0cy5zdGFydCA+IG9mZnNldHMuZW5kKSB7XG4gICAgc3RhcnQgPSBvZmZzZXRzLmVuZDtcbiAgICBlbmQgPSBvZmZzZXRzLnN0YXJ0O1xuICB9IGVsc2Uge1xuICAgIHN0YXJ0ID0gb2Zmc2V0cy5zdGFydDtcbiAgICBlbmQgPSBvZmZzZXRzLmVuZDtcbiAgfVxuICByYW5nZS5tb3ZlVG9FbGVtZW50VGV4dChub2RlKTtcbiAgcmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCBzdGFydCk7XG4gIHJhbmdlLnNldEVuZFBvaW50KCdFbmRUb1N0YXJ0JywgcmFuZ2UpO1xuICByYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXInLCBlbmQgLSBzdGFydCk7XG4gIHJhbmdlLnNlbGVjdCgpO1xufVxuZnVuY3Rpb24gc2V0TW9kZXJuT2Zmc2V0cyhub2RlLCBvZmZzZXRzKSB7XG4gIGlmICghd2luZG93LmdldFNlbGVjdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICB2YXIgbGVuZ3RoID0gbm9kZVtnZXRUZXh0Q29udGVudEFjY2Vzc29yKCldLmxlbmd0aDtcbiAgdmFyIHN0YXJ0ID0gTWF0aC5taW4ob2Zmc2V0cy5zdGFydCwgbGVuZ3RoKTtcbiAgdmFyIGVuZCA9IG9mZnNldHMuZW5kID09PSB1bmRlZmluZWQgPyBzdGFydCA6IE1hdGgubWluKG9mZnNldHMuZW5kLCBsZW5ndGgpO1xuICBpZiAoIXNlbGVjdGlvbi5leHRlbmQgJiYgc3RhcnQgPiBlbmQpIHtcbiAgICB2YXIgdGVtcCA9IGVuZDtcbiAgICBlbmQgPSBzdGFydDtcbiAgICBzdGFydCA9IHRlbXA7XG4gIH1cbiAgdmFyIHN0YXJ0TWFya2VyID0gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChub2RlLCBzdGFydCk7XG4gIHZhciBlbmRNYXJrZXIgPSBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0KG5vZGUsIGVuZCk7XG4gIGlmIChzdGFydE1hcmtlciAmJiBlbmRNYXJrZXIpIHtcbiAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHN0YXJ0TWFya2VyLm5vZGUsIHN0YXJ0TWFya2VyLm9mZnNldCk7XG4gICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgIGlmIChzdGFydCA+IGVuZCkge1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgIHNlbGVjdGlvbi5leHRlbmQoZW5kTWFya2VyLm5vZGUsIGVuZE1hcmtlci5vZmZzZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByYW5nZS5zZXRFbmQoZW5kTWFya2VyLm5vZGUsIGVuZE1hcmtlci5vZmZzZXQpO1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICB9XG4gIH1cbn1cbnZhciB1c2VJRU9mZnNldHMgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgJ3NlbGVjdGlvbicgaW4gZG9jdW1lbnQgJiYgISgnZ2V0U2VsZWN0aW9uJyBpbiB3aW5kb3cpO1xudmFyIFJlYWN0RE9NU2VsZWN0aW9uID0ge1xuICBnZXRPZmZzZXRzOiB1c2VJRU9mZnNldHMgPyBnZXRJRU9mZnNldHMgOiBnZXRNb2Rlcm5PZmZzZXRzLFxuICBzZXRPZmZzZXRzOiB1c2VJRU9mZnNldHMgPyBzZXRJRU9mZnNldHMgOiBzZXRNb2Rlcm5PZmZzZXRzXG59O1xubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTVNlbGVjdGlvbjtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgb2JqZWN0IGlzIGEgRE9NIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGlzTm9kZShvYmplY3QpIHtcbiAgcmV0dXJuICEhKG9iamVjdCAmJiAodHlwZW9mIE5vZGUgPT09ICdmdW5jdGlvbicgPyBvYmplY3QgaW5zdGFuY2VvZiBOb2RlIDogdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iamVjdC5ub2RlVHlwZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIG9iamVjdC5ub2RlTmFtZSA9PT0gJ3N0cmluZycpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc05vZGU7IiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgaXNOb2RlID0gcmVxdWlyZSgnLi9pc05vZGUnKTtcbmZ1bmN0aW9uIGlzVGV4dE5vZGUob2JqZWN0KSB7XG4gIHJldHVybiBpc05vZGUob2JqZWN0KSAmJiBvYmplY3Qubm9kZVR5cGUgPT0gMztcbn1cbm1vZHVsZS5leHBvcnRzID0gaXNUZXh0Tm9kZTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIGlzVGV4dE5vZGUgPSByZXF1aXJlKCcuL2lzVGV4dE5vZGUnKTtcbmZ1bmN0aW9uIGNvbnRhaW5zTm9kZShvdXRlck5vZGUsIGlubmVyTm9kZSkge1xuICBpZiAoIW91dGVyTm9kZSB8fCAhaW5uZXJOb2RlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKG91dGVyTm9kZSA9PT0gaW5uZXJOb2RlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoaXNUZXh0Tm9kZShvdXRlck5vZGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGlzVGV4dE5vZGUoaW5uZXJOb2RlKSkge1xuICAgIHJldHVybiBjb250YWluc05vZGUob3V0ZXJOb2RlLCBpbm5lck5vZGUucGFyZW50Tm9kZSk7XG4gIH0gZWxzZSBpZiAob3V0ZXJOb2RlLmNvbnRhaW5zKSB7XG4gICAgcmV0dXJuIG91dGVyTm9kZS5jb250YWlucyhpbm5lck5vZGUpO1xuICB9IGVsc2UgaWYgKG91dGVyTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikge1xuICAgIHJldHVybiAhIShvdXRlck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oaW5uZXJOb2RlKSAmIDE2KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gY29udGFpbnNOb2RlO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlIGlucHV0L3RleHRhcmVhIHRvIGZvY3VzXG4gKi9cblxuZnVuY3Rpb24gZm9jdXNOb2RlKG5vZGUpIHtcbiAgLy8gSUU4IGNhbiB0aHJvdyBcIkNhbid0IG1vdmUgZm9jdXMgdG8gdGhlIGNvbnRyb2wgYmVjYXVzZSBpdCBpcyBpbnZpc2libGUsXG4gIC8vIG5vdCBlbmFibGVkLCBvciBvZiBhIHR5cGUgdGhhdCBkb2VzIG5vdCBhY2NlcHQgdGhlIGZvY3VzLlwiIGZvciBhbGwga2luZHMgb2ZcbiAgLy8gcmVhc29ucyB0aGF0IGFyZSB0b28gZXhwZW5zaXZlIGFuZCBmcmFnaWxlIHRvIHRlc3QuXG4gIHRyeSB7XG4gICAgbm9kZS5mb2N1cygpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZvY3VzTm9kZTsiLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBSZWFjdERPTVNlbGVjdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RET01TZWxlY3Rpb24nKTtcbnZhciBjb250YWluc05vZGUgPSByZXF1aXJlKCdmYmpzL2xpYi9jb250YWluc05vZGUnKTtcbnZhciBmb2N1c05vZGUgPSByZXF1aXJlKCdmYmpzL2xpYi9mb2N1c05vZGUnKTtcbnZhciBnZXRBY3RpdmVFbGVtZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvZ2V0QWN0aXZlRWxlbWVudCcpO1xuZnVuY3Rpb24gaXNJbkRvY3VtZW50KG5vZGUpIHtcbiAgcmV0dXJuIGNvbnRhaW5zTm9kZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIG5vZGUpO1xufVxudmFyIFJlYWN0SW5wdXRTZWxlY3Rpb24gPSB7XG4gIGhhc1NlbGVjdGlvbkNhcGFiaWxpdGllczogZnVuY3Rpb24oZWxlbSkge1xuICAgIHZhciBub2RlTmFtZSA9IGVsZW0gJiYgZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIG5vZGVOYW1lICYmIChub2RlTmFtZSA9PT0gJ2lucHV0JyAmJiBlbGVtLnR5cGUgPT09ICd0ZXh0JyB8fCBub2RlTmFtZSA9PT0gJ3RleHRhcmVhJyB8fCBlbGVtLmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKTtcbiAgfSxcbiAgZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb2N1c2VkRWxlbSA9IGdldEFjdGl2ZUVsZW1lbnQoKTtcbiAgICByZXR1cm4ge1xuICAgICAgZm9jdXNlZEVsZW06IGZvY3VzZWRFbGVtLFxuICAgICAgc2VsZWN0aW9uUmFuZ2U6IFJlYWN0SW5wdXRTZWxlY3Rpb24uaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKGZvY3VzZWRFbGVtKSA/IFJlYWN0SW5wdXRTZWxlY3Rpb24uZ2V0U2VsZWN0aW9uKGZvY3VzZWRFbGVtKSA6IG51bGxcbiAgICB9O1xuICB9LFxuICByZXN0b3JlU2VsZWN0aW9uOiBmdW5jdGlvbihwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uKSB7XG4gICAgdmFyIGN1ckZvY3VzZWRFbGVtID0gZ2V0QWN0aXZlRWxlbWVudCgpO1xuICAgIHZhciBwcmlvckZvY3VzZWRFbGVtID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5mb2N1c2VkRWxlbTtcbiAgICB2YXIgcHJpb3JTZWxlY3Rpb25SYW5nZSA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uc2VsZWN0aW9uUmFuZ2U7XG4gICAgaWYgKGN1ckZvY3VzZWRFbGVtICE9PSBwcmlvckZvY3VzZWRFbGVtICYmIGlzSW5Eb2N1bWVudChwcmlvckZvY3VzZWRFbGVtKSkge1xuICAgICAgaWYgKFJlYWN0SW5wdXRTZWxlY3Rpb24uaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKHByaW9yRm9jdXNlZEVsZW0pKSB7XG4gICAgICAgIFJlYWN0SW5wdXRTZWxlY3Rpb24uc2V0U2VsZWN0aW9uKHByaW9yRm9jdXNlZEVsZW0sIHByaW9yU2VsZWN0aW9uUmFuZ2UpO1xuICAgICAgfVxuICAgICAgZm9jdXNOb2RlKHByaW9yRm9jdXNlZEVsZW0pO1xuICAgIH1cbiAgfSxcbiAgZ2V0U2VsZWN0aW9uOiBmdW5jdGlvbihpbnB1dCkge1xuICAgIHZhciBzZWxlY3Rpb247XG4gICAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gaW5wdXQpIHtcbiAgICAgIHNlbGVjdGlvbiA9IHtcbiAgICAgICAgc3RhcnQ6IGlucHV0LnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICBlbmQ6IGlucHV0LnNlbGVjdGlvbkVuZFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbiAmJiBpbnB1dC5ub2RlTmFtZSAmJiBpbnB1dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcbiAgICAgIGlmIChyYW5nZS5wYXJlbnRFbGVtZW50KCkgPT09IGlucHV0KSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IHtcbiAgICAgICAgICBzdGFydDogLXJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgLWlucHV0LnZhbHVlLmxlbmd0aCksXG4gICAgICAgICAgZW5kOiAtcmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgLWlucHV0LnZhbHVlLmxlbmd0aClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0aW9uID0gUmVhY3RET01TZWxlY3Rpb24uZ2V0T2Zmc2V0cyhpbnB1dCk7XG4gICAgfVxuICAgIHJldHVybiBzZWxlY3Rpb24gfHwge1xuICAgICAgc3RhcnQ6IDAsXG4gICAgICBlbmQ6IDBcbiAgICB9O1xuICB9LFxuICBzZXRTZWxlY3Rpb246IGZ1bmN0aW9uKGlucHV0LCBvZmZzZXRzKSB7XG4gICAgdmFyIHN0YXJ0ID0gb2Zmc2V0cy5zdGFydDtcbiAgICB2YXIgZW5kID0gb2Zmc2V0cy5lbmQ7XG4gICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlbmQgPSBzdGFydDtcbiAgICB9XG4gICAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gaW5wdXQpIHtcbiAgICAgIGlucHV0LnNlbGVjdGlvblN0YXJ0ID0gc3RhcnQ7XG4gICAgICBpbnB1dC5zZWxlY3Rpb25FbmQgPSBNYXRoLm1pbihlbmQsIGlucHV0LnZhbHVlLmxlbmd0aCk7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24gJiYgaW5wdXQubm9kZU5hbWUgJiYgaW5wdXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0Jykge1xuICAgICAgdmFyIHJhbmdlID0gaW5wdXQuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcbiAgICAgIHJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgc3RhcnQpO1xuICAgICAgcmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgZW5kIC0gc3RhcnQpO1xuICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RE9NU2VsZWN0aW9uLnNldE9mZnNldHMoaW5wdXQsIG9mZnNldHMpO1xuICAgIH1cbiAgfVxufTtcbm1vZHVsZS5leHBvcnRzID0gUmVhY3RJbnB1dFNlbGVjdGlvbjtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBmYi13d3cvdHlwZW9mLXVuZGVmaW5lZCAqL1xuXG4vKipcbiAqIFNhbWUgYXMgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBidXQgd3JhcHMgaW4gYSB0cnktY2F0Y2ggYmxvY2suIEluIElFIGl0IGlzXG4gKiBub3Qgc2FmZSB0byBjYWxsIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaWYgdGhlcmUgaXMgbm90aGluZyBmb2N1c2VkLlxuICpcbiAqIFRoZSBhY3RpdmVFbGVtZW50IHdpbGwgYmUgbnVsbCBvbmx5IGlmIHRoZSBkb2N1bWVudCBvciBkb2N1bWVudCBib2R5IGlzIG5vdFxuICogeWV0IGRlZmluZWQuXG4gKi9cbmZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoKSAvKj9ET01FbGVtZW50Ki97XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCB8fCBkb2N1bWVudC5ib2R5O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRBY3RpdmVFbGVtZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBpc1RleHRJbnB1dEVsZW1lbnRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQHNlZSBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS90aGUtaW5wdXQtZWxlbWVudC5odG1sI2lucHV0LXR5cGUtYXR0ci1zdW1tYXJ5XG4gKi9cblxudmFyIHN1cHBvcnRlZElucHV0VHlwZXMgPSB7XG4gICdjb2xvcic6IHRydWUsXG4gICdkYXRlJzogdHJ1ZSxcbiAgJ2RhdGV0aW1lJzogdHJ1ZSxcbiAgJ2RhdGV0aW1lLWxvY2FsJzogdHJ1ZSxcbiAgJ2VtYWlsJzogdHJ1ZSxcbiAgJ21vbnRoJzogdHJ1ZSxcbiAgJ251bWJlcic6IHRydWUsXG4gICdwYXNzd29yZCc6IHRydWUsXG4gICdyYW5nZSc6IHRydWUsXG4gICdzZWFyY2gnOiB0cnVlLFxuICAndGVsJzogdHJ1ZSxcbiAgJ3RleHQnOiB0cnVlLFxuICAndGltZSc6IHRydWUsXG4gICd1cmwnOiB0cnVlLFxuICAnd2Vlayc6IHRydWVcbn07XG5cbmZ1bmN0aW9uIGlzVGV4dElucHV0RWxlbWVudChlbGVtKSB7XG4gIHZhciBub2RlTmFtZSA9IGVsZW0gJiYgZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBub2RlTmFtZSAmJiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgc3VwcG9ydGVkSW5wdXRUeXBlc1tlbGVtLnR5cGVdIHx8IG5vZGVOYW1lID09PSAndGV4dGFyZWEnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1RleHRJbnB1dEVsZW1lbnQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKiBcbiAqL1xuXG4vKmVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogaW5saW5lZCBPYmplY3QuaXMgcG9seWZpbGwgdG8gYXZvaWQgcmVxdWlyaW5nIGNvbnN1bWVycyBzaGlwIHRoZWlyIG93blxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG4gKi9cbmZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuICBpZiAoeCA9PT0geSkge1xuICAgIC8vIFN0ZXBzIDEtNSwgNy0xMFxuICAgIC8vIFN0ZXBzIDYuYi02LmU6ICswICE9IC0wXG4gICAgcmV0dXJuIHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICB9IGVsc2Uge1xuICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG4gICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgfVxufVxuXG4vKipcbiAqIFBlcmZvcm1zIGVxdWFsaXR5IGJ5IGl0ZXJhdGluZyB0aHJvdWdoIGtleXMgb24gYW4gb2JqZWN0IGFuZCByZXR1cm5pbmcgZmFsc2VcbiAqIHdoZW4gYW55IGtleSBoYXMgdmFsdWVzIHdoaWNoIGFyZSBub3Qgc3RyaWN0bHkgZXF1YWwgYmV0d2VlbiB0aGUgYXJndW1lbnRzLlxuICogUmV0dXJucyB0cnVlIHdoZW4gdGhlIHZhbHVlcyBvZiBhbGwga2V5cyBhcmUgc3RyaWN0bHkgZXF1YWwuXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gIGlmIChpcyhvYmpBLCBvYmpCKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmpBICE9PSAnb2JqZWN0JyB8fCBvYmpBID09PSBudWxsIHx8IHR5cGVvZiBvYmpCICE9PSAnb2JqZWN0JyB8fCBvYmpCID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwob2JqQiwga2V5c0FbaV0pIHx8ICFpcyhvYmpBW2tleXNBW2ldXSwgb2JqQltrZXlzQVtpXV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hhbGxvd0VxdWFsOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xudmFyIEV2ZW50UHJvcGFnYXRvcnMgPSByZXF1aXJlKCcuL0V2ZW50UHJvcGFnYXRvcnMnKTtcbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG52YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gcmVxdWlyZSgnLi9SZWFjdERPTUNvbXBvbmVudFRyZWUnKTtcbnZhciBSZWFjdElucHV0U2VsZWN0aW9uID0gcmVxdWlyZSgnLi9SZWFjdElucHV0U2VsZWN0aW9uJyk7XG52YXIgU3ludGhldGljRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY0V2ZW50Jyk7XG52YXIgZ2V0QWN0aXZlRWxlbWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL2dldEFjdGl2ZUVsZW1lbnQnKTtcbnZhciBpc1RleHRJbnB1dEVsZW1lbnQgPSByZXF1aXJlKCcuL2lzVGV4dElucHV0RWxlbWVudCcpO1xudmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcbnZhciBzaGFsbG93RXF1YWwgPSByZXF1aXJlKCdmYmpzL2xpYi9zaGFsbG93RXF1YWwnKTtcbnZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbnZhciBza2lwU2VsZWN0aW9uQ2hhbmdlRXZlbnQgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIDw9IDExO1xudmFyIGV2ZW50VHlwZXMgPSB7c2VsZWN0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblNlbGVjdDogbnVsbH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblNlbGVjdENhcHR1cmU6IG51bGx9KVxuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BCbHVyLCB0b3BMZXZlbFR5cGVzLnRvcENvbnRleHRNZW51LCB0b3BMZXZlbFR5cGVzLnRvcEZvY3VzLCB0b3BMZXZlbFR5cGVzLnRvcEtleURvd24sIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duLCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlVXAsIHRvcExldmVsVHlwZXMudG9wU2VsZWN0aW9uQ2hhbmdlXVxuICB9fTtcbnZhciBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbnZhciBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGw7XG52YXIgbGFzdFNlbGVjdGlvbiA9IG51bGw7XG52YXIgbW91c2VEb3duID0gZmFsc2U7XG52YXIgaGFzTGlzdGVuZXIgPSBmYWxzZTtcbnZhciBPTl9TRUxFQ1RfS0VZID0ga2V5T2Yoe29uU2VsZWN0OiBudWxsfSk7XG5mdW5jdGlvbiBnZXRTZWxlY3Rpb24obm9kZSkge1xuICBpZiAoJ3NlbGVjdGlvblN0YXJ0JyBpbiBub2RlICYmIFJlYWN0SW5wdXRTZWxlY3Rpb24uaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKG5vZGUpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0OiBub2RlLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgZW5kOiBub2RlLnNlbGVjdGlvbkVuZFxuICAgIH07XG4gIH0gZWxzZSBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xuICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFuY2hvck5vZGU6IHNlbGVjdGlvbi5hbmNob3JOb2RlLFxuICAgICAgYW5jaG9yT2Zmc2V0OiBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0LFxuICAgICAgZm9jdXNOb2RlOiBzZWxlY3Rpb24uZm9jdXNOb2RlLFxuICAgICAgZm9jdXNPZmZzZXQ6IHNlbGVjdGlvbi5mb2N1c09mZnNldFxuICAgIH07XG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG4gICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhcmVudEVsZW1lbnQ6IHJhbmdlLnBhcmVudEVsZW1lbnQoKSxcbiAgICAgIHRleHQ6IHJhbmdlLnRleHQsXG4gICAgICB0b3A6IHJhbmdlLmJvdW5kaW5nVG9wLFxuICAgICAgbGVmdDogcmFuZ2UuYm91bmRpbmdMZWZ0XG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gY29uc3RydWN0U2VsZWN0RXZlbnQobmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIGlmIChtb3VzZURvd24gfHwgYWN0aXZlRWxlbWVudCA9PSBudWxsIHx8IGFjdGl2ZUVsZW1lbnQgIT09IGdldEFjdGl2ZUVsZW1lbnQoKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBjdXJyZW50U2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKGFjdGl2ZUVsZW1lbnQpO1xuICBpZiAoIWxhc3RTZWxlY3Rpb24gfHwgIXNoYWxsb3dFcXVhbChsYXN0U2VsZWN0aW9uLCBjdXJyZW50U2VsZWN0aW9uKSkge1xuICAgIGxhc3RTZWxlY3Rpb24gPSBjdXJyZW50U2VsZWN0aW9uO1xuICAgIHZhciBzeW50aGV0aWNFdmVudCA9IFN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChldmVudFR5cGVzLnNlbGVjdCwgYWN0aXZlRWxlbWVudEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgc3ludGhldGljRXZlbnQudHlwZSA9ICdzZWxlY3QnO1xuICAgIHN5bnRoZXRpY0V2ZW50LnRhcmdldCA9IGFjdGl2ZUVsZW1lbnQ7XG4gICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKHN5bnRoZXRpY0V2ZW50KTtcbiAgICByZXR1cm4gc3ludGhldGljRXZlbnQ7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG52YXIgU2VsZWN0RXZlbnRQbHVnaW4gPSB7XG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgaWYgKCFoYXNMaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciB0YXJnZXROb2RlID0gdGFyZ2V0SW5zdCA/IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKHRhcmdldEluc3QpIDogd2luZG93O1xuICAgIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRm9jdXM6XG4gICAgICAgIGlmIChpc1RleHRJbnB1dEVsZW1lbnQodGFyZ2V0Tm9kZSkgfHwgdGFyZ2V0Tm9kZS5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJykge1xuICAgICAgICAgIGFjdGl2ZUVsZW1lbnQgPSB0YXJnZXROb2RlO1xuICAgICAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgICAgICAgICBsYXN0U2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BCbHVyOlxuICAgICAgICBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgYWN0aXZlRWxlbWVudEluc3QgPSBudWxsO1xuICAgICAgICBsYXN0U2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duOlxuICAgICAgICBtb3VzZURvd24gPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDb250ZXh0TWVudTpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZVVwOlxuICAgICAgICBtb3VzZURvd24gPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdFNlbGVjdEV2ZW50KG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU2VsZWN0aW9uQ2hhbmdlOlxuICAgICAgICBpZiAoc2tpcFNlbGVjdGlvbkNoYW5nZUV2ZW50KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVVwOlxuICAgICAgICByZXR1cm4gY29uc3RydWN0U2VsZWN0RXZlbnQobmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGRpZFB1dExpc3RlbmVyOiBmdW5jdGlvbihpbnN0LCByZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lcikge1xuICAgIGlmIChyZWdpc3RyYXRpb25OYW1lID09PSBPTl9TRUxFQ1RfS0VZKSB7XG4gICAgICBoYXNMaXN0ZW5lciA9IHRydWU7XG4gICAgfVxuICB9XG59O1xubW9kdWxlLmV4cG9ydHMgPSBTZWxlY3RFdmVudFBsdWdpbjtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJy4vZW1wdHlGdW5jdGlvbicpO1xuICB2YXIgRXZlbnRMaXN0ZW5lciA9IHtcbiAgICBsaXN0ZW46IGZ1bmN0aW9uKHRhcmdldCwgZXZlbnRUeXBlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKHRhcmdldC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHtyZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBjYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICAgIH19O1xuICAgICAgfSBlbHNlIGlmICh0YXJnZXQuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgdGFyZ2V0LmF0dGFjaEV2ZW50KCdvbicgKyBldmVudFR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHtyZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGFyZ2V0LmRldGFjaEV2ZW50KCdvbicgKyBldmVudFR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICB9fTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNhcHR1cmU6IGZ1bmN0aW9uKHRhcmdldCwgZXZlbnRUeXBlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKHRhcmdldC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2ssIHRydWUpO1xuICAgICAgICByZXR1cm4ge3JlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgICB9fTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQXR0ZW1wdGVkIHRvIGxpc3RlbiB0byBldmVudHMgZHVyaW5nIHRoZSBjYXB0dXJlIHBoYXNlIG9uIGEgJyArICdicm93c2VyIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCB0aGUgY2FwdHVyZSBwaGFzZS4gWW91ciBhcHBsaWNhdGlvbiAnICsgJ3dpbGwgbm90IHJlY2VpdmUgc29tZSBldmVudHMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtyZW1vdmU6IGVtcHR5RnVuY3Rpb259O1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVnaXN0ZXJEZWZhdWx0OiBmdW5jdGlvbigpIHt9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRMaXN0ZW5lcjtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xuICB2YXIgRXZlbnRQbHVnaW5IdWIgPSByZXF1aXJlKCcuL0V2ZW50UGx1Z2luSHViJyk7XG4gIHZhciBFdmVudFBsdWdpblV0aWxzID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpblV0aWxzJyk7XG4gIHZhciBhY2N1bXVsYXRlSW50byA9IHJlcXVpcmUoJy4vYWNjdW11bGF0ZUludG8nKTtcbiAgdmFyIGZvckVhY2hBY2N1bXVsYXRlZCA9IHJlcXVpcmUoJy4vZm9yRWFjaEFjY3VtdWxhdGVkJyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgUHJvcGFnYXRpb25QaGFzZXMgPSBFdmVudENvbnN0YW50cy5Qcm9wYWdhdGlvblBoYXNlcztcbiAgdmFyIGdldExpc3RlbmVyID0gRXZlbnRQbHVnaW5IdWIuZ2V0TGlzdGVuZXI7XG4gIGZ1bmN0aW9uIGxpc3RlbmVyQXRQaGFzZShpbnN0LCBldmVudCwgcHJvcGFnYXRpb25QaGFzZSkge1xuICAgIHZhciByZWdpc3RyYXRpb25OYW1lID0gZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcHJvcGFnYXRpb25QaGFzZV07XG4gICAgcmV0dXJuIGdldExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpO1xuICB9XG4gIGZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMoaW5zdCwgdXB3YXJkcywgZXZlbnQpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoaW5zdCwgJ0Rpc3BhdGNoaW5nIGluc3QgbXVzdCBub3QgYmUgbnVsbCcpIDogdm9pZCAwO1xuICAgIH1cbiAgICB2YXIgcGhhc2UgPSB1cHdhcmRzID8gUHJvcGFnYXRpb25QaGFzZXMuYnViYmxlZCA6IFByb3BhZ2F0aW9uUGhhc2VzLmNhcHR1cmVkO1xuICAgIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyQXRQaGFzZShpbnN0LCBldmVudCwgcGhhc2UpO1xuICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzLCBsaXN0ZW5lcik7XG4gICAgICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBhY2N1bXVsYXRlSW50byhldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMsIGluc3QpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgICBFdmVudFBsdWdpblV0aWxzLnRyYXZlcnNlVHdvUGhhc2UoZXZlbnQuX3RhcmdldEluc3QsIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMsIGV2ZW50KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZVNraXBUYXJnZXQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgIHZhciB0YXJnZXRJbnN0ID0gZXZlbnQuX3RhcmdldEluc3Q7XG4gICAgICB2YXIgcGFyZW50SW5zdCA9IHRhcmdldEluc3QgPyBFdmVudFBsdWdpblV0aWxzLmdldFBhcmVudEluc3RhbmNlKHRhcmdldEluc3QpIDogbnVsbDtcbiAgICAgIEV2ZW50UGx1Z2luVXRpbHMudHJhdmVyc2VUd29QaGFzZShwYXJlbnRJbnN0LCBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzLCBldmVudCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGFjY3VtdWxhdGVEaXNwYXRjaGVzKGluc3QsIGlnbm9yZWREaXJlY3Rpb24sIGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICAgIHZhciByZWdpc3RyYXRpb25OYW1lID0gZXZlbnQuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZTtcbiAgICAgIHZhciBsaXN0ZW5lciA9IGdldExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpO1xuICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycywgbGlzdGVuZXIpO1xuICAgICAgICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBhY2N1bXVsYXRlSW50byhldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMsIGluc3QpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlc1NpbmdsZShldmVudCkge1xuICAgIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICBhY2N1bXVsYXRlRGlzcGF0Y2hlcyhldmVudC5fdGFyZ2V0SW5zdCwgbnVsbCwgZXZlbnQpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50cykge1xuICAgIGZvckVhY2hBY2N1bXVsYXRlZChldmVudHMsIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGUpO1xuICB9XG4gIGZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTa2lwVGFyZ2V0KGV2ZW50cykge1xuICAgIGZvckVhY2hBY2N1bXVsYXRlZChldmVudHMsIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGVTa2lwVGFyZ2V0KTtcbiAgfVxuICBmdW5jdGlvbiBhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXMobGVhdmUsIGVudGVyLCBmcm9tLCB0bykge1xuICAgIEV2ZW50UGx1Z2luVXRpbHMudHJhdmVyc2VFbnRlckxlYXZlKGZyb20sIHRvLCBhY2N1bXVsYXRlRGlzcGF0Y2hlcywgbGVhdmUsIGVudGVyKTtcbiAgfVxuICBmdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyhldmVudHMpIHtcbiAgICBmb3JFYWNoQWNjdW11bGF0ZWQoZXZlbnRzLCBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlc1NpbmdsZSk7XG4gIH1cbiAgdmFyIEV2ZW50UHJvcGFnYXRvcnMgPSB7XG4gICAgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlczogYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyxcbiAgICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2tpcFRhcmdldDogYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQsXG4gICAgYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXM6IGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzLFxuICAgIGFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlczogYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzXG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRQcm9wYWdhdG9ycztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljRXZlbnQnKTtcbnZhciBBbmltYXRpb25FdmVudEludGVyZmFjZSA9IHtcbiAgYW5pbWF0aW9uTmFtZTogbnVsbCxcbiAgZWxhcHNlZFRpbWU6IG51bGwsXG4gIHBzZXVkb0VsZW1lbnQ6IG51bGxcbn07XG5mdW5jdGlvbiBTeW50aGV0aWNBbmltYXRpb25FdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICByZXR1cm4gU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG59XG5TeW50aGV0aWNFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljQW5pbWF0aW9uRXZlbnQsIEFuaW1hdGlvbkV2ZW50SW50ZXJmYWNlKTtcbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljQW5pbWF0aW9uRXZlbnQ7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljRXZlbnQnKTtcbnZhciBDbGlwYm9hcmRFdmVudEludGVyZmFjZSA9IHtjbGlwYm9hcmREYXRhOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiAnY2xpcGJvYXJkRGF0YScgaW4gZXZlbnQgPyBldmVudC5jbGlwYm9hcmREYXRhIDogd2luZG93LmNsaXBib2FyZERhdGE7XG4gIH19O1xuZnVuY3Rpb24gU3ludGhldGljQ2xpcGJvYXJkRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgcmV0dXJuIFN5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xufVxuU3ludGhldGljRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50LCBDbGlwYm9hcmRFdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50O1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgU3ludGhldGljVUlFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljVUlFdmVudCcpO1xudmFyIEZvY3VzRXZlbnRJbnRlcmZhY2UgPSB7cmVsYXRlZFRhcmdldDogbnVsbH07XG5mdW5jdGlvbiBTeW50aGV0aWNGb2N1c0V2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHJldHVybiBTeW50aGV0aWNVSUV2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xufVxuU3ludGhldGljVUlFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljRm9jdXNFdmVudCwgRm9jdXNFdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0ZvY3VzRXZlbnQ7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBnZXRFdmVudENoYXJDb2RlID0gcmVxdWlyZSgnLi9nZXRFdmVudENoYXJDb2RlJyk7XG52YXIgbm9ybWFsaXplS2V5ID0ge1xuICAnRXNjJzogJ0VzY2FwZScsXG4gICdTcGFjZWJhcic6ICcgJyxcbiAgJ0xlZnQnOiAnQXJyb3dMZWZ0JyxcbiAgJ1VwJzogJ0Fycm93VXAnLFxuICAnUmlnaHQnOiAnQXJyb3dSaWdodCcsXG4gICdEb3duJzogJ0Fycm93RG93bicsXG4gICdEZWwnOiAnRGVsZXRlJyxcbiAgJ1dpbic6ICdPUycsXG4gICdNZW51JzogJ0NvbnRleHRNZW51JyxcbiAgJ0FwcHMnOiAnQ29udGV4dE1lbnUnLFxuICAnU2Nyb2xsJzogJ1Njcm9sbExvY2snLFxuICAnTW96UHJpbnRhYmxlS2V5JzogJ1VuaWRlbnRpZmllZCdcbn07XG52YXIgdHJhbnNsYXRlVG9LZXkgPSB7XG4gIDg6ICdCYWNrc3BhY2UnLFxuICA5OiAnVGFiJyxcbiAgMTI6ICdDbGVhcicsXG4gIDEzOiAnRW50ZXInLFxuICAxNjogJ1NoaWZ0JyxcbiAgMTc6ICdDb250cm9sJyxcbiAgMTg6ICdBbHQnLFxuICAxOTogJ1BhdXNlJyxcbiAgMjA6ICdDYXBzTG9jaycsXG4gIDI3OiAnRXNjYXBlJyxcbiAgMzI6ICcgJyxcbiAgMzM6ICdQYWdlVXAnLFxuICAzNDogJ1BhZ2VEb3duJyxcbiAgMzU6ICdFbmQnLFxuICAzNjogJ0hvbWUnLFxuICAzNzogJ0Fycm93TGVmdCcsXG4gIDM4OiAnQXJyb3dVcCcsXG4gIDM5OiAnQXJyb3dSaWdodCcsXG4gIDQwOiAnQXJyb3dEb3duJyxcbiAgNDU6ICdJbnNlcnQnLFxuICA0NjogJ0RlbGV0ZScsXG4gIDExMjogJ0YxJyxcbiAgMTEzOiAnRjInLFxuICAxMTQ6ICdGMycsXG4gIDExNTogJ0Y0JyxcbiAgMTE2OiAnRjUnLFxuICAxMTc6ICdGNicsXG4gIDExODogJ0Y3JyxcbiAgMTE5OiAnRjgnLFxuICAxMjA6ICdGOScsXG4gIDEyMTogJ0YxMCcsXG4gIDEyMjogJ0YxMScsXG4gIDEyMzogJ0YxMicsXG4gIDE0NDogJ051bUxvY2snLFxuICAxNDU6ICdTY3JvbGxMb2NrJyxcbiAgMjI0OiAnTWV0YSdcbn07XG5mdW5jdGlvbiBnZXRFdmVudEtleShuYXRpdmVFdmVudCkge1xuICBpZiAobmF0aXZlRXZlbnQua2V5KSB7XG4gICAgdmFyIGtleSA9IG5vcm1hbGl6ZUtleVtuYXRpdmVFdmVudC5rZXldIHx8IG5hdGl2ZUV2ZW50LmtleTtcbiAgICBpZiAoa2V5ICE9PSAnVW5pZGVudGlmaWVkJykge1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gIH1cbiAgaWYgKG5hdGl2ZUV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICB2YXIgY2hhckNvZGUgPSBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KTtcbiAgICByZXR1cm4gY2hhckNvZGUgPT09IDEzID8gJ0VudGVyJyA6IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpO1xuICB9XG4gIGlmIChuYXRpdmVFdmVudC50eXBlID09PSAna2V5ZG93bicgfHwgbmF0aXZlRXZlbnQudHlwZSA9PT0gJ2tleXVwJykge1xuICAgIHJldHVybiB0cmFuc2xhdGVUb0tleVtuYXRpdmVFdmVudC5rZXlDb2RlXSB8fCAnVW5pZGVudGlmaWVkJztcbiAgfVxuICByZXR1cm4gJyc7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGdldEV2ZW50S2V5O1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgU3ludGhldGljVUlFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljVUlFdmVudCcpO1xudmFyIGdldEV2ZW50Q2hhckNvZGUgPSByZXF1aXJlKCcuL2dldEV2ZW50Q2hhckNvZGUnKTtcbnZhciBnZXRFdmVudEtleSA9IHJlcXVpcmUoJy4vZ2V0RXZlbnRLZXknKTtcbnZhciBnZXRFdmVudE1vZGlmaWVyU3RhdGUgPSByZXF1aXJlKCcuL2dldEV2ZW50TW9kaWZpZXJTdGF0ZScpO1xudmFyIEtleWJvYXJkRXZlbnRJbnRlcmZhY2UgPSB7XG4gIGtleTogZ2V0RXZlbnRLZXksXG4gIGxvY2F0aW9uOiBudWxsLFxuICBjdHJsS2V5OiBudWxsLFxuICBzaGlmdEtleTogbnVsbCxcbiAgYWx0S2V5OiBudWxsLFxuICBtZXRhS2V5OiBudWxsLFxuICByZXBlYXQ6IG51bGwsXG4gIGxvY2FsZTogbnVsbCxcbiAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlLFxuICBjaGFyQ29kZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleXByZXNzJykge1xuICAgICAgcmV0dXJuIGdldEV2ZW50Q2hhckNvZGUoZXZlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSxcbiAga2V5Q29kZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcpIHtcbiAgICAgIHJldHVybiBldmVudC5rZXlDb2RlO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSxcbiAgd2hpY2g6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICAgIHJldHVybiBnZXRFdmVudENoYXJDb2RlKGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJyB8fCBldmVudC50eXBlID09PSAna2V5dXAnKSB7XG4gICAgICByZXR1cm4gZXZlbnQua2V5Q29kZTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbn07XG5mdW5jdGlvbiBTeW50aGV0aWNLZXlib2FyZEV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHJldHVybiBTeW50aGV0aWNVSUV2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xufVxuU3ludGhldGljVUlFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljS2V5Ym9hcmRFdmVudCwgS2V5Ym9hcmRFdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0tleWJvYXJkRXZlbnQ7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNNb3VzZUV2ZW50Jyk7XG52YXIgRHJhZ0V2ZW50SW50ZXJmYWNlID0ge2RhdGFUcmFuc2ZlcjogbnVsbH07XG5mdW5jdGlvbiBTeW50aGV0aWNEcmFnRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgcmV0dXJuIFN5bnRoZXRpY01vdXNlRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG59XG5TeW50aGV0aWNNb3VzZUV2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNEcmFnRXZlbnQsIERyYWdFdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0RyYWdFdmVudDtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIFN5bnRoZXRpY1VJRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY1VJRXZlbnQnKTtcbnZhciBnZXRFdmVudE1vZGlmaWVyU3RhdGUgPSByZXF1aXJlKCcuL2dldEV2ZW50TW9kaWZpZXJTdGF0ZScpO1xudmFyIFRvdWNoRXZlbnRJbnRlcmZhY2UgPSB7XG4gIHRvdWNoZXM6IG51bGwsXG4gIHRhcmdldFRvdWNoZXM6IG51bGwsXG4gIGNoYW5nZWRUb3VjaGVzOiBudWxsLFxuICBhbHRLZXk6IG51bGwsXG4gIG1ldGFLZXk6IG51bGwsXG4gIGN0cmxLZXk6IG51bGwsXG4gIHNoaWZ0S2V5OiBudWxsLFxuICBnZXRNb2RpZmllclN0YXRlOiBnZXRFdmVudE1vZGlmaWVyU3RhdGVcbn07XG5mdW5jdGlvbiBTeW50aGV0aWNUb3VjaEV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHJldHVybiBTeW50aGV0aWNVSUV2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xufVxuU3ludGhldGljVUlFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljVG91Y2hFdmVudCwgVG91Y2hFdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY1RvdWNoRXZlbnQ7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljRXZlbnQnKTtcbnZhciBUcmFuc2l0aW9uRXZlbnRJbnRlcmZhY2UgPSB7XG4gIHByb3BlcnR5TmFtZTogbnVsbCxcbiAgZWxhcHNlZFRpbWU6IG51bGwsXG4gIHBzZXVkb0VsZW1lbnQ6IG51bGxcbn07XG5mdW5jdGlvbiBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgcmV0dXJuIFN5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xufVxuU3ludGhldGljRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY1RyYW5zaXRpb25FdmVudCwgVHJhbnNpdGlvbkV2ZW50SW50ZXJmYWNlKTtcbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljVHJhbnNpdGlvbkV2ZW50O1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgUG9vbGVkQ2xhc3MgPSByZXF1aXJlKCcuL1Bvb2xlZENsYXNzJyk7XG4gIHZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIGRpZFdhcm5Gb3JBZGRlZE5ld1Byb3BlcnR5ID0gZmFsc2U7XG4gIHZhciBpc1Byb3h5U3VwcG9ydGVkID0gdHlwZW9mIFByb3h5ID09PSAnZnVuY3Rpb24nO1xuICB2YXIgc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMgPSBbJ2Rpc3BhdGNoQ29uZmlnJywgJ190YXJnZXRJbnN0JywgJ25hdGl2ZUV2ZW50JywgJ2lzRGVmYXVsdFByZXZlbnRlZCcsICdpc1Byb3BhZ2F0aW9uU3RvcHBlZCcsICdfZGlzcGF0Y2hMaXN0ZW5lcnMnLCAnX2Rpc3BhdGNoSW5zdGFuY2VzJ107XG4gIHZhciBFdmVudEludGVyZmFjZSA9IHtcbiAgICB0eXBlOiBudWxsLFxuICAgIHRhcmdldDogbnVsbCxcbiAgICBjdXJyZW50VGFyZ2V0OiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCxcbiAgICBldmVudFBoYXNlOiBudWxsLFxuICAgIGJ1YmJsZXM6IG51bGwsXG4gICAgY2FuY2VsYWJsZTogbnVsbCxcbiAgICB0aW1lU3RhbXA6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG4gICAgfSxcbiAgICBkZWZhdWx0UHJldmVudGVkOiBudWxsLFxuICAgIGlzVHJ1c3RlZDogbnVsbFxuICB9O1xuICBmdW5jdGlvbiBTeW50aGV0aWNFdmVudChkaXNwYXRjaENvbmZpZywgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgICAgZGVsZXRlIHRoaXMucHJldmVudERlZmF1bHQ7XG4gICAgICBkZWxldGUgdGhpcy5zdG9wUHJvcGFnYXRpb247XG4gICAgfVxuICAgIHRoaXMuZGlzcGF0Y2hDb25maWcgPSBkaXNwYXRjaENvbmZpZztcbiAgICB0aGlzLl90YXJnZXRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgICB0aGlzLm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgdmFyIEludGVyZmFjZSA9IHRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlO1xuICAgIGZvciAodmFyIHByb3BOYW1lIGluIEludGVyZmFjZSkge1xuICAgICAgaWYgKCFJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgZGVsZXRlIHRoaXNbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgICAgdmFyIG5vcm1hbGl6ZSA9IEludGVyZmFjZVtwcm9wTmFtZV07XG4gICAgICBpZiAobm9ybWFsaXplKSB7XG4gICAgICAgIHRoaXNbcHJvcE5hbWVdID0gbm9ybWFsaXplKG5hdGl2ZUV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcm9wTmFtZSA9PT0gJ3RhcmdldCcpIHtcbiAgICAgICAgICB0aGlzLnRhcmdldCA9IG5hdGl2ZUV2ZW50VGFyZ2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXNbcHJvcE5hbWVdID0gbmF0aXZlRXZlbnRbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBkZWZhdWx0UHJldmVudGVkID0gbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCAhPSBudWxsID8gbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCA6IG5hdGl2ZUV2ZW50LnJldHVyblZhbHVlID09PSBmYWxzZTtcbiAgICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2U7XG4gICAgfVxuICAgIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2U7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgX2Fzc2lnbihTeW50aGV0aWNFdmVudC5wcm90b3R5cGUsIHtcbiAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgdmFyIGV2ZW50ID0gdGhpcy5uYXRpdmVFdmVudDtcbiAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgICB9LFxuICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZXZlbnQgPSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgICB9LFxuICAgIHBlcnNpc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5pc1BlcnNpc3RlbnQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgICB9LFxuICAgIGlzUGVyc2lzdGVudDogZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlLFxuICAgIGRlc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIEludGVyZmFjZSA9IHRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlO1xuICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gSW50ZXJmYWNlKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIHByb3BOYW1lLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKHByb3BOYW1lLCBJbnRlcmZhY2VbcHJvcE5hbWVdKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpc1twcm9wTmFtZV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNob3VsZEJlUmVsZWFzZWRQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXNbc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXNbaV1dID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhciBub29wID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ25hdGl2ZUV2ZW50JywgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbignbmF0aXZlRXZlbnQnLCBudWxsKSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncHJldmVudERlZmF1bHQnLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKCdwcmV2ZW50RGVmYXVsdCcsIG5vb3ApKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdzdG9wUHJvcGFnYXRpb24nLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKCdzdG9wUHJvcGFnYXRpb24nLCBub29wKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgU3ludGhldGljRXZlbnQuSW50ZXJmYWNlID0gRXZlbnRJbnRlcmZhY2U7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGlzUHJveHlTdXBwb3J0ZWQpIHtcbiAgICAgIFN5bnRoZXRpY0V2ZW50ID0gbmV3IFByb3h5KFN5bnRoZXRpY0V2ZW50LCB7XG4gICAgICAgIGNvbnN0cnVjdDogZnVuY3Rpb24odGFyZ2V0LCBhcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHkodGFyZ2V0LCBPYmplY3QuY3JlYXRlKHRhcmdldC5wcm90b3R5cGUpLCBhcmdzKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKGNvbnN0cnVjdG9yLCB0aGF0LCBhcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm94eShjb25zdHJ1Y3Rvci5hcHBseSh0aGF0LCBhcmdzKSwge3NldDogZnVuY3Rpb24odGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAocHJvcCAhPT0gJ2lzUGVyc2lzdGVudCcgJiYgIXRhcmdldC5jb25zdHJ1Y3Rvci5JbnRlcmZhY2UuaGFzT3duUHJvcGVydHkocHJvcCkgJiYgc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMuaW5kZXhPZihwcm9wKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhkaWRXYXJuRm9yQWRkZWROZXdQcm9wZXJ0eSB8fCB0YXJnZXQuaXNQZXJzaXN0ZW50KCksICdUaGlzIHN5bnRoZXRpYyBldmVudCBpcyByZXVzZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuIElmIHlvdVxcJ3JlICcgKyAnc2VlaW5nIHRoaXMsIHlvdVxcJ3JlIGFkZGluZyBhIG5ldyBwcm9wZXJ0eSBpbiB0aGUgc3ludGhldGljIGV2ZW50IG9iamVjdC4gJyArICdUaGUgcHJvcGVydHkgaXMgbmV2ZXIgcmVsZWFzZWQuIFNlZSAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtZXZlbnQtcG9vbGluZyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBkaWRXYXJuRm9yQWRkZWROZXdQcm9wZXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfX0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgU3ludGhldGljRXZlbnQuYXVnbWVudENsYXNzID0gZnVuY3Rpb24oQ2xhc3MsIEludGVyZmFjZSkge1xuICAgIHZhciBTdXBlciA9IHRoaXM7XG4gICAgdmFyIEUgPSBmdW5jdGlvbigpIHt9O1xuICAgIEUucHJvdG90eXBlID0gU3VwZXIucHJvdG90eXBlO1xuICAgIHZhciBwcm90b3R5cGUgPSBuZXcgRSgpO1xuICAgIF9hc3NpZ24ocHJvdG90eXBlLCBDbGFzcy5wcm90b3R5cGUpO1xuICAgIENsYXNzLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgICBDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDbGFzcztcbiAgICBDbGFzcy5JbnRlcmZhY2UgPSBfYXNzaWduKHt9LCBTdXBlci5JbnRlcmZhY2UsIEludGVyZmFjZSk7XG4gICAgQ2xhc3MuYXVnbWVudENsYXNzID0gU3VwZXIuYXVnbWVudENsYXNzO1xuICAgIFBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhDbGFzcywgUG9vbGVkQ2xhc3MuZm91ckFyZ3VtZW50UG9vbGVyKTtcbiAgfTtcbiAgUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKFN5bnRoZXRpY0V2ZW50LCBQb29sZWRDbGFzcy5mb3VyQXJndW1lbnRQb29sZXIpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0V2ZW50O1xuICBmdW5jdGlvbiBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKHByb3BOYW1lLCBnZXRWYWwpIHtcbiAgICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiBnZXRWYWwgPT09ICdmdW5jdGlvbic7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHNldDogc2V0LFxuICAgICAgZ2V0OiBnZXRcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICAgIHZhciBhY3Rpb24gPSBpc0Z1bmN0aW9uID8gJ3NldHRpbmcgdGhlIG1ldGhvZCcgOiAnc2V0dGluZyB0aGUgcHJvcGVydHknO1xuICAgICAgd2FybihhY3Rpb24sICdUaGlzIGlzIGVmZmVjdGl2ZWx5IGEgbm8tb3AnKTtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBhY3Rpb24gPSBpc0Z1bmN0aW9uID8gJ2FjY2Vzc2luZyB0aGUgbWV0aG9kJyA6ICdhY2Nlc3NpbmcgdGhlIHByb3BlcnR5JztcbiAgICAgIHZhciByZXN1bHQgPSBpc0Z1bmN0aW9uID8gJ1RoaXMgaXMgYSBuby1vcCBmdW5jdGlvbicgOiAnVGhpcyBpcyBzZXQgdG8gbnVsbCc7XG4gICAgICB3YXJuKGFjdGlvbiwgcmVzdWx0KTtcbiAgICAgIHJldHVybiBnZXRWYWw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm4oYWN0aW9uLCByZXN1bHQpIHtcbiAgICAgIHZhciB3YXJuaW5nQ29uZGl0aW9uID0gZmFsc2U7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh3YXJuaW5nQ29uZGl0aW9uLCAnVGhpcyBzeW50aGV0aWMgZXZlbnQgaXMgcmV1c2VkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLiBJZiB5b3VcXCdyZSBzZWVpbmcgdGhpcywgJyArICd5b3VcXCdyZSAlcyBgJXNgIG9uIGEgcmVsZWFzZWQvbnVsbGlmaWVkIHN5bnRoZXRpYyBldmVudC4gJXMuICcgKyAnSWYgeW91IG11c3Qga2VlcCB0aGUgb3JpZ2luYWwgc3ludGhldGljIGV2ZW50IGFyb3VuZCwgdXNlIGV2ZW50LnBlcnNpc3QoKS4gJyArICdTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1ldmVudC1wb29saW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGFjdGlvbiwgcHJvcE5hbWUsIHJlc3VsdCkgOiB2b2lkIDA7XG4gICAgfVxuICB9XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldEV2ZW50VGFyZ2V0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEdldHMgdGhlIHRhcmdldCBub2RlIGZyb20gYSBuYXRpdmUgYnJvd3NlciBldmVudCBieSBhY2NvdW50aW5nIGZvclxuICogaW5jb25zaXN0ZW5jaWVzIGluIGJyb3dzZXIgRE9NIEFQSXMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7RE9NRXZlbnRUYXJnZXR9IFRhcmdldCBub2RlLlxuICovXG5cbmZ1bmN0aW9uIGdldEV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50KSB7XG4gIHZhciB0YXJnZXQgPSBuYXRpdmVFdmVudC50YXJnZXQgfHwgbmF0aXZlRXZlbnQuc3JjRWxlbWVudCB8fCB3aW5kb3c7XG5cbiAgLy8gTm9ybWFsaXplIFNWRyA8dXNlPiBlbGVtZW50IGV2ZW50cyAjNDk2M1xuICBpZiAodGFyZ2V0LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KSB7XG4gICAgdGFyZ2V0ID0gdGFyZ2V0LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50O1xuICB9XG5cbiAgLy8gU2FmYXJpIG1heSBmaXJlIGV2ZW50cyBvbiB0ZXh0IG5vZGVzIChOb2RlLlRFWFRfTk9ERSBpcyAzKS5cbiAgLy8gQHNlZSBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2V2ZW50c19wcm9wZXJ0aWVzLmh0bWxcbiAgcmV0dXJuIHRhcmdldC5ub2RlVHlwZSA9PT0gMyA/IHRhcmdldC5wYXJlbnROb2RlIDogdGFyZ2V0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEV2ZW50VGFyZ2V0OyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIFN5bnRoZXRpY0V2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNFdmVudCcpO1xudmFyIGdldEV2ZW50VGFyZ2V0ID0gcmVxdWlyZSgnLi9nZXRFdmVudFRhcmdldCcpO1xudmFyIFVJRXZlbnRJbnRlcmZhY2UgPSB7XG4gIHZpZXc6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnZpZXcpIHtcbiAgICAgIHJldHVybiBldmVudC52aWV3O1xuICAgIH1cbiAgICB2YXIgdGFyZ2V0ID0gZ2V0RXZlbnRUYXJnZXQoZXZlbnQpO1xuICAgIGlmICh0YXJnZXQgIT0gbnVsbCAmJiB0YXJnZXQud2luZG93ID09PSB0YXJnZXQpIHtcbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIHZhciBkb2MgPSB0YXJnZXQub3duZXJEb2N1bWVudDtcbiAgICBpZiAoZG9jKSB7XG4gICAgICByZXR1cm4gZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3c7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuICB9LFxuICBkZXRhaWw6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuIGV2ZW50LmRldGFpbCB8fCAwO1xuICB9XG59O1xuZnVuY3Rpb24gU3ludGhldGljVUlFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICByZXR1cm4gU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG59XG5TeW50aGV0aWNFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljVUlFdmVudCwgVUlFdmVudEludGVyZmFjZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY1VJRXZlbnQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZ2V0RXZlbnRNb2RpZmllclN0YXRlXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFRyYW5zbGF0aW9uIGZyb20gbW9kaWZpZXIga2V5IHRvIHRoZSBhc3NvY2lhdGVkIHByb3BlcnR5IGluIHRoZSBldmVudC5cbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNrZXlzLU1vZGlmaWVyc1xuICovXG5cbnZhciBtb2RpZmllcktleVRvUHJvcCA9IHtcbiAgJ0FsdCc6ICdhbHRLZXknLFxuICAnQ29udHJvbCc6ICdjdHJsS2V5JyxcbiAgJ01ldGEnOiAnbWV0YUtleScsXG4gICdTaGlmdCc6ICdzaGlmdEtleSdcbn07XG5cbi8vIElFOCBkb2VzIG5vdCBpbXBsZW1lbnQgZ2V0TW9kaWZpZXJTdGF0ZSBzbyB3ZSBzaW1wbHkgbWFwIGl0IHRvIHRoZSBvbmx5XG4vLyBtb2RpZmllciBrZXlzIGV4cG9zZWQgYnkgdGhlIGV2ZW50IGl0c2VsZiwgZG9lcyBub3Qgc3VwcG9ydCBMb2NrLWtleXMuXG4vLyBDdXJyZW50bHksIGFsbCBtYWpvciBicm93c2VycyBleGNlcHQgQ2hyb21lIHNlZW1zIHRvIHN1cHBvcnQgTG9jay1rZXlzLlxuZnVuY3Rpb24gbW9kaWZpZXJTdGF0ZUdldHRlcihrZXlBcmcpIHtcbiAgdmFyIHN5bnRoZXRpY0V2ZW50ID0gdGhpcztcbiAgdmFyIG5hdGl2ZUV2ZW50ID0gc3ludGhldGljRXZlbnQubmF0aXZlRXZlbnQ7XG4gIGlmIChuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUV2ZW50LmdldE1vZGlmaWVyU3RhdGUoa2V5QXJnKTtcbiAgfVxuICB2YXIga2V5UHJvcCA9IG1vZGlmaWVyS2V5VG9Qcm9wW2tleUFyZ107XG4gIHJldHVybiBrZXlQcm9wID8gISFuYXRpdmVFdmVudFtrZXlQcm9wXSA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRFdmVudE1vZGlmaWVyU3RhdGUobmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIG1vZGlmaWVyU3RhdGVHZXR0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0RXZlbnRNb2RpZmllclN0YXRlOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIFN5bnRoZXRpY1VJRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY1VJRXZlbnQnKTtcbnZhciBWaWV3cG9ydE1ldHJpY3MgPSByZXF1aXJlKCcuL1ZpZXdwb3J0TWV0cmljcycpO1xudmFyIGdldEV2ZW50TW9kaWZpZXJTdGF0ZSA9IHJlcXVpcmUoJy4vZ2V0RXZlbnRNb2RpZmllclN0YXRlJyk7XG52YXIgTW91c2VFdmVudEludGVyZmFjZSA9IHtcbiAgc2NyZWVuWDogbnVsbCxcbiAgc2NyZWVuWTogbnVsbCxcbiAgY2xpZW50WDogbnVsbCxcbiAgY2xpZW50WTogbnVsbCxcbiAgY3RybEtleTogbnVsbCxcbiAgc2hpZnRLZXk6IG51bGwsXG4gIGFsdEtleTogbnVsbCxcbiAgbWV0YUtleTogbnVsbCxcbiAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlLFxuICBidXR0b246IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcbiAgICBpZiAoJ3doaWNoJyBpbiBldmVudCkge1xuICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9XG4gICAgcmV0dXJuIGJ1dHRvbiA9PT0gMiA/IDIgOiBidXR0b24gPT09IDQgPyAxIDogMDtcbiAgfSxcbiAgYnV0dG9uczogbnVsbCxcbiAgcmVsYXRlZFRhcmdldDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQucmVsYXRlZFRhcmdldCB8fCAoZXZlbnQuZnJvbUVsZW1lbnQgPT09IGV2ZW50LnNyY0VsZW1lbnQgPyBldmVudC50b0VsZW1lbnQgOiBldmVudC5mcm9tRWxlbWVudCk7XG4gIH0sXG4gIHBhZ2VYOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiAncGFnZVgnIGluIGV2ZW50ID8gZXZlbnQucGFnZVggOiBldmVudC5jbGllbnRYICsgVmlld3BvcnRNZXRyaWNzLmN1cnJlbnRTY3JvbGxMZWZ0O1xuICB9LFxuICBwYWdlWTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gJ3BhZ2VZJyBpbiBldmVudCA/IGV2ZW50LnBhZ2VZIDogZXZlbnQuY2xpZW50WSArIFZpZXdwb3J0TWV0cmljcy5jdXJyZW50U2Nyb2xsVG9wO1xuICB9XG59O1xuZnVuY3Rpb24gU3ludGhldGljTW91c2VFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICByZXR1cm4gU3ludGhldGljVUlFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbn1cblN5bnRoZXRpY1VJRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY01vdXNlRXZlbnQsIE1vdXNlRXZlbnRJbnRlcmZhY2UpO1xubW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNNb3VzZUV2ZW50O1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgU3ludGhldGljTW91c2VFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljTW91c2VFdmVudCcpO1xudmFyIFdoZWVsRXZlbnRJbnRlcmZhY2UgPSB7XG4gIGRlbHRhWDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gJ2RlbHRhWCcgaW4gZXZlbnQgPyBldmVudC5kZWx0YVggOiAnd2hlZWxEZWx0YVgnIGluIGV2ZW50ID8gLWV2ZW50LndoZWVsRGVsdGFYIDogMDtcbiAgfSxcbiAgZGVsdGFZOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiAnZGVsdGFZJyBpbiBldmVudCA/IGV2ZW50LmRlbHRhWSA6ICd3aGVlbERlbHRhWScgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YVkgOiAnd2hlZWxEZWx0YScgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YSA6IDA7XG4gIH0sXG4gIGRlbHRhWjogbnVsbCxcbiAgZGVsdGFNb2RlOiBudWxsXG59O1xuZnVuY3Rpb24gU3ludGhldGljV2hlZWxFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICByZXR1cm4gU3ludGhldGljTW91c2VFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbn1cblN5bnRoZXRpY01vdXNlRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY1doZWVsRXZlbnQsIFdoZWVsRXZlbnRJbnRlcmZhY2UpO1xubW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNXaGVlbEV2ZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldEV2ZW50Q2hhckNvZGVcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogYGNoYXJDb2RlYCByZXByZXNlbnRzIHRoZSBhY3R1YWwgXCJjaGFyYWN0ZXIgY29kZVwiIGFuZCBpcyBzYWZlIHRvIHVzZSB3aXRoXG4gKiBgU3RyaW5nLmZyb21DaGFyQ29kZWAuIEFzIHN1Y2gsIG9ubHkga2V5cyB0aGF0IGNvcnJlc3BvbmQgdG8gcHJpbnRhYmxlXG4gKiBjaGFyYWN0ZXJzIHByb2R1Y2UgYSB2YWxpZCBgY2hhckNvZGVgLCB0aGUgb25seSBleGNlcHRpb24gdG8gdGhpcyBpcyBFbnRlci5cbiAqIFRoZSBUYWIta2V5IGlzIGNvbnNpZGVyZWQgbm9uLXByaW50YWJsZSBhbmQgZG9lcyBub3QgaGF2ZSBhIGBjaGFyQ29kZWAsXG4gKiBwcmVzdW1hYmx5IGJlY2F1c2UgaXQgZG9lcyBub3QgcHJvZHVjZSBhIHRhYi1jaGFyYWN0ZXIgaW4gYnJvd3NlcnMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBOb3JtYWxpemVkIGBjaGFyQ29kZWAgcHJvcGVydHkuXG4gKi9cblxuZnVuY3Rpb24gZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkge1xuICB2YXIgY2hhckNvZGU7XG4gIHZhciBrZXlDb2RlID0gbmF0aXZlRXZlbnQua2V5Q29kZTtcblxuICBpZiAoJ2NoYXJDb2RlJyBpbiBuYXRpdmVFdmVudCkge1xuICAgIGNoYXJDb2RlID0gbmF0aXZlRXZlbnQuY2hhckNvZGU7XG5cbiAgICAvLyBGRiBkb2VzIG5vdCBzZXQgYGNoYXJDb2RlYCBmb3IgdGhlIEVudGVyLWtleSwgY2hlY2sgYWdhaW5zdCBga2V5Q29kZWAuXG4gICAgaWYgKGNoYXJDb2RlID09PSAwICYmIGtleUNvZGUgPT09IDEzKSB7XG4gICAgICBjaGFyQ29kZSA9IDEzO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJRTggZG9lcyBub3QgaW1wbGVtZW50IGBjaGFyQ29kZWAsIGJ1dCBga2V5Q29kZWAgaGFzIHRoZSBjb3JyZWN0IHZhbHVlLlxuICAgIGNoYXJDb2RlID0ga2V5Q29kZTtcbiAgfVxuXG4gIC8vIFNvbWUgbm9uLXByaW50YWJsZSBrZXlzIGFyZSByZXBvcnRlZCBpbiBgY2hhckNvZGVgL2BrZXlDb2RlYCwgZGlzY2FyZCB0aGVtLlxuICAvLyBNdXN0IG5vdCBkaXNjYXJkIHRoZSAobm9uLSlwcmludGFibGUgRW50ZXIta2V5LlxuICBpZiAoY2hhckNvZGUgPj0gMzIgfHwgY2hhckNvZGUgPT09IDEzKSB7XG4gICAgcmV0dXJuIGNoYXJDb2RlO1xuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0RXZlbnRDaGFyQ29kZTsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xuICB2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ2ZianMvbGliL0V2ZW50TGlzdGVuZXInKTtcbiAgdmFyIEV2ZW50UHJvcGFnYXRvcnMgPSByZXF1aXJlKCcuL0V2ZW50UHJvcGFnYXRvcnMnKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRUcmVlJyk7XG4gIHZhciBTeW50aGV0aWNBbmltYXRpb25FdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljQW5pbWF0aW9uRXZlbnQnKTtcbiAgdmFyIFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNDbGlwYm9hcmRFdmVudCcpO1xuICB2YXIgU3ludGhldGljRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY0V2ZW50Jyk7XG4gIHZhciBTeW50aGV0aWNGb2N1c0V2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNGb2N1c0V2ZW50Jyk7XG4gIHZhciBTeW50aGV0aWNLZXlib2FyZEV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNLZXlib2FyZEV2ZW50Jyk7XG4gIHZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNNb3VzZUV2ZW50Jyk7XG4gIHZhciBTeW50aGV0aWNEcmFnRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY0RyYWdFdmVudCcpO1xuICB2YXIgU3ludGhldGljVG91Y2hFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljVG91Y2hFdmVudCcpO1xuICB2YXIgU3ludGhldGljVHJhbnNpdGlvbkV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQnKTtcbiAgdmFyIFN5bnRoZXRpY1VJRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY1VJRXZlbnQnKTtcbiAgdmFyIFN5bnRoZXRpY1doZWVsRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY1doZWVsRXZlbnQnKTtcbiAgdmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG4gIHZhciBnZXRFdmVudENoYXJDb2RlID0gcmVxdWlyZSgnLi9nZXRFdmVudENoYXJDb2RlJyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgdmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcbiAgdmFyIHRvcExldmVsVHlwZXMgPSBFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzO1xuICB2YXIgZXZlbnRUeXBlcyA9IHtcbiAgICBhYm9ydDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkFib3J0OiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25BYm9ydENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgYW5pbWF0aW9uRW5kOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQW5pbWF0aW9uRW5kOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25BbmltYXRpb25FbmRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGFuaW1hdGlvbkl0ZXJhdGlvbjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkFuaW1hdGlvbkl0ZXJhdGlvbjogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQW5pbWF0aW9uSXRlcmF0aW9uQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBhbmltYXRpb25TdGFydDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkFuaW1hdGlvblN0YXJ0OiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25BbmltYXRpb25TdGFydENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgYmx1cjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkJsdXI6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkJsdXJDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGNhblBsYXk6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25DYW5QbGF5OiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25DYW5QbGF5Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBjYW5QbGF5VGhyb3VnaDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNhblBsYXlUaHJvdWdoOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25DYW5QbGF5VGhyb3VnaENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgY2xpY2s6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25DbGljazogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQ2xpY2tDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGNvbnRleHRNZW51OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ29udGV4dE1lbnU6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkNvbnRleHRNZW51Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBjb3B5OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ29weTogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQ29weUNhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgY3V0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ3V0OiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25DdXRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGRvdWJsZUNsaWNrOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRG91YmxlQ2xpY2s6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRvdWJsZUNsaWNrQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBkcmFnOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJhZzogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRHJhZ0NhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgZHJhZ0VuZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyYWdFbmQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyYWdFbmRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGRyYWdFbnRlcjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyYWdFbnRlcjogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRHJhZ0VudGVyQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBkcmFnRXhpdDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyYWdFeGl0OiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25EcmFnRXhpdENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgZHJhZ0xlYXZlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJhZ0xlYXZlOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25EcmFnTGVhdmVDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGRyYWdPdmVyOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJhZ092ZXI6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyYWdPdmVyQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBkcmFnU3RhcnQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25EcmFnU3RhcnQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyYWdTdGFydENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgZHJvcDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyb3A6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyb3BDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGR1cmF0aW9uQ2hhbmdlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHVyYXRpb25DaGFuZ2U6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkR1cmF0aW9uQ2hhbmdlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBlbXB0aWVkOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRW1wdGllZDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRW1wdGllZENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgZW5jcnlwdGVkOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRW5jcnlwdGVkOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25FbmNyeXB0ZWRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGVuZGVkOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uRW5kZWQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkVuZGVkQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBlcnJvcjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkVycm9yOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25FcnJvckNhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgZm9jdXM6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25Gb2N1czogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRm9jdXNDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGlucHV0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uSW5wdXQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbklucHV0Q2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBpbnZhbGlkOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uSW52YWxpZDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uSW52YWxpZENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAga2V5RG93bjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbktleURvd246IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbktleURvd25DYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGtleVByZXNzOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uS2V5UHJlc3M6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbktleVByZXNzQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBrZXlVcDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbktleVVwOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25LZXlVcENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgbG9hZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkxvYWQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkxvYWRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIGxvYWRlZERhdGE6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25Mb2FkZWREYXRhOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Mb2FkZWREYXRhQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBsb2FkZWRNZXRhZGF0YToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkxvYWRlZE1ldGFkYXRhOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Mb2FkZWRNZXRhZGF0YUNhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgbG9hZFN0YXJ0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uTG9hZFN0YXJ0OiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Mb2FkU3RhcnRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIG1vdXNlRG93bjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbk1vdXNlRG93bjogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTW91c2VEb3duQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBtb3VzZU1vdmU6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25Nb3VzZU1vdmU6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbk1vdXNlTW92ZUNhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgbW91c2VPdXQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25Nb3VzZU91dDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTW91c2VPdXRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIG1vdXNlT3Zlcjoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbk1vdXNlT3ZlcjogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTW91c2VPdmVyQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBtb3VzZVVwOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uTW91c2VVcDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTW91c2VVcENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgcGFzdGU6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25QYXN0ZTogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uUGFzdGVDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIHBhdXNlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uUGF1c2U6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblBhdXNlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBwbGF5OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uUGxheTogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uUGxheUNhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgcGxheWluZzoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblBsYXlpbmc6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblBsYXlpbmdDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIHByb2dyZXNzOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uUHJvZ3Jlc3M6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblByb2dyZXNzQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICByYXRlQ2hhbmdlOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uUmF0ZUNoYW5nZTogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uUmF0ZUNoYW5nZUNhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgcmVzZXQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25SZXNldDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uUmVzZXRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIHNjcm9sbDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblNjcm9sbDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uU2Nyb2xsQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBzZWVrZWQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25TZWVrZWQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblNlZWtlZENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgc2Vla2luZzoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblNlZWtpbmc6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblNlZWtpbmdDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIHN0YWxsZWQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25TdGFsbGVkOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25TdGFsbGVkQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICBzdWJtaXQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25TdWJtaXQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblN1Ym1pdENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgc3VzcGVuZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblN1c3BlbmQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblN1c3BlbmRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIHRpbWVVcGRhdGU6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25UaW1lVXBkYXRlOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25UaW1lVXBkYXRlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICB0b3VjaENhbmNlbDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblRvdWNoQ2FuY2VsOiB0cnVlfSksXG4gICAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Ub3VjaENhbmNlbENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgdG91Y2hFbmQ6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25Ub3VjaEVuZDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVG91Y2hFbmRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIHRvdWNoTW92ZToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblRvdWNoTW92ZTogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVG91Y2hNb3ZlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICB0b3VjaFN0YXJ0OiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uVG91Y2hTdGFydDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVG91Y2hTdGFydENhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgdHJhbnNpdGlvbkVuZDoge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblRyYW5zaXRpb25FbmQ6IHRydWV9KSxcbiAgICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblRyYW5zaXRpb25FbmRDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19LFxuICAgIHZvbHVtZUNoYW5nZToge3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblZvbHVtZUNoYW5nZTogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVm9sdW1lQ2hhbmdlQ2FwdHVyZTogdHJ1ZX0pXG4gICAgICB9fSxcbiAgICB3YWl0aW5nOiB7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgICAgYnViYmxlZDoga2V5T2Yoe29uV2FpdGluZzogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uV2FpdGluZ0NhcHR1cmU6IHRydWV9KVxuICAgICAgfX0sXG4gICAgd2hlZWw6IHtwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgICBidWJibGVkOiBrZXlPZih7b25XaGVlbDogdHJ1ZX0pLFxuICAgICAgICBjYXB0dXJlZDoga2V5T2Yoe29uV2hlZWxDYXB0dXJlOiB0cnVlfSlcbiAgICAgIH19XG4gIH07XG4gIHZhciB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWcgPSB7XG4gICAgdG9wQWJvcnQ6IGV2ZW50VHlwZXMuYWJvcnQsXG4gICAgdG9wQW5pbWF0aW9uRW5kOiBldmVudFR5cGVzLmFuaW1hdGlvbkVuZCxcbiAgICB0b3BBbmltYXRpb25JdGVyYXRpb246IGV2ZW50VHlwZXMuYW5pbWF0aW9uSXRlcmF0aW9uLFxuICAgIHRvcEFuaW1hdGlvblN0YXJ0OiBldmVudFR5cGVzLmFuaW1hdGlvblN0YXJ0LFxuICAgIHRvcEJsdXI6IGV2ZW50VHlwZXMuYmx1cixcbiAgICB0b3BDYW5QbGF5OiBldmVudFR5cGVzLmNhblBsYXksXG4gICAgdG9wQ2FuUGxheVRocm91Z2g6IGV2ZW50VHlwZXMuY2FuUGxheVRocm91Z2gsXG4gICAgdG9wQ2xpY2s6IGV2ZW50VHlwZXMuY2xpY2ssXG4gICAgdG9wQ29udGV4dE1lbnU6IGV2ZW50VHlwZXMuY29udGV4dE1lbnUsXG4gICAgdG9wQ29weTogZXZlbnRUeXBlcy5jb3B5LFxuICAgIHRvcEN1dDogZXZlbnRUeXBlcy5jdXQsXG4gICAgdG9wRG91YmxlQ2xpY2s6IGV2ZW50VHlwZXMuZG91YmxlQ2xpY2ssXG4gICAgdG9wRHJhZzogZXZlbnRUeXBlcy5kcmFnLFxuICAgIHRvcERyYWdFbmQ6IGV2ZW50VHlwZXMuZHJhZ0VuZCxcbiAgICB0b3BEcmFnRW50ZXI6IGV2ZW50VHlwZXMuZHJhZ0VudGVyLFxuICAgIHRvcERyYWdFeGl0OiBldmVudFR5cGVzLmRyYWdFeGl0LFxuICAgIHRvcERyYWdMZWF2ZTogZXZlbnRUeXBlcy5kcmFnTGVhdmUsXG4gICAgdG9wRHJhZ092ZXI6IGV2ZW50VHlwZXMuZHJhZ092ZXIsXG4gICAgdG9wRHJhZ1N0YXJ0OiBldmVudFR5cGVzLmRyYWdTdGFydCxcbiAgICB0b3BEcm9wOiBldmVudFR5cGVzLmRyb3AsXG4gICAgdG9wRHVyYXRpb25DaGFuZ2U6IGV2ZW50VHlwZXMuZHVyYXRpb25DaGFuZ2UsXG4gICAgdG9wRW1wdGllZDogZXZlbnRUeXBlcy5lbXB0aWVkLFxuICAgIHRvcEVuY3J5cHRlZDogZXZlbnRUeXBlcy5lbmNyeXB0ZWQsXG4gICAgdG9wRW5kZWQ6IGV2ZW50VHlwZXMuZW5kZWQsXG4gICAgdG9wRXJyb3I6IGV2ZW50VHlwZXMuZXJyb3IsXG4gICAgdG9wRm9jdXM6IGV2ZW50VHlwZXMuZm9jdXMsXG4gICAgdG9wSW5wdXQ6IGV2ZW50VHlwZXMuaW5wdXQsXG4gICAgdG9wSW52YWxpZDogZXZlbnRUeXBlcy5pbnZhbGlkLFxuICAgIHRvcEtleURvd246IGV2ZW50VHlwZXMua2V5RG93bixcbiAgICB0b3BLZXlQcmVzczogZXZlbnRUeXBlcy5rZXlQcmVzcyxcbiAgICB0b3BLZXlVcDogZXZlbnRUeXBlcy5rZXlVcCxcbiAgICB0b3BMb2FkOiBldmVudFR5cGVzLmxvYWQsXG4gICAgdG9wTG9hZGVkRGF0YTogZXZlbnRUeXBlcy5sb2FkZWREYXRhLFxuICAgIHRvcExvYWRlZE1ldGFkYXRhOiBldmVudFR5cGVzLmxvYWRlZE1ldGFkYXRhLFxuICAgIHRvcExvYWRTdGFydDogZXZlbnRUeXBlcy5sb2FkU3RhcnQsXG4gICAgdG9wTW91c2VEb3duOiBldmVudFR5cGVzLm1vdXNlRG93bixcbiAgICB0b3BNb3VzZU1vdmU6IGV2ZW50VHlwZXMubW91c2VNb3ZlLFxuICAgIHRvcE1vdXNlT3V0OiBldmVudFR5cGVzLm1vdXNlT3V0LFxuICAgIHRvcE1vdXNlT3ZlcjogZXZlbnRUeXBlcy5tb3VzZU92ZXIsXG4gICAgdG9wTW91c2VVcDogZXZlbnRUeXBlcy5tb3VzZVVwLFxuICAgIHRvcFBhc3RlOiBldmVudFR5cGVzLnBhc3RlLFxuICAgIHRvcFBhdXNlOiBldmVudFR5cGVzLnBhdXNlLFxuICAgIHRvcFBsYXk6IGV2ZW50VHlwZXMucGxheSxcbiAgICB0b3BQbGF5aW5nOiBldmVudFR5cGVzLnBsYXlpbmcsXG4gICAgdG9wUHJvZ3Jlc3M6IGV2ZW50VHlwZXMucHJvZ3Jlc3MsXG4gICAgdG9wUmF0ZUNoYW5nZTogZXZlbnRUeXBlcy5yYXRlQ2hhbmdlLFxuICAgIHRvcFJlc2V0OiBldmVudFR5cGVzLnJlc2V0LFxuICAgIHRvcFNjcm9sbDogZXZlbnRUeXBlcy5zY3JvbGwsXG4gICAgdG9wU2Vla2VkOiBldmVudFR5cGVzLnNlZWtlZCxcbiAgICB0b3BTZWVraW5nOiBldmVudFR5cGVzLnNlZWtpbmcsXG4gICAgdG9wU3RhbGxlZDogZXZlbnRUeXBlcy5zdGFsbGVkLFxuICAgIHRvcFN1Ym1pdDogZXZlbnRUeXBlcy5zdWJtaXQsXG4gICAgdG9wU3VzcGVuZDogZXZlbnRUeXBlcy5zdXNwZW5kLFxuICAgIHRvcFRpbWVVcGRhdGU6IGV2ZW50VHlwZXMudGltZVVwZGF0ZSxcbiAgICB0b3BUb3VjaENhbmNlbDogZXZlbnRUeXBlcy50b3VjaENhbmNlbCxcbiAgICB0b3BUb3VjaEVuZDogZXZlbnRUeXBlcy50b3VjaEVuZCxcbiAgICB0b3BUb3VjaE1vdmU6IGV2ZW50VHlwZXMudG91Y2hNb3ZlLFxuICAgIHRvcFRvdWNoU3RhcnQ6IGV2ZW50VHlwZXMudG91Y2hTdGFydCxcbiAgICB0b3BUcmFuc2l0aW9uRW5kOiBldmVudFR5cGVzLnRyYW5zaXRpb25FbmQsXG4gICAgdG9wVm9sdW1lQ2hhbmdlOiBldmVudFR5cGVzLnZvbHVtZUNoYW5nZSxcbiAgICB0b3BXYWl0aW5nOiBldmVudFR5cGVzLndhaXRpbmcsXG4gICAgdG9wV2hlZWw6IGV2ZW50VHlwZXMud2hlZWxcbiAgfTtcbiAgZm9yICh2YXIgdHlwZSBpbiB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWcpIHtcbiAgICB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWdbdHlwZV0uZGVwZW5kZW5jaWVzID0gW3R5cGVdO1xuICB9XG4gIHZhciBPTl9DTElDS19LRVkgPSBrZXlPZih7b25DbGljazogbnVsbH0pO1xuICB2YXIgb25DbGlja0xpc3RlbmVycyA9IHt9O1xuICB2YXIgU2ltcGxlRXZlbnRQbHVnaW4gPSB7XG4gICAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyxcbiAgICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgICAgdmFyIGRpc3BhdGNoQ29uZmlnID0gdG9wTGV2ZWxFdmVudHNUb0Rpc3BhdGNoQ29uZmlnW3RvcExldmVsVHlwZV07XG4gICAgICBpZiAoIWRpc3BhdGNoQ29uZmlnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdmFyIEV2ZW50Q29uc3RydWN0b3I7XG4gICAgICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQWJvcnQ6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDYW5QbGF5OlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ2FuUGxheVRocm91Z2g6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEdXJhdGlvbkNoYW5nZTpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEVtcHRpZWQ6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BFbmNyeXB0ZWQ6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BFbmRlZDpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEVycm9yOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wSW5wdXQ6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BJbnZhbGlkOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTG9hZDpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcExvYWRlZERhdGE6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BMb2FkZWRNZXRhZGF0YTpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcExvYWRTdGFydDpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFBhdXNlOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wUGxheTpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFBsYXlpbmc6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BQcm9ncmVzczpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFJhdGVDaGFuZ2U6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BSZXNldDpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFNlZWtlZDpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFNlZWtpbmc6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BTdGFsbGVkOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU3VibWl0OlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU3VzcGVuZDpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRpbWVVcGRhdGU6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BWb2x1bWVDaGFuZ2U6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BXYWl0aW5nOlxuICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNFdmVudDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzOlxuICAgICAgICAgIGlmIChnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wS2V5RG93bjpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVVwOlxuICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNLZXlib2FyZEV2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQmx1cjpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEZvY3VzOlxuICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNGb2N1c0V2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ2xpY2s6XG4gICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmJ1dHRvbiA9PT0gMikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ29udGV4dE1lbnU6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEb3VibGVDbGljazpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93bjpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlTW92ZTpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3V0OlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VPdmVyOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VVcDpcbiAgICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljTW91c2VFdmVudDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWc6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnRW5kOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRHJhZ0VudGVyOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRHJhZ0V4aXQ6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnTGVhdmU6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnT3ZlcjpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWdTdGFydDpcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyb3A6XG4gICAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0RyYWdFdmVudDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoQ2FuY2VsOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wVG91Y2hFbmQ6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BUb3VjaE1vdmU6XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BUb3VjaFN0YXJ0OlxuICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNUb3VjaEV2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQW5pbWF0aW9uRW5kOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQW5pbWF0aW9uSXRlcmF0aW9uOlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQW5pbWF0aW9uU3RhcnQ6XG4gICAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wVHJhbnNpdGlvbkVuZDpcbiAgICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljVHJhbnNpdGlvbkV2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU2Nyb2xsOlxuICAgICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNVSUV2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wV2hlZWw6XG4gICAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY1doZWVsRXZlbnQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDb3B5OlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ3V0OlxuICAgICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wUGFzdGU6XG4gICAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgIUV2ZW50Q29uc3RydWN0b3IgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnU2ltcGxlRXZlbnRQbHVnaW46IFVuaGFuZGxlZCBldmVudCB0eXBlLCBgJXNgLicsIHRvcExldmVsVHlwZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIGV2ZW50ID0gRXZlbnRDb25zdHJ1Y3Rvci5nZXRQb29sZWQoZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH0sXG4gICAgZGlkUHV0TGlzdGVuZXI6IGZ1bmN0aW9uKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZSA9PT0gT05fQ0xJQ0tfS0VZKSB7XG4gICAgICAgIHZhciBpZCA9IGluc3QuX3Jvb3ROb2RlSUQ7XG4gICAgICAgIHZhciBub2RlID0gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCk7XG4gICAgICAgIGlmICghb25DbGlja0xpc3RlbmVyc1tpZF0pIHtcbiAgICAgICAgICBvbkNsaWNrTGlzdGVuZXJzW2lkXSA9IEV2ZW50TGlzdGVuZXIubGlzdGVuKG5vZGUsICdjbGljaycsIGVtcHR5RnVuY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB3aWxsRGVsZXRlTGlzdGVuZXI6IGZ1bmN0aW9uKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lID09PSBPTl9DTElDS19LRVkpIHtcbiAgICAgICAgdmFyIGlkID0gaW5zdC5fcm9vdE5vZGVJRDtcbiAgICAgICAgb25DbGlja0xpc3RlbmVyc1tpZF0ucmVtb3ZlKCk7XG4gICAgICAgIGRlbGV0ZSBvbkNsaWNrTGlzdGVuZXJzW2lkXTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gU2ltcGxlRXZlbnRQbHVnaW47XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgQmVmb3JlSW5wdXRFdmVudFBsdWdpbiA9IHJlcXVpcmUoJy4vQmVmb3JlSW5wdXRFdmVudFBsdWdpbicpO1xudmFyIENoYW5nZUV2ZW50UGx1Z2luID0gcmVxdWlyZSgnLi9DaGFuZ2VFdmVudFBsdWdpbicpO1xudmFyIERlZmF1bHRFdmVudFBsdWdpbk9yZGVyID0gcmVxdWlyZSgnLi9EZWZhdWx0RXZlbnRQbHVnaW5PcmRlcicpO1xudmFyIEVudGVyTGVhdmVFdmVudFBsdWdpbiA9IHJlcXVpcmUoJy4vRW50ZXJMZWF2ZUV2ZW50UGx1Z2luJyk7XG52YXIgSFRNTERPTVByb3BlcnR5Q29uZmlnID0gcmVxdWlyZSgnLi9IVE1MRE9NUHJvcGVydHlDb25maWcnKTtcbnZhciBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCA9IHJlcXVpcmUoJy4vUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQnKTtcbnZhciBSZWFjdERPTUNvbXBvbmVudCA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnQnKTtcbnZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50VHJlZScpO1xudmFyIFJlYWN0RE9NRW1wdHlDb21wb25lbnQgPSByZXF1aXJlKCcuL1JlYWN0RE9NRW1wdHlDb21wb25lbnQnKTtcbnZhciBSZWFjdERPTVRyZWVUcmF2ZXJzYWwgPSByZXF1aXJlKCcuL1JlYWN0RE9NVHJlZVRyYXZlcnNhbCcpO1xudmFyIFJlYWN0RE9NVGV4dENvbXBvbmVudCA9IHJlcXVpcmUoJy4vUmVhY3RET01UZXh0Q29tcG9uZW50Jyk7XG52YXIgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneSA9IHJlcXVpcmUoJy4vUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneScpO1xudmFyIFJlYWN0RXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJy4vUmVhY3RFdmVudExpc3RlbmVyJyk7XG52YXIgUmVhY3RJbmplY3Rpb24gPSByZXF1aXJlKCcuL1JlYWN0SW5qZWN0aW9uJyk7XG52YXIgUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbicpO1xudmFyIFNWR0RPTVByb3BlcnR5Q29uZmlnID0gcmVxdWlyZSgnLi9TVkdET01Qcm9wZXJ0eUNvbmZpZycpO1xudmFyIFNlbGVjdEV2ZW50UGx1Z2luID0gcmVxdWlyZSgnLi9TZWxlY3RFdmVudFBsdWdpbicpO1xudmFyIFNpbXBsZUV2ZW50UGx1Z2luID0gcmVxdWlyZSgnLi9TaW1wbGVFdmVudFBsdWdpbicpO1xudmFyIGFscmVhZHlJbmplY3RlZCA9IGZhbHNlO1xuZnVuY3Rpb24gaW5qZWN0KCkge1xuICBpZiAoYWxyZWFkeUluamVjdGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFscmVhZHlJbmplY3RlZCA9IHRydWU7XG4gIFJlYWN0SW5qZWN0aW9uLkV2ZW50RW1pdHRlci5pbmplY3RSZWFjdEV2ZW50TGlzdGVuZXIoUmVhY3RFdmVudExpc3RlbmVyKTtcbiAgUmVhY3RJbmplY3Rpb24uRXZlbnRQbHVnaW5IdWIuaW5qZWN0RXZlbnRQbHVnaW5PcmRlcihEZWZhdWx0RXZlbnRQbHVnaW5PcmRlcik7XG4gIFJlYWN0SW5qZWN0aW9uLkV2ZW50UGx1Z2luVXRpbHMuaW5qZWN0Q29tcG9uZW50VHJlZShSZWFjdERPTUNvbXBvbmVudFRyZWUpO1xuICBSZWFjdEluamVjdGlvbi5FdmVudFBsdWdpblV0aWxzLmluamVjdFRyZWVUcmF2ZXJzYWwoUmVhY3RET01UcmVlVHJhdmVyc2FsKTtcbiAgUmVhY3RJbmplY3Rpb24uRXZlbnRQbHVnaW5IdWIuaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lKHtcbiAgICBTaW1wbGVFdmVudFBsdWdpbjogU2ltcGxlRXZlbnRQbHVnaW4sXG4gICAgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luOiBFbnRlckxlYXZlRXZlbnRQbHVnaW4sXG4gICAgQ2hhbmdlRXZlbnRQbHVnaW46IENoYW5nZUV2ZW50UGx1Z2luLFxuICAgIFNlbGVjdEV2ZW50UGx1Z2luOiBTZWxlY3RFdmVudFBsdWdpbixcbiAgICBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luOiBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luXG4gIH0pO1xuICBSZWFjdEluamVjdGlvbi5OYXRpdmVDb21wb25lbnQuaW5qZWN0R2VuZXJpY0NvbXBvbmVudENsYXNzKFJlYWN0RE9NQ29tcG9uZW50KTtcbiAgUmVhY3RJbmplY3Rpb24uTmF0aXZlQ29tcG9uZW50LmluamVjdFRleHRDb21wb25lbnRDbGFzcyhSZWFjdERPTVRleHRDb21wb25lbnQpO1xuICBSZWFjdEluamVjdGlvbi5ET01Qcm9wZXJ0eS5pbmplY3RET01Qcm9wZXJ0eUNvbmZpZyhIVE1MRE9NUHJvcGVydHlDb25maWcpO1xuICBSZWFjdEluamVjdGlvbi5ET01Qcm9wZXJ0eS5pbmplY3RET01Qcm9wZXJ0eUNvbmZpZyhTVkdET01Qcm9wZXJ0eUNvbmZpZyk7XG4gIFJlYWN0SW5qZWN0aW9uLkVtcHR5Q29tcG9uZW50LmluamVjdEVtcHR5Q29tcG9uZW50RmFjdG9yeShmdW5jdGlvbihpbnN0YW50aWF0ZSkge1xuICAgIHJldHVybiBuZXcgUmVhY3RET01FbXB0eUNvbXBvbmVudChpbnN0YW50aWF0ZSk7XG4gIH0pO1xuICBSZWFjdEluamVjdGlvbi5VcGRhdGVzLmluamVjdFJlY29uY2lsZVRyYW5zYWN0aW9uKFJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24pO1xuICBSZWFjdEluamVjdGlvbi5VcGRhdGVzLmluamVjdEJhdGNoaW5nU3RyYXRlZ3koUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneSk7XG4gIFJlYWN0SW5qZWN0aW9uLkNvbXBvbmVudC5pbmplY3RFbnZpcm9ubWVudChSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IHtpbmplY3Q6IGluamVjdH07XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gcmVxdWlyZSgnLi9SZWFjdEN1cnJlbnRPd25lcicpO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gcmVxdWlyZSgnLi9SZWFjdERPTUNvbXBvbmVudFRyZWUnKTtcbiAgdmFyIFJlYWN0SW5zdGFuY2VNYXAgPSByZXF1aXJlKCcuL1JlYWN0SW5zdGFuY2VNYXAnKTtcbiAgdmFyIGdldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUgPSByZXF1aXJlKCcuL2dldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgZnVuY3Rpb24gZmluZERPTU5vZGUoY29tcG9uZW50T3JFbGVtZW50KSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBvd25lciA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQ7XG4gICAgICBpZiAob3duZXIgIT09IG51bGwpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcob3duZXIuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyLCAnJXMgaXMgYWNjZXNzaW5nIGZpbmRET01Ob2RlIGluc2lkZSBpdHMgcmVuZGVyKCkuICcgKyAncmVuZGVyKCkgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuIEl0IHNob3VsZCAnICsgJ25ldmVyIGFjY2VzcyBzb21ldGhpbmcgdGhhdCByZXF1aXJlcyBzdGFsZSBkYXRhIGZyb20gdGhlIHByZXZpb3VzICcgKyAncmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgJyArICdjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4nLCBvd25lci5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgIG93bmVyLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb21wb25lbnRPckVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChjb21wb25lbnRPckVsZW1lbnQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIHJldHVybiBjb21wb25lbnRPckVsZW1lbnQ7XG4gICAgfVxuICAgIHZhciBpbnN0ID0gUmVhY3RJbnN0YW5jZU1hcC5nZXQoY29tcG9uZW50T3JFbGVtZW50KTtcbiAgICBpZiAoaW5zdCkge1xuICAgICAgaW5zdCA9IGdldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUoaW5zdCk7XG4gICAgICByZXR1cm4gaW5zdCA/IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXROb2RlRnJvbUluc3RhbmNlKGluc3QpIDogbnVsbDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21wb25lbnRPckVsZW1lbnQucmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAhZmFsc2UgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZmluZERPTU5vZGUgd2FzIGNhbGxlZCBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9IGVsc2Uge1xuICAgICAgIWZhbHNlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0VsZW1lbnQgYXBwZWFycyB0byBiZSBuZWl0aGVyIFJlYWN0Q29tcG9uZW50IG5vciBET01Ob2RlIChrZXlzOiAlcyknLCBPYmplY3Qua2V5cyhjb21wb25lbnRPckVsZW1lbnQpKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZmluZERPTU5vZGU7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgUmVhY3ROb2RlVHlwZXMgPSByZXF1aXJlKCcuL1JlYWN0Tm9kZVR5cGVzJyk7XG5mdW5jdGlvbiBnZXROYXRpdmVDb21wb25lbnRGcm9tQ29tcG9zaXRlKGluc3QpIHtcbiAgdmFyIHR5cGU7XG4gIHdoaWxlICgodHlwZSA9IGluc3QuX3JlbmRlcmVkTm9kZVR5cGUpID09PSBSZWFjdE5vZGVUeXBlcy5DT01QT1NJVEUpIHtcbiAgICBpbnN0ID0gaW5zdC5fcmVuZGVyZWRDb21wb25lbnQ7XG4gIH1cbiAgaWYgKHR5cGUgPT09IFJlYWN0Tm9kZVR5cGVzLk5BVElWRSkge1xuICAgIHJldHVybiBpbnN0Ll9yZW5kZXJlZENvbXBvbmVudDtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBSZWFjdE5vZGVUeXBlcy5FTVBUWSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IGdldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGU7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgRE9NTmFtZXNwYWNlc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIERPTU5hbWVzcGFjZXMgPSB7XG4gIGh0bWw6ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJyxcbiAgbWF0aG1sOiAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCcsXG4gIHN2ZzogJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJ1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBET01OYW1lc3BhY2VzOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXJcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFU0NBUEVfTE9PS1VQID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc+JzogJyZndDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJ1wiJzogJyZxdW90OycsXG4gICdcXCcnOiAnJiN4Mjc7J1xufTtcblxudmFyIEVTQ0FQRV9SRUdFWCA9IC9bJj48XCInXS9nO1xuXG5mdW5jdGlvbiBlc2NhcGVyKG1hdGNoKSB7XG4gIHJldHVybiBFU0NBUEVfTE9PS1VQW21hdGNoXTtcbn1cblxuLyoqXG4gKiBFc2NhcGVzIHRleHQgdG8gcHJldmVudCBzY3JpcHRpbmcgYXR0YWNrcy5cbiAqXG4gKiBAcGFyYW0geyp9IHRleHQgVGV4dCB2YWx1ZSB0byBlc2NhcGUuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEFuIGVzY2FwZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIodGV4dCkge1xuICByZXR1cm4gKCcnICsgdGV4dCkucmVwbGFjZShFU0NBUEVfUkVHRVgsIGVzY2FwZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlcjsiLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG52YXIgZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyID0gcmVxdWlyZSgnLi9lc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXInKTtcbnZhciBzZXRJbm5lckhUTUwgPSByZXF1aXJlKCcuL3NldElubmVySFRNTCcpO1xudmFyIHNldFRleHRDb250ZW50ID0gZnVuY3Rpb24obm9kZSwgdGV4dCkge1xuICBub2RlLnRleHRDb250ZW50ID0gdGV4dDtcbn07XG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIGlmICghKCd0ZXh0Q29udGVudCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSkge1xuICAgIHNldFRleHRDb250ZW50ID0gZnVuY3Rpb24obm9kZSwgdGV4dCkge1xuICAgICAgc2V0SW5uZXJIVE1MKG5vZGUsIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3Nlcih0ZXh0KSk7XG4gICAgfTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRUZXh0Q29udGVudDtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIERPTU5hbWVzcGFjZXMgPSByZXF1aXJlKCcuL0RPTU5hbWVzcGFjZXMnKTtcbnZhciBjcmVhdGVNaWNyb3NvZnRVbnNhZmVMb2NhbEZ1bmN0aW9uID0gcmVxdWlyZSgnLi9jcmVhdGVNaWNyb3NvZnRVbnNhZmVMb2NhbEZ1bmN0aW9uJyk7XG52YXIgc2V0VGV4dENvbnRlbnQgPSByZXF1aXJlKCcuL3NldFRleHRDb250ZW50Jyk7XG52YXIgRUxFTUVOVF9OT0RFX1RZUEUgPSAxO1xudmFyIERPQ1VNRU5UX0ZSQUdNRU5UX05PREVfVFlQRSA9IDExO1xudmFyIGVuYWJsZUxhenkgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudC5kb2N1bWVudE1vZGUgPT09ICdudW1iZXInIHx8IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSAnc3RyaW5nJyAmJiAvXFxiRWRnZVxcL1xcZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbmZ1bmN0aW9uIGluc2VydFRyZWVDaGlsZHJlbih0cmVlKSB7XG4gIGlmICghZW5hYmxlTGF6eSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbm9kZSA9IHRyZWUubm9kZTtcbiAgdmFyIGNoaWxkcmVuID0gdHJlZS5jaGlsZHJlbjtcbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGluc2VydFRyZWVCZWZvcmUobm9kZSwgY2hpbGRyZW5baV0sIG51bGwpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0cmVlLmh0bWwgIT0gbnVsbCkge1xuICAgIG5vZGUuaW5uZXJIVE1MID0gdHJlZS5odG1sO1xuICB9IGVsc2UgaWYgKHRyZWUudGV4dCAhPSBudWxsKSB7XG4gICAgc2V0VGV4dENvbnRlbnQobm9kZSwgdHJlZS50ZXh0KTtcbiAgfVxufVxudmFyIGluc2VydFRyZWVCZWZvcmUgPSBjcmVhdGVNaWNyb3NvZnRVbnNhZmVMb2NhbEZ1bmN0aW9uKGZ1bmN0aW9uKHBhcmVudE5vZGUsIHRyZWUsIHJlZmVyZW5jZU5vZGUpIHtcbiAgaWYgKHRyZWUubm9kZS5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERV9UWVBFIHx8IHRyZWUubm9kZS5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFX1RZUEUgJiYgdHJlZS5ub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdvYmplY3QnICYmICh0cmVlLm5vZGUubmFtZXNwYWNlVVJJID09IG51bGwgfHwgdHJlZS5ub2RlLm5hbWVzcGFjZVVSSSA9PT0gRE9NTmFtZXNwYWNlcy5odG1sKSkge1xuICAgIGluc2VydFRyZWVDaGlsZHJlbih0cmVlKTtcbiAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZSh0cmVlLm5vZGUsIHJlZmVyZW5jZU5vZGUpO1xuICB9IGVsc2Uge1xuICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRyZWUubm9kZSwgcmVmZXJlbmNlTm9kZSk7XG4gICAgaW5zZXJ0VHJlZUNoaWxkcmVuKHRyZWUpO1xuICB9XG59KTtcbmZ1bmN0aW9uIHJlcGxhY2VDaGlsZFdpdGhUcmVlKG9sZE5vZGUsIG5ld1RyZWUpIHtcbiAgb2xkTm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdUcmVlLm5vZGUsIG9sZE5vZGUpO1xuICBpbnNlcnRUcmVlQ2hpbGRyZW4obmV3VHJlZSk7XG59XG5mdW5jdGlvbiBxdWV1ZUNoaWxkKHBhcmVudFRyZWUsIGNoaWxkVHJlZSkge1xuICBpZiAoZW5hYmxlTGF6eSkge1xuICAgIHBhcmVudFRyZWUuY2hpbGRyZW4ucHVzaChjaGlsZFRyZWUpO1xuICB9IGVsc2Uge1xuICAgIHBhcmVudFRyZWUubm9kZS5hcHBlbmRDaGlsZChjaGlsZFRyZWUubm9kZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHF1ZXVlSFRNTCh0cmVlLCBodG1sKSB7XG4gIGlmIChlbmFibGVMYXp5KSB7XG4gICAgdHJlZS5odG1sID0gaHRtbDtcbiAgfSBlbHNlIHtcbiAgICB0cmVlLm5vZGUuaW5uZXJIVE1MID0gaHRtbDtcbiAgfVxufVxuZnVuY3Rpb24gcXVldWVUZXh0KHRyZWUsIHRleHQpIHtcbiAgaWYgKGVuYWJsZUxhenkpIHtcbiAgICB0cmVlLnRleHQgPSB0ZXh0O1xuICB9IGVsc2Uge1xuICAgIHNldFRleHRDb250ZW50KHRyZWUubm9kZSwgdGV4dCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gdGhpcy5ub2RlLm5vZGVOYW1lO1xufVxuZnVuY3Rpb24gRE9NTGF6eVRyZWUobm9kZSkge1xuICByZXR1cm4ge1xuICAgIG5vZGU6IG5vZGUsXG4gICAgY2hpbGRyZW46IFtdLFxuICAgIGh0bWw6IG51bGwsXG4gICAgdGV4dDogbnVsbCxcbiAgICB0b1N0cmluZzogdG9TdHJpbmdcbiAgfTtcbn1cbkRPTUxhenlUcmVlLmluc2VydFRyZWVCZWZvcmUgPSBpbnNlcnRUcmVlQmVmb3JlO1xuRE9NTGF6eVRyZWUucmVwbGFjZUNoaWxkV2l0aFRyZWUgPSByZXBsYWNlQ2hpbGRXaXRoVHJlZTtcbkRPTUxhenlUcmVlLnF1ZXVlQ2hpbGQgPSBxdWV1ZUNoaWxkO1xuRE9NTGF6eVRyZWUucXVldWVIVE1MID0gcXVldWVIVE1MO1xuRE9NTGF6eVRyZWUucXVldWVUZXh0ID0gcXVldWVUZXh0O1xubW9kdWxlLmV4cG9ydHMgPSBET01MYXp5VHJlZTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBFdmVudFBsdWdpbk9yZGVyID0gbnVsbDtcbiAgdmFyIG5hbWVzVG9QbHVnaW5zID0ge307XG4gIGZ1bmN0aW9uIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCkge1xuICAgIGlmICghRXZlbnRQbHVnaW5PcmRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKHZhciBwbHVnaW5OYW1lIGluIG5hbWVzVG9QbHVnaW5zKSB7XG4gICAgICB2YXIgUGx1Z2luTW9kdWxlID0gbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV07XG4gICAgICB2YXIgcGx1Z2luSW5kZXggPSBFdmVudFBsdWdpbk9yZGVyLmluZGV4T2YocGx1Z2luTmFtZSk7XG4gICAgICAhKHBsdWdpbkluZGV4ID4gLTEpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IENhbm5vdCBpbmplY3QgZXZlbnQgcGx1Z2lucyB0aGF0IGRvIG5vdCBleGlzdCBpbiAnICsgJ3RoZSBwbHVnaW4gb3JkZXJpbmcsIGAlc2AuJywgcGx1Z2luTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaWYgKEV2ZW50UGx1Z2luUmVnaXN0cnkucGx1Z2luc1twbHVnaW5JbmRleF0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAhUGx1Z2luTW9kdWxlLmV4dHJhY3RFdmVudHMgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogRXZlbnQgcGx1Z2lucyBtdXN0IGltcGxlbWVudCBhbiBgZXh0cmFjdEV2ZW50c2AgJyArICdtZXRob2QsIGJ1dCBgJXNgIGRvZXMgbm90LicsIHBsdWdpbk5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIEV2ZW50UGx1Z2luUmVnaXN0cnkucGx1Z2luc1twbHVnaW5JbmRleF0gPSBQbHVnaW5Nb2R1bGU7XG4gICAgICB2YXIgcHVibGlzaGVkRXZlbnRzID0gUGx1Z2luTW9kdWxlLmV2ZW50VHlwZXM7XG4gICAgICBmb3IgKHZhciBldmVudE5hbWUgaW4gcHVibGlzaGVkRXZlbnRzKSB7XG4gICAgICAgICFwdWJsaXNoRXZlbnRGb3JQbHVnaW4ocHVibGlzaGVkRXZlbnRzW2V2ZW50TmFtZV0sIFBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpblJlZ2lzdHJ5OiBGYWlsZWQgdG8gcHVibGlzaCBldmVudCBgJXNgIGZvciBwbHVnaW4gYCVzYC4nLCBldmVudE5hbWUsIHBsdWdpbk5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVibGlzaEV2ZW50Rm9yUGx1Z2luKGRpc3BhdGNoQ29uZmlnLCBQbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSkge1xuICAgICEhRXZlbnRQbHVnaW5SZWdpc3RyeS5ldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MuaGFzT3duUHJvcGVydHkoZXZlbnROYW1lKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpbkh1YjogTW9yZSB0aGFuIG9uZSBwbHVnaW4gYXR0ZW1wdGVkIHRvIHB1Ymxpc2ggdGhlIHNhbWUgJyArICdldmVudCBuYW1lLCBgJXNgLicsIGV2ZW50TmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIEV2ZW50UGx1Z2luUmVnaXN0cnkuZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzW2V2ZW50TmFtZV0gPSBkaXNwYXRjaENvbmZpZztcbiAgICB2YXIgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMgPSBkaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcztcbiAgICBpZiAocGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgIGZvciAodmFyIHBoYXNlTmFtZSBpbiBwaGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgICAgICBpZiAocGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMuaGFzT3duUHJvcGVydHkocGhhc2VOYW1lKSkge1xuICAgICAgICAgIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lID0gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcGhhc2VOYW1lXTtcbiAgICAgICAgICBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShwaGFzZWRSZWdpc3RyYXRpb25OYW1lLCBQbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUoZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSwgUGx1Z2luTW9kdWxlLCBldmVudE5hbWUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShyZWdpc3RyYXRpb25OYW1lLCBQbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSkge1xuICAgICEhRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpbkh1YjogTW9yZSB0aGFuIG9uZSBwbHVnaW4gYXR0ZW1wdGVkIHRvIHB1Ymxpc2ggdGhlIHNhbWUgJyArICdyZWdpc3RyYXRpb24gbmFtZSwgYCVzYC4nLCByZWdpc3RyYXRpb25OYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSA9IFBsdWdpbk1vZHVsZTtcbiAgICBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXNbcmVnaXN0cmF0aW9uTmFtZV0gPSBQbHVnaW5Nb2R1bGUuZXZlbnRUeXBlc1tldmVudE5hbWVdLmRlcGVuZGVuY2llcztcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIGxvd2VyQ2FzZWROYW1lID0gcmVnaXN0cmF0aW9uTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgRXZlbnRQbHVnaW5SZWdpc3RyeS5wb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzW2xvd2VyQ2FzZWROYW1lXSA9IHJlZ2lzdHJhdGlvbk5hbWU7XG4gICAgfVxuICB9XG4gIHZhciBFdmVudFBsdWdpblJlZ2lzdHJ5ID0ge1xuICAgIHBsdWdpbnM6IFtdLFxuICAgIGV2ZW50TmFtZURpc3BhdGNoQ29uZmlnczoge30sXG4gICAgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXM6IHt9LFxuICAgIHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXM6IHt9LFxuICAgIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXM6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB7fSA6IG51bGwsXG4gICAgaW5qZWN0RXZlbnRQbHVnaW5PcmRlcjogZnVuY3Rpb24oSW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyKSB7XG4gICAgICAhIUV2ZW50UGx1Z2luT3JkZXIgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCBldmVudCBwbHVnaW4gb3JkZXJpbmcgbW9yZSB0aGFuICcgKyAnb25jZS4gWW91IGFyZSBsaWtlbHkgdHJ5aW5nIHRvIGxvYWQgbW9yZSB0aGFuIG9uZSBjb3B5IG9mIFJlYWN0LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIEV2ZW50UGx1Z2luT3JkZXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChJbmplY3RlZEV2ZW50UGx1Z2luT3JkZXIpO1xuICAgICAgcmVjb21wdXRlUGx1Z2luT3JkZXJpbmcoKTtcbiAgICB9LFxuICAgIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTogZnVuY3Rpb24oaW5qZWN0ZWROYW1lc1RvUGx1Z2lucykge1xuICAgICAgdmFyIGlzT3JkZXJpbmdEaXJ0eSA9IGZhbHNlO1xuICAgICAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBpbmplY3RlZE5hbWVzVG9QbHVnaW5zKSB7XG4gICAgICAgIGlmICghaW5qZWN0ZWROYW1lc1RvUGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShwbHVnaW5OYW1lKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBQbHVnaW5Nb2R1bGUgPSBpbmplY3RlZE5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdO1xuICAgICAgICBpZiAoIW5hbWVzVG9QbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbk5hbWUpIHx8IG5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdICE9PSBQbHVnaW5Nb2R1bGUpIHtcbiAgICAgICAgICAhIW5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IENhbm5vdCBpbmplY3QgdHdvIGRpZmZlcmVudCBldmVudCBwbHVnaW5zICcgKyAndXNpbmcgdGhlIHNhbWUgbmFtZSwgYCVzYC4nLCBwbHVnaW5OYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0gPSBQbHVnaW5Nb2R1bGU7XG4gICAgICAgICAgaXNPcmRlcmluZ0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzT3JkZXJpbmdEaXJ0eSkge1xuICAgICAgICByZWNvbXB1dGVQbHVnaW5PcmRlcmluZygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0UGx1Z2luTW9kdWxlRm9yRXZlbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgZGlzcGF0Y2hDb25maWcgPSBldmVudC5kaXNwYXRjaENvbmZpZztcbiAgICAgIGlmIChkaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICAgIHJldHVybiBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW2Rpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWVdIHx8IG51bGw7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBwaGFzZSBpbiBkaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgICAgICBpZiAoIWRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzLmhhc093blByb3BlcnR5KHBoYXNlKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBQbHVnaW5Nb2R1bGUgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW2Rpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3BoYXNlXV07XG4gICAgICAgIGlmIChQbHVnaW5Nb2R1bGUpIHtcbiAgICAgICAgICByZXR1cm4gUGx1Z2luTW9kdWxlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIF9yZXNldEV2ZW50UGx1Z2luczogZnVuY3Rpb24oKSB7XG4gICAgICBFdmVudFBsdWdpbk9yZGVyID0gbnVsbDtcbiAgICAgIGZvciAodmFyIHBsdWdpbk5hbWUgaW4gbmFtZXNUb1BsdWdpbnMpIHtcbiAgICAgICAgaWYgKG5hbWVzVG9QbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbk5hbWUpKSB7XG4gICAgICAgICAgZGVsZXRlIG5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBFdmVudFBsdWdpblJlZ2lzdHJ5LnBsdWdpbnMubGVuZ3RoID0gMDtcbiAgICAgIHZhciBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LmV2ZW50TmFtZURpc3BhdGNoQ29uZmlncztcbiAgICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MpIHtcbiAgICAgICAgaWYgKGV2ZW50TmFtZURpc3BhdGNoQ29uZmlncy5oYXNPd25Qcm9wZXJ0eShldmVudE5hbWUpKSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50TmFtZURpc3BhdGNoQ29uZmlnc1tldmVudE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzO1xuICAgICAgZm9yICh2YXIgcmVnaXN0cmF0aW9uTmFtZSBpbiByZWdpc3RyYXRpb25OYW1lTW9kdWxlcykge1xuICAgICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocmVnaXN0cmF0aW9uTmFtZSkpIHtcbiAgICAgICAgICBkZWxldGUgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhciBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5wb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzO1xuICAgICAgICBmb3IgKHZhciBsb3dlckNhc2VkTmFtZSBpbiBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgICAgICAgaWYgKHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMuaGFzT3duUHJvcGVydHkobG93ZXJDYXNlZE5hbWUpKSB7XG4gICAgICAgICAgICBkZWxldGUgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lc1tsb3dlckNhc2VkTmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50UGx1Z2luUmVnaXN0cnk7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIEV2ZW50Q29uc3RhbnRzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIga2V5TWlycm9yID0gcmVxdWlyZSgnZmJqcy9saWIva2V5TWlycm9yJyk7XG5cbnZhciBQcm9wYWdhdGlvblBoYXNlcyA9IGtleU1pcnJvcih7IGJ1YmJsZWQ6IG51bGwsIGNhcHR1cmVkOiBudWxsIH0pO1xuXG4vKipcbiAqIFR5cGVzIG9mIHJhdyBzaWduYWxzIGZyb20gdGhlIGJyb3dzZXIgY2F1Z2h0IGF0IHRoZSB0b3AgbGV2ZWwuXG4gKi9cbnZhciB0b3BMZXZlbFR5cGVzID0ga2V5TWlycm9yKHtcbiAgdG9wQWJvcnQ6IG51bGwsXG4gIHRvcEFuaW1hdGlvbkVuZDogbnVsbCxcbiAgdG9wQW5pbWF0aW9uSXRlcmF0aW9uOiBudWxsLFxuICB0b3BBbmltYXRpb25TdGFydDogbnVsbCxcbiAgdG9wQmx1cjogbnVsbCxcbiAgdG9wQ2FuUGxheTogbnVsbCxcbiAgdG9wQ2FuUGxheVRocm91Z2g6IG51bGwsXG4gIHRvcENoYW5nZTogbnVsbCxcbiAgdG9wQ2xpY2s6IG51bGwsXG4gIHRvcENvbXBvc2l0aW9uRW5kOiBudWxsLFxuICB0b3BDb21wb3NpdGlvblN0YXJ0OiBudWxsLFxuICB0b3BDb21wb3NpdGlvblVwZGF0ZTogbnVsbCxcbiAgdG9wQ29udGV4dE1lbnU6IG51bGwsXG4gIHRvcENvcHk6IG51bGwsXG4gIHRvcEN1dDogbnVsbCxcbiAgdG9wRG91YmxlQ2xpY2s6IG51bGwsXG4gIHRvcERyYWc6IG51bGwsXG4gIHRvcERyYWdFbmQ6IG51bGwsXG4gIHRvcERyYWdFbnRlcjogbnVsbCxcbiAgdG9wRHJhZ0V4aXQ6IG51bGwsXG4gIHRvcERyYWdMZWF2ZTogbnVsbCxcbiAgdG9wRHJhZ092ZXI6IG51bGwsXG4gIHRvcERyYWdTdGFydDogbnVsbCxcbiAgdG9wRHJvcDogbnVsbCxcbiAgdG9wRHVyYXRpb25DaGFuZ2U6IG51bGwsXG4gIHRvcEVtcHRpZWQ6IG51bGwsXG4gIHRvcEVuY3J5cHRlZDogbnVsbCxcbiAgdG9wRW5kZWQ6IG51bGwsXG4gIHRvcEVycm9yOiBudWxsLFxuICB0b3BGb2N1czogbnVsbCxcbiAgdG9wSW5wdXQ6IG51bGwsXG4gIHRvcEludmFsaWQ6IG51bGwsXG4gIHRvcEtleURvd246IG51bGwsXG4gIHRvcEtleVByZXNzOiBudWxsLFxuICB0b3BLZXlVcDogbnVsbCxcbiAgdG9wTG9hZDogbnVsbCxcbiAgdG9wTG9hZGVkRGF0YTogbnVsbCxcbiAgdG9wTG9hZGVkTWV0YWRhdGE6IG51bGwsXG4gIHRvcExvYWRTdGFydDogbnVsbCxcbiAgdG9wTW91c2VEb3duOiBudWxsLFxuICB0b3BNb3VzZU1vdmU6IG51bGwsXG4gIHRvcE1vdXNlT3V0OiBudWxsLFxuICB0b3BNb3VzZU92ZXI6IG51bGwsXG4gIHRvcE1vdXNlVXA6IG51bGwsXG4gIHRvcFBhc3RlOiBudWxsLFxuICB0b3BQYXVzZTogbnVsbCxcbiAgdG9wUGxheTogbnVsbCxcbiAgdG9wUGxheWluZzogbnVsbCxcbiAgdG9wUHJvZ3Jlc3M6IG51bGwsXG4gIHRvcFJhdGVDaGFuZ2U6IG51bGwsXG4gIHRvcFJlc2V0OiBudWxsLFxuICB0b3BTY3JvbGw6IG51bGwsXG4gIHRvcFNlZWtlZDogbnVsbCxcbiAgdG9wU2Vla2luZzogbnVsbCxcbiAgdG9wU2VsZWN0aW9uQ2hhbmdlOiBudWxsLFxuICB0b3BTdGFsbGVkOiBudWxsLFxuICB0b3BTdWJtaXQ6IG51bGwsXG4gIHRvcFN1c3BlbmQ6IG51bGwsXG4gIHRvcFRleHRJbnB1dDogbnVsbCxcbiAgdG9wVGltZVVwZGF0ZTogbnVsbCxcbiAgdG9wVG91Y2hDYW5jZWw6IG51bGwsXG4gIHRvcFRvdWNoRW5kOiBudWxsLFxuICB0b3BUb3VjaE1vdmU6IG51bGwsXG4gIHRvcFRvdWNoU3RhcnQ6IG51bGwsXG4gIHRvcFRyYW5zaXRpb25FbmQ6IG51bGwsXG4gIHRvcFZvbHVtZUNoYW5nZTogbnVsbCxcbiAgdG9wV2FpdGluZzogbnVsbCxcbiAgdG9wV2hlZWw6IG51bGxcbn0pO1xuXG52YXIgRXZlbnRDb25zdGFudHMgPSB7XG4gIHRvcExldmVsVHlwZXM6IHRvcExldmVsVHlwZXMsXG4gIFByb3BhZ2F0aW9uUGhhc2VzOiBQcm9wYWdhdGlvblBoYXNlc1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudENvbnN0YW50czsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xuICB2YXIgUmVhY3RFcnJvclV0aWxzID0gcmVxdWlyZSgnLi9SZWFjdEVycm9yVXRpbHMnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIENvbXBvbmVudFRyZWU7XG4gIHZhciBUcmVlVHJhdmVyc2FsO1xuICB2YXIgaW5qZWN0aW9uID0ge1xuICAgIGluamVjdENvbXBvbmVudFRyZWU6IGZ1bmN0aW9uKEluamVjdGVkKSB7XG4gICAgICBDb21wb25lbnRUcmVlID0gSW5qZWN0ZWQ7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhJbmplY3RlZCAmJiBJbmplY3RlZC5nZXROb2RlRnJvbUluc3RhbmNlICYmIEluamVjdGVkLmdldEluc3RhbmNlRnJvbU5vZGUsICdFdmVudFBsdWdpblV0aWxzLmluamVjdGlvbi5pbmplY3RDb21wb25lbnRUcmVlKC4uLik6IEluamVjdGVkICcgKyAnbW9kdWxlIGlzIG1pc3NpbmcgZ2V0Tm9kZUZyb21JbnN0YW5jZSBvciBnZXRJbnN0YW5jZUZyb21Ob2RlLicpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW5qZWN0VHJlZVRyYXZlcnNhbDogZnVuY3Rpb24oSW5qZWN0ZWQpIHtcbiAgICAgIFRyZWVUcmF2ZXJzYWwgPSBJbmplY3RlZDtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKEluamVjdGVkICYmIEluamVjdGVkLmlzQW5jZXN0b3IgJiYgSW5qZWN0ZWQuZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3IsICdFdmVudFBsdWdpblV0aWxzLmluamVjdGlvbi5pbmplY3RUcmVlVHJhdmVyc2FsKC4uLik6IEluamVjdGVkICcgKyAnbW9kdWxlIGlzIG1pc3NpbmcgaXNBbmNlc3RvciBvciBnZXRMb3dlc3RDb21tb25BbmNlc3Rvci4nKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbiAgZnVuY3Rpb24gaXNFbmRpc2godG9wTGV2ZWxUeXBlKSB7XG4gICAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZVVwIHx8IHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BUb3VjaEVuZCB8fCB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wVG91Y2hDYW5jZWw7XG4gIH1cbiAgZnVuY3Rpb24gaXNNb3ZlaXNoKHRvcExldmVsVHlwZSkge1xuICAgIHJldHVybiB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wTW91c2VNb3ZlIHx8IHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BUb3VjaE1vdmU7XG4gIH1cbiAgZnVuY3Rpb24gaXNTdGFydGlzaCh0b3BMZXZlbFR5cGUpIHtcbiAgICByZXR1cm4gdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93biB8fCB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wVG91Y2hTdGFydDtcbiAgfVxuICB2YXIgdmFsaWRhdGVFdmVudERpc3BhdGNoZXM7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgdmFyIGRpc3BhdGNoTGlzdGVuZXJzID0gZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzO1xuICAgICAgdmFyIGRpc3BhdGNoSW5zdGFuY2VzID0gZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzO1xuICAgICAgdmFyIGxpc3RlbmVyc0lzQXJyID0gQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVycyk7XG4gICAgICB2YXIgbGlzdGVuZXJzTGVuID0gbGlzdGVuZXJzSXNBcnIgPyBkaXNwYXRjaExpc3RlbmVycy5sZW5ndGggOiBkaXNwYXRjaExpc3RlbmVycyA/IDEgOiAwO1xuICAgICAgdmFyIGluc3RhbmNlc0lzQXJyID0gQXJyYXkuaXNBcnJheShkaXNwYXRjaEluc3RhbmNlcyk7XG4gICAgICB2YXIgaW5zdGFuY2VzTGVuID0gaW5zdGFuY2VzSXNBcnIgPyBkaXNwYXRjaEluc3RhbmNlcy5sZW5ndGggOiBkaXNwYXRjaEluc3RhbmNlcyA/IDEgOiAwO1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoaW5zdGFuY2VzSXNBcnIgPT09IGxpc3RlbmVyc0lzQXJyICYmIGluc3RhbmNlc0xlbiA9PT0gbGlzdGVuZXJzTGVuLCAnRXZlbnRQbHVnaW5VdGlsczogSW52YWxpZCBgZXZlbnRgLicpIDogdm9pZCAwO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGxpc3RlbmVyLCBpbnN0KSB7XG4gICAgdmFyIHR5cGUgPSBldmVudC50eXBlIHx8ICd1bmtub3duLWV2ZW50JztcbiAgICBldmVudC5jdXJyZW50VGFyZ2V0ID0gRXZlbnRQbHVnaW5VdGlscy5nZXROb2RlRnJvbUluc3RhbmNlKGluc3QpO1xuICAgIGlmIChzaW11bGF0ZWQpIHtcbiAgICAgIFJlYWN0RXJyb3JVdGlscy5pbnZva2VHdWFyZGVkQ2FsbGJhY2tXaXRoQ2F0Y2godHlwZSwgbGlzdGVuZXIsIGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjayh0eXBlLCBsaXN0ZW5lciwgZXZlbnQpO1xuICAgIH1cbiAgICBldmVudC5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXIoZXZlbnQsIHNpbXVsYXRlZCkge1xuICAgIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgICB2YXIgZGlzcGF0Y2hJbnN0YW5jZXMgPSBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXM7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzKGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGlzcGF0Y2hMaXN0ZW5lcnMpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BhdGNoTGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGRpc3BhdGNoTGlzdGVuZXJzW2ldLCBkaXNwYXRjaEluc3RhbmNlc1tpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkaXNwYXRjaExpc3RlbmVycykge1xuICAgICAgZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGRpc3BhdGNoTGlzdGVuZXJzLCBkaXNwYXRjaEluc3RhbmNlcyk7XG4gICAgfVxuICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IG51bGw7XG4gICAgZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzID0gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlSW1wbChldmVudCkge1xuICAgIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgICB2YXIgZGlzcGF0Y2hJbnN0YW5jZXMgPSBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXM7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzKGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGlzcGF0Y2hMaXN0ZW5lcnMpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BhdGNoTGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3BhdGNoTGlzdGVuZXJzW2ldKGV2ZW50LCBkaXNwYXRjaEluc3RhbmNlc1tpXSkpIHtcbiAgICAgICAgICByZXR1cm4gZGlzcGF0Y2hJbnN0YW5jZXNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRpc3BhdGNoTGlzdGVuZXJzKSB7XG4gICAgICBpZiAoZGlzcGF0Y2hMaXN0ZW5lcnMoZXZlbnQsIGRpc3BhdGNoSW5zdGFuY2VzKSkge1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2hJbnN0YW5jZXM7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlclN0b3BBdFRydWUoZXZlbnQpIHtcbiAgICB2YXIgcmV0ID0gZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZUltcGwoZXZlbnQpO1xuICAgIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IG51bGw7XG4gICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gbnVsbDtcbiAgICByZXR1cm4gcmV0O1xuICB9XG4gIGZ1bmN0aW9uIGV4ZWN1dGVEaXJlY3REaXNwYXRjaChldmVudCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyhldmVudCk7XG4gICAgfVxuICAgIHZhciBkaXNwYXRjaExpc3RlbmVyID0gZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzO1xuICAgIHZhciBkaXNwYXRjaEluc3RhbmNlID0gZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzO1xuICAgICEhQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVyKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdleGVjdXRlRGlyZWN0RGlzcGF0Y2goLi4uKTogSW52YWxpZCBgZXZlbnRgLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBldmVudC5jdXJyZW50VGFyZ2V0ID0gZGlzcGF0Y2hMaXN0ZW5lciA/IEV2ZW50UGx1Z2luVXRpbHMuZ2V0Tm9kZUZyb21JbnN0YW5jZShkaXNwYXRjaEluc3RhbmNlKSA6IG51bGw7XG4gICAgdmFyIHJlcyA9IGRpc3BhdGNoTGlzdGVuZXIgPyBkaXNwYXRjaExpc3RlbmVyKGV2ZW50KSA6IG51bGw7XG4gICAgZXZlbnQuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gbnVsbDtcbiAgICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBudWxsO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgZnVuY3Rpb24gaGFzRGlzcGF0Y2hlcyhldmVudCkge1xuICAgIHJldHVybiAhIWV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgfVxuICB2YXIgRXZlbnRQbHVnaW5VdGlscyA9IHtcbiAgICBpc0VuZGlzaDogaXNFbmRpc2gsXG4gICAgaXNNb3ZlaXNoOiBpc01vdmVpc2gsXG4gICAgaXNTdGFydGlzaDogaXNTdGFydGlzaCxcbiAgICBleGVjdXRlRGlyZWN0RGlzcGF0Y2g6IGV4ZWN1dGVEaXJlY3REaXNwYXRjaCxcbiAgICBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXI6IGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcixcbiAgICBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlOiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlLFxuICAgIGhhc0Rpc3BhdGNoZXM6IGhhc0Rpc3BhdGNoZXMsXG4gICAgZ2V0SW5zdGFuY2VGcm9tTm9kZTogZnVuY3Rpb24obm9kZSkge1xuICAgICAgcmV0dXJuIENvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShub2RlKTtcbiAgICB9LFxuICAgIGdldE5vZGVGcm9tSW5zdGFuY2U6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHJldHVybiBDb21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2Uobm9kZSk7XG4gICAgfSxcbiAgICBpc0FuY2VzdG9yOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICByZXR1cm4gVHJlZVRyYXZlcnNhbC5pc0FuY2VzdG9yKGEsIGIpO1xuICAgIH0sXG4gICAgZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3I6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiBUcmVlVHJhdmVyc2FsLmdldExvd2VzdENvbW1vbkFuY2VzdG9yKGEsIGIpO1xuICAgIH0sXG4gICAgZ2V0UGFyZW50SW5zdGFuY2U6IGZ1bmN0aW9uKGluc3QpIHtcbiAgICAgIHJldHVybiBUcmVlVHJhdmVyc2FsLmdldFBhcmVudEluc3RhbmNlKGluc3QpO1xuICAgIH0sXG4gICAgdHJhdmVyc2VUd29QaGFzZTogZnVuY3Rpb24odGFyZ2V0LCBmbiwgYXJnKSB7XG4gICAgICByZXR1cm4gVHJlZVRyYXZlcnNhbC50cmF2ZXJzZVR3b1BoYXNlKHRhcmdldCwgZm4sIGFyZyk7XG4gICAgfSxcbiAgICB0cmF2ZXJzZUVudGVyTGVhdmU6IGZ1bmN0aW9uKGZyb20sIHRvLCBmbiwgYXJnRnJvbSwgYXJnVG8pIHtcbiAgICAgIHJldHVybiBUcmVlVHJhdmVyc2FsLnRyYXZlcnNlRW50ZXJMZWF2ZShmcm9tLCB0bywgZm4sIGFyZ0Zyb20sIGFyZ1RvKTtcbiAgICB9LFxuICAgIGluamVjdGlvbjogaW5qZWN0aW9uXG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRQbHVnaW5VdGlscztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICBmdW5jdGlvbiBhY2N1bXVsYXRlSW50byhjdXJyZW50LCBuZXh0KSB7XG4gICAgIShuZXh0ICE9IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2FjY3VtdWxhdGVJbnRvKC4uLik6IEFjY3VtdWxhdGVkIGl0ZW1zIG11c3Qgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9XG4gICAgdmFyIGN1cnJlbnRJc0FycmF5ID0gQXJyYXkuaXNBcnJheShjdXJyZW50KTtcbiAgICB2YXIgbmV4dElzQXJyYXkgPSBBcnJheS5pc0FycmF5KG5leHQpO1xuICAgIGlmIChjdXJyZW50SXNBcnJheSAmJiBuZXh0SXNBcnJheSkge1xuICAgICAgY3VycmVudC5wdXNoLmFwcGx5KGN1cnJlbnQsIG5leHQpO1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGlmIChjdXJyZW50SXNBcnJheSkge1xuICAgICAgY3VycmVudC5wdXNoKG5leHQpO1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGlmIChuZXh0SXNBcnJheSkge1xuICAgICAgcmV0dXJuIFtjdXJyZW50XS5jb25jYXQobmV4dCk7XG4gICAgfVxuICAgIHJldHVybiBbY3VycmVudCwgbmV4dF07XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBhY2N1bXVsYXRlSW50bztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZm9yRWFjaEFjY3VtdWxhdGVkXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBwYXJhbSB7YXJyYXl9IGFyciBhbiBcImFjY3VtdWxhdGlvblwiIG9mIGl0ZW1zIHdoaWNoIGlzIGVpdGhlciBhbiBBcnJheSBvclxuICogYSBzaW5nbGUgaXRlbS4gVXNlZnVsIHdoZW4gcGFpcmVkIHdpdGggdGhlIGBhY2N1bXVsYXRlYCBtb2R1bGUuIFRoaXMgaXMgYVxuICogc2ltcGxlIHV0aWxpdHkgdGhhdCBhbGxvd3MgdXMgdG8gcmVhc29uIGFib3V0IGEgY29sbGVjdGlvbiBvZiBpdGVtcywgYnV0XG4gKiBoYW5kbGluZyB0aGUgY2FzZSB3aGVuIHRoZXJlIGlzIGV4YWN0bHkgb25lIGl0ZW0gKGFuZCB3ZSBkbyBub3QgbmVlZCB0b1xuICogYWxsb2NhdGUgYW4gYXJyYXkpLlxuICovXG5cbnZhciBmb3JFYWNoQWNjdW11bGF0ZWQgPSBmdW5jdGlvbiAoYXJyLCBjYiwgc2NvcGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGFyci5mb3JFYWNoKGNiLCBzY29wZSk7XG4gIH0gZWxzZSBpZiAoYXJyKSB7XG4gICAgY2IuY2FsbChzY29wZSwgYXJyKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmb3JFYWNoQWNjdW11bGF0ZWQ7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBFdmVudFBsdWdpblJlZ2lzdHJ5ID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpblJlZ2lzdHJ5Jyk7XG4gIHZhciBFdmVudFBsdWdpblV0aWxzID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpblV0aWxzJyk7XG4gIHZhciBSZWFjdEVycm9yVXRpbHMgPSByZXF1aXJlKCcuL1JlYWN0RXJyb3JVdGlscycpO1xuICB2YXIgYWNjdW11bGF0ZUludG8gPSByZXF1aXJlKCcuL2FjY3VtdWxhdGVJbnRvJyk7XG4gIHZhciBmb3JFYWNoQWNjdW11bGF0ZWQgPSByZXF1aXJlKCcuL2ZvckVhY2hBY2N1bXVsYXRlZCcpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBsaXN0ZW5lckJhbmsgPSB7fTtcbiAgdmFyIGV2ZW50UXVldWUgPSBudWxsO1xuICB2YXIgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlID0gZnVuY3Rpb24oZXZlbnQsIHNpbXVsYXRlZCkge1xuICAgIGlmIChldmVudCkge1xuICAgICAgRXZlbnRQbHVnaW5VdGlscy5leGVjdXRlRGlzcGF0Y2hlc0luT3JkZXIoZXZlbnQsIHNpbXVsYXRlZCk7XG4gICAgICBpZiAoIWV2ZW50LmlzUGVyc2lzdGVudCgpKSB7XG4gICAgICAgIGV2ZW50LmNvbnN0cnVjdG9yLnJlbGVhc2UoZXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZVNpbXVsYXRlZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlKGUsIHRydWUpO1xuICB9O1xuICB2YXIgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWwgPSBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZShlLCBmYWxzZSk7XG4gIH07XG4gIHZhciBFdmVudFBsdWdpbkh1YiA9IHtcbiAgICBpbmplY3Rpb246IHtcbiAgICAgIGluamVjdEV2ZW50UGx1Z2luT3JkZXI6IEV2ZW50UGx1Z2luUmVnaXN0cnkuaW5qZWN0RXZlbnRQbHVnaW5PcmRlcixcbiAgICAgIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTogRXZlbnRQbHVnaW5SZWdpc3RyeS5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWVcbiAgICB9LFxuICAgIHB1dExpc3RlbmVyOiBmdW5jdGlvbihpbnN0LCByZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lcikge1xuICAgICAgISh0eXBlb2YgbGlzdGVuZXIgPT09ICdmdW5jdGlvbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkICVzIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IHR5cGUgJXMnLCByZWdpc3RyYXRpb25OYW1lLCB0eXBlb2YgbGlzdGVuZXIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHZhciBiYW5rRm9yUmVnaXN0cmF0aW9uTmFtZSA9IGxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXSB8fCAobGlzdGVuZXJCYW5rW3JlZ2lzdHJhdGlvbk5hbWVdID0ge30pO1xuICAgICAgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWVbaW5zdC5fcm9vdE5vZGVJRF0gPSBsaXN0ZW5lcjtcbiAgICAgIHZhciBQbHVnaW5Nb2R1bGUgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICAgICAgaWYgKFBsdWdpbk1vZHVsZSAmJiBQbHVnaW5Nb2R1bGUuZGlkUHV0TGlzdGVuZXIpIHtcbiAgICAgICAgUGx1Z2luTW9kdWxlLmRpZFB1dExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUsIGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldExpc3RlbmVyOiBmdW5jdGlvbihpbnN0LCByZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICB2YXIgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWUgPSBsaXN0ZW5lckJhbmtbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgICByZXR1cm4gYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWUgJiYgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWVbaW5zdC5fcm9vdE5vZGVJRF07XG4gICAgfSxcbiAgICBkZWxldGVMaXN0ZW5lcjogZnVuY3Rpb24oaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgdmFyIFBsdWdpbk1vZHVsZSA9IEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgICBpZiAoUGx1Z2luTW9kdWxlICYmIFBsdWdpbk1vZHVsZS53aWxsRGVsZXRlTGlzdGVuZXIpIHtcbiAgICAgICAgUGx1Z2luTW9kdWxlLndpbGxEZWxldGVMaXN0ZW5lcihpbnN0LCByZWdpc3RyYXRpb25OYW1lKTtcbiAgICAgIH1cbiAgICAgIHZhciBiYW5rRm9yUmVnaXN0cmF0aW9uTmFtZSA9IGxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgICAgIGlmIChiYW5rRm9yUmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgICBkZWxldGUgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWVbaW5zdC5fcm9vdE5vZGVJRF07XG4gICAgICB9XG4gICAgfSxcbiAgICBkZWxldGVBbGxMaXN0ZW5lcnM6IGZ1bmN0aW9uKGluc3QpIHtcbiAgICAgIGZvciAodmFyIHJlZ2lzdHJhdGlvbk5hbWUgaW4gbGlzdGVuZXJCYW5rKSB7XG4gICAgICAgIGlmICghbGlzdGVuZXJCYW5rW3JlZ2lzdHJhdGlvbk5hbWVdW2luc3QuX3Jvb3ROb2RlSURdKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIFBsdWdpbk1vZHVsZSA9IEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgICAgIGlmIChQbHVnaW5Nb2R1bGUgJiYgUGx1Z2luTW9kdWxlLndpbGxEZWxldGVMaXN0ZW5lcikge1xuICAgICAgICAgIFBsdWdpbk1vZHVsZS53aWxsRGVsZXRlTGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXVtpbnN0Ll9yb290Tm9kZUlEXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgICB2YXIgZXZlbnRzO1xuICAgICAgdmFyIHBsdWdpbnMgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnBsdWdpbnM7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBsdWdpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBvc3NpYmxlUGx1Z2luID0gcGx1Z2luc1tpXTtcbiAgICAgICAgaWYgKHBvc3NpYmxlUGx1Z2luKSB7XG4gICAgICAgICAgdmFyIGV4dHJhY3RlZEV2ZW50cyA9IHBvc3NpYmxlUGx1Z2luLmV4dHJhY3RFdmVudHModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgICAgIGlmIChleHRyYWN0ZWRFdmVudHMpIHtcbiAgICAgICAgICAgIGV2ZW50cyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50cywgZXh0cmFjdGVkRXZlbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBldmVudHM7XG4gICAgfSxcbiAgICBlbnF1ZXVlRXZlbnRzOiBmdW5jdGlvbihldmVudHMpIHtcbiAgICAgIGlmIChldmVudHMpIHtcbiAgICAgICAgZXZlbnRRdWV1ZSA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50UXVldWUsIGV2ZW50cyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBwcm9jZXNzRXZlbnRRdWV1ZTogZnVuY3Rpb24oc2ltdWxhdGVkKSB7XG4gICAgICB2YXIgcHJvY2Vzc2luZ0V2ZW50UXVldWUgPSBldmVudFF1ZXVlO1xuICAgICAgZXZlbnRRdWV1ZSA9IG51bGw7XG4gICAgICBpZiAoc2ltdWxhdGVkKSB7XG4gICAgICAgIGZvckVhY2hBY2N1bXVsYXRlZChwcm9jZXNzaW5nRXZlbnRRdWV1ZSwgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlU2ltdWxhdGVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvckVhY2hBY2N1bXVsYXRlZChwcm9jZXNzaW5nRXZlbnRRdWV1ZSwgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWwpO1xuICAgICAgfVxuICAgICAgISFldmVudFF1ZXVlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3Byb2Nlc3NFdmVudFF1ZXVlKCk6IEFkZGl0aW9uYWwgZXZlbnRzIHdlcmUgZW5xdWV1ZWQgd2hpbGUgcHJvY2Vzc2luZyAnICsgJ2FuIGV2ZW50IHF1ZXVlLiBTdXBwb3J0IGZvciB0aGlzIGhhcyBub3QgeWV0IGJlZW4gaW1wbGVtZW50ZWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgUmVhY3RFcnJvclV0aWxzLnJldGhyb3dDYXVnaHRFcnJvcigpO1xuICAgIH0sXG4gICAgX19wdXJnZTogZnVuY3Rpb24oKSB7XG4gICAgICBsaXN0ZW5lckJhbmsgPSB7fTtcbiAgICB9LFxuICAgIF9fZ2V0TGlzdGVuZXJCYW5rOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBsaXN0ZW5lckJhbms7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50UGx1Z2luSHViO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIEV2ZW50UGx1Z2luSHViID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpbkh1YicpO1xuZnVuY3Rpb24gcnVuRXZlbnRRdWV1ZUluQmF0Y2goZXZlbnRzKSB7XG4gIEV2ZW50UGx1Z2luSHViLmVucXVldWVFdmVudHMoZXZlbnRzKTtcbiAgRXZlbnRQbHVnaW5IdWIucHJvY2Vzc0V2ZW50UXVldWUoZmFsc2UpO1xufVxudmFyIFJlYWN0RXZlbnRFbWl0dGVyTWl4aW4gPSB7aGFuZGxlVG9wTGV2ZWw6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgdmFyIGV2ZW50cyA9IEV2ZW50UGx1Z2luSHViLmV4dHJhY3RFdmVudHModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgIHJ1bkV2ZW50UXVldWVJbkJhdGNoKGV2ZW50cyk7XG4gIH19O1xubW9kdWxlLmV4cG9ydHMgPSBSZWFjdEV2ZW50RW1pdHRlck1peGluO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFZpZXdwb3J0TWV0cmljc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFZpZXdwb3J0TWV0cmljcyA9IHtcblxuICBjdXJyZW50U2Nyb2xsTGVmdDogMCxcblxuICBjdXJyZW50U2Nyb2xsVG9wOiAwLFxuXG4gIHJlZnJlc2hTY3JvbGxWYWx1ZXM6IGZ1bmN0aW9uIChzY3JvbGxQb3NpdGlvbikge1xuICAgIFZpZXdwb3J0TWV0cmljcy5jdXJyZW50U2Nyb2xsTGVmdCA9IHNjcm9sbFBvc2l0aW9uLng7XG4gICAgVmlld3BvcnRNZXRyaWNzLmN1cnJlbnRTY3JvbGxUb3AgPSBzY3JvbGxQb3NpdGlvbi55O1xuICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVmlld3BvcnRNZXRyaWNzOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcblxuLyoqXG4gKiBHZW5lcmF0ZSBhIG1hcHBpbmcgb2Ygc3RhbmRhcmQgdmVuZG9yIHByZWZpeGVzIHVzaW5nIHRoZSBkZWZpbmVkIHN0eWxlIHByb3BlcnR5IGFuZCBldmVudCBuYW1lLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZVByb3BcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cbmZ1bmN0aW9uIG1ha2VQcmVmaXhNYXAoc3R5bGVQcm9wLCBldmVudE5hbWUpIHtcbiAgdmFyIHByZWZpeGVzID0ge307XG5cbiAgcHJlZml4ZXNbc3R5bGVQcm9wLnRvTG93ZXJDYXNlKCldID0gZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHByZWZpeGVzWydXZWJraXQnICsgc3R5bGVQcm9wXSA9ICd3ZWJraXQnICsgZXZlbnROYW1lO1xuICBwcmVmaXhlc1snTW96JyArIHN0eWxlUHJvcF0gPSAnbW96JyArIGV2ZW50TmFtZTtcbiAgcHJlZml4ZXNbJ21zJyArIHN0eWxlUHJvcF0gPSAnTVMnICsgZXZlbnROYW1lO1xuICBwcmVmaXhlc1snTycgKyBzdHlsZVByb3BdID0gJ28nICsgZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgcmV0dXJuIHByZWZpeGVzO1xufVxuXG4vKipcbiAqIEEgbGlzdCBvZiBldmVudCBuYW1lcyB0byBhIGNvbmZpZ3VyYWJsZSBsaXN0IG9mIHZlbmRvciBwcmVmaXhlcy5cbiAqL1xudmFyIHZlbmRvclByZWZpeGVzID0ge1xuICBhbmltYXRpb25lbmQ6IG1ha2VQcmVmaXhNYXAoJ0FuaW1hdGlvbicsICdBbmltYXRpb25FbmQnKSxcbiAgYW5pbWF0aW9uaXRlcmF0aW9uOiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uSXRlcmF0aW9uJyksXG4gIGFuaW1hdGlvbnN0YXJ0OiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uU3RhcnQnKSxcbiAgdHJhbnNpdGlvbmVuZDogbWFrZVByZWZpeE1hcCgnVHJhbnNpdGlvbicsICdUcmFuc2l0aW9uRW5kJylcbn07XG5cbi8qKlxuICogRXZlbnQgbmFtZXMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBkZXRlY3RlZCBhbmQgcHJlZml4ZWQgKGlmIGFwcGxpY2FibGUpLlxuICovXG52YXIgcHJlZml4ZWRFdmVudE5hbWVzID0ge307XG5cbi8qKlxuICogRWxlbWVudCB0byBjaGVjayBmb3IgcHJlZml4ZXMgb24uXG4gKi9cbnZhciBzdHlsZSA9IHt9O1xuXG4vKipcbiAqIEJvb3RzdHJhcCBpZiBhIERPTSBleGlzdHMuXG4gKi9cbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTtcblxuICAvLyBPbiBzb21lIHBsYXRmb3JtcywgaW4gcGFydGljdWxhciBzb21lIHJlbGVhc2VzIG9mIEFuZHJvaWQgNC54LFxuICAvLyB0aGUgdW4tcHJlZml4ZWQgXCJhbmltYXRpb25cIiBhbmQgXCJ0cmFuc2l0aW9uXCIgcHJvcGVydGllcyBhcmUgZGVmaW5lZCBvbiB0aGVcbiAgLy8gc3R5bGUgb2JqZWN0IGJ1dCB0aGUgZXZlbnRzIHRoYXQgZmlyZSB3aWxsIHN0aWxsIGJlIHByZWZpeGVkLCBzbyB3ZSBuZWVkXG4gIC8vIHRvIGNoZWNrIGlmIHRoZSB1bi1wcmVmaXhlZCBldmVudHMgYXJlIHVzYWJsZSwgYW5kIGlmIG5vdCByZW1vdmUgdGhlbSBmcm9tIHRoZSBtYXAuXG4gIGlmICghKCdBbmltYXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25lbmQuYW5pbWF0aW9uO1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25pdGVyYXRpb24uYW5pbWF0aW9uO1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25zdGFydC5hbmltYXRpb247XG4gIH1cblxuICAvLyBTYW1lIGFzIGFib3ZlXG4gIGlmICghKCdUcmFuc2l0aW9uRXZlbnQnIGluIHdpbmRvdykpIHtcbiAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uO1xuICB9XG59XG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gZGV0ZXJtaW5lIHRoZSBjb3JyZWN0IHZlbmRvciBwcmVmaXhlZCBldmVudCBuYW1lLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKGV2ZW50TmFtZSkge1xuICBpZiAocHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV0pIHtcbiAgICByZXR1cm4gcHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV07XG4gIH0gZWxzZSBpZiAoIXZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV0pIHtcbiAgICByZXR1cm4gZXZlbnROYW1lO1xuICB9XG5cbiAgdmFyIHByZWZpeE1hcCA9IHZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV07XG5cbiAgZm9yICh2YXIgc3R5bGVQcm9wIGluIHByZWZpeE1hcCkge1xuICAgIGlmIChwcmVmaXhNYXAuaGFzT3duUHJvcGVydHkoc3R5bGVQcm9wKSAmJiBzdHlsZVByb3AgaW4gc3R5bGUpIHtcbiAgICAgIHJldHVybiBwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXSA9IHByZWZpeE1hcFtzdHlsZVByb3BdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAnJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaXNFdmVudFN1cHBvcnRlZFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcblxudmFyIHVzZUhhc0ZlYXR1cmU7XG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIHVzZUhhc0ZlYXR1cmUgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbiAmJiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlICYmXG4gIC8vIGFsd2F5cyByZXR1cm5zIHRydWUgaW4gbmV3ZXIgYnJvd3NlcnMgYXMgcGVyIHRoZSBzdGFuZGFyZC5cbiAgLy8gQHNlZSBodHRwOi8vZG9tLnNwZWMud2hhdHdnLm9yZy8jZG9tLWRvbWltcGxlbWVudGF0aW9uLWhhc2ZlYXR1cmVcbiAgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgnJywgJycpICE9PSB0cnVlO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhbiBldmVudCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgZXhlY3V0aW9uIGVudmlyb25tZW50LlxuICpcbiAqIE5PVEU6IFRoaXMgd2lsbCBub3Qgd29yayBjb3JyZWN0bHkgZm9yIG5vbi1nZW5lcmljIGV2ZW50cyBzdWNoIGFzIGBjaGFuZ2VgLFxuICogYHJlc2V0YCwgYGxvYWRgLCBgZXJyb3JgLCBhbmQgYHNlbGVjdGAuXG4gKlxuICogQm9ycm93cyBmcm9tIE1vZGVybml6ci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lU3VmZml4IEV2ZW50IG5hbWUsIGUuZy4gXCJjbGlja1wiLlxuICogQHBhcmFtIHs/Ym9vbGVhbn0gY2FwdHVyZSBDaGVjayBpZiB0aGUgY2FwdHVyZSBwaGFzZSBpcyBzdXBwb3J0ZWQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBzdXBwb3J0ZWQuXG4gKiBAaW50ZXJuYWxcbiAqIEBsaWNlbnNlIE1vZGVybml6ciAzLjAuMHByZSAoQ3VzdG9tIEJ1aWxkKSB8IE1JVFxuICovXG5mdW5jdGlvbiBpc0V2ZW50U3VwcG9ydGVkKGV2ZW50TmFtZVN1ZmZpeCwgY2FwdHVyZSkge1xuICBpZiAoIUV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSB8fCBjYXB0dXJlICYmICEoJ2FkZEV2ZW50TGlzdGVuZXInIGluIGRvY3VtZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBldmVudE5hbWUgPSAnb24nICsgZXZlbnROYW1lU3VmZml4O1xuICB2YXIgaXNTdXBwb3J0ZWQgPSBldmVudE5hbWUgaW4gZG9jdW1lbnQ7XG5cbiAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoZXZlbnROYW1lLCAncmV0dXJuOycpO1xuICAgIGlzU3VwcG9ydGVkID0gdHlwZW9mIGVsZW1lbnRbZXZlbnROYW1lXSA9PT0gJ2Z1bmN0aW9uJztcbiAgfVxuXG4gIGlmICghaXNTdXBwb3J0ZWQgJiYgdXNlSGFzRmVhdHVyZSAmJiBldmVudE5hbWVTdWZmaXggPT09ICd3aGVlbCcpIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBvbmx5IHdheSB0byB0ZXN0IHN1cHBvcnQgZm9yIHRoZSBgd2hlZWxgIGV2ZW50IGluIElFOSsuXG4gICAgaXNTdXBwb3J0ZWQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKCdFdmVudHMud2hlZWwnLCAnMy4wJyk7XG4gIH1cblxuICByZXR1cm4gaXNTdXBwb3J0ZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNFdmVudFN1cHBvcnRlZDsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG4gIHZhciBFdmVudENvbnN0YW50cyA9IHJlcXVpcmUoJy4vRXZlbnRDb25zdGFudHMnKTtcbiAgdmFyIEV2ZW50UGx1Z2luUmVnaXN0cnkgPSByZXF1aXJlKCcuL0V2ZW50UGx1Z2luUmVnaXN0cnknKTtcbiAgdmFyIFJlYWN0RXZlbnRFbWl0dGVyTWl4aW4gPSByZXF1aXJlKCcuL1JlYWN0RXZlbnRFbWl0dGVyTWl4aW4nKTtcbiAgdmFyIFZpZXdwb3J0TWV0cmljcyA9IHJlcXVpcmUoJy4vVmlld3BvcnRNZXRyaWNzJyk7XG4gIHZhciBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSA9IHJlcXVpcmUoJy4vZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUnKTtcbiAgdmFyIGlzRXZlbnRTdXBwb3J0ZWQgPSByZXF1aXJlKCcuL2lzRXZlbnRTdXBwb3J0ZWQnKTtcbiAgdmFyIGhhc0V2ZW50UGFnZVhZO1xuICB2YXIgYWxyZWFkeUxpc3RlbmluZ1RvID0ge307XG4gIHZhciBpc01vbml0b3JpbmdTY3JvbGxWYWx1ZSA9IGZhbHNlO1xuICB2YXIgcmVhY3RUb3BMaXN0ZW5lcnNDb3VudGVyID0gMDtcbiAgdmFyIHRvcEV2ZW50TWFwcGluZyA9IHtcbiAgICB0b3BBYm9ydDogJ2Fib3J0JyxcbiAgICB0b3BBbmltYXRpb25FbmQ6IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCdhbmltYXRpb25lbmQnKSB8fCAnYW5pbWF0aW9uZW5kJyxcbiAgICB0b3BBbmltYXRpb25JdGVyYXRpb246IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCdhbmltYXRpb25pdGVyYXRpb24nKSB8fCAnYW5pbWF0aW9uaXRlcmF0aW9uJyxcbiAgICB0b3BBbmltYXRpb25TdGFydDogZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoJ2FuaW1hdGlvbnN0YXJ0JykgfHwgJ2FuaW1hdGlvbnN0YXJ0JyxcbiAgICB0b3BCbHVyOiAnYmx1cicsXG4gICAgdG9wQ2FuUGxheTogJ2NhbnBsYXknLFxuICAgIHRvcENhblBsYXlUaHJvdWdoOiAnY2FucGxheXRocm91Z2gnLFxuICAgIHRvcENoYW5nZTogJ2NoYW5nZScsXG4gICAgdG9wQ2xpY2s6ICdjbGljaycsXG4gICAgdG9wQ29tcG9zaXRpb25FbmQ6ICdjb21wb3NpdGlvbmVuZCcsXG4gICAgdG9wQ29tcG9zaXRpb25TdGFydDogJ2NvbXBvc2l0aW9uc3RhcnQnLFxuICAgIHRvcENvbXBvc2l0aW9uVXBkYXRlOiAnY29tcG9zaXRpb251cGRhdGUnLFxuICAgIHRvcENvbnRleHRNZW51OiAnY29udGV4dG1lbnUnLFxuICAgIHRvcENvcHk6ICdjb3B5JyxcbiAgICB0b3BDdXQ6ICdjdXQnLFxuICAgIHRvcERvdWJsZUNsaWNrOiAnZGJsY2xpY2snLFxuICAgIHRvcERyYWc6ICdkcmFnJyxcbiAgICB0b3BEcmFnRW5kOiAnZHJhZ2VuZCcsXG4gICAgdG9wRHJhZ0VudGVyOiAnZHJhZ2VudGVyJyxcbiAgICB0b3BEcmFnRXhpdDogJ2RyYWdleGl0JyxcbiAgICB0b3BEcmFnTGVhdmU6ICdkcmFnbGVhdmUnLFxuICAgIHRvcERyYWdPdmVyOiAnZHJhZ292ZXInLFxuICAgIHRvcERyYWdTdGFydDogJ2RyYWdzdGFydCcsXG4gICAgdG9wRHJvcDogJ2Ryb3AnLFxuICAgIHRvcER1cmF0aW9uQ2hhbmdlOiAnZHVyYXRpb25jaGFuZ2UnLFxuICAgIHRvcEVtcHRpZWQ6ICdlbXB0aWVkJyxcbiAgICB0b3BFbmNyeXB0ZWQ6ICdlbmNyeXB0ZWQnLFxuICAgIHRvcEVuZGVkOiAnZW5kZWQnLFxuICAgIHRvcEVycm9yOiAnZXJyb3InLFxuICAgIHRvcEZvY3VzOiAnZm9jdXMnLFxuICAgIHRvcElucHV0OiAnaW5wdXQnLFxuICAgIHRvcEtleURvd246ICdrZXlkb3duJyxcbiAgICB0b3BLZXlQcmVzczogJ2tleXByZXNzJyxcbiAgICB0b3BLZXlVcDogJ2tleXVwJyxcbiAgICB0b3BMb2FkZWREYXRhOiAnbG9hZGVkZGF0YScsXG4gICAgdG9wTG9hZGVkTWV0YWRhdGE6ICdsb2FkZWRtZXRhZGF0YScsXG4gICAgdG9wTG9hZFN0YXJ0OiAnbG9hZHN0YXJ0JyxcbiAgICB0b3BNb3VzZURvd246ICdtb3VzZWRvd24nLFxuICAgIHRvcE1vdXNlTW92ZTogJ21vdXNlbW92ZScsXG4gICAgdG9wTW91c2VPdXQ6ICdtb3VzZW91dCcsXG4gICAgdG9wTW91c2VPdmVyOiAnbW91c2VvdmVyJyxcbiAgICB0b3BNb3VzZVVwOiAnbW91c2V1cCcsXG4gICAgdG9wUGFzdGU6ICdwYXN0ZScsXG4gICAgdG9wUGF1c2U6ICdwYXVzZScsXG4gICAgdG9wUGxheTogJ3BsYXknLFxuICAgIHRvcFBsYXlpbmc6ICdwbGF5aW5nJyxcbiAgICB0b3BQcm9ncmVzczogJ3Byb2dyZXNzJyxcbiAgICB0b3BSYXRlQ2hhbmdlOiAncmF0ZWNoYW5nZScsXG4gICAgdG9wU2Nyb2xsOiAnc2Nyb2xsJyxcbiAgICB0b3BTZWVrZWQ6ICdzZWVrZWQnLFxuICAgIHRvcFNlZWtpbmc6ICdzZWVraW5nJyxcbiAgICB0b3BTZWxlY3Rpb25DaGFuZ2U6ICdzZWxlY3Rpb25jaGFuZ2UnLFxuICAgIHRvcFN0YWxsZWQ6ICdzdGFsbGVkJyxcbiAgICB0b3BTdXNwZW5kOiAnc3VzcGVuZCcsXG4gICAgdG9wVGV4dElucHV0OiAndGV4dElucHV0JyxcbiAgICB0b3BUaW1lVXBkYXRlOiAndGltZXVwZGF0ZScsXG4gICAgdG9wVG91Y2hDYW5jZWw6ICd0b3VjaGNhbmNlbCcsXG4gICAgdG9wVG91Y2hFbmQ6ICd0b3VjaGVuZCcsXG4gICAgdG9wVG91Y2hNb3ZlOiAndG91Y2htb3ZlJyxcbiAgICB0b3BUb3VjaFN0YXJ0OiAndG91Y2hzdGFydCcsXG4gICAgdG9wVHJhbnNpdGlvbkVuZDogZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoJ3RyYW5zaXRpb25lbmQnKSB8fCAndHJhbnNpdGlvbmVuZCcsXG4gICAgdG9wVm9sdW1lQ2hhbmdlOiAndm9sdW1lY2hhbmdlJyxcbiAgICB0b3BXYWl0aW5nOiAnd2FpdGluZycsXG4gICAgdG9wV2hlZWw6ICd3aGVlbCdcbiAgfTtcbiAgdmFyIHRvcExpc3RlbmVyc0lES2V5ID0gJ19yZWFjdExpc3RlbmVyc0lEJyArIFN0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgyKTtcbiAgZnVuY3Rpb24gZ2V0TGlzdGVuaW5nRm9yRG9jdW1lbnQobW91bnRBdCkge1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vdW50QXQsIHRvcExpc3RlbmVyc0lES2V5KSkge1xuICAgICAgbW91bnRBdFt0b3BMaXN0ZW5lcnNJREtleV0gPSByZWFjdFRvcExpc3RlbmVyc0NvdW50ZXIrKztcbiAgICAgIGFscmVhZHlMaXN0ZW5pbmdUb1ttb3VudEF0W3RvcExpc3RlbmVyc0lES2V5XV0gPSB7fTtcbiAgICB9XG4gICAgcmV0dXJuIGFscmVhZHlMaXN0ZW5pbmdUb1ttb3VudEF0W3RvcExpc3RlbmVyc0lES2V5XV07XG4gIH1cbiAgdmFyIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlciA9IF9hc3NpZ24oe30sIFJlYWN0RXZlbnRFbWl0dGVyTWl4aW4sIHtcbiAgICBSZWFjdEV2ZW50TGlzdGVuZXI6IG51bGwsXG4gICAgaW5qZWN0aW9uOiB7aW5qZWN0UmVhY3RFdmVudExpc3RlbmVyOiBmdW5jdGlvbihSZWFjdEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgUmVhY3RFdmVudExpc3RlbmVyLnNldEhhbmRsZVRvcExldmVsKFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5oYW5kbGVUb3BMZXZlbCk7XG4gICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIgPSBSZWFjdEV2ZW50TGlzdGVuZXI7XG4gICAgICB9fSxcbiAgICBzZXRFbmFibGVkOiBmdW5jdGlvbihlbmFibGVkKSB7XG4gICAgICBpZiAoUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnNldEVuYWJsZWQoZW5hYmxlZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc0VuYWJsZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICEhKFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIgJiYgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci5pc0VuYWJsZWQoKSk7XG4gICAgfSxcbiAgICBsaXN0ZW5UbzogZnVuY3Rpb24ocmVnaXN0cmF0aW9uTmFtZSwgY29udGVudERvY3VtZW50SGFuZGxlKSB7XG4gICAgICB2YXIgbW91bnRBdCA9IGNvbnRlbnREb2N1bWVudEhhbmRsZTtcbiAgICAgIHZhciBpc0xpc3RlbmluZyA9IGdldExpc3RlbmluZ0ZvckRvY3VtZW50KG1vdW50QXQpO1xuICAgICAgdmFyIGRlcGVuZGVuY2llcyA9IEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgICAgIHZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBkZXBlbmRlbmN5ID0gZGVwZW5kZW5jaWVzW2ldO1xuICAgICAgICBpZiAoIShpc0xpc3RlbmluZy5oYXNPd25Qcm9wZXJ0eShkZXBlbmRlbmN5KSAmJiBpc0xpc3RlbmluZ1tkZXBlbmRlbmN5XSkpIHtcbiAgICAgICAgICBpZiAoZGVwZW5kZW5jeSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BXaGVlbCkge1xuICAgICAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ3doZWVsJykpIHtcbiAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KHRvcExldmVsVHlwZXMudG9wV2hlZWwsICd3aGVlbCcsIG1vdW50QXQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0V2ZW50U3VwcG9ydGVkKCdtb3VzZXdoZWVsJykpIHtcbiAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KHRvcExldmVsVHlwZXMudG9wV2hlZWwsICdtb3VzZXdoZWVsJywgbW91bnRBdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBCdWJibGVkRXZlbnQodG9wTGV2ZWxUeXBlcy50b3BXaGVlbCwgJ0RPTU1vdXNlU2Nyb2xsJywgbW91bnRBdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChkZXBlbmRlbmN5ID09PSB0b3BMZXZlbFR5cGVzLnRvcFNjcm9sbCkge1xuICAgICAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ3Njcm9sbCcsIHRydWUpKSB7XG4gICAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcENhcHR1cmVkRXZlbnQodG9wTGV2ZWxUeXBlcy50b3BTY3JvbGwsICdzY3JvbGwnLCBtb3VudEF0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcFNjcm9sbCwgJ3Njcm9sbCcsIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIuV0lORE9XX0hBTkRMRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChkZXBlbmRlbmN5ID09PSB0b3BMZXZlbFR5cGVzLnRvcEZvY3VzIHx8IGRlcGVuZGVuY3kgPT09IHRvcExldmVsVHlwZXMudG9wQmx1cikge1xuICAgICAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ2ZvY3VzJywgdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQ2FwdHVyZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcEZvY3VzLCAnZm9jdXMnLCBtb3VudEF0KTtcbiAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQ2FwdHVyZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcEJsdXIsICdibHVyJywgbW91bnRBdCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ2ZvY3VzaW4nKSkge1xuICAgICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBCdWJibGVkRXZlbnQodG9wTGV2ZWxUeXBlcy50b3BGb2N1cywgJ2ZvY3VzaW4nLCBtb3VudEF0KTtcbiAgICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KHRvcExldmVsVHlwZXMudG9wQmx1ciwgJ2ZvY3Vzb3V0JywgbW91bnRBdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc0xpc3RlbmluZ1t0b3BMZXZlbFR5cGVzLnRvcEJsdXJdID0gdHJ1ZTtcbiAgICAgICAgICAgIGlzTGlzdGVuaW5nW3RvcExldmVsVHlwZXMudG9wRm9jdXNdID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRvcEV2ZW50TWFwcGluZy5oYXNPd25Qcm9wZXJ0eShkZXBlbmRlbmN5KSkge1xuICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KGRlcGVuZGVuY3ksIHRvcEV2ZW50TWFwcGluZ1tkZXBlbmRlbmN5XSwgbW91bnRBdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlzTGlzdGVuaW5nW2RlcGVuZGVuY3ldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgdHJhcEJ1YmJsZWRFdmVudDogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCBoYW5kbGVyQmFzZU5hbWUsIGhhbmRsZSkge1xuICAgICAgcmV0dXJuIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgaGFuZGxlKTtcbiAgICB9LFxuICAgIHRyYXBDYXB0dXJlZEV2ZW50OiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgaGFuZGxlKSB7XG4gICAgICByZXR1cm4gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQ2FwdHVyZWRFdmVudCh0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgaGFuZGxlKTtcbiAgICB9LFxuICAgIGVuc3VyZVNjcm9sbFZhbHVlTW9uaXRvcmluZzogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoaGFzRXZlbnRQYWdlWFkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBoYXNFdmVudFBhZ2VYWSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50ICYmICdwYWdlWCcgaW4gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnQnKTtcbiAgICAgIH1cbiAgICAgIGlmICghaGFzRXZlbnRQYWdlWFkgJiYgIWlzTW9uaXRvcmluZ1Njcm9sbFZhbHVlKSB7XG4gICAgICAgIHZhciByZWZyZXNoID0gVmlld3BvcnRNZXRyaWNzLnJlZnJlc2hTY3JvbGxWYWx1ZXM7XG4gICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIubW9uaXRvclNjcm9sbFZhbHVlKHJlZnJlc2gpO1xuICAgICAgICBpc01vbml0b3JpbmdTY3JvbGxWYWx1ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXI7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgZnVuY3Rpb24gY2hlY2tNYXNrKHZhbHVlLCBiaXRtYXNrKSB7XG4gICAgcmV0dXJuICh2YWx1ZSAmIGJpdG1hc2spID09PSBiaXRtYXNrO1xuICB9XG4gIHZhciBET01Qcm9wZXJ0eUluamVjdGlvbiA9IHtcbiAgICBNVVNUX1VTRV9QUk9QRVJUWTogMHgxLFxuICAgIEhBU19TSURFX0VGRkVDVFM6IDB4MixcbiAgICBIQVNfQk9PTEVBTl9WQUxVRTogMHg0LFxuICAgIEhBU19OVU1FUklDX1ZBTFVFOiAweDgsXG4gICAgSEFTX1BPU0lUSVZFX05VTUVSSUNfVkFMVUU6IDB4MTAgfCAweDgsXG4gICAgSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRTogMHgyMCxcbiAgICBpbmplY3RET01Qcm9wZXJ0eUNvbmZpZzogZnVuY3Rpb24oZG9tUHJvcGVydHlDb25maWcpIHtcbiAgICAgIHZhciBJbmplY3Rpb24gPSBET01Qcm9wZXJ0eUluamVjdGlvbjtcbiAgICAgIHZhciBQcm9wZXJ0aWVzID0gZG9tUHJvcGVydHlDb25maWcuUHJvcGVydGllcyB8fCB7fTtcbiAgICAgIHZhciBET01BdHRyaWJ1dGVOYW1lc3BhY2VzID0gZG9tUHJvcGVydHlDb25maWcuRE9NQXR0cmlidXRlTmFtZXNwYWNlcyB8fCB7fTtcbiAgICAgIHZhciBET01BdHRyaWJ1dGVOYW1lcyA9IGRvbVByb3BlcnR5Q29uZmlnLkRPTUF0dHJpYnV0ZU5hbWVzIHx8IHt9O1xuICAgICAgdmFyIERPTVByb3BlcnR5TmFtZXMgPSBkb21Qcm9wZXJ0eUNvbmZpZy5ET01Qcm9wZXJ0eU5hbWVzIHx8IHt9O1xuICAgICAgdmFyIERPTU11dGF0aW9uTWV0aG9kcyA9IGRvbVByb3BlcnR5Q29uZmlnLkRPTU11dGF0aW9uTWV0aG9kcyB8fCB7fTtcbiAgICAgIGlmIChkb21Qcm9wZXJ0eUNvbmZpZy5pc0N1c3RvbUF0dHJpYnV0ZSkge1xuICAgICAgICBET01Qcm9wZXJ0eS5faXNDdXN0b21BdHRyaWJ1dGVGdW5jdGlvbnMucHVzaChkb21Qcm9wZXJ0eUNvbmZpZy5pc0N1c3RvbUF0dHJpYnV0ZSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBQcm9wZXJ0aWVzKSB7XG4gICAgICAgICEhRE9NUHJvcGVydHkucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnaW5qZWN0RE9NUHJvcGVydHlDb25maWcoLi4uKTogWW91XFwncmUgdHJ5aW5nIHRvIGluamVjdCBET00gcHJvcGVydHkgJyArICdcXCclc1xcJyB3aGljaCBoYXMgYWxyZWFkeSBiZWVuIGluamVjdGVkLiBZb3UgbWF5IGJlIGFjY2lkZW50YWxseSAnICsgJ2luamVjdGluZyB0aGUgc2FtZSBET00gcHJvcGVydHkgY29uZmlnIHR3aWNlLCBvciB5b3UgbWF5IGJlICcgKyAnaW5qZWN0aW5nIHR3byBjb25maWdzIHRoYXQgaGF2ZSBjb25mbGljdGluZyBwcm9wZXJ0eSBuYW1lcy4nLCBwcm9wTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICB2YXIgbG93ZXJDYXNlZCA9IHByb3BOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHZhciBwcm9wQ29uZmlnID0gUHJvcGVydGllc1twcm9wTmFtZV07XG4gICAgICAgIHZhciBwcm9wZXJ0eUluZm8gPSB7XG4gICAgICAgICAgYXR0cmlidXRlTmFtZTogbG93ZXJDYXNlZCxcbiAgICAgICAgICBhdHRyaWJ1dGVOYW1lc3BhY2U6IG51bGwsXG4gICAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wTmFtZSxcbiAgICAgICAgICBtdXRhdGlvbk1ldGhvZDogbnVsbCxcbiAgICAgICAgICBtdXN0VXNlUHJvcGVydHk6IGNoZWNrTWFzayhwcm9wQ29uZmlnLCBJbmplY3Rpb24uTVVTVF9VU0VfUFJPUEVSVFkpLFxuICAgICAgICAgIGhhc1NpZGVFZmZlY3RzOiBjaGVja01hc2socHJvcENvbmZpZywgSW5qZWN0aW9uLkhBU19TSURFX0VGRkVDVFMpLFxuICAgICAgICAgIGhhc0Jvb2xlYW5WYWx1ZTogY2hlY2tNYXNrKHByb3BDb25maWcsIEluamVjdGlvbi5IQVNfQk9PTEVBTl9WQUxVRSksXG4gICAgICAgICAgaGFzTnVtZXJpY1ZhbHVlOiBjaGVja01hc2socHJvcENvbmZpZywgSW5qZWN0aW9uLkhBU19OVU1FUklDX1ZBTFVFKSxcbiAgICAgICAgICBoYXNQb3NpdGl2ZU51bWVyaWNWYWx1ZTogY2hlY2tNYXNrKHByb3BDb25maWcsIEluamVjdGlvbi5IQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSksXG4gICAgICAgICAgaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZTogY2hlY2tNYXNrKHByb3BDb25maWcsIEluamVjdGlvbi5IQVNfT1ZFUkxPQURFRF9CT09MRUFOX1ZBTFVFKVxuICAgICAgICB9O1xuICAgICAgICAhKHByb3BlcnR5SW5mby5tdXN0VXNlUHJvcGVydHkgfHwgIXByb3BlcnR5SW5mby5oYXNTaWRlRWZmZWN0cykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRE9NUHJvcGVydHk6IFByb3BlcnRpZXMgdGhhdCBoYXZlIHNpZGUgZWZmZWN0cyBtdXN0IHVzZSBwcm9wZXJ0eTogJXMnLCBwcm9wTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAhKHByb3BlcnR5SW5mby5oYXNCb29sZWFuVmFsdWUgKyBwcm9wZXJ0eUluZm8uaGFzTnVtZXJpY1ZhbHVlICsgcHJvcGVydHlJbmZvLmhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWUgPD0gMSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRE9NUHJvcGVydHk6IFZhbHVlIGNhbiBiZSBvbmUgb2YgYm9vbGVhbiwgb3ZlcmxvYWRlZCBib29sZWFuLCBvciAnICsgJ251bWVyaWMgdmFsdWUsIGJ1dCBub3QgYSBjb21iaW5hdGlvbjogJXMnLCBwcm9wTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIERPTVByb3BlcnR5LmdldFBvc3NpYmxlU3RhbmRhcmROYW1lW2xvd2VyQ2FzZWRdID0gcHJvcE5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKERPTUF0dHJpYnV0ZU5hbWVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gRE9NQXR0cmlidXRlTmFtZXNbcHJvcE5hbWVdO1xuICAgICAgICAgIHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZTtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgRE9NUHJvcGVydHkuZ2V0UG9zc2libGVTdGFuZGFyZE5hbWVbYXR0cmlidXRlTmFtZV0gPSBwcm9wTmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKERPTUF0dHJpYnV0ZU5hbWVzcGFjZXMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgcHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWVzcGFjZSA9IERPTUF0dHJpYnV0ZU5hbWVzcGFjZXNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChET01Qcm9wZXJ0eU5hbWVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgIHByb3BlcnR5SW5mby5wcm9wZXJ0eU5hbWUgPSBET01Qcm9wZXJ0eU5hbWVzW3Byb3BOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoRE9NTXV0YXRpb25NZXRob2RzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgIHByb3BlcnR5SW5mby5tdXRhdGlvbk1ldGhvZCA9IERPTU11dGF0aW9uTWV0aG9kc1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgRE9NUHJvcGVydHkucHJvcGVydGllc1twcm9wTmFtZV0gPSBwcm9wZXJ0eUluZm87XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2YXIgQVRUUklCVVRFX05BTUVfU1RBUlRfQ0hBUiA9ICc6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEJztcbiAgdmFyIERPTVByb3BlcnR5ID0ge1xuICAgIElEX0FUVFJJQlVURV9OQU1FOiAnZGF0YS1yZWFjdGlkJyxcbiAgICBST09UX0FUVFJJQlVURV9OQU1FOiAnZGF0YS1yZWFjdHJvb3QnLFxuICAgIEFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVI6IEFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVIsXG4gICAgQVRUUklCVVRFX05BTUVfQ0hBUjogQVRUUklCVVRFX05BTUVfU1RBUlRfQ0hBUiArICdcXFxcLS4wLTlcXFxcdUI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDAnLFxuICAgIHByb3BlcnRpZXM6IHt9LFxuICAgIGdldFBvc3NpYmxlU3RhbmRhcmROYW1lOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8ge30gOiBudWxsLFxuICAgIF9pc0N1c3RvbUF0dHJpYnV0ZUZ1bmN0aW9uczogW10sXG4gICAgaXNDdXN0b21BdHRyaWJ1dGU6IGZ1bmN0aW9uKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgRE9NUHJvcGVydHkuX2lzQ3VzdG9tQXR0cmlidXRlRnVuY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpc0N1c3RvbUF0dHJpYnV0ZUZuID0gRE9NUHJvcGVydHkuX2lzQ3VzdG9tQXR0cmlidXRlRnVuY3Rpb25zW2ldO1xuICAgICAgICBpZiAoaXNDdXN0b21BdHRyaWJ1dGVGbihhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBpbmplY3Rpb246IERPTVByb3BlcnR5SW5qZWN0aW9uXG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gRE9NUHJvcGVydHk7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RE9NQ29tcG9uZW50RmxhZ3NcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdERPTUNvbXBvbmVudEZsYWdzID0ge1xuICBoYXNDYWNoZWRDaGlsZE5vZGVzOiAxIDw8IDBcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RET01Db21wb25lbnRGbGFnczsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eScpO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRGbGFncyA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRGbGFncycpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBBVFRSX05BTUUgPSBET01Qcm9wZXJ0eS5JRF9BVFRSSUJVVEVfTkFNRTtcbiAgdmFyIEZsYWdzID0gUmVhY3RET01Db21wb25lbnRGbGFncztcbiAgdmFyIGludGVybmFsSW5zdGFuY2VLZXkgPSAnX19yZWFjdEludGVybmFsSW5zdGFuY2UkJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xuICBmdW5jdGlvbiBnZXRSZW5kZXJlZE5hdGl2ZU9yVGV4dEZyb21Db21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgdmFyIHJlbmRlcmVkO1xuICAgIHdoaWxlIChyZW5kZXJlZCA9IGNvbXBvbmVudC5fcmVuZGVyZWRDb21wb25lbnQpIHtcbiAgICAgIGNvbXBvbmVudCA9IHJlbmRlcmVkO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50O1xuICB9XG4gIGZ1bmN0aW9uIHByZWNhY2hlTm9kZShpbnN0LCBub2RlKSB7XG4gICAgdmFyIG5hdGl2ZUluc3QgPSBnZXRSZW5kZXJlZE5hdGl2ZU9yVGV4dEZyb21Db21wb25lbnQoaW5zdCk7XG4gICAgbmF0aXZlSW5zdC5fbmF0aXZlTm9kZSA9IG5vZGU7XG4gICAgbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IG5hdGl2ZUluc3Q7XG4gIH1cbiAgZnVuY3Rpb24gdW5jYWNoZU5vZGUoaW5zdCkge1xuICAgIHZhciBub2RlID0gaW5zdC5fbmF0aXZlTm9kZTtcbiAgICBpZiAobm9kZSkge1xuICAgICAgZGVsZXRlIG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV07XG4gICAgICBpbnN0Ll9uYXRpdmVOb2RlID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHJlY2FjaGVDaGlsZE5vZGVzKGluc3QsIG5vZGUpIHtcbiAgICBpZiAoaW5zdC5fZmxhZ3MgJiBGbGFncy5oYXNDYWNoZWRDaGlsZE5vZGVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjaGlsZHJlbiA9IGluc3QuX3JlbmRlcmVkQ2hpbGRyZW47XG4gICAgdmFyIGNoaWxkTm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICBvdXRlcjogZm9yICh2YXIgbmFtZSBpbiBjaGlsZHJlbikge1xuICAgICAgaWYgKCFjaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBjaGlsZEluc3QgPSBjaGlsZHJlbltuYW1lXTtcbiAgICAgIHZhciBjaGlsZElEID0gZ2V0UmVuZGVyZWROYXRpdmVPclRleHRGcm9tQ29tcG9uZW50KGNoaWxkSW5zdCkuX2RvbUlEO1xuICAgICAgaWYgKGNoaWxkSUQgPT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGZvciAoOyBjaGlsZE5vZGUgIT09IG51bGw7IGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5uZXh0U2libGluZykge1xuICAgICAgICBpZiAoY2hpbGROb2RlLm5vZGVUeXBlID09PSAxICYmIGNoaWxkTm9kZS5nZXRBdHRyaWJ1dGUoQVRUUl9OQU1FKSA9PT0gU3RyaW5nKGNoaWxkSUQpIHx8IGNoaWxkTm9kZS5ub2RlVHlwZSA9PT0gOCAmJiBjaGlsZE5vZGUubm9kZVZhbHVlID09PSAnIHJlYWN0LXRleHQ6ICcgKyBjaGlsZElEICsgJyAnIHx8IGNoaWxkTm9kZS5ub2RlVHlwZSA9PT0gOCAmJiBjaGlsZE5vZGUubm9kZVZhbHVlID09PSAnIHJlYWN0LWVtcHR5OiAnICsgY2hpbGRJRCArICcgJykge1xuICAgICAgICAgIHByZWNhY2hlTm9kZShjaGlsZEluc3QsIGNoaWxkTm9kZSk7XG4gICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdVbmFibGUgdG8gZmluZCBlbGVtZW50IHdpdGggSUQgJXMuJywgY2hpbGRJRCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH1cbiAgICBpbnN0Ll9mbGFncyB8PSBGbGFncy5oYXNDYWNoZWRDaGlsZE5vZGVzO1xuICB9XG4gIGZ1bmN0aW9uIGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKG5vZGUpIHtcbiAgICBpZiAobm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSkge1xuICAgICAgcmV0dXJuIG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV07XG4gICAgfVxuICAgIHZhciBwYXJlbnRzID0gW107XG4gICAgd2hpbGUgKCFub2RlW2ludGVybmFsSW5zdGFuY2VLZXldKSB7XG4gICAgICBwYXJlbnRzLnB1c2gobm9kZSk7XG4gICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNsb3Nlc3Q7XG4gICAgdmFyIGluc3Q7XG4gICAgZm9yICg7IG5vZGUgJiYgKGluc3QgPSBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldKTsgbm9kZSA9IHBhcmVudHMucG9wKCkpIHtcbiAgICAgIGNsb3Nlc3QgPSBpbnN0O1xuICAgICAgaWYgKHBhcmVudHMubGVuZ3RoKSB7XG4gICAgICAgIHByZWNhY2hlQ2hpbGROb2RlcyhpbnN0LCBub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsb3Nlc3Q7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0SW5zdGFuY2VGcm9tTm9kZShub2RlKSB7XG4gICAgdmFyIGluc3QgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShub2RlKTtcbiAgICBpZiAoaW5zdCAhPSBudWxsICYmIGluc3QuX25hdGl2ZU5vZGUgPT09IG5vZGUpIHtcbiAgICAgIHJldHVybiBpbnN0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KSB7XG4gICAgIShpbnN0Ll9uYXRpdmVOb2RlICE9PSB1bmRlZmluZWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2dldE5vZGVGcm9tSW5zdGFuY2U6IEludmFsaWQgYXJndW1lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGlmIChpbnN0Ll9uYXRpdmVOb2RlKSB7XG4gICAgICByZXR1cm4gaW5zdC5fbmF0aXZlTm9kZTtcbiAgICB9XG4gICAgdmFyIHBhcmVudHMgPSBbXTtcbiAgICB3aGlsZSAoIWluc3QuX25hdGl2ZU5vZGUpIHtcbiAgICAgIHBhcmVudHMucHVzaChpbnN0KTtcbiAgICAgICFpbnN0Ll9uYXRpdmVQYXJlbnQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3QgRE9NIHRyZWUgcm9vdCBzaG91bGQgYWx3YXlzIGhhdmUgYSBub2RlIHJlZmVyZW5jZS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBpbnN0ID0gaW5zdC5fbmF0aXZlUGFyZW50O1xuICAgIH1cbiAgICBmb3IgKDsgcGFyZW50cy5sZW5ndGg7IGluc3QgPSBwYXJlbnRzLnBvcCgpKSB7XG4gICAgICBwcmVjYWNoZUNoaWxkTm9kZXMoaW5zdCwgaW5zdC5fbmF0aXZlTm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0Ll9uYXRpdmVOb2RlO1xuICB9XG4gIHZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSB7XG4gICAgZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGU6IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlLFxuICAgIGdldEluc3RhbmNlRnJvbU5vZGU6IGdldEluc3RhbmNlRnJvbU5vZGUsXG4gICAgZ2V0Tm9kZUZyb21JbnN0YW5jZTogZ2V0Tm9kZUZyb21JbnN0YW5jZSxcbiAgICBwcmVjYWNoZUNoaWxkTm9kZXM6IHByZWNhY2hlQ2hpbGROb2RlcyxcbiAgICBwcmVjYWNoZU5vZGU6IHByZWNhY2hlTm9kZSxcbiAgICB1bmNhY2hlTm9kZTogdW5jYWNoZU5vZGVcbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUNvbXBvbmVudFRyZWU7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciB2YWxpZGF0ZURPTU5lc3RpbmcgPSBlbXB0eUZ1bmN0aW9uO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhciBzcGVjaWFsVGFncyA9IFsnYWRkcmVzcycsICdhcHBsZXQnLCAnYXJlYScsICdhcnRpY2xlJywgJ2FzaWRlJywgJ2Jhc2UnLCAnYmFzZWZvbnQnLCAnYmdzb3VuZCcsICdibG9ja3F1b3RlJywgJ2JvZHknLCAnYnInLCAnYnV0dG9uJywgJ2NhcHRpb24nLCAnY2VudGVyJywgJ2NvbCcsICdjb2xncm91cCcsICdkZCcsICdkZXRhaWxzJywgJ2RpcicsICdkaXYnLCAnZGwnLCAnZHQnLCAnZW1iZWQnLCAnZmllbGRzZXQnLCAnZmlnY2FwdGlvbicsICdmaWd1cmUnLCAnZm9vdGVyJywgJ2Zvcm0nLCAnZnJhbWUnLCAnZnJhbWVzZXQnLCAnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnLCAnaGVhZCcsICdoZWFkZXInLCAnaGdyb3VwJywgJ2hyJywgJ2h0bWwnLCAnaWZyYW1lJywgJ2ltZycsICdpbnB1dCcsICdpc2luZGV4JywgJ2xpJywgJ2xpbmsnLCAnbGlzdGluZycsICdtYWluJywgJ21hcnF1ZWUnLCAnbWVudScsICdtZW51aXRlbScsICdtZXRhJywgJ25hdicsICdub2VtYmVkJywgJ25vZnJhbWVzJywgJ25vc2NyaXB0JywgJ29iamVjdCcsICdvbCcsICdwJywgJ3BhcmFtJywgJ3BsYWludGV4dCcsICdwcmUnLCAnc2NyaXB0JywgJ3NlY3Rpb24nLCAnc2VsZWN0JywgJ3NvdXJjZScsICdzdHlsZScsICdzdW1tYXJ5JywgJ3RhYmxlJywgJ3Rib2R5JywgJ3RkJywgJ3RlbXBsYXRlJywgJ3RleHRhcmVhJywgJ3Rmb290JywgJ3RoJywgJ3RoZWFkJywgJ3RpdGxlJywgJ3RyJywgJ3RyYWNrJywgJ3VsJywgJ3dicicsICd4bXAnXTtcbiAgICB2YXIgaW5TY29wZVRhZ3MgPSBbJ2FwcGxldCcsICdjYXB0aW9uJywgJ2h0bWwnLCAndGFibGUnLCAndGQnLCAndGgnLCAnbWFycXVlZScsICdvYmplY3QnLCAndGVtcGxhdGUnLCAnZm9yZWlnbk9iamVjdCcsICdkZXNjJywgJ3RpdGxlJ107XG4gICAgdmFyIGJ1dHRvblNjb3BlVGFncyA9IGluU2NvcGVUYWdzLmNvbmNhdChbJ2J1dHRvbiddKTtcbiAgICB2YXIgaW1wbGllZEVuZFRhZ3MgPSBbJ2RkJywgJ2R0JywgJ2xpJywgJ29wdGlvbicsICdvcHRncm91cCcsICdwJywgJ3JwJywgJ3J0J107XG4gICAgdmFyIGVtcHR5QW5jZXN0b3JJbmZvID0ge1xuICAgICAgY3VycmVudDogbnVsbCxcbiAgICAgIGZvcm1UYWc6IG51bGwsXG4gICAgICBhVGFnSW5TY29wZTogbnVsbCxcbiAgICAgIGJ1dHRvblRhZ0luU2NvcGU6IG51bGwsXG4gICAgICBub2JyVGFnSW5TY29wZTogbnVsbCxcbiAgICAgIHBUYWdJbkJ1dHRvblNjb3BlOiBudWxsLFxuICAgICAgbGlzdEl0ZW1UYWdBdXRvY2xvc2luZzogbnVsbCxcbiAgICAgIGRsSXRlbVRhZ0F1dG9jbG9zaW5nOiBudWxsXG4gICAgfTtcbiAgICB2YXIgdXBkYXRlZEFuY2VzdG9ySW5mbyA9IGZ1bmN0aW9uKG9sZEluZm8sIHRhZywgaW5zdGFuY2UpIHtcbiAgICAgIHZhciBhbmNlc3RvckluZm8gPSBfYXNzaWduKHt9LCBvbGRJbmZvIHx8IGVtcHR5QW5jZXN0b3JJbmZvKTtcbiAgICAgIHZhciBpbmZvID0ge1xuICAgICAgICB0YWc6IHRhZyxcbiAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlXG4gICAgICB9O1xuICAgICAgaWYgKGluU2NvcGVUYWdzLmluZGV4T2YodGFnKSAhPT0gLTEpIHtcbiAgICAgICAgYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlID0gbnVsbDtcbiAgICAgICAgYW5jZXN0b3JJbmZvLmJ1dHRvblRhZ0luU2NvcGUgPSBudWxsO1xuICAgICAgICBhbmNlc3RvckluZm8ubm9iclRhZ0luU2NvcGUgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGJ1dHRvblNjb3BlVGFncy5pbmRleE9mKHRhZykgIT09IC0xKSB7XG4gICAgICAgIGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZSA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoc3BlY2lhbFRhZ3MuaW5kZXhPZih0YWcpICE9PSAtMSAmJiB0YWcgIT09ICdhZGRyZXNzJyAmJiB0YWcgIT09ICdkaXYnICYmIHRhZyAhPT0gJ3AnKSB7XG4gICAgICAgIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nID0gbnVsbDtcbiAgICAgICAgYW5jZXN0b3JJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGFuY2VzdG9ySW5mby5jdXJyZW50ID0gaW5mbztcbiAgICAgIGlmICh0YWcgPT09ICdmb3JtJykge1xuICAgICAgICBhbmNlc3RvckluZm8uZm9ybVRhZyA9IGluZm87XG4gICAgICB9XG4gICAgICBpZiAodGFnID09PSAnYScpIHtcbiAgICAgICAgYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlID0gaW5mbztcbiAgICAgIH1cbiAgICAgIGlmICh0YWcgPT09ICdidXR0b24nKSB7XG4gICAgICAgIGFuY2VzdG9ySW5mby5idXR0b25UYWdJblNjb3BlID0gaW5mbztcbiAgICAgIH1cbiAgICAgIGlmICh0YWcgPT09ICdub2JyJykge1xuICAgICAgICBhbmNlc3RvckluZm8ubm9iclRhZ0luU2NvcGUgPSBpbmZvO1xuICAgICAgfVxuICAgICAgaWYgKHRhZyA9PT0gJ3AnKSB7XG4gICAgICAgIGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZSA9IGluZm87XG4gICAgICB9XG4gICAgICBpZiAodGFnID09PSAnbGknKSB7XG4gICAgICAgIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nID0gaW5mbztcbiAgICAgIH1cbiAgICAgIGlmICh0YWcgPT09ICdkZCcgfHwgdGFnID09PSAnZHQnKSB7XG4gICAgICAgIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZyA9IGluZm87XG4gICAgICB9XG4gICAgICByZXR1cm4gYW5jZXN0b3JJbmZvO1xuICAgIH07XG4gICAgdmFyIGlzVGFnVmFsaWRXaXRoUGFyZW50ID0gZnVuY3Rpb24odGFnLCBwYXJlbnRUYWcpIHtcbiAgICAgIHN3aXRjaCAocGFyZW50VGFnKSB7XG4gICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ29wdGlvbicgfHwgdGFnID09PSAnb3B0Z3JvdXAnIHx8IHRhZyA9PT0gJyN0ZXh0JztcbiAgICAgICAgY2FzZSAnb3B0Z3JvdXAnOlxuICAgICAgICAgIHJldHVybiB0YWcgPT09ICdvcHRpb24nIHx8IHRhZyA9PT0gJyN0ZXh0JztcbiAgICAgICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgICAgICByZXR1cm4gdGFnID09PSAnI3RleHQnO1xuICAgICAgICBjYXNlICd0cic6XG4gICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ3RoJyB8fCB0YWcgPT09ICd0ZCcgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgICBjYXNlICd0Ym9keSc6XG4gICAgICAgIGNhc2UgJ3RoZWFkJzpcbiAgICAgICAgY2FzZSAndGZvb3QnOlxuICAgICAgICAgIHJldHVybiB0YWcgPT09ICd0cicgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgICBjYXNlICdjb2xncm91cCc6XG4gICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2NvbCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgICBjYXNlICd0YWJsZSc6XG4gICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2NhcHRpb24nIHx8IHRhZyA9PT0gJ2NvbGdyb3VwJyB8fCB0YWcgPT09ICd0Ym9keScgfHwgdGFnID09PSAndGZvb3QnIHx8IHRhZyA9PT0gJ3RoZWFkJyB8fCB0YWcgPT09ICdzdHlsZScgfHwgdGFnID09PSAnc2NyaXB0JyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG4gICAgICAgIGNhc2UgJ2hlYWQnOlxuICAgICAgICAgIHJldHVybiB0YWcgPT09ICdiYXNlJyB8fCB0YWcgPT09ICdiYXNlZm9udCcgfHwgdGFnID09PSAnYmdzb3VuZCcgfHwgdGFnID09PSAnbGluaycgfHwgdGFnID09PSAnbWV0YScgfHwgdGFnID09PSAndGl0bGUnIHx8IHRhZyA9PT0gJ25vc2NyaXB0JyB8fCB0YWcgPT09ICdub2ZyYW1lcycgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgICByZXR1cm4gdGFnID09PSAnaGVhZCcgfHwgdGFnID09PSAnYm9keSc7XG4gICAgICAgIGNhc2UgJyNkb2N1bWVudCc6XG4gICAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2h0bWwnO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSAnaDEnOlxuICAgICAgICBjYXNlICdoMic6XG4gICAgICAgIGNhc2UgJ2gzJzpcbiAgICAgICAgY2FzZSAnaDQnOlxuICAgICAgICBjYXNlICdoNSc6XG4gICAgICAgIGNhc2UgJ2g2JzpcbiAgICAgICAgICByZXR1cm4gcGFyZW50VGFnICE9PSAnaDEnICYmIHBhcmVudFRhZyAhPT0gJ2gyJyAmJiBwYXJlbnRUYWcgIT09ICdoMycgJiYgcGFyZW50VGFnICE9PSAnaDQnICYmIHBhcmVudFRhZyAhPT0gJ2g1JyAmJiBwYXJlbnRUYWcgIT09ICdoNic7XG4gICAgICAgIGNhc2UgJ3JwJzpcbiAgICAgICAgY2FzZSAncnQnOlxuICAgICAgICAgIHJldHVybiBpbXBsaWVkRW5kVGFncy5pbmRleE9mKHBhcmVudFRhZykgPT09IC0xO1xuICAgICAgICBjYXNlICdib2R5JzpcbiAgICAgICAgY2FzZSAnY2FwdGlvbic6XG4gICAgICAgIGNhc2UgJ2NvbCc6XG4gICAgICAgIGNhc2UgJ2NvbGdyb3VwJzpcbiAgICAgICAgY2FzZSAnZnJhbWUnOlxuICAgICAgICBjYXNlICdoZWFkJzpcbiAgICAgICAgY2FzZSAnaHRtbCc6XG4gICAgICAgIGNhc2UgJ3Rib2R5JzpcbiAgICAgICAgY2FzZSAndGQnOlxuICAgICAgICBjYXNlICd0Zm9vdCc6XG4gICAgICAgIGNhc2UgJ3RoJzpcbiAgICAgICAgY2FzZSAndGhlYWQnOlxuICAgICAgICBjYXNlICd0cic6XG4gICAgICAgICAgcmV0dXJuIHBhcmVudFRhZyA9PSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICB2YXIgZmluZEludmFsaWRBbmNlc3RvckZvclRhZyA9IGZ1bmN0aW9uKHRhZywgYW5jZXN0b3JJbmZvKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlICdhZGRyZXNzJzpcbiAgICAgICAgY2FzZSAnYXJ0aWNsZSc6XG4gICAgICAgIGNhc2UgJ2FzaWRlJzpcbiAgICAgICAgY2FzZSAnYmxvY2txdW90ZSc6XG4gICAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgIGNhc2UgJ2RldGFpbHMnOlxuICAgICAgICBjYXNlICdkaWFsb2cnOlxuICAgICAgICBjYXNlICdkaXInOlxuICAgICAgICBjYXNlICdkaXYnOlxuICAgICAgICBjYXNlICdkbCc6XG4gICAgICAgIGNhc2UgJ2ZpZWxkc2V0JzpcbiAgICAgICAgY2FzZSAnZmlnY2FwdGlvbic6XG4gICAgICAgIGNhc2UgJ2ZpZ3VyZSc6XG4gICAgICAgIGNhc2UgJ2Zvb3Rlcic6XG4gICAgICAgIGNhc2UgJ2hlYWRlcic6XG4gICAgICAgIGNhc2UgJ2hncm91cCc6XG4gICAgICAgIGNhc2UgJ21haW4nOlxuICAgICAgICBjYXNlICdtZW51JzpcbiAgICAgICAgY2FzZSAnbmF2JzpcbiAgICAgICAgY2FzZSAnb2wnOlxuICAgICAgICBjYXNlICdwJzpcbiAgICAgICAgY2FzZSAnc2VjdGlvbic6XG4gICAgICAgIGNhc2UgJ3N1bW1hcnknOlxuICAgICAgICBjYXNlICd1bCc6XG4gICAgICAgIGNhc2UgJ3ByZSc6XG4gICAgICAgIGNhc2UgJ2xpc3RpbmcnOlxuICAgICAgICBjYXNlICd0YWJsZSc6XG4gICAgICAgIGNhc2UgJ2hyJzpcbiAgICAgICAgY2FzZSAneG1wJzpcbiAgICAgICAgY2FzZSAnaDEnOlxuICAgICAgICBjYXNlICdoMic6XG4gICAgICAgIGNhc2UgJ2gzJzpcbiAgICAgICAgY2FzZSAnaDQnOlxuICAgICAgICBjYXNlICdoNSc6XG4gICAgICAgIGNhc2UgJ2g2JzpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlO1xuICAgICAgICBjYXNlICdmb3JtJzpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmZvcm1UYWcgfHwgYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlO1xuICAgICAgICBjYXNlICdsaSc6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nO1xuICAgICAgICBjYXNlICdkZCc6XG4gICAgICAgIGNhc2UgJ2R0JzpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nO1xuICAgICAgICBjYXNlICdidXR0b24nOlxuICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uYnV0dG9uVGFnSW5TY29wZTtcbiAgICAgICAgY2FzZSAnYSc6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5hVGFnSW5TY29wZTtcbiAgICAgICAgY2FzZSAnbm9icic6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5ub2JyVGFnSW5TY29wZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgdmFyIGZpbmRPd25lclN0YWNrID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHN0YWNrID0gW107XG4gICAgICBkbyB7XG4gICAgICAgIHN0YWNrLnB1c2goaW5zdGFuY2UpO1xuICAgICAgfSB3aGlsZSAoaW5zdGFuY2UgPSBpbnN0YW5jZS5fY3VycmVudEVsZW1lbnQuX293bmVyKTtcbiAgICAgIHN0YWNrLnJldmVyc2UoKTtcbiAgICAgIHJldHVybiBzdGFjaztcbiAgICB9O1xuICAgIHZhciBkaWRXYXJuID0ge307XG4gICAgdmFsaWRhdGVET01OZXN0aW5nID0gZnVuY3Rpb24oY2hpbGRUYWcsIGNoaWxkSW5zdGFuY2UsIGFuY2VzdG9ySW5mbykge1xuICAgICAgYW5jZXN0b3JJbmZvID0gYW5jZXN0b3JJbmZvIHx8IGVtcHR5QW5jZXN0b3JJbmZvO1xuICAgICAgdmFyIHBhcmVudEluZm8gPSBhbmNlc3RvckluZm8uY3VycmVudDtcbiAgICAgIHZhciBwYXJlbnRUYWcgPSBwYXJlbnRJbmZvICYmIHBhcmVudEluZm8udGFnO1xuICAgICAgdmFyIGludmFsaWRQYXJlbnQgPSBpc1RhZ1ZhbGlkV2l0aFBhcmVudChjaGlsZFRhZywgcGFyZW50VGFnKSA/IG51bGwgOiBwYXJlbnRJbmZvO1xuICAgICAgdmFyIGludmFsaWRBbmNlc3RvciA9IGludmFsaWRQYXJlbnQgPyBudWxsIDogZmluZEludmFsaWRBbmNlc3RvckZvclRhZyhjaGlsZFRhZywgYW5jZXN0b3JJbmZvKTtcbiAgICAgIHZhciBwcm9ibGVtYXRpYyA9IGludmFsaWRQYXJlbnQgfHwgaW52YWxpZEFuY2VzdG9yO1xuICAgICAgaWYgKHByb2JsZW1hdGljKSB7XG4gICAgICAgIHZhciBhbmNlc3RvclRhZyA9IHByb2JsZW1hdGljLnRhZztcbiAgICAgICAgdmFyIGFuY2VzdG9ySW5zdGFuY2UgPSBwcm9ibGVtYXRpYy5pbnN0YW5jZTtcbiAgICAgICAgdmFyIGNoaWxkT3duZXIgPSBjaGlsZEluc3RhbmNlICYmIGNoaWxkSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgICAgdmFyIGFuY2VzdG9yT3duZXIgPSBhbmNlc3Rvckluc3RhbmNlICYmIGFuY2VzdG9ySW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgICAgICAgdmFyIGNoaWxkT3duZXJzID0gZmluZE93bmVyU3RhY2soY2hpbGRPd25lcik7XG4gICAgICAgIHZhciBhbmNlc3Rvck93bmVycyA9IGZpbmRPd25lclN0YWNrKGFuY2VzdG9yT3duZXIpO1xuICAgICAgICB2YXIgbWluU3RhY2tMZW4gPSBNYXRoLm1pbihjaGlsZE93bmVycy5sZW5ndGgsIGFuY2VzdG9yT3duZXJzLmxlbmd0aCk7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgZGVlcGVzdENvbW1vbiA9IC0xO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbWluU3RhY2tMZW47IGkrKykge1xuICAgICAgICAgIGlmIChjaGlsZE93bmVyc1tpXSA9PT0gYW5jZXN0b3JPd25lcnNbaV0pIHtcbiAgICAgICAgICAgIGRlZXBlc3RDb21tb24gPSBpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIFVOS05PV04gPSAnKHVua25vd24pJztcbiAgICAgICAgdmFyIGNoaWxkT3duZXJOYW1lcyA9IGNoaWxkT3duZXJzLnNsaWNlKGRlZXBlc3RDb21tb24gKyAxKS5tYXAoZnVuY3Rpb24oaW5zdCkge1xuICAgICAgICAgIHJldHVybiBpbnN0LmdldE5hbWUoKSB8fCBVTktOT1dOO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGFuY2VzdG9yT3duZXJOYW1lcyA9IGFuY2VzdG9yT3duZXJzLnNsaWNlKGRlZXBlc3RDb21tb24gKyAxKS5tYXAoZnVuY3Rpb24oaW5zdCkge1xuICAgICAgICAgIHJldHVybiBpbnN0LmdldE5hbWUoKSB8fCBVTktOT1dOO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG93bmVySW5mbyA9IFtdLmNvbmNhdChkZWVwZXN0Q29tbW9uICE9PSAtMSA/IGNoaWxkT3duZXJzW2RlZXBlc3RDb21tb25dLmdldE5hbWUoKSB8fCBVTktOT1dOIDogW10sIGFuY2VzdG9yT3duZXJOYW1lcywgYW5jZXN0b3JUYWcsIGludmFsaWRBbmNlc3RvciA/IFsnLi4uJ10gOiBbXSwgY2hpbGRPd25lck5hbWVzLCBjaGlsZFRhZykuam9pbignID4gJyk7XG4gICAgICAgIHZhciB3YXJuS2V5ID0gISFpbnZhbGlkUGFyZW50ICsgJ3wnICsgY2hpbGRUYWcgKyAnfCcgKyBhbmNlc3RvclRhZyArICd8JyArIG93bmVySW5mbztcbiAgICAgICAgaWYgKGRpZFdhcm5bd2FybktleV0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGlkV2Fyblt3YXJuS2V5XSA9IHRydWU7XG4gICAgICAgIHZhciB0YWdEaXNwbGF5TmFtZSA9IGNoaWxkVGFnO1xuICAgICAgICBpZiAoY2hpbGRUYWcgIT09ICcjdGV4dCcpIHtcbiAgICAgICAgICB0YWdEaXNwbGF5TmFtZSA9ICc8JyArIGNoaWxkVGFnICsgJz4nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnZhbGlkUGFyZW50KSB7XG4gICAgICAgICAgdmFyIGluZm8gPSAnJztcbiAgICAgICAgICBpZiAoYW5jZXN0b3JUYWcgPT09ICd0YWJsZScgJiYgY2hpbGRUYWcgPT09ICd0cicpIHtcbiAgICAgICAgICAgIGluZm8gKz0gJyBBZGQgYSA8dGJvZHk+IHRvIHlvdXIgY29kZSB0byBtYXRjaCB0aGUgRE9NIHRyZWUgZ2VuZXJhdGVkIGJ5ICcgKyAndGhlIGJyb3dzZXIuJztcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICd2YWxpZGF0ZURPTU5lc3RpbmcoLi4uKTogJXMgY2Fubm90IGFwcGVhciBhcyBhIGNoaWxkIG9mIDwlcz4uICcgKyAnU2VlICVzLiVzJywgdGFnRGlzcGxheU5hbWUsIGFuY2VzdG9yVGFnLCBvd25lckluZm8sIGluZm8pIDogdm9pZCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAndmFsaWRhdGVET01OZXN0aW5nKC4uLik6ICVzIGNhbm5vdCBhcHBlYXIgYXMgYSBkZXNjZW5kYW50IG9mICcgKyAnPCVzPi4gU2VlICVzLicsIHRhZ0Rpc3BsYXlOYW1lLCBhbmNlc3RvclRhZywgb3duZXJJbmZvKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdmFsaWRhdGVET01OZXN0aW5nLnVwZGF0ZWRBbmNlc3RvckluZm8gPSB1cGRhdGVkQW5jZXN0b3JJbmZvO1xuICAgIHZhbGlkYXRlRE9NTmVzdGluZy5pc1RhZ1ZhbGlkSW5Db250ZXh0ID0gZnVuY3Rpb24odGFnLCBhbmNlc3RvckluZm8pIHtcbiAgICAgIGFuY2VzdG9ySW5mbyA9IGFuY2VzdG9ySW5mbyB8fCBlbXB0eUFuY2VzdG9ySW5mbztcbiAgICAgIHZhciBwYXJlbnRJbmZvID0gYW5jZXN0b3JJbmZvLmN1cnJlbnQ7XG4gICAgICB2YXIgcGFyZW50VGFnID0gcGFyZW50SW5mbyAmJiBwYXJlbnRJbmZvLnRhZztcbiAgICAgIHJldHVybiBpc1RhZ1ZhbGlkV2l0aFBhcmVudCh0YWcsIHBhcmVudFRhZykgJiYgIWZpbmRJbnZhbGlkQW5jZXN0b3JGb3JUYWcodGFnLCBhbmNlc3RvckluZm8pO1xuICAgIH07XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSB2YWxpZGF0ZURPTU5lc3Rpbmc7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciB2YWxpZGF0ZURPTU5lc3RpbmcgPSByZXF1aXJlKCcuL3ZhbGlkYXRlRE9NTmVzdGluZycpO1xuICB2YXIgRE9DX05PREVfVFlQRSA9IDk7XG4gIGZ1bmN0aW9uIFJlYWN0RE9NQ29udGFpbmVySW5mbyh0b3BMZXZlbFdyYXBwZXIsIG5vZGUpIHtcbiAgICB2YXIgaW5mbyA9IHtcbiAgICAgIF90b3BMZXZlbFdyYXBwZXI6IHRvcExldmVsV3JhcHBlcixcbiAgICAgIF9pZENvdW50ZXI6IDEsXG4gICAgICBfb3duZXJEb2N1bWVudDogbm9kZSA/IG5vZGUubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUgPyBub2RlIDogbm9kZS5vd25lckRvY3VtZW50IDogbnVsbCxcbiAgICAgIF9ub2RlOiBub2RlLFxuICAgICAgX3RhZzogbm9kZSA/IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA6IG51bGwsXG4gICAgICBfbmFtZXNwYWNlVVJJOiBub2RlID8gbm9kZS5uYW1lc3BhY2VVUkkgOiBudWxsXG4gICAgfTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaW5mby5fYW5jZXN0b3JJbmZvID0gbm9kZSA/IHZhbGlkYXRlRE9NTmVzdGluZy51cGRhdGVkQW5jZXN0b3JJbmZvKG51bGwsIGluZm8uX3RhZywgbnVsbCkgOiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gaW5mbztcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NQ29udGFpbmVySW5mbztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RET01GZWF0dXJlRmxhZ3NcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdERPTUZlYXR1cmVGbGFncyA9IHtcbiAgdXNlQ3JlYXRlRWxlbWVudDogdHJ1ZVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUZlYXR1cmVGbGFnczsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgYWRsZXIzMlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIE1PRCA9IDY1NTIxO1xuXG4vLyBhZGxlcjMyIGlzIG5vdCBjcnlwdG9ncmFwaGljYWxseSBzdHJvbmcsIGFuZCBpcyBvbmx5IHVzZWQgdG8gc2FuaXR5IGNoZWNrIHRoYXRcbi8vIG1hcmt1cCBnZW5lcmF0ZWQgb24gdGhlIHNlcnZlciBtYXRjaGVzIHRoZSBtYXJrdXAgZ2VuZXJhdGVkIG9uIHRoZSBjbGllbnQuXG4vLyBUaGlzIGltcGxlbWVudGF0aW9uIChhIG1vZGlmaWVkIHZlcnNpb24gb2YgdGhlIFNoZWV0SlMgdmVyc2lvbikgaGFzIGJlZW4gb3B0aW1pemVkXG4vLyBmb3Igb3VyIHVzZSBjYXNlLCBhdCB0aGUgZXhwZW5zZSBvZiBjb25mb3JtaW5nIHRvIHRoZSBhZGxlcjMyIHNwZWNpZmljYXRpb25cbi8vIGZvciBub24tYXNjaWkgaW5wdXRzLlxuZnVuY3Rpb24gYWRsZXIzMihkYXRhKSB7XG4gIHZhciBhID0gMTtcbiAgdmFyIGIgPSAwO1xuICB2YXIgaSA9IDA7XG4gIHZhciBsID0gZGF0YS5sZW5ndGg7XG4gIHZhciBtID0gbCAmIH4weDM7XG4gIHdoaWxlIChpIDwgbSkge1xuICAgIHZhciBuID0gTWF0aC5taW4oaSArIDQwOTYsIG0pO1xuICAgIGZvciAoOyBpIDwgbjsgaSArPSA0KSB7XG4gICAgICBiICs9IChhICs9IGRhdGEuY2hhckNvZGVBdChpKSkgKyAoYSArPSBkYXRhLmNoYXJDb2RlQXQoaSArIDEpKSArIChhICs9IGRhdGEuY2hhckNvZGVBdChpICsgMikpICsgKGEgKz0gZGF0YS5jaGFyQ29kZUF0KGkgKyAzKSk7XG4gICAgfVxuICAgIGEgJT0gTU9EO1xuICAgIGIgJT0gTU9EO1xuICB9XG4gIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgYiArPSBhICs9IGRhdGEuY2hhckNvZGVBdChpKTtcbiAgfVxuICBhICU9IE1PRDtcbiAgYiAlPSBNT0Q7XG4gIHJldHVybiBhIHwgYiA8PCAxNjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhZGxlcjMyOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIGFkbGVyMzIgPSByZXF1aXJlKCcuL2FkbGVyMzInKTtcbnZhciBUQUdfRU5EID0gL1xcLz8+LztcbnZhciBDT01NRU5UX1NUQVJUID0gL148XFwhXFwtXFwtLztcbnZhciBSZWFjdE1hcmt1cENoZWNrc3VtID0ge1xuICBDSEVDS1NVTV9BVFRSX05BTUU6ICdkYXRhLXJlYWN0LWNoZWNrc3VtJyxcbiAgYWRkQ2hlY2tzdW1Ub01hcmt1cDogZnVuY3Rpb24obWFya3VwKSB7XG4gICAgdmFyIGNoZWNrc3VtID0gYWRsZXIzMihtYXJrdXApO1xuICAgIGlmIChDT01NRU5UX1NUQVJULnRlc3QobWFya3VwKSkge1xuICAgICAgcmV0dXJuIG1hcmt1cDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1hcmt1cC5yZXBsYWNlKFRBR19FTkQsICcgJyArIFJlYWN0TWFya3VwQ2hlY2tzdW0uQ0hFQ0tTVU1fQVRUUl9OQU1FICsgJz1cIicgKyBjaGVja3N1bSArICdcIiQmJyk7XG4gICAgfVxuICB9LFxuICBjYW5SZXVzZU1hcmt1cDogZnVuY3Rpb24obWFya3VwLCBlbGVtZW50KSB7XG4gICAgdmFyIGV4aXN0aW5nQ2hlY2tzdW0gPSBlbGVtZW50LmdldEF0dHJpYnV0ZShSZWFjdE1hcmt1cENoZWNrc3VtLkNIRUNLU1VNX0FUVFJfTkFNRSk7XG4gICAgZXhpc3RpbmdDaGVja3N1bSA9IGV4aXN0aW5nQ2hlY2tzdW0gJiYgcGFyc2VJbnQoZXhpc3RpbmdDaGVja3N1bSwgMTApO1xuICAgIHZhciBtYXJrdXBDaGVja3N1bSA9IGFkbGVyMzIobWFya3VwKTtcbiAgICByZXR1cm4gbWFya3VwQ2hlY2tzdW0gPT09IGV4aXN0aW5nQ2hlY2tzdW07XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0TWFya3VwQ2hlY2tzdW07XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgaW5qZWN0ZWQgPSBmYWxzZTtcbiAgdmFyIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQgPSB7XG4gICAgdW5tb3VudElERnJvbUVudmlyb25tZW50OiBudWxsLFxuICAgIHJlcGxhY2VOb2RlV2l0aE1hcmt1cDogbnVsbCxcbiAgICBwcm9jZXNzQ2hpbGRyZW5VcGRhdGVzOiBudWxsLFxuICAgIGluamVjdGlvbjoge2luamVjdEVudmlyb25tZW50OiBmdW5jdGlvbihlbnZpcm9ubWVudCkge1xuICAgICAgICAhIWluamVjdGVkID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50OiBpbmplY3RFbnZpcm9ubWVudCgpIGNhbiBvbmx5IGJlIGNhbGxlZCBvbmNlLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudC51bm1vdW50SURGcm9tRW52aXJvbm1lbnQgPSBlbnZpcm9ubWVudC51bm1vdW50SURGcm9tRW52aXJvbm1lbnQ7XG4gICAgICAgIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQucmVwbGFjZU5vZGVXaXRoTWFya3VwID0gZW52aXJvbm1lbnQucmVwbGFjZU5vZGVXaXRoTWFya3VwO1xuICAgICAgICBSZWFjdENvbXBvbmVudEVudmlyb25tZW50LnByb2Nlc3NDaGlsZHJlblVwZGF0ZXMgPSBlbnZpcm9ubWVudC5wcm9jZXNzQ2hpbGRyZW5VcGRhdGVzO1xuICAgICAgICBpbmplY3RlZCA9IHRydWU7XG4gICAgICB9fVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQ7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBjYXVnaHRFcnJvciA9IG51bGw7XG4gIGZ1bmN0aW9uIGludm9rZUd1YXJkZWRDYWxsYmFjayhuYW1lLCBmdW5jLCBhLCBiKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jKGEsIGIpO1xuICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgIGlmIChjYXVnaHRFcnJvciA9PT0gbnVsbCkge1xuICAgICAgICBjYXVnaHRFcnJvciA9IHg7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuICB2YXIgUmVhY3RFcnJvclV0aWxzID0ge1xuICAgIGludm9rZUd1YXJkZWRDYWxsYmFjazogaW52b2tlR3VhcmRlZENhbGxiYWNrLFxuICAgIGludm9rZUd1YXJkZWRDYWxsYmFja1dpdGhDYXRjaDogaW52b2tlR3VhcmRlZENhbGxiYWNrLFxuICAgIHJldGhyb3dDYXVnaHRFcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoY2F1Z2h0RXJyb3IpIHtcbiAgICAgICAgdmFyIGVycm9yID0gY2F1Z2h0RXJyb3I7XG4gICAgICAgIGNhdWdodEVycm9yID0gbnVsbDtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRpc3BhdGNoRXZlbnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciBmYWtlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3JlYWN0Jyk7XG4gICAgICBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrID0gZnVuY3Rpb24obmFtZSwgZnVuYywgYSwgYikge1xuICAgICAgICB2YXIgYm91bmRGdW5jID0gZnVuYy5iaW5kKG51bGwsIGEsIGIpO1xuICAgICAgICB2YXIgZXZ0VHlwZSA9ICdyZWFjdC0nICsgbmFtZTtcbiAgICAgICAgZmFrZU5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBib3VuZEZ1bmMsIGZhbHNlKTtcbiAgICAgICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICBldnQuaW5pdEV2ZW50KGV2dFR5cGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGZha2VOb2RlLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgICAgZmFrZU5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBib3VuZEZ1bmMsIGZhbHNlKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RFcnJvclV0aWxzO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgUmVhY3ROb2RlVHlwZXMgPSB7XG4gICAgTkFUSVZFOiAwLFxuICAgIENPTVBPU0lURTogMSxcbiAgICBFTVBUWTogMixcbiAgICBnZXRUeXBlOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICBpZiAobm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gUmVhY3ROb2RlVHlwZXMuRU1QVFk7XG4gICAgICB9IGVsc2UgaWYgKFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgICBpZiAodHlwZW9mIG5vZGUudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBSZWFjdE5vZGVUeXBlcy5DT01QT1NJVEU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFJlYWN0Tm9kZVR5cGVzLk5BVElWRTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIWZhbHNlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1VuZXhwZWN0ZWQgbm9kZTogJXMnLCBub2RlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Tm9kZVR5cGVzO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdEluc3RhbmNlTWFwXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIGBSZWFjdEluc3RhbmNlTWFwYCBtYWludGFpbnMgYSBtYXBwaW5nIGZyb20gYSBwdWJsaWMgZmFjaW5nIHN0YXRlZnVsXG4gKiBpbnN0YW5jZSAoa2V5KSBhbmQgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uICh2YWx1ZSkuIFRoaXMgYWxsb3dzIHB1YmxpY1xuICogbWV0aG9kcyB0byBhY2NlcHQgdGhlIHVzZXIgZmFjaW5nIGluc3RhbmNlIGFzIGFuIGFyZ3VtZW50IGFuZCBtYXAgdGhlbSBiYWNrXG4gKiB0byBpbnRlcm5hbCBtZXRob2RzLlxuICovXG5cbi8vIFRPRE86IFJlcGxhY2UgdGhpcyB3aXRoIEVTNjogdmFyIFJlYWN0SW5zdGFuY2VNYXAgPSBuZXcgTWFwKCk7XG5cbnZhciBSZWFjdEluc3RhbmNlTWFwID0ge1xuXG4gIC8qKlxuICAgKiBUaGlzIEFQSSBzaG91bGQgYmUgY2FsbGVkIGBkZWxldGVgIGJ1dCB3ZSdkIGhhdmUgdG8gbWFrZSBzdXJlIHRvIGFsd2F5c1xuICAgKiB0cmFuc2Zvcm0gdGhlc2UgdG8gc3RyaW5ncyBmb3IgSUUgc3VwcG9ydC4gV2hlbiB0aGlzIHRyYW5zZm9ybSBpcyBmdWxseVxuICAgKiBzdXBwb3J0ZWQgd2UgY2FuIHJlbmFtZSBpdC5cbiAgICovXG4gIHJlbW92ZTogZnVuY3Rpb24gKGtleSkge1xuICAgIGtleS5fcmVhY3RJbnRlcm5hbEluc3RhbmNlID0gdW5kZWZpbmVkO1xuICB9LFxuXG4gIGdldDogZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBrZXkuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZTtcbiAgfSxcblxuICBoYXM6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4ga2V5Ll9yZWFjdEludGVybmFsSW5zdGFuY2UgIT09IHVuZGVmaW5lZDtcbiAgfSxcblxuICBzZXQ6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAga2V5Ll9yZWFjdEludGVybmFsSW5zdGFuY2UgPSB2YWx1ZTtcbiAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0SW5zdGFuY2VNYXA7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgUG9vbGVkQ2xhc3MgPSByZXF1aXJlKCcuL1Bvb2xlZENsYXNzJyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgZnVuY3Rpb24gQ2FsbGJhY2tRdWV1ZSgpIHtcbiAgICB0aGlzLl9jYWxsYmFja3MgPSBudWxsO1xuICAgIHRoaXMuX2NvbnRleHRzID0gbnVsbDtcbiAgfVxuICBfYXNzaWduKENhbGxiYWNrUXVldWUucHJvdG90eXBlLCB7XG4gICAgZW5xdWV1ZTogZnVuY3Rpb24oY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCBbXTtcbiAgICAgIHRoaXMuX2NvbnRleHRzID0gdGhpcy5fY29udGV4dHMgfHwgW107XG4gICAgICB0aGlzLl9jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICB0aGlzLl9jb250ZXh0cy5wdXNoKGNvbnRleHQpO1xuICAgIH0sXG4gICAgbm90aWZ5QWxsOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3M7XG4gICAgICB2YXIgY29udGV4dHMgPSB0aGlzLl9jb250ZXh0cztcbiAgICAgIGlmIChjYWxsYmFja3MpIHtcbiAgICAgICAgIShjYWxsYmFja3MubGVuZ3RoID09PSBjb250ZXh0cy5sZW5ndGgpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ01pc21hdGNoZWQgbGlzdCBvZiBjb250ZXh0cyBpbiBjYWxsYmFjayBxdWV1ZScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29udGV4dHMgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNhbGxiYWNrc1tpXS5jYWxsKGNvbnRleHRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICAgICAgY29udGV4dHMubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNoZWNrcG9pbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrcyA/IHRoaXMuX2NhbGxiYWNrcy5sZW5ndGggOiAwO1xuICAgIH0sXG4gICAgcm9sbGJhY2s6IGZ1bmN0aW9uKGxlbikge1xuICAgICAgaWYgKHRoaXMuX2NhbGxiYWNrcykge1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MubGVuZ3RoID0gbGVuO1xuICAgICAgICB0aGlzLl9jb250ZXh0cy5sZW5ndGggPSBsZW47XG4gICAgICB9XG4gICAgfSxcbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9jYWxsYmFja3MgPSBudWxsO1xuICAgICAgdGhpcy5fY29udGV4dHMgPSBudWxsO1xuICAgIH0sXG4gICAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICB9KTtcbiAgUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKENhbGxiYWNrUXVldWUpO1xuICBtb2R1bGUuZXhwb3J0cyA9IENhbGxiYWNrUXVldWU7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RmVhdHVyZUZsYWdzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RGZWF0dXJlRmxhZ3MgPSB7XG4gIC8vIFdoZW4gdHJ1ZSwgY2FsbCBjb25zb2xlLnRpbWUoKSBiZWZvcmUgYW5kIC50aW1lRW5kKCkgYWZ0ZXIgZWFjaCB0b3AtbGV2ZWxcbiAgLy8gcmVuZGVyIChib3RoIGluaXRpYWwgcmVuZGVycyBhbmQgdXBkYXRlcykuIFVzZWZ1bCB3aGVuIGxvb2tpbmcgYXQgcHJvZC1tb2RlXG4gIC8vIHRpbWVsaW5lIHByb2ZpbGVzIGluIENocm9tZSwgZm9yIGV4YW1wbGUuXG4gIGxvZ1RvcExldmVsUmVuZGVyczogZmFsc2Vcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RGZWF0dXJlRmxhZ3M7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgdmFyIFJlYWN0T3duZXIgPSB7XG4gICAgaXNWYWxpZE93bmVyOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHJldHVybiAhIShvYmplY3QgJiYgdHlwZW9mIG9iamVjdC5hdHRhY2hSZWYgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iamVjdC5kZXRhY2hSZWYgPT09ICdmdW5jdGlvbicpO1xuICAgIH0sXG4gICAgYWRkQ29tcG9uZW50QXNSZWZUbzogZnVuY3Rpb24oY29tcG9uZW50LCByZWYsIG93bmVyKSB7XG4gICAgICAhUmVhY3RPd25lci5pc1ZhbGlkT3duZXIob3duZXIpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2FkZENvbXBvbmVudEFzUmVmVG8oLi4uKTogT25seSBhIFJlYWN0T3duZXIgY2FuIGhhdmUgcmVmcy4gWW91IG1pZ2h0ICcgKyAnYmUgYWRkaW5nIGEgcmVmIHRvIGEgY29tcG9uZW50IHRoYXQgd2FzIG5vdCBjcmVhdGVkIGluc2lkZSBhIGNvbXBvbmVudFxcJ3MgJyArICdgcmVuZGVyYCBtZXRob2QsIG9yIHlvdSBoYXZlIG11bHRpcGxlIGNvcGllcyBvZiBSZWFjdCBsb2FkZWQgJyArICcoZGV0YWlsczogaHR0cHM6Ly9mYi5tZS9yZWFjdC1yZWZzLW11c3QtaGF2ZS1vd25lcikuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgb3duZXIuYXR0YWNoUmVmKHJlZiwgY29tcG9uZW50KTtcbiAgICB9LFxuICAgIHJlbW92ZUNvbXBvbmVudEFzUmVmRnJvbTogZnVuY3Rpb24oY29tcG9uZW50LCByZWYsIG93bmVyKSB7XG4gICAgICAhUmVhY3RPd25lci5pc1ZhbGlkT3duZXIob3duZXIpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3JlbW92ZUNvbXBvbmVudEFzUmVmRnJvbSguLi4pOiBPbmx5IGEgUmVhY3RPd25lciBjYW4gaGF2ZSByZWZzLiBZb3UgbWlnaHQgJyArICdiZSByZW1vdmluZyBhIHJlZiB0byBhIGNvbXBvbmVudCB0aGF0IHdhcyBub3QgY3JlYXRlZCBpbnNpZGUgYSBjb21wb25lbnRcXCdzICcgKyAnYHJlbmRlcmAgbWV0aG9kLCBvciB5b3UgaGF2ZSBtdWx0aXBsZSBjb3BpZXMgb2YgUmVhY3QgbG9hZGVkICcgKyAnKGRldGFpbHM6IGh0dHBzOi8vZmIubWUvcmVhY3QtcmVmcy1tdXN0LWhhdmUtb3duZXIpLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHZhciBvd25lclB1YmxpY0luc3RhbmNlID0gb3duZXIuZ2V0UHVibGljSW5zdGFuY2UoKTtcbiAgICAgIGlmIChvd25lclB1YmxpY0luc3RhbmNlICYmIG93bmVyUHVibGljSW5zdGFuY2UucmVmc1tyZWZdID09PSBjb21wb25lbnQuZ2V0UHVibGljSW5zdGFuY2UoKSkge1xuICAgICAgICBvd25lci5kZXRhY2hSZWYocmVmKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RPd25lcjtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0T3duZXIgPSByZXF1aXJlKCcuL1JlYWN0T3duZXInKTtcbiAgdmFyIFJlYWN0UmVmID0ge307XG4gIGZ1bmN0aW9uIGF0dGFjaFJlZihyZWYsIGNvbXBvbmVudCwgb3duZXIpIHtcbiAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVmKGNvbXBvbmVudC5nZXRQdWJsaWNJbnN0YW5jZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgUmVhY3RPd25lci5hZGRDb21wb25lbnRBc1JlZlRvKGNvbXBvbmVudCwgcmVmLCBvd25lcik7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGRldGFjaFJlZihyZWYsIGNvbXBvbmVudCwgb3duZXIpIHtcbiAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVmKG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBSZWFjdE93bmVyLnJlbW92ZUNvbXBvbmVudEFzUmVmRnJvbShjb21wb25lbnQsIHJlZiwgb3duZXIpO1xuICAgIH1cbiAgfVxuICBSZWFjdFJlZi5hdHRhY2hSZWZzID0gZnVuY3Rpb24oaW5zdGFuY2UsIGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcmVmID0gZWxlbWVudC5yZWY7XG4gICAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICBhdHRhY2hSZWYocmVmLCBpbnN0YW5jZSwgZWxlbWVudC5fb3duZXIpO1xuICAgIH1cbiAgfTtcbiAgUmVhY3RSZWYuc2hvdWxkVXBkYXRlUmVmcyA9IGZ1bmN0aW9uKHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCkge1xuICAgIHZhciBwcmV2RW1wdHkgPSBwcmV2RWxlbWVudCA9PT0gbnVsbCB8fCBwcmV2RWxlbWVudCA9PT0gZmFsc2U7XG4gICAgdmFyIG5leHRFbXB0eSA9IG5leHRFbGVtZW50ID09PSBudWxsIHx8IG5leHRFbGVtZW50ID09PSBmYWxzZTtcbiAgICByZXR1cm4gKHByZXZFbXB0eSB8fCBuZXh0RW1wdHkgfHwgbmV4dEVsZW1lbnQuX293bmVyICE9PSBwcmV2RWxlbWVudC5fb3duZXIgfHwgbmV4dEVsZW1lbnQucmVmICE9PSBwcmV2RWxlbWVudC5yZWYpO1xuICB9O1xuICBSZWFjdFJlZi5kZXRhY2hSZWZzID0gZnVuY3Rpb24oaW5zdGFuY2UsIGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcmVmID0gZWxlbWVudC5yZWY7XG4gICAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICBkZXRhY2hSZWYocmVmLCBpbnN0YW5jZSwgZWxlbWVudC5fb3duZXIpO1xuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdFJlZjtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0UmVmID0gcmVxdWlyZSgnLi9SZWFjdFJlZicpO1xuICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSByZXF1aXJlKCcuL1JlYWN0SW5zdHJ1bWVudGF0aW9uJyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgZnVuY3Rpb24gYXR0YWNoUmVmcygpIHtcbiAgICBSZWFjdFJlZi5hdHRhY2hSZWZzKHRoaXMsIHRoaXMuX2N1cnJlbnRFbGVtZW50KTtcbiAgfVxuICB2YXIgUmVhY3RSZWNvbmNpbGVyID0ge1xuICAgIG1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCB0cmFuc2FjdGlvbiwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCBjb250ZXh0KSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luUmVjb25jaWxlclRpbWVyKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQsICdtb3VudENvbXBvbmVudCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgbWFya3VwID0gaW50ZXJuYWxJbnN0YW5jZS5tb3VudENvbXBvbmVudCh0cmFuc2FjdGlvbiwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCBjb250ZXh0KTtcbiAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9jdXJyZW50RWxlbWVudCAmJiBpbnRlcm5hbEluc3RhbmNlLl9jdXJyZW50RWxlbWVudC5yZWYgIT0gbnVsbCkge1xuICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKGF0dGFjaFJlZnMsIGludGVybmFsSW5zdGFuY2UpO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25FbmRSZWNvbmNpbGVyVGltZXIoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCwgJ21vdW50Q29tcG9uZW50Jyk7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTW91bnRDb21wb25lbnQoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXJrdXA7XG4gICAgfSxcbiAgICBnZXROYXRpdmVOb2RlOiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gaW50ZXJuYWxJbnN0YW5jZS5nZXROYXRpdmVOb2RlKCk7XG4gICAgfSxcbiAgICB1bm1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCBzYWZlbHkpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5SZWNvbmNpbGVyVGltZXIoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCwgJ3VubW91bnRDb21wb25lbnQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgUmVhY3RSZWYuZGV0YWNoUmVmcyhpbnRlcm5hbEluc3RhbmNlLCBpbnRlcm5hbEluc3RhbmNlLl9jdXJyZW50RWxlbWVudCk7XG4gICAgICBpbnRlcm5hbEluc3RhbmNlLnVubW91bnRDb21wb25lbnQoc2FmZWx5KTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kUmVjb25jaWxlclRpbWVyKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQsICd1bm1vdW50Q29tcG9uZW50Jyk7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uVW5tb3VudENvbXBvbmVudChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgcmVjZWl2ZUNvbXBvbmVudDogZnVuY3Rpb24oaW50ZXJuYWxJbnN0YW5jZSwgbmV4dEVsZW1lbnQsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcHJldkVsZW1lbnQgPSBpbnRlcm5hbEluc3RhbmNlLl9jdXJyZW50RWxlbWVudDtcbiAgICAgIGlmIChuZXh0RWxlbWVudCA9PT0gcHJldkVsZW1lbnQgJiYgY29udGV4dCA9PT0gaW50ZXJuYWxJbnN0YW5jZS5fY29udGV4dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luUmVjb25jaWxlclRpbWVyKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQsICdyZWNlaXZlQ29tcG9uZW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciByZWZzQ2hhbmdlZCA9IFJlYWN0UmVmLnNob3VsZFVwZGF0ZVJlZnMocHJldkVsZW1lbnQsIG5leHRFbGVtZW50KTtcbiAgICAgIGlmIChyZWZzQ2hhbmdlZCkge1xuICAgICAgICBSZWFjdFJlZi5kZXRhY2hSZWZzKGludGVybmFsSW5zdGFuY2UsIHByZXZFbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGludGVybmFsSW5zdGFuY2UucmVjZWl2ZUNvbXBvbmVudChuZXh0RWxlbWVudCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgaWYgKHJlZnNDaGFuZ2VkICYmIGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50ICYmIGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50LnJlZiAhPSBudWxsKSB7XG4gICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoYXR0YWNoUmVmcywgaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZFJlY29uY2lsZXJUaW1lcihpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lELCAncmVjZWl2ZUNvbXBvbmVudCcpO1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblVwZGF0ZUNvbXBvbmVudChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgcGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCB0cmFuc2FjdGlvbiwgdXBkYXRlQmF0Y2hOdW1iZXIpIHtcbiAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl91cGRhdGVCYXRjaE51bWJlciAhPT0gdXBkYXRlQmF0Y2hOdW1iZXIpIHtcbiAgICAgICAgIShpbnRlcm5hbEluc3RhbmNlLl91cGRhdGVCYXRjaE51bWJlciA9PSBudWxsIHx8IGludGVybmFsSW5zdGFuY2UuX3VwZGF0ZUJhdGNoTnVtYmVyID09PSB1cGRhdGVCYXRjaE51bWJlciArIDEpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3BlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeTogVW5leHBlY3RlZCBiYXRjaCBudW1iZXIgKGN1cnJlbnQgJXMsICcgKyAncGVuZGluZyAlcyknLCB1cGRhdGVCYXRjaE51bWJlciwgaW50ZXJuYWxJbnN0YW5jZS5fdXBkYXRlQmF0Y2hOdW1iZXIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpblJlY29uY2lsZXJUaW1lcihpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lELCAncGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGludGVybmFsSW5zdGFuY2UucGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5KHRyYW5zYWN0aW9uKTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kUmVjb25jaWxlclRpbWVyKGludGVybmFsSW5zdGFuY2UuX2RlYnVnSUQsICdwZXJmb3JtVXBkYXRlSWZOZWNlc3NhcnknKTtcbiAgICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25VcGRhdGVDb21wb25lbnQoaW50ZXJuYWxJbnN0YW5jZS5fZGVidWdJRCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RSZWNvbmNpbGVyO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBNaXhpbiA9IHtcbiAgICByZWluaXRpYWxpemVUcmFuc2FjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnRyYW5zYWN0aW9uV3JhcHBlcnMgPSB0aGlzLmdldFRyYW5zYWN0aW9uV3JhcHBlcnMoKTtcbiAgICAgIGlmICh0aGlzLndyYXBwZXJJbml0RGF0YSkge1xuICAgICAgICB0aGlzLndyYXBwZXJJbml0RGF0YS5sZW5ndGggPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy53cmFwcGVySW5pdERhdGEgPSBbXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2lzSW5UcmFuc2FjdGlvbiA9IGZhbHNlO1xuICAgIH0sXG4gICAgX2lzSW5UcmFuc2FjdGlvbjogZmFsc2UsXG4gICAgZ2V0VHJhbnNhY3Rpb25XcmFwcGVyczogbnVsbCxcbiAgICBpc0luVHJhbnNhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICEhdGhpcy5faXNJblRyYW5zYWN0aW9uO1xuICAgIH0sXG4gICAgcGVyZm9ybTogZnVuY3Rpb24obWV0aG9kLCBzY29wZSwgYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgISF0aGlzLmlzSW5UcmFuc2FjdGlvbigpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1RyYW5zYWN0aW9uLnBlcmZvcm0oLi4uKTogQ2Fubm90IGluaXRpYWxpemUgYSB0cmFuc2FjdGlvbiB3aGVuIHRoZXJlICcgKyAnaXMgYWxyZWFkeSBhbiBvdXRzdGFuZGluZyB0cmFuc2FjdGlvbi4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgZXJyb3JUaHJvd247XG4gICAgICB2YXIgcmV0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5faXNJblRyYW5zYWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgZXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVBbGwoMCk7XG4gICAgICAgIHJldCA9IG1ldGhvZC5jYWxsKHNjb3BlLCBhLCBiLCBjLCBkLCBlLCBmKTtcbiAgICAgICAgZXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB0aGlzLmNsb3NlQWxsKDApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlQWxsKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0aGlzLl9pc0luVHJhbnNhY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuICAgIGluaXRpYWxpemVBbGw6IGZ1bmN0aW9uKHN0YXJ0SW5kZXgpIHtcbiAgICAgIHZhciB0cmFuc2FjdGlvbldyYXBwZXJzID0gdGhpcy50cmFuc2FjdGlvbldyYXBwZXJzO1xuICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXg7IGkgPCB0cmFuc2FjdGlvbldyYXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0gdHJhbnNhY3Rpb25XcmFwcGVyc1tpXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLndyYXBwZXJJbml0RGF0YVtpXSA9IFRyYW5zYWN0aW9uLk9CU0VSVkVEX0VSUk9SO1xuICAgICAgICAgIHRoaXMud3JhcHBlckluaXREYXRhW2ldID0gd3JhcHBlci5pbml0aWFsaXplID8gd3JhcHBlci5pbml0aWFsaXplLmNhbGwodGhpcykgOiBudWxsO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmICh0aGlzLndyYXBwZXJJbml0RGF0YVtpXSA9PT0gVHJhbnNhY3Rpb24uT0JTRVJWRURfRVJST1IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUFsbChpICsgMSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHt9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjbG9zZUFsbDogZnVuY3Rpb24oc3RhcnRJbmRleCkge1xuICAgICAgIXRoaXMuaXNJblRyYW5zYWN0aW9uKCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnVHJhbnNhY3Rpb24uY2xvc2VBbGwoKTogQ2Fubm90IGNsb3NlIHRyYW5zYWN0aW9uIHdoZW4gbm9uZSBhcmUgb3Blbi4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgdHJhbnNhY3Rpb25XcmFwcGVycyA9IHRoaXMudHJhbnNhY3Rpb25XcmFwcGVycztcbiAgICAgIGZvciAodmFyIGkgPSBzdGFydEluZGV4OyBpIDwgdHJhbnNhY3Rpb25XcmFwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgd3JhcHBlciA9IHRyYW5zYWN0aW9uV3JhcHBlcnNbaV07XG4gICAgICAgIHZhciBpbml0RGF0YSA9IHRoaXMud3JhcHBlckluaXREYXRhW2ldO1xuICAgICAgICB2YXIgZXJyb3JUaHJvd247XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgIGlmIChpbml0RGF0YSAhPT0gVHJhbnNhY3Rpb24uT0JTRVJWRURfRVJST1IgJiYgd3JhcHBlci5jbG9zZSkge1xuICAgICAgICAgICAgd3JhcHBlci5jbG9zZS5jYWxsKHRoaXMsIGluaXREYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHRoaXMuY2xvc2VBbGwoaSArIDEpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMud3JhcHBlckluaXREYXRhLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9O1xuICB2YXIgVHJhbnNhY3Rpb24gPSB7XG4gICAgTWl4aW46IE1peGluLFxuICAgIE9CU0VSVkVEX0VSUk9SOiB7fVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFRyYW5zYWN0aW9uO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbiAgdmFyIENhbGxiYWNrUXVldWUgPSByZXF1aXJlKCcuL0NhbGxiYWNrUXVldWUnKTtcbiAgdmFyIFBvb2xlZENsYXNzID0gcmVxdWlyZSgnLi9Qb29sZWRDbGFzcycpO1xuICB2YXIgUmVhY3RGZWF0dXJlRmxhZ3MgPSByZXF1aXJlKCcuL1JlYWN0RmVhdHVyZUZsYWdzJyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIFJlYWN0UmVjb25jaWxlciA9IHJlcXVpcmUoJy4vUmVhY3RSZWNvbmNpbGVyJyk7XG4gIHZhciBUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vVHJhbnNhY3Rpb24nKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgZGlydHlDb21wb25lbnRzID0gW107XG4gIHZhciB1cGRhdGVCYXRjaE51bWJlciA9IDA7XG4gIHZhciBhc2FwQ2FsbGJhY2tRdWV1ZSA9IENhbGxiYWNrUXVldWUuZ2V0UG9vbGVkKCk7XG4gIHZhciBhc2FwRW5xdWV1ZWQgPSBmYWxzZTtcbiAgdmFyIGJhdGNoaW5nU3RyYXRlZ3kgPSBudWxsO1xuICBmdW5jdGlvbiBlbnN1cmVJbmplY3RlZCgpIHtcbiAgICAhKFJlYWN0VXBkYXRlcy5SZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uICYmIGJhdGNoaW5nU3RyYXRlZ3kpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlczogbXVzdCBpbmplY3QgYSByZWNvbmNpbGUgdHJhbnNhY3Rpb24gY2xhc3MgYW5kIGJhdGNoaW5nICcgKyAnc3RyYXRlZ3knKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIH1cbiAgdmFyIE5FU1RFRF9VUERBVEVTID0ge1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kaXJ0eUNvbXBvbmVudHNMZW5ndGggPSBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoO1xuICAgIH0sXG4gICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuZGlydHlDb21wb25lbnRzTGVuZ3RoICE9PSBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICAgIGRpcnR5Q29tcG9uZW50cy5zcGxpY2UoMCwgdGhpcy5kaXJ0eUNvbXBvbmVudHNMZW5ndGgpO1xuICAgICAgICBmbHVzaEJhdGNoZWRVcGRhdGVzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBVUERBVEVfUVVFVUVJTkcgPSB7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNhbGxiYWNrUXVldWUucmVzZXQoKTtcbiAgICB9LFxuICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuY2FsbGJhY2tRdWV1ZS5ub3RpZnlBbGwoKTtcbiAgICB9XG4gIH07XG4gIHZhciBUUkFOU0FDVElPTl9XUkFQUEVSUyA9IFtORVNURURfVVBEQVRFUywgVVBEQVRFX1FVRVVFSU5HXTtcbiAgZnVuY3Rpb24gUmVhY3RVcGRhdGVzRmx1c2hUcmFuc2FjdGlvbigpIHtcbiAgICB0aGlzLnJlaW5pdGlhbGl6ZVRyYW5zYWN0aW9uKCk7XG4gICAgdGhpcy5kaXJ0eUNvbXBvbmVudHNMZW5ndGggPSBudWxsO1xuICAgIHRoaXMuY2FsbGJhY2tRdWV1ZSA9IENhbGxiYWNrUXVldWUuZ2V0UG9vbGVkKCk7XG4gICAgdGhpcy5yZWNvbmNpbGVUcmFuc2FjdGlvbiA9IFJlYWN0VXBkYXRlcy5SZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uLmdldFBvb2xlZCh0cnVlKTtcbiAgfVxuICBfYXNzaWduKFJlYWN0VXBkYXRlc0ZsdXNoVHJhbnNhY3Rpb24ucHJvdG90eXBlLCBUcmFuc2FjdGlvbi5NaXhpbiwge1xuICAgIGdldFRyYW5zYWN0aW9uV3JhcHBlcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFRSQU5TQUNUSU9OX1dSQVBQRVJTO1xuICAgIH0sXG4gICAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRpcnR5Q29tcG9uZW50c0xlbmd0aCA9IG51bGw7XG4gICAgICBDYWxsYmFja1F1ZXVlLnJlbGVhc2UodGhpcy5jYWxsYmFja1F1ZXVlKTtcbiAgICAgIHRoaXMuY2FsbGJhY2tRdWV1ZSA9IG51bGw7XG4gICAgICBSZWFjdFVwZGF0ZXMuUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbi5yZWxlYXNlKHRoaXMucmVjb25jaWxlVHJhbnNhY3Rpb24pO1xuICAgICAgdGhpcy5yZWNvbmNpbGVUcmFuc2FjdGlvbiA9IG51bGw7XG4gICAgfSxcbiAgICBwZXJmb3JtOiBmdW5jdGlvbihtZXRob2QsIHNjb3BlLCBhKSB7XG4gICAgICByZXR1cm4gVHJhbnNhY3Rpb24uTWl4aW4ucGVyZm9ybS5jYWxsKHRoaXMsIHRoaXMucmVjb25jaWxlVHJhbnNhY3Rpb24ucGVyZm9ybSwgdGhpcy5yZWNvbmNpbGVUcmFuc2FjdGlvbiwgbWV0aG9kLCBzY29wZSwgYSk7XG4gICAgfVxuICB9KTtcbiAgUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKFJlYWN0VXBkYXRlc0ZsdXNoVHJhbnNhY3Rpb24pO1xuICBmdW5jdGlvbiBiYXRjaGVkVXBkYXRlcyhjYWxsYmFjaywgYSwgYiwgYywgZCwgZSkge1xuICAgIGVuc3VyZUluamVjdGVkKCk7XG4gICAgYmF0Y2hpbmdTdHJhdGVneS5iYXRjaGVkVXBkYXRlcyhjYWxsYmFjaywgYSwgYiwgYywgZCwgZSk7XG4gIH1cbiAgZnVuY3Rpb24gbW91bnRPcmRlckNvbXBhcmF0b3IoYzEsIGMyKSB7XG4gICAgcmV0dXJuIGMxLl9tb3VudE9yZGVyIC0gYzIuX21vdW50T3JkZXI7XG4gIH1cbiAgZnVuY3Rpb24gcnVuQmF0Y2hlZFVwZGF0ZXModHJhbnNhY3Rpb24pIHtcbiAgICB2YXIgbGVuID0gdHJhbnNhY3Rpb24uZGlydHlDb21wb25lbnRzTGVuZ3RoO1xuICAgICEobGVuID09PSBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBmbHVzaCB0cmFuc2FjdGlvblxcJ3Mgc3RvcmVkIGRpcnR5LWNvbXBvbmVudHMgbGVuZ3RoICglcykgdG8gJyArICdtYXRjaCBkaXJ0eS1jb21wb25lbnRzIGFycmF5IGxlbmd0aCAoJXMpLicsIGxlbiwgZGlydHlDb21wb25lbnRzLmxlbmd0aCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGRpcnR5Q29tcG9uZW50cy5zb3J0KG1vdW50T3JkZXJDb21wYXJhdG9yKTtcbiAgICB1cGRhdGVCYXRjaE51bWJlcisrO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBjb21wb25lbnQgPSBkaXJ0eUNvbXBvbmVudHNbaV07XG4gICAgICB2YXIgY2FsbGJhY2tzID0gY29tcG9uZW50Ll9wZW5kaW5nQ2FsbGJhY2tzO1xuICAgICAgY29tcG9uZW50Ll9wZW5kaW5nQ2FsbGJhY2tzID0gbnVsbDtcbiAgICAgIHZhciBtYXJrZXJOYW1lO1xuICAgICAgaWYgKFJlYWN0RmVhdHVyZUZsYWdzLmxvZ1RvcExldmVsUmVuZGVycykge1xuICAgICAgICB2YXIgbmFtZWRDb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgIGlmIChjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50LnByb3BzID09PSBjb21wb25lbnQuX3JlbmRlcmVkQ29tcG9uZW50Ll9jdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgIG5hbWVkQ29tcG9uZW50ID0gY29tcG9uZW50Ll9yZW5kZXJlZENvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgICBtYXJrZXJOYW1lID0gJ1JlYWN0IHVwZGF0ZTogJyArIG5hbWVkQ29tcG9uZW50LmdldE5hbWUoKTtcbiAgICAgICAgY29uc29sZS50aW1lKG1hcmtlck5hbWUpO1xuICAgICAgfVxuICAgICAgUmVhY3RSZWNvbmNpbGVyLnBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeShjb21wb25lbnQsIHRyYW5zYWN0aW9uLnJlY29uY2lsZVRyYW5zYWN0aW9uLCB1cGRhdGVCYXRjaE51bWJlcik7XG4gICAgICBpZiAobWFya2VyTmFtZSkge1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQobWFya2VyTmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2FsbGJhY2tzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdHJhbnNhY3Rpb24uY2FsbGJhY2tRdWV1ZS5lbnF1ZXVlKGNhbGxiYWNrc1tqXSwgY29tcG9uZW50LmdldFB1YmxpY0luc3RhbmNlKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhciBmbHVzaEJhdGNoZWRVcGRhdGVzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luRmx1c2goKTtcbiAgICB9XG4gICAgd2hpbGUgKGRpcnR5Q29tcG9uZW50cy5sZW5ndGggfHwgYXNhcEVucXVldWVkKSB7XG4gICAgICBpZiAoZGlydHlDb21wb25lbnRzLmxlbmd0aCkge1xuICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSBSZWFjdFVwZGF0ZXNGbHVzaFRyYW5zYWN0aW9uLmdldFBvb2xlZCgpO1xuICAgICAgICB0cmFuc2FjdGlvbi5wZXJmb3JtKHJ1bkJhdGNoZWRVcGRhdGVzLCBudWxsLCB0cmFuc2FjdGlvbik7XG4gICAgICAgIFJlYWN0VXBkYXRlc0ZsdXNoVHJhbnNhY3Rpb24ucmVsZWFzZSh0cmFuc2FjdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAoYXNhcEVucXVldWVkKSB7XG4gICAgICAgIGFzYXBFbnF1ZXVlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgcXVldWUgPSBhc2FwQ2FsbGJhY2tRdWV1ZTtcbiAgICAgICAgYXNhcENhbGxiYWNrUXVldWUgPSBDYWxsYmFja1F1ZXVlLmdldFBvb2xlZCgpO1xuICAgICAgICBxdWV1ZS5ub3RpZnlBbGwoKTtcbiAgICAgICAgQ2FsbGJhY2tRdWV1ZS5yZWxlYXNlKHF1ZXVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZEZsdXNoKCk7XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBlbnF1ZXVlVXBkYXRlKGNvbXBvbmVudCkge1xuICAgIGVuc3VyZUluamVjdGVkKCk7XG4gICAgaWYgKCFiYXRjaGluZ1N0cmF0ZWd5LmlzQmF0Y2hpbmdVcGRhdGVzKSB7XG4gICAgICBiYXRjaGluZ1N0cmF0ZWd5LmJhdGNoZWRVcGRhdGVzKGVucXVldWVVcGRhdGUsIGNvbXBvbmVudCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRpcnR5Q29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgaWYgKGNvbXBvbmVudC5fdXBkYXRlQmF0Y2hOdW1iZXIgPT0gbnVsbCkge1xuICAgICAgY29tcG9uZW50Ll91cGRhdGVCYXRjaE51bWJlciA9IHVwZGF0ZUJhdGNoTnVtYmVyICsgMTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgY29udGV4dCkge1xuICAgICFiYXRjaGluZ1N0cmF0ZWd5LmlzQmF0Y2hpbmdVcGRhdGVzID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlcy5hc2FwOiBDYW5cXCd0IGVucXVldWUgYW4gYXNhcCBjYWxsYmFjayBpbiBhIGNvbnRleHQgd2hlcmUnICsgJ3VwZGF0ZXMgYXJlIG5vdCBiZWluZyBiYXRjaGVkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBhc2FwQ2FsbGJhY2tRdWV1ZS5lbnF1ZXVlKGNhbGxiYWNrLCBjb250ZXh0KTtcbiAgICBhc2FwRW5xdWV1ZWQgPSB0cnVlO1xuICB9XG4gIHZhciBSZWFjdFVwZGF0ZXNJbmplY3Rpb24gPSB7XG4gICAgaW5qZWN0UmVjb25jaWxlVHJhbnNhY3Rpb246IGZ1bmN0aW9uKFJlY29uY2lsZVRyYW5zYWN0aW9uKSB7XG4gICAgICAhUmVjb25jaWxlVHJhbnNhY3Rpb24gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RVcGRhdGVzOiBtdXN0IHByb3ZpZGUgYSByZWNvbmNpbGUgdHJhbnNhY3Rpb24gY2xhc3MnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBSZWFjdFVwZGF0ZXMuUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbiA9IFJlY29uY2lsZVRyYW5zYWN0aW9uO1xuICAgIH0sXG4gICAgaW5qZWN0QmF0Y2hpbmdTdHJhdGVneTogZnVuY3Rpb24oX2JhdGNoaW5nU3RyYXRlZ3kpIHtcbiAgICAgICFfYmF0Y2hpbmdTdHJhdGVneSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdFVwZGF0ZXM6IG11c3QgcHJvdmlkZSBhIGJhdGNoaW5nIHN0cmF0ZWd5JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgISh0eXBlb2YgX2JhdGNoaW5nU3RyYXRlZ3kuYmF0Y2hlZFVwZGF0ZXMgPT09ICdmdW5jdGlvbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlczogbXVzdCBwcm92aWRlIGEgYmF0Y2hlZFVwZGF0ZXMoKSBmdW5jdGlvbicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICEodHlwZW9mIF9iYXRjaGluZ1N0cmF0ZWd5LmlzQmF0Y2hpbmdVcGRhdGVzID09PSAnYm9vbGVhbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlczogbXVzdCBwcm92aWRlIGFuIGlzQmF0Y2hpbmdVcGRhdGVzIGJvb2xlYW4gYXR0cmlidXRlJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgYmF0Y2hpbmdTdHJhdGVneSA9IF9iYXRjaGluZ1N0cmF0ZWd5O1xuICAgIH1cbiAgfTtcbiAgdmFyIFJlYWN0VXBkYXRlcyA9IHtcbiAgICBSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uOiBudWxsLFxuICAgIGJhdGNoZWRVcGRhdGVzOiBiYXRjaGVkVXBkYXRlcyxcbiAgICBlbnF1ZXVlVXBkYXRlOiBlbnF1ZXVlVXBkYXRlLFxuICAgIGZsdXNoQmF0Y2hlZFVwZGF0ZXM6IGZsdXNoQmF0Y2hlZFVwZGF0ZXMsXG4gICAgaW5qZWN0aW9uOiBSZWFjdFVwZGF0ZXNJbmplY3Rpb24sXG4gICAgYXNhcDogYXNhcFxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0VXBkYXRlcztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gcmVxdWlyZSgnLi9SZWFjdEN1cnJlbnRPd25lcicpO1xuICB2YXIgUmVhY3RJbnN0YW5jZU1hcCA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0YW5jZU1hcCcpO1xuICB2YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZSgnLi9SZWFjdFVwZGF0ZXMnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgZnVuY3Rpb24gZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgUmVhY3RVcGRhdGVzLmVucXVldWVVcGRhdGUoaW50ZXJuYWxJbnN0YW5jZSk7XG4gIH1cbiAgZnVuY3Rpb24gZm9ybWF0VW5leHBlY3RlZEFyZ3VtZW50KGFyZykge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIGFyZztcbiAgICBpZiAodHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgICB2YXIgZGlzcGxheU5hbWUgPSBhcmcuY29uc3RydWN0b3IgJiYgYXJnLmNvbnN0cnVjdG9yLm5hbWUgfHwgdHlwZTtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFyZyk7XG4gICAgaWYgKGtleXMubGVuZ3RoID4gMCAmJiBrZXlzLmxlbmd0aCA8IDIwKSB7XG4gICAgICByZXR1cm4gZGlzcGxheU5hbWUgKyAnIChrZXlzOiAnICsga2V5cy5qb2luKCcsICcpICsgJyknO1xuICAgIH1cbiAgICByZXR1cm4gZGlzcGxheU5hbWU7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0SW50ZXJuYWxJbnN0YW5jZVJlYWR5Rm9yVXBkYXRlKHB1YmxpY0luc3RhbmNlLCBjYWxsZXJOYW1lKSB7XG4gICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBSZWFjdEluc3RhbmNlTWFwLmdldChwdWJsaWNJbnN0YW5jZSk7XG4gICAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghY2FsbGVyTmFtZSwgJyVzKC4uLik6IENhbiBvbmx5IHVwZGF0ZSBhIG1vdW50ZWQgb3IgbW91bnRpbmcgY29tcG9uZW50LiAnICsgJ1RoaXMgdXN1YWxseSBtZWFucyB5b3UgY2FsbGVkICVzKCkgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4gJyArICdUaGlzIGlzIGEgbm8tb3AuIFBsZWFzZSBjaGVjayB0aGUgY29kZSBmb3IgdGhlICVzIGNvbXBvbmVudC4nLCBjYWxsZXJOYW1lLCBjYWxsZXJOYW1lLCBwdWJsaWNJbnN0YW5jZS5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSkgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPT0gbnVsbCwgJyVzKC4uLik6IENhbm5vdCB1cGRhdGUgZHVyaW5nIGFuIGV4aXN0aW5nIHN0YXRlIHRyYW5zaXRpb24gKHN1Y2ggYXMgJyArICd3aXRoaW4gYHJlbmRlcmAgb3IgYW5vdGhlciBjb21wb25lbnRcXCdzIGNvbnN0cnVjdG9yKS4gUmVuZGVyIG1ldGhvZHMgJyArICdzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uIG9mIHByb3BzIGFuZCBzdGF0ZTsgY29uc3RydWN0b3IgJyArICdzaWRlLWVmZmVjdHMgYXJlIGFuIGFudGktcGF0dGVybiwgYnV0IGNhbiBiZSBtb3ZlZCB0byAnICsgJ2Bjb21wb25lbnRXaWxsTW91bnRgLicsIGNhbGxlck5hbWUpIDogdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gaW50ZXJuYWxJbnN0YW5jZTtcbiAgfVxuICB2YXIgUmVhY3RVcGRhdGVRdWV1ZSA9IHtcbiAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YXIgb3duZXIgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50O1xuICAgICAgICBpZiAob3duZXIgIT09IG51bGwpIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhvd25lci5fd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIsICclcyBpcyBhY2Nlc3NpbmcgaXNNb3VudGVkIGluc2lkZSBpdHMgcmVuZGVyKCkgZnVuY3Rpb24uICcgKyAncmVuZGVyKCkgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuIEl0IHNob3VsZCAnICsgJ25ldmVyIGFjY2VzcyBzb21ldGhpbmcgdGhhdCByZXF1aXJlcyBzdGFsZSBkYXRhIGZyb20gdGhlIHByZXZpb3VzICcgKyAncmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgJyArICdjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4nLCBvd25lci5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgb3duZXIuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBSZWFjdEluc3RhbmNlTWFwLmdldChwdWJsaWNJbnN0YW5jZSk7XG4gICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICByZXR1cm4gISFpbnRlcm5hbEluc3RhbmNlLl9yZW5kZXJlZENvbXBvbmVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVucXVldWVDYWxsYmFjazogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgICBSZWFjdFVwZGF0ZVF1ZXVlLnZhbGlkYXRlQ2FsbGJhY2soY2FsbGJhY2ssIGNhbGxlck5hbWUpO1xuICAgICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBnZXRJbnRlcm5hbEluc3RhbmNlUmVhZHlGb3JVcGRhdGUocHVibGljSW5zdGFuY2UpO1xuICAgICAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MpIHtcbiAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MgPSBbY2FsbGJhY2tdO1xuICAgICAgfVxuICAgICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgICB9LFxuICAgIGVucXVldWVDYWxsYmFja0ludGVybmFsOiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MpIHtcbiAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MgPSBbY2FsbGJhY2tdO1xuICAgICAgfVxuICAgICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgICB9LFxuICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UpIHtcbiAgICAgIHZhciBpbnRlcm5hbEluc3RhbmNlID0gZ2V0SW50ZXJuYWxJbnN0YW5jZVJlYWR5Rm9yVXBkYXRlKHB1YmxpY0luc3RhbmNlLCAnZm9yY2VVcGRhdGUnKTtcbiAgICAgIGlmICghaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nRm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgICB9LFxuICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlLCBjb21wbGV0ZVN0YXRlKSB7XG4gICAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZShwdWJsaWNJbnN0YW5jZSwgJ3JlcGxhY2VTdGF0ZScpO1xuICAgICAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gW2NvbXBsZXRlU3RhdGVdO1xuICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ1JlcGxhY2VTdGF0ZSA9IHRydWU7XG4gICAgICBlbnF1ZXVlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpO1xuICAgIH0sXG4gICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSwgcGFydGlhbFN0YXRlKSB7XG4gICAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZShwdWJsaWNJbnN0YW5jZSwgJ3NldFN0YXRlJyk7XG4gICAgICBpZiAoIWludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHF1ZXVlID0gaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ1N0YXRlUXVldWUgfHwgKGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gW10pO1xuICAgICAgcXVldWUucHVzaChwYXJ0aWFsU3RhdGUpO1xuICAgICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgICB9LFxuICAgIGVucXVldWVFbGVtZW50SW50ZXJuYWw6IGZ1bmN0aW9uKGludGVybmFsSW5zdGFuY2UsIG5ld0VsZW1lbnQpIHtcbiAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdFbGVtZW50ID0gbmV3RWxlbWVudDtcbiAgICAgIGVucXVldWVVcGRhdGUoaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgfSxcbiAgICB2YWxpZGF0ZUNhbGxiYWNrOiBmdW5jdGlvbihjYWxsYmFjaywgY2FsbGVyTmFtZSkge1xuICAgICAgISghY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcyguLi4pOiBFeHBlY3RlZCB0aGUgbGFzdCBvcHRpb25hbCBgY2FsbGJhY2tgIGFyZ3VtZW50IHRvIGJlIGEgJyArICdmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMuJywgY2FsbGVyTmFtZSwgZm9ybWF0VW5leHBlY3RlZEFyZ3VtZW50KGNhbGxiYWNrKSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdFVwZGF0ZVF1ZXVlO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbiAgdmFyIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL1JlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQnKTtcbiAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gcmVxdWlyZSgnLi9SZWFjdEN1cnJlbnRPd25lcicpO1xuICB2YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbiAgdmFyIFJlYWN0RXJyb3JVdGlscyA9IHJlcXVpcmUoJy4vUmVhY3RFcnJvclV0aWxzJyk7XG4gIHZhciBSZWFjdEluc3RhbmNlTWFwID0gcmVxdWlyZSgnLi9SZWFjdEluc3RhbmNlTWFwJyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIFJlYWN0Tm9kZVR5cGVzID0gcmVxdWlyZSgnLi9SZWFjdE5vZGVUeXBlcycpO1xuICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucyA9IHJlcXVpcmUoJy4vUmVhY3RQcm9wVHlwZUxvY2F0aW9ucycpO1xuICB2YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzJyk7XG4gIHZhciBSZWFjdFJlY29uY2lsZXIgPSByZXF1aXJlKCcuL1JlYWN0UmVjb25jaWxlcicpO1xuICB2YXIgUmVhY3RVcGRhdGVRdWV1ZSA9IHJlcXVpcmUoJy4vUmVhY3RVcGRhdGVRdWV1ZScpO1xuICB2YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eU9iamVjdCcpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIGZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShjb21wb25lbnQpIHtcbiAgICB2YXIgb3duZXIgPSBjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50Ll9vd25lciB8fCBudWxsO1xuICAgIGlmIChvd25lcikge1xuICAgICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICByZXR1cm4gJyBDaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgZnVuY3Rpb24gU3RhdGVsZXNzQ29tcG9uZW50KENvbXBvbmVudCkge31cbiAgU3RhdGVsZXNzQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgQ29tcG9uZW50ID0gUmVhY3RJbnN0YW5jZU1hcC5nZXQodGhpcykuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgdmFyIGVsZW1lbnQgPSBDb21wb25lbnQodGhpcy5wcm9wcywgdGhpcy5jb250ZXh0LCB0aGlzLnVwZGF0ZXIpO1xuICAgIHdhcm5JZkludmFsaWRFbGVtZW50KENvbXBvbmVudCwgZWxlbWVudCk7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH07XG4gIGZ1bmN0aW9uIHdhcm5JZkludmFsaWRFbGVtZW50KENvbXBvbmVudCwgZWxlbWVudCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IGZhbHNlIHx8IFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSwgJyVzKC4uLik6IEEgdmFsaWQgUmVhY3QgZWxlbWVudCAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZC4gWW91IG1heSBoYXZlICcgKyAncmV0dXJuZWQgdW5kZWZpbmVkLCBhbiBhcnJheSBvciBzb21lIG90aGVyIGludmFsaWQgb2JqZWN0LicsIENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGludm9rZUNvbXBvbmVudERpZE1vdW50V2l0aFRpbWVyKCkge1xuICAgIHZhciBwdWJsaWNJbnN0YW5jZSA9IHRoaXMuX2luc3RhbmNlO1xuICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkxpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnREaWRNb3VudCcpO1xuICAgIH1cbiAgICBwdWJsaWNJbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCgpO1xuICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25FbmRMaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50RGlkTW91bnQnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaW52b2tlQ29tcG9uZW50RGlkVXBkYXRlV2l0aFRpbWVyKHByZXZQcm9wcywgcHJldlN0YXRlLCBwcmV2Q29udGV4dCkge1xuICAgIHZhciBwdWJsaWNJbnN0YW5jZSA9IHRoaXMuX2luc3RhbmNlO1xuICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25CZWdpbkxpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnREaWRVcGRhdGUnKTtcbiAgICB9XG4gICAgcHVibGljSW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlLCBwcmV2Q29udGV4dCk7XG4gICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnREaWRVcGRhdGUnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc2hvdWxkQ29uc3RydWN0KENvbXBvbmVudCkge1xuICAgIHJldHVybiBDb21wb25lbnQucHJvdG90eXBlICYmIENvbXBvbmVudC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudDtcbiAgfVxuICB2YXIgbmV4dE1vdW50SUQgPSAxO1xuICB2YXIgUmVhY3RDb21wb3NpdGVDb21wb25lbnRNaXhpbiA9IHtcbiAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSBudWxsO1xuICAgICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgdGhpcy5fbmF0aXZlUGFyZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX25hdGl2ZUNvbnRhaW5lckluZm8gPSBudWxsO1xuICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hOdW1iZXIgPSBudWxsO1xuICAgICAgdGhpcy5fcGVuZGluZ0VsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5fcGVuZGluZ1N0YXRlUXVldWUgPSBudWxsO1xuICAgICAgdGhpcy5fcGVuZGluZ1JlcGxhY2VTdGF0ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fcGVuZGluZ0ZvcmNlVXBkYXRlID0gZmFsc2U7XG4gICAgICB0aGlzLl9yZW5kZXJlZE5vZGVUeXBlID0gbnVsbDtcbiAgICAgIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX2NvbnRleHQgPSBudWxsO1xuICAgICAgdGhpcy5fbW91bnRPcmRlciA9IDA7XG4gICAgICB0aGlzLl90b3BMZXZlbFdyYXBwZXIgPSBudWxsO1xuICAgICAgdGhpcy5fcGVuZGluZ0NhbGxiYWNrcyA9IG51bGw7XG4gICAgICB0aGlzLl9jYWxsZWRDb21wb25lbnRXaWxsVW5tb3VudCA9IGZhbHNlO1xuICAgIH0sXG4gICAgbW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uLCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIGNvbnRleHQpIHtcbiAgICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgdGhpcy5fbW91bnRPcmRlciA9IG5leHRNb3VudElEKys7XG4gICAgICB0aGlzLl9uYXRpdmVQYXJlbnQgPSBuYXRpdmVQYXJlbnQ7XG4gICAgICB0aGlzLl9uYXRpdmVDb250YWluZXJJbmZvID0gbmF0aXZlQ29udGFpbmVySW5mbztcbiAgICAgIHZhciBwdWJsaWNQcm9wcyA9IHRoaXMuX3Byb2Nlc3NQcm9wcyh0aGlzLl9jdXJyZW50RWxlbWVudC5wcm9wcyk7XG4gICAgICB2YXIgcHVibGljQ29udGV4dCA9IHRoaXMuX3Byb2Nlc3NDb250ZXh0KGNvbnRleHQpO1xuICAgICAgdmFyIENvbXBvbmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICB2YXIgaW5zdCA9IHRoaXMuX2NvbnN0cnVjdENvbXBvbmVudChwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCk7XG4gICAgICB2YXIgcmVuZGVyZWRFbGVtZW50O1xuICAgICAgaWYgKCFzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSAmJiAoaW5zdCA9PSBudWxsIHx8IGluc3QucmVuZGVyID09IG51bGwpKSB7XG4gICAgICAgIHJlbmRlcmVkRWxlbWVudCA9IGluc3Q7XG4gICAgICAgIHdhcm5JZkludmFsaWRFbGVtZW50KENvbXBvbmVudCwgcmVuZGVyZWRFbGVtZW50KTtcbiAgICAgICAgIShpbnN0ID09PSBudWxsIHx8IGluc3QgPT09IGZhbHNlIHx8IFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChpbnN0KSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMoLi4uKTogQSB2YWxpZCBSZWFjdCBlbGVtZW50IChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkLiBZb3UgbWF5IGhhdmUgJyArICdyZXR1cm5lZCB1bmRlZmluZWQsIGFuIGFycmF5IG9yIHNvbWUgb3RoZXIgaW52YWxpZCBvYmplY3QuJywgQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIGluc3QgPSBuZXcgU3RhdGVsZXNzQ29tcG9uZW50KENvbXBvbmVudCk7XG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoaW5zdC5yZW5kZXIgPT0gbnVsbCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKTogTm8gYHJlbmRlcmAgbWV0aG9kIGZvdW5kIG9uIHRoZSByZXR1cm5lZCBjb21wb25lbnQgJyArICdpbnN0YW5jZTogeW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBkZWZpbmUgYHJlbmRlcmAuJywgQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvcHNNdXRhdGVkID0gaW5zdC5wcm9wcyAhPT0gcHVibGljUHJvcHM7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhpbnN0LnByb3BzID09PSB1bmRlZmluZWQgfHwgIXByb3BzTXV0YXRlZCwgJyVzKC4uLik6IFdoZW4gY2FsbGluZyBzdXBlcigpIGluIGAlc2AsIG1ha2Ugc3VyZSB0byBwYXNzICcgKyAndXAgdGhlIHNhbWUgcHJvcHMgdGhhdCB5b3VyIGNvbXBvbmVudFxcJ3MgY29uc3RydWN0b3Igd2FzIHBhc3NlZC4nLCBjb21wb25lbnROYW1lLCBjb21wb25lbnROYW1lKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGluc3QucHJvcHMgPSBwdWJsaWNQcm9wcztcbiAgICAgIGluc3QuY29udGV4dCA9IHB1YmxpY0NvbnRleHQ7XG4gICAgICBpbnN0LnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgIGluc3QudXBkYXRlciA9IFJlYWN0VXBkYXRlUXVldWU7XG4gICAgICB0aGlzLl9pbnN0YW5jZSA9IGluc3Q7XG4gICAgICBSZWFjdEluc3RhbmNlTWFwLnNldChpbnN0LCB0aGlzKTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFpbnN0LmdldEluaXRpYWxTdGF0ZSB8fCBpbnN0LmdldEluaXRpYWxTdGF0ZS5pc1JlYWN0Q2xhc3NBcHByb3ZlZCwgJ2dldEluaXRpYWxTdGF0ZSB3YXMgZGVmaW5lZCBvbiAlcywgYSBwbGFpbiBKYXZhU2NyaXB0IGNsYXNzLiAnICsgJ1RoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGNsYXNzZXMgY3JlYXRlZCB1c2luZyBSZWFjdC5jcmVhdGVDbGFzcy4gJyArICdEaWQgeW91IG1lYW4gdG8gZGVmaW5lIGEgc3RhdGUgcHJvcGVydHkgaW5zdGVhZD8nLCB0aGlzLmdldE5hbWUoKSB8fCAnYSBjb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWluc3QuZ2V0RGVmYXVsdFByb3BzIHx8IGluc3QuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkLCAnZ2V0RGVmYXVsdFByb3BzIHdhcyBkZWZpbmVkIG9uICVzLCBhIHBsYWluIEphdmFTY3JpcHQgY2xhc3MuICcgKyAnVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiAnICsgJ1VzZSBhIHN0YXRpYyBwcm9wZXJ0eSB0byBkZWZpbmUgZGVmYXVsdFByb3BzIGluc3RlYWQuJywgdGhpcy5nZXROYW1lKCkgfHwgJ2EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFpbnN0LnByb3BUeXBlcywgJ3Byb3BUeXBlcyB3YXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcy4gVXNlIGEgc3RhdGljICcgKyAncHJvcGVydHkgdG8gZGVmaW5lIHByb3BUeXBlcyBpbnN0ZWFkLicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdhIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghaW5zdC5jb250ZXh0VHlwZXMsICdjb250ZXh0VHlwZXMgd2FzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgb24gJXMuIFVzZSBhICcgKyAnc3RhdGljIHByb3BlcnR5IHRvIGRlZmluZSBjb250ZXh0VHlwZXMgaW5zdGVhZC4nLCB0aGlzLmdldE5hbWUoKSB8fCAnYSBjb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodHlwZW9mIGluc3QuY29tcG9uZW50U2hvdWxkVXBkYXRlICE9PSAnZnVuY3Rpb24nLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ2NvbXBvbmVudFNob3VsZFVwZGF0ZSgpLiBEaWQgeW91IG1lYW4gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk/ICcgKyAnVGhlIG5hbWUgaXMgcGhyYXNlZCBhcyBhIHF1ZXN0aW9uIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzICcgKyAnZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUuJywgdGhpcy5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHR5cGVvZiBpbnN0LmNvbXBvbmVudERpZFVubW91bnQgIT09ICdmdW5jdGlvbicsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50RGlkVW5tb3VudCgpLiBCdXQgdGhlcmUgaXMgbm8gc3VjaCBsaWZlY3ljbGUgbWV0aG9kLiAnICsgJ0RpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsVW5tb3VudCgpPycsIHRoaXMuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh0eXBlb2YgaW5zdC5jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzICE9PSAnZnVuY3Rpb24nLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ2NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMoKS4gRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKT8nLCB0aGlzLmdldE5hbWUoKSB8fCAnQSBjb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHZhciBpbml0aWFsU3RhdGUgPSBpbnN0LnN0YXRlO1xuICAgICAgaWYgKGluaXRpYWxTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluc3Quc3RhdGUgPSBpbml0aWFsU3RhdGUgPSBudWxsO1xuICAgICAgfVxuICAgICAgISh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpbml0aWFsU3RhdGUpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcy5zdGF0ZTogbXVzdCBiZSBzZXQgdG8gYW4gb2JqZWN0IG9yIG51bGwnLCB0aGlzLmdldE5hbWUoKSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB0aGlzLl9wZW5kaW5nU3RhdGVRdWV1ZSA9IG51bGw7XG4gICAgICB0aGlzLl9wZW5kaW5nUmVwbGFjZVN0YXRlID0gZmFsc2U7XG4gICAgICB0aGlzLl9wZW5kaW5nRm9yY2VVcGRhdGUgPSBmYWxzZTtcbiAgICAgIHZhciBtYXJrdXA7XG4gICAgICBpZiAoaW5zdC51bnN0YWJsZV9oYW5kbGVFcnJvcikge1xuICAgICAgICBtYXJrdXAgPSB0aGlzLnBlcmZvcm1Jbml0aWFsTW91bnRXaXRoRXJyb3JIYW5kbGluZyhyZW5kZXJlZEVsZW1lbnQsIG5hdGl2ZVBhcmVudCwgbmF0aXZlQ29udGFpbmVySW5mbywgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFya3VwID0gdGhpcy5wZXJmb3JtSW5pdGlhbE1vdW50KHJlbmRlcmVkRWxlbWVudCwgbmF0aXZlUGFyZW50LCBuYXRpdmVDb250YWluZXJJbmZvLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICB9XG4gICAgICBpZiAoaW5zdC5jb21wb25lbnREaWRNb3VudCkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoaW52b2tlQ29tcG9uZW50RGlkTW91bnRXaXRoVGltZXIsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoaW5zdC5jb21wb25lbnREaWRNb3VudCwgaW5zdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXJrdXA7XG4gICAgfSxcbiAgICBfY29uc3RydWN0Q29tcG9uZW50OiBmdW5jdGlvbihwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHRoaXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnN0cnVjdENvbXBvbmVudFdpdGhvdXRPd25lcihwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25zdHJ1Y3RDb21wb25lbnRXaXRob3V0T3duZXIocHVibGljUHJvcHMsIHB1YmxpY0NvbnRleHQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgX2NvbnN0cnVjdENvbXBvbmVudFdpdGhvdXRPd25lcjogZnVuY3Rpb24ocHVibGljUHJvcHMsIHB1YmxpY0NvbnRleHQpIHtcbiAgICAgIHZhciBDb21wb25lbnQgPSB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlO1xuICAgICAgdmFyIGluc3RhbmNlT3JFbGVtZW50O1xuICAgICAgaWYgKHNob3VsZENvbnN0cnVjdChDb21wb25lbnQpKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2N0b3InKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2VPckVsZW1lbnQgPSBuZXcgQ29tcG9uZW50KHB1YmxpY1Byb3BzLCBwdWJsaWNDb250ZXh0LCBSZWFjdFVwZGF0ZVF1ZXVlKTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2N0b3InKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ3JlbmRlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZU9yRWxlbWVudCA9IENvbXBvbmVudChwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCwgUmVhY3RVcGRhdGVRdWV1ZSk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdyZW5kZXInKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnN0YW5jZU9yRWxlbWVudDtcbiAgICB9LFxuICAgIHBlcmZvcm1Jbml0aWFsTW91bnRXaXRoRXJyb3JIYW5kbGluZzogZnVuY3Rpb24ocmVuZGVyZWRFbGVtZW50LCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICB2YXIgbWFya3VwO1xuICAgICAgdmFyIGNoZWNrcG9pbnQgPSB0cmFuc2FjdGlvbi5jaGVja3BvaW50KCk7XG4gICAgICB0cnkge1xuICAgICAgICBtYXJrdXAgPSB0aGlzLnBlcmZvcm1Jbml0aWFsTW91bnQocmVuZGVyZWRFbGVtZW50LCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdHJhbnNhY3Rpb24ucm9sbGJhY2soY2hlY2twb2ludCk7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlLnVuc3RhYmxlX2hhbmRsZUVycm9yKGUpO1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1N0YXRlUXVldWUpIHtcbiAgICAgICAgICB0aGlzLl9pbnN0YW5jZS5zdGF0ZSA9IHRoaXMuX3Byb2Nlc3NQZW5kaW5nU3RhdGUodGhpcy5faW5zdGFuY2UucHJvcHMsIHRoaXMuX2luc3RhbmNlLmNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrcG9pbnQgPSB0cmFuc2FjdGlvbi5jaGVja3BvaW50KCk7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50LnVubW91bnRDb21wb25lbnQodHJ1ZSk7XG4gICAgICAgIHRyYW5zYWN0aW9uLnJvbGxiYWNrKGNoZWNrcG9pbnQpO1xuICAgICAgICBtYXJrdXAgPSB0aGlzLnBlcmZvcm1Jbml0aWFsTW91bnQocmVuZGVyZWRFbGVtZW50LCBuYXRpdmVQYXJlbnQsIG5hdGl2ZUNvbnRhaW5lckluZm8sIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXJrdXA7XG4gICAgfSxcbiAgICBwZXJmb3JtSW5pdGlhbE1vdW50OiBmdW5jdGlvbihyZW5kZXJlZEVsZW1lbnQsIG5hdGl2ZVBhcmVudCwgbmF0aXZlQ29udGFpbmVySW5mbywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgICBpZiAoaW5zdC5jb21wb25lbnRXaWxsTW91bnQpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50V2lsbE1vdW50Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluc3QuY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnRXaWxsTW91bnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlKSB7XG4gICAgICAgICAgaW5zdC5zdGF0ZSA9IHRoaXMuX3Byb2Nlc3NQZW5kaW5nU3RhdGUoaW5zdC5wcm9wcywgaW5zdC5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlbmRlcmVkRWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlbmRlcmVkRWxlbWVudCA9IHRoaXMuX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fcmVuZGVyZWROb2RlVHlwZSA9IFJlYWN0Tm9kZVR5cGVzLmdldFR5cGUocmVuZGVyZWRFbGVtZW50KTtcbiAgICAgIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50ID0gdGhpcy5faW5zdGFudGlhdGVSZWFjdENvbXBvbmVudChyZW5kZXJlZEVsZW1lbnQpO1xuICAgICAgdmFyIG1hcmt1cCA9IFJlYWN0UmVjb25jaWxlci5tb3VudENvbXBvbmVudCh0aGlzLl9yZW5kZXJlZENvbXBvbmVudCwgdHJhbnNhY3Rpb24sIG5hdGl2ZVBhcmVudCwgbmF0aXZlQ29udGFpbmVySW5mbywgdGhpcy5fcHJvY2Vzc0NoaWxkQ29udGV4dChjb250ZXh0KSk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldENoaWxkcmVuKHRoaXMuX2RlYnVnSUQsIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50Ll9kZWJ1Z0lEICE9PSAwID8gW3RoaXMuX3JlbmRlcmVkQ29tcG9uZW50Ll9kZWJ1Z0lEXSA6IFtdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1hcmt1cDtcbiAgICB9LFxuICAgIGdldE5hdGl2ZU5vZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFJlYWN0UmVjb25jaWxlci5nZXROYXRpdmVOb2RlKHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50KTtcbiAgICB9LFxuICAgIHVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKHNhZmVseSkge1xuICAgICAgaWYgKCF0aGlzLl9yZW5kZXJlZENvbXBvbmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgaW5zdCA9IHRoaXMuX2luc3RhbmNlO1xuICAgICAgaWYgKGluc3QuY29tcG9uZW50V2lsbFVubW91bnQgJiYgIWluc3QuX2NhbGxlZENvbXBvbmVudFdpbGxVbm1vdW50KSB7XG4gICAgICAgIGluc3QuX2NhbGxlZENvbXBvbmVudFdpbGxVbm1vdW50ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50V2lsbFVubW91bnQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNhZmVseSkge1xuICAgICAgICAgIHZhciBuYW1lID0gdGhpcy5nZXROYW1lKCkgKyAnLmNvbXBvbmVudFdpbGxVbm1vdW50KCknO1xuICAgICAgICAgIFJlYWN0RXJyb3JVdGlscy5pbnZva2VHdWFyZGVkQ2FsbGJhY2sobmFtZSwgaW5zdC5jb21wb25lbnRXaWxsVW5tb3VudC5iaW5kKGluc3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnN0LmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uRW5kTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2NvbXBvbmVudFdpbGxVbm1vdW50Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fcmVuZGVyZWRDb21wb25lbnQpIHtcbiAgICAgICAgUmVhY3RSZWNvbmNpbGVyLnVubW91bnRDb21wb25lbnQodGhpcy5fcmVuZGVyZWRDb21wb25lbnQsIHNhZmVseSk7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkTm9kZVR5cGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZENvbXBvbmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gbnVsbDtcbiAgICAgIHRoaXMuX3BlbmRpbmdSZXBsYWNlU3RhdGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3BlbmRpbmdGb3JjZVVwZGF0ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fcGVuZGluZ0NhbGxiYWNrcyA9IG51bGw7XG4gICAgICB0aGlzLl9wZW5kaW5nRWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSBudWxsO1xuICAgICAgdGhpcy5fdG9wTGV2ZWxXcmFwcGVyID0gbnVsbDtcbiAgICAgIFJlYWN0SW5zdGFuY2VNYXAucmVtb3ZlKGluc3QpO1xuICAgIH0sXG4gICAgX21hc2tDb250ZXh0OiBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICB2YXIgQ29tcG9uZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgIHZhciBjb250ZXh0VHlwZXMgPSBDb21wb25lbnQuY29udGV4dFR5cGVzO1xuICAgICAgaWYgKCFjb250ZXh0VHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xuICAgICAgfVxuICAgICAgdmFyIG1hc2tlZENvbnRleHQgPSB7fTtcbiAgICAgIGZvciAodmFyIGNvbnRleHROYW1lIGluIGNvbnRleHRUeXBlcykge1xuICAgICAgICBtYXNrZWRDb250ZXh0W2NvbnRleHROYW1lXSA9IGNvbnRleHRbY29udGV4dE5hbWVdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hc2tlZENvbnRleHQ7XG4gICAgfSxcbiAgICBfcHJvY2Vzc0NvbnRleHQ6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgIHZhciBtYXNrZWRDb250ZXh0ID0gdGhpcy5fbWFza0NvbnRleHQoY29udGV4dCk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YXIgQ29tcG9uZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgICAgaWYgKENvbXBvbmVudC5jb250ZXh0VHlwZXMpIHtcbiAgICAgICAgICB0aGlzLl9jaGVja1Byb3BUeXBlcyhDb21wb25lbnQuY29udGV4dFR5cGVzLCBtYXNrZWRDb250ZXh0LCBSZWFjdFByb3BUeXBlTG9jYXRpb25zLmNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFza2VkQ29udGV4dDtcbiAgICB9LFxuICAgIF9wcm9jZXNzQ2hpbGRDb250ZXh0OiBmdW5jdGlvbihjdXJyZW50Q29udGV4dCkge1xuICAgICAgdmFyIENvbXBvbmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICB2YXIgaW5zdCA9IHRoaXMuX2luc3RhbmNlO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5Qcm9jZXNzaW5nQ2hpbGRDb250ZXh0KCk7XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRDb250ZXh0ID0gaW5zdC5nZXRDaGlsZENvbnRleHQgJiYgaW5zdC5nZXRDaGlsZENvbnRleHQoKTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZFByb2Nlc3NpbmdDaGlsZENvbnRleHQoKTtcbiAgICAgIH1cbiAgICAgIGlmIChjaGlsZENvbnRleHQpIHtcbiAgICAgICAgISh0eXBlb2YgQ29tcG9uZW50LmNoaWxkQ29udGV4dFR5cGVzID09PSAnb2JqZWN0JykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMuZ2V0Q2hpbGRDb250ZXh0KCk6IGNoaWxkQ29udGV4dFR5cGVzIG11c3QgYmUgZGVmaW5lZCBpbiBvcmRlciB0byAnICsgJ3VzZSBnZXRDaGlsZENvbnRleHQoKS4nLCB0aGlzLmdldE5hbWUoKSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5fY2hlY2tQcm9wVHlwZXMoQ29tcG9uZW50LmNoaWxkQ29udGV4dFR5cGVzLCBjaGlsZENvbnRleHQsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY2hpbGRDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBuYW1lIGluIGNoaWxkQ29udGV4dCkge1xuICAgICAgICAgICEobmFtZSBpbiBDb21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXMpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzLmdldENoaWxkQ29udGV4dCgpOiBrZXkgXCIlc1wiIGlzIG5vdCBkZWZpbmVkIGluIGNoaWxkQ29udGV4dFR5cGVzLicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcsIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2Fzc2lnbih7fSwgY3VycmVudENvbnRleHQsIGNoaWxkQ29udGV4dCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3VycmVudENvbnRleHQ7XG4gICAgfSxcbiAgICBfcHJvY2Vzc1Byb3BzOiBmdW5jdGlvbihuZXdQcm9wcykge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIENvbXBvbmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgICAgIGlmIChDb21wb25lbnQucHJvcFR5cGVzKSB7XG4gICAgICAgICAgdGhpcy5fY2hlY2tQcm9wVHlwZXMoQ29tcG9uZW50LnByb3BUeXBlcywgbmV3UHJvcHMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMucHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdQcm9wcztcbiAgICB9LFxuICAgIF9jaGVja1Byb3BUeXBlczogZnVuY3Rpb24ocHJvcFR5cGVzLCBwcm9wcywgbG9jYXRpb24pIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gdGhpcy5nZXROYW1lKCk7XG4gICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBwcm9wVHlwZXMpIHtcbiAgICAgICAgaWYgKHByb3BUeXBlcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICEodHlwZW9mIHByb3BUeXBlc1twcm9wTmFtZV0gPT09ICdmdW5jdGlvbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJyVzOiAlcyB0eXBlIGAlc2AgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5ICcgKyAnZnJvbSBSZWFjdC5Qcm9wVHlwZXMuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgICBlcnJvciA9IHByb3BUeXBlc1twcm9wTmFtZV0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbik7XG4gICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIGVycm9yID0gZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICB2YXIgYWRkZW5kdW0gPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0odGhpcyk7XG4gICAgICAgICAgICBpZiAobG9jYXRpb24gPT09IFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMucHJvcCkge1xuICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ZhaWxlZCBDb21wb3NpdGUgcHJvcFR5cGU6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiB2b2lkIDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ZhaWxlZCBDb250ZXh0IFR5cGVzOiAlcyVzJywgZXJyb3IubWVzc2FnZSwgYWRkZW5kdW0pIDogdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgcmVjZWl2ZUNvbXBvbmVudDogZnVuY3Rpb24obmV4dEVsZW1lbnQsIHRyYW5zYWN0aW9uLCBuZXh0Q29udGV4dCkge1xuICAgICAgdmFyIHByZXZFbGVtZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQ7XG4gICAgICB2YXIgcHJldkNvbnRleHQgPSB0aGlzLl9jb250ZXh0O1xuICAgICAgdGhpcy5fcGVuZGluZ0VsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQodHJhbnNhY3Rpb24sIHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCwgcHJldkNvbnRleHQsIG5leHRDb250ZXh0KTtcbiAgICB9LFxuICAgIHBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeTogZnVuY3Rpb24odHJhbnNhY3Rpb24pIHtcbiAgICAgIGlmICh0aGlzLl9wZW5kaW5nRWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgIFJlYWN0UmVjb25jaWxlci5yZWNlaXZlQ29tcG9uZW50KHRoaXMsIHRoaXMuX3BlbmRpbmdFbGVtZW50LCB0cmFuc2FjdGlvbiwgdGhpcy5fY29udGV4dCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlICE9PSBudWxsIHx8IHRoaXMuX3BlbmRpbmdGb3JjZVVwZGF0ZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudCh0cmFuc2FjdGlvbiwgdGhpcy5fY3VycmVudEVsZW1lbnQsIHRoaXMuX2N1cnJlbnRFbGVtZW50LCB0aGlzLl9jb250ZXh0LCB0aGlzLl9jb250ZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoTnVtYmVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZUNvbXBvbmVudDogZnVuY3Rpb24odHJhbnNhY3Rpb24sIHByZXZQYXJlbnRFbGVtZW50LCBuZXh0UGFyZW50RWxlbWVudCwgcHJldlVubWFza2VkQ29udGV4dCwgbmV4dFVubWFza2VkQ29udGV4dCkge1xuICAgICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICAgIHZhciB3aWxsUmVjZWl2ZSA9IGZhbHNlO1xuICAgICAgdmFyIG5leHRDb250ZXh0O1xuICAgICAgdmFyIG5leHRQcm9wcztcbiAgICAgIGlmICh0aGlzLl9jb250ZXh0ID09PSBuZXh0VW5tYXNrZWRDb250ZXh0KSB7XG4gICAgICAgIG5leHRDb250ZXh0ID0gaW5zdC5jb250ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dENvbnRleHQgPSB0aGlzLl9wcm9jZXNzQ29udGV4dChuZXh0VW5tYXNrZWRDb250ZXh0KTtcbiAgICAgICAgd2lsbFJlY2VpdmUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZQYXJlbnRFbGVtZW50ID09PSBuZXh0UGFyZW50RWxlbWVudCkge1xuICAgICAgICBuZXh0UHJvcHMgPSBuZXh0UGFyZW50RWxlbWVudC5wcm9wcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRQcm9wcyA9IHRoaXMuX3Byb2Nlc3NQcm9wcyhuZXh0UGFyZW50RWxlbWVudC5wcm9wcyk7XG4gICAgICAgIHdpbGxSZWNlaXZlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh3aWxsUmVjZWl2ZSAmJiBpbnN0LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnN0LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzLCBuZXh0Q29udGV4dCk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgbmV4dFN0YXRlID0gdGhpcy5fcHJvY2Vzc1BlbmRpbmdTdGF0ZShuZXh0UHJvcHMsIG5leHRDb250ZXh0KTtcbiAgICAgIHZhciBzaG91bGRVcGRhdGUgPSB0cnVlO1xuICAgICAgaWYgKCF0aGlzLl9wZW5kaW5nRm9yY2VVcGRhdGUgJiYgaW5zdC5zaG91bGRDb21wb25lbnRVcGRhdGUpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNob3VsZFVwZGF0ZSA9IGluc3Quc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlLCBuZXh0Q29udGV4dCk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdzaG91bGRDb21wb25lbnRVcGRhdGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHNob3VsZFVwZGF0ZSAhPT0gdW5kZWZpbmVkLCAnJXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk6IFJldHVybmVkIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIGEgJyArICdib29sZWFuIHZhbHVlLiBNYWtlIHN1cmUgdG8gcmV0dXJuIHRydWUgb3IgZmFsc2UuJywgdGhpcy5nZXROYW1lKCkgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICB0aGlzLl91cGRhdGVCYXRjaE51bWJlciA9IG51bGw7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdGb3JjZVVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wZXJmb3JtQ29tcG9uZW50VXBkYXRlKG5leHRQYXJlbnRFbGVtZW50LCBuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQsIHRyYW5zYWN0aW9uLCBuZXh0VW5tYXNrZWRDb250ZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gbmV4dFBhcmVudEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBuZXh0VW5tYXNrZWRDb250ZXh0O1xuICAgICAgICBpbnN0LnByb3BzID0gbmV4dFByb3BzO1xuICAgICAgICBpbnN0LnN0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgICBpbnN0LmNvbnRleHQgPSBuZXh0Q29udGV4dDtcbiAgICAgIH1cbiAgICB9LFxuICAgIF9wcm9jZXNzUGVuZGluZ1N0YXRlOiBmdW5jdGlvbihwcm9wcywgY29udGV4dCkge1xuICAgICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICAgIHZhciBxdWV1ZSA9IHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlO1xuICAgICAgdmFyIHJlcGxhY2UgPSB0aGlzLl9wZW5kaW5nUmVwbGFjZVN0YXRlO1xuICAgICAgdGhpcy5fcGVuZGluZ1JlcGxhY2VTdGF0ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fcGVuZGluZ1N0YXRlUXVldWUgPSBudWxsO1xuICAgICAgaWYgKCFxdWV1ZSkge1xuICAgICAgICByZXR1cm4gaW5zdC5zdGF0ZTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXBsYWNlICYmIHF1ZXVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gcXVldWVbMF07XG4gICAgICB9XG4gICAgICB2YXIgbmV4dFN0YXRlID0gX2Fzc2lnbih7fSwgcmVwbGFjZSA/IHF1ZXVlWzBdIDogaW5zdC5zdGF0ZSk7XG4gICAgICBmb3IgKHZhciBpID0gcmVwbGFjZSA/IDEgOiAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnRpYWwgPSBxdWV1ZVtpXTtcbiAgICAgICAgX2Fzc2lnbihuZXh0U3RhdGUsIHR5cGVvZiBwYXJ0aWFsID09PSAnZnVuY3Rpb24nID8gcGFydGlhbC5jYWxsKGluc3QsIG5leHRTdGF0ZSwgcHJvcHMsIGNvbnRleHQpIDogcGFydGlhbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dFN0YXRlO1xuICAgIH0sXG4gICAgX3BlcmZvcm1Db21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uKG5leHRFbGVtZW50LCBuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQsIHRyYW5zYWN0aW9uLCB1bm1hc2tlZENvbnRleHQpIHtcbiAgICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgICB2YXIgaGFzQ29tcG9uZW50RGlkVXBkYXRlID0gQm9vbGVhbihpbnN0LmNvbXBvbmVudERpZFVwZGF0ZSk7XG4gICAgICB2YXIgcHJldlByb3BzO1xuICAgICAgdmFyIHByZXZTdGF0ZTtcbiAgICAgIHZhciBwcmV2Q29udGV4dDtcbiAgICAgIGlmIChoYXNDb21wb25lbnREaWRVcGRhdGUpIHtcbiAgICAgICAgcHJldlByb3BzID0gaW5zdC5wcm9wcztcbiAgICAgICAgcHJldlN0YXRlID0gaW5zdC5zdGF0ZTtcbiAgICAgICAgcHJldkNvbnRleHQgPSBpbnN0LmNvbnRleHQ7XG4gICAgICB9XG4gICAgICBpZiAoaW5zdC5jb21wb25lbnRXaWxsVXBkYXRlKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luTGlmZUN5Y2xlVGltZXIodGhpcy5fZGVidWdJRCwgJ2NvbXBvbmVudFdpbGxVcGRhdGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5zdC5jb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlLCBuZXh0Q29udGV4dCk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2RlYnVnSUQgIT09IDApIHtcbiAgICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdjb21wb25lbnRXaWxsVXBkYXRlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IG5leHRFbGVtZW50O1xuICAgICAgdGhpcy5fY29udGV4dCA9IHVubWFza2VkQ29udGV4dDtcbiAgICAgIGluc3QucHJvcHMgPSBuZXh0UHJvcHM7XG4gICAgICBpbnN0LnN0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgaW5zdC5jb250ZXh0ID0gbmV4dENvbnRleHQ7XG4gICAgICB0aGlzLl91cGRhdGVSZW5kZXJlZENvbXBvbmVudCh0cmFuc2FjdGlvbiwgdW5tYXNrZWRDb250ZXh0KTtcbiAgICAgIGlmIChoYXNDb21wb25lbnREaWRVcGRhdGUpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKGludm9rZUNvbXBvbmVudERpZFVwZGF0ZVdpdGhUaW1lci5iaW5kKHRoaXMsIHByZXZQcm9wcywgcHJldlN0YXRlLCBwcmV2Q29udGV4dCksIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoaW5zdC5jb21wb25lbnREaWRVcGRhdGUuYmluZChpbnN0LCBwcmV2UHJvcHMsIHByZXZTdGF0ZSwgcHJldkNvbnRleHQpLCBpbnN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgX3VwZGF0ZVJlbmRlcmVkQ29tcG9uZW50OiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgdmFyIHByZXZDb21wb25lbnRJbnN0YW5jZSA9IHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50O1xuICAgICAgdmFyIHByZXZSZW5kZXJlZEVsZW1lbnQgPSBwcmV2Q29tcG9uZW50SW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50O1xuICAgICAgdmFyIG5leHRSZW5kZXJlZEVsZW1lbnQgPSB0aGlzLl9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnQoKTtcbiAgICAgIGlmIChzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudChwcmV2UmVuZGVyZWRFbGVtZW50LCBuZXh0UmVuZGVyZWRFbGVtZW50KSkge1xuICAgICAgICBSZWFjdFJlY29uY2lsZXIucmVjZWl2ZUNvbXBvbmVudChwcmV2Q29tcG9uZW50SW5zdGFuY2UsIG5leHRSZW5kZXJlZEVsZW1lbnQsIHRyYW5zYWN0aW9uLCB0aGlzLl9wcm9jZXNzQ2hpbGRDb250ZXh0KGNvbnRleHQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBvbGROYXRpdmVOb2RlID0gUmVhY3RSZWNvbmNpbGVyLmdldE5hdGl2ZU5vZGUocHJldkNvbXBvbmVudEluc3RhbmNlKTtcbiAgICAgICAgUmVhY3RSZWNvbmNpbGVyLnVubW91bnRDb21wb25lbnQocHJldkNvbXBvbmVudEluc3RhbmNlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkTm9kZVR5cGUgPSBSZWFjdE5vZGVUeXBlcy5nZXRUeXBlKG5leHRSZW5kZXJlZEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZENvbXBvbmVudCA9IHRoaXMuX2luc3RhbnRpYXRlUmVhY3RDb21wb25lbnQobmV4dFJlbmRlcmVkRWxlbWVudCk7XG4gICAgICAgIHZhciBuZXh0TWFya3VwID0gUmVhY3RSZWNvbmNpbGVyLm1vdW50Q29tcG9uZW50KHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50LCB0cmFuc2FjdGlvbiwgdGhpcy5fbmF0aXZlUGFyZW50LCB0aGlzLl9uYXRpdmVDb250YWluZXJJbmZvLCB0aGlzLl9wcm9jZXNzQ2hpbGRDb250ZXh0KGNvbnRleHQpKTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uU2V0Q2hpbGRyZW4odGhpcy5fZGVidWdJRCwgdGhpcy5fcmVuZGVyZWRDb21wb25lbnQuX2RlYnVnSUQgIT09IDAgPyBbdGhpcy5fcmVuZGVyZWRDb21wb25lbnQuX2RlYnVnSURdIDogW10pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXBsYWNlTm9kZVdpdGhNYXJrdXAob2xkTmF0aXZlTm9kZSwgbmV4dE1hcmt1cCwgcHJldkNvbXBvbmVudEluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIF9yZXBsYWNlTm9kZVdpdGhNYXJrdXA6IGZ1bmN0aW9uKG9sZE5hdGl2ZU5vZGUsIG5leHRNYXJrdXAsIHByZXZJbnN0YW5jZSkge1xuICAgICAgUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudC5yZXBsYWNlTm9kZVdpdGhNYXJrdXAob2xkTmF0aXZlTm9kZSwgbmV4dE1hcmt1cCwgcHJldkluc3RhbmNlKTtcbiAgICB9LFxuICAgIF9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnRXaXRob3V0T3duZXJPckNvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uQmVnaW5MaWZlQ3ljbGVUaW1lcih0aGlzLl9kZWJ1Z0lELCAncmVuZGVyJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciByZW5kZXJlZENvbXBvbmVudCA9IGluc3QucmVuZGVyKCk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAodGhpcy5fZGVidWdJRCAhPT0gMCkge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZExpZmVDeWNsZVRpbWVyKHRoaXMuX2RlYnVnSUQsICdyZW5kZXInKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKHJlbmRlcmVkQ29tcG9uZW50ID09PSB1bmRlZmluZWQgJiYgaW5zdC5yZW5kZXIuX2lzTW9ja0Z1bmN0aW9uKSB7XG4gICAgICAgICAgcmVuZGVyZWRDb21wb25lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVuZGVyZWRDb21wb25lbnQ7XG4gICAgfSxcbiAgICBfcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZW5kZXJlZENvbXBvbmVudDtcbiAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSB0aGlzO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVuZGVyZWRDb21wb25lbnQgPSB0aGlzLl9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnRXaXRob3V0T3duZXJPckNvbnRleHQoKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgIShyZW5kZXJlZENvbXBvbmVudCA9PT0gbnVsbCB8fCByZW5kZXJlZENvbXBvbmVudCA9PT0gZmFsc2UgfHwgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KHJlbmRlcmVkQ29tcG9uZW50KSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMucmVuZGVyKCk6IEEgdmFsaWQgUmVhY3QgZWxlbWVudCAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZC4gWW91IG1heSBoYXZlICcgKyAncmV0dXJuZWQgdW5kZWZpbmVkLCBhbiBhcnJheSBvciBzb21lIG90aGVyIGludmFsaWQgb2JqZWN0LicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiByZW5kZXJlZENvbXBvbmVudDtcbiAgICB9LFxuICAgIGF0dGFjaFJlZjogZnVuY3Rpb24ocmVmLCBjb21wb25lbnQpIHtcbiAgICAgIHZhciBpbnN0ID0gdGhpcy5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgICAgIShpbnN0ICE9IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1N0YXRlbGVzcyBmdW5jdGlvbiBjb21wb25lbnRzIGNhbm5vdCBoYXZlIHJlZnMuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIHB1YmxpY0NvbXBvbmVudEluc3RhbmNlID0gY29tcG9uZW50LmdldFB1YmxpY0luc3RhbmNlKCk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudCAmJiBjb21wb25lbnQuZ2V0TmFtZSA/IGNvbXBvbmVudC5nZXROYW1lKCkgOiAnYSBjb21wb25lbnQnO1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhwdWJsaWNDb21wb25lbnRJbnN0YW5jZSAhPSBudWxsLCAnU3RhdGVsZXNzIGZ1bmN0aW9uIGNvbXBvbmVudHMgY2Fubm90IGJlIGdpdmVuIHJlZnMgJyArICcoU2VlIHJlZiBcIiVzXCIgaW4gJXMgY3JlYXRlZCBieSAlcykuICcgKyAnQXR0ZW1wdHMgdG8gYWNjZXNzIHRoaXMgcmVmIHdpbGwgZmFpbC4nLCByZWYsIGNvbXBvbmVudE5hbWUsIHRoaXMuZ2V0TmFtZSgpKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHZhciByZWZzID0gaW5zdC5yZWZzID09PSBlbXB0eU9iamVjdCA/IGluc3QucmVmcyA9IHt9IDogaW5zdC5yZWZzO1xuICAgICAgcmVmc1tyZWZdID0gcHVibGljQ29tcG9uZW50SW5zdGFuY2U7XG4gICAgfSxcbiAgICBkZXRhY2hSZWY6IGZ1bmN0aW9uKHJlZikge1xuICAgICAgdmFyIHJlZnMgPSB0aGlzLmdldFB1YmxpY0luc3RhbmNlKCkucmVmcztcbiAgICAgIGRlbGV0ZSByZWZzW3JlZl07XG4gICAgfSxcbiAgICBnZXROYW1lOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0eXBlID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgIHZhciBjb25zdHJ1Y3RvciA9IHRoaXMuX2luc3RhbmNlICYmIHRoaXMuX2luc3RhbmNlLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgY29uc3RydWN0b3IgJiYgY29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IGNvbnN0cnVjdG9yICYmIGNvbnN0cnVjdG9yLm5hbWUgfHwgbnVsbDtcbiAgICB9LFxuICAgIGdldFB1YmxpY0luc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgICBpZiAoaW5zdCBpbnN0YW5jZW9mIFN0YXRlbGVzc0NvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnN0O1xuICAgIH0sXG4gICAgX2luc3RhbnRpYXRlUmVhY3RDb21wb25lbnQ6IG51bGxcbiAgfTtcbiAgdmFyIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50ID0ge01peGluOiBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudE1peGlufTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RFbXB0eUNvbXBvbmVudFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGVtcHR5Q29tcG9uZW50RmFjdG9yeTtcblxudmFyIFJlYWN0RW1wdHlDb21wb25lbnRJbmplY3Rpb24gPSB7XG4gIGluamVjdEVtcHR5Q29tcG9uZW50RmFjdG9yeTogZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICBlbXB0eUNvbXBvbmVudEZhY3RvcnkgPSBmYWN0b3J5O1xuICB9XG59O1xuXG52YXIgUmVhY3RFbXB0eUNvbXBvbmVudCA9IHtcbiAgY3JlYXRlOiBmdW5jdGlvbiAoaW5zdGFudGlhdGUpIHtcbiAgICByZXR1cm4gZW1wdHlDb21wb25lbnRGYWN0b3J5KGluc3RhbnRpYXRlKTtcbiAgfVxufTtcblxuUmVhY3RFbXB0eUNvbXBvbmVudC5pbmplY3Rpb24gPSBSZWFjdEVtcHR5Q29tcG9uZW50SW5qZWN0aW9uO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RW1wdHlDb21wb25lbnQ7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBhdXRvR2VuZXJhdGVXcmFwcGVyQ2xhc3MgPSBudWxsO1xuICB2YXIgZ2VuZXJpY0NvbXBvbmVudENsYXNzID0gbnVsbDtcbiAgdmFyIHRhZ1RvQ29tcG9uZW50Q2xhc3MgPSB7fTtcbiAgdmFyIHRleHRDb21wb25lbnRDbGFzcyA9IG51bGw7XG4gIHZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudEluamVjdGlvbiA9IHtcbiAgICBpbmplY3RHZW5lcmljQ29tcG9uZW50Q2xhc3M6IGZ1bmN0aW9uKGNvbXBvbmVudENsYXNzKSB7XG4gICAgICBnZW5lcmljQ29tcG9uZW50Q2xhc3MgPSBjb21wb25lbnRDbGFzcztcbiAgICB9LFxuICAgIGluamVjdFRleHRDb21wb25lbnRDbGFzczogZnVuY3Rpb24oY29tcG9uZW50Q2xhc3MpIHtcbiAgICAgIHRleHRDb21wb25lbnRDbGFzcyA9IGNvbXBvbmVudENsYXNzO1xuICAgIH0sXG4gICAgaW5qZWN0Q29tcG9uZW50Q2xhc3NlczogZnVuY3Rpb24oY29tcG9uZW50Q2xhc3Nlcykge1xuICAgICAgX2Fzc2lnbih0YWdUb0NvbXBvbmVudENsYXNzLCBjb21wb25lbnRDbGFzc2VzKTtcbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIGdldENvbXBvbmVudENsYXNzRm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgaWYgKHR5cGVvZiBlbGVtZW50LnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnR5cGU7XG4gICAgfVxuICAgIHZhciB0YWcgPSBlbGVtZW50LnR5cGU7XG4gICAgdmFyIGNvbXBvbmVudENsYXNzID0gdGFnVG9Db21wb25lbnRDbGFzc1t0YWddO1xuICAgIGlmIChjb21wb25lbnRDbGFzcyA9PSBudWxsKSB7XG4gICAgICB0YWdUb0NvbXBvbmVudENsYXNzW3RhZ10gPSBjb21wb25lbnRDbGFzcyA9IGF1dG9HZW5lcmF0ZVdyYXBwZXJDbGFzcyh0YWcpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50Q2xhc3M7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlSW50ZXJuYWxDb21wb25lbnQoZWxlbWVudCkge1xuICAgICFnZW5lcmljQ29tcG9uZW50Q2xhc3MgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnVGhlcmUgaXMgbm8gcmVnaXN0ZXJlZCBjb21wb25lbnQgZm9yIHRoZSB0YWcgJXMnLCBlbGVtZW50LnR5cGUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gbmV3IGdlbmVyaWNDb21wb25lbnRDbGFzcyhlbGVtZW50KTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZUZvclRleHQodGV4dCkge1xuICAgIHJldHVybiBuZXcgdGV4dENvbXBvbmVudENsYXNzKHRleHQpO1xuICB9XG4gIGZ1bmN0aW9uIGlzVGV4dENvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICByZXR1cm4gY29tcG9uZW50IGluc3RhbmNlb2YgdGV4dENvbXBvbmVudENsYXNzO1xuICB9XG4gIHZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudCA9IHtcbiAgICBnZXRDb21wb25lbnRDbGFzc0ZvckVsZW1lbnQ6IGdldENvbXBvbmVudENsYXNzRm9yRWxlbWVudCxcbiAgICBjcmVhdGVJbnRlcm5hbENvbXBvbmVudDogY3JlYXRlSW50ZXJuYWxDb21wb25lbnQsXG4gICAgY3JlYXRlSW5zdGFuY2VGb3JUZXh0OiBjcmVhdGVJbnN0YW5jZUZvclRleHQsXG4gICAgaXNUZXh0Q29tcG9uZW50OiBpc1RleHRDb21wb25lbnQsXG4gICAgaW5qZWN0aW9uOiBSZWFjdE5hdGl2ZUNvbXBvbmVudEluamVjdGlvblxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0TmF0aXZlQ29tcG9uZW50O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbiAgdmFyIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50ID0gcmVxdWlyZSgnLi9SZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcpO1xuICB2YXIgUmVhY3RFbXB0eUNvbXBvbmVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbXB0eUNvbXBvbmVudCcpO1xuICB2YXIgUmVhY3ROYXRpdmVDb21wb25lbnQgPSByZXF1aXJlKCcuL1JlYWN0TmF0aXZlQ29tcG9uZW50Jyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50V3JhcHBlciA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB0aGlzLmNvbnN0cnVjdChlbGVtZW50KTtcbiAgfTtcbiAgX2Fzc2lnbihSZWFjdENvbXBvc2l0ZUNvbXBvbmVudFdyYXBwZXIucHJvdG90eXBlLCBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudC5NaXhpbiwge19pbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50OiBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50fSk7XG4gIGZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShvd25lcikge1xuICAgIGlmIChvd25lcikge1xuICAgICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICByZXR1cm4gJyBDaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUoaW5zdGFuY2UpIHtcbiAgICB2YXIgZWxlbWVudCA9IGluc3RhbmNlLl9jdXJyZW50RWxlbWVudDtcbiAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyNlbXB0eSc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGVsZW1lbnQgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gJyN0ZXh0JztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50LnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC50eXBlO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuZ2V0TmFtZSkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlLmdldE5hbWUoKSB8fCAnVW5rbm93bic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnR5cGUuZGlzcGxheU5hbWUgfHwgZWxlbWVudC50eXBlLm5hbWUgfHwgJ1Vua25vd24nO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBpc0ludGVybmFsQ29tcG9uZW50VHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB0eXBlLnByb3RvdHlwZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHR5cGUucHJvdG90eXBlLm1vdW50Q29tcG9uZW50ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB0eXBlLnByb3RvdHlwZS5yZWNlaXZlQ29tcG9uZW50ID09PSAnZnVuY3Rpb24nO1xuICB9XG4gIHZhciBuZXh0RGVidWdJRCA9IDE7XG4gIGZ1bmN0aW9uIGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQobm9kZSkge1xuICAgIHZhciBpbnN0YW5jZTtcbiAgICB2YXIgaXNFbXB0eSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gZmFsc2U7XG4gICAgaWYgKGlzRW1wdHkpIHtcbiAgICAgIGluc3RhbmNlID0gUmVhY3RFbXB0eUNvbXBvbmVudC5jcmVhdGUoaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygbm9kZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gbm9kZTtcbiAgICAgICEoZWxlbWVudCAmJiAodHlwZW9mIGVsZW1lbnQudHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgZWxlbWVudC50eXBlID09PSAnc3RyaW5nJykpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0VsZW1lbnQgdHlwZSBpcyBpbnZhbGlkOiBleHBlY3RlZCBhIHN0cmluZyAoZm9yIGJ1aWx0LWluIGNvbXBvbmVudHMpICcgKyAnb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKSBidXQgZ290OiAlcy4lcycsIGVsZW1lbnQudHlwZSA9PSBudWxsID8gZWxlbWVudC50eXBlIDogdHlwZW9mIGVsZW1lbnQudHlwZSwgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKGVsZW1lbnQuX293bmVyKSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGluc3RhbmNlID0gUmVhY3ROYXRpdmVDb21wb25lbnQuY3JlYXRlSW50ZXJuYWxDb21wb25lbnQoZWxlbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKGlzSW50ZXJuYWxDb21wb25lbnRUeXBlKGVsZW1lbnQudHlwZSkpIHtcbiAgICAgICAgaW5zdGFuY2UgPSBuZXcgZWxlbWVudC50eXBlKGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UgPSBuZXcgUmVhY3RDb21wb3NpdGVDb21wb25lbnRXcmFwcGVyKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG5vZGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBub2RlID09PSAnbnVtYmVyJykge1xuICAgICAgaW5zdGFuY2UgPSBSZWFjdE5hdGl2ZUNvbXBvbmVudC5jcmVhdGVJbnN0YW5jZUZvclRleHQobm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFbmNvdW50ZXJlZCBpbnZhbGlkIFJlYWN0IG5vZGUgb2YgdHlwZSAlcycsIHR5cGVvZiBub2RlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh0eXBlb2YgaW5zdGFuY2UubW91bnRDb21wb25lbnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGluc3RhbmNlLnJlY2VpdmVDb21wb25lbnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGluc3RhbmNlLmdldE5hdGl2ZU5vZGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGluc3RhbmNlLnVubW91bnRDb21wb25lbnQgPT09ICdmdW5jdGlvbicsICdPbmx5IFJlYWN0IENvbXBvbmVudHMgY2FuIGJlIG1vdW50ZWQuJykgOiB2b2lkIDA7XG4gICAgfVxuICAgIGluc3RhbmNlLl9tb3VudEluZGV4ID0gMDtcbiAgICBpbnN0YW5jZS5fbW91bnRJbWFnZSA9IG51bGw7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGluc3RhbmNlLl9pc093bmVyTmVjZXNzYXJ5ID0gZmFsc2U7XG4gICAgICBpbnN0YW5jZS5fd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBkZWJ1Z0lEID0gaXNFbXB0eSA/IDAgOiBuZXh0RGVidWdJRCsrO1xuICAgICAgaW5zdGFuY2UuX2RlYnVnSUQgPSBkZWJ1Z0lEO1xuICAgICAgaWYgKGRlYnVnSUQgIT09IDApIHtcbiAgICAgICAgdmFyIGRpc3BsYXlOYW1lID0gZ2V0RGlzcGxheU5hbWUoaW5zdGFuY2UpO1xuICAgICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXREaXNwbGF5TmFtZShkZWJ1Z0lELCBkaXNwbGF5TmFtZSk7XG4gICAgICAgIHZhciBvd25lciA9IG5vZGUgJiYgbm9kZS5fb3duZXI7XG4gICAgICAgIGlmIChvd25lcikge1xuICAgICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldE93bmVyKGRlYnVnSUQsIG93bmVyLl9kZWJ1Z0lEKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucykge1xuICAgICAgICBPYmplY3QucHJldmVudEV4dGVuc2lvbnMoaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBjcmVhdGVNaWNyb3NvZnRVbnNhZmVMb2NhbEZ1bmN0aW9uXG4gKi9cblxuLyogZ2xvYmFscyBNU0FwcCAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlIGEgZnVuY3Rpb24gd2hpY2ggaGFzICd1bnNhZmUnIHByaXZpbGVnZXMgKHJlcXVpcmVkIGJ5IHdpbmRvd3M4IGFwcHMpXG4gKi9cblxudmFyIGNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24gPSBmdW5jdGlvbiAoZnVuYykge1xuICBpZiAodHlwZW9mIE1TQXBwICE9PSAndW5kZWZpbmVkJyAmJiBNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYXJnMCwgYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgTVNBcHAuZXhlY1Vuc2FmZUxvY2FsRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuYyhhcmcwLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbjsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbiAgdmFyIFdISVRFU1BBQ0VfVEVTVCA9IC9eWyBcXHJcXG5cXHRcXGZdLztcbiAgdmFyIE5PTlZJU0lCTEVfVEVTVCA9IC88KCEtLXxsaW5rfG5vc2NyaXB0fG1ldGF8c2NyaXB0fHN0eWxlKVsgXFxyXFxuXFx0XFxmXFwvPl0vO1xuICB2YXIgY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbiA9IHJlcXVpcmUoJy4vY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbicpO1xuICB2YXIgc2V0SW5uZXJIVE1MID0gY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbihub2RlLCBodG1sKSB7XG4gICAgbm9kZS5pbm5lckhUTUwgPSBodG1sO1xuICB9KTtcbiAgaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIHZhciB0ZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRlc3RFbGVtZW50LmlubmVySFRNTCA9ICcgJztcbiAgICBpZiAodGVzdEVsZW1lbnQuaW5uZXJIVE1MID09PSAnJykge1xuICAgICAgc2V0SW5uZXJIVE1MID0gZnVuY3Rpb24obm9kZSwgaHRtbCkge1xuICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChub2RlLCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoV0hJVEVTUEFDRV9URVNULnRlc3QoaHRtbCkgfHwgaHRtbFswXSA9PT0gJzwnICYmIE5PTlZJU0lCTEVfVEVTVC50ZXN0KGh0bWwpKSB7XG4gICAgICAgICAgbm9kZS5pbm5lckhUTUwgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RkVGRikgKyBodG1sO1xuICAgICAgICAgIHZhciB0ZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgICBpZiAodGV4dE5vZGUuZGF0YS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQodGV4dE5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0Tm9kZS5kZWxldGVEYXRhKDAsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIHRlc3RFbGVtZW50ID0gbnVsbDtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IHNldElubmVySFRNTDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogR2l2ZW4gYSBgcHJldkVsZW1lbnRgIGFuZCBgbmV4dEVsZW1lbnRgLCBkZXRlcm1pbmVzIGlmIHRoZSBleGlzdGluZ1xuICogaW5zdGFuY2Ugc2hvdWxkIGJlIHVwZGF0ZWQgYXMgb3Bwb3NlZCB0byBiZWluZyBkZXN0cm95ZWQgb3IgcmVwbGFjZWQgYnkgYSBuZXdcbiAqIGluc3RhbmNlLiBCb3RoIGFyZ3VtZW50cyBhcmUgZWxlbWVudHMuIFRoaXMgZW5zdXJlcyB0aGF0IHRoaXMgbG9naWMgY2FuXG4gKiBvcGVyYXRlIG9uIHN0YXRlbGVzcyB0cmVlcyB3aXRob3V0IGFueSBiYWNraW5nIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gcHJldkVsZW1lbnRcbiAqIEBwYXJhbSB7P29iamVjdH0gbmV4dEVsZW1lbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV4aXN0aW5nIGluc3RhbmNlIHNob3VsZCBiZSB1cGRhdGVkLlxuICogQHByb3RlY3RlZFxuICovXG5cbmZ1bmN0aW9uIHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50KHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCkge1xuICB2YXIgcHJldkVtcHR5ID0gcHJldkVsZW1lbnQgPT09IG51bGwgfHwgcHJldkVsZW1lbnQgPT09IGZhbHNlO1xuICB2YXIgbmV4dEVtcHR5ID0gbmV4dEVsZW1lbnQgPT09IG51bGwgfHwgbmV4dEVsZW1lbnQgPT09IGZhbHNlO1xuICBpZiAocHJldkVtcHR5IHx8IG5leHRFbXB0eSkge1xuICAgIHJldHVybiBwcmV2RW1wdHkgPT09IG5leHRFbXB0eTtcbiAgfVxuXG4gIHZhciBwcmV2VHlwZSA9IHR5cGVvZiBwcmV2RWxlbWVudDtcbiAgdmFyIG5leHRUeXBlID0gdHlwZW9mIG5leHRFbGVtZW50O1xuICBpZiAocHJldlR5cGUgPT09ICdzdHJpbmcnIHx8IHByZXZUeXBlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBuZXh0VHlwZSA9PT0gJ3N0cmluZycgfHwgbmV4dFR5cGUgPT09ICdudW1iZXInO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXh0VHlwZSA9PT0gJ29iamVjdCcgJiYgcHJldkVsZW1lbnQudHlwZSA9PT0gbmV4dEVsZW1lbnQudHlwZSAmJiBwcmV2RWxlbWVudC5rZXkgPT09IG5leHRFbGVtZW50LmtleTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50OyIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgRE9NTGF6eVRyZWUgPSByZXF1aXJlKCcuL0RPTUxhenlUcmVlJyk7XG4gIHZhciBET01Qcm9wZXJ0eSA9IHJlcXVpcmUoJy4vRE9NUHJvcGVydHknKTtcbiAgdmFyIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJy4vUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyJyk7XG4gIHZhciBSZWFjdEN1cnJlbnRPd25lciA9IHJlcXVpcmUoJy4vUmVhY3RDdXJyZW50T3duZXInKTtcbiAgdmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IHJlcXVpcmUoJy4vUmVhY3RET01Db21wb25lbnRUcmVlJyk7XG4gIHZhciBSZWFjdERPTUNvbnRhaW5lckluZm8gPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29udGFpbmVySW5mbycpO1xuICB2YXIgUmVhY3RET01GZWF0dXJlRmxhZ3MgPSByZXF1aXJlKCcuL1JlYWN0RE9NRmVhdHVyZUZsYWdzJyk7XG4gIHZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudCcpO1xuICB2YXIgUmVhY3RGZWF0dXJlRmxhZ3MgPSByZXF1aXJlKCcuL1JlYWN0RmVhdHVyZUZsYWdzJyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIFJlYWN0TWFya3VwQ2hlY2tzdW0gPSByZXF1aXJlKCcuL1JlYWN0TWFya3VwQ2hlY2tzdW0nKTtcbiAgdmFyIFJlYWN0UmVjb25jaWxlciA9IHJlcXVpcmUoJy4vUmVhY3RSZWNvbmNpbGVyJyk7XG4gIHZhciBSZWFjdFVwZGF0ZVF1ZXVlID0gcmVxdWlyZSgnLi9SZWFjdFVwZGF0ZVF1ZXVlJyk7XG4gIHZhciBSZWFjdFVwZGF0ZXMgPSByZXF1aXJlKCcuL1JlYWN0VXBkYXRlcycpO1xuICB2YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eU9iamVjdCcpO1xuICB2YXIgaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCcpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBzZXRJbm5lckhUTUwgPSByZXF1aXJlKCcuL3NldElubmVySFRNTCcpO1xuICB2YXIgc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQgPSByZXF1aXJlKCcuL3Nob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50Jyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgQVRUUl9OQU1FID0gRE9NUHJvcGVydHkuSURfQVRUUklCVVRFX05BTUU7XG4gIHZhciBST09UX0FUVFJfTkFNRSA9IERPTVByb3BlcnR5LlJPT1RfQVRUUklCVVRFX05BTUU7XG4gIHZhciBFTEVNRU5UX05PREVfVFlQRSA9IDE7XG4gIHZhciBET0NfTk9ERV9UWVBFID0gOTtcbiAgdmFyIERPQ1VNRU5UX0ZSQUdNRU5UX05PREVfVFlQRSA9IDExO1xuICB2YXIgaW5zdGFuY2VzQnlSZWFjdFJvb3RJRCA9IHt9O1xuICBmdW5jdGlvbiBmaXJzdERpZmZlcmVuY2VJbmRleChzdHJpbmcxLCBzdHJpbmcyKSB7XG4gICAgdmFyIG1pbkxlbiA9IE1hdGgubWluKHN0cmluZzEubGVuZ3RoLCBzdHJpbmcyLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaW5MZW47IGkrKykge1xuICAgICAgaWYgKHN0cmluZzEuY2hhckF0KGkpICE9PSBzdHJpbmcyLmNoYXJBdChpKSkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZzEubGVuZ3RoID09PSBzdHJpbmcyLmxlbmd0aCA/IC0xIDogbWluTGVuO1xuICB9XG4gIGZ1bmN0aW9uIGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUpIHtcbiAgICAgIHJldHVybiBjb250YWluZXIuZG9jdW1lbnRFbGVtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY29udGFpbmVyLmZpcnN0Q2hpbGQ7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGludGVybmFsR2V0SUQobm9kZSkge1xuICAgIHJldHVybiBub2RlLmdldEF0dHJpYnV0ZSAmJiBub2RlLmdldEF0dHJpYnV0ZShBVFRSX05BTUUpIHx8ICcnO1xuICB9XG4gIGZ1bmN0aW9uIG1vdW50Q29tcG9uZW50SW50b05vZGUod3JhcHBlckluc3RhbmNlLCBjb250YWluZXIsIHRyYW5zYWN0aW9uLCBzaG91bGRSZXVzZU1hcmt1cCwgY29udGV4dCkge1xuICAgIHZhciBtYXJrZXJOYW1lO1xuICAgIGlmIChSZWFjdEZlYXR1cmVGbGFncy5sb2dUb3BMZXZlbFJlbmRlcnMpIHtcbiAgICAgIHZhciB3cmFwcGVkRWxlbWVudCA9IHdyYXBwZXJJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICB2YXIgdHlwZSA9IHdyYXBwZWRFbGVtZW50LnR5cGU7XG4gICAgICBtYXJrZXJOYW1lID0gJ1JlYWN0IG1vdW50OiAnICsgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IHR5cGUgOiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSk7XG4gICAgICBjb25zb2xlLnRpbWUobWFya2VyTmFtZSk7XG4gICAgfVxuICAgIHZhciBtYXJrdXAgPSBSZWFjdFJlY29uY2lsZXIubW91bnRDb21wb25lbnQod3JhcHBlckluc3RhbmNlLCB0cmFuc2FjdGlvbiwgbnVsbCwgUmVhY3RET01Db250YWluZXJJbmZvKHdyYXBwZXJJbnN0YW5jZSwgY29udGFpbmVyKSwgY29udGV4dCk7XG4gICAgaWYgKG1hcmtlck5hbWUpIHtcbiAgICAgIGNvbnNvbGUudGltZUVuZChtYXJrZXJOYW1lKTtcbiAgICB9XG4gICAgd3JhcHBlckluc3RhbmNlLl9yZW5kZXJlZENvbXBvbmVudC5fdG9wTGV2ZWxXcmFwcGVyID0gd3JhcHBlckluc3RhbmNlO1xuICAgIFJlYWN0TW91bnQuX21vdW50SW1hZ2VJbnRvTm9kZShtYXJrdXAsIGNvbnRhaW5lciwgd3JhcHBlckluc3RhbmNlLCBzaG91bGRSZXVzZU1hcmt1cCwgdHJhbnNhY3Rpb24pO1xuICB9XG4gIGZ1bmN0aW9uIGJhdGNoZWRNb3VudENvbXBvbmVudEludG9Ob2RlKGNvbXBvbmVudEluc3RhbmNlLCBjb250YWluZXIsIHNob3VsZFJldXNlTWFya3VwLCBjb250ZXh0KSB7XG4gICAgdmFyIHRyYW5zYWN0aW9uID0gUmVhY3RVcGRhdGVzLlJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24uZ2V0UG9vbGVkKCFzaG91bGRSZXVzZU1hcmt1cCAmJiBSZWFjdERPTUZlYXR1cmVGbGFncy51c2VDcmVhdGVFbGVtZW50KTtcbiAgICB0cmFuc2FjdGlvbi5wZXJmb3JtKG1vdW50Q29tcG9uZW50SW50b05vZGUsIG51bGwsIGNvbXBvbmVudEluc3RhbmNlLCBjb250YWluZXIsIHRyYW5zYWN0aW9uLCBzaG91bGRSZXVzZU1hcmt1cCwgY29udGV4dCk7XG4gICAgUmVhY3RVcGRhdGVzLlJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24ucmVsZWFzZSh0cmFuc2FjdGlvbik7XG4gIH1cbiAgZnVuY3Rpb24gdW5tb3VudENvbXBvbmVudEZyb21Ob2RlKGluc3RhbmNlLCBjb250YWluZXIsIHNhZmVseSkge1xuICAgIFJlYWN0UmVjb25jaWxlci51bm1vdW50Q29tcG9uZW50KGluc3RhbmNlLCBzYWZlbHkpO1xuICAgIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUpIHtcbiAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lci5kb2N1bWVudEVsZW1lbnQ7XG4gICAgfVxuICAgIHdoaWxlIChjb250YWluZXIubGFzdENoaWxkKSB7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY29udGFpbmVyLmxhc3RDaGlsZCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGhhc05vblJvb3RSZWFjdENoaWxkKGNvbnRhaW5lcikge1xuICAgIHZhciByb290RWwgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICBpZiAocm9vdEVsKSB7XG4gICAgICB2YXIgaW5zdCA9IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRJbnN0YW5jZUZyb21Ob2RlKHJvb3RFbCk7XG4gICAgICByZXR1cm4gISEoaW5zdCAmJiBpbnN0Ll9uYXRpdmVQYXJlbnQpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXROYXRpdmVSb290SW5zdGFuY2VJbkNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICB2YXIgcm9vdEVsID0gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgdmFyIHByZXZOYXRpdmVJbnN0YW5jZSA9IHJvb3RFbCAmJiBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShyb290RWwpO1xuICAgIHJldHVybiBwcmV2TmF0aXZlSW5zdGFuY2UgJiYgIXByZXZOYXRpdmVJbnN0YW5jZS5fbmF0aXZlUGFyZW50ID8gcHJldk5hdGl2ZUluc3RhbmNlIDogbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBnZXRUb3BMZXZlbFdyYXBwZXJJbkNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICB2YXIgcm9vdCA9IGdldE5hdGl2ZVJvb3RJbnN0YW5jZUluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgcmV0dXJuIHJvb3QgPyByb290Ll9uYXRpdmVDb250YWluZXJJbmZvLl90b3BMZXZlbFdyYXBwZXIgOiBudWxsO1xuICB9XG4gIHZhciB0b3BMZXZlbFJvb3RDb3VudGVyID0gMTtcbiAgdmFyIFRvcExldmVsV3JhcHBlciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucm9vdElEID0gdG9wTGV2ZWxSb290Q291bnRlcisrO1xuICB9O1xuICBUb3BMZXZlbFdyYXBwZXIucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB7fTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBUb3BMZXZlbFdyYXBwZXIuZGlzcGxheU5hbWUgPSAnVG9wTGV2ZWxXcmFwcGVyJztcbiAgfVxuICBUb3BMZXZlbFdyYXBwZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzO1xuICB9O1xuICB2YXIgUmVhY3RNb3VudCA9IHtcbiAgICBUb3BMZXZlbFdyYXBwZXI6IFRvcExldmVsV3JhcHBlcixcbiAgICBfaW5zdGFuY2VzQnlSZWFjdFJvb3RJRDogaW5zdGFuY2VzQnlSZWFjdFJvb3RJRCxcbiAgICBzY3JvbGxNb25pdG9yOiBmdW5jdGlvbihjb250YWluZXIsIHJlbmRlckNhbGxiYWNrKSB7XG4gICAgICByZW5kZXJDYWxsYmFjaygpO1xuICAgIH0sXG4gICAgX3VwZGF0ZVJvb3RDb21wb25lbnQ6IGZ1bmN0aW9uKHByZXZDb21wb25lbnQsIG5leHRFbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgICBSZWFjdE1vdW50LnNjcm9sbE1vbml0b3IoY29udGFpbmVyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgUmVhY3RVcGRhdGVRdWV1ZS5lbnF1ZXVlRWxlbWVudEludGVybmFsKHByZXZDb21wb25lbnQsIG5leHRFbGVtZW50KTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgUmVhY3RVcGRhdGVRdWV1ZS5lbnF1ZXVlQ2FsbGJhY2tJbnRlcm5hbChwcmV2Q29tcG9uZW50LCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHByZXZDb21wb25lbnQ7XG4gICAgfSxcbiAgICBfcmVuZGVyTmV3Um9vdENvbXBvbmVudDogZnVuY3Rpb24obmV4dEVsZW1lbnQsIGNvbnRhaW5lciwgc2hvdWxkUmV1c2VNYXJrdXAsIGNvbnRleHQpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkJlZ2luRmx1c2goKTtcbiAgICAgIH1cbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPT0gbnVsbCwgJ19yZW5kZXJOZXdSb290Q29tcG9uZW50KCk6IFJlbmRlciBtZXRob2RzIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gJyArICdvZiBwcm9wcyBhbmQgc3RhdGU7IHRyaWdnZXJpbmcgbmVzdGVkIGNvbXBvbmVudCB1cGRhdGVzIGZyb20gJyArICdyZW5kZXIgaXMgbm90IGFsbG93ZWQuIElmIG5lY2Vzc2FyeSwgdHJpZ2dlciBuZXN0ZWQgdXBkYXRlcyBpbiAnICsgJ2NvbXBvbmVudERpZFVwZGF0ZS4gQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgJXMuJywgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LmdldE5hbWUoKSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICEoY29udGFpbmVyICYmIChjb250YWluZXIubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERV9UWVBFIHx8IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ1VNRU5UX0ZSQUdNRU5UX05PREVfVFlQRSkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ19yZWdpc3RlckNvbXBvbmVudCguLi4pOiBUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5lbnN1cmVTY3JvbGxWYWx1ZU1vbml0b3JpbmcoKTtcbiAgICAgIHZhciBjb21wb25lbnRJbnN0YW5jZSA9IGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQobmV4dEVsZW1lbnQpO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgY29tcG9uZW50SW5zdGFuY2UuX2RlYnVnSUQgPSAwO1xuICAgICAgfVxuICAgICAgUmVhY3RVcGRhdGVzLmJhdGNoZWRVcGRhdGVzKGJhdGNoZWRNb3VudENvbXBvbmVudEludG9Ob2RlLCBjb21wb25lbnRJbnN0YW5jZSwgY29udGFpbmVyLCBzaG91bGRSZXVzZU1hcmt1cCwgY29udGV4dCk7XG4gICAgICB2YXIgd3JhcHBlcklEID0gY29tcG9uZW50SW5zdGFuY2UuX2luc3RhbmNlLnJvb3RJRDtcbiAgICAgIGluc3RhbmNlc0J5UmVhY3RSb290SURbd3JhcHBlcklEXSA9IGNvbXBvbmVudEluc3RhbmNlO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTW91bnRSb290Q29tcG9uZW50KGNvbXBvbmVudEluc3RhbmNlLl9yZW5kZXJlZENvbXBvbmVudC5fZGVidWdJRCk7XG4gICAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vbkVuZEZsdXNoKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29tcG9uZW50SW5zdGFuY2U7XG4gICAgfSxcbiAgICByZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjogZnVuY3Rpb24ocGFyZW50Q29tcG9uZW50LCBuZXh0RWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgICAgIShwYXJlbnRDb21wb25lbnQgIT0gbnVsbCAmJiBwYXJlbnRDb21wb25lbnQuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSAhPSBudWxsKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdwYXJlbnRDb21wb25lbnQgbXVzdCBiZSBhIHZhbGlkIFJlYWN0IENvbXBvbmVudCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiBSZWFjdE1vdW50Ll9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihwYXJlbnRDb21wb25lbnQsIG5leHRFbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIF9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjogZnVuY3Rpb24ocGFyZW50Q29tcG9uZW50LCBuZXh0RWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgICAgUmVhY3RVcGRhdGVRdWV1ZS52YWxpZGF0ZUNhbGxiYWNrKGNhbGxiYWNrLCAnUmVhY3RET00ucmVuZGVyJyk7XG4gICAgICAhUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KG5leHRFbGVtZW50KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdERPTS5yZW5kZXIoKTogSW52YWxpZCBjb21wb25lbnQgZWxlbWVudC4lcycsIHR5cGVvZiBuZXh0RWxlbWVudCA9PT0gJ3N0cmluZycgPyAnIEluc3RlYWQgb2YgcGFzc2luZyBhIHN0cmluZyBsaWtlIFxcJ2RpdlxcJywgcGFzcyAnICsgJ1JlYWN0LmNyZWF0ZUVsZW1lbnQoXFwnZGl2XFwnKSBvciA8ZGl2IC8+LicgOiB0eXBlb2YgbmV4dEVsZW1lbnQgPT09ICdmdW5jdGlvbicgPyAnIEluc3RlYWQgb2YgcGFzc2luZyBhIGNsYXNzIGxpa2UgRm9vLCBwYXNzICcgKyAnUmVhY3QuY3JlYXRlRWxlbWVudChGb28pIG9yIDxGb28gLz4uJyA6IG5leHRFbGVtZW50ICE9IG51bGwgJiYgbmV4dEVsZW1lbnQucHJvcHMgIT09IHVuZGVmaW5lZCA/ICcgVGhpcyBtYXkgYmUgY2F1c2VkIGJ5IHVuaW50ZW50aW9uYWxseSBsb2FkaW5nIHR3byBpbmRlcGVuZGVudCAnICsgJ2NvcGllcyBvZiBSZWFjdC4nIDogJycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFjb250YWluZXIgfHwgIWNvbnRhaW5lci50YWdOYW1lIHx8IGNvbnRhaW5lci50YWdOYW1lLnRvVXBwZXJDYXNlKCkgIT09ICdCT0RZJywgJ3JlbmRlcigpOiBSZW5kZXJpbmcgY29tcG9uZW50cyBkaXJlY3RseSBpbnRvIGRvY3VtZW50LmJvZHkgaXMgJyArICdkaXNjb3VyYWdlZCwgc2luY2UgaXRzIGNoaWxkcmVuIGFyZSBvZnRlbiBtYW5pcHVsYXRlZCBieSB0aGlyZC1wYXJ0eSAnICsgJ3NjcmlwdHMgYW5kIGJyb3dzZXIgZXh0ZW5zaW9ucy4gVGhpcyBtYXkgbGVhZCB0byBzdWJ0bGUgJyArICdyZWNvbmNpbGlhdGlvbiBpc3N1ZXMuIFRyeSByZW5kZXJpbmcgaW50byBhIGNvbnRhaW5lciBlbGVtZW50IGNyZWF0ZWQgJyArICdmb3IgeW91ciBhcHAuJykgOiB2b2lkIDA7XG4gICAgICB2YXIgbmV4dFdyYXBwZWRFbGVtZW50ID0gUmVhY3RFbGVtZW50KFRvcExldmVsV3JhcHBlciwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbmV4dEVsZW1lbnQpO1xuICAgICAgdmFyIHByZXZDb21wb25lbnQgPSBnZXRUb3BMZXZlbFdyYXBwZXJJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgaWYgKHByZXZDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIHByZXZXcmFwcGVkRWxlbWVudCA9IHByZXZDb21wb25lbnQuX2N1cnJlbnRFbGVtZW50O1xuICAgICAgICB2YXIgcHJldkVsZW1lbnQgPSBwcmV2V3JhcHBlZEVsZW1lbnQucHJvcHM7XG4gICAgICAgIGlmIChzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudChwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQpKSB7XG4gICAgICAgICAgdmFyIHB1YmxpY0luc3QgPSBwcmV2Q29tcG9uZW50Ll9yZW5kZXJlZENvbXBvbmVudC5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgICAgICAgIHZhciB1cGRhdGVkQ2FsbGJhY2sgPSBjYWxsYmFjayAmJiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwocHVibGljSW5zdCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBSZWFjdE1vdW50Ll91cGRhdGVSb290Q29tcG9uZW50KHByZXZDb21wb25lbnQsIG5leHRXcmFwcGVkRWxlbWVudCwgY29udGFpbmVyLCB1cGRhdGVkQ2FsbGJhY2spO1xuICAgICAgICAgIHJldHVybiBwdWJsaWNJbnN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFJlYWN0TW91bnQudW5tb3VudENvbXBvbmVudEF0Tm9kZShjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgcmVhY3RSb290RWxlbWVudCA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgdmFyIGNvbnRhaW5lckhhc1JlYWN0TWFya3VwID0gcmVhY3RSb290RWxlbWVudCAmJiAhIWludGVybmFsR2V0SUQocmVhY3RSb290RWxlbWVudCk7XG4gICAgICB2YXIgY29udGFpbmVySGFzTm9uUm9vdFJlYWN0Q2hpbGQgPSBoYXNOb25Sb290UmVhY3RDaGlsZChjb250YWluZXIpO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWNvbnRhaW5lckhhc05vblJvb3RSZWFjdENoaWxkLCAncmVuZGVyKC4uLik6IFJlcGxhY2luZyBSZWFjdC1yZW5kZXJlZCBjaGlsZHJlbiB3aXRoIGEgbmV3IHJvb3QgJyArICdjb21wb25lbnQuIElmIHlvdSBpbnRlbmRlZCB0byB1cGRhdGUgdGhlIGNoaWxkcmVuIG9mIHRoaXMgbm9kZSwgJyArICd5b3Ugc2hvdWxkIGluc3RlYWQgaGF2ZSB0aGUgZXhpc3RpbmcgY2hpbGRyZW4gdXBkYXRlIHRoZWlyIHN0YXRlICcgKyAnYW5kIHJlbmRlciB0aGUgbmV3IGNvbXBvbmVudHMgaW5zdGVhZCBvZiBjYWxsaW5nIFJlYWN0RE9NLnJlbmRlci4nKSA6IHZvaWQgMDtcbiAgICAgICAgaWYgKCFjb250YWluZXJIYXNSZWFjdE1hcmt1cCB8fCByZWFjdFJvb3RFbGVtZW50Lm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgdmFyIHJvb3RFbGVtZW50U2libGluZyA9IHJlYWN0Um9vdEVsZW1lbnQ7XG4gICAgICAgICAgd2hpbGUgKHJvb3RFbGVtZW50U2libGluZykge1xuICAgICAgICAgICAgaWYgKGludGVybmFsR2V0SUQocm9vdEVsZW1lbnRTaWJsaW5nKSkge1xuICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ3JlbmRlcigpOiBUYXJnZXQgbm9kZSBoYXMgbWFya3VwIHJlbmRlcmVkIGJ5IFJlYWN0LCBidXQgdGhlcmUgJyArICdhcmUgdW5yZWxhdGVkIG5vZGVzIGFzIHdlbGwuIFRoaXMgaXMgbW9zdCBjb21tb25seSBjYXVzZWQgYnkgJyArICd3aGl0ZS1zcGFjZSBpbnNlcnRlZCBhcm91bmQgc2VydmVyLXJlbmRlcmVkIG1hcmt1cC4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb290RWxlbWVudFNpYmxpbmcgPSByb290RWxlbWVudFNpYmxpbmcubmV4dFNpYmxpbmc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgc2hvdWxkUmV1c2VNYXJrdXAgPSBjb250YWluZXJIYXNSZWFjdE1hcmt1cCAmJiAhcHJldkNvbXBvbmVudCAmJiAhY29udGFpbmVySGFzTm9uUm9vdFJlYWN0Q2hpbGQ7XG4gICAgICB2YXIgY29tcG9uZW50ID0gUmVhY3RNb3VudC5fcmVuZGVyTmV3Um9vdENvbXBvbmVudChuZXh0V3JhcHBlZEVsZW1lbnQsIGNvbnRhaW5lciwgc2hvdWxkUmV1c2VNYXJrdXAsIHBhcmVudENvbXBvbmVudCAhPSBudWxsID8gcGFyZW50Q29tcG9uZW50Ll9yZWFjdEludGVybmFsSW5zdGFuY2UuX3Byb2Nlc3NDaGlsZENvbnRleHQocGFyZW50Q29tcG9uZW50Ll9yZWFjdEludGVybmFsSW5zdGFuY2UuX2NvbnRleHQpIDogZW1wdHlPYmplY3QpLl9yZW5kZXJlZENvbXBvbmVudC5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwoY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKG5leHRFbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gUmVhY3RNb3VudC5fcmVuZGVyU3VidHJlZUludG9Db250YWluZXIobnVsbCwgbmV4dEVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgdW5tb3VudENvbXBvbmVudEF0Tm9kZTogZnVuY3Rpb24oY29udGFpbmVyKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID09IG51bGwsICd1bm1vdW50Q29tcG9uZW50QXROb2RlKCk6IFJlbmRlciBtZXRob2RzIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gJyArICdvZiBwcm9wcyBhbmQgc3RhdGU7IHRyaWdnZXJpbmcgbmVzdGVkIGNvbXBvbmVudCB1cGRhdGVzIGZyb20gcmVuZGVyICcgKyAnaXMgbm90IGFsbG93ZWQuIElmIG5lY2Vzc2FyeSwgdHJpZ2dlciBuZXN0ZWQgdXBkYXRlcyBpbiAnICsgJ2NvbXBvbmVudERpZFVwZGF0ZS4gQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgJXMuJywgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LmdldE5hbWUoKSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgICEoY29udGFpbmVyICYmIChjb250YWluZXIubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERV9UWVBFIHx8IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ1VNRU5UX0ZSQUdNRU5UX05PREVfVFlQRSkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3VubW91bnRDb21wb25lbnRBdE5vZGUoLi4uKTogVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgcHJldkNvbXBvbmVudCA9IGdldFRvcExldmVsV3JhcHBlckluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgICBpZiAoIXByZXZDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lckhhc05vblJvb3RSZWFjdENoaWxkID0gaGFzTm9uUm9vdFJlYWN0Q2hpbGQoY29udGFpbmVyKTtcbiAgICAgICAgdmFyIGlzQ29udGFpbmVyUmVhY3RSb290ID0gY29udGFpbmVyLm5vZGVUeXBlID09PSAxICYmIGNvbnRhaW5lci5oYXNBdHRyaWJ1dGUoUk9PVF9BVFRSX05BTUUpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFjb250YWluZXJIYXNOb25Sb290UmVhY3RDaGlsZCwgJ3VubW91bnRDb21wb25lbnRBdE5vZGUoKTogVGhlIG5vZGUgeW91XFwncmUgYXR0ZW1wdGluZyB0byB1bm1vdW50ICcgKyAnd2FzIHJlbmRlcmVkIGJ5IFJlYWN0IGFuZCBpcyBub3QgYSB0b3AtbGV2ZWwgY29udGFpbmVyLiAlcycsIGlzQ29udGFpbmVyUmVhY3RSb290ID8gJ1lvdSBtYXkgaGF2ZSBhY2NpZGVudGFsbHkgcGFzc2VkIGluIGEgUmVhY3Qgcm9vdCBub2RlIGluc3RlYWQgJyArICdvZiBpdHMgY29udGFpbmVyLicgOiAnSW5zdGVhZCwgaGF2ZSB0aGUgcGFyZW50IGNvbXBvbmVudCB1cGRhdGUgaXRzIHN0YXRlIGFuZCAnICsgJ3JlcmVuZGVyIGluIG9yZGVyIHRvIHJlbW92ZSB0aGlzIGNvbXBvbmVudC4nKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBkZWxldGUgaW5zdGFuY2VzQnlSZWFjdFJvb3RJRFtwcmV2Q29tcG9uZW50Ll9pbnN0YW5jZS5yb290SURdO1xuICAgICAgUmVhY3RVcGRhdGVzLmJhdGNoZWRVcGRhdGVzKHVubW91bnRDb21wb25lbnRGcm9tTm9kZSwgcHJldkNvbXBvbmVudCwgY29udGFpbmVyLCBmYWxzZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIF9tb3VudEltYWdlSW50b05vZGU6IGZ1bmN0aW9uKG1hcmt1cCwgY29udGFpbmVyLCBpbnN0YW5jZSwgc2hvdWxkUmV1c2VNYXJrdXAsIHRyYW5zYWN0aW9uKSB7XG4gICAgICAhKGNvbnRhaW5lciAmJiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUgfHwgY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFX1RZUEUpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdtb3VudENvbXBvbmVudEludG9Ob2RlKC4uLik6IFRhcmdldCBjb250YWluZXIgaXMgbm90IHZhbGlkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIGlmIChzaG91bGRSZXVzZU1hcmt1cCkge1xuICAgICAgICB2YXIgcm9vdEVsZW1lbnQgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgaWYgKFJlYWN0TWFya3VwQ2hlY2tzdW0uY2FuUmV1c2VNYXJrdXAobWFya3VwLCByb290RWxlbWVudCkpIHtcbiAgICAgICAgICBSZWFjdERPTUNvbXBvbmVudFRyZWUucHJlY2FjaGVOb2RlKGluc3RhbmNlLCByb290RWxlbWVudCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBjaGVja3N1bSA9IHJvb3RFbGVtZW50LmdldEF0dHJpYnV0ZShSZWFjdE1hcmt1cENoZWNrc3VtLkNIRUNLU1VNX0FUVFJfTkFNRSk7XG4gICAgICAgICAgcm9vdEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFJlYWN0TWFya3VwQ2hlY2tzdW0uQ0hFQ0tTVU1fQVRUUl9OQU1FKTtcbiAgICAgICAgICB2YXIgcm9vdE1hcmt1cCA9IHJvb3RFbGVtZW50Lm91dGVySFRNTDtcbiAgICAgICAgICByb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoUmVhY3RNYXJrdXBDaGVja3N1bS5DSEVDS1NVTV9BVFRSX05BTUUsIGNoZWNrc3VtKTtcbiAgICAgICAgICB2YXIgbm9ybWFsaXplZE1hcmt1cCA9IG1hcmt1cDtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZXI7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREVfVFlQRSkge1xuICAgICAgICAgICAgICBub3JtYWxpemVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgIG5vcm1hbGl6ZXIuaW5uZXJIVE1MID0gbWFya3VwO1xuICAgICAgICAgICAgICBub3JtYWxpemVkTWFya3VwID0gbm9ybWFsaXplci5pbm5lckhUTUw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBub3JtYWxpemVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm9ybWFsaXplcik7XG4gICAgICAgICAgICAgIG5vcm1hbGl6ZXIuY29udGVudERvY3VtZW50LndyaXRlKG1hcmt1cCk7XG4gICAgICAgICAgICAgIG5vcm1hbGl6ZWRNYXJrdXAgPSBub3JtYWxpemVyLmNvbnRlbnREb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MO1xuICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG5vcm1hbGl6ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZGlmZkluZGV4ID0gZmlyc3REaWZmZXJlbmNlSW5kZXgobm9ybWFsaXplZE1hcmt1cCwgcm9vdE1hcmt1cCk7XG4gICAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSAnIChjbGllbnQpICcgKyBub3JtYWxpemVkTWFya3VwLnN1YnN0cmluZyhkaWZmSW5kZXggLSAyMCwgZGlmZkluZGV4ICsgMjApICsgJ1xcbiAoc2VydmVyKSAnICsgcm9vdE1hcmt1cC5zdWJzdHJpbmcoZGlmZkluZGV4IC0gMjAsIGRpZmZJbmRleCArIDIwKTtcbiAgICAgICAgICAhKGNvbnRhaW5lci5ub2RlVHlwZSAhPT0gRE9DX05PREVfVFlQRSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnWW91XFwncmUgdHJ5aW5nIHRvIHJlbmRlciBhIGNvbXBvbmVudCB0byB0aGUgZG9jdW1lbnQgdXNpbmcgJyArICdzZXJ2ZXIgcmVuZGVyaW5nIGJ1dCB0aGUgY2hlY2tzdW0gd2FzIGludmFsaWQuIFRoaXMgdXN1YWxseSAnICsgJ21lYW5zIHlvdSByZW5kZXJlZCBhIGRpZmZlcmVudCBjb21wb25lbnQgdHlwZSBvciBwcm9wcyBvbiAnICsgJ3RoZSBjbGllbnQgZnJvbSB0aGUgb25lIG9uIHRoZSBzZXJ2ZXIsIG9yIHlvdXIgcmVuZGVyKCkgJyArICdtZXRob2RzIGFyZSBpbXB1cmUuIFJlYWN0IGNhbm5vdCBoYW5kbGUgdGhpcyBjYXNlIGR1ZSB0byAnICsgJ2Nyb3NzLWJyb3dzZXIgcXVpcmtzIGJ5IHJlbmRlcmluZyBhdCB0aGUgZG9jdW1lbnQgcm9vdC4gWW91ICcgKyAnc2hvdWxkIGxvb2sgZm9yIGVudmlyb25tZW50IGRlcGVuZGVudCBjb2RlIGluIHlvdXIgY29tcG9uZW50cyAnICsgJ2FuZCBlbnN1cmUgdGhlIHByb3BzIGFyZSB0aGUgc2FtZSBjbGllbnQgYW5kIHNlcnZlciBzaWRlOlxcbiVzJywgZGlmZmVyZW5jZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ1JlYWN0IGF0dGVtcHRlZCB0byByZXVzZSBtYXJrdXAgaW4gYSBjb250YWluZXIgYnV0IHRoZSAnICsgJ2NoZWNrc3VtIHdhcyBpbnZhbGlkLiBUaGlzIGdlbmVyYWxseSBtZWFucyB0aGF0IHlvdSBhcmUgJyArICd1c2luZyBzZXJ2ZXIgcmVuZGVyaW5nIGFuZCB0aGUgbWFya3VwIGdlbmVyYXRlZCBvbiB0aGUgJyArICdzZXJ2ZXIgd2FzIG5vdCB3aGF0IHRoZSBjbGllbnQgd2FzIGV4cGVjdGluZy4gUmVhY3QgaW5qZWN0ZWQgJyArICduZXcgbWFya3VwIHRvIGNvbXBlbnNhdGUgd2hpY2ggd29ya3MgYnV0IHlvdSBoYXZlIGxvc3QgbWFueSAnICsgJ29mIHRoZSBiZW5lZml0cyBvZiBzZXJ2ZXIgcmVuZGVyaW5nLiBJbnN0ZWFkLCBmaWd1cmUgb3V0ICcgKyAnd2h5IHRoZSBtYXJrdXAgYmVpbmcgZ2VuZXJhdGVkIGlzIGRpZmZlcmVudCBvbiB0aGUgY2xpZW50ICcgKyAnb3Igc2VydmVyOlxcbiVzJywgZGlmZmVyZW5jZSkgOiB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAhKGNvbnRhaW5lci5ub2RlVHlwZSAhPT0gRE9DX05PREVfVFlQRSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnWW91XFwncmUgdHJ5aW5nIHRvIHJlbmRlciBhIGNvbXBvbmVudCB0byB0aGUgZG9jdW1lbnQgYnV0ICcgKyAneW91IGRpZG5cXCd0IHVzZSBzZXJ2ZXIgcmVuZGVyaW5nLiBXZSBjYW5cXCd0IGRvIHRoaXMgJyArICd3aXRob3V0IHVzaW5nIHNlcnZlciByZW5kZXJpbmcgZHVlIHRvIGNyb3NzLWJyb3dzZXIgcXVpcmtzLiAnICsgJ1NlZSBSZWFjdERPTVNlcnZlci5yZW5kZXJUb1N0cmluZygpIGZvciBzZXJ2ZXIgcmVuZGVyaW5nLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIGlmICh0cmFuc2FjdGlvbi51c2VDcmVhdGVFbGVtZW50KSB7XG4gICAgICAgIHdoaWxlIChjb250YWluZXIubGFzdENoaWxkKSB7XG4gICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5sYXN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIERPTUxhenlUcmVlLmluc2VydFRyZWVCZWZvcmUoY29udGFpbmVyLCBtYXJrdXAsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SW5uZXJIVE1MKGNvbnRhaW5lciwgbWFya3VwKTtcbiAgICAgICAgUmVhY3RET01Db21wb25lbnRUcmVlLnByZWNhY2hlTm9kZShpbnN0YW5jZSwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIG5hdGl2ZU5vZGUgPSBSZWFjdERPTUNvbXBvbmVudFRyZWUuZ2V0SW5zdGFuY2VGcm9tTm9kZShjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIGlmIChuYXRpdmVOb2RlLl9kZWJ1Z0lEICE9PSAwKSB7XG4gICAgICAgICAgUmVhY3RJbnN0cnVtZW50YXRpb24uZGVidWdUb29sLm9uTmF0aXZlT3BlcmF0aW9uKG5hdGl2ZU5vZGUuX2RlYnVnSUQsICdtb3VudCcsIG1hcmt1cC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdE1vdW50O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIFJlYWN0TW91bnQgPSByZXF1aXJlKCcuL1JlYWN0TW91bnQnKTtcbm1vZHVsZS5leHBvcnRzID0gUmVhY3RNb3VudC5yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gcmVxdWlyZSgnLi9SZWFjdERPTUNvbXBvbmVudFRyZWUnKTtcbiAgdmFyIFJlYWN0RGVmYXVsdEluamVjdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3REZWZhdWx0SW5qZWN0aW9uJyk7XG4gIHZhciBSZWFjdE1vdW50ID0gcmVxdWlyZSgnLi9SZWFjdE1vdW50Jyk7XG4gIHZhciBSZWFjdFJlY29uY2lsZXIgPSByZXF1aXJlKCcuL1JlYWN0UmVjb25jaWxlcicpO1xuICB2YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZSgnLi9SZWFjdFVwZGF0ZXMnKTtcbiAgdmFyIFJlYWN0VmVyc2lvbiA9IHJlcXVpcmUoJy4vUmVhY3RWZXJzaW9uJyk7XG4gIHZhciBmaW5kRE9NTm9kZSA9IHJlcXVpcmUoJy4vZmluZERPTU5vZGUnKTtcbiAgdmFyIGdldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUgPSByZXF1aXJlKCcuL2dldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUnKTtcbiAgdmFyIHJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyID0gcmVxdWlyZSgnLi9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcicpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgUmVhY3REZWZhdWx0SW5qZWN0aW9uLmluamVjdCgpO1xuICB2YXIgUmVhY3QgPSB7XG4gICAgZmluZERPTU5vZGU6IGZpbmRET01Ob2RlLFxuICAgIHJlbmRlcjogUmVhY3RNb3VudC5yZW5kZXIsXG4gICAgdW5tb3VudENvbXBvbmVudEF0Tm9kZTogUmVhY3RNb3VudC51bm1vdW50Q29tcG9uZW50QXROb2RlLFxuICAgIHZlcnNpb246IFJlYWN0VmVyc2lvbixcbiAgICB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlczogUmVhY3RVcGRhdGVzLmJhdGNoZWRVcGRhdGVzLFxuICAgIHVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyOiByZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lclxuICB9O1xuICBpZiAodHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5pbmplY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uaW5qZWN0KHtcbiAgICAgIENvbXBvbmVudFRyZWU6IHtcbiAgICAgICAgZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGU6IFJlYWN0RE9NQ29tcG9uZW50VHJlZS5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZSxcbiAgICAgICAgZ2V0Tm9kZUZyb21JbnN0YW5jZTogZnVuY3Rpb24oaW5zdCkge1xuICAgICAgICAgIGlmIChpbnN0Ll9yZW5kZXJlZENvbXBvbmVudCkge1xuICAgICAgICAgICAgaW5zdCA9IGdldE5hdGl2ZUNvbXBvbmVudEZyb21Db21wb3NpdGUoaW5zdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbnN0KSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3RET01Db21wb25lbnRUcmVlLmdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIE1vdW50OiBSZWFjdE1vdW50LFxuICAgICAgUmVjb25jaWxlcjogUmVhY3RSZWNvbmNpbGVyXG4gICAgfSk7XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuICAgIGlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgd2luZG93LnRvcCA9PT0gd2luZG93LnNlbGYpIHtcbiAgICAgIGlmICh0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSA+IC0xICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRWRnZScpID09PSAtMSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA+IC0xKSB7XG4gICAgICAgICAgdmFyIHNob3dGaWxlVXJsTWVzc2FnZSA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKCdodHRwJykgPT09IC0xICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID09PSAtMTtcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKCdEb3dubG9hZCB0aGUgUmVhY3QgRGV2VG9vbHMgJyArIChzaG93RmlsZVVybE1lc3NhZ2UgPyAnYW5kIHVzZSBhbiBIVFRQIHNlcnZlciAoaW5zdGVhZCBvZiBhIGZpbGU6IFVSTCkgJyA6ICcnKSArICdmb3IgYSBiZXR0ZXIgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZTogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWRldnRvb2xzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciB0ZXN0RnVuYyA9IGZ1bmN0aW9uIHRlc3RGbigpIHt9O1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoKHRlc3RGdW5jLm5hbWUgfHwgdGVzdEZ1bmMudG9TdHJpbmcoKSkuaW5kZXhPZigndGVzdEZuJykgIT09IC0xLCAnSXQgbG9va3MgbGlrZSB5b3VcXCdyZSB1c2luZyBhIG1pbmlmaWVkIGNvcHkgb2YgdGhlIGRldmVsb3BtZW50IGJ1aWxkICcgKyAnb2YgUmVhY3QuIFdoZW4gZGVwbG95aW5nIFJlYWN0IGFwcHMgdG8gcHJvZHVjdGlvbiwgbWFrZSBzdXJlIHRvIHVzZSAnICsgJ3RoZSBwcm9kdWN0aW9uIGJ1aWxkIHdoaWNoIHNraXBzIGRldmVsb3BtZW50IHdhcm5pbmdzIGFuZCBpcyBmYXN0ZXIuICcgKyAnU2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtbWluaWZpY2F0aW9uIGZvciBtb3JlIGRldGFpbHMuJykgOiB2b2lkIDA7XG4gICAgICB2YXIgaWVDb21wYXRpYmlsaXR5TW9kZSA9IGRvY3VtZW50LmRvY3VtZW50TW9kZSAmJiBkb2N1bWVudC5kb2N1bWVudE1vZGUgPCA4O1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWllQ29tcGF0aWJpbGl0eU1vZGUsICdJbnRlcm5ldCBFeHBsb3JlciBpcyBydW5uaW5nIGluIGNvbXBhdGliaWxpdHkgbW9kZTsgcGxlYXNlIGFkZCB0aGUgJyArICdmb2xsb3dpbmcgdGFnIHRvIHlvdXIgSFRNTCB0byBwcmV2ZW50IHRoaXMgZnJvbSBoYXBwZW5pbmc6ICcgKyAnPG1ldGEgaHR0cC1lcXVpdj1cIlgtVUEtQ29tcGF0aWJsZVwiIGNvbnRlbnQ9XCJJRT1lZGdlXCIgLz4nKSA6IHZvaWQgMDtcbiAgICAgIHZhciBleHBlY3RlZEZlYXR1cmVzID0gW0FycmF5LmlzQXJyYXksIEFycmF5LnByb3RvdHlwZS5ldmVyeSwgQXJyYXkucHJvdG90eXBlLmZvckVhY2gsIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLCBBcnJheS5wcm90b3R5cGUubWFwLCBEYXRlLm5vdywgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsIE9iamVjdC5rZXlzLCBTdHJpbmcucHJvdG90eXBlLnNwbGl0LCBTdHJpbmcucHJvdG90eXBlLnRyaW1dO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3RlZEZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghZXhwZWN0ZWRGZWF0dXJlc1tpXSkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnT25lIG9yIG1vcmUgRVM1IHNoaW1zIGV4cGVjdGVkIGJ5IFJlYWN0IGFyZSBub3QgYXZhaWxhYmxlOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1wb2x5ZmlsbHMnKSA6IHZvaWQgMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ3JlYWN0L2xpYi9SZWFjdERPTScpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibnBtOnJlYWN0LWRvbUAxNS4xLjAvaW5kZXguanNcIik7IiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuY29uc3QgTWFpbkhlYWRlciA9ICgpID0+IChcbiAgPGhlYWRlciBjbGFzc05hbWU9J2hlYWRlcicgcm9sZT0nYmFubmVyJz5cbiAgICA8YSBjbGFzc05hbWU9J2xvZ28nIGhyZWY9Jy4vJyByb2xlPSdsb2dvJz5cbiAgICAgIDxpbWcgc3JjPSdzdmcvbG9nby5zdmcnIC8+XG4gICAgPC9hPlxuICAgIDxhXG4gICAgICBjbGFzc05hbWU9J2J0bi1saW5rJ1xuICAgICAgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL2Zyb250ZW5kYnIvZXZlbnRvcydcbiAgICAgIHRpdGxlPSdBbnVuY2llIHNldSBldmVudG8nPlxuICAgICAgICBBbnVuY2lhciBFdmVudG9cbiAgICA8L2E+XG4gIDwvaGVhZGVyPlxuKVxuXG5leHBvcnQgZGVmYXVsdCBNYWluSGVhZGVyXG4iLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0LCB7IFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IExhenlJbWcgZnJvbSAnLi9sYXp5LWltZydcblxuY29uc3QgQmFubmVyQm94ID0gKHsgbGluaywgdGl0bGUsIGRhdGUsIGltYWdlIH0pID0+IChcbiAgPGEgY2xhc3NOYW1lPSdiYW5uZXItYm94JyBocmVmPXtsaW5rfSB0aXRsZT17YCR7dGl0bGV9ICR7ZGF0ZX1gfT5cbiAgICB7ISFpbWFnZSAmJiA8TGF6eUltZyBzcmM9e2ltYWdlfSBhbHQ9e3RpdGxlfSAvPn1cbiAgICA8aDIgY2xhc3NOYW1lPSd0aXRsZSc+XG4gICAgICB7YCR7dGl0bGV9IGB9PHNwYW4gY2xhc3NOYW1lPSdkYXRlJz57ZGF0ZX08L3NwYW4+XG4gICAgPC9oMj5cbiAgPC9hPlxuKVxuXG5CYW5uZXJCb3guZGVmYXVsdFByb3BzID0ge1xuICBsaW5rOiAnIydcbn1cblxuQmFubmVyQm94LnByb3BUeXBlcyA9IHtcbiAgdGl0bGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgZGF0ZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBsaW5rOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBpbWFnZTogUHJvcFR5cGVzLnN0cmluZ1xufVxuXG5leHBvcnQgZGVmYXVsdCBCYW5uZXJCb3hcbiIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgQmFubmVyQm94IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvYmFubmVyLWJveCdcblxuY29uc3QgZ2V0RGF0ZSA9IChkYXRlKSA9PiB7XG4gIHJldHVybiBgJHtkYXRlLmRheX0gLSAke2RhdGUubW9udGh9YFxufVxuXG5jb25zdCBIZWFkZXJCYW5uZXIgPSAoeyBldmVudHMgfSkgPT4gKFxuICA8c2VjdGlvbiBjbGFzc05hbWU9J2Jhbm5lcic+XG4gICAgPGRpdiBjbGFzc05hbWU9J2Jhbm5lci1tYWluJz5cbiAgICAgIDxCYW5uZXJCb3hcbiAgICAgICAgbGluaz17ZXZlbnRzWzBdLmxpbmt9XG4gICAgICAgIHRpdGxlPXtldmVudHNbMF0udGl0bGV9XG4gICAgICAgIGRhdGU9e2dldERhdGUoZXZlbnRzWzBdLmRhdGUpfVxuICAgICAgICBpbWFnZT17ZXZlbnRzWzBdLmltYWdlfSAvPlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBrZXk9ezB9IGNsYXNzTmFtZT0nYmFubmVyLWFzaWRlJz5cbiAgICAgIHtldmVudHMuc2xpY2UoMSwgMykubWFwKChldmVudCwgaW5kZXgpID0+IChcbiAgICAgICAgPEJhbm5lckJveFxuICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgbGluaz17ZXZlbnQubGlua31cbiAgICAgICAgICB0aXRsZT17ZXZlbnQudGl0bGV9XG4gICAgICAgICAgZGF0ZT17Z2V0RGF0ZShldmVudC5kYXRlKX0gLz5cbiAgICAgICkpfVxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBrZXk9ezF9IGNsYXNzTmFtZT0nYmFubmVyLWFzaWRlJz5cbiAgICAgIHtldmVudHMuc2xpY2UoMykubWFwKChldmVudCwgaW5kZXgpID0+IChcbiAgICAgICAgPEJhbm5lckJveFxuICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgbGluaz17ZXZlbnQubGlua31cbiAgICAgICAgICB0aXRsZT17ZXZlbnQudGl0bGV9XG4gICAgICAgICAgZGF0ZT17Z2V0RGF0ZShldmVudC5kYXRlKX0gLz5cbiAgICAgICkpfVxuICAgIDwvZGl2PlxuICA8L3NlY3Rpb24+XG4pXG5cbkhlYWRlckJhbm5lci5wcm9wVHlwZXMgPSB7XG4gIGV2ZW50czogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWRcbn1cblxuZXhwb3J0IGRlZmF1bHQgSGVhZGVyQmFubmVyXG4iLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0LCB7IFByb3BUeXBlcywgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgSGVhZGVyQmFubmVyIGZyb20gJy4vaGVhZGVyLWJhbm5lcidcbi8vIGltcG9ydCBIZWFkZXJGaWx0ZXIgZnJvbSAnLi9oZWFkZXItZmlsdGVyJ1xuaW1wb3J0IHsgZmV0Y2hFdmVudHMgfSBmcm9tICcuLi8uLi9hY3Rpb25zL2luZGV4J1xuXG5jbGFzcyBIZWFkZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChmZXRjaEV2ZW50cygpKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9J3dlbGxuZXNzJz5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT0ndGl0bGUnPlxuICAgICAgICAgIEVuY29udHJlIGV2ZW50b3MgZGUgRnJvbnQtRW5kIGVtIHRvZG8gbyBCcmFzaWxcbiAgICAgICAgPC9oMT5cblxuICAgICAgICA8SGVhZGVyQmFubmVyIGV2ZW50cz17dGhpcy5wcm9wcy5ldmVudHN9IC8+XG4gICAgICAgIHsvKiA8SGVhZGVyRmlsdGVyIC8+ICovfVxuICAgICAgPC9oZWFkZXI+XG4gICAgKVxuICB9XG59XG5cbkhlYWRlci5wcm9wVHlwZXMgPSB7XG4gIGV2ZW50czogUHJvcFR5cGVzLnNoYXBlLmlzUmVxdWlyZWRcbn1cblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlKSA9PiAoe1xuICBldmVudHM6IHN0YXRlLmV2ZW50cy5ldmVudHMuZmlsdGVyKChfLCBpbmRleCkgPT4gaW5kZXggPCA1KVxufSlcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKEhlYWRlcilcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcbiAgdmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4gIHZhciBfc3RvcmVTaGFwZSA9IHJlcXVpcmUoJy4uL3V0aWxzL3N0b3JlU2hhcGUnKTtcbiAgdmFyIF9zdG9yZVNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0b3JlU2hhcGUpO1xuICB2YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuLi91dGlscy93YXJuaW5nJyk7XG4gIHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcbiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1wiZGVmYXVsdFwiOiBvYmp9O1xuICB9XG4gIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgIGlmICghc2VsZikge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgIH1cbiAgICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbiAgfVxuICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgICB9XG4gICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7Y29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfX0pO1xuICAgIGlmIChzdXBlckNsYXNzKVxuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gIH1cbiAgdmFyIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gZmFsc2U7XG4gIGZ1bmN0aW9uIHdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKCkge1xuICAgIGlmIChkaWRXYXJuQWJvdXRSZWNlaXZpbmdTdG9yZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaWRXYXJuQWJvdXRSZWNlaXZpbmdTdG9yZSA9IHRydWU7XG4gICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKCc8UHJvdmlkZXI+IGRvZXMgbm90IHN1cHBvcnQgY2hhbmdpbmcgYHN0b3JlYCBvbiB0aGUgZmx5LiAnICsgJ0l0IGlzIG1vc3QgbGlrZWx5IHRoYXQgeW91IHNlZSB0aGlzIGVycm9yIGJlY2F1c2UgeW91IHVwZGF0ZWQgdG8gJyArICdSZWR1eCAyLnggYW5kIFJlYWN0IFJlZHV4IDIueCB3aGljaCBubyBsb25nZXIgaG90IHJlbG9hZCByZWR1Y2VycyAnICsgJ2F1dG9tYXRpY2FsbHkuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yZWR1eC9yZWxlYXNlcy8nICsgJ3RhZy92Mi4wLjAgZm9yIHRoZSBtaWdyYXRpb24gaW5zdHJ1Y3Rpb25zLicpO1xuICB9XG4gIHZhciBQcm92aWRlciA9IGZ1bmN0aW9uKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoUHJvdmlkZXIsIF9Db21wb25lbnQpO1xuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgICByZXR1cm4ge3N0b3JlOiB0aGlzLnN0b3JlfTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIFByb3ZpZGVyKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvdmlkZXIpO1xuICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG4gICAgICBfdGhpcy5zdG9yZSA9IHByb3BzLnN0b3JlO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQcm92aWRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICAgIHJldHVybiBfcmVhY3QuQ2hpbGRyZW4ub25seShjaGlsZHJlbik7XG4gICAgfTtcbiAgICByZXR1cm4gUHJvdmlkZXI7XG4gIH0oX3JlYWN0LkNvbXBvbmVudCk7XG4gIGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUHJvdmlkZXI7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbihuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBzdG9yZSA9IHRoaXMuc3RvcmU7XG4gICAgICB2YXIgbmV4dFN0b3JlID0gbmV4dFByb3BzLnN0b3JlO1xuICAgICAgaWYgKHN0b3JlICE9PSBuZXh0U3RvcmUpIHtcbiAgICAgICAgd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIFByb3ZpZGVyLnByb3BUeXBlcyA9IHtcbiAgICBzdG9yZTogX3N0b3JlU2hhcGUyW1wiZGVmYXVsdFwiXS5pc1JlcXVpcmVkLFxuICAgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmVsZW1lbnQuaXNSZXF1aXJlZFxuICB9O1xuICBQcm92aWRlci5jaGlsZENvbnRleHRUeXBlcyA9IHtzdG9yZTogX3N0b3JlU2hhcGUyW1wiZGVmYXVsdFwiXS5pc1JlcXVpcmVkfTtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgb25lQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihjb3B5RmllbGRzRnJvbSkge1xuICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGNvcHlGaWVsZHNGcm9tKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBLbGFzcyhjb3B5RmllbGRzRnJvbSk7XG4gICAgfVxuICB9O1xuICB2YXIgdHdvQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihhMSwgYTIpIHtcbiAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIpO1xuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEtsYXNzKGExLCBhMik7XG4gICAgfVxuICB9O1xuICB2YXIgdGhyZWVBcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGExLCBhMiwgYTMpIHtcbiAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIsIGEzKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzKTtcbiAgICB9XG4gIH07XG4gIHZhciBmb3VyQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihhMSwgYTIsIGEzLCBhNCkge1xuICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGExLCBhMiwgYTMsIGE0KTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzLCBhNCk7XG4gICAgfVxuICB9O1xuICB2YXIgZml2ZUFyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24oYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gICAgdmFyIEtsYXNzID0gdGhpcztcbiAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgICAgdmFyIGluc3RhbmNlID0gS2xhc3MuaW5zdGFuY2VQb29sLnBvcCgpO1xuICAgICAgS2xhc3MuY2FsbChpbnN0YW5jZSwgYTEsIGEyLCBhMywgYTQsIGE1KTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzLCBhNCwgYTUpO1xuICAgIH1cbiAgfTtcbiAgdmFyIHN0YW5kYXJkUmVsZWFzZXIgPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgIShpbnN0YW5jZSBpbnN0YW5jZW9mIEtsYXNzKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdUcnlpbmcgdG8gcmVsZWFzZSBhbiBpbnN0YW5jZSBpbnRvIGEgcG9vbCBvZiBhIGRpZmZlcmVudCB0eXBlLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBpbnN0YW5jZS5kZXN0cnVjdG9yKCk7XG4gICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGggPCBLbGFzcy5wb29sU2l6ZSkge1xuICAgICAgS2xhc3MuaW5zdGFuY2VQb29sLnB1c2goaW5zdGFuY2UpO1xuICAgIH1cbiAgfTtcbiAgdmFyIERFRkFVTFRfUE9PTF9TSVpFID0gMTA7XG4gIHZhciBERUZBVUxUX1BPT0xFUiA9IG9uZUFyZ3VtZW50UG9vbGVyO1xuICB2YXIgYWRkUG9vbGluZ1RvID0gZnVuY3Rpb24oQ29weUNvbnN0cnVjdG9yLCBwb29sZXIpIHtcbiAgICB2YXIgTmV3S2xhc3MgPSBDb3B5Q29uc3RydWN0b3I7XG4gICAgTmV3S2xhc3MuaW5zdGFuY2VQb29sID0gW107XG4gICAgTmV3S2xhc3MuZ2V0UG9vbGVkID0gcG9vbGVyIHx8IERFRkFVTFRfUE9PTEVSO1xuICAgIGlmICghTmV3S2xhc3MucG9vbFNpemUpIHtcbiAgICAgIE5ld0tsYXNzLnBvb2xTaXplID0gREVGQVVMVF9QT09MX1NJWkU7XG4gICAgfVxuICAgIE5ld0tsYXNzLnJlbGVhc2UgPSBzdGFuZGFyZFJlbGVhc2VyO1xuICAgIHJldHVybiBOZXdLbGFzcztcbiAgfTtcbiAgdmFyIFBvb2xlZENsYXNzID0ge1xuICAgIGFkZFBvb2xpbmdUbzogYWRkUG9vbGluZ1RvLFxuICAgIG9uZUFyZ3VtZW50UG9vbGVyOiBvbmVBcmd1bWVudFBvb2xlcixcbiAgICB0d29Bcmd1bWVudFBvb2xlcjogdHdvQXJndW1lbnRQb29sZXIsXG4gICAgdGhyZWVBcmd1bWVudFBvb2xlcjogdGhyZWVBcmd1bWVudFBvb2xlcixcbiAgICBmb3VyQXJndW1lbnRQb29sZXI6IGZvdXJBcmd1bWVudFBvb2xlcixcbiAgICBmaXZlQXJndW1lbnRQb29sZXI6IGZpdmVBcmd1bWVudFBvb2xlclxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFBvb2xlZENsYXNzO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBLZXlFc2NhcGVVdGlsc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBFc2NhcGUgYW5kIHdyYXAga2V5IHNvIGl0IGlzIHNhZmUgdG8gdXNlIGFzIGEgcmVhY3RpZFxuICpcbiAqIEBwYXJhbSB7Kn0ga2V5IHRvIGJlIGVzY2FwZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBlc2NhcGVkIGtleS5cbiAqL1xuXG5mdW5jdGlvbiBlc2NhcGUoa2V5KSB7XG4gIHZhciBlc2NhcGVSZWdleCA9IC9bPTpdL2c7XG4gIHZhciBlc2NhcGVyTG9va3VwID0ge1xuICAgICc9JzogJz0wJyxcbiAgICAnOic6ICc9MidcbiAgfTtcbiAgdmFyIGVzY2FwZWRTdHJpbmcgPSAoJycgKyBrZXkpLnJlcGxhY2UoZXNjYXBlUmVnZXgsIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgIHJldHVybiBlc2NhcGVyTG9va3VwW21hdGNoXTtcbiAgfSk7XG5cbiAgcmV0dXJuICckJyArIGVzY2FwZWRTdHJpbmc7XG59XG5cbi8qKlxuICogVW5lc2NhcGUgYW5kIHVud3JhcCBrZXkgZm9yIGh1bWFuLXJlYWRhYmxlIGRpc3BsYXlcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRvIHVuZXNjYXBlLlxuICogQHJldHVybiB7c3RyaW5nfSB0aGUgdW5lc2NhcGVkIGtleS5cbiAqL1xuZnVuY3Rpb24gdW5lc2NhcGUoa2V5KSB7XG4gIHZhciB1bmVzY2FwZVJlZ2V4ID0gLyg9MHw9MikvZztcbiAgdmFyIHVuZXNjYXBlckxvb2t1cCA9IHtcbiAgICAnPTAnOiAnPScsXG4gICAgJz0yJzogJzonXG4gIH07XG4gIHZhciBrZXlTdWJzdHJpbmcgPSBrZXlbMF0gPT09ICcuJyAmJiBrZXlbMV0gPT09ICckJyA/IGtleS5zdWJzdHJpbmcoMikgOiBrZXkuc3Vic3RyaW5nKDEpO1xuXG4gIHJldHVybiAoJycgKyBrZXlTdWJzdHJpbmcpLnJlcGxhY2UodW5lc2NhcGVSZWdleCwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgcmV0dXJuIHVuZXNjYXBlckxvb2t1cFttYXRjaF07XG4gIH0pO1xufVxuXG52YXIgS2V5RXNjYXBlVXRpbHMgPSB7XG4gIGVzY2FwZTogZXNjYXBlLFxuICB1bmVzY2FwZTogdW5lc2NhcGVcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gS2V5RXNjYXBlVXRpbHM7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBSZWFjdEN1cnJlbnRPd25lciA9IHJlcXVpcmUoJy4vUmVhY3RDdXJyZW50T3duZXInKTtcbiAgdmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG4gIHZhciBnZXRJdGVyYXRvckZuID0gcmVxdWlyZSgnLi9nZXRJdGVyYXRvckZuJyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgdmFyIEtleUVzY2FwZVV0aWxzID0gcmVxdWlyZSgnLi9LZXlFc2NhcGVVdGlscycpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIFNFUEFSQVRPUiA9ICcuJztcbiAgdmFyIFNVQlNFUEFSQVRPUiA9ICc6JztcbiAgdmFyIGRpZFdhcm5BYm91dE1hcHMgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50S2V5KGNvbXBvbmVudCwgaW5kZXgpIHtcbiAgICBpZiAoY29tcG9uZW50ICYmIHR5cGVvZiBjb21wb25lbnQgPT09ICdvYmplY3QnICYmIGNvbXBvbmVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIEtleUVzY2FwZVV0aWxzLmVzY2FwZShjb21wb25lbnQua2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4LnRvU3RyaW5nKDM2KTtcbiAgfVxuICBmdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZHJlbiwgbmFtZVNvRmFyLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgY2hpbGRyZW47XG4gICAgaWYgKHR5cGUgPT09ICd1bmRlZmluZWQnIHx8IHR5cGUgPT09ICdib29sZWFuJykge1xuICAgICAgY2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoY2hpbGRyZW4gPT09IG51bGwgfHwgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ251bWJlcicgfHwgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkge1xuICAgICAgY2FsbGJhY2sodHJhdmVyc2VDb250ZXh0LCBjaGlsZHJlbiwgbmFtZVNvRmFyID09PSAnJyA/IFNFUEFSQVRPUiArIGdldENvbXBvbmVudEtleShjaGlsZHJlbiwgMCkgOiBuYW1lU29GYXIpO1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHZhciBjaGlsZDtcbiAgICB2YXIgbmV4dE5hbWU7XG4gICAgdmFyIHN1YnRyZWVDb3VudCA9IDA7XG4gICAgdmFyIG5leHROYW1lUHJlZml4ID0gbmFtZVNvRmFyID09PSAnJyA/IFNFUEFSQVRPUiA6IG5hbWVTb0ZhciArIFNVQlNFUEFSQVRPUjtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgbmV4dE5hbWUgPSBuZXh0TmFtZVByZWZpeCArIGdldENvbXBvbmVudEtleShjaGlsZCwgaSk7XG4gICAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZCwgbmV4dE5hbWUsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4oY2hpbGRyZW4pO1xuICAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKGNoaWxkcmVuKTtcbiAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBjaGlsZHJlbi5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGlpID0gMDtcbiAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICBjaGlsZCA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpaSsrKTtcbiAgICAgICAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZCwgbmV4dE5hbWUsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZGlkV2FybkFib3V0TWFwcywgJ1VzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgbm90IHlldCBmdWxseSBzdXBwb3J0ZWQuIEl0IGlzIGFuICcgKyAnZXhwZXJpbWVudGFsIGZlYXR1cmUgdGhhdCBtaWdodCBiZSByZW1vdmVkLiBDb252ZXJ0IGl0IHRvIGEgJyArICdzZXF1ZW5jZSAvIGl0ZXJhYmxlIG9mIGtleWVkIFJlYWN0RWxlbWVudHMgaW5zdGVhZC4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGRpZFdhcm5BYm91dE1hcHMgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICAgIGNoaWxkID0gZW50cnlbMV07XG4gICAgICAgICAgICAgIG5leHROYW1lID0gbmV4dE5hbWVQcmVmaXggKyBLZXlFc2NhcGVVdGlscy5lc2NhcGUoZW50cnlbMF0pICsgU1VCU0VQQVJBVE9SICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCAwKTtcbiAgICAgICAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBhZGRlbmR1bSA9ICcnO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGFkZGVuZHVtID0gJyBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5ICcgKyAnaW5zdGVhZCBvciB3cmFwIHRoZSBvYmplY3QgdXNpbmcgY3JlYXRlRnJhZ21lbnQob2JqZWN0KSBmcm9tIHRoZSAnICsgJ1JlYWN0IGFkZC1vbnMuJztcbiAgICAgICAgICBpZiAoY2hpbGRyZW4uX2lzUmVhY3RFbGVtZW50KSB7XG4gICAgICAgICAgICBhZGRlbmR1bSA9ICcgSXQgbG9va3MgbGlrZSB5b3VcXCdyZSB1c2luZyBhbiBlbGVtZW50IGNyZWF0ZWQgYnkgYSBkaWZmZXJlbnQgJyArICd2ZXJzaW9uIG9mIFJlYWN0LiBNYWtlIHN1cmUgdG8gdXNlIG9ubHkgb25lIGNvcHkgb2YgUmVhY3QuJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC5nZXROYW1lKCk7XG4gICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICBhZGRlbmR1bSArPSAnIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjaGlsZHJlblN0cmluZyA9IFN0cmluZyhjaGlsZHJlbik7XG4gICAgICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6ICVzKS4lcycsIGNoaWxkcmVuU3RyaW5nID09PSAnW29iamVjdCBPYmplY3RdJyA/ICdvYmplY3Qgd2l0aCBrZXlzIHsnICsgT2JqZWN0LmtleXMoY2hpbGRyZW4pLmpvaW4oJywgJykgKyAnfScgOiBjaGlsZHJlblN0cmluZywgYWRkZW5kdW0pIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN1YnRyZWVDb3VudDtcbiAgfVxuICBmdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KSB7XG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGRyZW4sICcnLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IHRyYXZlcnNlQWxsQ2hpbGRyZW47XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgUG9vbGVkQ2xhc3MgPSByZXF1aXJlKCcuL1Bvb2xlZENsYXNzJyk7XG52YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIHRyYXZlcnNlQWxsQ2hpbGRyZW4gPSByZXF1aXJlKCcuL3RyYXZlcnNlQWxsQ2hpbGRyZW4nKTtcbnZhciB0d29Bcmd1bWVudFBvb2xlciA9IFBvb2xlZENsYXNzLnR3b0FyZ3VtZW50UG9vbGVyO1xudmFyIGZvdXJBcmd1bWVudFBvb2xlciA9IFBvb2xlZENsYXNzLmZvdXJBcmd1bWVudFBvb2xlcjtcbnZhciB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCA9IC9cXC8rL2c7XG5mdW5jdGlvbiBlc2NhcGVVc2VyUHJvdmlkZWRLZXkodGV4dCkge1xuICByZXR1cm4gKCcnICsgdGV4dCkucmVwbGFjZSh1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCwgJyQmLycpO1xufVxuZnVuY3Rpb24gRm9yRWFjaEJvb2tLZWVwaW5nKGZvckVhY2hGdW5jdGlvbiwgZm9yRWFjaENvbnRleHQpIHtcbiAgdGhpcy5mdW5jID0gZm9yRWFjaEZ1bmN0aW9uO1xuICB0aGlzLmNvbnRleHQgPSBmb3JFYWNoQ29udGV4dDtcbiAgdGhpcy5jb3VudCA9IDA7XG59XG5Gb3JFYWNoQm9va0tlZXBpbmcucHJvdG90eXBlLmRlc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5mdW5jID0gbnVsbDtcbiAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgdGhpcy5jb3VudCA9IDA7XG59O1xuUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKEZvckVhY2hCb29rS2VlcGluZywgdHdvQXJndW1lbnRQb29sZXIpO1xuZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkKGJvb2tLZWVwaW5nLCBjaGlsZCwgbmFtZSkge1xuICB2YXIgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmM7XG4gIHZhciBjb250ZXh0ID0gYm9va0tlZXBpbmcuY29udGV4dDtcbiAgZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBib29rS2VlcGluZy5jb3VudCsrKTtcbn1cbmZ1bmN0aW9uIGZvckVhY2hDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KSB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHZhciB0cmF2ZXJzZUNvbnRleHQgPSBGb3JFYWNoQm9va0tlZXBpbmcuZ2V0UG9vbGVkKGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCk7XG4gIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGZvckVhY2hTaW5nbGVDaGlsZCwgdHJhdmVyc2VDb250ZXh0KTtcbiAgRm9yRWFjaEJvb2tLZWVwaW5nLnJlbGVhc2UodHJhdmVyc2VDb250ZXh0KTtcbn1cbmZ1bmN0aW9uIE1hcEJvb2tLZWVwaW5nKG1hcFJlc3VsdCwga2V5UHJlZml4LCBtYXBGdW5jdGlvbiwgbWFwQ29udGV4dCkge1xuICB0aGlzLnJlc3VsdCA9IG1hcFJlc3VsdDtcbiAgdGhpcy5rZXlQcmVmaXggPSBrZXlQcmVmaXg7XG4gIHRoaXMuZnVuYyA9IG1hcEZ1bmN0aW9uO1xuICB0aGlzLmNvbnRleHQgPSBtYXBDb250ZXh0O1xuICB0aGlzLmNvdW50ID0gMDtcbn1cbk1hcEJvb2tLZWVwaW5nLnByb3RvdHlwZS5kZXN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVzdWx0ID0gbnVsbDtcbiAgdGhpcy5rZXlQcmVmaXggPSBudWxsO1xuICB0aGlzLmZ1bmMgPSBudWxsO1xuICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICB0aGlzLmNvdW50ID0gMDtcbn07XG5Qb29sZWRDbGFzcy5hZGRQb29saW5nVG8oTWFwQm9va0tlZXBpbmcsIGZvdXJBcmd1bWVudFBvb2xlcik7XG5mdW5jdGlvbiBtYXBTaW5nbGVDaGlsZEludG9Db250ZXh0KGJvb2tLZWVwaW5nLCBjaGlsZCwgY2hpbGRLZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGJvb2tLZWVwaW5nLnJlc3VsdDtcbiAgdmFyIGtleVByZWZpeCA9IGJvb2tLZWVwaW5nLmtleVByZWZpeDtcbiAgdmFyIGZ1bmMgPSBib29rS2VlcGluZy5mdW5jO1xuICB2YXIgY29udGV4dCA9IGJvb2tLZWVwaW5nLmNvbnRleHQ7XG4gIHZhciBtYXBwZWRDaGlsZCA9IGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgYm9va0tlZXBpbmcuY291bnQrKyk7XG4gIGlmIChBcnJheS5pc0FycmF5KG1hcHBlZENoaWxkKSkge1xuICAgIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwobWFwcGVkQ2hpbGQsIHJlc3VsdCwgY2hpbGRLZXksIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCk7XG4gIH0gZWxzZSBpZiAobWFwcGVkQ2hpbGQgIT0gbnVsbCkge1xuICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQobWFwcGVkQ2hpbGQpKSB7XG4gICAgICBtYXBwZWRDaGlsZCA9IFJlYWN0RWxlbWVudC5jbG9uZUFuZFJlcGxhY2VLZXkobWFwcGVkQ2hpbGQsIGtleVByZWZpeCArIChtYXBwZWRDaGlsZC5rZXkgJiYgKCFjaGlsZCB8fCBjaGlsZC5rZXkgIT09IG1hcHBlZENoaWxkLmtleSkgPyBlc2NhcGVVc2VyUHJvdmlkZWRLZXkobWFwcGVkQ2hpbGQua2V5KSArICcvJyA6ICcnKSArIGNoaWxkS2V5KTtcbiAgICB9XG4gICAgcmVzdWx0LnB1c2gobWFwcGVkQ2hpbGQpO1xuICB9XG59XG5mdW5jdGlvbiBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCBhcnJheSwgcHJlZml4LCBmdW5jLCBjb250ZXh0KSB7XG4gIHZhciBlc2NhcGVkUHJlZml4ID0gJyc7XG4gIGlmIChwcmVmaXggIT0gbnVsbCkge1xuICAgIGVzY2FwZWRQcmVmaXggPSBlc2NhcGVVc2VyUHJvdmlkZWRLZXkocHJlZml4KSArICcvJztcbiAgfVxuICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gTWFwQm9va0tlZXBpbmcuZ2V0UG9vbGVkKGFycmF5LCBlc2NhcGVkUHJlZml4LCBmdW5jLCBjb250ZXh0KTtcbiAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgbWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCwgdHJhdmVyc2VDb250ZXh0KTtcbiAgTWFwQm9va0tlZXBpbmcucmVsZWFzZSh0cmF2ZXJzZUNvbnRleHQpO1xufVxuZnVuY3Rpb24gbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmMsIGNvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCByZXN1bHQsIG51bGwsIGZ1bmMsIGNvbnRleHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkRHVtbXkodHJhdmVyc2VDb250ZXh0LCBjaGlsZCwgbmFtZSkge1xuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGNvdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGZvckVhY2hTaW5nbGVDaGlsZER1bW15LCBudWxsKTtcbn1cbmZ1bmN0aW9uIHRvQXJyYXkoY2hpbGRyZW4pIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCByZXN1bHQsIG51bGwsIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG52YXIgUmVhY3RDaGlsZHJlbiA9IHtcbiAgZm9yRWFjaDogZm9yRWFjaENoaWxkcmVuLFxuICBtYXA6IG1hcENoaWxkcmVuLFxuICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsOiBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsLFxuICBjb3VudDogY291bnRDaGlsZHJlbixcbiAgdG9BcnJheTogdG9BcnJheVxufTtcbm1vZHVsZS5leHBvcnRzID0gUmVhY3RDaGlsZHJlbjtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgcHJvY2Vzc2luZ0NoaWxkQ29udGV4dCA9IGZhbHNlO1xuICAgIHZhciB3YXJuSW52YWxpZFNldFN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghcHJvY2Vzc2luZ0NoaWxkQ29udGV4dCwgJ3NldFN0YXRlKC4uLik6IENhbm5vdCBjYWxsIHNldFN0YXRlKCkgaW5zaWRlIGdldENoaWxkQ29udGV4dCgpJykgOiB2b2lkIDA7XG4gICAgfTtcbiAgfVxuICB2YXIgUmVhY3RJbnZhbGlkU2V0U3RhdGVXYXJuaW5nRGV2VG9vbCA9IHtcbiAgICBvbkJlZ2luUHJvY2Vzc2luZ0NoaWxkQ29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICBwcm9jZXNzaW5nQ2hpbGRDb250ZXh0ID0gdHJ1ZTtcbiAgICB9LFxuICAgIG9uRW5kUHJvY2Vzc2luZ0NoaWxkQ29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICBwcm9jZXNzaW5nQ2hpbGRDb250ZXh0ID0gZmFsc2U7XG4gICAgfSxcbiAgICBvblNldFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHdhcm5JbnZhbGlkU2V0U3RhdGUoKTtcbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RJbnZhbGlkU2V0U3RhdGVXYXJuaW5nRGV2VG9vbDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2wgPSByZXF1aXJlKCcuL1JlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2wnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBldmVudEhhbmRsZXJzID0gW107XG4gIHZhciBoYW5kbGVyRG9lc1Rocm93Rm9yRXZlbnQgPSB7fTtcbiAgZnVuY3Rpb24gZW1pdEV2ZW50KGhhbmRsZXJGdW5jdGlvbk5hbWUsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgZXZlbnRIYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoaGFuZGxlcltoYW5kbGVyRnVuY3Rpb25OYW1lXSkge1xuICAgICAgICAgICAgaGFuZGxlcltoYW5kbGVyRnVuY3Rpb25OYW1lXShhcmcxLCBhcmcyLCBhcmczLCBhcmc0LCBhcmc1KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50W2hhbmRsZXJGdW5jdGlvbk5hbWVdLCAnZXhjZXB0aW9uIHRocm93biBieSBkZXZ0b29sIHdoaWxlIGhhbmRsaW5nICVzOiAlcycsIGhhbmRsZXJGdW5jdGlvbk5hbWUsIGUubWVzc2FnZSkgOiB2b2lkIDA7XG4gICAgICAgICAgaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50W2hhbmRsZXJGdW5jdGlvbk5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHZhciBSZWFjdERlYnVnVG9vbCA9IHtcbiAgICBhZGREZXZ0b29sOiBmdW5jdGlvbihkZXZ0b29sKSB7XG4gICAgICBldmVudEhhbmRsZXJzLnB1c2goZGV2dG9vbCk7XG4gICAgfSxcbiAgICByZW1vdmVEZXZ0b29sOiBmdW5jdGlvbihkZXZ0b29sKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50SGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGV2ZW50SGFuZGxlcnNbaV0gPT09IGRldnRvb2wpIHtcbiAgICAgICAgICBldmVudEhhbmRsZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG9uQmVnaW5Qcm9jZXNzaW5nQ2hpbGRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIGVtaXRFdmVudCgnb25CZWdpblByb2Nlc3NpbmdDaGlsZENvbnRleHQnKTtcbiAgICB9LFxuICAgIG9uRW5kUHJvY2Vzc2luZ0NoaWxkQ29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICBlbWl0RXZlbnQoJ29uRW5kUHJvY2Vzc2luZ0NoaWxkQ29udGV4dCcpO1xuICAgIH0sXG4gICAgb25TZXRTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICBlbWl0RXZlbnQoJ29uU2V0U3RhdGUnKTtcbiAgICB9LFxuICAgIG9uTW91bnRSb290Q29tcG9uZW50OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICBlbWl0RXZlbnQoJ29uTW91bnRSb290Q29tcG9uZW50JywgaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgfSxcbiAgICBvbk1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICBlbWl0RXZlbnQoJ29uTW91bnRDb21wb25lbnQnLCBpbnRlcm5hbEluc3RhbmNlKTtcbiAgICB9LFxuICAgIG9uVXBkYXRlQ29tcG9uZW50OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICBlbWl0RXZlbnQoJ29uVXBkYXRlQ29tcG9uZW50JywgaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgfSxcbiAgICBvblVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKGludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgIGVtaXRFdmVudCgnb25Vbm1vdW50Q29tcG9uZW50JywgaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgfVxuICB9O1xuICBSZWFjdERlYnVnVG9vbC5hZGREZXZ0b29sKFJlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2wpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RGVidWdUb29sO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIFJlYWN0RGVidWdUb29sID0gcmVxdWlyZSgnLi9SZWFjdERlYnVnVG9vbCcpO1xubW9kdWxlLmV4cG9ydHMgPSB7ZGVidWdUb29sOiBSZWFjdERlYnVnVG9vbH07XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0gcmVxdWlyZSgnLi9SZWFjdE5vb3BVcGRhdGVRdWV1ZScpO1xuICB2YXIgUmVhY3RJbnN0cnVtZW50YXRpb24gPSByZXF1aXJlKCcuL1JlYWN0SW5zdHJ1bWVudGF0aW9uJyk7XG4gIHZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vY2FuRGVmaW5lUHJvcGVydHknKTtcbiAgdmFyIGVtcHR5T2JqZWN0ID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlPYmplY3QnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgZnVuY3Rpb24gUmVhY3RDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICB9XG4gIFJlYWN0Q29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG4gIFJlYWN0Q29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uKHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAhKHR5cGVvZiBwYXJ0aWFsU3RhdGUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBwYXJ0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgfHwgcGFydGlhbFN0YXRlID09IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3NldFN0YXRlKC4uLik6IHRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgJyArICdmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBSZWFjdEluc3RydW1lbnRhdGlvbi5kZWJ1Z1Rvb2wub25TZXRTdGF0ZSgpO1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcocGFydGlhbFN0YXRlICE9IG51bGwsICdzZXRTdGF0ZSguLi4pOiBZb3UgcGFzc2VkIGFuIHVuZGVmaW5lZCBvciBudWxsIHN0YXRlIG9iamVjdDsgJyArICdpbnN0ZWFkLCB1c2UgZm9yY2VVcGRhdGUoKS4nKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVyLmVucXVldWVTZXRTdGF0ZSh0aGlzLCBwYXJ0aWFsU3RhdGUpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVDYWxsYmFjayh0aGlzLCBjYWxsYmFjaywgJ3NldFN0YXRlJyk7XG4gICAgfVxuICB9O1xuICBSZWFjdENvbXBvbmVudC5wcm90b3R5cGUuZm9yY2VVcGRhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcyk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrLCAnZm9yY2VVcGRhdGUnKTtcbiAgICB9XG4gIH07XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmFyIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgICAgaXNNb3VudGVkOiBbJ2lzTW91bnRlZCcsICdJbnN0ZWFkLCBtYWtlIHN1cmUgdG8gY2xlYW4gdXAgc3Vic2NyaXB0aW9ucyBhbmQgcGVuZGluZyByZXF1ZXN0cyBpbiAnICsgJ2NvbXBvbmVudFdpbGxVbm1vdW50IHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzLiddLFxuICAgICAgcmVwbGFjZVN0YXRlOiBbJ3JlcGxhY2VTdGF0ZScsICdSZWZhY3RvciB5b3VyIGNvZGUgdG8gdXNlIHNldFN0YXRlIGluc3RlYWQgKHNlZSAnICsgJ2h0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMzIzNikuJ11cbiAgICB9O1xuICAgIHZhciBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcgPSBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmZvKSB7XG4gICAgICBpZiAoY2FuRGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWN0Q29tcG9uZW50LnByb3RvdHlwZSwgbWV0aG9kTmFtZSwge2dldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzKC4uLikgaXMgZGVwcmVjYXRlZCBpbiBwbGFpbiBKYXZhU2NyaXB0IFJlYWN0IGNsYXNzZXMuICVzJywgaW5mb1swXSwgaW5mb1sxXSkgOiB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH19KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZvciAodmFyIGZuTmFtZSBpbiBkZXByZWNhdGVkQVBJcykge1xuICAgICAgaWYgKGRlcHJlY2F0ZWRBUElzLmhhc093blByb3BlcnR5KGZuTmFtZSkpIHtcbiAgICAgICAgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKGZuTmFtZSwgZGVwcmVjYXRlZEFQSXNbZm5OYW1lXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDb21wb25lbnQ7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICBmdW5jdGlvbiB3YXJuVERaKHB1YmxpY0luc3RhbmNlLCBjYWxsZXJOYW1lKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKTogQ2FuIG9ubHkgdXBkYXRlIGEgbW91bnRlZCBvciBtb3VudGluZyBjb21wb25lbnQuICcgKyAnVGhpcyB1c3VhbGx5IG1lYW5zIHlvdSBjYWxsZWQgJXMoKSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LiAnICsgJ1RoaXMgaXMgYSBuby1vcC4gUGxlYXNlIGNoZWNrIHRoZSBjb2RlIGZvciB0aGUgJXMgY29tcG9uZW50LicsIGNhbGxlck5hbWUsIGNhbGxlck5hbWUsIHB1YmxpY0luc3RhbmNlLmNvbnN0cnVjdG9yICYmIHB1YmxpY0luc3RhbmNlLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8ICcnKSA6IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgdmFyIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0ge1xuICAgIGlzTW91bnRlZDogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGVucXVldWVDYWxsYmFjazogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIGNhbGxiYWNrKSB7fSxcbiAgICBlbnF1ZXVlRm9yY2VVcGRhdGU6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICB3YXJuVERaKHB1YmxpY0luc3RhbmNlLCAnZm9yY2VVcGRhdGUnKTtcbiAgICB9LFxuICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlLCBjb21wbGV0ZVN0YXRlKSB7XG4gICAgICB3YXJuVERaKHB1YmxpY0luc3RhbmNlLCAncmVwbGFjZVN0YXRlJyk7XG4gICAgfSxcbiAgICBlbnF1ZXVlU2V0U3RhdGU6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlLCBwYXJ0aWFsU3RhdGUpIHtcbiAgICAgIHdhcm5URFoocHVibGljSW5zdGFuY2UsICdzZXRTdGF0ZScpO1xuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG4gIHZhciBSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vUmVhY3RDb21wb25lbnQnKTtcbiAgdmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0gcmVxdWlyZSgnLi9SZWFjdFByb3BUeXBlTG9jYXRpb25zJyk7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9IHJlcXVpcmUoJy4vUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMnKTtcbiAgdmFyIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0gcmVxdWlyZSgnLi9SZWFjdE5vb3BVcGRhdGVRdWV1ZScpO1xuICB2YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eU9iamVjdCcpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBrZXlNaXJyb3IgPSByZXF1aXJlKCdmYmpzL2xpYi9rZXlNaXJyb3InKTtcbiAgdmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBNSVhJTlNfS0VZID0ga2V5T2Yoe21peGluczogbnVsbH0pO1xuICB2YXIgU3BlY1BvbGljeSA9IGtleU1pcnJvcih7XG4gICAgREVGSU5FX09OQ0U6IG51bGwsXG4gICAgREVGSU5FX01BTlk6IG51bGwsXG4gICAgT1ZFUlJJREVfQkFTRTogbnVsbCxcbiAgICBERUZJTkVfTUFOWV9NRVJHRUQ6IG51bGxcbiAgfSk7XG4gIHZhciBpbmplY3RlZE1peGlucyA9IFtdO1xuICB2YXIgUmVhY3RDbGFzc0ludGVyZmFjZSA9IHtcbiAgICBtaXhpbnM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgc3RhdGljczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICBwcm9wVHlwZXM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgY29udGV4dFR5cGVzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgIGNoaWxkQ29udGV4dFR5cGVzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgIGdldERlZmF1bHRQcm9wczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQsXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCxcbiAgICBnZXRDaGlsZENvbnRleHQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VELFxuICAgIHJlbmRlcjogU3BlY1BvbGljeS5ERUZJTkVfT05DRSxcbiAgICBjb21wb25lbnRXaWxsTW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgY29tcG9uZW50RGlkTW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGU6IFNwZWNQb2xpY3kuREVGSU5FX09OQ0UsXG4gICAgY29tcG9uZW50V2lsbFVwZGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICBjb21wb25lbnREaWRVcGRhdGU6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgdXBkYXRlQ29tcG9uZW50OiBTcGVjUG9saWN5Lk9WRVJSSURFX0JBU0VcbiAgfTtcbiAgdmFyIFJFU0VSVkVEX1NQRUNfS0VZUyA9IHtcbiAgICBkaXNwbGF5TmFtZTogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBDb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICAgIH0sXG4gICAgbWl4aW5zOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgbWl4aW5zKSB7XG4gICAgICBpZiAobWl4aW5zKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIG1peGluc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNoaWxkQ29udGV4dFR5cGVzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgY2hpbGRDb250ZXh0VHlwZXMpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgY2hpbGRDb250ZXh0VHlwZXMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY2hpbGRDb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIENvbnN0cnVjdG9yLmNoaWxkQ29udGV4dFR5cGVzID0gX2Fzc2lnbih7fSwgQ29uc3RydWN0b3IuY2hpbGRDb250ZXh0VHlwZXMsIGNoaWxkQ29udGV4dFR5cGVzKTtcbiAgICB9LFxuICAgIGNvbnRleHRUeXBlczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGNvbnRleHRUeXBlcykge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCBjb250ZXh0VHlwZXMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY29udGV4dCk7XG4gICAgICB9XG4gICAgICBDb25zdHJ1Y3Rvci5jb250ZXh0VHlwZXMgPSBfYXNzaWduKHt9LCBDb25zdHJ1Y3Rvci5jb250ZXh0VHlwZXMsIGNvbnRleHRUeXBlcyk7XG4gICAgfSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBnZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgIGlmIChDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzID0gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24oQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLCBnZXREZWZhdWx0UHJvcHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzID0gZ2V0RGVmYXVsdFByb3BzO1xuICAgICAgfVxuICAgIH0sXG4gICAgcHJvcFR5cGVzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgcHJvcFR5cGVzKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YWxpZGF0ZVR5cGVEZWYoQ29uc3RydWN0b3IsIHByb3BUeXBlcywgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5wcm9wKTtcbiAgICAgIH1cbiAgICAgIENvbnN0cnVjdG9yLnByb3BUeXBlcyA9IF9hc3NpZ24oe30sIENvbnN0cnVjdG9yLnByb3BUeXBlcywgcHJvcFR5cGVzKTtcbiAgICB9LFxuICAgIHN0YXRpY3M6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBzdGF0aWNzKSB7XG4gICAgICBtaXhTdGF0aWNTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3RhdGljcyk7XG4gICAgfSxcbiAgICBhdXRvYmluZDogZnVuY3Rpb24oKSB7fVxuICB9O1xuICBmdW5jdGlvbiB2YWxpZGF0ZVR5cGVEZWYoQ29uc3RydWN0b3IsIHR5cGVEZWYsIGxvY2F0aW9uKSB7XG4gICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gdHlwZURlZikge1xuICAgICAgaWYgKHR5cGVEZWYuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHR5cGVvZiB0eXBlRGVmW3Byb3BOYW1lXSA9PT0gJ2Z1bmN0aW9uJywgJyVzOiAlcyB0eXBlIGAlc2AgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gJyArICdSZWFjdC5Qcm9wVHlwZXMuJywgQ29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJ1JlYWN0Q2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdmFsaWRhdGVNZXRob2RPdmVycmlkZShpc0FscmVhZHlEZWZpbmVkLCBuYW1lKSB7XG4gICAgdmFyIHNwZWNQb2xpY3kgPSBSZWFjdENsYXNzSW50ZXJmYWNlLmhhc093blByb3BlcnR5KG5hbWUpID8gUmVhY3RDbGFzc0ludGVyZmFjZVtuYW1lXSA6IG51bGw7XG4gICAgaWYgKFJlYWN0Q2xhc3NNaXhpbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgIShzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5Lk9WRVJSSURFX0JBU0UpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3NJbnRlcmZhY2U6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBvdmVycmlkZSAnICsgJ2Alc2AgZnJvbSB5b3VyIGNsYXNzIHNwZWNpZmljYXRpb24uIEVuc3VyZSB0aGF0IHlvdXIgbWV0aG9kIG5hbWVzICcgKyAnZG8gbm90IG92ZXJsYXAgd2l0aCBSZWFjdCBtZXRob2RzLicsIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKGlzQWxyZWFkeURlZmluZWQpIHtcbiAgICAgICEoc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWSB8fCBzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzc0ludGVyZmFjZTogWW91IGFyZSBhdHRlbXB0aW5nIHRvIGRlZmluZSAnICsgJ2Alc2Agb24geW91ciBjb21wb25lbnQgbW9yZSB0aGFuIG9uY2UuIFRoaXMgY29uZmxpY3QgbWF5IGJlIGR1ZSAnICsgJ3RvIGEgbWl4aW4uJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBtaXhTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3BlYykge1xuICAgIGlmICghc3BlYykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAhKHR5cGVvZiBzcGVjICE9PSAnZnVuY3Rpb24nKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3VcXCdyZSBhdHRlbXB0aW5nIHRvICcgKyAndXNlIGEgY29tcG9uZW50IGNsYXNzIG9yIGZ1bmN0aW9uIGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgJyArICdyZWd1bGFyIG9iamVjdC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgISFSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoc3BlYykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzczogWW91XFwncmUgYXR0ZW1wdGluZyB0byAnICsgJ3VzZSBhIGNvbXBvbmVudCBhcyBhIG1peGluLiBJbnN0ZWFkLCBqdXN0IHVzZSBhIHJlZ3VsYXIgb2JqZWN0LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgcHJvdG8gPSBDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gICAgdmFyIGF1dG9CaW5kUGFpcnMgPSBwcm90by5fX3JlYWN0QXV0b0JpbmRQYWlycztcbiAgICBpZiAoc3BlYy5oYXNPd25Qcm9wZXJ0eShNSVhJTlNfS0VZKSkge1xuICAgICAgUkVTRVJWRURfU1BFQ19LRVlTLm1peGlucyhDb25zdHJ1Y3Rvciwgc3BlYy5taXhpbnMpO1xuICAgIH1cbiAgICBmb3IgKHZhciBuYW1lIGluIHNwZWMpIHtcbiAgICAgIGlmICghc3BlYy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChuYW1lID09PSBNSVhJTlNfS0VZKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BlcnR5ID0gc3BlY1tuYW1lXTtcbiAgICAgIHZhciBpc0FscmVhZHlEZWZpbmVkID0gcHJvdG8uaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgICB2YWxpZGF0ZU1ldGhvZE92ZXJyaWRlKGlzQWxyZWFkeURlZmluZWQsIG5hbWUpO1xuICAgICAgaWYgKFJFU0VSVkVEX1NQRUNfS0VZUy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBSRVNFUlZFRF9TUEVDX0tFWVNbbmFtZV0oQ29uc3RydWN0b3IsIHByb3BlcnR5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpc1JlYWN0Q2xhc3NNZXRob2QgPSBSZWFjdENsYXNzSW50ZXJmYWNlLmhhc093blByb3BlcnR5KG5hbWUpO1xuICAgICAgICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgdmFyIHNob3VsZEF1dG9CaW5kID0gaXNGdW5jdGlvbiAmJiAhaXNSZWFjdENsYXNzTWV0aG9kICYmICFpc0FscmVhZHlEZWZpbmVkICYmIHNwZWMuYXV0b2JpbmQgIT09IGZhbHNlO1xuICAgICAgICBpZiAoc2hvdWxkQXV0b0JpbmQpIHtcbiAgICAgICAgICBhdXRvQmluZFBhaXJzLnB1c2gobmFtZSwgcHJvcGVydHkpO1xuICAgICAgICAgIHByb3RvW25hbWVdID0gcHJvcGVydHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGlzQWxyZWFkeURlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBzcGVjUG9saWN5ID0gUmVhY3RDbGFzc0ludGVyZmFjZVtuYW1lXTtcbiAgICAgICAgICAgICEoaXNSZWFjdENsYXNzTWV0aG9kICYmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCB8fCBzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzczogVW5leHBlY3RlZCBzcGVjIHBvbGljeSAlcyBmb3Iga2V5ICVzICcgKyAnd2hlbiBtaXhpbmcgaW4gY29tcG9uZW50IHNwZWNzLicsIHNwZWNQb2xpY3ksIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCkge1xuICAgICAgICAgICAgICBwcm90b1tuYW1lXSA9IGNyZWF0ZU1lcmdlZFJlc3VsdEZ1bmN0aW9uKHByb3RvW25hbWVdLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTlkpIHtcbiAgICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBjcmVhdGVDaGFpbmVkRnVuY3Rpb24ocHJvdG9bbmFtZV0sIHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgPT09ICdmdW5jdGlvbicgJiYgc3BlYy5kaXNwbGF5TmFtZSkge1xuICAgICAgICAgICAgICAgIHByb3RvW25hbWVdLmRpc3BsYXlOYW1lID0gc3BlYy5kaXNwbGF5TmFtZSArICdfJyArIG5hbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWl4U3RhdGljU3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHN0YXRpY3MpIHtcbiAgICBpZiAoIXN0YXRpY3MpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yICh2YXIgbmFtZSBpbiBzdGF0aWNzKSB7XG4gICAgICB2YXIgcHJvcGVydHkgPSBzdGF0aWNzW25hbWVdO1xuICAgICAgaWYgKCFzdGF0aWNzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIGlzUmVzZXJ2ZWQgPSBuYW1lIGluIFJFU0VSVkVEX1NQRUNfS0VZUztcbiAgICAgICEhaXNSZXNlcnZlZCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gZGVmaW5lIGEgcmVzZXJ2ZWQgJyArICdwcm9wZXJ0eSwgYCVzYCwgdGhhdCBzaG91bGRuXFwndCBiZSBvbiB0aGUgXCJzdGF0aWNzXCIga2V5LiBEZWZpbmUgaXQgJyArICdhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBpbnN0ZWFkOyBpdCB3aWxsIHN0aWxsIGJlIGFjY2Vzc2libGUgb24gdGhlICcgKyAnY29uc3RydWN0b3IuJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIGlzSW5oZXJpdGVkID0gbmFtZSBpbiBDb25zdHJ1Y3RvcjtcbiAgICAgICEhaXNJbmhlcml0ZWQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzczogWW91IGFyZSBhdHRlbXB0aW5nIHRvIGRlZmluZSAnICsgJ2Alc2Agb24geW91ciBjb21wb25lbnQgbW9yZSB0aGFuIG9uY2UuIFRoaXMgY29uZmxpY3QgbWF5IGJlICcgKyAnZHVlIHRvIGEgbWl4aW4uJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgQ29uc3RydWN0b3JbbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhvbmUsIHR3bykge1xuICAgICEob25lICYmIHR3byAmJiB0eXBlb2Ygb25lID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdHdvID09PSAnb2JqZWN0JykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cygpOiBDYW5ub3QgbWVyZ2Ugbm9uLW9iamVjdHMuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGZvciAodmFyIGtleSBpbiB0d28pIHtcbiAgICAgIGlmICh0d28uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAhKG9uZVtrZXldID09PSB1bmRlZmluZWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ21lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoKTogJyArICdUcmllZCB0byBtZXJnZSB0d28gb2JqZWN0cyB3aXRoIHRoZSBzYW1lIGtleTogYCVzYC4gVGhpcyBjb25mbGljdCAnICsgJ21heSBiZSBkdWUgdG8gYSBtaXhpbjsgaW4gcGFydGljdWxhciwgdGhpcyBtYXkgYmUgY2F1c2VkIGJ5IHR3byAnICsgJ2dldEluaXRpYWxTdGF0ZSgpIG9yIGdldERlZmF1bHRQcm9wcygpIG1ldGhvZHMgcmV0dXJuaW5nIG9iamVjdHMgJyArICd3aXRoIGNsYXNoaW5nIGtleXMuJywga2V5KSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIG9uZVtrZXldID0gdHdvW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvbmU7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24ob25lLCB0d28pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkUmVzdWx0KCkge1xuICAgICAgdmFyIGEgPSBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHZhciBiID0gdHdvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBpZiAoYSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBiO1xuICAgICAgfSBlbHNlIGlmIChiID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9XG4gICAgICB2YXIgYyA9IHt9O1xuICAgICAgbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhjLCBhKTtcbiAgICAgIG1lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoYywgYik7XG4gICAgICByZXR1cm4gYztcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUNoYWluZWRGdW5jdGlvbihvbmUsIHR3bykge1xuICAgIHJldHVybiBmdW5jdGlvbiBjaGFpbmVkRnVuY3Rpb24oKSB7XG4gICAgICBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHR3by5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gYmluZEF1dG9CaW5kTWV0aG9kKGNvbXBvbmVudCwgbWV0aG9kKSB7XG4gICAgdmFyIGJvdW5kTWV0aG9kID0gbWV0aG9kLmJpbmQoY29tcG9uZW50KTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQ29udGV4dCA9IGNvbXBvbmVudDtcbiAgICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZE1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IG51bGw7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZTtcbiAgICAgIHZhciBfYmluZCA9IGJvdW5kTWV0aG9kLmJpbmQ7XG4gICAgICBib3VuZE1ldGhvZC5iaW5kID0gZnVuY3Rpb24obmV3VGhpcykge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksXG4gICAgICAgICAgICBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdUaGlzICE9PSBjb21wb25lbnQgJiYgbmV3VGhpcyAhPT0gbnVsbCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYmluZCgpOiBSZWFjdCBjb21wb25lbnQgbWV0aG9kcyBtYXkgb25seSBiZSBib3VuZCB0byB0aGUgJyArICdjb21wb25lbnQgaW5zdGFuY2UuIFNlZSAlcycsIGNvbXBvbmVudE5hbWUpIDogdm9pZCAwO1xuICAgICAgICB9IGVsc2UgaWYgKCFhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYmluZCgpOiBZb3UgYXJlIGJpbmRpbmcgYSBjb21wb25lbnQgbWV0aG9kIHRvIHRoZSBjb21wb25lbnQuICcgKyAnUmVhY3QgZG9lcyB0aGlzIGZvciB5b3UgYXV0b21hdGljYWxseSBpbiBhIGhpZ2gtcGVyZm9ybWFuY2UgJyArICd3YXksIHNvIHlvdSBjYW4gc2FmZWx5IHJlbW92ZSB0aGlzIGNhbGwuIFNlZSAlcycsIGNvbXBvbmVudE5hbWUpIDogdm9pZCAwO1xuICAgICAgICAgIHJldHVybiBib3VuZE1ldGhvZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVib3VuZE1ldGhvZCA9IF9iaW5kLmFwcGx5KGJvdW5kTWV0aG9kLCBhcmd1bWVudHMpO1xuICAgICAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZENvbnRleHQgPSBjb21wb25lbnQ7XG4gICAgICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kTWV0aG9kID0gbWV0aG9kO1xuICAgICAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IGFyZ3M7XG4gICAgICAgIHJldHVybiByZWJvdW5kTWV0aG9kO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGJvdW5kTWV0aG9kO1xuICB9XG4gIGZ1bmN0aW9uIGJpbmRBdXRvQmluZE1ldGhvZHMoY29tcG9uZW50KSB7XG4gICAgdmFyIHBhaXJzID0gY29tcG9uZW50Ll9fcmVhY3RBdXRvQmluZFBhaXJzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIHZhciBhdXRvQmluZEtleSA9IHBhaXJzW2ldO1xuICAgICAgdmFyIG1ldGhvZCA9IHBhaXJzW2kgKyAxXTtcbiAgICAgIGNvbXBvbmVudFthdXRvQmluZEtleV0gPSBiaW5kQXV0b0JpbmRNZXRob2QoY29tcG9uZW50LCBtZXRob2QpO1xuICAgIH1cbiAgfVxuICB2YXIgUmVhY3RDbGFzc01peGluID0ge1xuICAgIHJlcGxhY2VTdGF0ZTogZnVuY3Rpb24obmV3U3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVJlcGxhY2VTdGF0ZSh0aGlzLCBuZXdTdGF0ZSk7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVDYWxsYmFjayh0aGlzLCBjYWxsYmFjaywgJ3JlcGxhY2VTdGF0ZScpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXNNb3VudGVkOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZXIuaXNNb3VudGVkKHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgdmFyIFJlYWN0Q2xhc3NDb21wb25lbnQgPSBmdW5jdGlvbigpIHt9O1xuICBfYXNzaWduKFJlYWN0Q2xhc3NDb21wb25lbnQucHJvdG90eXBlLCBSZWFjdENvbXBvbmVudC5wcm90b3R5cGUsIFJlYWN0Q2xhc3NNaXhpbik7XG4gIHZhciBSZWFjdENsYXNzID0ge1xuICAgIGNyZWF0ZUNsYXNzOiBmdW5jdGlvbihzcGVjKSB7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSBmdW5jdGlvbihwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHRoaXMgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvciwgJ1NvbWV0aGluZyBpcyBjYWxsaW5nIGEgUmVhY3QgY29tcG9uZW50IGRpcmVjdGx5LiBVc2UgYSBmYWN0b3J5IG9yICcgKyAnSlNYIGluc3RlYWQuIFNlZTogaHR0cHM6Ly9mYi5tZS9yZWFjdC1sZWdhY3lmYWN0b3J5JykgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX19yZWFjdEF1dG9CaW5kUGFpcnMubGVuZ3RoKSB7XG4gICAgICAgICAgYmluZEF1dG9CaW5kTWV0aG9kcyh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgdmFyIGluaXRpYWxTdGF0ZSA9IHRoaXMuZ2V0SW5pdGlhbFN0YXRlID8gdGhpcy5nZXRJbml0aWFsU3RhdGUoKSA6IG51bGw7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGluaXRpYWxTdGF0ZSA9PT0gdW5kZWZpbmVkICYmIHRoaXMuZ2V0SW5pdGlhbFN0YXRlLl9pc01vY2tGdW5jdGlvbikge1xuICAgICAgICAgICAgaW5pdGlhbFN0YXRlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgISh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpbml0aWFsU3RhdGUpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcy5nZXRJbml0aWFsU3RhdGUoKTogbXVzdCByZXR1cm4gYW4gb2JqZWN0IG9yIG51bGwnLCBDb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgICB9O1xuICAgICAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gbmV3IFJlYWN0Q2xhc3NDb21wb25lbnQoKTtcbiAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgICAgQ29uc3RydWN0b3IucHJvdG90eXBlLl9fcmVhY3RBdXRvQmluZFBhaXJzID0gW107XG4gICAgICBpbmplY3RlZE1peGlucy5mb3JFYWNoKG1peFNwZWNJbnRvQ29tcG9uZW50LmJpbmQobnVsbCwgQ29uc3RydWN0b3IpKTtcbiAgICAgIG1peFNwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzcGVjKTtcbiAgICAgIGlmIChDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgQ29uc3RydWN0b3IuZGVmYXVsdFByb3BzID0gQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKCk7XG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRJbml0aWFsU3RhdGUpIHtcbiAgICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0SW5pdGlhbFN0YXRlLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICFDb25zdHJ1Y3Rvci5wcm90b3R5cGUucmVuZGVyID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2NyZWF0ZUNsYXNzKC4uLik6IENsYXNzIHNwZWNpZmljYXRpb24gbXVzdCBpbXBsZW1lbnQgYSBgcmVuZGVyYCBtZXRob2QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIUNvbnN0cnVjdG9yLnByb3RvdHlwZS5jb21wb25lbnRTaG91bGRVcGRhdGUsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50U2hvdWxkVXBkYXRlKCkuIERpZCB5b3UgbWVhbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKT8gJyArICdUaGUgbmFtZSBpcyBwaHJhc2VkIGFzIGEgcXVlc3Rpb24gYmVjYXVzZSB0aGUgZnVuY3Rpb24gaXMgJyArICdleHBlY3RlZCB0byByZXR1cm4gYSB2YWx1ZS4nLCBzcGVjLmRpc3BsYXlOYW1lIHx8ICdBIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghQ29uc3RydWN0b3IucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiBEaWQgeW91IG1lYW4gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpPycsIHNwZWMuZGlzcGxheU5hbWUgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBtZXRob2ROYW1lIGluIFJlYWN0Q2xhc3NJbnRlcmZhY2UpIHtcbiAgICAgICAgaWYgKCFDb25zdHJ1Y3Rvci5wcm90b3R5cGVbbWV0aG9kTmFtZV0pIHtcbiAgICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgfSxcbiAgICBpbmplY3Rpb246IHtpbmplY3RNaXhpbjogZnVuY3Rpb24obWl4aW4pIHtcbiAgICAgICAgaW5qZWN0ZWRNaXhpbnMucHVzaChtaXhpbik7XG4gICAgICB9fVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q2xhc3M7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudCcpO1xuICB2YXIgUmVhY3RFbGVtZW50VmFsaWRhdG9yID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnRWYWxpZGF0b3InKTtcbiAgdmFyIG1hcE9iamVjdCA9IHJlcXVpcmUoJ2ZianMvbGliL21hcE9iamVjdCcpO1xuICBmdW5jdGlvbiBjcmVhdGVET01GYWN0b3J5KHRhZykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gUmVhY3RFbGVtZW50VmFsaWRhdG9yLmNyZWF0ZUZhY3RvcnkodGFnKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5KHRhZyk7XG4gIH1cbiAgdmFyIFJlYWN0RE9NRmFjdG9yaWVzID0gbWFwT2JqZWN0KHtcbiAgICBhOiAnYScsXG4gICAgYWJicjogJ2FiYnInLFxuICAgIGFkZHJlc3M6ICdhZGRyZXNzJyxcbiAgICBhcmVhOiAnYXJlYScsXG4gICAgYXJ0aWNsZTogJ2FydGljbGUnLFxuICAgIGFzaWRlOiAnYXNpZGUnLFxuICAgIGF1ZGlvOiAnYXVkaW8nLFxuICAgIGI6ICdiJyxcbiAgICBiYXNlOiAnYmFzZScsXG4gICAgYmRpOiAnYmRpJyxcbiAgICBiZG86ICdiZG8nLFxuICAgIGJpZzogJ2JpZycsXG4gICAgYmxvY2txdW90ZTogJ2Jsb2NrcXVvdGUnLFxuICAgIGJvZHk6ICdib2R5JyxcbiAgICBicjogJ2JyJyxcbiAgICBidXR0b246ICdidXR0b24nLFxuICAgIGNhbnZhczogJ2NhbnZhcycsXG4gICAgY2FwdGlvbjogJ2NhcHRpb24nLFxuICAgIGNpdGU6ICdjaXRlJyxcbiAgICBjb2RlOiAnY29kZScsXG4gICAgY29sOiAnY29sJyxcbiAgICBjb2xncm91cDogJ2NvbGdyb3VwJyxcbiAgICBkYXRhOiAnZGF0YScsXG4gICAgZGF0YWxpc3Q6ICdkYXRhbGlzdCcsXG4gICAgZGQ6ICdkZCcsXG4gICAgZGVsOiAnZGVsJyxcbiAgICBkZXRhaWxzOiAnZGV0YWlscycsXG4gICAgZGZuOiAnZGZuJyxcbiAgICBkaWFsb2c6ICdkaWFsb2cnLFxuICAgIGRpdjogJ2RpdicsXG4gICAgZGw6ICdkbCcsXG4gICAgZHQ6ICdkdCcsXG4gICAgZW06ICdlbScsXG4gICAgZW1iZWQ6ICdlbWJlZCcsXG4gICAgZmllbGRzZXQ6ICdmaWVsZHNldCcsXG4gICAgZmlnY2FwdGlvbjogJ2ZpZ2NhcHRpb24nLFxuICAgIGZpZ3VyZTogJ2ZpZ3VyZScsXG4gICAgZm9vdGVyOiAnZm9vdGVyJyxcbiAgICBmb3JtOiAnZm9ybScsXG4gICAgaDE6ICdoMScsXG4gICAgaDI6ICdoMicsXG4gICAgaDM6ICdoMycsXG4gICAgaDQ6ICdoNCcsXG4gICAgaDU6ICdoNScsXG4gICAgaDY6ICdoNicsXG4gICAgaGVhZDogJ2hlYWQnLFxuICAgIGhlYWRlcjogJ2hlYWRlcicsXG4gICAgaGdyb3VwOiAnaGdyb3VwJyxcbiAgICBocjogJ2hyJyxcbiAgICBodG1sOiAnaHRtbCcsXG4gICAgaTogJ2knLFxuICAgIGlmcmFtZTogJ2lmcmFtZScsXG4gICAgaW1nOiAnaW1nJyxcbiAgICBpbnB1dDogJ2lucHV0JyxcbiAgICBpbnM6ICdpbnMnLFxuICAgIGtiZDogJ2tiZCcsXG4gICAga2V5Z2VuOiAna2V5Z2VuJyxcbiAgICBsYWJlbDogJ2xhYmVsJyxcbiAgICBsZWdlbmQ6ICdsZWdlbmQnLFxuICAgIGxpOiAnbGknLFxuICAgIGxpbms6ICdsaW5rJyxcbiAgICBtYWluOiAnbWFpbicsXG4gICAgbWFwOiAnbWFwJyxcbiAgICBtYXJrOiAnbWFyaycsXG4gICAgbWVudTogJ21lbnUnLFxuICAgIG1lbnVpdGVtOiAnbWVudWl0ZW0nLFxuICAgIG1ldGE6ICdtZXRhJyxcbiAgICBtZXRlcjogJ21ldGVyJyxcbiAgICBuYXY6ICduYXYnLFxuICAgIG5vc2NyaXB0OiAnbm9zY3JpcHQnLFxuICAgIG9iamVjdDogJ29iamVjdCcsXG4gICAgb2w6ICdvbCcsXG4gICAgb3B0Z3JvdXA6ICdvcHRncm91cCcsXG4gICAgb3B0aW9uOiAnb3B0aW9uJyxcbiAgICBvdXRwdXQ6ICdvdXRwdXQnLFxuICAgIHA6ICdwJyxcbiAgICBwYXJhbTogJ3BhcmFtJyxcbiAgICBwaWN0dXJlOiAncGljdHVyZScsXG4gICAgcHJlOiAncHJlJyxcbiAgICBwcm9ncmVzczogJ3Byb2dyZXNzJyxcbiAgICBxOiAncScsXG4gICAgcnA6ICdycCcsXG4gICAgcnQ6ICdydCcsXG4gICAgcnVieTogJ3J1YnknLFxuICAgIHM6ICdzJyxcbiAgICBzYW1wOiAnc2FtcCcsXG4gICAgc2NyaXB0OiAnc2NyaXB0JyxcbiAgICBzZWN0aW9uOiAnc2VjdGlvbicsXG4gICAgc2VsZWN0OiAnc2VsZWN0JyxcbiAgICBzbWFsbDogJ3NtYWxsJyxcbiAgICBzb3VyY2U6ICdzb3VyY2UnLFxuICAgIHNwYW46ICdzcGFuJyxcbiAgICBzdHJvbmc6ICdzdHJvbmcnLFxuICAgIHN0eWxlOiAnc3R5bGUnLFxuICAgIHN1YjogJ3N1YicsXG4gICAgc3VtbWFyeTogJ3N1bW1hcnknLFxuICAgIHN1cDogJ3N1cCcsXG4gICAgdGFibGU6ICd0YWJsZScsXG4gICAgdGJvZHk6ICd0Ym9keScsXG4gICAgdGQ6ICd0ZCcsXG4gICAgdGV4dGFyZWE6ICd0ZXh0YXJlYScsXG4gICAgdGZvb3Q6ICd0Zm9vdCcsXG4gICAgdGg6ICd0aCcsXG4gICAgdGhlYWQ6ICd0aGVhZCcsXG4gICAgdGltZTogJ3RpbWUnLFxuICAgIHRpdGxlOiAndGl0bGUnLFxuICAgIHRyOiAndHInLFxuICAgIHRyYWNrOiAndHJhY2snLFxuICAgIHU6ICd1JyxcbiAgICB1bDogJ3VsJyxcbiAgICAndmFyJzogJ3ZhcicsXG4gICAgdmlkZW86ICd2aWRlbycsXG4gICAgd2JyOiAnd2JyJyxcbiAgICBjaXJjbGU6ICdjaXJjbGUnLFxuICAgIGNsaXBQYXRoOiAnY2xpcFBhdGgnLFxuICAgIGRlZnM6ICdkZWZzJyxcbiAgICBlbGxpcHNlOiAnZWxsaXBzZScsXG4gICAgZzogJ2cnLFxuICAgIGltYWdlOiAnaW1hZ2UnLFxuICAgIGxpbmU6ICdsaW5lJyxcbiAgICBsaW5lYXJHcmFkaWVudDogJ2xpbmVhckdyYWRpZW50JyxcbiAgICBtYXNrOiAnbWFzaycsXG4gICAgcGF0aDogJ3BhdGgnLFxuICAgIHBhdHRlcm46ICdwYXR0ZXJuJyxcbiAgICBwb2x5Z29uOiAncG9seWdvbicsXG4gICAgcG9seWxpbmU6ICdwb2x5bGluZScsXG4gICAgcmFkaWFsR3JhZGllbnQ6ICdyYWRpYWxHcmFkaWVudCcsXG4gICAgcmVjdDogJ3JlY3QnLFxuICAgIHN0b3A6ICdzdG9wJyxcbiAgICBzdmc6ICdzdmcnLFxuICAgIHRleHQ6ICd0ZXh0JyxcbiAgICB0c3BhbjogJ3RzcGFuJ1xuICB9LCBjcmVhdGVET01GYWN0b3J5KTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUZhY3Rvcmllcztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RQcm9wVHlwZUxvY2F0aW9uc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGtleU1pcnJvciA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU1pcnJvcicpO1xuXG52YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucyA9IGtleU1pcnJvcih7XG4gIHByb3A6IG51bGwsXG4gIGNvbnRleHQ6IG51bGwsXG4gIGNoaWxkQ29udGV4dDogbnVsbFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uczsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0gcmVxdWlyZSgnLi9SZWFjdFByb3BUeXBlTG9jYXRpb25zJyk7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9IHJlcXVpcmUoJy4vUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMnKTtcbiAgdmFyIFJlYWN0Q3VycmVudE93bmVyID0gcmVxdWlyZSgnLi9SZWFjdEN1cnJlbnRPd25lcicpO1xuICB2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL2NhbkRlZmluZVByb3BlcnR5Jyk7XG4gIHZhciBnZXRJdGVyYXRvckZuID0gcmVxdWlyZSgnLi9nZXRJdGVyYXRvckZuJyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIGZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpIHtcbiAgICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LmdldE5hbWUoKTtcbiAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgIHJldHVybiAnIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuICB2YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4gIHZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcbiAgZnVuY3Rpb24gdmFsaWRhdGVFeHBsaWNpdEtleShlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gICAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgIHZhciBhZGRlbmRhID0gZ2V0QWRkZW5kYUZvcktleVVzZSgndW5pcXVlS2V5JywgZWxlbWVudCwgcGFyZW50VHlwZSk7XG4gICAgaWYgKGFkZGVuZGEgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdFYWNoIGNoaWxkIGluIGFuIGFycmF5IG9yIGl0ZXJhdG9yIHNob3VsZCBoYXZlIGEgdW5pcXVlIFwia2V5XCIgcHJvcC4nICsgJyVzJXMlcycsIGFkZGVuZGEucGFyZW50T3JPd25lciB8fCAnJywgYWRkZW5kYS5jaGlsZE93bmVyIHx8ICcnLCBhZGRlbmRhLnVybCB8fCAnJykgOiB2b2lkIDA7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0QWRkZW5kYUZvcktleVVzZShtZXNzYWdlVHlwZSwgZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICAgIHZhciBhZGRlbmR1bSA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuICAgIGlmICghYWRkZW5kdW0pIHtcbiAgICAgIHZhciBwYXJlbnROYW1lID0gdHlwZW9mIHBhcmVudFR5cGUgPT09ICdzdHJpbmcnID8gcGFyZW50VHlwZSA6IHBhcmVudFR5cGUuZGlzcGxheU5hbWUgfHwgcGFyZW50VHlwZS5uYW1lO1xuICAgICAgaWYgKHBhcmVudE5hbWUpIHtcbiAgICAgICAgYWRkZW5kdW0gPSAnIENoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPCcgKyBwYXJlbnROYW1lICsgJz4uJztcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIG1lbW9pemVyID0gb3duZXJIYXNLZXlVc2VXYXJuaW5nW21lc3NhZ2VUeXBlXSB8fCAob3duZXJIYXNLZXlVc2VXYXJuaW5nW21lc3NhZ2VUeXBlXSA9IHt9KTtcbiAgICBpZiAobWVtb2l6ZXJbYWRkZW5kdW1dKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbWVtb2l6ZXJbYWRkZW5kdW1dID0gdHJ1ZTtcbiAgICB2YXIgYWRkZW5kYSA9IHtcbiAgICAgIHBhcmVudE9yT3duZXI6IGFkZGVuZHVtLFxuICAgICAgdXJsOiAnIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmcta2V5cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nLFxuICAgICAgY2hpbGRPd25lcjogbnVsbFxuICAgIH07XG4gICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5fb3duZXIgJiYgZWxlbWVudC5fb3duZXIgIT09IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQpIHtcbiAgICAgIGFkZGVuZGEuY2hpbGRPd25lciA9ICcgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gJyArIGVsZW1lbnQuX293bmVyLmdldE5hbWUoKSArICcuJztcbiAgICB9XG4gICAgcmV0dXJuIGFkZGVuZGE7XG4gIH1cbiAgZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSwgcGFyZW50VHlwZSkge1xuICAgIGlmICh0eXBlb2Ygbm9kZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobm9kZSkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuICAgICAgICBpZiAoUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQobm9kZSkpIHtcbiAgICAgIGlmIChub2RlLl9zdG9yZSkge1xuICAgICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobm9kZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKG5vZGUpO1xuICAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IG5vZGUuZW50cmllcykge1xuICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChub2RlKTtcbiAgICAgICAgICB2YXIgc3RlcDtcbiAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICBpZiAoUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKGNvbXBvbmVudE5hbWUsIHByb3BUeXBlcywgcHJvcHMsIGxvY2F0aW9uKSB7XG4gICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gcHJvcFR5cGVzKSB7XG4gICAgICBpZiAocHJvcFR5cGVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgISh0eXBlb2YgcHJvcFR5cGVzW3Byb3BOYW1lXSA9PT0gJ2Z1bmN0aW9uJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXM6ICVzIHR5cGUgYCVzYCBpcyBpbnZhbGlkOyBpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSAnICsgJ1JlYWN0LlByb3BUeXBlcy4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXSwgcHJvcE5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBlcnJvciA9IHByb3BUeXBlc1twcm9wTmFtZV0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbik7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghZXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciwgJyVzOiB0eXBlIHNwZWNpZmljYXRpb24gb2YgJXMgYCVzYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyICcgKyAnZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJXMuICcgKyAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArICdjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kICcgKyAnc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dLCBwcm9wTmFtZSwgdHlwZW9mIGVycm9yKSA6IHZvaWQgMDtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIShlcnJvci5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuICAgICAgICAgIHZhciBhZGRlbmR1bSA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRmFpbGVkIHByb3BUeXBlOiAlcyVzJywgZXJyb3IubWVzc2FnZSwgYWRkZW5kdW0pIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHZhbGlkYXRlUHJvcFR5cGVzKGVsZW1lbnQpIHtcbiAgICB2YXIgY29tcG9uZW50Q2xhc3MgPSBlbGVtZW50LnR5cGU7XG4gICAgaWYgKHR5cGVvZiBjb21wb25lbnRDbGFzcyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbmFtZSA9IGNvbXBvbmVudENsYXNzLmRpc3BsYXlOYW1lIHx8IGNvbXBvbmVudENsYXNzLm5hbWU7XG4gICAgaWYgKGNvbXBvbmVudENsYXNzLnByb3BUeXBlcykge1xuICAgICAgY2hlY2tQcm9wVHlwZXMobmFtZSwgY29tcG9uZW50Q2xhc3MucHJvcFR5cGVzLCBlbGVtZW50LnByb3BzLCBSZWFjdFByb3BUeXBlTG9jYXRpb25zLnByb3ApO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbXBvbmVudENsYXNzLmdldERlZmF1bHRQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoY29tcG9uZW50Q2xhc3MuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkLCAnZ2V0RGVmYXVsdFByb3BzIGlzIG9ubHkgdXNlZCBvbiBjbGFzc2ljIFJlYWN0LmNyZWF0ZUNsYXNzICcgKyAnZGVmaW5pdGlvbnMuIFVzZSBhIHN0YXRpYyBwcm9wZXJ0eSBuYW1lZCBgZGVmYXVsdFByb3BzYCBpbnN0ZWFkLicpIDogdm9pZCAwO1xuICAgIH1cbiAgfVxuICB2YXIgUmVhY3RFbGVtZW50VmFsaWRhdG9yID0ge1xuICAgIGNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKHR5cGUsIHByb3BzLCBjaGlsZHJlbikge1xuICAgICAgdmFyIHZhbGlkVHlwZSA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHZhbGlkVHlwZSwgJ1JlYWN0LmNyZWF0ZUVsZW1lbnQ6IHR5cGUgc2hvdWxkIG5vdCBiZSBudWxsLCB1bmRlZmluZWQsIGJvb2xlYW4sIG9yICcgKyAnbnVtYmVyLiBJdCBzaG91bGQgYmUgYSBzdHJpbmcgKGZvciBET00gZWxlbWVudHMpIG9yIGEgUmVhY3RDbGFzcyAnICsgJyhmb3IgY29tcG9zaXRlIGNvbXBvbmVudHMpLiVzJywgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkpIDogdm9pZCAwO1xuICAgICAgdmFyIGVsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRWxlbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH1cbiAgICAgIGlmICh2YWxpZFR5cGUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNbaV0sIHR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KTtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH0sXG4gICAgY3JlYXRlRmFjdG9yeTogZnVuY3Rpb24odHlwZSkge1xuICAgICAgdmFyIHZhbGlkYXRlZEZhY3RvcnkgPSBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRWxlbWVudC5iaW5kKG51bGwsIHR5cGUpO1xuICAgICAgdmFsaWRhdGVkRmFjdG9yeS50eXBlID0gdHlwZTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2YWxpZGF0ZWRGYWN0b3J5LCAndHlwZScsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdGYWN0b3J5LnR5cGUgaXMgZGVwcmVjYXRlZC4gQWNjZXNzIHRoZSBjbGFzcyBkaXJlY3RseSAnICsgJ2JlZm9yZSBwYXNzaW5nIGl0IHRvIGNyZWF0ZUZhY3RvcnkuJykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndHlwZScsIHt2YWx1ZTogdHlwZX0pO1xuICAgICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbGlkYXRlZEZhY3Rvcnk7XG4gICAgfSxcbiAgICBjbG9uZUVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHByb3BzLCBjaGlsZHJlbikge1xuICAgICAgdmFyIG5ld0VsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY2xvbmVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNbaV0sIG5ld0VsZW1lbnQudHlwZSk7XG4gICAgICB9XG4gICAgICB2YWxpZGF0ZVByb3BUeXBlcyhuZXdFbGVtZW50KTtcbiAgICAgIHJldHVybiBuZXdFbGVtZW50O1xuICAgIH1cbiAgfTtcbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdEVsZW1lbnRWYWxpZGF0b3I7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9IHt9O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0ge1xuICAgICAgcHJvcDogJ3Byb3AnLFxuICAgICAgY29udGV4dDogJ2NvbnRleHQnLFxuICAgICAgY2hpbGRDb250ZXh0OiAnY2hpbGQgY29udGV4dCdcbiAgICB9O1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXM7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldEl0ZXJhdG9yRm5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qIGdsb2JhbCBTeW1ib2wgKi9cblxudmFyIElURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xudmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InOyAvLyBCZWZvcmUgU3ltYm9sIHNwZWMuXG5cbi8qKlxuICogUmV0dXJucyB0aGUgaXRlcmF0b3IgbWV0aG9kIGZ1bmN0aW9uIGNvbnRhaW5lZCBvbiB0aGUgaXRlcmFibGUgb2JqZWN0LlxuICpcbiAqIEJlIHN1cmUgdG8gaW52b2tlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBpdGVyYWJsZSBhcyBjb250ZXh0OlxuICpcbiAqICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obXlJdGVyYWJsZSk7XG4gKiAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAqICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChteUl0ZXJhYmxlKTtcbiAqICAgICAgIC4uLlxuICogICAgIH1cbiAqXG4gKiBAcGFyYW0gez9vYmplY3R9IG1heWJlSXRlcmFibGVcbiAqIEByZXR1cm4gez9mdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gIHZhciBpdGVyYXRvckZuID0gbWF5YmVJdGVyYWJsZSAmJiAoSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXSk7XG4gIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBpdGVyYXRvckZuO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0SXRlcmF0b3JGbjsiLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudCcpO1xudmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0gcmVxdWlyZSgnLi9SZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcycpO1xudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG52YXIgZ2V0SXRlcmF0b3JGbiA9IHJlcXVpcmUoJy4vZ2V0SXRlcmF0b3JGbicpO1xudmFyIEFOT05ZTU9VUyA9ICc8PGFub255bW91cz4+JztcbnZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgYXJyYXk6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdhcnJheScpLFxuICBib29sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYm9vbGVhbicpLFxuICBmdW5jOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignZnVuY3Rpb24nKSxcbiAgbnVtYmVyOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignbnVtYmVyJyksXG4gIG9iamVjdDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ29iamVjdCcpLFxuICBzdHJpbmc6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzdHJpbmcnKSxcbiAgYW55OiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpLFxuICBhcnJheU9mOiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIsXG4gIGVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpLFxuICBpbnN0YW5jZU9mOiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyLFxuICBub2RlOiBjcmVhdGVOb2RlQ2hlY2tlcigpLFxuICBvYmplY3RPZjogY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcixcbiAgb25lT2Y6IGNyZWF0ZUVudW1UeXBlQ2hlY2tlcixcbiAgb25lT2ZUeXBlOiBjcmVhdGVVbmlvblR5cGVDaGVja2VyLFxuICBzaGFwZTogY3JlYXRlU2hhcGVUeXBlQ2hlY2tlclxufTtcbmZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgaWYgKHggPT09IHkpIHtcbiAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpIHtcbiAgZnVuY3Rpb24gY2hlY2tUeXBlKGlzUmVxdWlyZWQsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnROYW1lIHx8IEFOT05ZTU9VUztcbiAgICBwcm9wRnVsbE5hbWUgPSBwcm9wRnVsbE5hbWUgfHwgcHJvcE5hbWU7XG4gICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignUmVxdWlyZWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCB3YXMgbm90IHNwZWNpZmllZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSk7XG4gICAgfVxuICB9XG4gIHZhciBjaGFpbmVkQ2hlY2tUeXBlID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgZmFsc2UpO1xuICBjaGFpbmVkQ2hlY2tUeXBlLmlzUmVxdWlyZWQgPSBjaGVja1R5cGUuYmluZChudWxsLCB0cnVlKTtcbiAgcmV0dXJuIGNoYWluZWRDaGVja1R5cGU7XG59XG5mdW5jdGlvbiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcihleHBlY3RlZFR5cGUpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgIGlmIChwcm9wVHlwZSAhPT0gZXhwZWN0ZWRUeXBlKSB7XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgdmFyIHByZWNpc2VUeXBlID0gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJlY2lzZVR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2AnICsgZXhwZWN0ZWRUeXBlICsgJ2AuJykpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuZnVuY3Rpb24gY3JlYXRlQW55VHlwZUNoZWNrZXIoKSB7XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcihlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zKG51bGwpKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgYXJyYXlPZi4nKTtcbiAgICB9XG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wVmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScpO1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCkge1xuICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICBpZiAoIVJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChwcm9wc1twcm9wTmFtZV0pKSB7XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQuJykpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcihleHBlY3RlZENsYXNzKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGlmICghKHByb3BzW3Byb3BOYW1lXSBpbnN0YW5jZW9mIGV4cGVjdGVkQ2xhc3MpKSB7XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgdmFyIGV4cGVjdGVkQ2xhc3NOYW1lID0gZXhwZWN0ZWRDbGFzcy5uYW1lIHx8IEFOT05ZTU9VUztcbiAgICAgIHZhciBhY3R1YWxDbGFzc05hbWUgPSBnZXRDbGFzc05hbWUocHJvcHNbcHJvcE5hbWVdKTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgYWN0dWFsQ2xhc3NOYW1lICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdpbnN0YW5jZSBvZiBgJyArIGV4cGVjdGVkQ2xhc3NOYW1lICsgJ2AuJykpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuZnVuY3Rpb24gY3JlYXRlRW51bVR5cGVDaGVja2VyKGV4cGVjdGVkVmFsdWVzKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShleHBlY3RlZFZhbHVlcykpIHtcbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mLCBleHBlY3RlZCBhbiBpbnN0YW5jZSBvZiBhcnJheS4nKTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChpcyhwcm9wVmFsdWUsIGV4cGVjdGVkVmFsdWVzW2ldKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICB2YXIgdmFsdWVzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZXhwZWN0ZWRWYWx1ZXMpO1xuICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB2YWx1ZSBgJyArIHByb3BWYWx1ZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBvbmUgb2YgJyArIHZhbHVlc1N0cmluZyArICcuJykpO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBvYmplY3RPZi4nKTtcbiAgICB9XG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIG9iamVjdC4nKSk7XG4gICAgfVxuICAgIGZvciAodmFyIGtleSBpbiBwcm9wVmFsdWUpIHtcbiAgICAgIGlmIChwcm9wVmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSk7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVVbmlvblR5cGVDaGVja2VyKGFycmF5T2ZUeXBlQ2hlY2tlcnMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5T2ZUeXBlQ2hlY2tlcnMpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuICAgICAgaWYgKGNoZWNrZXIocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nKSk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU5vZGVDaGVja2VyKCkge1xuICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICBpZiAoIWlzTm9kZShwcm9wc1twcm9wTmFtZV0pKSB7XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIFJlYWN0Tm9kZS4nKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcbiAgICB9XG4gICAgZm9yICh2YXIga2V5IGluIHNoYXBlVHlwZXMpIHtcbiAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuICAgICAgaWYgKCFjaGVja2VyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSk7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuZnVuY3Rpb24gaXNOb2RlKHByb3BWYWx1ZSkge1xuICBzd2l0Y2ggKHR5cGVvZiBwcm9wVmFsdWUpIHtcbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuICFwcm9wVmFsdWU7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHByb3BWYWx1ZS5ldmVyeShpc05vZGUpO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihwcm9wVmFsdWUpO1xuICAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKHByb3BWYWx1ZSk7XG4gICAgICAgIHZhciBzdGVwO1xuICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gcHJvcFZhbHVlLmVudHJpZXMpIHtcbiAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICBpZiAoIWlzTm9kZShzdGVwLnZhbHVlKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgaWYgKCFpc05vZGUoZW50cnlbMV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiBnZXRQcm9wVHlwZShwcm9wVmFsdWUpIHtcbiAgdmFyIHByb3BUeXBlID0gdHlwZW9mIHByb3BWYWx1ZTtcbiAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgIHJldHVybiAnYXJyYXknO1xuICB9XG4gIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICByZXR1cm4gJ29iamVjdCc7XG4gIH1cbiAgcmV0dXJuIHByb3BUeXBlO1xufVxuZnVuY3Rpb24gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKSB7XG4gIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gIGlmIChwcm9wVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgcmV0dXJuICdkYXRlJztcbiAgICB9IGVsc2UgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgcmV0dXJuICdyZWdleHAnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcFR5cGU7XG59XG5mdW5jdGlvbiBnZXRDbGFzc05hbWUocHJvcFZhbHVlKSB7XG4gIGlmICghcHJvcFZhbHVlLmNvbnN0cnVjdG9yIHx8ICFwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZSkge1xuICAgIHJldHVybiBBTk9OWU1PVVM7XG4gIH1cbiAgcmV0dXJuIHByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lO1xufVxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlcztcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFZlcnNpb25cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gJzE1LjAuMic7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0Q3VycmVudE93bmVyXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEtlZXBzIHRyYWNrIG9mIHRoZSBjdXJyZW50IG93bmVyLlxuICpcbiAqIFRoZSBjdXJyZW50IG93bmVyIGlzIHRoZSBjb21wb25lbnQgd2hvIHNob3VsZCBvd24gYW55IGNvbXBvbmVudHMgdGhhdCBhcmVcbiAqIGN1cnJlbnRseSBiZWluZyBjb25zdHJ1Y3RlZC5cbiAqL1xuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSB7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAdHlwZSB7UmVhY3RDb21wb25lbnR9XG4gICAqL1xuICBjdXJyZW50OiBudWxsXG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RDdXJyZW50T3duZXI7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9IGZhbHNlO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICd4Jywge2dldDogZnVuY3Rpb24oKSB7fX0pO1xuICAgICAgY2FuRGVmaW5lUHJvcGVydHkgPSB0cnVlO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBjYW5EZWZpbmVQcm9wZXJ0eTtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG4gIHZhciBSZWFjdEN1cnJlbnRPd25lciA9IHJlcXVpcmUoJy4vUmVhY3RDdXJyZW50T3duZXInKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vY2FuRGVmaW5lUHJvcGVydHknKTtcbiAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sWydmb3InXSAmJiBTeW1ib2xbJ2ZvciddKCdyZWFjdC5lbGVtZW50JykgfHwgMHhlYWM3O1xuICB2YXIgUkVTRVJWRURfUFJPUFMgPSB7XG4gICAga2V5OiB0cnVlLFxuICAgIHJlZjogdHJ1ZSxcbiAgICBfX3NlbGY6IHRydWUsXG4gICAgX19zb3VyY2U6IHRydWVcbiAgfTtcbiAgdmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duLFxuICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd247XG4gIHZhciBSZWFjdEVsZW1lbnQgPSBmdW5jdGlvbih0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgICB2YXIgZWxlbWVudCA9IHtcbiAgICAgICQkdHlwZW9mOiBSRUFDVF9FTEVNRU5UX1RZUEUsXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAga2V5OiBrZXksXG4gICAgICByZWY6IHJlZixcbiAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgIF9vd25lcjogb3duZXJcbiAgICB9O1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBlbGVtZW50Ll9zdG9yZSA9IHt9O1xuICAgICAgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50Ll9zdG9yZSwgJ3ZhbGlkYXRlZCcsIHtcbiAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc2VsZicsIHtcbiAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICB2YWx1ZTogc2VsZlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc291cmNlJywge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgIHZhbHVlOiBzb3VyY2VcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgZWxlbWVudC5fc2VsZiA9IHNlbGY7XG4gICAgICAgIGVsZW1lbnQuX3NvdXJjZSA9IHNvdXJjZTtcbiAgICAgIH1cbiAgICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICAgIE9iamVjdC5mcmVlemUoZWxlbWVudC5wcm9wcyk7XG4gICAgICAgIE9iamVjdC5mcmVlemUoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50O1xuICB9O1xuICBSZWFjdEVsZW1lbnQuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKHR5cGUsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICB2YXIgcHJvcE5hbWU7XG4gICAgdmFyIHByb3BzID0ge307XG4gICAgdmFyIGtleSA9IG51bGw7XG4gICAgdmFyIHJlZiA9IG51bGw7XG4gICAgdmFyIHNlbGYgPSBudWxsO1xuICAgIHZhciBzb3VyY2UgPSBudWxsO1xuICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgcmVmID0gIWNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgncmVmJykgfHwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdyZWYnKS5nZXQgPyBudWxsIDogY29uZmlnLnJlZjtcbiAgICAgICAga2V5ID0gIWNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgna2V5JykgfHwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQgPyBudWxsIDogJycgKyBjb25maWcua2V5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVmID0gY29uZmlnLnJlZiA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNvbmZpZy5yZWY7XG4gICAgICAgIGtleSA9IGNvbmZpZy5rZXkgPT09IHVuZGVmaW5lZCA/IG51bGwgOiAnJyArIGNvbmZpZy5rZXk7XG4gICAgICB9XG4gICAgICBzZWxmID0gY29uZmlnLl9fc2VsZiA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNvbmZpZy5fX3NlbGY7XG4gICAgICBzb3VyY2UgPSBjb25maWcuX19zb3VyY2UgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zb3VyY2U7XG4gICAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnLmhhc093blByb3BlcnR5KHByb3BOYW1lKSAmJiAhUkVTRVJWRURfUFJPUFMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICBpZiAoY2hpbGRyZW5MZW5ndGggPT09IDEpIHtcbiAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgfSBlbHNlIGlmIChjaGlsZHJlbkxlbmd0aCA+IDEpIHtcbiAgICAgIHZhciBjaGlsZEFycmF5ID0gQXJyYXkoY2hpbGRyZW5MZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNoaWxkQXJyYXlbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgICAgfVxuICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICAgIH1cbiAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuICAgICAgZm9yIChwcm9wTmFtZSBpbiBkZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiBwcm9wcy4kJHR5cGVvZiA9PT0gJ3VuZGVmaW5lZCcgfHwgcHJvcHMuJCR0eXBlb2YgIT09IFJFQUNUX0VMRU1FTlRfVFlQRSkge1xuICAgICAgICBpZiAoIXByb3BzLmhhc093blByb3BlcnR5KCdrZXknKSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICghc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24pIHtcbiAgICAgICAgICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vZmIubWUvcmVhY3Qtc3BlY2lhbC1wcm9wcyknLCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiAnZGlzcGxheU5hbWUnIGluIHR5cGUgPyB0eXBlLmRpc3BsYXlOYW1lIDogJ0VsZW1lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcHJvcHMuaGFzT3duUHJvcGVydHkoJ3JlZicpKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93bikge1xuICAgICAgICAgICAgICAgIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9mYi5tZS9yZWFjdC1zcGVjaWFsLXByb3BzKScsIHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nICYmICdkaXNwbGF5TmFtZScgaW4gdHlwZSA/IHR5cGUuZGlzcGxheU5hbWUgOiAnRWxlbWVudCcpIDogdm9pZCAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFJlYWN0RWxlbWVudCh0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LCBwcm9wcyk7XG4gIH07XG4gIFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5ID0gZnVuY3Rpb24odHlwZSkge1xuICAgIHZhciBmYWN0b3J5ID0gUmVhY3RFbGVtZW50LmNyZWF0ZUVsZW1lbnQuYmluZChudWxsLCB0eXBlKTtcbiAgICBmYWN0b3J5LnR5cGUgPSB0eXBlO1xuICAgIHJldHVybiBmYWN0b3J5O1xuICB9O1xuICBSZWFjdEVsZW1lbnQuY2xvbmVBbmRSZXBsYWNlS2V5ID0gZnVuY3Rpb24ob2xkRWxlbWVudCwgbmV3S2V5KSB7XG4gICAgdmFyIG5ld0VsZW1lbnQgPSBSZWFjdEVsZW1lbnQob2xkRWxlbWVudC50eXBlLCBuZXdLZXksIG9sZEVsZW1lbnQucmVmLCBvbGRFbGVtZW50Ll9zZWxmLCBvbGRFbGVtZW50Ll9zb3VyY2UsIG9sZEVsZW1lbnQuX293bmVyLCBvbGRFbGVtZW50LnByb3BzKTtcbiAgICByZXR1cm4gbmV3RWxlbWVudDtcbiAgfTtcbiAgUmVhY3RFbGVtZW50LmNsb25lRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICB2YXIgcHJvcE5hbWU7XG4gICAgdmFyIHByb3BzID0gX2Fzc2lnbih7fSwgZWxlbWVudC5wcm9wcyk7XG4gICAgdmFyIGtleSA9IGVsZW1lbnQua2V5O1xuICAgIHZhciByZWYgPSBlbGVtZW50LnJlZjtcbiAgICB2YXIgc2VsZiA9IGVsZW1lbnQuX3NlbGY7XG4gICAgdmFyIHNvdXJjZSA9IGVsZW1lbnQuX3NvdXJjZTtcbiAgICB2YXIgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgIGlmIChjb25maWcucmVmICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVmID0gY29uZmlnLnJlZjtcbiAgICAgICAgb3duZXIgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50O1xuICAgICAgfVxuICAgICAgaWYgKGNvbmZpZy5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXkgPSAnJyArIGNvbmZpZy5rZXk7XG4gICAgICB9XG4gICAgICB2YXIgZGVmYXVsdFByb3BzO1xuICAgICAgaWYgKGVsZW1lbnQudHlwZSAmJiBlbGVtZW50LnR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgICAgIGRlZmF1bHRQcm9wcyA9IGVsZW1lbnQudHlwZS5kZWZhdWx0UHJvcHM7XG4gICAgICB9XG4gICAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnLmhhc093blByb3BlcnR5KHByb3BOYW1lKSAmJiAhUkVTRVJWRURfUFJPUFMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgaWYgKGNvbmZpZ1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCAmJiBkZWZhdWx0UHJvcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gICAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICBjaGlsZEFycmF5W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICAgIH1cbiAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgICB9XG4gICAgcmV0dXJuIFJlYWN0RWxlbWVudChlbGVtZW50LnR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcyk7XG4gIH07XG4gIFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RFbGVtZW50O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICBmdW5jdGlvbiBvbmx5Q2hpbGQoY2hpbGRyZW4pIHtcbiAgICAhUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdvbmx5Q2hpbGQgbXVzdCBiZSBwYXNzZWQgYSBjaGlsZHJlbiB3aXRoIGV4YWN0bHkgb25lIGNoaWxkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBvbmx5Q2hpbGQ7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgUmVhY3RDaGlsZHJlbiA9IHJlcXVpcmUoJy4vUmVhY3RDaGlsZHJlbicpO1xuICB2YXIgUmVhY3RDb21wb25lbnQgPSByZXF1aXJlKCcuL1JlYWN0Q29tcG9uZW50Jyk7XG4gIHZhciBSZWFjdENsYXNzID0gcmVxdWlyZSgnLi9SZWFjdENsYXNzJyk7XG4gIHZhciBSZWFjdERPTUZhY3RvcmllcyA9IHJlcXVpcmUoJy4vUmVhY3RET01GYWN0b3JpZXMnKTtcbiAgdmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG4gIHZhciBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudFZhbGlkYXRvcicpO1xuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVzJyk7XG4gIHZhciBSZWFjdFZlcnNpb24gPSByZXF1aXJlKCcuL1JlYWN0VmVyc2lvbicpO1xuICB2YXIgb25seUNoaWxkID0gcmVxdWlyZSgnLi9vbmx5Q2hpbGQnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBjcmVhdGVFbGVtZW50ID0gUmVhY3RFbGVtZW50LmNyZWF0ZUVsZW1lbnQ7XG4gIHZhciBjcmVhdGVGYWN0b3J5ID0gUmVhY3RFbGVtZW50LmNyZWF0ZUZhY3Rvcnk7XG4gIHZhciBjbG9uZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY2xvbmVFbGVtZW50O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNyZWF0ZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRWxlbWVudDtcbiAgICBjcmVhdGVGYWN0b3J5ID0gUmVhY3RFbGVtZW50VmFsaWRhdG9yLmNyZWF0ZUZhY3Rvcnk7XG4gICAgY2xvbmVFbGVtZW50ID0gUmVhY3RFbGVtZW50VmFsaWRhdG9yLmNsb25lRWxlbWVudDtcbiAgfVxuICB2YXIgX19zcHJlYWQgPSBfYXNzaWduO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgICBfX3NwcmVhZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcod2FybmVkLCAnUmVhY3QuX19zcHJlYWQgaXMgZGVwcmVjYXRlZCBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkLiBVc2UgJyArICdPYmplY3QuYXNzaWduIGRpcmVjdGx5IG9yIGFub3RoZXIgaGVscGVyIGZ1bmN0aW9uIHdpdGggc2ltaWxhciAnICsgJ3NlbWFudGljcy4gWW91IG1heSBiZSBzZWVpbmcgdGhpcyB3YXJuaW5nIGR1ZSB0byB5b3VyIGNvbXBpbGVyLiAnICsgJ1NlZSBodHRwczovL2ZiLm1lL3JlYWN0LXNwcmVhZC1kZXByZWNhdGlvbiBmb3IgbW9yZSBkZXRhaWxzLicpIDogdm9pZCAwO1xuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBfYXNzaWduLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuICB2YXIgUmVhY3QgPSB7XG4gICAgQ2hpbGRyZW46IHtcbiAgICAgIG1hcDogUmVhY3RDaGlsZHJlbi5tYXAsXG4gICAgICBmb3JFYWNoOiBSZWFjdENoaWxkcmVuLmZvckVhY2gsXG4gICAgICBjb3VudDogUmVhY3RDaGlsZHJlbi5jb3VudCxcbiAgICAgIHRvQXJyYXk6IFJlYWN0Q2hpbGRyZW4udG9BcnJheSxcbiAgICAgIG9ubHk6IG9ubHlDaGlsZFxuICAgIH0sXG4gICAgQ29tcG9uZW50OiBSZWFjdENvbXBvbmVudCxcbiAgICBjcmVhdGVFbGVtZW50OiBjcmVhdGVFbGVtZW50LFxuICAgIGNsb25lRWxlbWVudDogY2xvbmVFbGVtZW50LFxuICAgIGlzVmFsaWRFbGVtZW50OiBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQsXG4gICAgUHJvcFR5cGVzOiBSZWFjdFByb3BUeXBlcyxcbiAgICBjcmVhdGVDbGFzczogUmVhY3RDbGFzcy5jcmVhdGVDbGFzcyxcbiAgICBjcmVhdGVGYWN0b3J5OiBjcmVhdGVGYWN0b3J5LFxuICAgIGNyZWF0ZU1peGluOiBmdW5jdGlvbihtaXhpbikge1xuICAgICAgcmV0dXJuIG1peGluO1xuICAgIH0sXG4gICAgRE9NOiBSZWFjdERPTUZhY3RvcmllcyxcbiAgICB2ZXJzaW9uOiBSZWFjdFZlcnNpb24sXG4gICAgX19zcHJlYWQ6IF9fc3ByZWFkXG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3Q7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL1JlYWN0Jyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJucG06cmVhY3RAMTUuMC4yL3JlYWN0LmpzXCIpOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfcmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcbiAgc3Vic2NyaWJlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgZGlzcGF0Y2g6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBnZXRTdGF0ZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn0pOyIsIi8qICovIFxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHNoYWxsb3dFcXVhbDtcbmZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gIGlmIChvYmpBID09PSBvYmpCKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKTtcbiAgdmFyIGtleXNCID0gT2JqZWN0LmtleXMob2JqQik7XG5cbiAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gVGVzdCBmb3IgQSdzIGtleXMgZGlmZmVyZW50IGZyb20gQi5cbiAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWhhc093bi5jYWxsKG9iakIsIGtleXNBW2ldKSB8fCBvYmpBW2tleXNBW2ldXSAhPT0gb2JqQltrZXlzQVtpXV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn0iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd3JhcEFjdGlvbkNyZWF0b3JzO1xuXG52YXIgX3JlZHV4ID0gcmVxdWlyZSgncmVkdXgnKTtcblxuZnVuY3Rpb24gd3JhcEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcbiAgICByZXR1cm4gKDAsIF9yZWR1eC5iaW5kQWN0aW9uQ3JlYXRvcnMpKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCk7XG4gIH07XG59IiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHdhcm5pbmc7XG4vKipcbiAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSB3YXJuaW5nIG1lc3NhZ2UuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gIHRyeSB7XG4gICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIH0gY2F0Y2ggKGUpIHt9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tZW1wdHkgKi9cbn0iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1LCBZYWhvbyEgSW5jLlxuICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSRUFDVF9TVEFUSUNTID0ge1xuICAgIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcbiAgICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgZGlzcGxheU5hbWU6IHRydWUsXG4gICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIG1peGluczogdHJ1ZSxcbiAgICBwcm9wVHlwZXM6IHRydWUsXG4gICAgdHlwZTogdHJ1ZVxufTtcblxudmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG4gICAgbmFtZTogdHJ1ZSxcbiAgICBsZW5ndGg6IHRydWUsXG4gICAgcHJvdG90eXBlOiB0cnVlLFxuICAgIGNhbGxlcjogdHJ1ZSxcbiAgICBhcmd1bWVudHM6IHRydWUsXG4gICAgYXJpdHk6IHRydWVcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZUNvbXBvbmVudCk7XG4gICAgZm9yICh2YXIgaT0wOyBpPGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKCFSRUFDVF9TVEFUSUNTW2tleXNbaV1dICYmICFLTk9XTl9TVEFUSUNTW2tleXNbaV1dKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRhcmdldENvbXBvbmVudFtrZXlzW2ldXSA9IHNvdXJjZUNvbXBvbmVudFtrZXlzW2ldXTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXRDb21wb25lbnQ7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibnBtOmhvaXN0LW5vbi1yZWFjdC1zdGF0aWNzQDEuMC41L2luZGV4LmpzXCIpOyIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgaW52YXJpYW50ID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBlcnJvcjtcbiAgICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgICAgfSkpO1xuICAgICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgICAgfVxuICAgICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJucG06aW52YXJpYW50QDIuMi4xL2Jyb3dzZXIuanNcIik7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbm5lY3Q7XG4gIHZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuICB2YXIgX3N0b3JlU2hhcGUgPSByZXF1aXJlKCcuLi91dGlscy9zdG9yZVNoYXBlJyk7XG4gIHZhciBfc3RvcmVTaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdG9yZVNoYXBlKTtcbiAgdmFyIF9zaGFsbG93RXF1YWwgPSByZXF1aXJlKCcuLi91dGlscy9zaGFsbG93RXF1YWwnKTtcbiAgdmFyIF9zaGFsbG93RXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2hhbGxvd0VxdWFsKTtcbiAgdmFyIF93cmFwQWN0aW9uQ3JlYXRvcnMgPSByZXF1aXJlKCcuLi91dGlscy93cmFwQWN0aW9uQ3JlYXRvcnMnKTtcbiAgdmFyIF93cmFwQWN0aW9uQ3JlYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd3JhcEFjdGlvbkNyZWF0b3JzKTtcbiAgdmFyIF93YXJuaW5nID0gcmVxdWlyZSgnLi4vdXRpbHMvd2FybmluZycpO1xuICB2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG4gIHZhciBfaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJ2xvZGFzaC9pc1BsYWluT2JqZWN0Jyk7XG4gIHZhciBfaXNQbGFpbk9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1BsYWluT2JqZWN0KTtcbiAgdmFyIF9ob2lzdE5vblJlYWN0U3RhdGljcyA9IHJlcXVpcmUoJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJyk7XG4gIHZhciBfaG9pc3ROb25SZWFjdFN0YXRpY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9pc3ROb25SZWFjdFN0YXRpY3MpO1xuICB2YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuICB2YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XCJkZWZhdWx0XCI6IG9ian07XG4gIH1cbiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgaWYgKCFzZWxmKSB7XG4gICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gICAgfVxuICAgIHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xuICB9XG4gIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICAgIH1cbiAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9fSk7XG4gICAgaWYgKHN1cGVyQ2xhc3MpXG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbiAgfVxuICB2YXIgZGVmYXVsdE1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIGRlZmF1bHRNYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgICByZXR1cm4ge307XG4gIH07XG4gIHZhciBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gZGVmYXVsdE1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICAgIHJldHVybiB7ZGlzcGF0Y2g6IGRpc3BhdGNofTtcbiAgfTtcbiAgdmFyIGRlZmF1bHRNZXJnZVByb3BzID0gZnVuY3Rpb24gZGVmYXVsdE1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHBhcmVudFByb3BzLCBzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzKTtcbiAgfTtcbiAgZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkge1xuICAgIHJldHVybiBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JztcbiAgfVxuICB2YXIgZXJyb3JPYmplY3QgPSB7dmFsdWU6IG51bGx9O1xuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgY3R4KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbi5hcHBseShjdHgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVycm9yT2JqZWN0LnZhbHVlID0gZTtcbiAgICAgIHJldHVybiBlcnJvck9iamVjdDtcbiAgICB9XG4gIH1cbiAgdmFyIG5leHRWZXJzaW9uID0gMDtcbiAgZnVuY3Rpb24gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcykge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbM107XG4gICAgdmFyIHNob3VsZFN1YnNjcmliZSA9IEJvb2xlYW4obWFwU3RhdGVUb1Byb3BzKTtcbiAgICB2YXIgbWFwU3RhdGUgPSBtYXBTdGF0ZVRvUHJvcHMgfHwgZGVmYXVsdE1hcFN0YXRlVG9Qcm9wcztcbiAgICB2YXIgbWFwRGlzcGF0Y2ggPSB1bmRlZmluZWQ7XG4gICAgaWYgKHR5cGVvZiBtYXBEaXNwYXRjaFRvUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG1hcERpc3BhdGNoID0gbWFwRGlzcGF0Y2hUb1Byb3BzO1xuICAgIH0gZWxzZSBpZiAoIW1hcERpc3BhdGNoVG9Qcm9wcykge1xuICAgICAgbWFwRGlzcGF0Y2ggPSBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXBEaXNwYXRjaCA9ICgwLCBfd3JhcEFjdGlvbkNyZWF0b3JzMltcImRlZmF1bHRcIl0pKG1hcERpc3BhdGNoVG9Qcm9wcyk7XG4gICAgfVxuICAgIHZhciBmaW5hbE1lcmdlUHJvcHMgPSBtZXJnZVByb3BzIHx8IGRlZmF1bHRNZXJnZVByb3BzO1xuICAgIHZhciBfb3B0aW9ucyRwdXJlID0gb3B0aW9ucy5wdXJlO1xuICAgIHZhciBwdXJlID0gX29wdGlvbnMkcHVyZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9vcHRpb25zJHB1cmU7XG4gICAgdmFyIF9vcHRpb25zJHdpdGhSZWYgPSBvcHRpb25zLndpdGhSZWY7XG4gICAgdmFyIHdpdGhSZWYgPSBfb3B0aW9ucyR3aXRoUmVmID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9vcHRpb25zJHdpdGhSZWY7XG4gICAgdmFyIGNoZWNrTWVyZ2VkRXF1YWxzID0gcHVyZSAmJiBmaW5hbE1lcmdlUHJvcHMgIT09IGRlZmF1bHRNZXJnZVByb3BzO1xuICAgIHZhciB2ZXJzaW9uID0gbmV4dFZlcnNpb24rKztcbiAgICByZXR1cm4gZnVuY3Rpb24gd3JhcFdpdGhDb25uZWN0KFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICAgIHZhciBjb25uZWN0RGlzcGxheU5hbWUgPSAnQ29ubmVjdCgnICsgZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkgKyAnKSc7XG4gICAgICBmdW5jdGlvbiBjaGVja1N0YXRlU2hhcGUocHJvcHMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkocHJvcHMpKSB7XG4gICAgICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKG1ldGhvZE5hbWUgKyAnKCkgaW4gJyArIGNvbm5lY3REaXNwbGF5TmFtZSArICcgbXVzdCByZXR1cm4gYSBwbGFpbiBvYmplY3QuICcgKyAoJ0luc3RlYWQgcmVjZWl2ZWQgJyArIHByb3BzICsgJy4nKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGNvbXB1dGVNZXJnZWRQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykge1xuICAgICAgICB2YXIgbWVyZ2VkUHJvcHMgPSBmaW5hbE1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShtZXJnZWRQcm9wcywgJ21lcmdlUHJvcHMnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVyZ2VkUHJvcHM7XG4gICAgICB9XG4gICAgICB2YXIgQ29ubmVjdCA9IGZ1bmN0aW9uKF9Db21wb25lbnQpIHtcbiAgICAgICAgX2luaGVyaXRzKENvbm5lY3QsIF9Db21wb25lbnQpO1xuICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgICAgICAgcmV0dXJuICFwdXJlIHx8IHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCB8fCB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkO1xuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBDb25uZWN0KHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbm5lY3QpO1xuICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuICAgICAgICAgIF90aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICAgIF90aGlzLnN0b3JlID0gcHJvcHMuc3RvcmUgfHwgY29udGV4dC5zdG9yZTtcbiAgICAgICAgICAoMCwgX2ludmFyaWFudDJbXCJkZWZhdWx0XCJdKShfdGhpcy5zdG9yZSwgJ0NvdWxkIG5vdCBmaW5kIFwic3RvcmVcIiBpbiBlaXRoZXIgdGhlIGNvbnRleHQgb3IgJyArICgncHJvcHMgb2YgXCInICsgY29ubmVjdERpc3BsYXlOYW1lICsgJ1wiLiAnKSArICdFaXRoZXIgd3JhcCB0aGUgcm9vdCBjb21wb25lbnQgaW4gYSA8UHJvdmlkZXI+LCAnICsgKCdvciBleHBsaWNpdGx5IHBhc3MgXCJzdG9yZVwiIGFzIGEgcHJvcCB0byBcIicgKyBjb25uZWN0RGlzcGxheU5hbWUgKyAnXCIuJykpO1xuICAgICAgICAgIHZhciBzdG9yZVN0YXRlID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICBfdGhpcy5zdGF0ZSA9IHtzdG9yZVN0YXRlOiBzdG9yZVN0YXRlfTtcbiAgICAgICAgICBfdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXB1dGVTdGF0ZVByb3BzID0gZnVuY3Rpb24gY29tcHV0ZVN0YXRlUHJvcHMoc3RvcmUsIHByb3BzKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmVGaW5hbE1hcFN0YXRlKHN0b3JlLCBwcm9wcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgdmFyIHN0YXRlUHJvcHMgPSB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMgPyB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBwcm9wcykgOiB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKHN0YXRlKTtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKHN0YXRlUHJvcHMsICdtYXBTdGF0ZVRvUHJvcHMnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHN0YXRlUHJvcHM7XG4gICAgICAgIH07XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUgPSBmdW5jdGlvbiBjb25maWd1cmVGaW5hbE1hcFN0YXRlKHN0b3JlLCBwcm9wcykge1xuICAgICAgICAgIHZhciBtYXBwZWRTdGF0ZSA9IG1hcFN0YXRlKHN0b3JlLmdldFN0YXRlKCksIHByb3BzKTtcbiAgICAgICAgICB2YXIgaXNGYWN0b3J5ID0gdHlwZW9mIG1hcHBlZFN0YXRlID09PSAnZnVuY3Rpb24nO1xuICAgICAgICAgIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMgPSBpc0ZhY3RvcnkgPyBtYXBwZWRTdGF0ZSA6IG1hcFN0YXRlO1xuICAgICAgICAgIHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMubGVuZ3RoICE9PSAxO1xuICAgICAgICAgIGlmIChpc0ZhY3RvcnkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHN0b3JlLCBwcm9wcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBjaGVja1N0YXRlU2hhcGUobWFwcGVkU3RhdGUsICdtYXBTdGF0ZVRvUHJvcHMnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG1hcHBlZFN0YXRlO1xuICAgICAgICB9O1xuICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wdXRlRGlzcGF0Y2hQcm9wcyA9IGZ1bmN0aW9uIGNvbXB1dGVEaXNwYXRjaFByb3BzKHN0b3JlLCBwcm9wcykge1xuICAgICAgICAgIGlmICghdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaChzdG9yZSwgcHJvcHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaDtcbiAgICAgICAgICB2YXIgZGlzcGF0Y2hQcm9wcyA9IHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyA/IHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gsIHByb3BzKSA6IHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpO1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBjaGVja1N0YXRlU2hhcGUoZGlzcGF0Y2hQcm9wcywgJ21hcERpc3BhdGNoVG9Qcm9wcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZGlzcGF0Y2hQcm9wcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaCA9IGZ1bmN0aW9uIGNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2goc3RvcmUsIHByb3BzKSB7XG4gICAgICAgICAgdmFyIG1hcHBlZERpc3BhdGNoID0gbWFwRGlzcGF0Y2goc3RvcmUuZGlzcGF0Y2gsIHByb3BzKTtcbiAgICAgICAgICB2YXIgaXNGYWN0b3J5ID0gdHlwZW9mIG1hcHBlZERpc3BhdGNoID09PSAnZnVuY3Rpb24nO1xuICAgICAgICAgIHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMgPSBpc0ZhY3RvcnkgPyBtYXBwZWREaXNwYXRjaCA6IG1hcERpc3BhdGNoO1xuICAgICAgICAgIHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMubGVuZ3RoICE9PSAxO1xuICAgICAgICAgIGlmIChpc0ZhY3RvcnkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVEaXNwYXRjaFByb3BzKHN0b3JlLCBwcm9wcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBjaGVja1N0YXRlU2hhcGUobWFwcGVkRGlzcGF0Y2gsICdtYXBEaXNwYXRjaFRvUHJvcHMnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG1hcHBlZERpc3BhdGNoO1xuICAgICAgICB9O1xuICAgICAgICBDb25uZWN0LnByb3RvdHlwZS51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQoKSB7XG4gICAgICAgICAgdmFyIG5leHRTdGF0ZVByb3BzID0gdGhpcy5jb21wdXRlU3RhdGVQcm9wcyh0aGlzLnN0b3JlLCB0aGlzLnByb3BzKTtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZVByb3BzICYmICgwLCBfc2hhbGxvd0VxdWFsMltcImRlZmF1bHRcIl0pKG5leHRTdGF0ZVByb3BzLCB0aGlzLnN0YXRlUHJvcHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc3RhdGVQcm9wcyA9IG5leHRTdGF0ZVByb3BzO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBDb25uZWN0LnByb3RvdHlwZS51cGRhdGVEaXNwYXRjaFByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVEaXNwYXRjaFByb3BzSWZOZWVkZWQoKSB7XG4gICAgICAgICAgdmFyIG5leHREaXNwYXRjaFByb3BzID0gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyh0aGlzLnN0b3JlLCB0aGlzLnByb3BzKTtcbiAgICAgICAgICBpZiAodGhpcy5kaXNwYXRjaFByb3BzICYmICgwLCBfc2hhbGxvd0VxdWFsMltcImRlZmF1bHRcIl0pKG5leHREaXNwYXRjaFByb3BzLCB0aGlzLmRpc3BhdGNoUHJvcHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hQcm9wcyA9IG5leHREaXNwYXRjaFByb3BzO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBDb25uZWN0LnByb3RvdHlwZS51cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkID0gZnVuY3Rpb24gdXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCgpIHtcbiAgICAgICAgICB2YXIgbmV4dE1lcmdlZFByb3BzID0gY29tcHV0ZU1lcmdlZFByb3BzKHRoaXMuc3RhdGVQcm9wcywgdGhpcy5kaXNwYXRjaFByb3BzLCB0aGlzLnByb3BzKTtcbiAgICAgICAgICBpZiAodGhpcy5tZXJnZWRQcm9wcyAmJiBjaGVja01lcmdlZEVxdWFscyAmJiAoMCwgX3NoYWxsb3dFcXVhbDJbXCJkZWZhdWx0XCJdKShuZXh0TWVyZ2VkUHJvcHMsIHRoaXMubWVyZ2VkUHJvcHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMubWVyZ2VkUHJvcHMgPSBuZXh0TWVyZ2VkUHJvcHM7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLmlzU3Vic2NyaWJlZCA9IGZ1bmN0aW9uIGlzU3Vic2NyaWJlZCgpIHtcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMudW5zdWJzY3JpYmUgPT09ICdmdW5jdGlvbic7XG4gICAgICAgIH07XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLnRyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIHRyeVN1YnNjcmliZSgpIHtcbiAgICAgICAgICBpZiAoc2hvdWxkU3Vic2NyaWJlICYmICF0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gdGhpcy5zdG9yZS5zdWJzY3JpYmUodGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ29ubmVjdC5wcm90b3R5cGUudHJ5VW5zdWJzY3JpYmUgPSBmdW5jdGlvbiB0cnlVbnN1YnNjcmliZSgpIHtcbiAgICAgICAgICBpZiAodGhpcy51bnN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgIHRoaXMudHJ5U3Vic2NyaWJlKCk7XG4gICAgICAgIH07XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgIGlmICghcHVyZSB8fCAhKDAsIF9zaGFsbG93RXF1YWwyW1wiZGVmYXVsdFwiXSkobmV4dFByb3BzLCB0aGlzLnByb3BzKSkge1xuICAgICAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgdGhpcy50cnlVbnN1YnNjcmliZSgpO1xuICAgICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpO1xuICAgICAgICB9O1xuICAgICAgICBDb25uZWN0LnByb3RvdHlwZS5jbGVhckNhY2hlID0gZnVuY3Rpb24gY2xlYXJDYWNoZSgpIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoUHJvcHMgPSBudWxsO1xuICAgICAgICAgIHRoaXMuc3RhdGVQcm9wcyA9IG51bGw7XG4gICAgICAgICAgdGhpcy5tZXJnZWRQcm9wcyA9IG51bGw7XG4gICAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gbnVsbDtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyA9IG51bGw7XG4gICAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgICAgICBpZiAoIXRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHN0b3JlU3RhdGUgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgdmFyIHByZXZTdG9yZVN0YXRlID0gdGhpcy5zdGF0ZS5zdG9yZVN0YXRlO1xuICAgICAgICAgIGlmIChwdXJlICYmIHByZXZTdG9yZVN0YXRlID09PSBzdG9yZVN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwdXJlICYmICF0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnlDYXRjaCh0aGlzLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCwgdGhpcyk7XG4gICAgICAgICAgICBpZiAoIWhhdmVTdGF0ZVByb3BzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID09PSBlcnJvck9iamVjdCkge1xuICAgICAgICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gZXJyb3JPYmplY3QudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtzdG9yZVN0YXRlOiBzdG9yZVN0YXRlfSk7XG4gICAgICAgIH07XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLmdldFdyYXBwZWRJbnN0YW5jZSA9IGZ1bmN0aW9uIGdldFdyYXBwZWRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAoMCwgX2ludmFyaWFudDJbXCJkZWZhdWx0XCJdKSh3aXRoUmVmLCAnVG8gYWNjZXNzIHRoZSB3cmFwcGVkIGluc3RhbmNlLCB5b3UgbmVlZCB0byBzcGVjaWZ5ICcgKyAneyB3aXRoUmVmOiB0cnVlIH0gYXMgdGhlIGZvdXJ0aCBhcmd1bWVudCBvZiB0aGUgY29ubmVjdCgpIGNhbGwuJyk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVmcy53cmFwcGVkSW5zdGFuY2U7XG4gICAgICAgIH07XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICB2YXIgaGF2ZU93blByb3BzQ2hhbmdlZCA9IHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZDtcbiAgICAgICAgICB2YXIgaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkO1xuICAgICAgICAgIHZhciBoYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkO1xuICAgICAgICAgIHZhciBzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3I7XG4gICAgICAgICAgdmFyIHJlbmRlcmVkRWxlbWVudCA9IHRoaXMucmVuZGVyZWRFbGVtZW50O1xuICAgICAgICAgIHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gbnVsbDtcbiAgICAgICAgICBpZiAoc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IHRydWU7XG4gICAgICAgICAgdmFyIHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMgPSB0cnVlO1xuICAgICAgICAgIGlmIChwdXJlICYmIHJlbmRlcmVkRWxlbWVudCkge1xuICAgICAgICAgICAgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IGhhc1N0b3JlU3RhdGVDaGFuZ2VkIHx8IGhhdmVPd25Qcm9wc0NoYW5nZWQgJiYgdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzO1xuICAgICAgICAgICAgc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcyA9IGhhdmVPd25Qcm9wc0NoYW5nZWQgJiYgdGhpcy5kb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgdmFyIGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkKSB7XG4gICAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkVXBkYXRlU3RhdGVQcm9wcykge1xuICAgICAgICAgICAgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gdGhpcy51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMpIHtcbiAgICAgICAgICAgIGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkIHx8IGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCB8fCBoYXZlT3duUHJvcHNDaGFuZ2VkKSB7XG4gICAgICAgICAgICBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gdGhpcy51cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkICYmIHJlbmRlcmVkRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHdpdGhSZWYpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50ID0gKDAsIF9yZWFjdC5jcmVhdGVFbGVtZW50KShXcmFwcGVkQ29tcG9uZW50LCBfZXh0ZW5kcyh7fSwgdGhpcy5tZXJnZWRQcm9wcywge3JlZjogJ3dyYXBwZWRJbnN0YW5jZSd9KSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50ID0gKDAsIF9yZWFjdC5jcmVhdGVFbGVtZW50KShXcmFwcGVkQ29tcG9uZW50LCB0aGlzLm1lcmdlZFByb3BzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZWRFbGVtZW50O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gQ29ubmVjdDtcbiAgICAgIH0oX3JlYWN0LkNvbXBvbmVudCk7XG4gICAgICBDb25uZWN0LmRpc3BsYXlOYW1lID0gY29ubmVjdERpc3BsYXlOYW1lO1xuICAgICAgQ29ubmVjdC5XcmFwcGVkQ29tcG9uZW50ID0gV3JhcHBlZENvbXBvbmVudDtcbiAgICAgIENvbm5lY3QuY29udGV4dFR5cGVzID0ge3N0b3JlOiBfc3RvcmVTaGFwZTJbXCJkZWZhdWx0XCJdfTtcbiAgICAgIENvbm5lY3QucHJvcFR5cGVzID0ge3N0b3JlOiBfc3RvcmVTaGFwZTJbXCJkZWZhdWx0XCJdfTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKCkge1xuICAgICAgICAgIGlmICh0aGlzLnZlcnNpb24gPT09IHZlcnNpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgICB0aGlzLnRyeVN1YnNjcmliZSgpO1xuICAgICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuICgwLCBfaG9pc3ROb25SZWFjdFN0YXRpY3MyW1wiZGVmYXVsdFwiXSkoQ29ubmVjdCwgV3JhcHBlZENvbXBvbmVudCk7XG4gICAgfTtcbiAgfVxufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY29ubmVjdCA9IGV4cG9ydHMuUHJvdmlkZXIgPSB1bmRlZmluZWQ7XG52YXIgX1Byb3ZpZGVyID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL1Byb3ZpZGVyJyk7XG52YXIgX1Byb3ZpZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Byb3ZpZGVyKTtcbnZhciBfY29ubmVjdCA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy9jb25uZWN0Jyk7XG52YXIgX2Nvbm5lY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29ubmVjdCk7XG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1wiZGVmYXVsdFwiOiBvYmp9O1xufVxuZXhwb3J0cy5Qcm92aWRlciA9IF9Qcm92aWRlcjJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5jb25uZWN0ID0gX2Nvbm5lY3QyW1wiZGVmYXVsdFwiXTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5wbTpyZWFjdC1yZWR1eEA0LjQuNS9saWIvaW5kZXguanNcIik7IiwiLyogKi8gXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vJC5leHBvcnQnKSxcbiAgICBjb3JlID0gcmVxdWlyZSgnLi8kLmNvcmUnKSxcbiAgICBmYWlscyA9IHJlcXVpcmUoJy4vJC5mYWlscycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpIHtcbiAgdmFyIGZuID0gKGNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldLFxuICAgICAgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24oKSB7XG4gICAgZm4oMSk7XG4gIH0pLCAnT2JqZWN0JywgZXhwKTtcbn07XG4iLCIvKiAqLyBcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuLyQudG8taW9iamVjdCcpO1xucmVxdWlyZSgnLi8kLm9iamVjdC1zYXAnKSgnZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJywgZnVuY3Rpb24oJGdldE93blByb3BlcnR5RGVzY3JpcHRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgICByZXR1cm4gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0b0lPYmplY3QoaXQpLCBrZXkpO1xuICB9O1xufSk7XG4iLCIvKiAqLyBcbnZhciAkID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gIHJldHVybiAkLmdldERlc2MoaXQsIGtleSk7XG59O1xuIiwiLyogKi8gXG5tb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIi8qICovIFxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX09iamVjdCRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuLi9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKVtcImRlZmF1bHRcIl07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHtcbiAgdmFyIF9hZ2FpbiA9IHRydWU7XG4gIF9mdW5jdGlvbjogd2hpbGUgKF9hZ2Fpbikge1xuICAgIHZhciBvYmplY3QgPSBfeCxcbiAgICAgICAgcHJvcGVydHkgPSBfeDIsXG4gICAgICAgIHJlY2VpdmVyID0gX3gzO1xuICAgIF9hZ2FpbiA9IGZhbHNlO1xuICAgIGlmIChvYmplY3QgPT09IG51bGwpXG4gICAgICBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4gICAgdmFyIGRlc2MgPSBfT2JqZWN0JGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTtcbiAgICBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gICAgICBpZiAocGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfeCA9IHBhcmVudDtcbiAgICAgICAgX3gyID0gcHJvcGVydHk7XG4gICAgICAgIF94MyA9IHJlY2VpdmVyO1xuICAgICAgICBfYWdhaW4gPSB0cnVlO1xuICAgICAgICBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb250aW51ZSBfZnVuY3Rpb247XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykge1xuICAgICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBkZXNjLmdldDtcbiAgICAgIGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTtcbiAgICB9XG4gIH1cbn07XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuIiwiLyogKi8gXG52YXIgJCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCkge1xuICByZXR1cm4gJC5jcmVhdGUoUCwgRCk7XG59O1xuIiwiLyogKi8gXG5tb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIi8qICovIFxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuLyQuZXhwb3J0Jyk7XG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtzZXRQcm90b3R5cGVPZjogcmVxdWlyZSgnLi8kLnNldC1wcm90bycpLnNldH0pO1xuIiwiLyogKi8gXG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcbiIsIi8qICovIFxubW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwiLyogKi8gXG5cInVzZSBzdHJpY3RcIjtcbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoJy4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZScpW1wiZGVmYXVsdFwiXTtcbnZhciBfT2JqZWN0JHNldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZicpW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24oc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICB9XG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IF9PYmplY3QkY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH19KTtcbiAgaWYgKHN1cGVyQ2xhc3MpXG4gICAgX09iamVjdCRzZXRQcm90b3R5cGVPZiA/IF9PYmplY3Qkc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuIiwiLyogKi8gXG52YXIgJCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKSB7XG4gIHJldHVybiAkLnNldERlc2MoaXQsIGtleSwgZGVzYyk7XG59O1xuIiwiLyogKi8gXG5tb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIi8qICovIFxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX09iamVjdCRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eScpW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKVxuICAgICAgICBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIF9PYmplY3QkZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcylcbiAgICAgIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpXG4gICAgICBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSkoKTtcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4iLCIvKiAqLyBcblwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzLCBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcblxuY2xhc3MgTGF6eUltZyBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbXBvbmVudFdpbGxNb3VudCAoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGVkOiBmYWxzZSB9KVxuICB9XG5cbiAgaGFuZGxlTG9hZCAoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGVkOiB0cnVlIH0pXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8aW1nXG4gICAgICAgIGNsYXNzTmFtZT17YCR7dGhpcy5zdGF0ZS5pc0xvYWRlZCA/ICdsYXp5bG9hZGVkJyA6ICdsYXp5bG9hZCd9IGxhenlibHVyYH1cbiAgICAgICAgc3JjPXt0aGlzLnByb3BzLnNyY31cbiAgICAgICAgb25Mb2FkPXsoKSA9PiB0aGlzLmhhbmRsZUxvYWQoKX1cbiAgICAgICAgYWx0PXt0aGlzLnByb3BzLmFsdH0gLz5cbiAgICApXG4gIH1cbn1cblxuTGF6eUltZy5kZWZhdWx0UHJvcHMgPSB7XG4gIGFsdDogJydcbn1cblxuTGF6eUltZy5wcm9wVHlwZXMgPSB7XG4gIHNyYzogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBhbHQ6IFByb3BUeXBlcy5zdHJpbmdcbn1cblxuZXhwb3J0IGRlZmF1bHQgTGF6eUltZ1xuIiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcblxuY29uc3QgU3ZnSWNvbiA9ICh7IGlkLCBsYWJlbCB9KSA9PiAoXG4gIDxzdmcgY2xhc3NOYW1lPSdpY29uJyBhcmlhLWhpZGRlbj0ndHJ1ZScgYXJpYS1sYWJlbD17bGFiZWx9PlxuICAgIDx1c2UgeGxpbmtIcmVmPXtgc3ZnL2ljb25zLnN2ZyMke2lkfWB9IC8+XG4gIDwvc3ZnPlxuKVxuXG5TdmdJY29uLmRlZmF1bHRQcm9wcyA9IHtcbiAgbGFiZWw6ICcnXG59XG5cblN2Z0ljb24ucHJvcFR5cGVzID0ge1xuICBpZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZ1xufVxuXG5leHBvcnQgZGVmYXVsdCBTdmdJY29uXG4iLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0LCB7IFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IExhenlJbWcgZnJvbSAnLi9sYXp5LWltZydcbmltcG9ydCBTdmdJY29uIGZyb20gJy4vc3ZnLWljb24nXG5cbmNvbnN0IGdldE1vbnRoID0gKG1vbnRoKSA9PiB7XG4gIGNvbnN0IG1vbnRocyA9IFtcbiAgICAnSmFuZWlybycsXG4gICAgJ0ZldmVyZWlybycsXG4gICAgJ01hcsOnbycsXG4gICAgJ0FicmlsJyxcbiAgICAnTWFpbycsXG4gICAgJ0p1bmhvJyxcbiAgICAnSnVsaG8nLFxuICAgICdBZ29zdG8nLFxuICAgICdTZXRlbWJybycsXG4gICAgJ091dHVicm8nLFxuICAgICdOb3ZlbWJybycsXG4gICAgJ0RlemVtYnJvJ1xuICBdXG4gIGNvbnN0IG0gPSBtb250aHMuaW5kZXhPZihtb250aCkgKyAxXG4gIHJldHVybiAobSA8IDEwID8gJzAnIDogJycpICsgbVxufVxuXG5jb25zdCBmb3JtYXREYXRlID0gKHsgZGF5LCBtb250aCwgeWVhciB9KSA9PiB7XG4gIHJldHVybiBgJHtkYXl9LyR7Z2V0TW9udGgobW9udGgpfS8ke3llYXJ9YFxufVxuXG5jb25zdCBFdmVudExpc3RJdGVtID0gKHtcbiAgdGl0bGUsXG4gIGltYWdlLFxuICBpbm5lckxpbmssXG4gIGxpbmssXG4gIGRhdGUsXG4gIHByaWNlLFxuICBsb2NhdGlvbixcbiAgbG9jYXRpb25VcmwsXG4gIHNob3J0RGVzY3JpcHRpb25cbn0pID0+IChcbiAgPGFydGljbGUgY2xhc3NOYW1lPSdldmVudCc+XG4gICAgPGEgY2xhc3NOYW1lPSdldmVudC1tZWRpYScgaHJlZj17bGlua30gdGl0bGU9J1ZlciBldmVudG8nPlxuICAgICAgPExhenlJbWcgc3JjPXtpbWFnZSB8fCAnc3ZnL2xvZ28uc3ZnJ30gYWx0PXt0aXRsZX0gLz5cbiAgICA8L2E+XG4gICAgPGRpdiBjbGFzc05hbWU9J2V2ZW50LW1haW4nPlxuICAgICAgPGEgY2xhc3NOYW1lPSdjb250ZW50JyBocmVmPXtsaW5rfSB0aXRsZT0nVmVyIGV2ZW50byc+XG4gICAgICAgIDxoMj57dGl0bGV9PC9oMj5cbiAgICAgICAgPHA+e3Nob3J0RGVzY3JpcHRpb259PC9wPlxuICAgICAgPC9hPlxuICAgICAgeyEhbGluayAmJlxuICAgICAgICA8YSBjbGFzc05hbWU9J2J0bi1saW5rJyBocmVmPXtsaW5rfSB0YXJnZXQ9J19ibGFuaycgdGl0bGU9J1Zpc2l0YXIgc2l0ZSBvZmljaWFsJz5cbiAgICAgICAgICA8U3ZnSWNvbiBpZD0nbGluaycgbGFiZWw9J0xpbmsnIC8+XG4gICAgICAgICAge2xpbmt9XG4gICAgICAgIDwvYT5cbiAgICAgIH1cbiAgICAgIDx1bCBjbGFzc05hbWU9J2V2ZW50LWxpc3QnPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPSdldmVudC1saXN0LS1pdGVtJz5cbiAgICAgICAgICA8U3ZnSWNvbiBpZD0nZGF0ZScgbGFiZWw9J0RhdGEnIC8+XG4gICAgICAgICAge2Zvcm1hdERhdGUoZGF0ZSl9XG4gICAgICAgIDwvbGk+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9J2V2ZW50LWxpc3QtLWl0ZW0nPlxuICAgICAgICAgIDxTdmdJY29uIGlkPSdwcmljZScgbGFiZWw9J1ByZcOnbycgLz5cbiAgICAgICAgICB7cHJpY2V9XG4gICAgICAgIDwvbGk+XG4gICAgICAgIHshIWxvY2F0aW9uVXJsICYmXG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT0nZXZlbnQtbGlzdC0taXRlbSc+XG4gICAgICAgICAgICA8U3ZnSWNvbiBpZD0nbG9jYXRpb24nIGxhYmVsPSdMb2NhbCcgLz5cbiAgICAgICAgICAgIDxhIGhyZWY9e2xvY2F0aW9uVXJsfSB0YXJnZXQ9J19ibGFuayc+e2xvY2F0aW9ufTwvYT5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICB9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICA8L2FydGljbGU+XG4pXG5cbkV2ZW50TGlzdEl0ZW0uZGVmYXVsdFByb3BzID0ge1xuICBkYXRlOiB7XG4gICAgZGF5OiAnMDAnLFxuICAgIG1vbnRoOiAneHgnLFxuICAgIHllYXI6ICcwMDAwJ1xuICB9LFxuICBwcmljZTogJ0dyw6F0aXMnXG59XG5cbkV2ZW50TGlzdEl0ZW0ucHJvcFR5cGVzID0ge1xuICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBpbWFnZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgaW5uZXJMaW5rOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGxpbms6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGRhdGU6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgZGF5OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgbW9udGg6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICB5ZWFyOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbiAgfSkuaXNSZXF1aXJlZCxcbiAgcHJpY2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGxvY2F0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBsb2NhdGlvblVybDogUHJvcFR5cGVzLnN0cmluZyxcbiAgc2hvcnREZXNjcmlwdGlvbjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkXG59XG5cbmV4cG9ydCBkZWZhdWx0IEV2ZW50TGlzdEl0ZW1cbiIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgRXZlbnRMaXN0SXRlbSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2V2ZW50LWxpc3QtaXRlbSdcbi8vIGltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvcGFnaW5hdGlvbi9pbmRleCdcblxuY29uc3QgUGFnZSA9ICh7IGV2ZW50cyB9KSA9PiAoXG4gIDxzZWN0aW9uIGNsYXNzTmFtZT0ncGFnZSc+XG4gICAgPGhlYWRlciBjbGFzc05hbWU9J3BhZ2UtaGVhZGVyJz5cbiAgICAgIDxoMyBjbGFzc05hbWU9J3RpdGxlJz5QcsOzeGltb3MgRXZlbnRvczwvaDM+XG4gICAgPC9oZWFkZXI+XG5cbiAgICA8ZGl2IGNsYXNzTmFtZT0ncGFnZS13cmFwJz5cbiAgICAgIHtldmVudHMubWFwKChwcm9wcywgaW5kZXgpID0+IChcbiAgICAgICAgPEV2ZW50TGlzdEl0ZW0ga2V5PXtpbmRleH0gey4uLnByb3BzfSAvPlxuICAgICAgKSl9XG4gICAgICB7LyogPFBhZ2luYXRpb24gLz4gKi99XG4gICAgPC9kaXY+XG5cbiAgPC9zZWN0aW9uPlxuKVxuXG5QYWdlLnByb3BUeXBlcyA9IHtcbiAgZXZlbnRzOiBQcm9wVHlwZXMuc2hhcGUuaXNSZXF1aXJlZFxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+ICh7XG4gIGV2ZW50czogc3RhdGUuZXZlbnRzLmV2ZW50cy5maWx0ZXIoKF8sIGluZGV4KSA9PiBpbmRleCA+PSA1KVxufSlcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKFBhZ2UpXG4iLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5jb25zdCBBc2lkZSA9ICgpID0+IChcbiAgPGFzaWRlIGNsYXNzTmFtZT0nZGlzY2xhaW1lcic+XG4gICAgPGRpdiBjbGFzc05hbWU9J2Rpc2NsYWltZXItaW5uZXInPlxuICAgICAgPGgyIGNsYXNzTmFtZT0ndGl0bGUnPlxuICAgICAgICBDb25oZWNlIGFsZ3VtIGV2ZW50byBkZSBGcm9udC1FbmQgcXVlIG7Do28gZXN0w6EgbGlzdGFkbz9cbiAgICAgIDwvaDI+XG4gICAgICA8YVxuICAgICAgICBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vZnJvbnRlbmRici9ldmVudG9zL2lzc3VlcydcbiAgICAgICAgY2xhc3NOYW1lPSdidG4nXG4gICAgICAgIGFyaWEtbGFiZWw9J0FudW5jaWFyIEV2ZW50bydcbiAgICAgICAgdGl0bGU9J0FudW5jaWUgc2V1IGV2ZW50byc+XG4gICAgICAgIEFudW5jaWFyIEV2ZW50b1xuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICA8L2FzaWRlPlxuXG4pXG5cbmV4cG9ydCBkZWZhdWx0IEFzaWRlXG4iLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IEhlYWRlciBmcm9tICcuL2hlYWRlcidcbmltcG9ydCBQYWdlIGZyb20gJy4vcGFnZSdcbmltcG9ydCBBc2lkZSBmcm9tICcuL2FzaWRlJ1xuXG5jb25zdCBNYWluQ29udGVudCA9ICgpID0+IChcbiAgPG1haW4gY2xhc3NOYW1lPSdtYWluJyByb2xlPSdtYWluJz5cbiAgICA8SGVhZGVyIC8+XG4gICAgPFBhZ2UgLz5cbiAgICA8QXNpZGUgLz5cbiAgPC9tYWluPlxuXG4pXG5cbmV4cG9ydCBkZWZhdWx0IE1haW5Db250ZW50XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgb25lQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihjb3B5RmllbGRzRnJvbSkge1xuICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGNvcHlGaWVsZHNGcm9tKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBLbGFzcyhjb3B5RmllbGRzRnJvbSk7XG4gICAgfVxuICB9O1xuICB2YXIgdHdvQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihhMSwgYTIpIHtcbiAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIpO1xuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEtsYXNzKGExLCBhMik7XG4gICAgfVxuICB9O1xuICB2YXIgdGhyZWVBcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGExLCBhMiwgYTMpIHtcbiAgICB2YXIgS2xhc3MgPSB0aGlzO1xuICAgIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIsIGEzKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzKTtcbiAgICB9XG4gIH07XG4gIHZhciBmb3VyQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihhMSwgYTIsIGEzLCBhNCkge1xuICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGExLCBhMiwgYTMsIGE0KTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzLCBhNCk7XG4gICAgfVxuICB9O1xuICB2YXIgZml2ZUFyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24oYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gICAgdmFyIEtsYXNzID0gdGhpcztcbiAgICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgICAgdmFyIGluc3RhbmNlID0gS2xhc3MuaW5zdGFuY2VQb29sLnBvcCgpO1xuICAgICAgS2xhc3MuY2FsbChpbnN0YW5jZSwgYTEsIGEyLCBhMywgYTQsIGE1KTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzLCBhNCwgYTUpO1xuICAgIH1cbiAgfTtcbiAgdmFyIHN0YW5kYXJkUmVsZWFzZXIgPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHZhciBLbGFzcyA9IHRoaXM7XG4gICAgIShpbnN0YW5jZSBpbnN0YW5jZW9mIEtsYXNzKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdUcnlpbmcgdG8gcmVsZWFzZSBhbiBpbnN0YW5jZSBpbnRvIGEgcG9vbCBvZiBhIGRpZmZlcmVudCB0eXBlLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBpbnN0YW5jZS5kZXN0cnVjdG9yKCk7XG4gICAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGggPCBLbGFzcy5wb29sU2l6ZSkge1xuICAgICAgS2xhc3MuaW5zdGFuY2VQb29sLnB1c2goaW5zdGFuY2UpO1xuICAgIH1cbiAgfTtcbiAgdmFyIERFRkFVTFRfUE9PTF9TSVpFID0gMTA7XG4gIHZhciBERUZBVUxUX1BPT0xFUiA9IG9uZUFyZ3VtZW50UG9vbGVyO1xuICB2YXIgYWRkUG9vbGluZ1RvID0gZnVuY3Rpb24oQ29weUNvbnN0cnVjdG9yLCBwb29sZXIpIHtcbiAgICB2YXIgTmV3S2xhc3MgPSBDb3B5Q29uc3RydWN0b3I7XG4gICAgTmV3S2xhc3MuaW5zdGFuY2VQb29sID0gW107XG4gICAgTmV3S2xhc3MuZ2V0UG9vbGVkID0gcG9vbGVyIHx8IERFRkFVTFRfUE9PTEVSO1xuICAgIGlmICghTmV3S2xhc3MucG9vbFNpemUpIHtcbiAgICAgIE5ld0tsYXNzLnBvb2xTaXplID0gREVGQVVMVF9QT09MX1NJWkU7XG4gICAgfVxuICAgIE5ld0tsYXNzLnJlbGVhc2UgPSBzdGFuZGFyZFJlbGVhc2VyO1xuICAgIHJldHVybiBOZXdLbGFzcztcbiAgfTtcbiAgdmFyIFBvb2xlZENsYXNzID0ge1xuICAgIGFkZFBvb2xpbmdUbzogYWRkUG9vbGluZ1RvLFxuICAgIG9uZUFyZ3VtZW50UG9vbGVyOiBvbmVBcmd1bWVudFBvb2xlcixcbiAgICB0d29Bcmd1bWVudFBvb2xlcjogdHdvQXJndW1lbnRQb29sZXIsXG4gICAgdGhyZWVBcmd1bWVudFBvb2xlcjogdGhyZWVBcmd1bWVudFBvb2xlcixcbiAgICBmb3VyQXJndW1lbnRQb29sZXI6IGZvdXJBcmd1bWVudFBvb2xlcixcbiAgICBmaXZlQXJndW1lbnRQb29sZXI6IGZpdmVBcmd1bWVudFBvb2xlclxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFBvb2xlZENsYXNzO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBLZXlFc2NhcGVVdGlsc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBFc2NhcGUgYW5kIHdyYXAga2V5IHNvIGl0IGlzIHNhZmUgdG8gdXNlIGFzIGEgcmVhY3RpZFxuICpcbiAqIEBwYXJhbSB7Kn0ga2V5IHRvIGJlIGVzY2FwZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBlc2NhcGVkIGtleS5cbiAqL1xuXG5mdW5jdGlvbiBlc2NhcGUoa2V5KSB7XG4gIHZhciBlc2NhcGVSZWdleCA9IC9bPTpdL2c7XG4gIHZhciBlc2NhcGVyTG9va3VwID0ge1xuICAgICc9JzogJz0wJyxcbiAgICAnOic6ICc9MidcbiAgfTtcbiAgdmFyIGVzY2FwZWRTdHJpbmcgPSAoJycgKyBrZXkpLnJlcGxhY2UoZXNjYXBlUmVnZXgsIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgIHJldHVybiBlc2NhcGVyTG9va3VwW21hdGNoXTtcbiAgfSk7XG5cbiAgcmV0dXJuICckJyArIGVzY2FwZWRTdHJpbmc7XG59XG5cbi8qKlxuICogVW5lc2NhcGUgYW5kIHVud3JhcCBrZXkgZm9yIGh1bWFuLXJlYWRhYmxlIGRpc3BsYXlcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRvIHVuZXNjYXBlLlxuICogQHJldHVybiB7c3RyaW5nfSB0aGUgdW5lc2NhcGVkIGtleS5cbiAqL1xuZnVuY3Rpb24gdW5lc2NhcGUoa2V5KSB7XG4gIHZhciB1bmVzY2FwZVJlZ2V4ID0gLyg9MHw9MikvZztcbiAgdmFyIHVuZXNjYXBlckxvb2t1cCA9IHtcbiAgICAnPTAnOiAnPScsXG4gICAgJz0yJzogJzonXG4gIH07XG4gIHZhciBrZXlTdWJzdHJpbmcgPSBrZXlbMF0gPT09ICcuJyAmJiBrZXlbMV0gPT09ICckJyA/IGtleS5zdWJzdHJpbmcoMikgOiBrZXkuc3Vic3RyaW5nKDEpO1xuXG4gIHJldHVybiAoJycgKyBrZXlTdWJzdHJpbmcpLnJlcGxhY2UodW5lc2NhcGVSZWdleCwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgcmV0dXJuIHVuZXNjYXBlckxvb2t1cFttYXRjaF07XG4gIH0pO1xufVxuXG52YXIgS2V5RXNjYXBlVXRpbHMgPSB7XG4gIGVzY2FwZTogZXNjYXBlLFxuICB1bmVzY2FwZTogdW5lc2NhcGVcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gS2V5RXNjYXBlVXRpbHM7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBSZWFjdEN1cnJlbnRPd25lciA9IHJlcXVpcmUoJy4vUmVhY3RDdXJyZW50T3duZXInKTtcbiAgdmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG4gIHZhciBnZXRJdGVyYXRvckZuID0gcmVxdWlyZSgnLi9nZXRJdGVyYXRvckZuJyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgdmFyIEtleUVzY2FwZVV0aWxzID0gcmVxdWlyZSgnLi9LZXlFc2NhcGVVdGlscycpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgdmFyIFNFUEFSQVRPUiA9ICcuJztcbiAgdmFyIFNVQlNFUEFSQVRPUiA9ICc6JztcbiAgdmFyIGRpZFdhcm5BYm91dE1hcHMgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50S2V5KGNvbXBvbmVudCwgaW5kZXgpIHtcbiAgICBpZiAoY29tcG9uZW50ICYmIHR5cGVvZiBjb21wb25lbnQgPT09ICdvYmplY3QnICYmIGNvbXBvbmVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIEtleUVzY2FwZVV0aWxzLmVzY2FwZShjb21wb25lbnQua2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4LnRvU3RyaW5nKDM2KTtcbiAgfVxuICBmdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZHJlbiwgbmFtZVNvRmFyLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgY2hpbGRyZW47XG4gICAgaWYgKHR5cGUgPT09ICd1bmRlZmluZWQnIHx8IHR5cGUgPT09ICdib29sZWFuJykge1xuICAgICAgY2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoY2hpbGRyZW4gPT09IG51bGwgfHwgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ251bWJlcicgfHwgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkge1xuICAgICAgY2FsbGJhY2sodHJhdmVyc2VDb250ZXh0LCBjaGlsZHJlbiwgbmFtZVNvRmFyID09PSAnJyA/IFNFUEFSQVRPUiArIGdldENvbXBvbmVudEtleShjaGlsZHJlbiwgMCkgOiBuYW1lU29GYXIpO1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHZhciBjaGlsZDtcbiAgICB2YXIgbmV4dE5hbWU7XG4gICAgdmFyIHN1YnRyZWVDb3VudCA9IDA7XG4gICAgdmFyIG5leHROYW1lUHJlZml4ID0gbmFtZVNvRmFyID09PSAnJyA/IFNFUEFSQVRPUiA6IG5hbWVTb0ZhciArIFNVQlNFUEFSQVRPUjtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgbmV4dE5hbWUgPSBuZXh0TmFtZVByZWZpeCArIGdldENvbXBvbmVudEtleShjaGlsZCwgaSk7XG4gICAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZCwgbmV4dE5hbWUsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4oY2hpbGRyZW4pO1xuICAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKGNoaWxkcmVuKTtcbiAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBjaGlsZHJlbi5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGlpID0gMDtcbiAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICBjaGlsZCA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpaSsrKTtcbiAgICAgICAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZCwgbmV4dE5hbWUsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZGlkV2FybkFib3V0TWFwcywgJ1VzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgbm90IHlldCBmdWxseSBzdXBwb3J0ZWQuIEl0IGlzIGFuICcgKyAnZXhwZXJpbWVudGFsIGZlYXR1cmUgdGhhdCBtaWdodCBiZSByZW1vdmVkLiBDb252ZXJ0IGl0IHRvIGEgJyArICdzZXF1ZW5jZSAvIGl0ZXJhYmxlIG9mIGtleWVkIFJlYWN0RWxlbWVudHMgaW5zdGVhZC4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGRpZFdhcm5BYm91dE1hcHMgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICAgIGNoaWxkID0gZW50cnlbMV07XG4gICAgICAgICAgICAgIG5leHROYW1lID0gbmV4dE5hbWVQcmVmaXggKyBLZXlFc2NhcGVVdGlscy5lc2NhcGUoZW50cnlbMF0pICsgU1VCU0VQQVJBVE9SICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCAwKTtcbiAgICAgICAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBhZGRlbmR1bSA9ICcnO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGFkZGVuZHVtID0gJyBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5ICcgKyAnaW5zdGVhZCBvciB3cmFwIHRoZSBvYmplY3QgdXNpbmcgY3JlYXRlRnJhZ21lbnQob2JqZWN0KSBmcm9tIHRoZSAnICsgJ1JlYWN0IGFkZC1vbnMuJztcbiAgICAgICAgICBpZiAoY2hpbGRyZW4uX2lzUmVhY3RFbGVtZW50KSB7XG4gICAgICAgICAgICBhZGRlbmR1bSA9ICcgSXQgbG9va3MgbGlrZSB5b3VcXCdyZSB1c2luZyBhbiBlbGVtZW50IGNyZWF0ZWQgYnkgYSBkaWZmZXJlbnQgJyArICd2ZXJzaW9uIG9mIFJlYWN0LiBNYWtlIHN1cmUgdG8gdXNlIG9ubHkgb25lIGNvcHkgb2YgUmVhY3QuJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC5nZXROYW1lKCk7XG4gICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICBhZGRlbmR1bSArPSAnIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjaGlsZHJlblN0cmluZyA9IFN0cmluZyhjaGlsZHJlbik7XG4gICAgICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6ICVzKS4lcycsIGNoaWxkcmVuU3RyaW5nID09PSAnW29iamVjdCBPYmplY3RdJyA/ICdvYmplY3Qgd2l0aCBrZXlzIHsnICsgT2JqZWN0LmtleXMoY2hpbGRyZW4pLmpvaW4oJywgJykgKyAnfScgOiBjaGlsZHJlblN0cmluZywgYWRkZW5kdW0pIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN1YnRyZWVDb3VudDtcbiAgfVxuICBmdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KSB7XG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGRyZW4sICcnLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IHRyYXZlcnNlQWxsQ2hpbGRyZW47XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgUG9vbGVkQ2xhc3MgPSByZXF1aXJlKCcuL1Bvb2xlZENsYXNzJyk7XG52YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIHRyYXZlcnNlQWxsQ2hpbGRyZW4gPSByZXF1aXJlKCcuL3RyYXZlcnNlQWxsQ2hpbGRyZW4nKTtcbnZhciB0d29Bcmd1bWVudFBvb2xlciA9IFBvb2xlZENsYXNzLnR3b0FyZ3VtZW50UG9vbGVyO1xudmFyIGZvdXJBcmd1bWVudFBvb2xlciA9IFBvb2xlZENsYXNzLmZvdXJBcmd1bWVudFBvb2xlcjtcbnZhciB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCA9IC9cXC8rL2c7XG5mdW5jdGlvbiBlc2NhcGVVc2VyUHJvdmlkZWRLZXkodGV4dCkge1xuICByZXR1cm4gKCcnICsgdGV4dCkucmVwbGFjZSh1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCwgJyQmLycpO1xufVxuZnVuY3Rpb24gRm9yRWFjaEJvb2tLZWVwaW5nKGZvckVhY2hGdW5jdGlvbiwgZm9yRWFjaENvbnRleHQpIHtcbiAgdGhpcy5mdW5jID0gZm9yRWFjaEZ1bmN0aW9uO1xuICB0aGlzLmNvbnRleHQgPSBmb3JFYWNoQ29udGV4dDtcbiAgdGhpcy5jb3VudCA9IDA7XG59XG5Gb3JFYWNoQm9va0tlZXBpbmcucHJvdG90eXBlLmRlc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5mdW5jID0gbnVsbDtcbiAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgdGhpcy5jb3VudCA9IDA7XG59O1xuUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKEZvckVhY2hCb29rS2VlcGluZywgdHdvQXJndW1lbnRQb29sZXIpO1xuZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkKGJvb2tLZWVwaW5nLCBjaGlsZCwgbmFtZSkge1xuICB2YXIgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmM7XG4gIHZhciBjb250ZXh0ID0gYm9va0tlZXBpbmcuY29udGV4dDtcbiAgZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBib29rS2VlcGluZy5jb3VudCsrKTtcbn1cbmZ1bmN0aW9uIGZvckVhY2hDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KSB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHZhciB0cmF2ZXJzZUNvbnRleHQgPSBGb3JFYWNoQm9va0tlZXBpbmcuZ2V0UG9vbGVkKGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCk7XG4gIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGZvckVhY2hTaW5nbGVDaGlsZCwgdHJhdmVyc2VDb250ZXh0KTtcbiAgRm9yRWFjaEJvb2tLZWVwaW5nLnJlbGVhc2UodHJhdmVyc2VDb250ZXh0KTtcbn1cbmZ1bmN0aW9uIE1hcEJvb2tLZWVwaW5nKG1hcFJlc3VsdCwga2V5UHJlZml4LCBtYXBGdW5jdGlvbiwgbWFwQ29udGV4dCkge1xuICB0aGlzLnJlc3VsdCA9IG1hcFJlc3VsdDtcbiAgdGhpcy5rZXlQcmVmaXggPSBrZXlQcmVmaXg7XG4gIHRoaXMuZnVuYyA9IG1hcEZ1bmN0aW9uO1xuICB0aGlzLmNvbnRleHQgPSBtYXBDb250ZXh0O1xuICB0aGlzLmNvdW50ID0gMDtcbn1cbk1hcEJvb2tLZWVwaW5nLnByb3RvdHlwZS5kZXN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVzdWx0ID0gbnVsbDtcbiAgdGhpcy5rZXlQcmVmaXggPSBudWxsO1xuICB0aGlzLmZ1bmMgPSBudWxsO1xuICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICB0aGlzLmNvdW50ID0gMDtcbn07XG5Qb29sZWRDbGFzcy5hZGRQb29saW5nVG8oTWFwQm9va0tlZXBpbmcsIGZvdXJBcmd1bWVudFBvb2xlcik7XG5mdW5jdGlvbiBtYXBTaW5nbGVDaGlsZEludG9Db250ZXh0KGJvb2tLZWVwaW5nLCBjaGlsZCwgY2hpbGRLZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGJvb2tLZWVwaW5nLnJlc3VsdDtcbiAgdmFyIGtleVByZWZpeCA9IGJvb2tLZWVwaW5nLmtleVByZWZpeDtcbiAgdmFyIGZ1bmMgPSBib29rS2VlcGluZy5mdW5jO1xuICB2YXIgY29udGV4dCA9IGJvb2tLZWVwaW5nLmNvbnRleHQ7XG4gIHZhciBtYXBwZWRDaGlsZCA9IGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgYm9va0tlZXBpbmcuY291bnQrKyk7XG4gIGlmIChBcnJheS5pc0FycmF5KG1hcHBlZENoaWxkKSkge1xuICAgIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwobWFwcGVkQ2hpbGQsIHJlc3VsdCwgY2hpbGRLZXksIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCk7XG4gIH0gZWxzZSBpZiAobWFwcGVkQ2hpbGQgIT0gbnVsbCkge1xuICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQobWFwcGVkQ2hpbGQpKSB7XG4gICAgICBtYXBwZWRDaGlsZCA9IFJlYWN0RWxlbWVudC5jbG9uZUFuZFJlcGxhY2VLZXkobWFwcGVkQ2hpbGQsIGtleVByZWZpeCArIChtYXBwZWRDaGlsZC5rZXkgJiYgKCFjaGlsZCB8fCBjaGlsZC5rZXkgIT09IG1hcHBlZENoaWxkLmtleSkgPyBlc2NhcGVVc2VyUHJvdmlkZWRLZXkobWFwcGVkQ2hpbGQua2V5KSArICcvJyA6ICcnKSArIGNoaWxkS2V5KTtcbiAgICB9XG4gICAgcmVzdWx0LnB1c2gobWFwcGVkQ2hpbGQpO1xuICB9XG59XG5mdW5jdGlvbiBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCBhcnJheSwgcHJlZml4LCBmdW5jLCBjb250ZXh0KSB7XG4gIHZhciBlc2NhcGVkUHJlZml4ID0gJyc7XG4gIGlmIChwcmVmaXggIT0gbnVsbCkge1xuICAgIGVzY2FwZWRQcmVmaXggPSBlc2NhcGVVc2VyUHJvdmlkZWRLZXkocHJlZml4KSArICcvJztcbiAgfVxuICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gTWFwQm9va0tlZXBpbmcuZ2V0UG9vbGVkKGFycmF5LCBlc2NhcGVkUHJlZml4LCBmdW5jLCBjb250ZXh0KTtcbiAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgbWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCwgdHJhdmVyc2VDb250ZXh0KTtcbiAgTWFwQm9va0tlZXBpbmcucmVsZWFzZSh0cmF2ZXJzZUNvbnRleHQpO1xufVxuZnVuY3Rpb24gbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmMsIGNvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCByZXN1bHQsIG51bGwsIGZ1bmMsIGNvbnRleHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkRHVtbXkodHJhdmVyc2VDb250ZXh0LCBjaGlsZCwgbmFtZSkge1xuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGNvdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGZvckVhY2hTaW5nbGVDaGlsZER1bW15LCBudWxsKTtcbn1cbmZ1bmN0aW9uIHRvQXJyYXkoY2hpbGRyZW4pIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCByZXN1bHQsIG51bGwsIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG52YXIgUmVhY3RDaGlsZHJlbiA9IHtcbiAgZm9yRWFjaDogZm9yRWFjaENoaWxkcmVuLFxuICBtYXA6IG1hcENoaWxkcmVuLFxuICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsOiBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsLFxuICBjb3VudDogY291bnRDaGlsZHJlbixcbiAgdG9BcnJheTogdG9BcnJheVxufTtcbm1vZHVsZS5leHBvcnRzID0gUmVhY3RDaGlsZHJlbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblxuLyoqXG4gKiBTaW1wbGUsIGxpZ2h0d2VpZ2h0IG1vZHVsZSBhc3Npc3Rpbmcgd2l0aCB0aGUgZGV0ZWN0aW9uIGFuZCBjb250ZXh0IG9mXG4gKiBXb3JrZXIuIEhlbHBzIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBhbmQgYWxsb3dzIGNvZGUgdG8gcmVhc29uIGFib3V0XG4gKiB3aGV0aGVyIG9yIG5vdCB0aGV5IGFyZSBpbiBhIFdvcmtlciwgZXZlbiBpZiB0aGV5IG5ldmVyIGluY2x1ZGUgdGhlIG1haW5cbiAqIGBSZWFjdFdvcmtlcmAgZGVwZW5kZW5jeS5cbiAqL1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0ge1xuXG4gIGNhblVzZURPTTogY2FuVXNlRE9NLFxuXG4gIGNhblVzZVdvcmtlcnM6IHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnLFxuXG4gIGNhblVzZUV2ZW50TGlzdGVuZXJzOiBjYW5Vc2VET00gJiYgISEod2luZG93LmFkZEV2ZW50TGlzdGVuZXIgfHwgd2luZG93LmF0dGFjaEV2ZW50KSxcblxuICBjYW5Vc2VWaWV3cG9ydDogY2FuVXNlRE9NICYmICEhd2luZG93LnNjcmVlbixcblxuICBpc0luV29ya2VyOiAhY2FuVXNlRE9NIC8vIEZvciBub3csIHRoaXMgaXMgdHJ1ZSAtIG1pZ2h0IGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50OyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnLi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xudmFyIHBlcmZvcm1hbmNlO1xuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICBwZXJmb3JtYW5jZSA9IHdpbmRvdy5wZXJmb3JtYW5jZSB8fCB3aW5kb3cubXNQZXJmb3JtYW5jZSB8fCB3aW5kb3cud2Via2l0UGVyZm9ybWFuY2U7XG59XG5tb2R1bGUuZXhwb3J0cyA9IHBlcmZvcm1hbmNlIHx8IHt9O1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgcGVyZm9ybWFuY2UgPSByZXF1aXJlKCcuL3BlcmZvcm1hbmNlJyk7XG52YXIgcGVyZm9ybWFuY2VOb3c7XG5pZiAocGVyZm9ybWFuY2Uubm93KSB7XG4gIHBlcmZvcm1hbmNlTm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuICB9O1xufSBlbHNlIHtcbiAgcGVyZm9ybWFuY2VOb3cgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gcGVyZm9ybWFuY2VOb3c7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmFyIHByb2Nlc3NpbmdDaGlsZENvbnRleHQgPSBmYWxzZTtcbiAgICB2YXIgd2FybkludmFsaWRTZXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIXByb2Nlc3NpbmdDaGlsZENvbnRleHQsICdzZXRTdGF0ZSguLi4pOiBDYW5ub3QgY2FsbCBzZXRTdGF0ZSgpIGluc2lkZSBnZXRDaGlsZENvbnRleHQoKScpIDogdm9pZCAwO1xuICAgIH07XG4gIH1cbiAgdmFyIFJlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2wgPSB7XG4gICAgb25CZWdpblByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcHJvY2Vzc2luZ0NoaWxkQ29udGV4dCA9IHRydWU7XG4gICAgfSxcbiAgICBvbkVuZFByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcHJvY2Vzc2luZ0NoaWxkQ29udGV4dCA9IGZhbHNlO1xuICAgIH0sXG4gICAgb25TZXRTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB3YXJuSW52YWxpZFNldFN0YXRlKCk7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2w7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNi1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0TmF0aXZlT3BlcmF0aW9uSGlzdG9yeURldnRvb2xcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBoaXN0b3J5ID0gW107XG5cbnZhciBSZWFjdE5hdGl2ZU9wZXJhdGlvbkhpc3RvcnlEZXZ0b29sID0ge1xuICBvbk5hdGl2ZU9wZXJhdGlvbjogZnVuY3Rpb24gKGRlYnVnSUQsIHR5cGUsIHBheWxvYWQpIHtcbiAgICBoaXN0b3J5LnB1c2goe1xuICAgICAgaW5zdGFuY2VJRDogZGVidWdJRCxcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBwYXlsb2FkOiBwYXlsb2FkXG4gICAgfSk7XG4gIH0sXG4gIGNsZWFySGlzdG9yeTogZnVuY3Rpb24gKCkge1xuICAgIGlmIChSZWFjdE5hdGl2ZU9wZXJhdGlvbkhpc3RvcnlEZXZ0b29sLl9wcmV2ZW50Q2xlYXJpbmcpIHtcbiAgICAgIC8vIFNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIHRlc3RzLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGhpc3RvcnkgPSBbXTtcbiAgfSxcbiAgZ2V0SGlzdG9yeTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBoaXN0b3J5O1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0TmF0aXZlT3BlcmF0aW9uSGlzdG9yeURldnRvb2w7IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgdmFyIHRyZWUgPSB7fTtcbiAgdmFyIHJvb3RJRHMgPSBbXTtcbiAgZnVuY3Rpb24gdXBkYXRlVHJlZShpZCwgdXBkYXRlKSB7XG4gICAgaWYgKCF0cmVlW2lkXSkge1xuICAgICAgdHJlZVtpZF0gPSB7XG4gICAgICAgIHBhcmVudElEOiBudWxsLFxuICAgICAgICBvd25lcklEOiBudWxsLFxuICAgICAgICB0ZXh0OiBudWxsLFxuICAgICAgICBjaGlsZElEczogW10sXG4gICAgICAgIGRpc3BsYXlOYW1lOiAnVW5rbm93bicsXG4gICAgICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgICAgIHVwZGF0ZUNvdW50OiAwXG4gICAgICB9O1xuICAgIH1cbiAgICB1cGRhdGUodHJlZVtpZF0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1cmdlRGVlcChpZCkge1xuICAgIHZhciBpdGVtID0gdHJlZVtpZF07XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIHZhciBjaGlsZElEcyA9IGl0ZW0uY2hpbGRJRHM7XG4gICAgICBkZWxldGUgdHJlZVtpZF07XG4gICAgICBjaGlsZElEcy5mb3JFYWNoKHB1cmdlRGVlcCk7XG4gICAgfVxuICB9XG4gIHZhciBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sID0ge1xuICAgIG9uU2V0RGlzcGxheU5hbWU6IGZ1bmN0aW9uKGlkLCBkaXNwbGF5TmFtZSkge1xuICAgICAgdXBkYXRlVHJlZShpZCwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBvblNldENoaWxkcmVuOiBmdW5jdGlvbihpZCwgbmV4dENoaWxkSURzKSB7XG4gICAgICB1cGRhdGVUcmVlKGlkLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHZhciBwcmV2Q2hpbGRJRHMgPSBpdGVtLmNoaWxkSURzO1xuICAgICAgICBpdGVtLmNoaWxkSURzID0gbmV4dENoaWxkSURzO1xuICAgICAgICBuZXh0Q2hpbGRJRHMuZm9yRWFjaChmdW5jdGlvbihuZXh0Q2hpbGRJRCkge1xuICAgICAgICAgIHZhciBuZXh0Q2hpbGQgPSB0cmVlW25leHRDaGlsZElEXTtcbiAgICAgICAgICAhbmV4dENoaWxkID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIGRldnRvb2wgZXZlbnRzIHRvIGZpcmUgZm9yIHRoZSBjaGlsZCAnICsgJ2JlZm9yZSBpdHMgcGFyZW50IGluY2x1ZGVzIGl0IGluIG9uU2V0Q2hpbGRyZW4oKS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgIShuZXh0Q2hpbGQuZGlzcGxheU5hbWUgIT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgb25TZXREaXNwbGF5TmFtZSgpIHRvIGZpcmUgZm9yIHRoZSBjaGlsZCAnICsgJ2JlZm9yZSBpdHMgcGFyZW50IGluY2x1ZGVzIGl0IGluIG9uU2V0Q2hpbGRyZW4oKS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgIShuZXh0Q2hpbGQuY2hpbGRJRHMgIT0gbnVsbCB8fCBuZXh0Q2hpbGQudGV4dCAhPSBudWxsKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBvblNldENoaWxkcmVuKCkgb3Igb25TZXRUZXh0KCkgdG8gZmlyZSBmb3IgdGhlIGNoaWxkICcgKyAnYmVmb3JlIGl0cyBwYXJlbnQgaW5jbHVkZXMgaXQgaW4gb25TZXRDaGlsZHJlbigpLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICAhbmV4dENoaWxkLmlzTW91bnRlZCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBvbk1vdW50Q29tcG9uZW50KCkgdG8gZmlyZSBmb3IgdGhlIGNoaWxkICcgKyAnYmVmb3JlIGl0cyBwYXJlbnQgaW5jbHVkZXMgaXQgaW4gb25TZXRDaGlsZHJlbigpLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAocHJldkNoaWxkSURzLmluZGV4T2YobmV4dENoaWxkSUQpID09PSAtMSkge1xuICAgICAgICAgICAgbmV4dENoaWxkLnBhcmVudElEID0gaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25TZXRPd25lcjogZnVuY3Rpb24oaWQsIG93bmVySUQpIHtcbiAgICAgIHVwZGF0ZVRyZWUoaWQsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ub3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uU2V0VGV4dDogZnVuY3Rpb24oaWQsIHRleHQpIHtcbiAgICAgIHVwZGF0ZVRyZWUoaWQsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0udGV4dCA9IHRleHQ7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uTW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB1cGRhdGVUcmVlKGlkLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmlzTW91bnRlZCA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uTW91bnRSb290Q29tcG9uZW50OiBmdW5jdGlvbihpZCkge1xuICAgICAgcm9vdElEcy5wdXNoKGlkKTtcbiAgICB9LFxuICAgIG9uVXBkYXRlQ29tcG9uZW50OiBmdW5jdGlvbihpZCkge1xuICAgICAgdXBkYXRlVHJlZShpZCwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS51cGRhdGVDb3VudCsrO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBvblVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB1cGRhdGVUcmVlKGlkLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmlzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgICByb290SURzID0gcm9vdElEcy5maWx0ZXIoZnVuY3Rpb24ocm9vdElEKSB7XG4gICAgICAgIHJldHVybiByb290SUQgIT09IGlkO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBwdXJnZVVubW91bnRlZENvbXBvbmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuX3ByZXZlbnRQdXJnaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5rZXlzKHRyZWUpLmZpbHRlcihmdW5jdGlvbihpZCkge1xuICAgICAgICByZXR1cm4gIXRyZWVbaWRdLmlzTW91bnRlZDtcbiAgICAgIH0pLmZvckVhY2gocHVyZ2VEZWVwKTtcbiAgICB9LFxuICAgIGlzTW91bnRlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBpdGVtID0gdHJlZVtpZF07XG4gICAgICByZXR1cm4gaXRlbSA/IGl0ZW0uaXNNb3VudGVkIDogZmFsc2U7XG4gICAgfSxcbiAgICBnZXRDaGlsZElEczogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBpdGVtID0gdHJlZVtpZF07XG4gICAgICByZXR1cm4gaXRlbSA/IGl0ZW0uY2hpbGRJRHMgOiBbXTtcbiAgICB9LFxuICAgIGdldERpc3BsYXlOYW1lOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIGl0ZW0gPSB0cmVlW2lkXTtcbiAgICAgIHJldHVybiBpdGVtID8gaXRlbS5kaXNwbGF5TmFtZSA6ICdVbmtub3duJztcbiAgICB9LFxuICAgIGdldE93bmVySUQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgaXRlbSA9IHRyZWVbaWRdO1xuICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLm93bmVySUQgOiBudWxsO1xuICAgIH0sXG4gICAgZ2V0UGFyZW50SUQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgaXRlbSA9IHRyZWVbaWRdO1xuICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLnBhcmVudElEIDogbnVsbDtcbiAgICB9LFxuICAgIGdldFRleHQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgaXRlbSA9IHRyZWVbaWRdO1xuICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLnRleHQgOiBudWxsO1xuICAgIH0sXG4gICAgZ2V0VXBkYXRlQ291bnQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgaXRlbSA9IHRyZWVbaWRdO1xuICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLnVwZGF0ZUNvdW50IDogMDtcbiAgICB9LFxuICAgIGdldFJvb3RJRHM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJvb3RJRHM7XG4gICAgfSxcbiAgICBnZXRSZWdpc3RlcmVkSURzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0cmVlKTtcbiAgICB9XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbiAgdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgnZmJqcy9saWIvcGVyZm9ybWFuY2VOb3cnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBldmVudEhhbmRsZXJzID0gW107XG4gIHZhciBoYW5kbGVyRG9lc1Rocm93Rm9yRXZlbnQgPSB7fTtcbiAgZnVuY3Rpb24gZW1pdEV2ZW50KGhhbmRsZXJGdW5jdGlvbk5hbWUsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgZXZlbnRIYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoaGFuZGxlcltoYW5kbGVyRnVuY3Rpb25OYW1lXSkge1xuICAgICAgICAgICAgaGFuZGxlcltoYW5kbGVyRnVuY3Rpb25OYW1lXShhcmcxLCBhcmcyLCBhcmczLCBhcmc0LCBhcmc1KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50W2hhbmRsZXJGdW5jdGlvbk5hbWVdLCAnZXhjZXB0aW9uIHRocm93biBieSBkZXZ0b29sIHdoaWxlIGhhbmRsaW5nICVzOiAlcycsIGhhbmRsZXJGdW5jdGlvbk5hbWUsIGUubWVzc2FnZSkgOiB2b2lkIDA7XG4gICAgICAgICAgaGFuZGxlckRvZXNUaHJvd0ZvckV2ZW50W2hhbmRsZXJGdW5jdGlvbk5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHZhciBpc1Byb2ZpbGluZyA9IGZhbHNlO1xuICB2YXIgZmx1c2hIaXN0b3J5ID0gW107XG4gIHZhciBjdXJyZW50Rmx1c2hOZXN0aW5nID0gMDtcbiAgdmFyIGN1cnJlbnRGbHVzaE1lYXN1cmVtZW50cyA9IG51bGw7XG4gIHZhciBjdXJyZW50Rmx1c2hTdGFydFRpbWUgPSBudWxsO1xuICB2YXIgY3VycmVudFRpbWVyRGVidWdJRCA9IG51bGw7XG4gIHZhciBjdXJyZW50VGltZXJTdGFydFRpbWUgPSBudWxsO1xuICB2YXIgY3VycmVudFRpbWVyVHlwZSA9IG51bGw7XG4gIGZ1bmN0aW9uIGNsZWFySGlzdG9yeSgpIHtcbiAgICBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sLnB1cmdlVW5tb3VudGVkQ29tcG9uZW50cygpO1xuICAgIFJlYWN0TmF0aXZlT3BlcmF0aW9uSGlzdG9yeURldnRvb2wuY2xlYXJIaXN0b3J5KCk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VHJlZVNuYXBzaG90KHJlZ2lzdGVyZWRJRHMpIHtcbiAgICByZXR1cm4gcmVnaXN0ZXJlZElEcy5yZWR1Y2UoZnVuY3Rpb24odHJlZSwgaWQpIHtcbiAgICAgIHZhciBvd25lcklEID0gUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5nZXRPd25lcklEKGlkKTtcbiAgICAgIHZhciBwYXJlbnRJRCA9IFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuZ2V0UGFyZW50SUQoaWQpO1xuICAgICAgdHJlZVtpZF0gPSB7XG4gICAgICAgIGRpc3BsYXlOYW1lOiBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sLmdldERpc3BsYXlOYW1lKGlkKSxcbiAgICAgICAgdGV4dDogUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5nZXRUZXh0KGlkKSxcbiAgICAgICAgdXBkYXRlQ291bnQ6IFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuZ2V0VXBkYXRlQ291bnQoaWQpLFxuICAgICAgICBjaGlsZElEczogUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5nZXRDaGlsZElEcyhpZCksXG4gICAgICAgIG93bmVySUQ6IG93bmVySUQgfHwgUmVhY3RDb21wb25lbnRUcmVlRGV2dG9vbC5nZXRPd25lcklEKHBhcmVudElEKSxcbiAgICAgICAgcGFyZW50SUQ6IHBhcmVudElEXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHRyZWU7XG4gICAgfSwge30pO1xuICB9XG4gIGZ1bmN0aW9uIHJlc2V0TWVhc3VyZW1lbnRzKCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgcHJldmlvdXNTdGFydFRpbWUgPSBjdXJyZW50Rmx1c2hTdGFydFRpbWU7XG4gICAgICB2YXIgcHJldmlvdXNNZWFzdXJlbWVudHMgPSBjdXJyZW50Rmx1c2hNZWFzdXJlbWVudHMgfHwgW107XG4gICAgICB2YXIgcHJldmlvdXNPcGVyYXRpb25zID0gUmVhY3ROYXRpdmVPcGVyYXRpb25IaXN0b3J5RGV2dG9vbC5nZXRIaXN0b3J5KCk7XG4gICAgICBpZiAoIWlzUHJvZmlsaW5nIHx8IGN1cnJlbnRGbHVzaE5lc3RpbmcgPT09IDApIHtcbiAgICAgICAgY3VycmVudEZsdXNoU3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgY3VycmVudEZsdXNoTWVhc3VyZW1lbnRzID0gbnVsbDtcbiAgICAgICAgY2xlYXJIaXN0b3J5KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2aW91c01lYXN1cmVtZW50cy5sZW5ndGggfHwgcHJldmlvdXNPcGVyYXRpb25zLmxlbmd0aCkge1xuICAgICAgICB2YXIgcmVnaXN0ZXJlZElEcyA9IFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wuZ2V0UmVnaXN0ZXJlZElEcygpO1xuICAgICAgICBmbHVzaEhpc3RvcnkucHVzaCh7XG4gICAgICAgICAgZHVyYXRpb246IHBlcmZvcm1hbmNlTm93KCkgLSBwcmV2aW91c1N0YXJ0VGltZSxcbiAgICAgICAgICBtZWFzdXJlbWVudHM6IHByZXZpb3VzTWVhc3VyZW1lbnRzIHx8IFtdLFxuICAgICAgICAgIG9wZXJhdGlvbnM6IHByZXZpb3VzT3BlcmF0aW9ucyB8fCBbXSxcbiAgICAgICAgICB0cmVlU25hcHNob3Q6IGdldFRyZWVTbmFwc2hvdChyZWdpc3RlcmVkSURzKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNsZWFySGlzdG9yeSgpO1xuICAgICAgY3VycmVudEZsdXNoU3RhcnRUaW1lID0gcGVyZm9ybWFuY2VOb3coKTtcbiAgICAgIGN1cnJlbnRGbHVzaE1lYXN1cmVtZW50cyA9IFtdO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjaGVja0RlYnVnSUQoZGVidWdJRCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGRlYnVnSUQsICdSZWFjdERlYnVnVG9vbDogZGVidWdJRCBtYXkgbm90IGJlIGVtcHR5LicpIDogdm9pZCAwO1xuICB9XG4gIHZhciBSZWFjdERlYnVnVG9vbCA9IHtcbiAgICBhZGREZXZ0b29sOiBmdW5jdGlvbihkZXZ0b29sKSB7XG4gICAgICBldmVudEhhbmRsZXJzLnB1c2goZGV2dG9vbCk7XG4gICAgfSxcbiAgICByZW1vdmVEZXZ0b29sOiBmdW5jdGlvbihkZXZ0b29sKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50SGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGV2ZW50SGFuZGxlcnNbaV0gPT09IGRldnRvb2wpIHtcbiAgICAgICAgICBldmVudEhhbmRsZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGJlZ2luUHJvZmlsaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChpc1Byb2ZpbGluZykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpc1Byb2ZpbGluZyA9IHRydWU7XG4gICAgICAgIGZsdXNoSGlzdG9yeS5sZW5ndGggPSAwO1xuICAgICAgICByZXNldE1lYXN1cmVtZW50cygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZW5kUHJvZmlsaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmICghaXNQcm9maWxpbmcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaXNQcm9maWxpbmcgPSBmYWxzZTtcbiAgICAgICAgcmVzZXRNZWFzdXJlbWVudHMoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldEZsdXNoSGlzdG9yeTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICByZXR1cm4gZmx1c2hIaXN0b3J5O1xuICAgICAgfVxuICAgIH0sXG4gICAgb25CZWdpbkZsdXNoOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGN1cnJlbnRGbHVzaE5lc3RpbmcrKztcbiAgICAgICAgcmVzZXRNZWFzdXJlbWVudHMoKTtcbiAgICAgIH1cbiAgICAgIGVtaXRFdmVudCgnb25CZWdpbkZsdXNoJyk7XG4gICAgfSxcbiAgICBvbkVuZEZsdXNoOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHJlc2V0TWVhc3VyZW1lbnRzKCk7XG4gICAgICAgIGN1cnJlbnRGbHVzaE5lc3RpbmctLTtcbiAgICAgIH1cbiAgICAgIGVtaXRFdmVudCgnb25FbmRGbHVzaCcpO1xuICAgIH0sXG4gICAgb25CZWdpbkxpZmVDeWNsZVRpbWVyOiBmdW5jdGlvbihkZWJ1Z0lELCB0aW1lclR5cGUpIHtcbiAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgIGVtaXRFdmVudCgnb25CZWdpbkxpZmVDeWNsZVRpbWVyJywgZGVidWdJRCwgdGltZXJUeXBlKTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChpc1Byb2ZpbGluZyAmJiBjdXJyZW50Rmx1c2hOZXN0aW5nID4gMCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFjdXJyZW50VGltZXJUeXBlLCAnVGhlcmUgaXMgYW4gaW50ZXJuYWwgZXJyb3IgaW4gdGhlIFJlYWN0IHBlcmZvcm1hbmNlIG1lYXN1cmVtZW50IGNvZGUuICcgKyAnRGlkIG5vdCBleHBlY3QgJXMgdGltZXIgdG8gc3RhcnQgd2hpbGUgJXMgdGltZXIgaXMgc3RpbGwgaW4gJyArICdwcm9ncmVzcyBmb3IgJXMgaW5zdGFuY2UuJywgdGltZXJUeXBlLCBjdXJyZW50VGltZXJUeXBlIHx8ICdubycsIGRlYnVnSUQgPT09IGN1cnJlbnRUaW1lckRlYnVnSUQgPyAndGhlIHNhbWUnIDogJ2Fub3RoZXInKSA6IHZvaWQgMDtcbiAgICAgICAgICBjdXJyZW50VGltZXJTdGFydFRpbWUgPSBwZXJmb3JtYW5jZU5vdygpO1xuICAgICAgICAgIGN1cnJlbnRUaW1lckRlYnVnSUQgPSBkZWJ1Z0lEO1xuICAgICAgICAgIGN1cnJlbnRUaW1lclR5cGUgPSB0aW1lclR5cGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG9uRW5kTGlmZUN5Y2xlVGltZXI6IGZ1bmN0aW9uKGRlYnVnSUQsIHRpbWVyVHlwZSkge1xuICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGlzUHJvZmlsaW5nICYmIGN1cnJlbnRGbHVzaE5lc3RpbmcgPiAwKSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoY3VycmVudFRpbWVyVHlwZSA9PT0gdGltZXJUeXBlLCAnVGhlcmUgaXMgYW4gaW50ZXJuYWwgZXJyb3IgaW4gdGhlIFJlYWN0IHBlcmZvcm1hbmNlIG1lYXN1cmVtZW50IGNvZGUuICcgKyAnV2UgZGlkIG5vdCBleHBlY3QgJXMgdGltZXIgdG8gc3RvcCB3aGlsZSAlcyB0aW1lciBpcyBzdGlsbCBpbiAnICsgJ3Byb2dyZXNzIGZvciAlcyBpbnN0YW5jZS4gUGxlYXNlIHJlcG9ydCB0aGlzIGFzIGEgYnVnIGluIFJlYWN0LicsIHRpbWVyVHlwZSwgY3VycmVudFRpbWVyVHlwZSB8fCAnbm8nLCBkZWJ1Z0lEID09PSBjdXJyZW50VGltZXJEZWJ1Z0lEID8gJ3RoZSBzYW1lJyA6ICdhbm90aGVyJykgOiB2b2lkIDA7XG4gICAgICAgICAgY3VycmVudEZsdXNoTWVhc3VyZW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgdGltZXJUeXBlOiB0aW1lclR5cGUsXG4gICAgICAgICAgICBpbnN0YW5jZUlEOiBkZWJ1Z0lELFxuICAgICAgICAgICAgZHVyYXRpb246IHBlcmZvcm1hbmNlTm93KCkgLSBjdXJyZW50VGltZXJTdGFydFRpbWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjdXJyZW50VGltZXJTdGFydFRpbWUgPSBudWxsO1xuICAgICAgICAgIGN1cnJlbnRUaW1lckRlYnVnSUQgPSBudWxsO1xuICAgICAgICAgIGN1cnJlbnRUaW1lclR5cGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbWl0RXZlbnQoJ29uRW5kTGlmZUN5Y2xlVGltZXInLCBkZWJ1Z0lELCB0aW1lclR5cGUpO1xuICAgIH0sXG4gICAgb25CZWdpblJlY29uY2lsZXJUaW1lcjogZnVuY3Rpb24oZGVidWdJRCwgdGltZXJUeXBlKSB7XG4gICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICBlbWl0RXZlbnQoJ29uQmVnaW5SZWNvbmNpbGVyVGltZXInLCBkZWJ1Z0lELCB0aW1lclR5cGUpO1xuICAgIH0sXG4gICAgb25FbmRSZWNvbmNpbGVyVGltZXI6IGZ1bmN0aW9uKGRlYnVnSUQsIHRpbWVyVHlwZSkge1xuICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgZW1pdEV2ZW50KCdvbkVuZFJlY29uY2lsZXJUaW1lcicsIGRlYnVnSUQsIHRpbWVyVHlwZSk7XG4gICAgfSxcbiAgICBvbkJlZ2luUHJvY2Vzc2luZ0NoaWxkQ29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICBlbWl0RXZlbnQoJ29uQmVnaW5Qcm9jZXNzaW5nQ2hpbGRDb250ZXh0Jyk7XG4gICAgfSxcbiAgICBvbkVuZFByb2Nlc3NpbmdDaGlsZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgZW1pdEV2ZW50KCdvbkVuZFByb2Nlc3NpbmdDaGlsZENvbnRleHQnKTtcbiAgICB9LFxuICAgIG9uTmF0aXZlT3BlcmF0aW9uOiBmdW5jdGlvbihkZWJ1Z0lELCB0eXBlLCBwYXlsb2FkKSB7XG4gICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICBlbWl0RXZlbnQoJ29uTmF0aXZlT3BlcmF0aW9uJywgZGVidWdJRCwgdHlwZSwgcGF5bG9hZCk7XG4gICAgfSxcbiAgICBvblNldFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIGVtaXRFdmVudCgnb25TZXRTdGF0ZScpO1xuICAgIH0sXG4gICAgb25TZXREaXNwbGF5TmFtZTogZnVuY3Rpb24oZGVidWdJRCwgZGlzcGxheU5hbWUpIHtcbiAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgIGVtaXRFdmVudCgnb25TZXREaXNwbGF5TmFtZScsIGRlYnVnSUQsIGRpc3BsYXlOYW1lKTtcbiAgICB9LFxuICAgIG9uU2V0Q2hpbGRyZW46IGZ1bmN0aW9uKGRlYnVnSUQsIGNoaWxkRGVidWdJRHMpIHtcbiAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgIGVtaXRFdmVudCgnb25TZXRDaGlsZHJlbicsIGRlYnVnSUQsIGNoaWxkRGVidWdJRHMpO1xuICAgIH0sXG4gICAgb25TZXRPd25lcjogZnVuY3Rpb24oZGVidWdJRCwgb3duZXJEZWJ1Z0lEKSB7XG4gICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICBlbWl0RXZlbnQoJ29uU2V0T3duZXInLCBkZWJ1Z0lELCBvd25lckRlYnVnSUQpO1xuICAgIH0sXG4gICAgb25TZXRUZXh0OiBmdW5jdGlvbihkZWJ1Z0lELCB0ZXh0KSB7XG4gICAgICBjaGVja0RlYnVnSUQoZGVidWdJRCk7XG4gICAgICBlbWl0RXZlbnQoJ29uU2V0VGV4dCcsIGRlYnVnSUQsIHRleHQpO1xuICAgIH0sXG4gICAgb25Nb3VudFJvb3RDb21wb25lbnQ6IGZ1bmN0aW9uKGRlYnVnSUQpIHtcbiAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgIGVtaXRFdmVudCgnb25Nb3VudFJvb3RDb21wb25lbnQnLCBkZWJ1Z0lEKTtcbiAgICB9LFxuICAgIG9uTW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKGRlYnVnSUQpIHtcbiAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgIGVtaXRFdmVudCgnb25Nb3VudENvbXBvbmVudCcsIGRlYnVnSUQpO1xuICAgIH0sXG4gICAgb25VcGRhdGVDb21wb25lbnQ6IGZ1bmN0aW9uKGRlYnVnSUQpIHtcbiAgICAgIGNoZWNrRGVidWdJRChkZWJ1Z0lEKTtcbiAgICAgIGVtaXRFdmVudCgnb25VcGRhdGVDb21wb25lbnQnLCBkZWJ1Z0lEKTtcbiAgICB9LFxuICAgIG9uVW5tb3VudENvbXBvbmVudDogZnVuY3Rpb24oZGVidWdJRCkge1xuICAgICAgY2hlY2tEZWJ1Z0lEKGRlYnVnSUQpO1xuICAgICAgZW1pdEV2ZW50KCdvblVubW91bnRDb21wb25lbnQnLCBkZWJ1Z0lEKTtcbiAgICB9XG4gIH07XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmFyIFJlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2wgPSByZXF1aXJlKCcuL1JlYWN0SW52YWxpZFNldFN0YXRlV2FybmluZ0RldlRvb2wnKTtcbiAgICB2YXIgUmVhY3ROYXRpdmVPcGVyYXRpb25IaXN0b3J5RGV2dG9vbCA9IHJlcXVpcmUoJy4vUmVhY3ROYXRpdmVPcGVyYXRpb25IaXN0b3J5RGV2dG9vbCcpO1xuICAgIHZhciBSZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sID0gcmVxdWlyZSgnLi9SZWFjdENvbXBvbmVudFRyZWVEZXZ0b29sJyk7XG4gICAgUmVhY3REZWJ1Z1Rvb2wuYWRkRGV2dG9vbChSZWFjdEludmFsaWRTZXRTdGF0ZVdhcm5pbmdEZXZUb29sKTtcbiAgICBSZWFjdERlYnVnVG9vbC5hZGREZXZ0b29sKFJlYWN0Q29tcG9uZW50VHJlZURldnRvb2wpO1xuICAgIFJlYWN0RGVidWdUb29sLmFkZERldnRvb2woUmVhY3ROYXRpdmVPcGVyYXRpb25IaXN0b3J5RGV2dG9vbCk7XG4gICAgdmFyIHVybCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiB3aW5kb3cubG9jYXRpb24uaHJlZiB8fCAnJztcbiAgICBpZiAoL1s/Jl1yZWFjdF9wZXJmXFxiLy50ZXN0KHVybCkpIHtcbiAgICAgIFJlYWN0RGVidWdUb29sLmJlZ2luUHJvZmlsaW5nKCk7XG4gICAgfVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gUmVhY3REZWJ1Z1Rvb2w7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG52YXIgUmVhY3REZWJ1Z1Rvb2wgPSByZXF1aXJlKCcuL1JlYWN0RGVidWdUb29sJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHtkZWJ1Z1Rvb2w6IFJlYWN0RGVidWdUb29sfTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSByZXF1aXJlKCcuL1JlYWN0Tm9vcFVwZGF0ZVF1ZXVlJyk7XG4gIHZhciBSZWFjdEluc3RydW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0cnVtZW50YXRpb24nKTtcbiAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9jYW5EZWZpbmVQcm9wZXJ0eScpO1xuICB2YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eU9iamVjdCcpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICBmdW5jdGlvbiBSZWFjdENvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gIH1cbiAgUmVhY3RDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB7fTtcbiAgUmVhY3RDb21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24ocGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICAgICEodHlwZW9mIHBhcnRpYWxTdGF0ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHBhcnRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyB8fCBwYXJ0aWFsU3RhdGUgPT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnc2V0U3RhdGUoLi4uKTogdGFrZXMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcyB0byB1cGRhdGUgb3IgYSAnICsgJ2Z1bmN0aW9uIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIFJlYWN0SW5zdHJ1bWVudGF0aW9uLmRlYnVnVG9vbC5vblNldFN0YXRlKCk7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhwYXJ0aWFsU3RhdGUgIT0gbnVsbCwgJ3NldFN0YXRlKC4uLik6IFlvdSBwYXNzZWQgYW4gdW5kZWZpbmVkIG9yIG51bGwgc3RhdGUgb2JqZWN0OyAnICsgJ2luc3RlYWQsIHVzZSBmb3JjZVVwZGF0ZSgpLicpIDogdm9pZCAwO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrLCAnc2V0U3RhdGUnKTtcbiAgICB9XG4gIH07XG4gIFJlYWN0Q29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlQ2FsbGJhY2sodGhpcywgY2FsbGJhY2ssICdmb3JjZVVwZGF0ZScpO1xuICAgIH1cbiAgfTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgZGVwcmVjYXRlZEFQSXMgPSB7XG4gICAgICBpc01vdW50ZWQ6IFsnaXNNb3VudGVkJywgJ0luc3RlYWQsIG1ha2Ugc3VyZSB0byBjbGVhbiB1cCBzdWJzY3JpcHRpb25zIGFuZCBwZW5kaW5nIHJlcXVlc3RzIGluICcgKyAnY29tcG9uZW50V2lsbFVubW91bnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuJ10sXG4gICAgICByZXBsYWNlU3RhdGU6IFsncmVwbGFjZVN0YXRlJywgJ1JlZmFjdG9yIHlvdXIgY29kZSB0byB1c2Ugc2V0U3RhdGUgaW5zdGVhZCAoc2VlICcgKyAnaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zMjM2KS4nXVxuICAgIH07XG4gICAgdmFyIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyA9IGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZm8pIHtcbiAgICAgIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhY3RDb21wb25lbnQucHJvdG90eXBlLCBtZXRob2ROYW1lLCB7Z2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKSBpcyBkZXByZWNhdGVkIGluIHBsYWluIEphdmFTY3JpcHQgUmVhY3QgY2xhc3Nlcy4gJXMnLCBpbmZvWzBdLCBpbmZvWzFdKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfX0pO1xuICAgICAgfVxuICAgIH07XG4gICAgZm9yICh2YXIgZm5OYW1lIGluIGRlcHJlY2F0ZWRBUElzKSB7XG4gICAgICBpZiAoZGVwcmVjYXRlZEFQSXMuaGFzT3duUHJvcGVydHkoZm5OYW1lKSkge1xuICAgICAgICBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcoZm5OYW1lLCBkZXByZWNhdGVkQVBJc1tmbk5hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdENvbXBvbmVudDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIGZ1bmN0aW9uIHdhcm5URFoocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclcyguLi4pOiBDYW4gb25seSB1cGRhdGUgYSBtb3VudGVkIG9yIG1vdW50aW5nIGNvbXBvbmVudC4gJyArICdUaGlzIHVzdWFsbHkgbWVhbnMgeW91IGNhbGxlZCAlcygpIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuICcgKyAnVGhpcyBpcyBhIG5vLW9wLiBQbGVhc2UgY2hlY2sgdGhlIGNvZGUgZm9yIHRoZSAlcyBjb21wb25lbnQuJywgY2FsbGVyTmFtZSwgY2FsbGVyTmFtZSwgcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3IgJiYgcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJycpIDogdm9pZCAwO1xuICAgIH1cbiAgfVxuICB2YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSB7XG4gICAgaXNNb3VudGVkOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgZW5xdWV1ZUNhbGxiYWNrOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSwgY2FsbGJhY2spIHt9LFxuICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UpIHtcbiAgICAgIHdhcm5URFoocHVibGljSW5zdGFuY2UsICdmb3JjZVVwZGF0ZScpO1xuICAgIH0sXG4gICAgZW5xdWV1ZVJlcGxhY2VTdGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIGNvbXBsZXRlU3RhdGUpIHtcbiAgICAgIHdhcm5URFoocHVibGljSW5zdGFuY2UsICdyZXBsYWNlU3RhdGUnKTtcbiAgICB9LFxuICAgIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSkge1xuICAgICAgd2FyblREWihwdWJsaWNJbnN0YW5jZSwgJ3NldFN0YXRlJyk7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgZW1wdHlPYmplY3QgPSB7fTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBPYmplY3QuZnJlZXplKGVtcHR5T2JqZWN0KTtcbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGVtcHR5T2JqZWN0O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKi9cblxuLyoqXG4gKiBBbGxvd3MgZXh0cmFjdGlvbiBvZiBhIG1pbmlmaWVkIGtleS4gTGV0J3MgdGhlIGJ1aWxkIHN5c3RlbSBtaW5pZnkga2V5c1xuICogd2l0aG91dCBsb3NpbmcgdGhlIGFiaWxpdHkgdG8gZHluYW1pY2FsbHkgdXNlIGtleSBzdHJpbmdzIGFzIHZhbHVlc1xuICogdGhlbXNlbHZlcy4gUGFzcyBpbiBhbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBrZXkvdmFsIHBhaXIgYW5kIGl0IHdpbGwgcmV0dXJuXG4gKiB5b3UgdGhlIHN0cmluZyBrZXkgb2YgdGhhdCBzaW5nbGUgcmVjb3JkLiBTdXBwb3NlIHlvdSB3YW50IHRvIGdyYWIgdGhlXG4gKiB2YWx1ZSBmb3IgYSBrZXkgJ2NsYXNzTmFtZScgaW5zaWRlIG9mIGFuIG9iamVjdC4gS2V5L3ZhbCBtaW5pZmljYXRpb24gbWF5XG4gKiBoYXZlIGFsaWFzZWQgdGhhdCBrZXkgdG8gYmUgJ3hhMTInLiBrZXlPZih7Y2xhc3NOYW1lOiBudWxsfSkgd2lsbCByZXR1cm5cbiAqICd4YTEyJyBpbiB0aGF0IGNhc2UuIFJlc29sdmUga2V5cyB5b3Ugd2FudCB0byB1c2Ugb25jZSBhdCBzdGFydHVwIHRpbWUsIHRoZW5cbiAqIHJldXNlIHRob3NlIHJlc29sdXRpb25zLlxuICovXG52YXIga2V5T2YgPSBmdW5jdGlvbiAob25lS2V5T2JqKSB7XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIG9uZUtleU9iaikge1xuICAgIGlmICghb25lS2V5T2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlPZjsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG4gIHZhciBSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vUmVhY3RDb21wb25lbnQnKTtcbiAgdmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0gcmVxdWlyZSgnLi9SZWFjdFByb3BUeXBlTG9jYXRpb25zJyk7XG4gIHZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9IHJlcXVpcmUoJy4vUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMnKTtcbiAgdmFyIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0gcmVxdWlyZSgnLi9SZWFjdE5vb3BVcGRhdGVRdWV1ZScpO1xuICB2YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eU9iamVjdCcpO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciBrZXlNaXJyb3IgPSByZXF1aXJlKCdmYmpzL2xpYi9rZXlNaXJyb3InKTtcbiAgdmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBNSVhJTlNfS0VZID0ga2V5T2Yoe21peGluczogbnVsbH0pO1xuICB2YXIgU3BlY1BvbGljeSA9IGtleU1pcnJvcih7XG4gICAgREVGSU5FX09OQ0U6IG51bGwsXG4gICAgREVGSU5FX01BTlk6IG51bGwsXG4gICAgT1ZFUlJJREVfQkFTRTogbnVsbCxcbiAgICBERUZJTkVfTUFOWV9NRVJHRUQ6IG51bGxcbiAgfSk7XG4gIHZhciBpbmplY3RlZE1peGlucyA9IFtdO1xuICB2YXIgUmVhY3RDbGFzc0ludGVyZmFjZSA9IHtcbiAgICBtaXhpbnM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgc3RhdGljczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICBwcm9wVHlwZXM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgY29udGV4dFR5cGVzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgIGNoaWxkQ29udGV4dFR5cGVzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuICAgIGdldERlZmF1bHRQcm9wczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQsXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCxcbiAgICBnZXRDaGlsZENvbnRleHQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VELFxuICAgIHJlbmRlcjogU3BlY1BvbGljeS5ERUZJTkVfT05DRSxcbiAgICBjb21wb25lbnRXaWxsTW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgY29tcG9uZW50RGlkTW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGU6IFNwZWNQb2xpY3kuREVGSU5FX09OQ0UsXG4gICAgY29tcG9uZW50V2lsbFVwZGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcbiAgICBjb21wb25lbnREaWRVcGRhdGU6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG4gICAgdXBkYXRlQ29tcG9uZW50OiBTcGVjUG9saWN5Lk9WRVJSSURFX0JBU0VcbiAgfTtcbiAgdmFyIFJFU0VSVkVEX1NQRUNfS0VZUyA9IHtcbiAgICBkaXNwbGF5TmFtZTogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBDb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICAgIH0sXG4gICAgbWl4aW5zOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgbWl4aW5zKSB7XG4gICAgICBpZiAobWl4aW5zKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIG1peGluc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNoaWxkQ29udGV4dFR5cGVzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgY2hpbGRDb250ZXh0VHlwZXMpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgY2hpbGRDb250ZXh0VHlwZXMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY2hpbGRDb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIENvbnN0cnVjdG9yLmNoaWxkQ29udGV4dFR5cGVzID0gX2Fzc2lnbih7fSwgQ29uc3RydWN0b3IuY2hpbGRDb250ZXh0VHlwZXMsIGNoaWxkQ29udGV4dFR5cGVzKTtcbiAgICB9LFxuICAgIGNvbnRleHRUeXBlczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGNvbnRleHRUeXBlcykge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCBjb250ZXh0VHlwZXMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY29udGV4dCk7XG4gICAgICB9XG4gICAgICBDb25zdHJ1Y3Rvci5jb250ZXh0VHlwZXMgPSBfYXNzaWduKHt9LCBDb25zdHJ1Y3Rvci5jb250ZXh0VHlwZXMsIGNvbnRleHRUeXBlcyk7XG4gICAgfSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBnZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgIGlmIChDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzID0gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24oQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLCBnZXREZWZhdWx0UHJvcHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzID0gZ2V0RGVmYXVsdFByb3BzO1xuICAgICAgfVxuICAgIH0sXG4gICAgcHJvcFR5cGVzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgcHJvcFR5cGVzKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YWxpZGF0ZVR5cGVEZWYoQ29uc3RydWN0b3IsIHByb3BUeXBlcywgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5wcm9wKTtcbiAgICAgIH1cbiAgICAgIENvbnN0cnVjdG9yLnByb3BUeXBlcyA9IF9hc3NpZ24oe30sIENvbnN0cnVjdG9yLnByb3BUeXBlcywgcHJvcFR5cGVzKTtcbiAgICB9LFxuICAgIHN0YXRpY3M6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBzdGF0aWNzKSB7XG4gICAgICBtaXhTdGF0aWNTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3RhdGljcyk7XG4gICAgfSxcbiAgICBhdXRvYmluZDogZnVuY3Rpb24oKSB7fVxuICB9O1xuICBmdW5jdGlvbiB2YWxpZGF0ZVR5cGVEZWYoQ29uc3RydWN0b3IsIHR5cGVEZWYsIGxvY2F0aW9uKSB7XG4gICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gdHlwZURlZikge1xuICAgICAgaWYgKHR5cGVEZWYuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHR5cGVvZiB0eXBlRGVmW3Byb3BOYW1lXSA9PT0gJ2Z1bmN0aW9uJywgJyVzOiAlcyB0eXBlIGAlc2AgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gJyArICdSZWFjdC5Qcm9wVHlwZXMuJywgQ29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJ1JlYWN0Q2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdmFsaWRhdGVNZXRob2RPdmVycmlkZShpc0FscmVhZHlEZWZpbmVkLCBuYW1lKSB7XG4gICAgdmFyIHNwZWNQb2xpY3kgPSBSZWFjdENsYXNzSW50ZXJmYWNlLmhhc093blByb3BlcnR5KG5hbWUpID8gUmVhY3RDbGFzc0ludGVyZmFjZVtuYW1lXSA6IG51bGw7XG4gICAgaWYgKFJlYWN0Q2xhc3NNaXhpbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgIShzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5Lk9WRVJSSURFX0JBU0UpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3NJbnRlcmZhY2U6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBvdmVycmlkZSAnICsgJ2Alc2AgZnJvbSB5b3VyIGNsYXNzIHNwZWNpZmljYXRpb24uIEVuc3VyZSB0aGF0IHlvdXIgbWV0aG9kIG5hbWVzICcgKyAnZG8gbm90IG92ZXJsYXAgd2l0aCBSZWFjdCBtZXRob2RzLicsIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKGlzQWxyZWFkeURlZmluZWQpIHtcbiAgICAgICEoc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWSB8fCBzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzc0ludGVyZmFjZTogWW91IGFyZSBhdHRlbXB0aW5nIHRvIGRlZmluZSAnICsgJ2Alc2Agb24geW91ciBjb21wb25lbnQgbW9yZSB0aGFuIG9uY2UuIFRoaXMgY29uZmxpY3QgbWF5IGJlIGR1ZSAnICsgJ3RvIGEgbWl4aW4uJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBtaXhTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3BlYykge1xuICAgIGlmICghc3BlYykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAhKHR5cGVvZiBzcGVjICE9PSAnZnVuY3Rpb24nKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3VcXCdyZSBhdHRlbXB0aW5nIHRvICcgKyAndXNlIGEgY29tcG9uZW50IGNsYXNzIG9yIGZ1bmN0aW9uIGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgJyArICdyZWd1bGFyIG9iamVjdC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgISFSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoc3BlYykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzczogWW91XFwncmUgYXR0ZW1wdGluZyB0byAnICsgJ3VzZSBhIGNvbXBvbmVudCBhcyBhIG1peGluLiBJbnN0ZWFkLCBqdXN0IHVzZSBhIHJlZ3VsYXIgb2JqZWN0LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgcHJvdG8gPSBDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gICAgdmFyIGF1dG9CaW5kUGFpcnMgPSBwcm90by5fX3JlYWN0QXV0b0JpbmRQYWlycztcbiAgICBpZiAoc3BlYy5oYXNPd25Qcm9wZXJ0eShNSVhJTlNfS0VZKSkge1xuICAgICAgUkVTRVJWRURfU1BFQ19LRVlTLm1peGlucyhDb25zdHJ1Y3Rvciwgc3BlYy5taXhpbnMpO1xuICAgIH1cbiAgICBmb3IgKHZhciBuYW1lIGluIHNwZWMpIHtcbiAgICAgIGlmICghc3BlYy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChuYW1lID09PSBNSVhJTlNfS0VZKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BlcnR5ID0gc3BlY1tuYW1lXTtcbiAgICAgIHZhciBpc0FscmVhZHlEZWZpbmVkID0gcHJvdG8uaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgICB2YWxpZGF0ZU1ldGhvZE92ZXJyaWRlKGlzQWxyZWFkeURlZmluZWQsIG5hbWUpO1xuICAgICAgaWYgKFJFU0VSVkVEX1NQRUNfS0VZUy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBSRVNFUlZFRF9TUEVDX0tFWVNbbmFtZV0oQ29uc3RydWN0b3IsIHByb3BlcnR5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpc1JlYWN0Q2xhc3NNZXRob2QgPSBSZWFjdENsYXNzSW50ZXJmYWNlLmhhc093blByb3BlcnR5KG5hbWUpO1xuICAgICAgICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgdmFyIHNob3VsZEF1dG9CaW5kID0gaXNGdW5jdGlvbiAmJiAhaXNSZWFjdENsYXNzTWV0aG9kICYmICFpc0FscmVhZHlEZWZpbmVkICYmIHNwZWMuYXV0b2JpbmQgIT09IGZhbHNlO1xuICAgICAgICBpZiAoc2hvdWxkQXV0b0JpbmQpIHtcbiAgICAgICAgICBhdXRvQmluZFBhaXJzLnB1c2gobmFtZSwgcHJvcGVydHkpO1xuICAgICAgICAgIHByb3RvW25hbWVdID0gcHJvcGVydHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGlzQWxyZWFkeURlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBzcGVjUG9saWN5ID0gUmVhY3RDbGFzc0ludGVyZmFjZVtuYW1lXTtcbiAgICAgICAgICAgICEoaXNSZWFjdENsYXNzTWV0aG9kICYmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCB8fCBzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzczogVW5leHBlY3RlZCBzcGVjIHBvbGljeSAlcyBmb3Iga2V5ICVzICcgKyAnd2hlbiBtaXhpbmcgaW4gY29tcG9uZW50IHNwZWNzLicsIHNwZWNQb2xpY3ksIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCkge1xuICAgICAgICAgICAgICBwcm90b1tuYW1lXSA9IGNyZWF0ZU1lcmdlZFJlc3VsdEZ1bmN0aW9uKHByb3RvW25hbWVdLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTlkpIHtcbiAgICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBjcmVhdGVDaGFpbmVkRnVuY3Rpb24ocHJvdG9bbmFtZV0sIHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgPT09ICdmdW5jdGlvbicgJiYgc3BlYy5kaXNwbGF5TmFtZSkge1xuICAgICAgICAgICAgICAgIHByb3RvW25hbWVdLmRpc3BsYXlOYW1lID0gc3BlYy5kaXNwbGF5TmFtZSArICdfJyArIG5hbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWl4U3RhdGljU3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHN0YXRpY3MpIHtcbiAgICBpZiAoIXN0YXRpY3MpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yICh2YXIgbmFtZSBpbiBzdGF0aWNzKSB7XG4gICAgICB2YXIgcHJvcGVydHkgPSBzdGF0aWNzW25hbWVdO1xuICAgICAgaWYgKCFzdGF0aWNzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIGlzUmVzZXJ2ZWQgPSBuYW1lIGluIFJFU0VSVkVEX1NQRUNfS0VZUztcbiAgICAgICEhaXNSZXNlcnZlZCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gZGVmaW5lIGEgcmVzZXJ2ZWQgJyArICdwcm9wZXJ0eSwgYCVzYCwgdGhhdCBzaG91bGRuXFwndCBiZSBvbiB0aGUgXCJzdGF0aWNzXCIga2V5LiBEZWZpbmUgaXQgJyArICdhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBpbnN0ZWFkOyBpdCB3aWxsIHN0aWxsIGJlIGFjY2Vzc2libGUgb24gdGhlICcgKyAnY29uc3RydWN0b3IuJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIGlzSW5oZXJpdGVkID0gbmFtZSBpbiBDb25zdHJ1Y3RvcjtcbiAgICAgICEhaXNJbmhlcml0ZWQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzczogWW91IGFyZSBhdHRlbXB0aW5nIHRvIGRlZmluZSAnICsgJ2Alc2Agb24geW91ciBjb21wb25lbnQgbW9yZSB0aGFuIG9uY2UuIFRoaXMgY29uZmxpY3QgbWF5IGJlICcgKyAnZHVlIHRvIGEgbWl4aW4uJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgQ29uc3RydWN0b3JbbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhvbmUsIHR3bykge1xuICAgICEob25lICYmIHR3byAmJiB0eXBlb2Ygb25lID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdHdvID09PSAnb2JqZWN0JykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cygpOiBDYW5ub3QgbWVyZ2Ugbm9uLW9iamVjdHMuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGZvciAodmFyIGtleSBpbiB0d28pIHtcbiAgICAgIGlmICh0d28uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAhKG9uZVtrZXldID09PSB1bmRlZmluZWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ21lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoKTogJyArICdUcmllZCB0byBtZXJnZSB0d28gb2JqZWN0cyB3aXRoIHRoZSBzYW1lIGtleTogYCVzYC4gVGhpcyBjb25mbGljdCAnICsgJ21heSBiZSBkdWUgdG8gYSBtaXhpbjsgaW4gcGFydGljdWxhciwgdGhpcyBtYXkgYmUgY2F1c2VkIGJ5IHR3byAnICsgJ2dldEluaXRpYWxTdGF0ZSgpIG9yIGdldERlZmF1bHRQcm9wcygpIG1ldGhvZHMgcmV0dXJuaW5nIG9iamVjdHMgJyArICd3aXRoIGNsYXNoaW5nIGtleXMuJywga2V5KSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIG9uZVtrZXldID0gdHdvW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvbmU7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24ob25lLCB0d28pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkUmVzdWx0KCkge1xuICAgICAgdmFyIGEgPSBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHZhciBiID0gdHdvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBpZiAoYSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBiO1xuICAgICAgfSBlbHNlIGlmIChiID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9XG4gICAgICB2YXIgYyA9IHt9O1xuICAgICAgbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhjLCBhKTtcbiAgICAgIG1lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoYywgYik7XG4gICAgICByZXR1cm4gYztcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUNoYWluZWRGdW5jdGlvbihvbmUsIHR3bykge1xuICAgIHJldHVybiBmdW5jdGlvbiBjaGFpbmVkRnVuY3Rpb24oKSB7XG4gICAgICBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHR3by5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gYmluZEF1dG9CaW5kTWV0aG9kKGNvbXBvbmVudCwgbWV0aG9kKSB7XG4gICAgdmFyIGJvdW5kTWV0aG9kID0gbWV0aG9kLmJpbmQoY29tcG9uZW50KTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQ29udGV4dCA9IGNvbXBvbmVudDtcbiAgICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZE1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IG51bGw7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZTtcbiAgICAgIHZhciBfYmluZCA9IGJvdW5kTWV0aG9kLmJpbmQ7XG4gICAgICBib3VuZE1ldGhvZC5iaW5kID0gZnVuY3Rpb24obmV3VGhpcykge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksXG4gICAgICAgICAgICBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdUaGlzICE9PSBjb21wb25lbnQgJiYgbmV3VGhpcyAhPT0gbnVsbCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYmluZCgpOiBSZWFjdCBjb21wb25lbnQgbWV0aG9kcyBtYXkgb25seSBiZSBib3VuZCB0byB0aGUgJyArICdjb21wb25lbnQgaW5zdGFuY2UuIFNlZSAlcycsIGNvbXBvbmVudE5hbWUpIDogdm9pZCAwO1xuICAgICAgICB9IGVsc2UgaWYgKCFhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYmluZCgpOiBZb3UgYXJlIGJpbmRpbmcgYSBjb21wb25lbnQgbWV0aG9kIHRvIHRoZSBjb21wb25lbnQuICcgKyAnUmVhY3QgZG9lcyB0aGlzIGZvciB5b3UgYXV0b21hdGljYWxseSBpbiBhIGhpZ2gtcGVyZm9ybWFuY2UgJyArICd3YXksIHNvIHlvdSBjYW4gc2FmZWx5IHJlbW92ZSB0aGlzIGNhbGwuIFNlZSAlcycsIGNvbXBvbmVudE5hbWUpIDogdm9pZCAwO1xuICAgICAgICAgIHJldHVybiBib3VuZE1ldGhvZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVib3VuZE1ldGhvZCA9IF9iaW5kLmFwcGx5KGJvdW5kTWV0aG9kLCBhcmd1bWVudHMpO1xuICAgICAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZENvbnRleHQgPSBjb21wb25lbnQ7XG4gICAgICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kTWV0aG9kID0gbWV0aG9kO1xuICAgICAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IGFyZ3M7XG4gICAgICAgIHJldHVybiByZWJvdW5kTWV0aG9kO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGJvdW5kTWV0aG9kO1xuICB9XG4gIGZ1bmN0aW9uIGJpbmRBdXRvQmluZE1ldGhvZHMoY29tcG9uZW50KSB7XG4gICAgdmFyIHBhaXJzID0gY29tcG9uZW50Ll9fcmVhY3RBdXRvQmluZFBhaXJzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIHZhciBhdXRvQmluZEtleSA9IHBhaXJzW2ldO1xuICAgICAgdmFyIG1ldGhvZCA9IHBhaXJzW2kgKyAxXTtcbiAgICAgIGNvbXBvbmVudFthdXRvQmluZEtleV0gPSBiaW5kQXV0b0JpbmRNZXRob2QoY29tcG9uZW50LCBtZXRob2QpO1xuICAgIH1cbiAgfVxuICB2YXIgUmVhY3RDbGFzc01peGluID0ge1xuICAgIHJlcGxhY2VTdGF0ZTogZnVuY3Rpb24obmV3U3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVJlcGxhY2VTdGF0ZSh0aGlzLCBuZXdTdGF0ZSk7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVDYWxsYmFjayh0aGlzLCBjYWxsYmFjaywgJ3JlcGxhY2VTdGF0ZScpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXNNb3VudGVkOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZXIuaXNNb3VudGVkKHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgdmFyIFJlYWN0Q2xhc3NDb21wb25lbnQgPSBmdW5jdGlvbigpIHt9O1xuICBfYXNzaWduKFJlYWN0Q2xhc3NDb21wb25lbnQucHJvdG90eXBlLCBSZWFjdENvbXBvbmVudC5wcm90b3R5cGUsIFJlYWN0Q2xhc3NNaXhpbik7XG4gIHZhciBSZWFjdENsYXNzID0ge1xuICAgIGNyZWF0ZUNsYXNzOiBmdW5jdGlvbihzcGVjKSB7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSBmdW5jdGlvbihwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHRoaXMgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvciwgJ1NvbWV0aGluZyBpcyBjYWxsaW5nIGEgUmVhY3QgY29tcG9uZW50IGRpcmVjdGx5LiBVc2UgYSBmYWN0b3J5IG9yICcgKyAnSlNYIGluc3RlYWQuIFNlZTogaHR0cHM6Ly9mYi5tZS9yZWFjdC1sZWdhY3lmYWN0b3J5JykgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX19yZWFjdEF1dG9CaW5kUGFpcnMubGVuZ3RoKSB7XG4gICAgICAgICAgYmluZEF1dG9CaW5kTWV0aG9kcyh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgdmFyIGluaXRpYWxTdGF0ZSA9IHRoaXMuZ2V0SW5pdGlhbFN0YXRlID8gdGhpcy5nZXRJbml0aWFsU3RhdGUoKSA6IG51bGw7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGluaXRpYWxTdGF0ZSA9PT0gdW5kZWZpbmVkICYmIHRoaXMuZ2V0SW5pdGlhbFN0YXRlLl9pc01vY2tGdW5jdGlvbikge1xuICAgICAgICAgICAgaW5pdGlhbFN0YXRlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgISh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpbml0aWFsU3RhdGUpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcy5nZXRJbml0aWFsU3RhdGUoKTogbXVzdCByZXR1cm4gYW4gb2JqZWN0IG9yIG51bGwnLCBDb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgICB9O1xuICAgICAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gbmV3IFJlYWN0Q2xhc3NDb21wb25lbnQoKTtcbiAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgICAgQ29uc3RydWN0b3IucHJvdG90eXBlLl9fcmVhY3RBdXRvQmluZFBhaXJzID0gW107XG4gICAgICBpbmplY3RlZE1peGlucy5mb3JFYWNoKG1peFNwZWNJbnRvQ29tcG9uZW50LmJpbmQobnVsbCwgQ29uc3RydWN0b3IpKTtcbiAgICAgIG1peFNwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzcGVjKTtcbiAgICAgIGlmIChDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgQ29uc3RydWN0b3IuZGVmYXVsdFByb3BzID0gQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKCk7XG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRJbml0aWFsU3RhdGUpIHtcbiAgICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0SW5pdGlhbFN0YXRlLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICFDb25zdHJ1Y3Rvci5wcm90b3R5cGUucmVuZGVyID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2NyZWF0ZUNsYXNzKC4uLik6IENsYXNzIHNwZWNpZmljYXRpb24gbXVzdCBpbXBsZW1lbnQgYSBgcmVuZGVyYCBtZXRob2QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIUNvbnN0cnVjdG9yLnByb3RvdHlwZS5jb21wb25lbnRTaG91bGRVcGRhdGUsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50U2hvdWxkVXBkYXRlKCkuIERpZCB5b3UgbWVhbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKT8gJyArICdUaGUgbmFtZSBpcyBwaHJhc2VkIGFzIGEgcXVlc3Rpb24gYmVjYXVzZSB0aGUgZnVuY3Rpb24gaXMgJyArICdleHBlY3RlZCB0byByZXR1cm4gYSB2YWx1ZS4nLCBzcGVjLmRpc3BsYXlOYW1lIHx8ICdBIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghQ29uc3RydWN0b3IucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiBEaWQgeW91IG1lYW4gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpPycsIHNwZWMuZGlzcGxheU5hbWUgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBtZXRob2ROYW1lIGluIFJlYWN0Q2xhc3NJbnRlcmZhY2UpIHtcbiAgICAgICAgaWYgKCFDb25zdHJ1Y3Rvci5wcm90b3R5cGVbbWV0aG9kTmFtZV0pIHtcbiAgICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgfSxcbiAgICBpbmplY3Rpb246IHtpbmplY3RNaXhpbjogZnVuY3Rpb24obWl4aW4pIHtcbiAgICAgICAgaW5qZWN0ZWRNaXhpbnMucHVzaChtaXhpbik7XG4gICAgICB9fVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q2xhc3M7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogRXhlY3V0ZXMgdGhlIHByb3ZpZGVkIGBjYWxsYmFja2Agb25jZSBmb3IgZWFjaCBlbnVtZXJhYmxlIG93biBwcm9wZXJ0eSBpbiB0aGVcbiAqIG9iamVjdCBhbmQgY29uc3RydWN0cyBhIG5ldyBvYmplY3QgZnJvbSB0aGUgcmVzdWx0cy4gVGhlIGBjYWxsYmFja2AgaXNcbiAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gKlxuICogIC0gdGhlIHByb3BlcnR5IHZhbHVlXG4gKiAgLSB0aGUgcHJvcGVydHkgbmFtZVxuICogIC0gdGhlIG9iamVjdCBiZWluZyB0cmF2ZXJzZWRcbiAqXG4gKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGFkZGVkIGFmdGVyIHRoZSBjYWxsIHRvIGBtYXBPYmplY3RgIHdpbGwgbm90IGJlIHZpc2l0ZWRcbiAqIGJ5IGBjYWxsYmFja2AuIElmIHRoZSB2YWx1ZXMgb2YgZXhpc3RpbmcgcHJvcGVydGllcyBhcmUgY2hhbmdlZCwgdGhlIHZhbHVlXG4gKiBwYXNzZWQgdG8gYGNhbGxiYWNrYCB3aWxsIGJlIHRoZSB2YWx1ZSBhdCB0aGUgdGltZSBgbWFwT2JqZWN0YCB2aXNpdHMgdGhlbS5cbiAqIFByb3BlcnRpZXMgdGhhdCBhcmUgZGVsZXRlZCBiZWZvcmUgYmVpbmcgdmlzaXRlZCBhcmUgbm90IHZpc2l0ZWQuXG4gKlxuICogQGdyZXAgZnVuY3Rpb24gb2JqZWN0TWFwKClcbiAqIEBncmVwIGZ1bmN0aW9uIG9iak1hcCgpXG4gKlxuICogQHBhcmFtIHs/b2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IGNvbnRleHRcbiAqIEByZXR1cm4gez9vYmplY3R9XG4gKi9cbmZ1bmN0aW9uIG1hcE9iamVjdChvYmplY3QsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gIGlmICghb2JqZWN0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmb3IgKHZhciBuYW1lIGluIG9iamVjdCkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgbmFtZSkpIHtcbiAgICAgIHJlc3VsdFtuYW1lXSA9IGNhbGxiYWNrLmNhbGwoY29udGV4dCwgb2JqZWN0W25hbWVdLCBuYW1lLCBvYmplY3QpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcE9iamVjdDsiLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG4gIHZhciBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudFZhbGlkYXRvcicpO1xuICB2YXIgbWFwT2JqZWN0ID0gcmVxdWlyZSgnZmJqcy9saWIvbWFwT2JqZWN0Jyk7XG4gIGZ1bmN0aW9uIGNyZWF0ZURPTUZhY3RvcnkodGFnKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRmFjdG9yeSh0YWcpO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3RFbGVtZW50LmNyZWF0ZUZhY3RvcnkodGFnKTtcbiAgfVxuICB2YXIgUmVhY3RET01GYWN0b3JpZXMgPSBtYXBPYmplY3Qoe1xuICAgIGE6ICdhJyxcbiAgICBhYmJyOiAnYWJicicsXG4gICAgYWRkcmVzczogJ2FkZHJlc3MnLFxuICAgIGFyZWE6ICdhcmVhJyxcbiAgICBhcnRpY2xlOiAnYXJ0aWNsZScsXG4gICAgYXNpZGU6ICdhc2lkZScsXG4gICAgYXVkaW86ICdhdWRpbycsXG4gICAgYjogJ2InLFxuICAgIGJhc2U6ICdiYXNlJyxcbiAgICBiZGk6ICdiZGknLFxuICAgIGJkbzogJ2JkbycsXG4gICAgYmlnOiAnYmlnJyxcbiAgICBibG9ja3F1b3RlOiAnYmxvY2txdW90ZScsXG4gICAgYm9keTogJ2JvZHknLFxuICAgIGJyOiAnYnInLFxuICAgIGJ1dHRvbjogJ2J1dHRvbicsXG4gICAgY2FudmFzOiAnY2FudmFzJyxcbiAgICBjYXB0aW9uOiAnY2FwdGlvbicsXG4gICAgY2l0ZTogJ2NpdGUnLFxuICAgIGNvZGU6ICdjb2RlJyxcbiAgICBjb2w6ICdjb2wnLFxuICAgIGNvbGdyb3VwOiAnY29sZ3JvdXAnLFxuICAgIGRhdGE6ICdkYXRhJyxcbiAgICBkYXRhbGlzdDogJ2RhdGFsaXN0JyxcbiAgICBkZDogJ2RkJyxcbiAgICBkZWw6ICdkZWwnLFxuICAgIGRldGFpbHM6ICdkZXRhaWxzJyxcbiAgICBkZm46ICdkZm4nLFxuICAgIGRpYWxvZzogJ2RpYWxvZycsXG4gICAgZGl2OiAnZGl2JyxcbiAgICBkbDogJ2RsJyxcbiAgICBkdDogJ2R0JyxcbiAgICBlbTogJ2VtJyxcbiAgICBlbWJlZDogJ2VtYmVkJyxcbiAgICBmaWVsZHNldDogJ2ZpZWxkc2V0JyxcbiAgICBmaWdjYXB0aW9uOiAnZmlnY2FwdGlvbicsXG4gICAgZmlndXJlOiAnZmlndXJlJyxcbiAgICBmb290ZXI6ICdmb290ZXInLFxuICAgIGZvcm06ICdmb3JtJyxcbiAgICBoMTogJ2gxJyxcbiAgICBoMjogJ2gyJyxcbiAgICBoMzogJ2gzJyxcbiAgICBoNDogJ2g0JyxcbiAgICBoNTogJ2g1JyxcbiAgICBoNjogJ2g2JyxcbiAgICBoZWFkOiAnaGVhZCcsXG4gICAgaGVhZGVyOiAnaGVhZGVyJyxcbiAgICBoZ3JvdXA6ICdoZ3JvdXAnLFxuICAgIGhyOiAnaHInLFxuICAgIGh0bWw6ICdodG1sJyxcbiAgICBpOiAnaScsXG4gICAgaWZyYW1lOiAnaWZyYW1lJyxcbiAgICBpbWc6ICdpbWcnLFxuICAgIGlucHV0OiAnaW5wdXQnLFxuICAgIGluczogJ2lucycsXG4gICAga2JkOiAna2JkJyxcbiAgICBrZXlnZW46ICdrZXlnZW4nLFxuICAgIGxhYmVsOiAnbGFiZWwnLFxuICAgIGxlZ2VuZDogJ2xlZ2VuZCcsXG4gICAgbGk6ICdsaScsXG4gICAgbGluazogJ2xpbmsnLFxuICAgIG1haW46ICdtYWluJyxcbiAgICBtYXA6ICdtYXAnLFxuICAgIG1hcms6ICdtYXJrJyxcbiAgICBtZW51OiAnbWVudScsXG4gICAgbWVudWl0ZW06ICdtZW51aXRlbScsXG4gICAgbWV0YTogJ21ldGEnLFxuICAgIG1ldGVyOiAnbWV0ZXInLFxuICAgIG5hdjogJ25hdicsXG4gICAgbm9zY3JpcHQ6ICdub3NjcmlwdCcsXG4gICAgb2JqZWN0OiAnb2JqZWN0JyxcbiAgICBvbDogJ29sJyxcbiAgICBvcHRncm91cDogJ29wdGdyb3VwJyxcbiAgICBvcHRpb246ICdvcHRpb24nLFxuICAgIG91dHB1dDogJ291dHB1dCcsXG4gICAgcDogJ3AnLFxuICAgIHBhcmFtOiAncGFyYW0nLFxuICAgIHBpY3R1cmU6ICdwaWN0dXJlJyxcbiAgICBwcmU6ICdwcmUnLFxuICAgIHByb2dyZXNzOiAncHJvZ3Jlc3MnLFxuICAgIHE6ICdxJyxcbiAgICBycDogJ3JwJyxcbiAgICBydDogJ3J0JyxcbiAgICBydWJ5OiAncnVieScsXG4gICAgczogJ3MnLFxuICAgIHNhbXA6ICdzYW1wJyxcbiAgICBzY3JpcHQ6ICdzY3JpcHQnLFxuICAgIHNlY3Rpb246ICdzZWN0aW9uJyxcbiAgICBzZWxlY3Q6ICdzZWxlY3QnLFxuICAgIHNtYWxsOiAnc21hbGwnLFxuICAgIHNvdXJjZTogJ3NvdXJjZScsXG4gICAgc3BhbjogJ3NwYW4nLFxuICAgIHN0cm9uZzogJ3N0cm9uZycsXG4gICAgc3R5bGU6ICdzdHlsZScsXG4gICAgc3ViOiAnc3ViJyxcbiAgICBzdW1tYXJ5OiAnc3VtbWFyeScsXG4gICAgc3VwOiAnc3VwJyxcbiAgICB0YWJsZTogJ3RhYmxlJyxcbiAgICB0Ym9keTogJ3Rib2R5JyxcbiAgICB0ZDogJ3RkJyxcbiAgICB0ZXh0YXJlYTogJ3RleHRhcmVhJyxcbiAgICB0Zm9vdDogJ3Rmb290JyxcbiAgICB0aDogJ3RoJyxcbiAgICB0aGVhZDogJ3RoZWFkJyxcbiAgICB0aW1lOiAndGltZScsXG4gICAgdGl0bGU6ICd0aXRsZScsXG4gICAgdHI6ICd0cicsXG4gICAgdHJhY2s6ICd0cmFjaycsXG4gICAgdTogJ3UnLFxuICAgIHVsOiAndWwnLFxuICAgICd2YXInOiAndmFyJyxcbiAgICB2aWRlbzogJ3ZpZGVvJyxcbiAgICB3YnI6ICd3YnInLFxuICAgIGNpcmNsZTogJ2NpcmNsZScsXG4gICAgY2xpcFBhdGg6ICdjbGlwUGF0aCcsXG4gICAgZGVmczogJ2RlZnMnLFxuICAgIGVsbGlwc2U6ICdlbGxpcHNlJyxcbiAgICBnOiAnZycsXG4gICAgaW1hZ2U6ICdpbWFnZScsXG4gICAgbGluZTogJ2xpbmUnLFxuICAgIGxpbmVhckdyYWRpZW50OiAnbGluZWFyR3JhZGllbnQnLFxuICAgIG1hc2s6ICdtYXNrJyxcbiAgICBwYXRoOiAncGF0aCcsXG4gICAgcGF0dGVybjogJ3BhdHRlcm4nLFxuICAgIHBvbHlnb246ICdwb2x5Z29uJyxcbiAgICBwb2x5bGluZTogJ3BvbHlsaW5lJyxcbiAgICByYWRpYWxHcmFkaWVudDogJ3JhZGlhbEdyYWRpZW50JyxcbiAgICByZWN0OiAncmVjdCcsXG4gICAgc3RvcDogJ3N0b3AnLFxuICAgIHN2ZzogJ3N2ZycsXG4gICAgdGV4dDogJ3RleHQnLFxuICAgIHRzcGFuOiAndHNwYW4nXG4gIH0sIGNyZWF0ZURPTUZhY3RvcnkpO1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NRmFjdG9yaWVzO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnLi9pbnZhcmlhbnQnKTtcbiAgdmFyIGtleU1pcnJvciA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciByZXQgPSB7fTtcbiAgICB2YXIga2V5O1xuICAgICEob2JqIGluc3RhbmNlb2YgT2JqZWN0ICYmICFBcnJheS5pc0FycmF5KG9iaikpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2tleU1pcnJvciguLi4pOiBBcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmV0W2tleV0gPSBrZXk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIG1vZHVsZS5leHBvcnRzID0ga2V5TWlycm9yO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFByb3BUeXBlTG9jYXRpb25zXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIga2V5TWlycm9yID0gcmVxdWlyZSgnZmJqcy9saWIva2V5TWlycm9yJyk7XG5cbnZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0ga2V5TWlycm9yKHtcbiAgcHJvcDogbnVsbCxcbiAgY29udGV4dDogbnVsbCxcbiAgY2hpbGRDb250ZXh0OiBudWxsXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25zOyIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbiAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbnMnKTtcbiAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0gcmVxdWlyZSgnLi9SZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcycpO1xuICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKCcuL1JlYWN0Q3VycmVudE93bmVyJyk7XG4gIHZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vY2FuRGVmaW5lUHJvcGVydHknKTtcbiAgdmFyIGdldEl0ZXJhdG9yRm4gPSByZXF1aXJlKCcuL2dldEl0ZXJhdG9yRm4nKTtcbiAgdmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuICB2YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbiAgZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkge1xuICAgIGlmIChSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgICB2YXIgbmFtZSA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQuZ2V0TmFtZSgpO1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB7fTtcbiAgdmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuICBmdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgICBpZiAoIWVsZW1lbnQuX3N0b3JlIHx8IGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCB8fCBlbGVtZW50LmtleSAhPSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdmFyIGFkZGVuZGEgPSBnZXRBZGRlbmRhRm9yS2V5VXNlKCd1bmlxdWVLZXknLCBlbGVtZW50LCBwYXJlbnRUeXBlKTtcbiAgICBpZiAoYWRkZW5kYSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0VhY2ggY2hpbGQgaW4gYW4gYXJyYXkgb3IgaXRlcmF0b3Igc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLicgKyAnJXMlcyVzJywgYWRkZW5kYS5wYXJlbnRPck93bmVyIHx8ICcnLCBhZGRlbmRhLmNoaWxkT3duZXIgfHwgJycsIGFkZGVuZGEudXJsIHx8ICcnKSA6IHZvaWQgMDtcbiAgfVxuICBmdW5jdGlvbiBnZXRBZGRlbmRhRm9yS2V5VXNlKG1lc3NhZ2VUeXBlLCBlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gICAgdmFyIGFkZGVuZHVtID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgaWYgKCFhZGRlbmR1bSkge1xuICAgICAgdmFyIHBhcmVudE5hbWUgPSB0eXBlb2YgcGFyZW50VHlwZSA9PT0gJ3N0cmluZycgPyBwYXJlbnRUeXBlIDogcGFyZW50VHlwZS5kaXNwbGF5TmFtZSB8fCBwYXJlbnRUeXBlLm5hbWU7XG4gICAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgICBhZGRlbmR1bSA9ICcgQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8JyArIHBhcmVudE5hbWUgKyAnPi4nO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbWVtb2l6ZXIgPSBvd25lckhhc0tleVVzZVdhcm5pbmdbbWVzc2FnZVR5cGVdIHx8IChvd25lckhhc0tleVVzZVdhcm5pbmdbbWVzc2FnZVR5cGVdID0ge30pO1xuICAgIGlmIChtZW1vaXplclthZGRlbmR1bV0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBtZW1vaXplclthZGRlbmR1bV0gPSB0cnVlO1xuICAgIHZhciBhZGRlbmRhID0ge1xuICAgICAgcGFyZW50T3JPd25lcjogYWRkZW5kdW0sXG4gICAgICB1cmw6ICcgU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsXG4gICAgICBjaGlsZE93bmVyOiBudWxsXG4gICAgfTtcbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgYWRkZW5kYS5jaGlsZE93bmVyID0gJyBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSAnICsgZWxlbWVudC5fb3duZXIuZ2V0TmFtZSgpICsgJy4nO1xuICAgIH1cbiAgICByZXR1cm4gYWRkZW5kYTtcbiAgfVxuICBmdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gICAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG4gICAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgaWYgKG5vZGUuX3N0b3JlKSB7XG4gICAgICAgIG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG4gICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShzdGVwLnZhbHVlLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gY2hlY2tQcm9wVHlwZXMoY29tcG9uZW50TmFtZSwgcHJvcFR5cGVzLCBwcm9wcywgbG9jYXRpb24pIHtcbiAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBwcm9wVHlwZXMpIHtcbiAgICAgIGlmIChwcm9wVHlwZXMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAhKHR5cGVvZiBwcm9wVHlwZXNbcHJvcE5hbWVdID09PSAnZnVuY3Rpb24nKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgKyAnUmVhY3QuUHJvcFR5cGVzLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dLCBwcm9wTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIGVycm9yID0gcHJvcFR5cGVzW3Byb3BOYW1lXShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uKTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBlcnJvciA9IGV4O1xuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFlcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIEVycm9yLCAnJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcyBgJXNgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAlcy4gJyArICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICsgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lLCB0eXBlb2YgZXJyb3IpIDogdm9pZCAwO1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvci5tZXNzYWdlXSA9IHRydWU7XG4gICAgICAgICAgdmFyIGFkZGVuZHVtID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdGYWlsZWQgcHJvcFR5cGU6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCkge1xuICAgIHZhciBjb21wb25lbnRDbGFzcyA9IGVsZW1lbnQudHlwZTtcbiAgICBpZiAodHlwZW9mIGNvbXBvbmVudENsYXNzICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBuYW1lID0gY29tcG9uZW50Q2xhc3MuZGlzcGxheU5hbWUgfHwgY29tcG9uZW50Q2xhc3MubmFtZTtcbiAgICBpZiAoY29tcG9uZW50Q2xhc3MucHJvcFR5cGVzKSB7XG4gICAgICBjaGVja1Byb3BUeXBlcyhuYW1lLCBjb21wb25lbnRDbGFzcy5wcm9wVHlwZXMsIGVsZW1lbnQucHJvcHMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMucHJvcCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tcG9uZW50Q2xhc3MuZ2V0RGVmYXVsdFByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhjb21wb25lbnRDbGFzcy5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQsICdnZXREZWZhdWx0UHJvcHMgaXMgb25seSB1c2VkIG9uIGNsYXNzaWMgUmVhY3QuY3JlYXRlQ2xhc3MgJyArICdkZWZpbml0aW9ucy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IG5hbWVkIGBkZWZhdWx0UHJvcHNgIGluc3RlYWQuJykgOiB2b2lkIDA7XG4gICAgfVxuICB9XG4gIHZhciBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgPSB7XG4gICAgY3JlYXRlRWxlbWVudDogZnVuY3Rpb24odHlwZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gICAgICB2YXIgdmFsaWRUeXBlID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nO1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodmFsaWRUeXBlLCAnUmVhY3QuY3JlYXRlRWxlbWVudDogdHlwZSBzaG91bGQgbm90IGJlIG51bGwsIHVuZGVmaW5lZCwgYm9vbGVhbiwgb3IgJyArICdudW1iZXIuIEl0IHNob3VsZCBiZSBhIHN0cmluZyAoZm9yIERPTSBlbGVtZW50cykgb3IgYSBSZWFjdENsYXNzICcgKyAnKGZvciBjb21wb3NpdGUgY29tcG9uZW50cykuJXMnLCBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSkgOiB2b2lkIDA7XG4gICAgICB2YXIgZWxlbWVudCA9IFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfVxuICAgICAgaWYgKHZhbGlkVHlwZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1tpXSwgdHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhbGlkYXRlUHJvcFR5cGVzKGVsZW1lbnQpO1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfSxcbiAgICBjcmVhdGVGYWN0b3J5OiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICB2YXIgdmFsaWRhdGVkRmFjdG9yeSA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVFbGVtZW50LmJpbmQobnVsbCwgdHlwZSk7XG4gICAgICB2YWxpZGF0ZWRGYWN0b3J5LnR5cGUgPSB0eXBlO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbGlkYXRlZEZhY3RvcnksICd0eXBlJywge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ZhY3RvcnkudHlwZSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdGhlIGNsYXNzIGRpcmVjdGx5ICcgKyAnYmVmb3JlIHBhc3NpbmcgaXQgdG8gY3JlYXRlRmFjdG9yeS4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0eXBlJywge3ZhbHVlOiB0eXBlfSk7XG4gICAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsaWRhdGVkRmFjdG9yeTtcbiAgICB9LFxuICAgIGNsb25lRWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gICAgICB2YXIgbmV3RWxlbWVudCA9IFJlYWN0RWxlbWVudC5jbG9uZUVsZW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1tpXSwgbmV3RWxlbWVudC50eXBlKTtcbiAgICAgIH1cbiAgICAgIHZhbGlkYXRlUHJvcFR5cGVzKG5ld0VsZW1lbnQpO1xuICAgICAgcmV0dXJuIG5ld0VsZW1lbnQ7XG4gICAgfVxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RWxlbWVudFZhbGlkYXRvcjtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0ge307XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSB7XG4gICAgICBwcm9wOiAncHJvcCcsXG4gICAgICBjb250ZXh0OiAnY29udGV4dCcsXG4gICAgICBjaGlsZENvbnRleHQ6ICdjaGlsZCBjb250ZXh0J1xuICAgIH07XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcztcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZ2V0SXRlcmF0b3JGblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyogZ2xvYmFsIFN5bWJvbCAqL1xuXG52YXIgSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG52YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpdGVyYXRvciBtZXRob2QgZnVuY3Rpb24gY29udGFpbmVkIG9uIHRoZSBpdGVyYWJsZSBvYmplY3QuXG4gKlxuICogQmUgc3VyZSB0byBpbnZva2UgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGl0ZXJhYmxlIGFzIGNvbnRleHQ6XG4gKlxuICogICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihteUl0ZXJhYmxlKTtcbiAqICAgICBpZiAoaXRlcmF0b3JGbikge1xuICogICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG15SXRlcmFibGUpO1xuICogICAgICAgLi4uXG4gKiAgICAgfVxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gbWF5YmVJdGVyYWJsZVxuICogQHJldHVybiB7P2Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgdmFyIGl0ZXJhdG9yRm4gPSBtYXliZUl0ZXJhYmxlICYmIChJVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtJVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdKTtcbiAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRJdGVyYXRvckZuOyIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG52YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzJyk7XG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcbnZhciBnZXRJdGVyYXRvckZuID0gcmVxdWlyZSgnLi9nZXRJdGVyYXRvckZuJyk7XG52YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xudmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICBhcnJheTogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2FycmF5JyksXG4gIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG4gIGZ1bmM6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdmdW5jdGlvbicpLFxuICBudW1iZXI6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdudW1iZXInKSxcbiAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG4gIHN0cmluZzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N0cmluZycpLFxuICBhbnk6IGNyZWF0ZUFueVR5cGVDaGVja2VyKCksXG4gIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcbiAgZWxlbWVudDogY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCksXG4gIGluc3RhbmNlT2Y6IGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIsXG4gIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG4gIG9iamVjdE9mOiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyLFxuICBvbmVPZjogY3JlYXRlRW51bVR5cGVDaGVja2VyLFxuICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG4gIHNoYXBlOiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyXG59O1xuZnVuY3Rpb24gaXMoeCwgeSkge1xuICBpZiAoeCA9PT0geSkge1xuICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSkge1xuICBmdW5jdGlvbiBjaGVja1R5cGUoaXNSZXF1aXJlZCwgcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuICAgIHByb3BGdWxsTmFtZSA9IHByb3BGdWxsTmFtZSB8fCBwcm9wTmFtZTtcbiAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICBpZiAoaXNSZXF1aXJlZCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdSZXF1aXJlZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHdhcyBub3Qgc3BlY2lmaWVkIGluICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKTtcbiAgICB9XG4gIH1cbiAgdmFyIGNoYWluZWRDaGVja1R5cGUgPSBjaGVja1R5cGUuYmluZChudWxsLCBmYWxzZSk7XG4gIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuICByZXR1cm4gY2hhaW5lZENoZWNrVHlwZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKGV4cGVjdGVkVHlwZSkge1xuICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICB2YXIgcHJlY2lzZVR5cGUgPSBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpO1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcmVjaXNlVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnYCcgKyBleHBlY3RlZFR5cGUgKyAnYC4nKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpIHtcbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMobnVsbCkpO1xufVxuZnVuY3Rpb24gY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBhcnJheU9mLicpO1xuICAgIH1cbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gYXJyYXkuJykpO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBpLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJ1snICsgaSArICddJyk7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGlmICghUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgc2luZ2xlIFJlYWN0RWxlbWVudC4nKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgaWYgKCEocHJvcHNbcHJvcE5hbWVdIGluc3RhbmNlb2YgZXhwZWN0ZWRDbGFzcykpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICB2YXIgZXhwZWN0ZWRDbGFzc05hbWUgPSBleHBlY3RlZENsYXNzLm5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgdmFyIGFjdHVhbENsYXNzTmFtZSA9IGdldENsYXNzTmFtZShwcm9wc1twcm9wTmFtZV0pO1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBhY3R1YWxDbGFzc05hbWUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2luc3RhbmNlIG9mIGAnICsgZXhwZWN0ZWRDbGFzc05hbWUgKyAnYC4nKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIoZXhwZWN0ZWRWYWx1ZXMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGV4cGVjdGVkVmFsdWVzKSkge1xuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcihmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3RlZFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGlzKHByb3BWYWx1ZSwgZXhwZWN0ZWRWYWx1ZXNbaV0pKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcyk7XG4gICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHZhbHVlIGAnICsgcHJvcFZhbHVlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIG9uZSBvZiAnICsgdmFsdWVzU3RyaW5nICsgJy4nKSk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIG9iamVjdE9mLicpO1xuICAgIH1cbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gb2JqZWN0LicpKTtcbiAgICB9XG4gICAgZm9yICh2YXIga2V5IGluIHByb3BWYWx1ZSkge1xuICAgICAgaWYgKHByb3BWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5KTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIoYXJyYXlPZlR5cGVDaGVja2Vycykge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXlPZlR5cGVDaGVja2VycykpIHtcbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJyk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG4gICAgICBpZiAoY2hlY2tlcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLicpKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGlmICghaXNOb2RlKHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgUmVhY3ROb2RlLicpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIoc2hhcGVUeXBlcykge1xuICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuICAgIH1cbiAgICBmb3IgKHZhciBrZXkgaW4gc2hhcGVUeXBlcykge1xuICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG4gICAgICBpZiAoIWNoZWNrZXIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5KTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5mdW5jdGlvbiBpc05vZGUocHJvcFZhbHVlKSB7XG4gIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gIXByb3BWYWx1ZTtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICByZXR1cm4gcHJvcFZhbHVlLmV2ZXJ5KGlzTm9kZSk7XG4gICAgICB9XG4gICAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8IFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKHByb3BWYWx1ZSk7XG4gICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwocHJvcFZhbHVlKTtcbiAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgIGlmICghaXNOb2RlKHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICBpZiAoIWlzTm9kZShlbnRyeVsxXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFByb3BUeXBlKHByb3BWYWx1ZSkge1xuICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgcmV0dXJuICdhcnJheSc7XG4gIH1cbiAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgIHJldHVybiAnb2JqZWN0JztcbiAgfVxuICByZXR1cm4gcHJvcFR5cGU7XG59XG5mdW5jdGlvbiBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpIHtcbiAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgaWYgKHByb3BUeXBlID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICByZXR1cm4gJ2RhdGUnO1xuICAgIH0gZWxzZSBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICByZXR1cm4gJ3JlZ2V4cCc7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wVHlwZTtcbn1cbmZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcbiAgaWYgKCFwcm9wVmFsdWUuY29uc3RydWN0b3IgfHwgIXByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgcmV0dXJuIEFOT05ZTU9VUztcbiAgfVxuICByZXR1cm4gcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWU7XG59XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0VmVyc2lvblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSAnMTUuMS4wJzsiLCIvKiAqLyBcbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5wbTpvYmplY3QtYXNzaWduQDQuMS4wL2luZGV4XCIpOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdEN1cnJlbnRPd25lclxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiB0aGUgY3VycmVudCBvd25lci5cbiAqXG4gKiBUaGUgY3VycmVudCBvd25lciBpcyB0aGUgY29tcG9uZW50IHdobyBzaG91bGQgb3duIGFueSBjb21wb25lbnRzIHRoYXQgYXJlXG4gKiBjdXJyZW50bHkgYmVpbmcgY29uc3RydWN0ZWQuXG4gKi9cblxudmFyIFJlYWN0Q3VycmVudE93bmVyID0ge1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHR5cGUge1JlYWN0Q29tcG9uZW50fVxuICAgKi9cbiAgY3VycmVudDogbnVsbFxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q3VycmVudE93bmVyOyIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSBmYWxzZTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAneCcsIHtnZXQ6IGZ1bmN0aW9uKCkge319KTtcbiAgICAgIGNhbkRlZmluZVByb3BlcnR5ID0gdHJ1ZTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gY2FuRGVmaW5lUHJvcGVydHk7XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuICB2YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKCcuL1JlYWN0Q3VycmVudE93bmVyJyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL2NhbkRlZmluZVByb3BlcnR5Jyk7XG4gIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbFsnZm9yJ10gJiYgU3ltYm9sWydmb3InXSgncmVhY3QuZWxlbWVudCcpIHx8IDB4ZWFjNztcbiAgdmFyIFJFU0VSVkVEX1BST1BTID0ge1xuICAgIGtleTogdHJ1ZSxcbiAgICByZWY6IHRydWUsXG4gICAgX19zZWxmOiB0cnVlLFxuICAgIF9fc291cmNlOiB0cnVlXG4gIH07XG4gIHZhciBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bixcbiAgICAgIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duO1xuICB2YXIgUmVhY3RFbGVtZW50ID0gZnVuY3Rpb24odHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgb3duZXIsIHByb3BzKSB7XG4gICAgdmFyIGVsZW1lbnQgPSB7XG4gICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGtleToga2V5LFxuICAgICAgcmVmOiByZWYsXG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBfb3duZXI6IG93bmVyXG4gICAgfTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgZWxlbWVudC5fc3RvcmUgPSB7fTtcbiAgICAgIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NlbGYnLCB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgdmFsdWU6IHNlbGZcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NvdXJjZScsIHtcbiAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICB2YWx1ZTogc291cmNlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkID0gZmFsc2U7XG4gICAgICAgIGVsZW1lbnQuX3NlbGYgPSBzZWxmO1xuICAgICAgICBlbGVtZW50Ll9zb3VyY2UgPSBzb3VyY2U7XG4gICAgICB9XG4gICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfTtcbiAgUmVhY3RFbGVtZW50LmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbih0eXBlLCBjb25maWcsIGNoaWxkcmVuKSB7XG4gICAgdmFyIHByb3BOYW1lO1xuICAgIHZhciBwcm9wcyA9IHt9O1xuICAgIHZhciBrZXkgPSBudWxsO1xuICAgIHZhciByZWYgPSBudWxsO1xuICAgIHZhciBzZWxmID0gbnVsbDtcbiAgICB2YXIgc291cmNlID0gbnVsbDtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGNvbmZpZy5fX3Byb3RvX18gPT0gbnVsbCB8fCBjb25maWcuX19wcm90b19fID09PSBPYmplY3QucHJvdG90eXBlLCAnUmVhY3QuY3JlYXRlRWxlbWVudCguLi4pOiBFeHBlY3RlZCBwcm9wcyBhcmd1bWVudCB0byBiZSBhIHBsYWluIG9iamVjdC4gJyArICdQcm9wZXJ0aWVzIGRlZmluZWQgaW4gaXRzIHByb3RvdHlwZSBjaGFpbiB3aWxsIGJlIGlnbm9yZWQuJykgOiB2b2lkIDA7XG4gICAgICAgIHJlZiA9ICFjb25maWcuaGFzT3duUHJvcGVydHkoJ3JlZicpIHx8IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAncmVmJykuZ2V0ID8gbnVsbCA6IGNvbmZpZy5yZWY7XG4gICAgICAgIGtleSA9ICFjb25maWcuaGFzT3duUHJvcGVydHkoJ2tleScpIHx8IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAna2V5JykuZ2V0ID8gbnVsbCA6ICcnICsgY29uZmlnLmtleTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlZiA9IGNvbmZpZy5yZWYgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcucmVmO1xuICAgICAgICBrZXkgPSBjb25maWcua2V5ID09PSB1bmRlZmluZWQgPyBudWxsIDogJycgKyBjb25maWcua2V5O1xuICAgICAgfVxuICAgICAgc2VsZiA9IGNvbmZpZy5fX3NlbGYgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zZWxmO1xuICAgICAgc291cmNlID0gY29uZmlnLl9fc291cmNlID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnLl9fc291cmNlO1xuICAgICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gICAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICBjaGlsZEFycmF5W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICAgIH1cbiAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgICB9XG4gICAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpIHtcbiAgICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlLmRlZmF1bHRQcm9wcztcbiAgICAgIGZvciAocHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvcHMuJCR0eXBlb2YgPT09ICd1bmRlZmluZWQnIHx8IHByb3BzLiQkdHlwZW9mICE9PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgaWYgKCFwcm9wcy5oYXNPd25Qcm9wZXJ0eSgna2V5JykpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdrZXknLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoIXNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duKSB7XG4gICAgICAgICAgICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL2ZiLm1lL3JlYWN0LXNwZWNpYWwtcHJvcHMpJywgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgJiYgJ2Rpc3BsYXlOYW1lJyBpbiB0eXBlID8gdHlwZS5kaXNwbGF5TmFtZSA6ICdFbGVtZW50JykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXByb3BzLmhhc093blByb3BlcnR5KCdyZWYnKSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ3JlZicsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICghc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24pIHtcbiAgICAgICAgICAgICAgICBzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICclczogYHJlZmAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vZmIubWUvcmVhY3Qtc3BlY2lhbC1wcm9wcyknLCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiAnZGlzcGxheU5hbWUnIGluIHR5cGUgPyB0eXBlLmRpc3BsYXlOYW1lIDogJ0VsZW1lbnQnKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xuICB9O1xuICBSZWFjdEVsZW1lbnQuY3JlYXRlRmFjdG9yeSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICB2YXIgZmFjdG9yeSA9IFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50LmJpbmQobnVsbCwgdHlwZSk7XG4gICAgZmFjdG9yeS50eXBlID0gdHlwZTtcbiAgICByZXR1cm4gZmFjdG9yeTtcbiAgfTtcbiAgUmVhY3RFbGVtZW50LmNsb25lQW5kUmVwbGFjZUtleSA9IGZ1bmN0aW9uKG9sZEVsZW1lbnQsIG5ld0tleSkge1xuICAgIHZhciBuZXdFbGVtZW50ID0gUmVhY3RFbGVtZW50KG9sZEVsZW1lbnQudHlwZSwgbmV3S2V5LCBvbGRFbGVtZW50LnJlZiwgb2xkRWxlbWVudC5fc2VsZiwgb2xkRWxlbWVudC5fc291cmNlLCBvbGRFbGVtZW50Ll9vd25lciwgb2xkRWxlbWVudC5wcm9wcyk7XG4gICAgcmV0dXJuIG5ld0VsZW1lbnQ7XG4gIH07XG4gIFJlYWN0RWxlbWVudC5jbG9uZUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjb25maWcsIGNoaWxkcmVuKSB7XG4gICAgdmFyIHByb3BOYW1lO1xuICAgIHZhciBwcm9wcyA9IF9hc3NpZ24oe30sIGVsZW1lbnQucHJvcHMpO1xuICAgIHZhciBrZXkgPSBlbGVtZW50LmtleTtcbiAgICB2YXIgcmVmID0gZWxlbWVudC5yZWY7XG4gICAgdmFyIHNlbGYgPSBlbGVtZW50Ll9zZWxmO1xuICAgIHZhciBzb3VyY2UgPSBlbGVtZW50Ll9zb3VyY2U7XG4gICAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhjb25maWcuX19wcm90b19fID09IG51bGwgfHwgY29uZmlnLl9fcHJvdG9fXyA9PT0gT2JqZWN0LnByb3RvdHlwZSwgJ1JlYWN0LmNsb25lRWxlbWVudCguLi4pOiBFeHBlY3RlZCBwcm9wcyBhcmd1bWVudCB0byBiZSBhIHBsYWluIG9iamVjdC4gJyArICdQcm9wZXJ0aWVzIGRlZmluZWQgaW4gaXRzIHByb3RvdHlwZSBjaGFpbiB3aWxsIGJlIGlnbm9yZWQuJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnLnJlZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gICAgICAgIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAga2V5ID0gJycgKyBjb25maWcua2V5O1xuICAgICAgfVxuICAgICAgdmFyIGRlZmF1bHRQcm9wcztcbiAgICAgIGlmIChlbGVtZW50LnR5cGUgJiYgZWxlbWVudC50eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgICBkZWZhdWx0UHJvcHMgPSBlbGVtZW50LnR5cGUuZGVmYXVsdFByb3BzO1xuICAgICAgfVxuICAgICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgIGlmIChjb25maWdbcHJvcE5hbWVdID09PSB1bmRlZmluZWQgJiYgZGVmYXVsdFByb3BzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICAgIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgICB9XG4gICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gICAgfVxuICAgIHJldHVybiBSZWFjdEVsZW1lbnQoZWxlbWVudC50eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpO1xuICB9O1xuICBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RWxlbWVudDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICB2YXIgZXJyb3I7XG4gICAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICAgIH0pKTtcbiAgICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgIH1cbiAgICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuICBtb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgZnVuY3Rpb24gb25seUNoaWxkKGNoaWxkcmVuKSB7XG4gICAgIVJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnb25seUNoaWxkIG11c3QgYmUgcGFzc2VkIGEgY2hpbGRyZW4gd2l0aCBleGFjdGx5IG9uZSBjaGlsZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gb25seUNoaWxkO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKi9cblxuZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW5kIGRpc2NhcmRzIGlucHV0czsgaXQgaGFzIG5vIHNpZGUgZWZmZWN0cy4gVGhpcyBpc1xuICogcHJpbWFyaWx5IHVzZWZ1bCBpZGlvbWF0aWNhbGx5IGZvciBvdmVycmlkYWJsZSBmdW5jdGlvbiBlbmRwb2ludHMgd2hpY2hcbiAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG4gKi9cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fVxuXG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UgPSBtYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUaGlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQgPSBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9lbXB0eUZ1bmN0aW9uJyk7XG4gIHZhciB3YXJuaW5nID0gZW1wdHlGdW5jdGlvbjtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgIGFyZ3MgPSBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksXG4gICAgICAgICAgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChmb3JtYXQuaW5kZXhPZignRmFpbGVkIENvbXBvc2l0ZSBwcm9wVHlwZTogJykgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbiAgdmFyIFJlYWN0Q2hpbGRyZW4gPSByZXF1aXJlKCcuL1JlYWN0Q2hpbGRyZW4nKTtcbiAgdmFyIFJlYWN0Q29tcG9uZW50ID0gcmVxdWlyZSgnLi9SZWFjdENvbXBvbmVudCcpO1xuICB2YXIgUmVhY3RDbGFzcyA9IHJlcXVpcmUoJy4vUmVhY3RDbGFzcycpO1xuICB2YXIgUmVhY3RET01GYWN0b3JpZXMgPSByZXF1aXJlKCcuL1JlYWN0RE9NRmFjdG9yaWVzJyk7XG4gIHZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudCcpO1xuICB2YXIgUmVhY3RFbGVtZW50VmFsaWRhdG9yID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnRWYWxpZGF0b3InKTtcbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0gcmVxdWlyZSgnLi9SZWFjdFByb3BUeXBlcycpO1xuICB2YXIgUmVhY3RWZXJzaW9uID0gcmVxdWlyZSgnLi9SZWFjdFZlcnNpb24nKTtcbiAgdmFyIG9ubHlDaGlsZCA9IHJlcXVpcmUoJy4vb25seUNoaWxkJyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgY3JlYXRlRWxlbWVudCA9IFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50O1xuICB2YXIgY3JlYXRlRmFjdG9yeSA9IFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5O1xuICB2YXIgY2xvbmVFbGVtZW50ID0gUmVhY3RFbGVtZW50LmNsb25lRWxlbWVudDtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBjcmVhdGVFbGVtZW50ID0gUmVhY3RFbGVtZW50VmFsaWRhdG9yLmNyZWF0ZUVsZW1lbnQ7XG4gICAgY3JlYXRlRmFjdG9yeSA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVGYWN0b3J5O1xuICAgIGNsb25lRWxlbWVudCA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jbG9uZUVsZW1lbnQ7XG4gIH1cbiAgdmFyIF9fc3ByZWFkID0gX2Fzc2lnbjtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgd2FybmVkID0gZmFsc2U7XG4gICAgX19zcHJlYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHdhcm5lZCwgJ1JlYWN0Ll9fc3ByZWFkIGlzIGRlcHJlY2F0ZWQgYW5kIHNob3VsZCBub3QgYmUgdXNlZC4gVXNlICcgKyAnT2JqZWN0LmFzc2lnbiBkaXJlY3RseSBvciBhbm90aGVyIGhlbHBlciBmdW5jdGlvbiB3aXRoIHNpbWlsYXIgJyArICdzZW1hbnRpY3MuIFlvdSBtYXkgYmUgc2VlaW5nIHRoaXMgd2FybmluZyBkdWUgdG8geW91ciBjb21waWxlci4gJyArICdTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1zcHJlYWQtZGVwcmVjYXRpb24gZm9yIG1vcmUgZGV0YWlscy4nKSA6IHZvaWQgMDtcbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgICByZXR1cm4gX2Fzc2lnbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cbiAgdmFyIFJlYWN0ID0ge1xuICAgIENoaWxkcmVuOiB7XG4gICAgICBtYXA6IFJlYWN0Q2hpbGRyZW4ubWFwLFxuICAgICAgZm9yRWFjaDogUmVhY3RDaGlsZHJlbi5mb3JFYWNoLFxuICAgICAgY291bnQ6IFJlYWN0Q2hpbGRyZW4uY291bnQsXG4gICAgICB0b0FycmF5OiBSZWFjdENoaWxkcmVuLnRvQXJyYXksXG4gICAgICBvbmx5OiBvbmx5Q2hpbGRcbiAgICB9LFxuICAgIENvbXBvbmVudDogUmVhY3RDb21wb25lbnQsXG4gICAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudCxcbiAgICBjbG9uZUVsZW1lbnQ6IGNsb25lRWxlbWVudCxcbiAgICBpc1ZhbGlkRWxlbWVudDogUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50LFxuICAgIFByb3BUeXBlczogUmVhY3RQcm9wVHlwZXMsXG4gICAgY3JlYXRlQ2xhc3M6IFJlYWN0Q2xhc3MuY3JlYXRlQ2xhc3MsXG4gICAgY3JlYXRlRmFjdG9yeTogY3JlYXRlRmFjdG9yeSxcbiAgICBjcmVhdGVNaXhpbjogZnVuY3Rpb24obWl4aW4pIHtcbiAgICAgIHJldHVybiBtaXhpbjtcbiAgICB9LFxuICAgIERPTTogUmVhY3RET01GYWN0b3JpZXMsXG4gICAgdmVyc2lvbjogUmVhY3RWZXJzaW9uLFxuICAgIF9fc3ByZWFkOiBfX3NwcmVhZFxuICB9O1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9SZWFjdCcpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibnBtOnJlYWN0QDE1LjEuMC9yZWFjdC5qc1wiKTsiLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5jb25zdCBmb290ZXJMaW5rcyA9IFt7XG4gIGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vZnJvbnRlbmRici9mb3J1bScsXG4gIHRpdGxlOiAnQWNlc3NvIG5vc3NvIGbDs3J1bScsXG4gIGNvbnRlbnQ6ICdGw7NydW0nXG59LCB7XG4gIGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vZnJvbnRlbmRici92YWdhcycsXG4gIHRpdGxlOiAnUHVibGlxdWUgb3UgZW5jb250cmUgdW1hIHZhZ2EnLFxuICBjb250ZW50OiAnVmFnYXMnXG59XVxuXG5jb25zdCBNYWluRm9vdGVyID0gKCkgPT4gKFxuICA8Zm9vdGVyIGNsYXNzTmFtZT0nZm9vdGVyJyByb2xlPSdjb250ZW50aW5mbyc+XG4gICAgPGRpdiBjbGFzc05hbWU9J2Zvb3Rlci1pbm5lcic+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nY29udGFpbmVyLWZsZXgnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZm9vdGVyLWlubmVyLS1tYWluJz5cbiAgICAgICAgICA8cD5Fc3NlIHByb2pldG8gw6kgdW1hIGluaWNpYXRpdmEgZGEgb3JnYW5pemHDp8OjbyB7JyAnfVxuICAgICAgICAgICAgPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL2Zyb250ZW5kYnInPlxuICAgICAgICAgICAgICBGcm9udC1FbmQgQnJhc2lsIGRvIEdpdEh1Yi5cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8dWwgY2xhc3NOYW1lPSdmb290ZXItaW5uZXItLW5hdic+XG4gICAgICAgICAge2Zvb3RlckxpbmtzLm1hcCgoeyBocmVmLCB0aXRsZSwgY29udGVudCB9KSA9PiAoXG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT0nYnRuLWxpbmsnIGhyZWY9e2hyZWZ9IHRpdGxlPXt0aXRsZX0+XG4gICAgICAgICAgICAgICAge2NvbnRlbnR9XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3NOYW1lPSdmb290ZXItaG9sZCc+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nY29udGFpbmVyJz5cbiAgICAgICAgPHA+XG4gICAgICAgICAgJmNvcHk7IDIwMTYgeycgJ31cbiAgICAgICAgICA8YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vZnJvbnRlbmRici8nPlxuICAgICAgICAgICAgRnJvbnQtRW5kIEJyYXNpbFxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZm9vdGVyPlxuXG4pXG5cbmV4cG9ydCBkZWZhdWx0IE1haW5Gb290ZXJcbiIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgTWFpbkhlYWRlciBmcm9tICcuL21haW4taGVhZGVyJ1xuaW1wb3J0IE1haW5Db250ZW50IGZyb20gJy4uL21haW4tY29udGVudC9pbmRleCdcbmltcG9ydCBNYWluRm9vdGVyIGZyb20gJy4vbWFpbi1mb290ZXInXG5cbmNvbnN0IEFwcCA9ICgpID0+IChcbiAgPGRpdj5cbiAgICA8TWFpbkhlYWRlciAvPlxuICAgIDxNYWluQ29udGVudCAvPlxuICAgIDxNYWluRm9vdGVyIC8+XG4gIDwvZGl2PlxuKVxuXG5leHBvcnQgZGVmYXVsdCBBcHBcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN5bWJvbE9ic2VydmFibGVQb255ZmlsbChyb290KSB7XG5cdHZhciByZXN1bHQ7XG5cdHZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxuXHRpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGlmIChTeW1ib2wub2JzZXJ2YWJsZSkge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sLm9ic2VydmFibGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbCgnb2JzZXJ2YWJsZScpO1xuXHRcdFx0U3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn07XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9wb255ZmlsbCcpKGdsb2JhbCB8fCB3aW5kb3cgfHwgdGhpcyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJucG06c3ltYm9sLW9ic2VydmFibGVAMC4yLjQvaW5kZXhcIik7IiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkFjdGlvblR5cGVzID0gdW5kZWZpbmVkO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjcmVhdGVTdG9yZTtcblxudmFyIF9pc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnbG9kYXNoL2lzUGxhaW5PYmplY3QnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuXG52YXIgX3N5bWJvbE9ic2VydmFibGUgPSByZXF1aXJlKCdzeW1ib2wtb2JzZXJ2YWJsZScpO1xuXG52YXIgX3N5bWJvbE9ic2VydmFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sT2JzZXJ2YWJsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG4vKipcbiAqIFRoZXNlIGFyZSBwcml2YXRlIGFjdGlvbiB0eXBlcyByZXNlcnZlZCBieSBSZWR1eC5cbiAqIEZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB5b3UgbXVzdCByZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUuXG4gKiBJZiB0aGUgY3VycmVudCBzdGF0ZSBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS5cbiAqIERvIG5vdCByZWZlcmVuY2UgdGhlc2UgYWN0aW9uIHR5cGVzIGRpcmVjdGx5IGluIHlvdXIgY29kZS5cbiAqL1xudmFyIEFjdGlvblR5cGVzID0gZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHtcbiAgSU5JVDogJ0BAcmVkdXgvSU5JVCdcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIFJlZHV4IHN0b3JlIHRoYXQgaG9sZHMgdGhlIHN0YXRlIHRyZWUuXG4gKiBUaGUgb25seSB3YXkgdG8gY2hhbmdlIHRoZSBkYXRhIGluIHRoZSBzdG9yZSBpcyB0byBjYWxsIGBkaXNwYXRjaCgpYCBvbiBpdC5cbiAqXG4gKiBUaGVyZSBzaG91bGQgb25seSBiZSBhIHNpbmdsZSBzdG9yZSBpbiB5b3VyIGFwcC4gVG8gc3BlY2lmeSBob3cgZGlmZmVyZW50XG4gKiBwYXJ0cyBvZiB0aGUgc3RhdGUgdHJlZSByZXNwb25kIHRvIGFjdGlvbnMsIHlvdSBtYXkgY29tYmluZSBzZXZlcmFsIHJlZHVjZXJzXG4gKiBpbnRvIGEgc2luZ2xlIHJlZHVjZXIgZnVuY3Rpb24gYnkgdXNpbmcgYGNvbWJpbmVSZWR1Y2Vyc2AuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVkdWNlciBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbmV4dCBzdGF0ZSB0cmVlLCBnaXZlblxuICogdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGFjdGlvbiB0byBoYW5kbGUuXG4gKlxuICogQHBhcmFtIHthbnl9IFtpbml0aWFsU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gaHlkcmF0ZSB0aGUgc3RhdGUgZnJvbSB0aGUgc2VydmVyIGluIHVuaXZlcnNhbCBhcHBzLCBvciB0byByZXN0b3JlIGFcbiAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG4gKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG4gKiBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZSBhcyBgY29tYmluZVJlZHVjZXJzYCBrZXlzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVuaGFuY2VyIFRoZSBzdG9yZSBlbmhhbmNlci4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGVuaGFuY2UgdGhlIHN0b3JlIHdpdGggdGhpcmQtcGFydHkgY2FwYWJpbGl0aWVzIHN1Y2ggYXMgbWlkZGxld2FyZSxcbiAqIHRpbWUgdHJhdmVsLCBwZXJzaXN0ZW5jZSwgZXRjLiBUaGUgb25seSBzdG9yZSBlbmhhbmNlciB0aGF0IHNoaXBzIHdpdGggUmVkdXhcbiAqIGlzIGBhcHBseU1pZGRsZXdhcmUoKWAuXG4gKlxuICogQHJldHVybnMge1N0b3JlfSBBIFJlZHV4IHN0b3JlIHRoYXQgbGV0cyB5b3UgcmVhZCB0aGUgc3RhdGUsIGRpc3BhdGNoIGFjdGlvbnNcbiAqIGFuZCBzdWJzY3JpYmUgdG8gY2hhbmdlcy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuICB2YXIgX3JlZjI7XG5cbiAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuICAgIGVuaGFuY2VyID0gaW5pdGlhbFN0YXRlO1xuICAgIGluaXRpYWxTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW5oYW5jZXIoY3JlYXRlU3RvcmUpKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgY3VycmVudFJlZHVjZXIgPSByZWR1Y2VyO1xuICB2YXIgY3VycmVudFN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICB2YXIgY3VycmVudExpc3RlbmVycyA9IFtdO1xuICB2YXIgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnM7XG4gIHZhciBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpIHtcbiAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuICAgICAgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG4gICAqXG4gICAqIEByZXR1cm5zIHthbnl9IFRoZSBjdXJyZW50IHN0YXRlIHRyZWUgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGNoYW5nZSBsaXN0ZW5lci4gSXQgd2lsbCBiZSBjYWxsZWQgYW55IHRpbWUgYW4gYWN0aW9uIGlzIGRpc3BhdGNoZWQsXG4gICAqIGFuZCBzb21lIHBhcnQgb2YgdGhlIHN0YXRlIHRyZWUgbWF5IHBvdGVudGlhbGx5IGhhdmUgY2hhbmdlZC4gWW91IG1heSB0aGVuXG4gICAqIGNhbGwgYGdldFN0YXRlKClgIHRvIHJlYWQgdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBpbnNpZGUgdGhlIGNhbGxiYWNrLlxuICAgKlxuICAgKiBZb3UgbWF5IGNhbGwgYGRpc3BhdGNoKClgIGZyb20gYSBjaGFuZ2UgbGlzdGVuZXIsIHdpdGggdGhlIGZvbGxvd2luZ1xuICAgKiBjYXZlYXRzOlxuICAgKlxuICAgKiAxLiBUaGUgc3Vic2NyaXB0aW9ucyBhcmUgc25hcHNob3R0ZWQganVzdCBiZWZvcmUgZXZlcnkgYGRpc3BhdGNoKClgIGNhbGwuXG4gICAqIElmIHlvdSBzdWJzY3JpYmUgb3IgdW5zdWJzY3JpYmUgd2hpbGUgdGhlIGxpc3RlbmVycyBhcmUgYmVpbmcgaW52b2tlZCwgdGhpc1xuICAgKiB3aWxsIG5vdCBoYXZlIGFueSBlZmZlY3Qgb24gdGhlIGBkaXNwYXRjaCgpYCB0aGF0IGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcy5cbiAgICogSG93ZXZlciwgdGhlIG5leHQgYGRpc3BhdGNoKClgIGNhbGwsIHdoZXRoZXIgbmVzdGVkIG9yIG5vdCwgd2lsbCB1c2UgYSBtb3JlXG4gICAqIHJlY2VudCBzbmFwc2hvdCBvZiB0aGUgc3Vic2NyaXB0aW9uIGxpc3QuXG4gICAqXG4gICAqIDIuIFRoZSBsaXN0ZW5lciBzaG91bGQgbm90IGV4cGVjdCB0byBzZWUgYWxsIHN0YXRlIGNoYW5nZXMsIGFzIHRoZSBzdGF0ZVxuICAgKiBtaWdodCBoYXZlIGJlZW4gdXBkYXRlZCBtdWx0aXBsZSB0aW1lcyBkdXJpbmcgYSBuZXN0ZWQgYGRpc3BhdGNoKClgIGJlZm9yZVxuICAgKiB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkLiBJdCBpcywgaG93ZXZlciwgZ3VhcmFudGVlZCB0aGF0IGFsbCBzdWJzY3JpYmVyc1xuICAgKiByZWdpc3RlcmVkIGJlZm9yZSB0aGUgYGRpc3BhdGNoKClgIHN0YXJ0ZWQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgbGF0ZXN0XG4gICAqIHN0YXRlIGJ5IHRoZSB0aW1lIGl0IGV4aXRzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBBIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgb24gZXZlcnkgZGlzcGF0Y2guXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0byByZW1vdmUgdGhpcyBjaGFuZ2UgbGlzdGVuZXIuXG4gICAqL1xuICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG5cbiAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgbmV4dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2U7XG5cbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBuZXh0TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGFuIGFjdGlvbi4gSXQgaXMgdGhlIG9ubHkgd2F5IHRvIHRyaWdnZXIgYSBzdGF0ZSBjaGFuZ2UuXG4gICAqXG4gICAqIFRoZSBgcmVkdWNlcmAgZnVuY3Rpb24sIHVzZWQgdG8gY3JlYXRlIHRoZSBzdG9yZSwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcbiAgICogY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgZ2l2ZW4gYGFjdGlvbmAuIEl0cyByZXR1cm4gdmFsdWUgd2lsbFxuICAgKiBiZSBjb25zaWRlcmVkIHRoZSAqKm5leHQqKiBzdGF0ZSBvZiB0aGUgdHJlZSwgYW5kIHRoZSBjaGFuZ2UgbGlzdGVuZXJzXG4gICAqIHdpbGwgYmUgbm90aWZpZWQuXG4gICAqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9ubHkgc3VwcG9ydHMgcGxhaW4gb2JqZWN0IGFjdGlvbnMuIElmIHlvdSB3YW50IHRvXG4gICAqIGRpc3BhdGNoIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZSwgYSB0aHVuaywgb3Igc29tZXRoaW5nIGVsc2UsIHlvdSBuZWVkIHRvXG4gICAqIHdyYXAgeW91ciBzdG9yZSBjcmVhdGluZyBmdW5jdGlvbiBpbnRvIHRoZSBjb3JyZXNwb25kaW5nIG1pZGRsZXdhcmUuIEZvclxuICAgKiBleGFtcGxlLCBzZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIHRoZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UuIEV2ZW4gdGhlXG4gICAqIG1pZGRsZXdhcmUgd2lsbCBldmVudHVhbGx5IGRpc3BhdGNoIHBsYWluIG9iamVjdCBhY3Rpb25zIHVzaW5nIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWN0aW9uIEEgcGxhaW4gb2JqZWN0IHJlcHJlc2VudGluZyDigJx3aGF0IGNoYW5nZWTigJ0uIEl0IGlzXG4gICAqIGEgZ29vZCBpZGVhIHRvIGtlZXAgYWN0aW9ucyBzZXJpYWxpemFibGUgc28geW91IGNhbiByZWNvcmQgYW5kIHJlcGxheSB1c2VyXG4gICAqIHNlc3Npb25zLCBvciB1c2UgdGhlIHRpbWUgdHJhdmVsbGluZyBgcmVkdXgtZGV2dG9vbHNgLiBBbiBhY3Rpb24gbXVzdCBoYXZlXG4gICAqIGEgYHR5cGVgIHByb3BlcnR5IHdoaWNoIG1heSBub3QgYmUgYHVuZGVmaW5lZGAuIEl0IGlzIGEgZ29vZCBpZGVhIHRvIHVzZVxuICAgKiBzdHJpbmcgY29uc3RhbnRzIGZvciBhY3Rpb24gdHlwZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEZvciBjb252ZW5pZW5jZSwgdGhlIHNhbWUgYWN0aW9uIG9iamVjdCB5b3UgZGlzcGF0Y2hlZC5cbiAgICpcbiAgICogTm90ZSB0aGF0LCBpZiB5b3UgdXNlIGEgY3VzdG9tIG1pZGRsZXdhcmUsIGl0IG1heSB3cmFwIGBkaXNwYXRjaCgpYCB0b1xuICAgKiByZXR1cm4gc29tZXRoaW5nIGVsc2UgKGZvciBleGFtcGxlLCBhIFByb21pc2UgeW91IGNhbiBhd2FpdCkuXG4gICAqL1xuICBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbXCJkZWZhdWx0XCJdKShhY3Rpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiAnICsgJ1VzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbi50eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuICcgKyAnSGF2ZSB5b3UgbWlzc3BlbGxlZCBhIGNvbnN0YW50PycpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXJzIG1heSBub3QgZGlzcGF0Y2ggYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG4gICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50UmVkdWNlcihjdXJyZW50U3RhdGUsIGFjdGlvbik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycyA9IG5leHRMaXN0ZW5lcnM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxpc3RlbmVyc1tpXSgpO1xuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb247XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgdGhlIHJlZHVjZXIgY3VycmVudGx5IHVzZWQgYnkgdGhlIHN0b3JlIHRvIGNhbGN1bGF0ZSB0aGUgc3RhdGUuXG4gICAqXG4gICAqIFlvdSBtaWdodCBuZWVkIHRoaXMgaWYgeW91ciBhcHAgaW1wbGVtZW50cyBjb2RlIHNwbGl0dGluZyBhbmQgeW91IHdhbnQgdG9cbiAgICogbG9hZCBzb21lIG9mIHRoZSByZWR1Y2VycyBkeW5hbWljYWxseS4gWW91IG1pZ2h0IGFsc28gbmVlZCB0aGlzIGlmIHlvdVxuICAgKiBpbXBsZW1lbnQgYSBob3QgcmVsb2FkaW5nIG1lY2hhbmlzbSBmb3IgUmVkdXguXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHRSZWR1Y2VyIFRoZSByZWR1Y2VyIGZvciB0aGUgc3RvcmUgdG8gdXNlIGluc3RlYWQuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXIpIHtcbiAgICBpZiAodHlwZW9mIG5leHRSZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBuZXh0UmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGN1cnJlbnRSZWR1Y2VyID0gbmV4dFJlZHVjZXI7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVyb3BlcmFiaWxpdHkgcG9pbnQgZm9yIG9ic2VydmFibGUvcmVhY3RpdmUgbGlicmFyaWVzLlxuICAgKiBAcmV0dXJucyB7b2JzZXJ2YWJsZX0gQSBtaW5pbWFsIG9ic2VydmFibGUgb2Ygc3RhdGUgY2hhbmdlcy5cbiAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgb2JzZXJ2YWJsZSBwcm9wb3NhbDpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL3plbnBhcnNpbmcvZXMtb2JzZXJ2YWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gb2JzZXJ2YWJsZSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBvdXRlclN1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICByZXR1cm4gX3JlZiA9IHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIG1pbmltYWwgb2JzZXJ2YWJsZSBzdWJzY3JpcHRpb24gbWV0aG9kLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9ic2VydmVyIEFueSBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBhcyBhbiBvYnNlcnZlci5cbiAgICAgICAqIFRoZSBvYnNlcnZlciBvYmplY3Qgc2hvdWxkIGhhdmUgYSBgbmV4dGAgbWV0aG9kLlxuICAgICAgICogQHJldHVybnMge3N1YnNjcmlwdGlvbn0gQW4gb2JqZWN0IHdpdGggYW4gYHVuc3Vic2NyaWJlYCBtZXRob2QgdGhhdCBjYW5cbiAgICAgICAqIGJlIHVzZWQgdG8gdW5zdWJzY3JpYmUgdGhlIG9ic2VydmFibGUgZnJvbSB0aGUgc3RvcmUsIGFuZCBwcmV2ZW50IGZ1cnRoZXJcbiAgICAgICAqIGVtaXNzaW9uIG9mIHZhbHVlcyBmcm9tIHRoZSBvYnNlcnZhYmxlLlxuICAgICAgICovXG5cbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9ic2VydmVTdGF0ZSgpIHtcbiAgICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChnZXRTdGF0ZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBvYnNlcnZlU3RhdGUoKTtcbiAgICAgICAgdmFyIHVuc3Vic2NyaWJlID0gb3V0ZXJTdWJzY3JpYmUob2JzZXJ2ZVN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHsgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlIH07XG4gICAgICB9XG4gICAgfSwgX3JlZltfc3ltYm9sT2JzZXJ2YWJsZTJbXCJkZWZhdWx0XCJdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIF9yZWY7XG4gIH1cblxuICAvLyBXaGVuIGEgc3RvcmUgaXMgY3JlYXRlZCwgYW4gXCJJTklUXCIgYWN0aW9uIGlzIGRpc3BhdGNoZWQgc28gdGhhdCBldmVyeVxuICAvLyByZWR1Y2VyIHJldHVybnMgdGhlaXIgaW5pdGlhbCBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cbiAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuXG4gIHJldHVybiBfcmVmMiA9IHtcbiAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgc3Vic2NyaWJlOiBzdWJzY3JpYmUsXG4gICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgIHJlcGxhY2VSZWR1Y2VyOiByZXBsYWNlUmVkdWNlclxuICB9LCBfcmVmMltfc3ltYm9sT2JzZXJ2YWJsZTJbXCJkZWZhdWx0XCJdXSA9IG9ic2VydmFibGUsIF9yZWYyO1xufSIsIi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cbi8qKlxuICogR2V0cyB0aGUgYFtbUHJvdG90eXBlXV1gIG9mIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge251bGx8T2JqZWN0fSBSZXR1cm5zIHRoZSBgW1tQcm90b3R5cGVdXWAuXG4gKi9cbmZ1bmN0aW9uIGdldFByb3RvdHlwZSh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlR2V0UHJvdG90eXBlKE9iamVjdCh2YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFByb3RvdHlwZTtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3NcbiAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNIb3N0T2JqZWN0O1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIiwiLyogKi8gXG52YXIgZ2V0UHJvdG90eXBlID0gcmVxdWlyZSgnLi9fZ2V0UHJvdG90eXBlJyksXG4gICAgaXNIb3N0T2JqZWN0ID0gcmVxdWlyZSgnLi9faXNIb3N0T2JqZWN0JyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcbnZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG52YXIgZnVuY1RvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpICE9IG9iamVjdFRhZyB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJiBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcbiIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbWJpbmVSZWR1Y2VycztcbiAgdmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoJy4vY3JlYXRlU3RvcmUnKTtcbiAgdmFyIF9pc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnbG9kYXNoL2lzUGxhaW5PYmplY3QnKTtcbiAgdmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuICB2YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuL3V0aWxzL3dhcm5pbmcnKTtcbiAgdmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XCJkZWZhdWx0XCI6IG9ian07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pIHtcbiAgICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgICB2YXIgYWN0aW9uTmFtZSA9IGFjdGlvblR5cGUgJiYgJ1wiJyArIGFjdGlvblR5cGUudG9TdHJpbmcoKSArICdcIicgfHwgJ2FuIGFjdGlvbic7XG4gICAgcmV0dXJuICdHaXZlbiBhY3Rpb24gJyArIGFjdGlvbk5hbWUgKyAnLCByZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQuICcgKyAnVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLic7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShpbnB1dFN0YXRlLCByZWR1Y2VycywgYWN0aW9uKSB7XG4gICAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICAgIHZhciBhcmd1bWVudE5hbWUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09IF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUID8gJ2luaXRpYWxTdGF0ZSBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU3RvcmUnIDogJ3ByZXZpb3VzIHN0YXRlIHJlY2VpdmVkIGJ5IHRoZSByZWR1Y2VyJztcbiAgICBpZiAocmVkdWNlcktleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuICAgIH1cbiAgICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbXCJkZWZhdWx0XCJdKShpbnB1dFN0YXRlKSkge1xuICAgICAgcmV0dXJuICdUaGUgJyArIGFyZ3VtZW50TmFtZSArICcgaGFzIHVuZXhwZWN0ZWQgdHlwZSBvZiBcIicgKyB7fS50b1N0cmluZy5jYWxsKGlucHV0U3RhdGUpLm1hdGNoKC9cXHMoW2EtenxBLVpdKykvKVsxXSArICdcIi4gRXhwZWN0ZWQgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyAnICsgKCdrZXlzOiBcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIicpO1xuICAgIH1cbiAgICB2YXIgdW5leHBlY3RlZEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gIXJlZHVjZXJzLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgfSk7XG4gICAgaWYgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiAnVW5leHBlY3RlZCAnICsgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDEgPyAna2V5cycgOiAna2V5JykgKyAnICcgKyAoJ1wiJyArIHVuZXhwZWN0ZWRLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiIGZvdW5kIGluICcgKyBhcmd1bWVudE5hbWUgKyAnLiAnKSArICdFeHBlY3RlZCB0byBmaW5kIG9uZSBvZiB0aGUga25vd24gcmVkdWNlciBrZXlzIGluc3RlYWQ6ICcgKyAoJ1wiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiLiBVbmV4cGVjdGVkIGtleXMgd2lsbCBiZSBpZ25vcmVkLicpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2FuaXR5KHJlZHVjZXJzKSB7XG4gICAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG4gICAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHt0eXBlOiBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVH0pO1xuICAgICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gJyArICdJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgJyArICdleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5ICcgKyAnbm90IGJlIHVuZGVmaW5lZC4nKTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gJ0BAcmVkdXgvUFJPQkVfVU5LTk9XTl9BQ1RJT05fJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KS5zcGxpdCgnJykuam9pbignLicpO1xuICAgICAgaWYgKHR5cGVvZiByZWR1Y2VyKHVuZGVmaW5lZCwge3R5cGU6IHR5cGV9KSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiAnICsgKCdEb25cXCd0IHRyeSB0byBoYW5kbGUgJyArIF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUICsgJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiICcpICsgJ25hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlICcgKyAnY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgJyArICdpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgJyArICdhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gY29tYmluZVJlZHVjZXJzKHJlZHVjZXJzKSB7XG4gICAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICAgIHZhciBmaW5hbFJlZHVjZXJzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IHJlZHVjZXJLZXlzW2ldO1xuICAgICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZpbmFsUmVkdWNlcnNba2V5XSA9IHJlZHVjZXJzW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBmaW5hbFJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMoZmluYWxSZWR1Y2Vycyk7XG4gICAgdmFyIHNhbml0eUVycm9yO1xuICAgIHRyeSB7XG4gICAgICBhc3NlcnRSZWR1Y2VyU2FuaXR5KGZpbmFsUmVkdWNlcnMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNhbml0eUVycm9yID0gZTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNvbWJpbmF0aW9uKCkge1xuICAgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG4gICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKHNhbml0eUVycm9yKSB7XG4gICAgICAgIHRocm93IHNhbml0eUVycm9yO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uKTtcbiAgICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG4gICAgICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKHdhcm5pbmdNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgIHZhciBuZXh0U3RhdGUgPSB7fTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIga2V5ID0gZmluYWxSZWR1Y2VyS2V5c1tpXTtcbiAgICAgICAgdmFyIHJlZHVjZXIgPSBmaW5hbFJlZHVjZXJzW2tleV07XG4gICAgICAgIHZhciBwcmV2aW91c1N0YXRlRm9yS2V5ID0gc3RhdGVba2V5XTtcbiAgICAgICAgdmFyIG5leHRTdGF0ZUZvcktleSA9IHJlZHVjZXIocHJldmlvdXNTdGF0ZUZvcktleSwgYWN0aW9uKTtcbiAgICAgICAgaWYgKHR5cGVvZiBuZXh0U3RhdGVGb3JLZXkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKGtleSwgYWN0aW9uKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0U3RhdGVba2V5XSA9IG5leHRTdGF0ZUZvcktleTtcbiAgICAgICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgbmV4dFN0YXRlRm9yS2V5ICE9PSBwcmV2aW91c1N0YXRlRm9yS2V5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgICB9O1xuICB9XG59KShyZXF1aXJlKCdwcm9jZXNzJykpO1xuIiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGJpbmRBY3Rpb25DcmVhdG9ycztcbmZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKGFjdGlvbkNyZWF0b3IuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb24gY3JlYXRvcnMsIGludG8gYW4gb2JqZWN0IHdpdGggdGhlXG4gKiBzYW1lIGtleXMsIGJ1dCB3aXRoIGV2ZXJ5IGZ1bmN0aW9uIHdyYXBwZWQgaW50byBhIGBkaXNwYXRjaGAgY2FsbCBzbyB0aGV5XG4gKiBtYXkgYmUgaW52b2tlZCBkaXJlY3RseS4gVGhpcyBpcyBqdXN0IGEgY29udmVuaWVuY2UgbWV0aG9kLCBhcyB5b3UgY2FuIGNhbGxcbiAqIGBzdG9yZS5kaXNwYXRjaChNeUFjdGlvbkNyZWF0b3JzLmRvU29tZXRoaW5nKCkpYCB5b3Vyc2VsZiBqdXN0IGZpbmUuXG4gKlxuICogRm9yIGNvbnZlbmllbmNlLCB5b3UgY2FuIGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQsXG4gKiBhbmQgZ2V0IGEgZnVuY3Rpb24gaW4gcmV0dXJuLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBhY3Rpb25DcmVhdG9ycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb25cbiAqIGNyZWF0b3IgZnVuY3Rpb25zLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpbiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhc2BcbiAqIHN5bnRheC4gWW91IG1heSBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzcGF0Y2ggVGhlIGBkaXNwYXRjaGAgZnVuY3Rpb24gYXZhaWxhYmxlIG9uIHlvdXIgUmVkdXhcbiAqIHN0b3JlLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFRoZSBvYmplY3QgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBvYmplY3QsIGJ1dCB3aXRoXG4gKiBldmVyeSBhY3Rpb24gY3JlYXRvciB3cmFwcGVkIGludG8gdGhlIGBkaXNwYXRjaGAgY2FsbC4gSWYgeW91IHBhc3NlZCBhXG4gKiBmdW5jdGlvbiBhcyBgYWN0aW9uQ3JlYXRvcnNgLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYWxzbyBiZSBhIHNpbmdsZVxuICogZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpIHtcbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyAhPT0gJ29iamVjdCcgfHwgYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBY3Rpb25DcmVhdG9ycyBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiwgaW5zdGVhZCByZWNlaXZlZCAnICsgKGFjdGlvbkNyZWF0b3JzID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGFjdGlvbkNyZWF0b3JzKSArICcuICcgKyAnRGlkIHlvdSB3cml0ZSBcImltcG9ydCBBY3Rpb25DcmVhdG9ycyBmcm9tXCIgaW5zdGVhZCBvZiBcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cIj8nKTtcbiAgfVxuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWN0aW9uQ3JlYXRvcnMpO1xuICB2YXIgYm91bmRBY3Rpb25DcmVhdG9ycyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICB2YXIgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV07XG4gICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBib3VuZEFjdGlvbkNyZWF0b3JzW2tleV0gPSBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBib3VuZEFjdGlvbkNyZWF0b3JzO1xufSIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYXBwbHlNaWRkbGV3YXJlO1xudmFyIF9jb21wb3NlID0gcmVxdWlyZSgnLi9jb21wb3NlJyk7XG52YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1wiZGVmYXVsdFwiOiBvYmp9O1xufVxuZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgIG1pZGRsZXdhcmVzID0gQXJyYXkoX2xlbiksXG4gICAgICBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbihjcmVhdGVTdG9yZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGVuaGFuY2VyKSB7XG4gICAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZShyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGVuaGFuY2VyKTtcbiAgICAgIHZhciBfZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaDtcbiAgICAgIHZhciBjaGFpbiA9IFtdO1xuICAgICAgdmFyIG1pZGRsZXdhcmVBUEkgPSB7XG4gICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiBfZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNoYWluID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uKG1pZGRsZXdhcmUpIHtcbiAgICAgICAgcmV0dXJuIG1pZGRsZXdhcmUobWlkZGxld2FyZUFQSSk7XG4gICAgICB9KTtcbiAgICAgIF9kaXNwYXRjaCA9IF9jb21wb3NlMltcImRlZmF1bHRcIl0uYXBwbHkodW5kZWZpbmVkLCBjaGFpbikoc3RvcmUuZGlzcGF0Y2gpO1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdG9yZSwge2Rpc3BhdGNoOiBfZGlzcGF0Y2h9KTtcbiAgICB9O1xuICB9O1xufVxuIiwiLyogKi8gXG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tcG9zZTtcbi8qKlxuICogQ29tcG9zZXMgc2luZ2xlLWFyZ3VtZW50IGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuIFRoZSByaWdodG1vc3RcbiAqIGZ1bmN0aW9uIGNhbiB0YWtlIG11bHRpcGxlIGFyZ3VtZW50cyBhcyBpdCBwcm92aWRlcyB0aGUgc2lnbmF0dXJlIGZvclxuICogdGhlIHJlc3VsdGluZyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gZnVuY3MgVGhlIGZ1bmN0aW9ucyB0byBjb21wb3NlLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIG9idGFpbmVkIGJ5IGNvbXBvc2luZyB0aGUgYXJndW1lbnQgZnVuY3Rpb25zXG4gKiBmcm9tIHJpZ2h0IHRvIGxlZnQuIEZvciBleGFtcGxlLCBjb21wb3NlKGYsIGcsIGgpIGlzIGlkZW50aWNhbCB0byBkb2luZ1xuICogKC4uLmFyZ3MpID0+IGYoZyhoKC4uLmFyZ3MpKSkuXG4gKi9cblxuZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgZnVuY3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAoZnVuY3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBhcmc7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBsYXN0ID0gZnVuY3NbZnVuY3MubGVuZ3RoIC0gMV07XG4gICAgICB2YXIgcmVzdCA9IGZ1bmNzLnNsaWNlKDAsIC0xKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHY6IGZ1bmN0aW9uIHYoKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3QucmVkdWNlUmlnaHQoZnVuY3Rpb24gKGNvbXBvc2VkLCBmKSB7XG4gICAgICAgICAgICByZXR1cm4gZihjb21wb3NlZCk7XG4gICAgICAgICAgfSwgbGFzdC5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0oKTtcblxuICAgIGlmICh0eXBlb2YgX3JldCA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcbiAgfVxufSIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB3YXJuaW5nO1xuLyoqXG4gKiBQcmludHMgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICB0cnkge1xuICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgaWYgeW91IGVuYWJsZVxuICAgIC8vIFwiYnJlYWsgb24gYWxsIGV4Y2VwdGlvbnNcIiBpbiB5b3VyIGNvbnNvbGUsXG4gICAgLy8gaXQgd291bGQgcGF1c2UgdGhlIGV4ZWN1dGlvbiBhdCB0aGlzIGxpbmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIH0gY2F0Y2ggKGUpIHt9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tZW1wdHkgKi9cbn0iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgZXhwb3J0cy5jb21wb3NlID0gZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBleHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IGV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gZXhwb3J0cy5jcmVhdGVTdG9yZSA9IHVuZGVmaW5lZDtcbiAgdmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoJy4vY3JlYXRlU3RvcmUnKTtcbiAgdmFyIF9jcmVhdGVTdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVTdG9yZSk7XG4gIHZhciBfY29tYmluZVJlZHVjZXJzID0gcmVxdWlyZSgnLi9jb21iaW5lUmVkdWNlcnMnKTtcbiAgdmFyIF9jb21iaW5lUmVkdWNlcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tYmluZVJlZHVjZXJzKTtcbiAgdmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMgPSByZXF1aXJlKCcuL2JpbmRBY3Rpb25DcmVhdG9ycycpO1xuICB2YXIgX2JpbmRBY3Rpb25DcmVhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaW5kQWN0aW9uQ3JlYXRvcnMpO1xuICB2YXIgX2FwcGx5TWlkZGxld2FyZSA9IHJlcXVpcmUoJy4vYXBwbHlNaWRkbGV3YXJlJyk7XG4gIHZhciBfYXBwbHlNaWRkbGV3YXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwcGx5TWlkZGxld2FyZSk7XG4gIHZhciBfY29tcG9zZSA9IHJlcXVpcmUoJy4vY29tcG9zZScpO1xuICB2YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG4gIHZhciBfd2FybmluZyA9IHJlcXVpcmUoJy4vdXRpbHMvd2FybmluZycpO1xuICB2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG4gIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcImRlZmF1bHRcIjogb2JqfTtcbiAgfVxuICBmdW5jdGlvbiBpc0NydXNoZWQoKSB7fVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgaXNDcnVzaGVkLm5hbWUgPT09ICdzdHJpbmcnICYmIGlzQ3J1c2hlZC5uYW1lICE9PSAnaXNDcnVzaGVkJykge1xuICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSgnWW91IGFyZSBjdXJyZW50bHkgdXNpbmcgbWluaWZpZWQgY29kZSBvdXRzaWRlIG9mIE5PREVfRU5WID09PSBcXCdwcm9kdWN0aW9uXFwnLiAnICsgJ1RoaXMgbWVhbnMgdGhhdCB5b3UgYXJlIHJ1bm5pbmcgYSBzbG93ZXIgZGV2ZWxvcG1lbnQgYnVpbGQgb2YgUmVkdXguICcgKyAnWW91IGNhbiB1c2UgbG9vc2UtZW52aWZ5IChodHRwczovL2dpdGh1Yi5jb20vemVydG9zaC9sb29zZS1lbnZpZnkpIGZvciBicm93c2VyaWZ5ICcgKyAnb3IgRGVmaW5lUGx1Z2luIGZvciB3ZWJwYWNrIChodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMwMDMwMDMxKSAnICsgJ3RvIGVuc3VyZSB5b3UgaGF2ZSB0aGUgY29ycmVjdCBjb2RlIGZvciB5b3VyIHByb2R1Y3Rpb24gYnVpbGQuJyk7XG4gIH1cbiAgZXhwb3J0cy5jcmVhdGVTdG9yZSA9IF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdO1xuICBleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IF9jb21iaW5lUmVkdWNlcnMyW1wiZGVmYXVsdFwiXTtcbiAgZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBfYmluZEFjdGlvbkNyZWF0b3JzMltcImRlZmF1bHRcIl07XG4gIGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gX2FwcGx5TWlkZGxld2FyZTJbXCJkZWZhdWx0XCJdO1xuICBleHBvcnRzLmNvbXBvc2UgPSBfY29tcG9zZTJbXCJkZWZhdWx0XCJdO1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5wbTpyZWR1eEAzLjUuMi9saWIvaW5kZXguanNcIik7IiwiLyogKi8gXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzWydkZWZhdWx0J10gPSB0aHVua01pZGRsZXdhcmU7XG5mdW5jdGlvbiB0aHVua01pZGRsZXdhcmUoX3JlZikge1xuICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoO1xuICB2YXIgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlO1xuXG4gIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gYWN0aW9uKGRpc3BhdGNoLCBnZXRTdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgfTtcbiAgfTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJucG06cmVkdXgtdGh1bmtAMi4wLjEvbGliL2luZGV4LmpzXCIpOyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQge1xuICBjcmVhdGVTdG9yZSxcbiAgY29tcG9zZSxcbiAgYXBwbHlNaWRkbGV3YXJlLFxuICBjb21iaW5lUmVkdWNlcnNcbn0gZnJvbSAncmVkdXgnXG5pbXBvcnQgdGh1bmtNaWRkbGV3YXJlIGZyb20gJ3JlZHV4LXRodW5rJ1xuXG5leHBvcnQgZGVmYXVsdCAoeyBpbml0aWFsU3RhdGUgPSB7fSwgcmVkdWNlcnMsIG1pZGRsZXdhcmVzID0gW10gfSkgPT4ge1xuICBjb25zdCByb290UmVkdWNlciA9IGNvbWJpbmVSZWR1Y2Vycyh7XG4gICAgLi4ucmVkdWNlcnNcbiAgfSlcbiAgcmV0dXJuIGNvbXBvc2UoXG4gICAgYXBwbHlNaWRkbGV3YXJlKHRodW5rTWlkZGxld2FyZSwgLi4ubWlkZGxld2FyZXMpXG4gICkoY3JlYXRlU3RvcmUpKHJvb3RSZWR1Y2VyLCBpbml0aWFsU3RhdGUpXG59XG4iLCIvKiAqLyBcbnZhciAkID0gcmVxdWlyZSgnLi8kJyksXG4gICAgdG9PYmplY3QgPSByZXF1aXJlKCcuLyQudG8tb2JqZWN0JyksXG4gICAgSU9iamVjdCA9IHJlcXVpcmUoJy4vJC5pb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5mYWlscycpKGZ1bmN0aW9uKCkge1xuICB2YXIgYSA9IE9iamVjdC5hc3NpZ24sXG4gICAgICBBID0ge30sXG4gICAgICBCID0ge30sXG4gICAgICBTID0gU3ltYm9sKCksXG4gICAgICBLID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0JztcbiAgQVtTXSA9IDc7XG4gIEsuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24oaykge1xuICAgIEJba10gPSBrO1xuICB9KTtcbiAgcmV0dXJuIGEoe30sIEEpW1NdICE9IDcgfHwgT2JqZWN0LmtleXMoYSh7fSwgQikpLmpvaW4oJycpICE9IEs7XG59KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSkge1xuICB2YXIgVCA9IHRvT2JqZWN0KHRhcmdldCksXG4gICAgICAkJCA9IGFyZ3VtZW50cyxcbiAgICAgICQkbGVuID0gJCQubGVuZ3RoLFxuICAgICAgaW5kZXggPSAxLFxuICAgICAgZ2V0S2V5cyA9ICQuZ2V0S2V5cyxcbiAgICAgIGdldFN5bWJvbHMgPSAkLmdldFN5bWJvbHMsXG4gICAgICBpc0VudW0gPSAkLmlzRW51bTtcbiAgd2hpbGUgKCQkbGVuID4gaW5kZXgpIHtcbiAgICB2YXIgUyA9IElPYmplY3QoJCRbaW5kZXgrK10pLFxuICAgICAgICBrZXlzID0gZ2V0U3ltYm9scyA/IGdldEtleXMoUykuY29uY2F0KGdldFN5bWJvbHMoUykpIDogZ2V0S2V5cyhTKSxcbiAgICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGgsXG4gICAgICAgIGogPSAwLFxuICAgICAgICBrZXk7XG4gICAgd2hpbGUgKGxlbmd0aCA+IGopXG4gICAgICBpZiAoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSlcbiAgICAgICAgVFtrZXldID0gU1trZXldO1xuICB9XG4gIHJldHVybiBUO1xufSA6IE9iamVjdC5hc3NpZ247XG4iLCIvKiAqLyBcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi8kLmV4cG9ydCcpO1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYsICdPYmplY3QnLCB7YXNzaWduOiByZXF1aXJlKCcuLyQub2JqZWN0LWFzc2lnbicpfSk7XG4iLCIvKiAqLyBcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5PYmplY3QuYXNzaWduO1xuIiwiLyogKi8gXG5tb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnblwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIi8qICovIFxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX09iamVjdCRhc3NpZ24gPSByZXF1aXJlKCcuLi9jb3JlLWpzL29iamVjdC9hc3NpZ24nKVtcImRlZmF1bHRcIl07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9PYmplY3QkYXNzaWduIHx8IGZ1bmN0aW9uKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuIiwiLyogKi8gXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIGN0eCA9IHJlcXVpcmUoJy4vJC5jdHgnKSxcbiAgICAkZXhwb3J0ID0gcmVxdWlyZSgnLi8kLmV4cG9ydCcpLFxuICAgIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi8kLnRvLW9iamVjdCcpLFxuICAgIGNhbGwgPSByZXF1aXJlKCcuLyQuaXRlci1jYWxsJyksXG4gICAgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuLyQuaXMtYXJyYXktaXRlcicpLFxuICAgIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi8kLnRvLWxlbmd0aCcpLFxuICAgIGdldEl0ZXJGbiA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuLyQuaXRlci1kZXRlY3QnKShmdW5jdGlvbihpdGVyKSB7XG4gIEFycmF5LmZyb20oaXRlcik7XG59KSwgJ0FycmF5Jywge2Zyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlKSB7XG4gICAgdmFyIE8gPSB0b09iamVjdChhcnJheUxpa2UpLFxuICAgICAgICBDID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheSxcbiAgICAgICAgJCQgPSBhcmd1bWVudHMsXG4gICAgICAgICQkbGVuID0gJCQubGVuZ3RoLFxuICAgICAgICBtYXBmbiA9ICQkbGVuID4gMSA/ICQkWzFdIDogdW5kZWZpbmVkLFxuICAgICAgICBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZCxcbiAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICBpdGVyRm4gPSBnZXRJdGVyRm4oTyksXG4gICAgICAgIGxlbmd0aCxcbiAgICAgICAgcmVzdWx0LFxuICAgICAgICBzdGVwLFxuICAgICAgICBpdGVyYXRvcjtcbiAgICBpZiAobWFwcGluZylcbiAgICAgIG1hcGZuID0gY3R4KG1hcGZuLCAkJGxlbiA+IDIgPyAkJFsyXSA6IHVuZGVmaW5lZCwgMik7XG4gICAgaWYgKGl0ZXJGbiAhPSB1bmRlZmluZWQgJiYgIShDID09IEFycmF5ICYmIGlzQXJyYXlJdGVyKGl0ZXJGbikpKSB7XG4gICAgICBmb3IgKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoTyksIHJlc3VsdCA9IG5ldyBDOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7IGluZGV4KyspIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IG1hcHBpbmcgPyBjYWxsKGl0ZXJhdG9yLCBtYXBmbiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgICBmb3IgKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBtYXBwaW5nID8gbWFwZm4oT1tpbmRleF0sIGluZGV4KSA6IE9baW5kZXhdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQubGVuZ3RoID0gaW5kZXg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfX0pO1xuIiwiLyogKi8gXG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LmFycmF5LmZyb20nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5BcnJheS5mcm9tO1xuIiwiLyogKi8gXG5tb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIi8qICovIFxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX0FycmF5JGZyb20gPSByZXF1aXJlKCcuLi9jb3JlLWpzL2FycmF5L2Zyb20nKVtcImRlZmF1bHRcIl07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsXG4gICAgICAgIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKylcbiAgICAgIGFycjJbaV0gPSBhcnJbaV07XG4gICAgcmV0dXJuIGFycjI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIF9BcnJheSRmcm9tKGFycik7XG4gIH1cbn07XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuIiwiLyogKi8gXG5cImZvcm1hdCBjanNcIjtcbiIsIi8qICovIFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vJC50by1pbnRlZ2VyJyksXG4gICAgZGVmaW5lZCA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24odGhhdCwgcG9zKSB7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSksXG4gICAgICAgIGkgPSB0b0ludGVnZXIocG9zKSxcbiAgICAgICAgbCA9IHMubGVuZ3RoLFxuICAgICAgICBhLFxuICAgICAgICBiO1xuICAgIGlmIChpIDwgMCB8fCBpID49IGwpXG4gICAgICByZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZiA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYSA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgfTtcbn07XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciAkYXQgPSByZXF1aXJlKCcuLyQuc3RyaW5nLWF0JykodHJ1ZSk7XG5yZXF1aXJlKCcuLyQuaXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbihpdGVyYXRlZCkge1xuICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTtcbiAgdGhpcy5faSA9IDA7XG59LCBmdW5jdGlvbigpIHtcbiAgdmFyIE8gPSB0aGlzLl90LFxuICAgICAgaW5kZXggPSB0aGlzLl9pLFxuICAgICAgcG9pbnQ7XG4gIGlmIChpbmRleCA+PSBPLmxlbmd0aClcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIGRvbmU6IHRydWVcbiAgICB9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiBwb2ludCxcbiAgICBkb25lOiBmYWxzZVxuICB9O1xufSk7XG4iLCIvKiAqLyBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfTsiLCIvKiAqLyBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZG9uZSwgdmFsdWUpe1xuICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcbn07IiwiLyogKi8gXG52YXIgY29mID0gcmVxdWlyZSgnLi8kLmNvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KSB7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07XG4iLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ID09IHVuZGVmaW5lZCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIgKyBpdCk7XG4gIHJldHVybiBpdDtcbn07IiwiLyogKi8gXG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vJC5pb2JqZWN0JyksXG4gICAgZGVmaW5lZCA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi8kJyksXG4gICAgZGVzY3JpcHRvciA9IHJlcXVpcmUoJy4vJC5wcm9wZXJ0eS1kZXNjJyksXG4gICAgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuLyQuc2V0LXRvLXN0cmluZy10YWcnKSxcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xucmVxdWlyZSgnLi8kLmhpZGUnKShJdGVyYXRvclByb3RvdHlwZSwgcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXM7XG59KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpIHtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gJC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTtcbiIsIi8qICovIFxuJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgPSByZXF1aXJlKCcuLyQubGlicmFyeScpLFxuICAgICRleHBvcnQgPSByZXF1aXJlKCcuLyQuZXhwb3J0JyksXG4gICAgcmVkZWZpbmUgPSByZXF1aXJlKCcuLyQucmVkZWZpbmUnKSxcbiAgICBoaWRlID0gcmVxdWlyZSgnLi8kLmhpZGUnKSxcbiAgICBoYXMgPSByZXF1aXJlKCcuLyQuaGFzJyksXG4gICAgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpLFxuICAgICRpdGVyQ3JlYXRlID0gcmVxdWlyZSgnLi8kLml0ZXItY3JlYXRlJyksXG4gICAgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuLyQuc2V0LXRvLXN0cmluZy10YWcnKSxcbiAgICBnZXRQcm90byA9IHJlcXVpcmUoJy4vJCcpLmdldFByb3RvLFxuICAgIElURVJBVE9SID0gcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpLFxuICAgIEJVR0dZID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpLFxuICAgIEZGX0lURVJBVE9SID0gJ0BAaXRlcmF0b3InLFxuICAgIEtFWVMgPSAna2V5cycsXG4gICAgVkFMVUVTID0gJ3ZhbHVlcyc7XG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCkge1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihraW5kKSB7XG4gICAgaWYgKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKVxuICAgICAgcmV0dXJuIHByb3RvW2tpbmRdO1xuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgY2FzZSBLRVlTOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24ga2V5cygpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpO1xuICAgICAgICB9O1xuICAgICAgY2FzZSBWQUxVRVM6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKSB7XG4gICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpO1xuICAgIH07XG4gIH07XG4gIHZhciBUQUcgPSBOQU1FICsgJyBJdGVyYXRvcicsXG4gICAgICBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVMsXG4gICAgICBWQUxVRVNfQlVHID0gZmFsc2UsXG4gICAgICBwcm90byA9IEJhc2UucHJvdG90eXBlLFxuICAgICAgJG5hdGl2ZSA9IHByb3RvW0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXSxcbiAgICAgICRkZWZhdWx0ID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVCksXG4gICAgICBtZXRob2RzLFxuICAgICAga2V5O1xuICBpZiAoJG5hdGl2ZSkge1xuICAgIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvKCRkZWZhdWx0LmNhbGwobmV3IEJhc2UpKTtcbiAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICBpZiAoIUxJQlJBUlkgJiYgaGFzKHByb3RvLCBGRl9JVEVSQVRPUikpXG4gICAgICBoaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgaWYgKERFRl9WQUxVRVMgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKSB7XG4gICAgICAgIHJldHVybiAkbmF0aXZlLmNhbGwodGhpcyk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBpZiAoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpIHtcbiAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuICB9XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSA9IHJldHVyblRoaXM7XG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKVxuICAgIH07XG4gICAgaWYgKEZPUkNFRClcbiAgICAgIGZvciAoa2V5IGluIG1ldGhvZHMpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIHByb3RvKSlcbiAgICAgICAgICByZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgICAgfVxuICAgIGVsc2VcbiAgICAgICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gcmVxdWlyZSgnLi8kLmFkZC10by11bnNjb3BhYmxlcycpLFxuICAgIHN0ZXAgPSByZXF1aXJlKCcuLyQuaXRlci1zdGVwJyksXG4gICAgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpLFxuICAgIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vJC50by1pb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCkge1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTtcbiAgdGhpcy5faSA9IDA7XG4gIHRoaXMuX2sgPSBraW5kO1xufSwgZnVuY3Rpb24oKSB7XG4gIHZhciBPID0gdGhpcy5fdCxcbiAgICAgIGtpbmQgPSB0aGlzLl9rLFxuICAgICAgaW5kZXggPSB0aGlzLl9pKys7XG4gIGlmICghTyB8fCBpbmRleCA+PSBPLmxlbmd0aCkge1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYgKGtpbmQgPT0gJ2tleXMnKVxuICAgIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpXG4gICAgcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG4iLCIvKiAqLyBcbnJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpO1xuSXRlcmF0b3JzLk5vZGVMaXN0ID0gSXRlcmF0b3JzLkhUTUxDb2xsZWN0aW9uID0gSXRlcmF0b3JzLkFycmF5O1xuIiwiLyogKi8gXG5tb2R1bGUuZXhwb3J0cyA9IHRydWU7IiwiLyogKi8gXG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpLFxuICAgIGNvcmUgPSByZXF1aXJlKCcuLyQuY29yZScpLFxuICAgIGN0eCA9IHJlcXVpcmUoJy4vJC5jdHgnKSxcbiAgICBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKSB7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GLFxuICAgICAgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuRyxcbiAgICAgIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlMsXG4gICAgICBJU19QUk9UTyA9IHR5cGUgJiAkZXhwb3J0LlAsXG4gICAgICBJU19CSU5EID0gdHlwZSAmICRleHBvcnQuQixcbiAgICAgIElTX1dSQVAgPSB0eXBlICYgJGV4cG9ydC5XLFxuICAgICAgZXhwb3J0cyA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pLFxuICAgICAgdGFyZ2V0ID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXSxcbiAgICAgIGtleSxcbiAgICAgIG93bixcbiAgICAgIG91dDtcbiAgaWYgKElTX0dMT0JBTClcbiAgICBzb3VyY2UgPSBuYW1lO1xuICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiBrZXkgaW4gdGFyZ2V0O1xuICAgIGlmIChvd24gJiYga2V5IGluIGV4cG9ydHMpXG4gICAgICBjb250aW51ZTtcbiAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldO1xuICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQykge1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbihwYXJhbSkge1xuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIEMgPyBuZXcgQyhwYXJhbSkgOiBDKHBhcmFtKTtcbiAgICAgIH07XG4gICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgICByZXR1cm4gRjtcbiAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgaWYgKElTX1BST1RPKVxuICAgICAgKGV4cG9ydHNbUFJPVE9UWVBFXSB8fCAoZXhwb3J0c1tQUk9UT1RZUEVdID0ge30pKVtrZXldID0gb3V0O1xuICB9XG59O1xuJGV4cG9ydC5GID0gMTtcbiRleHBvcnQuRyA9IDI7XG4kZXhwb3J0LlMgPSA0O1xuJGV4cG9ydC5QID0gODtcbiRleHBvcnQuQiA9IDE2O1xuJGV4cG9ydC5XID0gMzI7XG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG4iLCIvKiAqLyBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIENvbnN0cnVjdG9yLCBuYW1lKXtcbiAgaWYoIShpdCBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBUeXBlRXJyb3IobmFtZSArIFwiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yIVwiKTtcbiAgcmV0dXJuIGl0O1xufTsiLCIvKiAqLyBcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vJC5hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcykge1xuICB0cnkge1xuICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgIGlmIChyZXQgIT09IHVuZGVmaW5lZClcbiAgICAgIGFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcbiIsIi8qICovIFxudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vJC5pdGVyYXRvcnMnKSxcbiAgICBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vJC53a3MnKSgnaXRlcmF0b3InKSxcbiAgICBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCkge1xuICByZXR1cm4gaXQgIT09IHVuZGVmaW5lZCAmJiAoSXRlcmF0b3JzLkFycmF5ID09PSBpdCB8fCBBcnJheVByb3RvW0lURVJBVE9SXSA9PT0gaXQpO1xufTtcbiIsIi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgID0gTWF0aC5jZWlsXG4gICwgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufTsiLCIvKiAqLyBcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuLyQudG8taW50ZWdlcicpLFxuICAgIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCkge1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDtcbn07XG4iLCIvKiAqLyBcbnZhciBjb2YgPSByZXF1aXJlKCcuLyQuY29mJyksXG4gICAgVEFHID0gcmVxdWlyZSgnLi8kLndrcycpKCd0b1N0cmluZ1RhZycpLFxuICAgIEFSRyA9IGNvZihmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHM7XG4gICAgfSgpKSA9PSAnQXJndW1lbnRzJztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpIHtcbiAgdmFyIE8sXG4gICAgICBULFxuICAgICAgQjtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnIDogdHlwZW9mKFQgPSAoTyA9IE9iamVjdChpdCkpW1RBR10pID09ICdzdHJpbmcnID8gVCA6IEFSRyA/IGNvZihPKSA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07XG4iLCIvKiAqLyBcbm1vZHVsZS5leHBvcnRzID0ge307IiwiLyogKi8gXG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vJC5jbGFzc29mJyksXG4gICAgSVRFUkFUT1IgPSByZXF1aXJlKCcuLyQud2tzJykoJ2l0ZXJhdG9yJyksXG4gICAgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLyQuY29yZScpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpIHtcbiAgaWYgKGl0ICE9IHVuZGVmaW5lZClcbiAgICByZXR1cm4gaXRbSVRFUkFUT1JdIHx8IGl0WydAQGl0ZXJhdG9yJ10gfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcbn07XG4iLCIvKiAqLyBcbnZhciBjdHggPSByZXF1aXJlKCcuLyQuY3R4JyksXG4gICAgY2FsbCA9IHJlcXVpcmUoJy4vJC5pdGVyLWNhbGwnKSxcbiAgICBpc0FycmF5SXRlciA9IHJlcXVpcmUoJy4vJC5pcy1hcnJheS1pdGVyJyksXG4gICAgYW5PYmplY3QgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0JyksXG4gICAgdG9MZW5ndGggPSByZXF1aXJlKCcuLyQudG8tbGVuZ3RoJyksXG4gICAgZ2V0SXRlckZuID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmFibGUsIGVudHJpZXMsIGZuLCB0aGF0KSB7XG4gIHZhciBpdGVyRm4gPSBnZXRJdGVyRm4oaXRlcmFibGUpLFxuICAgICAgZiA9IGN0eChmbiwgdGhhdCwgZW50cmllcyA/IDIgOiAxKSxcbiAgICAgIGluZGV4ID0gMCxcbiAgICAgIGxlbmd0aCxcbiAgICAgIHN0ZXAsXG4gICAgICBpdGVyYXRvcjtcbiAgaWYgKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgaWYgKGlzQXJyYXlJdGVyKGl0ZXJGbikpXG4gICAgZm9yIChsZW5ndGggPSB0b0xlbmd0aChpdGVyYWJsZS5sZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgICAgZW50cmllcyA/IGYoYW5PYmplY3Qoc3RlcCA9IGl0ZXJhYmxlW2luZGV4XSlbMF0sIHN0ZXBbMV0pIDogZihpdGVyYWJsZVtpbmRleF0pO1xuICAgIH1cbiAgZWxzZVxuICAgIGZvciAoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChpdGVyYWJsZSk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgKSB7XG4gICAgICBjYWxsKGl0ZXJhdG9yLCBmLCBzdGVwLnZhbHVlLCBlbnRyaWVzKTtcbiAgICB9XG59O1xuIiwiLyogKi8gXG52YXIgZ2V0RGVzYyA9IHJlcXVpcmUoJy4vJCcpLmdldERlc2MsXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuLyQuaXMtb2JqZWN0JyksXG4gICAgYW5PYmplY3QgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0Jyk7XG52YXIgY2hlY2sgPSBmdW5jdGlvbihPLCBwcm90bykge1xuICBhbk9iamVjdChPKTtcbiAgaWYgKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpXG4gICAgdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyBmdW5jdGlvbih0ZXN0LCBidWdneSwgc2V0KSB7XG4gICAgdHJ5IHtcbiAgICAgIHNldCA9IHJlcXVpcmUoJy4vJC5jdHgnKShGdW5jdGlvbi5jYWxsLCBnZXREZXNjKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQsIDIpO1xuICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGJ1Z2d5ID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKSB7XG4gICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICBpZiAoYnVnZ3kpXG4gICAgICAgIE8uX19wcm90b19fID0gcHJvdG87XG4gICAgICBlbHNlXG4gICAgICAgIHNldChPLCBwcm90byk7XG4gICAgICByZXR1cm4gTztcbiAgICB9O1xuICB9KHt9LCBmYWxzZSkgOiB1bmRlZmluZWQpLFxuICBjaGVjazogY2hlY2tcbn07XG4iLCIvLyA3LjIuOSBTYW1lVmFsdWUoeCwgeSlcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmlzIHx8IGZ1bmN0aW9uIGlzKHgsIHkpe1xuICByZXR1cm4geCA9PT0geSA/IHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5IDogeCAhPSB4ICYmIHkgIT0geTtcbn07IiwiLyogKi8gXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLyQuaXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KSB7XG4gIGlmICghaXNPYmplY3QoaXQpKVxuICAgIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsIi8qICovIFxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmFuLW9iamVjdCcpLFxuICAgIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vJC5hLWZ1bmN0aW9uJyksXG4gICAgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vJC53a3MnKSgnc3BlY2llcycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihPLCBEKSB7XG4gIHZhciBDID0gYW5PYmplY3QoTykuY29uc3RydWN0b3IsXG4gICAgICBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QoQylbU1BFQ0lFU10pID09IHVuZGVmaW5lZCA/IEQgOiBhRnVuY3Rpb24oUyk7XG59O1xuIiwiLyogKi8gXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTsiLCIvKiAqLyBcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuLyQuYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmICh0aGF0ID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIGZuO1xuICBzd2l0Y2ggKGxlbmd0aCkge1xuICAgIGNhc2UgMTpcbiAgICAgIHJldHVybiBmdW5jdGlvbihhKSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgICAgfTtcbiAgICBjYXNlIDI6XG4gICAgICByZXR1cm4gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICAgIH07XG4gICAgY2FzZSAzOlxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG4iLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIGFyZ3MsIHRoYXQpe1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaChhcmdzLmxlbmd0aCl7XG4gICAgY2FzZSAwOiByZXR1cm4gdW4gPyBmbigpXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQpO1xuICAgIGNhc2UgMTogcmV0dXJuIHVuID8gZm4oYXJnc1swXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIGNhc2UgNDogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gIH0gcmV0dXJuICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07IiwiLyogKi8gXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKS5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4iLCIvKiAqLyBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTsiLCIvKiAqLyBcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vJC5pcy1vYmplY3QnKSxcbiAgICBkb2N1bWVudCA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKS5kb2N1bWVudCxcbiAgICBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpIHtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG4iLCIvKiAqLyBcbihmdW5jdGlvbihwcm9jZXNzKSB7XG4gIHZhciBjdHggPSByZXF1aXJlKCcuLyQuY3R4JyksXG4gICAgICBpbnZva2UgPSByZXF1aXJlKCcuLyQuaW52b2tlJyksXG4gICAgICBodG1sID0gcmVxdWlyZSgnLi8kLmh0bWwnKSxcbiAgICAgIGNlbCA9IHJlcXVpcmUoJy4vJC5kb20tY3JlYXRlJyksXG4gICAgICBnbG9iYWwgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJyksXG4gICAgICBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3MsXG4gICAgICBzZXRUYXNrID0gZ2xvYmFsLnNldEltbWVkaWF0ZSxcbiAgICAgIGNsZWFyVGFzayA9IGdsb2JhbC5jbGVhckltbWVkaWF0ZSxcbiAgICAgIE1lc3NhZ2VDaGFubmVsID0gZ2xvYmFsLk1lc3NhZ2VDaGFubmVsLFxuICAgICAgY291bnRlciA9IDAsXG4gICAgICBxdWV1ZSA9IHt9LFxuICAgICAgT05SRUFEWVNUQVRFQ0hBTkdFID0gJ29ucmVhZHlzdGF0ZWNoYW5nZScsXG4gICAgICBkZWZlcixcbiAgICAgIGNoYW5uZWwsXG4gICAgICBwb3J0O1xuICB2YXIgcnVuID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlkID0gK3RoaXM7XG4gICAgaWYgKHF1ZXVlLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgICAgdmFyIGZuID0gcXVldWVbaWRdO1xuICAgICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgICAgIGZuKCk7XG4gICAgfVxuICB9O1xuICB2YXIgbGlzdG5lciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcnVuLmNhbGwoZXZlbnQuZGF0YSk7XG4gIH07XG4gIGlmICghc2V0VGFzayB8fCAhY2xlYXJUYXNrKSB7XG4gICAgc2V0VGFzayA9IGZ1bmN0aW9uIHNldEltbWVkaWF0ZShmbikge1xuICAgICAgdmFyIGFyZ3MgPSBbXSxcbiAgICAgICAgICBpID0gMTtcbiAgICAgIHdoaWxlIChhcmd1bWVudHMubGVuZ3RoID4gaSlcbiAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaW52b2tlKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbiksIGFyZ3MpO1xuICAgICAgfTtcbiAgICAgIGRlZmVyKGNvdW50ZXIpO1xuICAgICAgcmV0dXJuIGNvdW50ZXI7XG4gICAgfTtcbiAgICBjbGVhclRhc2sgPSBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShpZCkge1xuICAgICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgICB9O1xuICAgIGlmIChyZXF1aXJlKCcuLyQuY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKSB7XG4gICAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soY3R4KHJ1biwgaWQsIDEpKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChNZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbDtcbiAgICAgIHBvcnQgPSBjaGFubmVsLnBvcnQyO1xuICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBsaXN0bmVyO1xuICAgICAgZGVmZXIgPSBjdHgocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCwgMSk7XG4gICAgfSBlbHNlIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lciAmJiB0eXBlb2YgcG9zdE1lc3NhZ2UgPT0gJ2Z1bmN0aW9uJyAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKGlkICsgJycsICcqJyk7XG4gICAgICB9O1xuICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0bmVyLCBmYWxzZSk7XG4gICAgfSBlbHNlIGlmIChPTlJFQURZU1RBVEVDSEFOR0UgaW4gY2VsKCdzY3JpcHQnKSkge1xuICAgICAgZGVmZXIgPSBmdW5jdGlvbihpZCkge1xuICAgICAgICBodG1sLmFwcGVuZENoaWxkKGNlbCgnc2NyaXB0JykpW09OUkVBRFlTVEFURUNIQU5HRV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICAgIHJ1bi5jYWxsKGlkKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgc2V0VGltZW91dChjdHgocnVuLCBpZCwgMSksIDApO1xuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgc2V0OiBzZXRUYXNrLFxuICAgIGNsZWFyOiBjbGVhclRhc2tcbiAgfTtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbnZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07IiwiLyogKi8gXG4oZnVuY3Rpb24ocHJvY2Vzcykge1xuICB2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpLFxuICAgICAgbWFjcm90YXNrID0gcmVxdWlyZSgnLi8kLnRhc2snKS5zZXQsXG4gICAgICBPYnNlcnZlciA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLFxuICAgICAgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzLFxuICAgICAgUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlLFxuICAgICAgaXNOb2RlID0gcmVxdWlyZSgnLi8kLmNvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJyxcbiAgICAgIGhlYWQsXG4gICAgICBsYXN0LFxuICAgICAgbm90aWZ5O1xuICB2YXIgZmx1c2ggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFyZW50LFxuICAgICAgICBkb21haW4sXG4gICAgICAgIGZuO1xuICAgIGlmIChpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSkge1xuICAgICAgcHJvY2Vzcy5kb21haW4gPSBudWxsO1xuICAgICAgcGFyZW50LmV4aXQoKTtcbiAgICB9XG4gICAgd2hpbGUgKGhlYWQpIHtcbiAgICAgIGRvbWFpbiA9IGhlYWQuZG9tYWluO1xuICAgICAgZm4gPSBoZWFkLmZuO1xuICAgICAgaWYgKGRvbWFpbilcbiAgICAgICAgZG9tYWluLmVudGVyKCk7XG4gICAgICBmbigpO1xuICAgICAgaWYgKGRvbWFpbilcbiAgICAgICAgZG9tYWluLmV4aXQoKTtcbiAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgfVxuICAgIGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHBhcmVudClcbiAgICAgIHBhcmVudC5lbnRlcigpO1xuICB9O1xuICBpZiAoaXNOb2RlKSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgICB9O1xuICB9IGVsc2UgaWYgKE9ic2VydmVyKSB7XG4gICAgdmFyIHRvZ2dsZSA9IDEsXG4gICAgICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgbmV3IE9ic2VydmVyKGZsdXNoKS5vYnNlcnZlKG5vZGUsIHtjaGFyYWN0ZXJEYXRhOiB0cnVlfSk7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAtdG9nZ2xlO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoUHJvbWlzZSAmJiBQcm9taXNlLnJlc29sdmUpIHtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpIHtcbiAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZmx1c2gpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICBtYWNyb3Rhc2suY2FsbChnbG9iYWwsIGZsdXNoKTtcbiAgICB9O1xuICB9XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYXNhcChmbikge1xuICAgIHZhciB0YXNrID0ge1xuICAgICAgZm46IGZuLFxuICAgICAgbmV4dDogdW5kZWZpbmVkLFxuICAgICAgZG9tYWluOiBpc05vZGUgJiYgcHJvY2Vzcy5kb21haW5cbiAgICB9O1xuICAgIGlmIChsYXN0KVxuICAgICAgbGFzdC5uZXh0ID0gdGFzaztcbiAgICBpZiAoIWhlYWQpIHtcbiAgICAgIGhlYWQgPSB0YXNrO1xuICAgICAgbm90aWZ5KCk7XG4gICAgfVxuICAgIGxhc3QgPSB0YXNrO1xuICB9O1xufSkocmVxdWlyZSgncHJvY2VzcycpKTtcbiIsIi8qICovIFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59OyIsIi8qICovIFxudmFyICQgPSByZXF1aXJlKCcuLyQnKSxcbiAgICBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi8kLnByb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLmRlc2NyaXB0b3JzJykgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuICQuc2V0RGVzYyhvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcbiIsIi8qICovIFxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLyQuaGlkZScpO1xuIiwiLyogKi8gXG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuLyQucmVkZWZpbmUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGFyZ2V0LCBzcmMpIHtcbiAgZm9yICh2YXIga2V5IGluIHNyYylcbiAgICByZWRlZmluZSh0YXJnZXQsIGtleSwgc3JjW2tleV0pO1xuICByZXR1cm4gdGFyZ2V0O1xufTtcbiIsIi8qICovIFxudmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07IiwiLyogKi8gXG52YXIgZGVmID0gcmVxdWlyZSgnLi8kJykuc2V0RGVzYyxcbiAgICBoYXMgPSByZXF1aXJlKCcuLyQuaGFzJyksXG4gICAgVEFHID0gcmVxdWlyZSgnLi8kLndrcycpKCd0b1N0cmluZ1RhZycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KSB7XG4gIGlmIChpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKVxuICAgIGRlZihpdCwgVEFHLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdGFnXG4gICAgfSk7XG59O1xuIiwiLyogKi8gXG52YXIgJE9iamVjdCA9IE9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGU6ICAgICAkT2JqZWN0LmNyZWF0ZSxcbiAgZ2V0UHJvdG86ICAgJE9iamVjdC5nZXRQcm90b3R5cGVPZixcbiAgaXNFbnVtOiAgICAge30ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gIGdldERlc2M6ICAgICRPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICBzZXREZXNjOiAgICAkT2JqZWN0LmRlZmluZVByb3BlcnR5LFxuICBzZXREZXNjczogICAkT2JqZWN0LmRlZmluZVByb3BlcnRpZXMsXG4gIGdldEtleXM6ICAgICRPYmplY3Qua2V5cyxcbiAgZ2V0TmFtZXM6ICAgJE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICBnZXRTeW1ib2xzOiAkT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgZWFjaDogICAgICAgW10uZm9yRWFjaFxufTsiLCIvKiAqLyBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59OyIsIi8qICovIFxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi8kLmZhaWxzJykoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gNztcbiAgICB9fSkuYSAhPSA3O1xufSk7XG4iLCIvKiAqLyBcbid1c2Ugc3RyaWN0JztcbnZhciBjb3JlID0gcmVxdWlyZSgnLi8kLmNvcmUnKSxcbiAgICAkID0gcmVxdWlyZSgnLi8kJyksXG4gICAgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLyQuZGVzY3JpcHRvcnMnKSxcbiAgICBTUEVDSUVTID0gcmVxdWlyZSgnLi8kLndrcycpKCdzcGVjaWVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSkge1xuICB2YXIgQyA9IGNvcmVbS0VZXTtcbiAgaWYgKERFU0NSSVBUT1JTICYmIEMgJiYgIUNbU1BFQ0lFU10pXG4gICAgJC5zZXREZXNjKEMsIFNQRUNJRVMsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH0pO1xufTtcbiIsIi8qICovIFxudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKSxcbiAgICBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJyxcbiAgICBzdG9yZSA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KSB7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xufTtcbiIsIi8qICovIFxudmFyIGlkID0gMFxuICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07IiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbnZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZiA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZih0eXBlb2YgX19nID09ICdudW1iZXInKV9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZiIsIi8qICovIFxudmFyIHN0b3JlID0gcmVxdWlyZSgnLi8kLnNoYXJlZCcpKCd3a3MnKSxcbiAgICB1aWQgPSByZXF1aXJlKCcuLyQudWlkJyksXG4gICAgU3ltYm9sID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpLlN5bWJvbDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID0gU3ltYm9sICYmIFN5bWJvbFtuYW1lXSB8fCAoU3ltYm9sIHx8IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcbiIsIi8qICovIFxudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpLFxuICAgIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbigpIHtcbiAgICBTQUZFX0NMT1NJTkcgPSB0cnVlO1xuICB9O1xuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyAyO1xuICB9KTtcbn0gY2F0Y2ggKGUpIHt9XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMsIHNraXBDbG9zaW5nKSB7XG4gIGlmICghc2tpcENsb3NpbmcgJiYgIVNBRkVfQ0xPU0lORylcbiAgICByZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IFs3XSxcbiAgICAgICAgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNhZmUgPSB0cnVlO1xuICAgIH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGl0ZXI7XG4gICAgfTtcbiAgICBleGVjKGFycik7XG4gIH0gY2F0Y2ggKGUpIHt9XG4gIHJldHVybiBzYWZlO1xufTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBzZXRUaW1lb3V0KGRyYWluUXVldWUsIDApO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibnBtOnByb2Nlc3NAMC4xMS4zL2Jyb3dzZXIuanNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSBTeXN0ZW0uX25vZGVSZXF1aXJlID8gcHJvY2VzcyA6IHJlcXVpcmUoJ3Byb2Nlc3MnKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJnaXRodWI6anNwbS9ub2RlbGlicy1wcm9jZXNzQDAuMS4yL2luZGV4XCIpOyIsIi8qICovIFxuKGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgJCA9IHJlcXVpcmUoJy4vJCcpLFxuICAgICAgTElCUkFSWSA9IHJlcXVpcmUoJy4vJC5saWJyYXJ5JyksXG4gICAgICBnbG9iYWwgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJyksXG4gICAgICBjdHggPSByZXF1aXJlKCcuLyQuY3R4JyksXG4gICAgICBjbGFzc29mID0gcmVxdWlyZSgnLi8kLmNsYXNzb2YnKSxcbiAgICAgICRleHBvcnQgPSByZXF1aXJlKCcuLyQuZXhwb3J0JyksXG4gICAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vJC5pcy1vYmplY3QnKSxcbiAgICAgIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmFuLW9iamVjdCcpLFxuICAgICAgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi8kLmEtZnVuY3Rpb24nKSxcbiAgICAgIHN0cmljdE5ldyA9IHJlcXVpcmUoJy4vJC5zdHJpY3QtbmV3JyksXG4gICAgICBmb3JPZiA9IHJlcXVpcmUoJy4vJC5mb3Itb2YnKSxcbiAgICAgIHNldFByb3RvID0gcmVxdWlyZSgnLi8kLnNldC1wcm90bycpLnNldCxcbiAgICAgIHNhbWUgPSByZXF1aXJlKCcuLyQuc2FtZS12YWx1ZScpLFxuICAgICAgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vJC53a3MnKSgnc3BlY2llcycpLFxuICAgICAgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi8kLnNwZWNpZXMtY29uc3RydWN0b3InKSxcbiAgICAgIGFzYXAgPSByZXF1aXJlKCcuLyQubWljcm90YXNrJyksXG4gICAgICBQUk9NSVNFID0gJ1Byb21pc2UnLFxuICAgICAgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzLFxuICAgICAgaXNOb2RlID0gY2xhc3NvZihwcm9jZXNzKSA9PSAncHJvY2VzcycsXG4gICAgICBQID0gZ2xvYmFsW1BST01JU0VdLFxuICAgICAgV3JhcHBlcjtcbiAgdmFyIHRlc3RSZXNvbHZlID0gZnVuY3Rpb24oc3ViKSB7XG4gICAgdmFyIHRlc3QgPSBuZXcgUChmdW5jdGlvbigpIHt9KTtcbiAgICBpZiAoc3ViKVxuICAgICAgdGVzdC5jb25zdHJ1Y3RvciA9IE9iamVjdDtcbiAgICByZXR1cm4gUC5yZXNvbHZlKHRlc3QpID09PSB0ZXN0O1xuICB9O1xuICB2YXIgVVNFX05BVElWRSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB3b3JrcyA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIFAyKHgpIHtcbiAgICAgIHZhciBzZWxmID0gbmV3IFAoeCk7XG4gICAgICBzZXRQcm90byhzZWxmLCBQMi5wcm90b3R5cGUpO1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB3b3JrcyA9IFAgJiYgUC5yZXNvbHZlICYmIHRlc3RSZXNvbHZlKCk7XG4gICAgICBzZXRQcm90byhQMiwgUCk7XG4gICAgICBQMi5wcm90b3R5cGUgPSAkLmNyZWF0ZShQLnByb3RvdHlwZSwge2NvbnN0cnVjdG9yOiB7dmFsdWU6IFAyfX0pO1xuICAgICAgaWYgKCEoUDIucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCkge30pIGluc3RhbmNlb2YgUDIpKSB7XG4gICAgICAgIHdvcmtzID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAod29ya3MgJiYgcmVxdWlyZSgnLi8kLmRlc2NyaXB0b3JzJykpIHtcbiAgICAgICAgdmFyIHRoZW5hYmxlVGhlbkdvdHRlbiA9IGZhbHNlO1xuICAgICAgICBQLnJlc29sdmUoJC5zZXREZXNjKHt9LCAndGhlbicsIHtnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhlbmFibGVUaGVuR290dGVuID0gdHJ1ZTtcbiAgICAgICAgICB9fSkpO1xuICAgICAgICB3b3JrcyA9IHRoZW5hYmxlVGhlbkdvdHRlbjtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB3b3JrcyA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gd29ya3M7XG4gIH0oKTtcbiAgdmFyIHNhbWVDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICBpZiAoTElCUkFSWSAmJiBhID09PSBQICYmIGIgPT09IFdyYXBwZXIpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gc2FtZShhLCBiKTtcbiAgfTtcbiAgdmFyIGdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oQykge1xuICAgIHZhciBTID0gYW5PYmplY3QoQylbU1BFQ0lFU107XG4gICAgcmV0dXJuIFMgIT0gdW5kZWZpbmVkID8gUyA6IEM7XG4gIH07XG4gIHZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24oaXQpIHtcbiAgICB2YXIgdGhlbjtcbiAgICByZXR1cm4gaXNPYmplY3QoaXQpICYmIHR5cGVvZih0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbiAgfTtcbiAgdmFyIFByb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24oQykge1xuICAgIHZhciByZXNvbHZlLFxuICAgICAgICByZWplY3Q7XG4gICAgdGhpcy5wcm9taXNlID0gbmV3IEMoZnVuY3Rpb24oJCRyZXNvbHZlLCAkJHJlamVjdCkge1xuICAgICAgaWYgKHJlc29sdmUgIT09IHVuZGVmaW5lZCB8fCByZWplY3QgIT09IHVuZGVmaW5lZClcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuICAgICAgcmVzb2x2ZSA9ICQkcmVzb2x2ZTtcbiAgICAgIHJlamVjdCA9ICQkcmVqZWN0O1xuICAgIH0pO1xuICAgIHRoaXMucmVzb2x2ZSA9IGFGdW5jdGlvbihyZXNvbHZlKSwgdGhpcy5yZWplY3QgPSBhRnVuY3Rpb24ocmVqZWN0KTtcbiAgfTtcbiAgdmFyIHBlcmZvcm0gPSBmdW5jdGlvbihleGVjKSB7XG4gICAgdHJ5IHtcbiAgICAgIGV4ZWMoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4ge2Vycm9yOiBlfTtcbiAgICB9XG4gIH07XG4gIHZhciBub3RpZnkgPSBmdW5jdGlvbihyZWNvcmQsIGlzUmVqZWN0KSB7XG4gICAgaWYgKHJlY29yZC5uKVxuICAgICAgcmV0dXJuO1xuICAgIHJlY29yZC5uID0gdHJ1ZTtcbiAgICB2YXIgY2hhaW4gPSByZWNvcmQuYztcbiAgICBhc2FwKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZhbHVlID0gcmVjb3JkLnYsXG4gICAgICAgICAgb2sgPSByZWNvcmQucyA9PSAxLFxuICAgICAgICAgIGkgPSAwO1xuICAgICAgdmFyIHJ1biA9IGZ1bmN0aW9uKHJlYWN0aW9uKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gb2sgPyByZWFjdGlvbi5vayA6IHJlYWN0aW9uLmZhaWwsXG4gICAgICAgICAgICByZXNvbHZlID0gcmVhY3Rpb24ucmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdCA9IHJlYWN0aW9uLnJlamVjdCxcbiAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgIHRoZW47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGlmICghb2spXG4gICAgICAgICAgICAgIHJlY29yZC5oID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIgPT09IHRydWUgPyB2YWx1ZSA6IGhhbmRsZXIodmFsdWUpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSkge1xuICAgICAgICAgICAgICByZWplY3QoVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGVuID0gaXNUaGVuYWJsZShyZXN1bHQpKSB7XG4gICAgICAgICAgICAgIHRoZW4uY2FsbChyZXN1bHQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgcmVqZWN0KHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHdoaWxlIChjaGFpbi5sZW5ndGggPiBpKVxuICAgICAgICBydW4oY2hhaW5baSsrXSk7XG4gICAgICBjaGFpbi5sZW5ndGggPSAwO1xuICAgICAgcmVjb3JkLm4gPSBmYWxzZTtcbiAgICAgIGlmIChpc1JlamVjdClcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcHJvbWlzZSA9IHJlY29yZC5wLFxuICAgICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgICBjb25zb2xlO1xuICAgICAgICAgIGlmIChpc1VuaGFuZGxlZChwcm9taXNlKSkge1xuICAgICAgICAgICAgaWYgKGlzTm9kZSkge1xuICAgICAgICAgICAgICBwcm9jZXNzLmVtaXQoJ3VuaGFuZGxlZFJlamVjdGlvbicsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFuZGxlciA9IGdsb2JhbC5vbnVuaGFuZGxlZHJlamVjdGlvbikge1xuICAgICAgICAgICAgICBoYW5kbGVyKHtcbiAgICAgICAgICAgICAgICBwcm9taXNlOiBwcm9taXNlLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogdmFsdWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKChjb25zb2xlID0gZ2xvYmFsLmNvbnNvbGUpICYmIGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uJywgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZWNvcmQuYSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSwgMSk7XG4gICAgfSk7XG4gIH07XG4gIHZhciBpc1VuaGFuZGxlZCA9IGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICB2YXIgcmVjb3JkID0gcHJvbWlzZS5fZCxcbiAgICAgICAgY2hhaW4gPSByZWNvcmQuYSB8fCByZWNvcmQuYyxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIHJlYWN0aW9uO1xuICAgIGlmIChyZWNvcmQuaClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB3aGlsZSAoY2hhaW4ubGVuZ3RoID4gaSkge1xuICAgICAgcmVhY3Rpb24gPSBjaGFpbltpKytdO1xuICAgICAgaWYgKHJlYWN0aW9uLmZhaWwgfHwgIWlzVW5oYW5kbGVkKHJlYWN0aW9uLnByb21pc2UpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICB2YXIgJHJlamVjdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHJlY29yZCA9IHRoaXM7XG4gICAgaWYgKHJlY29yZC5kKVxuICAgICAgcmV0dXJuO1xuICAgIHJlY29yZC5kID0gdHJ1ZTtcbiAgICByZWNvcmQgPSByZWNvcmQuciB8fCByZWNvcmQ7XG4gICAgcmVjb3JkLnYgPSB2YWx1ZTtcbiAgICByZWNvcmQucyA9IDI7XG4gICAgcmVjb3JkLmEgPSByZWNvcmQuYy5zbGljZSgpO1xuICAgIG5vdGlmeShyZWNvcmQsIHRydWUpO1xuICB9O1xuICB2YXIgJHJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZWNvcmQgPSB0aGlzLFxuICAgICAgICB0aGVuO1xuICAgIGlmIChyZWNvcmQuZClcbiAgICAgIHJldHVybjtcbiAgICByZWNvcmQuZCA9IHRydWU7XG4gICAgcmVjb3JkID0gcmVjb3JkLnIgfHwgcmVjb3JkO1xuICAgIHRyeSB7XG4gICAgICBpZiAocmVjb3JkLnAgPT09IHZhbHVlKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTtcbiAgICAgIGlmICh0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgYXNhcChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgd3JhcHBlciA9IHtcbiAgICAgICAgICAgIHI6IHJlY29yZCxcbiAgICAgICAgICAgIGQ6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBjdHgoJHJlc29sdmUsIHdyYXBwZXIsIDEpLCBjdHgoJHJlamVjdCwgd3JhcHBlciwgMSkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRyZWplY3QuY2FsbCh3cmFwcGVyLCBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVjb3JkLnYgPSB2YWx1ZTtcbiAgICAgICAgcmVjb3JkLnMgPSAxO1xuICAgICAgICBub3RpZnkocmVjb3JkLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgJHJlamVjdC5jYWxsKHtcbiAgICAgICAgcjogcmVjb3JkLFxuICAgICAgICBkOiBmYWxzZVxuICAgICAgfSwgZSk7XG4gICAgfVxuICB9O1xuICBpZiAoIVVTRV9OQVRJVkUpIHtcbiAgICBQID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgICAgYUZ1bmN0aW9uKGV4ZWN1dG9yKTtcbiAgICAgIHZhciByZWNvcmQgPSB0aGlzLl9kID0ge1xuICAgICAgICBwOiBzdHJpY3ROZXcodGhpcywgUCwgUFJPTUlTRSksXG4gICAgICAgIGM6IFtdLFxuICAgICAgICBhOiB1bmRlZmluZWQsXG4gICAgICAgIHM6IDAsXG4gICAgICAgIGQ6IGZhbHNlLFxuICAgICAgICB2OiB1bmRlZmluZWQsXG4gICAgICAgIGg6IGZhbHNlLFxuICAgICAgICBuOiBmYWxzZVxuICAgICAgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGV4ZWN1dG9yKGN0eCgkcmVzb2x2ZSwgcmVjb3JkLCAxKSwgY3R4KCRyZWplY3QsIHJlY29yZCwgMSkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICRyZWplY3QuY2FsbChyZWNvcmQsIGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXF1aXJlKCcuLyQucmVkZWZpbmUtYWxsJykoUC5wcm90b3R5cGUsIHtcbiAgICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgdmFyIHJlYWN0aW9uID0gbmV3IFByb21pc2VDYXBhYmlsaXR5KHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCBQKSksXG4gICAgICAgICAgICBwcm9taXNlID0gcmVhY3Rpb24ucHJvbWlzZSxcbiAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX2Q7XG4gICAgICAgIHJlYWN0aW9uLm9rID0gdHlwZW9mIG9uRnVsZmlsbGVkID09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IHRydWU7XG4gICAgICAgIHJlYWN0aW9uLmZhaWwgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICYmIG9uUmVqZWN0ZWQ7XG4gICAgICAgIHJlY29yZC5jLnB1c2gocmVhY3Rpb24pO1xuICAgICAgICBpZiAocmVjb3JkLmEpXG4gICAgICAgICAgcmVjb3JkLmEucHVzaChyZWFjdGlvbik7XG4gICAgICAgIGlmIChyZWNvcmQucylcbiAgICAgICAgICBub3RpZnkocmVjb3JkLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfSxcbiAgICAgICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIG9uUmVqZWN0ZWQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gICRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHtQcm9taXNlOiBQfSk7XG4gIHJlcXVpcmUoJy4vJC5zZXQtdG8tc3RyaW5nLXRhZycpKFAsIFBST01JU0UpO1xuICByZXF1aXJlKCcuLyQuc2V0LXNwZWNpZXMnKShQUk9NSVNFKTtcbiAgV3JhcHBlciA9IHJlcXVpcmUoJy4vJC5jb3JlJylbUFJPTUlTRV07XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIFBST01JU0UsIHtyZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKSB7XG4gICAgICB2YXIgY2FwYWJpbGl0eSA9IG5ldyBQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKSxcbiAgICAgICAgICAkJHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgICAgJCRyZWplY3Qocik7XG4gICAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICAgIH19KTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgdGVzdFJlc29sdmUodHJ1ZSkpLCBQUk9NSVNFLCB7cmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KSB7XG4gICAgICBpZiAoeCBpbnN0YW5jZW9mIFAgJiYgc2FtZUNvbnN0cnVjdG9yKHguY29uc3RydWN0b3IsIHRoaXMpKVxuICAgICAgICByZXR1cm4geDtcbiAgICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3IFByb21pc2VDYXBhYmlsaXR5KHRoaXMpLFxuICAgICAgICAgICQkcmVzb2x2ZSA9IGNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgICAgICQkcmVzb2x2ZSh4KTtcbiAgICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gICAgfX0pO1xuICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEoVVNFX05BVElWRSAmJiByZXF1aXJlKCcuLyQuaXRlci1kZXRlY3QnKShmdW5jdGlvbihpdGVyKSB7XG4gICAgUC5hbGwoaXRlcilbJ2NhdGNoJ10oZnVuY3Rpb24oKSB7fSk7XG4gIH0pKSwgUFJPTUlTRSwge1xuICAgIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgQyA9IGdldENvbnN0cnVjdG9yKHRoaXMpLFxuICAgICAgICAgIGNhcGFiaWxpdHkgPSBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoQyksXG4gICAgICAgICAgcmVzb2x2ZSA9IGNhcGFiaWxpdHkucmVzb2x2ZSxcbiAgICAgICAgICByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdCxcbiAgICAgICAgICB2YWx1ZXMgPSBbXTtcbiAgICAgIHZhciBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIHZhbHVlcy5wdXNoLCB2YWx1ZXMpO1xuICAgICAgICB2YXIgcmVtYWluaW5nID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICAgIHJlc3VsdHMgPSBBcnJheShyZW1haW5pbmcpO1xuICAgICAgICBpZiAocmVtYWluaW5nKVxuICAgICAgICAgICQuZWFjaC5jYWxsKHZhbHVlcywgZnVuY3Rpb24ocHJvbWlzZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIGFscmVhZHlDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICByZXN1bHRzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gICAgICB9KTtcbiAgICAgIGlmIChhYnJ1cHQpXG4gICAgICAgIHJlamVjdChhYnJ1cHQuZXJyb3IpO1xuICAgICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgICB9LFxuICAgIHJhY2U6IGZ1bmN0aW9uIHJhY2UoaXRlcmFibGUpIHtcbiAgICAgIHZhciBDID0gZ2V0Q29uc3RydWN0b3IodGhpcyksXG4gICAgICAgICAgY2FwYWJpbGl0eSA9IG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKSxcbiAgICAgICAgICByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICAgIHZhciBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihjYXBhYmlsaXR5LnJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBpZiAoYWJydXB0KVxuICAgICAgICByZWplY3QoYWJydXB0LmVycm9yKTtcbiAgICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gICAgfVxuICB9KTtcbn0pKHJlcXVpcmUoJ3Byb2Nlc3MnKSk7XG4iLCIvKiAqLyBcbnZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7dmVyc2lvbjogJzEuMi42J307XG5pZih0eXBlb2YgX19lID09ICdudW1iZXInKV9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYiLCIvKiAqLyBcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5wcm9taXNlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvJC5jb3JlJykuUHJvbWlzZTtcbiIsIi8qICovIFxubW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2VcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCIvKiAqLyBcblwiZm9ybWF0IGNqc1wiO1xuLyoqIVxuICogYWpheCAtIHYyLjAuMVxuICogQWpheCBtb2R1bGUgaW4gVmFuaWxsYSBKU1xuICogaHR0cHM6Ly9naXRodWIuY29tL2ZkYWNpdWsvYWpheFxuXG4gKiBGcmkgTWF5IDA2IDIwMTYgMTA6MzA6MzQgR01ULTAzMDAgKEJSVClcbiAqIE1JVCAoYykgRmVybmFuZG8gRGFjaXVrXG4qL1xuIWZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImFqYXhcIix0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzPW1vZHVsZS5leHBvcnRzPXQoKTplLmFqYXg9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlKXt2YXIgcj1bXCJnZXRcIixcInBvc3RcIixcInB1dFwiLFwiZGVsZXRlXCJdO3JldHVybiBlPWV8fHt9LGUuYmFzZVVybD1lLmJhc2VVcmx8fFwiXCIsZS5tZXRob2QmJmUudXJsP24oZS5tZXRob2QsZS5iYXNlVXJsK2UudXJsLHQoZS5kYXRhKSxlKTpyLnJlZHVjZShmdW5jdGlvbihyLHUpe3JldHVybiByW3VdPWZ1bmN0aW9uKHIsbyl7cmV0dXJuIG4odSxlLmJhc2VVcmwrcix0KG8pLGUpfSxyfSx7fSl9ZnVuY3Rpb24gdChlKXtyZXR1cm4gZXx8bnVsbH1mdW5jdGlvbiBuKGUsdCxuLHUpe3ZhciBjPVtcInRoZW5cIixcImNhdGNoXCIsXCJhbHdheXNcIl0scz1jLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdPWZ1bmN0aW9uKG4pe3JldHVybiBlW3RdPW4sZX0sZX0se30pLGk9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBpLm9wZW4oZSx0LCEwKSxyKGksdS5oZWFkZXJzKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsbyhzLGkpLCExKSxpLnNlbmQoYShuKSksc31mdW5jdGlvbiByKGUsdCl7dD10fHx7fSx1KHQpfHwodFtcIkNvbnRlbnQtVHlwZVwiXT1cImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3Rbbl0mJmUuc2V0UmVxdWVzdEhlYWRlcihuLHRbbl0pfSl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuc29tZShmdW5jdGlvbihlKXtyZXR1cm5cImNvbnRlbnQtdHlwZVwiPT09ZS50b0xvd2VyQ2FzZSgpfSl9ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBmdW5jdGlvbiBuKCl7dC5yZWFkeVN0YXRlPT09dC5ET05FJiYodC5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLG4sITEpLGUuYWx3YXlzLmFwcGx5KGUsYyh0KSksdC5zdGF0dXM+PTIwMCYmdC5zdGF0dXM8MzAwP2UudGhlbi5hcHBseShlLGModCkpOmVbXCJjYXRjaFwiXS5hcHBseShlLGModCkpKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDt0cnl7dD1KU09OLnBhcnNlKGUucmVzcG9uc2VUZXh0KX1jYXRjaChuKXt0PWUucmVzcG9uc2VUZXh0fXJldHVyblt0LGVdfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIHMoZSk/aShlKTplfWZ1bmN0aW9uIHMoZSl7cmV0dXJuXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBpKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5yZWR1Y2UoZnVuY3Rpb24odCxuKXt2YXIgcj10P3QrXCImXCI6XCJcIjtyZXR1cm4gcitmKG4pK1wiPVwiK2YoZVtuXSl9LFwiXCIpfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKX1yZXR1cm4gZX0pOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5wbTpAZmRhY2l1ay9hamF4QDIuMC4xL2Rpc3QvYWpheC5taW4uanNcIik7IiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBhamF4IGZyb20gJ0BmZGFjaXVrL2FqYXgnXG5pbXBvcnQge1xuICBGRVRDSF9FVkVOVFMsXG4gIEVWRU5UU19TVUNDRVNTLFxuICBFVkVOVFNfRkFJTEVEXG59IGZyb20gJy4vaW5kZXgnXG5cbmV4cG9ydCBjb25zdCBmZXRjaEV2ZW50cyA9ICgpID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCB7IGlzRmV0Y2hpbmcgfSA9IGdldFN0YXRlKCkuZXZlbnRzXG4gICAgaWYgKGlzRmV0Y2hpbmcpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIH1cbiAgICBkaXNwYXRjaCh7IHR5cGU6IEZFVENIX0VWRU5UUyB9KVxuICAgIGFqYXgoKS5nZXQoJ2RhdGEvZXZlbnRzLmpzb24nKS50aGVuKChldmVudHMpID0+IHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogRVZFTlRTX1NVQ0NFU1MsXG4gICAgICAgIHBheWxvYWQ6IGV2ZW50c1xuICAgICAgfSlcbiAgICB9KVxuICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IEVWRU5UU19GQUlMRUQgfSlcbiAgICB9KVxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxuZXhwb3J0IGNvbnN0IEZFVENIX0VWRU5UUyA9ICdGRVRDSF9FVkVOVFMnXG5leHBvcnQgY29uc3QgRVZFTlRTX1NVQ0NFU1MgPSAnRVZFTlRTX1NVQ0NFU1MnXG5leHBvcnQgY29uc3QgRVZFTlRTX0ZBSUxFRCA9ICdFVkVOVFNfRkFJTEVEJ1xuXG5leHBvcnQgeyBmZXRjaEV2ZW50cyB9IGZyb20gJy4vZXZlbnRzJ1xuIiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCB7XG4gIEZFVENIX0VWRU5UUyxcbiAgRVZFTlRTX1NVQ0NFU1MsXG4gIEVWRU5UU19GQUlMRURcbn0gZnJvbSAnLi4vYWN0aW9ucy9pbmRleCdcblxuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICBldmVudHM6IFt7XG4gICAgdGl0bGU6ICcuLi4nLFxuICAgIGRhdGU6IHsgZGF5OiAwLCBtb250aDogJycsIHllYXI6IDAgfSxcbiAgICBpbWFnZTogJydcbiAgfSwge1xuICAgIHRpdGxlOiAnLi4uJyxcbiAgICBkYXRlOiB7IGRheTogMCwgbW9udGg6ICcnLCB5ZWFyOiAwIH1cbiAgfSwge1xuICAgIHRpdGxlOiAnLi4uJyxcbiAgICBkYXRlOiB7IGRheTogMCwgbW9udGg6ICcnLCB5ZWFyOiAwIH1cbiAgfSwge1xuICAgIHRpdGxlOiAnLi4uJyxcbiAgICBkYXRlOiB7IGRheTogMCwgbW9udGg6ICcnLCB5ZWFyOiAwIH1cbiAgfSwge1xuICAgIHRpdGxlOiAnLi4uJyxcbiAgICBkYXRlOiB7IGRheTogMCwgbW9udGg6ICcnLCB5ZWFyOiAwIH1cbiAgfV0sXG4gIGlzRmV0Y2hpbmc6IGZhbHNlXG59XG5cbmNvbnN0IGV2ZW50cyA9IChzdGF0ZSA9IGluaXRpYWxTdGF0ZSwgYWN0aW9uKSA9PiB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEZFVENIX0VWRU5UUzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBpc0ZldGNoaW5nOiB0cnVlXG4gICAgICB9XG5cbiAgICBjYXNlIEVWRU5UU19TVUNDRVNTOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGV2ZW50czogWy4uLmFjdGlvbi5wYXlsb2FkXSxcbiAgICAgICAgaXNGZXRjaGluZzogZmFsc2VcbiAgICAgIH1cblxuICAgIGNhc2UgRVZFTlRTX0ZBSUxFRDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBpc0ZldGNoaW5nOiBmYWxzZVxuICAgICAgfVxuICB9XG4gIHJldHVybiBzdGF0ZVxufVxuXG5leHBvcnQgZGVmYXVsdCBldmVudHNcbiIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgZXZlbnRzIGZyb20gJy4vZXZlbnRzJ1xuXG5leHBvcnQgZGVmYXVsdCB7IGV2ZW50cyB9XG4iLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAncmVhY3QtZG9tJ1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCBBcHAgZnJvbSAnLi9jb250YWluZXJzL2FwcC9pbmRleCdcbmltcG9ydCBjb25maWd1cmVTdG9yZSBmcm9tICcuL3N0b3JlL2NvbmZpZ3VyZS1zdG9yZSdcbmltcG9ydCByZWR1Y2VycyBmcm9tICcuL3JlZHVjZXJzL2luZGV4J1xuXG5jb25zdCBzdG9yZSA9IGNvbmZpZ3VyZVN0b3JlKHsgcmVkdWNlcnMgfSlcblxucmVuZGVyKFxuICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgICA8QXBwIC8+XG4gIDwvUHJvdmlkZXI+LFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1qcz1cImFwcFwiXScpXG4pXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
